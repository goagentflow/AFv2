var ZM=Object.defineProperty;var ib=e=>{throw TypeError(e)};var eD=(e,t,n)=>t in e?ZM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>eD(e,typeof t!="symbol"?t+"":t,n),Yf=(e,t,n)=>t.has(e)||ib("Cannot "+n);var z=(e,t,n)=>(Yf(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?ib("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),we=(e,t,n,r)=>(Yf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ot=(e,t,n)=>(Yf(e,t,"access private method"),n);var lu=(e,t,n,r)=>({set _(s){we(e,t,s,n)},get _(){return z(e,t,r)}});function tD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var rk={exports:{}},Uh={},sk={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.element"),rD=Symbol.for("react.portal"),sD=Symbol.for("react.fragment"),iD=Symbol.for("react.strict_mode"),oD=Symbol.for("react.profiler"),aD=Symbol.for("react.provider"),lD=Symbol.for("react.context"),cD=Symbol.for("react.forward_ref"),uD=Symbol.for("react.suspense"),dD=Symbol.for("react.memo"),hD=Symbol.for("react.lazy"),ab=Symbol.iterator;function fD(e){return e===null||typeof e!="object"?null:(e=ab&&e[ab]||e["@@iterator"],typeof e=="function"?e:null)}var ik={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ok=Object.assign,ak={};function Ha(e,t,n){this.props=e,this.context=t,this.refs=ak,this.updater=n||ik}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ha.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lk(){}lk.prototype=Ha.prototype;function cy(e,t,n){this.props=e,this.context=t,this.refs=ak,this.updater=n||ik}var uy=cy.prototype=new lk;uy.constructor=cy;ok(uy,Ha.prototype);uy.isPureReactComponent=!0;var lb=Array.isArray,ck=Object.prototype.hasOwnProperty,dy={current:null},uk={key:!0,ref:!0,__self:!0,__source:!0};function dk(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ck.call(t,r)&&!uk.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Vc,type:e,key:i,ref:o,props:s,_owner:dy.current}}function pD(e,t){return{$$typeof:Vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vc}function mD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cb=/\/+/g;function Qf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mD(""+e.key):t.toString(36)}function rd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vc:case rD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Qf(o,0):r,lb(s)?(n="",e!=null&&(n=e.replace(cb,"$&/")+"/"),rd(s,t,n,"",function(c){return c})):s!=null&&(hy(s)&&(s=pD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",lb(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Qf(i,a);o+=rd(i,t,n,l,s)}else if(l=fD(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Qf(i,a++),o+=rd(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cu(e,t,n){if(e==null)return e;var r=[],s=0;return rd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function gD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},sd={transition:null},vD={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:sd,ReactCurrentOwner:dy};function hk(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:cu,forEach:function(e,t,n){cu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cu(e,function(){t++}),t},toArray:function(e){return cu(e,function(t){return t})||[]},only:function(e){if(!hy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Ha;_e.Fragment=sD;_e.Profiler=oD;_e.PureComponent=cy;_e.StrictMode=iD;_e.Suspense=uD;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vD;_e.act=hk;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ok({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=dy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ck.call(t,l)&&!uk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vc,type:e.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(e){return e={$$typeof:lD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aD,_context:e},e.Consumer=e};_e.createElement=dk;_e.createFactory=function(e){var t=dk.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:cD,render:e}};_e.isValidElement=hy;_e.lazy=function(e){return{$$typeof:hD,_payload:{_status:-1,_result:e},_init:gD}};_e.memo=function(e,t){return{$$typeof:dD,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=sd.transition;sd.transition={};try{e()}finally{sd.transition=t}};_e.unstable_act=hk;_e.useCallback=function(e,t){return Qt.current.useCallback(e,t)};_e.useContext=function(e){return Qt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Qt.current.useEffect(e,t)};_e.useId=function(){return Qt.current.useId()};_e.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Qt.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};_e.useRef=function(e){return Qt.current.useRef(e)};_e.useState=function(e){return Qt.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return Qt.current.useTransition()};_e.version="18.3.1";sk.exports=_e;var v=sk.exports;const G=nk(v),fy=tD({__proto__:null,default:G},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD=v,wD=Symbol.for("react.element"),bD=Symbol.for("react.fragment"),xD=Object.prototype.hasOwnProperty,SD=yD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_D={key:!0,ref:!0,__self:!0,__source:!0};function fk(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)xD.call(t,r)&&!_D.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wD,type:e,key:i,ref:o,props:s,_owner:SD.current}}Uh.Fragment=bD;Uh.jsx=fk;Uh.jsxs=fk;rk.exports=Uh;var d=rk.exports,pk={exports:{}},Sn={},mk={exports:{}},gk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var Y=D.length;D.push(F);e:for(;0<Y;){var le=Y-1>>>1,ne=D[le];if(0<s(ne,F))D[le]=F,D[Y]=ne,Y=le;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],Y=D.pop();if(Y!==F){D[0]=Y;e:for(var le=0,ne=D.length,g=ne>>>1;le<g;){var k=2*(le+1)-1,_=D[k],A=k+1,P=D[A];if(0>s(_,Y))A<ne&&0>s(P,_)?(D[le]=P,D[A]=Y,le=A):(D[le]=_,D[k]=Y,le=k);else if(A<ne&&0>s(P,Y))D[le]=P,D[A]=Y,le=A;else break e}}return F}function s(D,F){var Y=D.sortIndex-F.sortIndex;return Y!==0?Y:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,m=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(c)}}function E(D){if(p=!1,S(D),!b)if(n(l)!==null)b=!0,J(T);else{var F=n(c);F!==null&&Q(E,F.startTime-D)}}function T(D,F){b=!1,p&&(p=!1,y(N),N=-1),m=!0;var Y=f;try{for(S(F),h=n(l);h!==null&&(!(h.expirationTime>F)||D&&!O());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var ne=le(h.expirationTime<=F);F=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),S(F)}else r(l);h=n(l)}if(h!==null)var g=!0;else{var k=n(c);k!==null&&Q(E,k.startTime-F),g=!1}return g}finally{h=null,f=Y,m=!1}}var C=!1,j=null,N=-1,I=5,R=-1;function O(){return!(e.unstable_now()-R<I)}function L(){if(j!==null){var D=e.unstable_now();R=D;var F=!0;try{F=j(!0,D)}finally{F?H():(C=!1,j=null)}}else C=!1}var H;if(typeof w=="function")H=function(){w(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=L,H=function(){B.postMessage(null)}}else H=function(){x(L,0)};function J(D){j=D,C||(C=!0,H())}function Q(D,F){N=x(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,J(T))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var Y=f;f=F;try{return D()}finally{f=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=f;f=D;try{return F()}finally{f=Y}},e.unstable_scheduleCallback=function(D,F,Y){var le=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Y+ne,D={id:u++,callback:F,priorityLevel:D,startTime:Y,expirationTime:ne,sortIndex:-1},Y>le?(D.sortIndex=Y,t(c,D),n(l)===null&&D===n(c)&&(p?(y(N),N=-1):p=!0,Q(E,Y-le))):(D.sortIndex=ne,t(l,D),b||m||(b=!0,J(T))),D},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(D){var F=f;return function(){var Y=f;f=F;try{return D.apply(this,arguments)}finally{f=Y}}}})(gk);mk.exports=gk;var ED=mk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD=v,bn=ED;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vk=new Set,Ql={};function po(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(Ql[e]=t,e=0;e<t.length;e++)vk.add(t[e])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Om=Object.prototype.hasOwnProperty,TD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ub={},db={};function CD(e){return Om.call(db,e)?!0:Om.call(ub,e)?!1:TD.test(e)?db[e]=!0:(ub[e]=!0,!1)}function jD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PD(e,t,n,r){if(t===null||typeof t>"u"||jD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var py=/[\-:]([a-z])/g;function my(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(py,my);At[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(py,my);At[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(py,my);At[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function gy(e,t,n,r){var s=At.hasOwnProperty(t)?At[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PD(t,n,s,r)&&(n=null),r||s===null?CD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ms=kD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uu=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),Rm=Symbol.for("react.profiler"),yk=Symbol.for("react.provider"),wk=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),Im=Symbol.for("react.suspense"),Mm=Symbol.for("react.suspense_list"),wy=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),bk=Symbol.for("react.offscreen"),hb=Symbol.iterator;function ll(e){return e===null||typeof e!="object"?null:(e=hb&&e[hb]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Xf;function xl(e){if(Xf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xf=t&&t[1]||""}return`
`+Xf+e}var Zf=!1;function ep(e,t){if(!e||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xl(e):""}function AD(e){switch(e.tag){case 5:return xl(e.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return e=ep(e.type,!1),e;case 11:return e=ep(e.type.render,!1),e;case 1:return e=ep(e.type,!0),e;default:return""}}function Dm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $o:return"Fragment";case Lo:return"Portal";case Rm:return"Profiler";case vy:return"StrictMode";case Im:return"Suspense";case Mm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wk:return(e.displayName||"Context")+".Consumer";case yk:return(e._context.displayName||"Context")+".Provider";case yy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wy:return t=e.displayName||null,t!==null?t:Dm(e.type)||"Memo";case As:t=e._payload,e=e._init;try{return Dm(e(t))}catch{}}return null}function ND(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(t);case 8:return t===vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OD(e){var t=xk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){e._valueTracker||(e._valueTracker=OD(e))}function Sk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lm(e,t){var n=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _k(e,t){t=t.checked,t!=null&&gy(e,"checked",t,!1)}function $m(e,t){_k(e,t);var n=ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fm(e,t.type,ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fm(e,t,n){(t!=="number"||Rd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sl=Array.isArray;function ta(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ri(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Sl(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ri(n)}}function Ek(e,t){var n=ri(t.value),r=ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hu,Tk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RD=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(e){RD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rl[t]=Rl[e]})});function Ck(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rl.hasOwnProperty(e)&&Rl[e]?(""+t).trim():t+"px"}function jk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ck(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ID=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bm(e,t){if(t){if(ID[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function zm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qm=null;function by(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wm=null,na=null,ra=null;function vb(e){if(e=zc(e)){if(typeof Wm!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Hh(t),Wm(e.stateNode,e.type,t))}}function Pk(e){na?ra?ra.push(e):ra=[e]:na=e}function Ak(){if(na){var e=na,t=ra;if(ra=na=null,vb(e),t)for(e=0;e<t.length;e++)vb(t[e])}}function Nk(e,t){return e(t)}function Ok(){}var tp=!1;function Rk(e,t,n){if(tp)return e(t,n);tp=!0;try{return Nk(e,t,n)}finally{tp=!1,(na!==null||ra!==null)&&(Ok(),Ak())}}function Zl(e,t){var n=e.stateNode;if(n===null)return null;var r=Hh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Hm=!1;if(as)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Hm=!1}function MD(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Il=!1,Id=null,Md=!1,Gm=null,DD={onError:function(e){Il=!0,Id=e}};function LD(e,t,n,r,s,i,o,a,l){Il=!1,Id=null,MD.apply(DD,arguments)}function $D(e,t,n,r,s,i,o,a,l){if(LD.apply(this,arguments),Il){if(Il){var c=Id;Il=!1,Id=null}else throw Error(K(198));Md||(Md=!0,Gm=c)}}function mo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ik(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yb(e){if(mo(e)!==e)throw Error(K(188))}function FD(e){var t=e.alternate;if(!t){if(t=mo(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yb(s),e;if(i===r)return yb(s),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function Mk(e){return e=FD(e),e!==null?Dk(e):null}function Dk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dk(e);if(t!==null)return t;e=e.sibling}return null}var Lk=bn.unstable_scheduleCallback,wb=bn.unstable_cancelCallback,VD=bn.unstable_shouldYield,UD=bn.unstable_requestPaint,ot=bn.unstable_now,BD=bn.unstable_getCurrentPriorityLevel,xy=bn.unstable_ImmediatePriority,$k=bn.unstable_UserBlockingPriority,Dd=bn.unstable_NormalPriority,zD=bn.unstable_LowPriority,Fk=bn.unstable_IdlePriority,Bh=null,Or=null;function qD(e){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Bh,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:GD,WD=Math.log,HD=Math.LN2;function GD(e){return e>>>=0,e===0?32:31-(WD(e)/HD|0)|0}var fu=64,pu=4194304;function _l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ld(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=_l(a):(i&=o,i!==0&&(r=_l(i)))}else o=n&~s,o!==0?r=_l(o):i!==0&&(r=_l(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dr(t),s=1<<n,r|=e[n],t&=~s;return r}function KD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-dr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=KD(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Km(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vk(){var e=fu;return fu<<=1,!(fu&4194240)&&(fu=64),e}function np(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function YD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-dr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Sy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ne=0;function Uk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bk,_y,zk,qk,Wk,Jm=!1,mu=[],Gs=null,Ks=null,Js=null,ec=new Map,tc=new Map,Is=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bb(e,t){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(t.pointerId)}}function ul(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=zc(t),t!==null&&_y(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function XD(e,t,n,r,s){switch(t){case"focusin":return Gs=ul(Gs,e,t,n,r,s),!0;case"dragenter":return Ks=ul(Ks,e,t,n,r,s),!0;case"mouseover":return Js=ul(Js,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ec.set(i,ul(ec.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,tc.set(i,ul(tc.get(i)||null,e,t,n,r,s)),!0}return!1}function Hk(e){var t=Ri(e.target);if(t!==null){var n=mo(t);if(n!==null){if(t=n.tag,t===13){if(t=Ik(n),t!==null){e.blockedOn=t,Wk(e.priority,function(){zk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function id(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ym(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qm=r,n.target.dispatchEvent(r),qm=null}else return t=zc(n),t!==null&&_y(t),e.blockedOn=n,!1;t.shift()}return!0}function xb(e,t,n){id(e)&&n.delete(t)}function ZD(){Jm=!1,Gs!==null&&id(Gs)&&(Gs=null),Ks!==null&&id(Ks)&&(Ks=null),Js!==null&&id(Js)&&(Js=null),ec.forEach(xb),tc.forEach(xb)}function dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Jm||(Jm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,ZD)))}function nc(e){function t(s){return dl(s,e)}if(0<mu.length){dl(mu[0],e);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gs!==null&&dl(Gs,e),Ks!==null&&dl(Ks,e),Js!==null&&dl(Js,e),ec.forEach(t),tc.forEach(t),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)Hk(n),n.blockedOn===null&&Is.shift()}var sa=ms.ReactCurrentBatchConfig,$d=!0;function eL(e,t,n,r){var s=Ne,i=sa.transition;sa.transition=null;try{Ne=1,Ey(e,t,n,r)}finally{Ne=s,sa.transition=i}}function tL(e,t,n,r){var s=Ne,i=sa.transition;sa.transition=null;try{Ne=4,Ey(e,t,n,r)}finally{Ne=s,sa.transition=i}}function Ey(e,t,n,r){if($d){var s=Ym(e,t,n,r);if(s===null)hp(e,t,r,Fd,n),bb(e,r);else if(XD(s,e,t,n,r))r.stopPropagation();else if(bb(e,r),t&4&&-1<QD.indexOf(e)){for(;s!==null;){var i=zc(s);if(i!==null&&Bk(i),i=Ym(e,t,n,r),i===null&&hp(e,t,r,Fd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hp(e,t,r,null,n)}}var Fd=null;function Ym(e,t,n,r){if(Fd=null,e=by(r),e=Ri(e),e!==null)if(t=mo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ik(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fd=e,null}function Gk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BD()){case xy:return 1;case $k:return 4;case Dd:case zD:return 16;case Fk:return 536870912;default:return 16}default:return 16}}var zs=null,ky=null,od=null;function Kk(){if(od)return od;var e,t=ky,n=t.length,r,s="value"in zs?zs.value:zs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return od=s.slice(e,1<r?1-r:void 0)}function ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gu(){return!0}function Sb(){return!1}function _n(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gu:Sb,this.isPropagationStopped=Sb,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=_n(Ga),Bc=Ze({},Ga,{view:0,detail:0}),nL=_n(Bc),rp,sp,hl,zh=Ze({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hl&&(hl&&e.type==="mousemove"?(rp=e.screenX-hl.screenX,sp=e.screenY-hl.screenY):sp=rp=0,hl=e),rp)},movementY:function(e){return"movementY"in e?e.movementY:sp}}),_b=_n(zh),rL=Ze({},zh,{dataTransfer:0}),sL=_n(rL),iL=Ze({},Bc,{relatedTarget:0}),ip=_n(iL),oL=Ze({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),aL=_n(oL),lL=Ze({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cL=_n(lL),uL=Ze({},Ga,{data:0}),Eb=_n(uL),dL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fL[e])?!!t[e]:!1}function Cy(){return pL}var mL=Ze({},Bc,{key:function(e){if(e.key){var t=dL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(e){return e.type==="keypress"?ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gL=_n(mL),vL=Ze({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kb=_n(vL),yL=Ze({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),wL=_n(yL),bL=Ze({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),xL=_n(bL),SL=Ze({},zh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_L=_n(SL),EL=[9,13,27,32],jy=as&&"CompositionEvent"in window,Ml=null;as&&"documentMode"in document&&(Ml=document.documentMode);var kL=as&&"TextEvent"in window&&!Ml,Jk=as&&(!jy||Ml&&8<Ml&&11>=Ml),Tb=" ",Cb=!1;function Yk(e,t){switch(e){case"keyup":return EL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fo=!1;function TL(e,t){switch(e){case"compositionend":return Qk(t);case"keypress":return t.which!==32?null:(Cb=!0,Tb);case"textInput":return e=t.data,e===Tb&&Cb?null:e;default:return null}}function CL(e,t){if(Fo)return e==="compositionend"||!jy&&Yk(e,t)?(e=Kk(),od=ky=zs=null,Fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jk&&t.locale!=="ko"?null:t.data;default:return null}}var jL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jL[e.type]:t==="textarea"}function Xk(e,t,n,r){Pk(r),t=Vd(t,"onChange"),0<t.length&&(n=new Ty("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dl=null,rc=null;function PL(e){cT(e,0)}function qh(e){var t=Bo(e);if(Sk(t))return e}function AL(e,t){if(e==="change")return t}var Zk=!1;if(as){var op;if(as){var ap="oninput"in document;if(!ap){var Pb=document.createElement("div");Pb.setAttribute("oninput","return;"),ap=typeof Pb.oninput=="function"}op=ap}else op=!1;Zk=op&&(!document.documentMode||9<document.documentMode)}function Ab(){Dl&&(Dl.detachEvent("onpropertychange",eT),rc=Dl=null)}function eT(e){if(e.propertyName==="value"&&qh(rc)){var t=[];Xk(t,rc,e,by(e)),Rk(PL,t)}}function NL(e,t,n){e==="focusin"?(Ab(),Dl=t,rc=n,Dl.attachEvent("onpropertychange",eT)):e==="focusout"&&Ab()}function OL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qh(rc)}function RL(e,t){if(e==="click")return qh(t)}function IL(e,t){if(e==="input"||e==="change")return qh(t)}function ML(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:ML;function sc(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Om.call(t,s)||!mr(e[s],t[s]))return!1}return!0}function Nb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ob(e,t){var n=Nb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nb(n)}}function tT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nT(){for(var e=window,t=Rd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rd(e.document)}return t}function Py(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DL(e){var t=nT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tT(n.ownerDocument.documentElement,n)){if(r!==null&&Py(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ob(n,i);var o=Ob(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LL=as&&"documentMode"in document&&11>=document.documentMode,Vo=null,Qm=null,Ll=null,Xm=!1;function Rb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||Vo==null||Vo!==Rd(r)||(r=Vo,"selectionStart"in r&&Py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&sc(Ll,r)||(Ll=r,r=Vd(Qm,"onSelect"),0<r.length&&(t=new Ty("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vo)))}function vu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Uo={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},lp={},rT={};as&&(rT=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Wh(e){if(lp[e])return lp[e];if(!Uo[e])return e;var t=Uo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rT)return lp[e]=t[n];return e}var sT=Wh("animationend"),iT=Wh("animationiteration"),oT=Wh("animationstart"),aT=Wh("transitionend"),lT=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(e,t){lT.set(e,t),po(t,[e])}for(var cp=0;cp<Ib.length;cp++){var up=Ib[cp],$L=up.toLowerCase(),FL=up[0].toUpperCase()+up.slice(1);di($L,"on"+FL)}di(sT,"onAnimationEnd");di(iT,"onAnimationIteration");di(oT,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(aT,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VL=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function Mb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$D(r,t,void 0,e),e.currentTarget=null}function cT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Mb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Mb(s,a,c),i=l}}}if(Md)throw e=Gm,Md=!1,Gm=null,e}function Be(e,t){var n=t[rg];n===void 0&&(n=t[rg]=new Set);var r=e+"__bubble";n.has(r)||(uT(t,e,2,!1),n.add(r))}function dp(e,t,n){var r=0;t&&(r|=4),uT(n,e,r,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function ic(e){if(!e[yu]){e[yu]=!0,vk.forEach(function(n){n!=="selectionchange"&&(VL.has(n)||dp(n,!1,e),dp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,dp("selectionchange",!1,t))}}function uT(e,t,n,r){switch(Gk(t)){case 1:var s=eL;break;case 4:s=tL;break;default:s=Ey}n=s.bind(null,t,n,e),s=void 0,!Hm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function hp(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ri(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Rk(function(){var c=i,u=by(n),h=[];e:{var f=lT.get(e);if(f!==void 0){var m=Ty,b=e;switch(e){case"keypress":if(ad(n)===0)break e;case"keydown":case"keyup":m=gL;break;case"focusin":b="focus",m=ip;break;case"focusout":b="blur",m=ip;break;case"beforeblur":case"afterblur":m=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wL;break;case sT:case iT:case oT:m=aL;break;case aT:m=xL;break;case"scroll":m=nL;break;case"wheel":m=_L;break;case"copy":case"cut":case"paste":m=cL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kb}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=c,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=Zl(w,y),E!=null&&p.push(oc(w,E,S)))),x)break;w=w.return}0<p.length&&(f=new m(f,b,null,n,u),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==qm&&(b=n.relatedTarget||n.fromElement)&&(Ri(b)||b[ls]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?Ri(b):null,b!==null&&(x=mo(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(p=_b,E="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=kb,E="onPointerLeave",y="onPointerEnter",w="pointer"),x=m==null?f:Bo(m),S=b==null?f:Bo(b),f=new p(E,w+"leave",m,n,u),f.target=x,f.relatedTarget=S,E=null,Ri(u)===c&&(p=new p(y,w+"enter",b,n,u),p.target=S,p.relatedTarget=x,E=p),x=E,m&&b)t:{for(p=m,y=b,w=0,S=p;S;S=_o(S))w++;for(S=0,E=y;E;E=_o(E))S++;for(;0<w-S;)p=_o(p),w--;for(;0<S-w;)y=_o(y),S--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=_o(p),y=_o(y)}p=null}else p=null;m!==null&&Db(h,f,m,p,!1),b!==null&&x!==null&&Db(h,x,b,p,!0)}}e:{if(f=c?Bo(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=AL;else if(jb(f))if(Zk)T=IL;else{T=OL;var C=NL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=RL);if(T&&(T=T(e,c))){Xk(h,T,n,u);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Fm(f,"number",f.value)}switch(C=c?Bo(c):window,e){case"focusin":(jb(C)||C.contentEditable==="true")&&(Vo=C,Qm=c,Ll=null);break;case"focusout":Ll=Qm=Vo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Rb(h,n,u);break;case"selectionchange":if(LL)break;case"keydown":case"keyup":Rb(h,n,u)}var j;if(jy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fo?Yk(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Jk&&n.locale!=="ko"&&(Fo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fo&&(j=Kk()):(zs=u,ky="value"in zs?zs.value:zs.textContent,Fo=!0)),C=Vd(c,N),0<C.length&&(N=new Eb(N,e,null,n,u),h.push({event:N,listeners:C}),j?N.data=j:(j=Qk(n),j!==null&&(N.data=j)))),(j=kL?TL(e,n):CL(e,n))&&(c=Vd(c,"onBeforeInput"),0<c.length&&(u=new Eb("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=j))}cT(h,t)})}function oc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zl(e,n),i!=null&&r.unshift(oc(e,i,s)),i=Zl(e,t),i!=null&&r.push(oc(e,i,s))),e=e.return}return r}function _o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Db(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Zl(n,i),l!=null&&o.unshift(oc(n,l,a))):s||(l=Zl(n,i),l!=null&&o.push(oc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var UL=/\r\n?/g,BL=/\u0000|\uFFFD/g;function Lb(e){return(typeof e=="string"?e:""+e).replace(UL,`
`).replace(BL,"")}function wu(e,t,n){if(t=Lb(t),Lb(e)!==t&&n)throw Error(K(425))}function Ud(){}var Zm=null,eg=null;function tg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ng=typeof setTimeout=="function"?setTimeout:void 0,zL=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,qL=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(e){return $b.resolve(null).then(e).catch(WL)}:ng;function WL(e){setTimeout(function(){throw e})}function fp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),nc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);nc(t)}function Ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Ka,ac="__reactProps$"+Ka,ls="__reactContainer$"+Ka,rg="__reactEvents$"+Ka,HL="__reactListeners$"+Ka,GL="__reactHandles$"+Ka;function Ri(e){var t=e[Pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ls]||n[Pr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fb(e);e!==null;){if(n=e[Pr])return n;e=Fb(e)}return t}e=n,n=e.parentNode}return null}function zc(e){return e=e[Pr]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Hh(e){return e[ac]||null}var sg=[],zo=-1;function hi(e){return{current:e}}function ze(e){0>zo||(e.current=sg[zo],sg[zo]=null,zo--)}function Fe(e,t){zo++,sg[zo]=e.current,e.current=t}var si={},Vt=hi(si),sn=hi(!1),eo=si;function Ta(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function on(e){return e=e.childContextTypes,e!=null}function Bd(){ze(sn),ze(Vt)}function Vb(e,t,n){if(Vt.current!==si)throw Error(K(168));Fe(Vt,t),Fe(sn,n)}function dT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,ND(e)||"Unknown",s));return Ze({},n,r)}function zd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,eo=Vt.current,Fe(Vt,e),Fe(sn,sn.current),!0}function Ub(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=dT(e,t,eo),r.__reactInternalMemoizedMergedChildContext=e,ze(sn),ze(Vt),Fe(Vt,e)):ze(sn),Fe(sn,n)}var Xr=null,Gh=!1,pp=!1;function hT(e){Xr===null?Xr=[e]:Xr.push(e)}function KL(e){Gh=!0,hT(e)}function fi(){if(!pp&&Xr!==null){pp=!0;var e=0,t=Ne;try{var n=Xr;for(Ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xr=null,Gh=!1}catch(s){throw Xr!==null&&(Xr=Xr.slice(e+1)),Lk(xy,fi),s}finally{Ne=t,pp=!1}}return null}var qo=[],Wo=0,qd=null,Wd=0,jn=[],Pn=0,to=null,es=1,ts="";function Ci(e,t){qo[Wo++]=Wd,qo[Wo++]=qd,qd=e,Wd=t}function fT(e,t,n){jn[Pn++]=es,jn[Pn++]=ts,jn[Pn++]=to,to=e;var r=es;e=ts;var s=32-dr(r)-1;r&=~(1<<s),n+=1;var i=32-dr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,es=1<<32-dr(t)+s|n<<s|r,ts=i+e}else es=1<<i|n<<s|r,ts=e}function Ay(e){e.return!==null&&(Ci(e,1),fT(e,1,0))}function Ny(e){for(;e===qd;)qd=qo[--Wo],qo[Wo]=null,Wd=qo[--Wo],qo[Wo]=null;for(;e===to;)to=jn[--Pn],jn[Pn]=null,ts=jn[--Pn],jn[Pn]=null,es=jn[--Pn],jn[Pn]=null}var yn=null,gn=null,He=!1,lr=null;function pT(e,t){var n=Nn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yn=e,gn=Ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=to!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yn=e,gn=null,!0):!1;default:return!1}}function ig(e){return(e.mode&1)!==0&&(e.flags&128)===0}function og(e){if(He){var t=gn;if(t){var n=t;if(!Bb(e,t)){if(ig(e))throw Error(K(418));t=Ys(n.nextSibling);var r=yn;t&&Bb(e,t)?pT(r,n):(e.flags=e.flags&-4097|2,He=!1,yn=e)}}else{if(ig(e))throw Error(K(418));e.flags=e.flags&-4097|2,He=!1,yn=e}}}function zb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yn=e}function bu(e){if(e!==yn)return!1;if(!He)return zb(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tg(e.type,e.memoizedProps)),t&&(t=gn)){if(ig(e))throw mT(),Error(K(418));for(;t;)pT(e,t),t=Ys(t.nextSibling)}if(zb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gn=Ys(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=yn?Ys(e.stateNode.nextSibling):null;return!0}function mT(){for(var e=gn;e;)e=Ys(e.nextSibling)}function Ca(){gn=yn=null,He=!1}function Oy(e){lr===null?lr=[e]:lr.push(e)}var JL=ms.ReactCurrentBatchConfig;function fl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function xu(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qb(e){var t=e._init;return t(e._payload)}function gT(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ei(y,w),y.index=0,y.sibling=null,y}function i(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,E){return w===null||w.tag!==6?(w=xp(S,y.mode,E),w.return=y,w):(w=s(w,S),w.return=y,w)}function l(y,w,S,E){var T=S.type;return T===$o?u(y,w,S.props.children,E,S.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===As&&qb(T)===w.type)?(E=s(w,S.props),E.ref=fl(y,w,S),E.return=y,E):(E=pd(S.type,S.key,S.props,null,y.mode,E),E.ref=fl(y,w,S),E.return=y,E)}function c(y,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Sp(S,y.mode,E),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function u(y,w,S,E,T){return w===null||w.tag!==7?(w=Gi(S,y.mode,E,T),w.return=y,w):(w=s(w,S),w.return=y,w)}function h(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xp(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uu:return S=pd(w.type,w.key,w.props,null,y.mode,S),S.ref=fl(y,null,w),S.return=y,S;case Lo:return w=Sp(w,y.mode,S),w.return=y,w;case As:var E=w._init;return h(y,E(w._payload),S)}if(Sl(w)||ll(w))return w=Gi(w,y.mode,S,null),w.return=y,w;xu(y,w)}return null}function f(y,w,S,E){var T=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uu:return S.key===T?l(y,w,S,E):null;case Lo:return S.key===T?c(y,w,S,E):null;case As:return T=S._init,f(y,w,T(S._payload),E)}if(Sl(S)||ll(S))return T!==null?null:u(y,w,S,E,null);xu(y,S)}return null}function m(y,w,S,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,a(w,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case uu:return y=y.get(E.key===null?S:E.key)||null,l(w,y,E,T);case Lo:return y=y.get(E.key===null?S:E.key)||null,c(w,y,E,T);case As:var C=E._init;return m(y,w,S,C(E._payload),T)}if(Sl(E)||ll(E))return y=y.get(S)||null,u(w,y,E,T,null);xu(w,E)}return null}function b(y,w,S,E){for(var T=null,C=null,j=w,N=w=0,I=null;j!==null&&N<S.length;N++){j.index>N?(I=j,j=null):I=j.sibling;var R=f(y,j,S[N],E);if(R===null){j===null&&(j=I);break}e&&j&&R.alternate===null&&t(y,j),w=i(R,w,N),C===null?T=R:C.sibling=R,C=R,j=I}if(N===S.length)return n(y,j),He&&Ci(y,N),T;if(j===null){for(;N<S.length;N++)j=h(y,S[N],E),j!==null&&(w=i(j,w,N),C===null?T=j:C.sibling=j,C=j);return He&&Ci(y,N),T}for(j=r(y,j);N<S.length;N++)I=m(j,y,N,S[N],E),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?N:I.key),w=i(I,w,N),C===null?T=I:C.sibling=I,C=I);return e&&j.forEach(function(O){return t(y,O)}),He&&Ci(y,N),T}function p(y,w,S,E){var T=ll(S);if(typeof T!="function")throw Error(K(150));if(S=T.call(S),S==null)throw Error(K(151));for(var C=T=null,j=w,N=w=0,I=null,R=S.next();j!==null&&!R.done;N++,R=S.next()){j.index>N?(I=j,j=null):I=j.sibling;var O=f(y,j,R.value,E);if(O===null){j===null&&(j=I);break}e&&j&&O.alternate===null&&t(y,j),w=i(O,w,N),C===null?T=O:C.sibling=O,C=O,j=I}if(R.done)return n(y,j),He&&Ci(y,N),T;if(j===null){for(;!R.done;N++,R=S.next())R=h(y,R.value,E),R!==null&&(w=i(R,w,N),C===null?T=R:C.sibling=R,C=R);return He&&Ci(y,N),T}for(j=r(y,j);!R.done;N++,R=S.next())R=m(j,y,N,R.value,E),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?N:R.key),w=i(R,w,N),C===null?T=R:C.sibling=R,C=R);return e&&j.forEach(function(L){return t(y,L)}),He&&Ci(y,N),T}function x(y,w,S,E){if(typeof S=="object"&&S!==null&&S.type===$o&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case uu:e:{for(var T=S.key,C=w;C!==null;){if(C.key===T){if(T=S.type,T===$o){if(C.tag===7){n(y,C.sibling),w=s(C,S.props.children),w.return=y,y=w;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===As&&qb(T)===C.type){n(y,C.sibling),w=s(C,S.props),w.ref=fl(y,C,S),w.return=y,y=w;break e}n(y,C);break}else t(y,C);C=C.sibling}S.type===$o?(w=Gi(S.props.children,y.mode,E,S.key),w.return=y,y=w):(E=pd(S.type,S.key,S.props,null,y.mode,E),E.ref=fl(y,w,S),E.return=y,y=E)}return o(y);case Lo:e:{for(C=S.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Sp(S,y.mode,E),w.return=y,y=w}return o(y);case As:return C=S._init,x(y,w,C(S._payload),E)}if(Sl(S))return b(y,w,S,E);if(ll(S))return p(y,w,S,E);xu(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=xp(S,y.mode,E),w.return=y,y=w),o(y)):n(y,w)}return x}var ja=gT(!0),vT=gT(!1),Hd=hi(null),Gd=null,Ho=null,Ry=null;function Iy(){Ry=Ho=Gd=null}function My(e){var t=Hd.current;ze(Hd),e._currentValue=t}function ag(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ia(e,t){Gd=e,Ry=Ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rn=!0),e.firstContext=null)}function $n(e){var t=e._currentValue;if(Ry!==e)if(e={context:e,memoizedValue:t,next:null},Ho===null){if(Gd===null)throw Error(K(308));Ho=e,Gd.dependencies={lanes:0,firstContext:e}}else Ho=Ho.next=e;return t}var Ii=null;function Dy(e){Ii===null?Ii=[e]:Ii.push(e)}function yT(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dy(t)):(n.next=s.next,s.next=n),t.interleaved=n,cs(e,r)}function cs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ns=!1;function Ly(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,cs(e,n)}return s=r.interleaved,s===null?(t.next=t,Dy(r)):(t.next=s.next,s.next=t),r.interleaved=t,cs(e,n)}function ld(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sy(e,n)}}function Wb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kd(e,t,n,r){var s=e.updateQueue;Ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,p=a;switch(f=t,m=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){h=b.call(m,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,f=typeof b=="function"?b.call(m,h,f):b,f==null)break e;h=Ze({},h,f);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ro|=o,e.lanes=o,e.memoizedState=h}}function Hb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var qc={},Rr=hi(qc),lc=hi(qc),cc=hi(qc);function Mi(e){if(e===qc)throw Error(K(174));return e}function $y(e,t){switch(Fe(cc,t),Fe(lc,e),Fe(Rr,qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Um(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Um(t,e)}ze(Rr),Fe(Rr,t)}function Pa(){ze(Rr),ze(lc),ze(cc)}function bT(e){Mi(cc.current);var t=Mi(Rr.current),n=Um(t,e.type);t!==n&&(Fe(lc,e),Fe(Rr,n))}function Fy(e){lc.current===e&&(ze(Rr),ze(lc))}var Ye=hi(0);function Jd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mp=[];function Vy(){for(var e=0;e<mp.length;e++)mp[e]._workInProgressVersionPrimary=null;mp.length=0}var cd=ms.ReactCurrentDispatcher,gp=ms.ReactCurrentBatchConfig,no=0,Xe=null,mt=null,bt=null,Yd=!1,$l=!1,uc=0,YL=0;function Rt(){throw Error(K(321))}function Uy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function By(e,t,n,r,s,i){if(no=i,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cd.current=e===null||e.memoizedState===null?e2:t2,e=n(r,s),$l){i=0;do{if($l=!1,uc=0,25<=i)throw Error(K(301));i+=1,bt=mt=null,t.updateQueue=null,cd.current=n2,e=n(r,s)}while($l)}if(cd.current=Qd,t=mt!==null&&mt.next!==null,no=0,bt=mt=Xe=null,Yd=!1,t)throw Error(K(300));return e}function zy(){var e=uc!==0;return uc=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Xe.memoizedState=bt=e:bt=bt.next=e,bt}function Fn(){if(mt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=bt===null?Xe.memoizedState:bt.next;if(t!==null)bt=t,mt=e;else{if(e===null)throw Error(K(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},bt===null?Xe.memoizedState=bt=e:bt=bt.next=e}return bt}function dc(e,t){return typeof t=="function"?t(e):t}function vp(e){var t=Fn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((no&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xe.lanes|=u,ro|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,mr(r,t.memoizedState)||(rn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Xe.lanes|=i,ro|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yp(e){var t=Fn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);mr(i,t.memoizedState)||(rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xT(){}function ST(e,t){var n=Xe,r=Fn(),s=t(),i=!mr(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,qy(kT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,hc(9,ET.bind(null,n,r,s,t),void 0,null),St===null)throw Error(K(349));no&30||_T(n,t,s)}return s}function _T(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ET(e,t,n,r){t.value=n,t.getSnapshot=r,TT(t)&&CT(e)}function kT(e,t,n){return n(function(){TT(t)&&CT(e)})}function TT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch{return!0}}function CT(e){var t=cs(e,1);t!==null&&hr(t,e,1,-1)}function Gb(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:e},t.queue=e,e=e.dispatch=ZL.bind(null,Xe,e),[t.memoizedState,e]}function hc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jT(){return Fn().memoizedState}function ud(e,t,n,r){var s=Sr();Xe.flags|=e,s.memoizedState=hc(1|t,n,void 0,r===void 0?null:r)}function Kh(e,t,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&Uy(r,o.deps)){s.memoizedState=hc(t,n,i,r);return}}Xe.flags|=e,s.memoizedState=hc(1|t,n,i,r)}function Kb(e,t){return ud(8390656,8,e,t)}function qy(e,t){return Kh(2048,8,e,t)}function PT(e,t){return Kh(4,2,e,t)}function AT(e,t){return Kh(4,4,e,t)}function NT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OT(e,t,n){return n=n!=null?n.concat([e]):null,Kh(4,4,NT.bind(null,t,e),n)}function Wy(){}function RT(e,t){var n=Fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function IT(e,t){var n=Fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function MT(e,t,n){return no&21?(mr(n,t)||(n=Vk(),Xe.lanes|=n,ro|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rn=!0),e.memoizedState=n)}function QL(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var r=gp.transition;gp.transition={};try{e(!1),t()}finally{Ne=n,gp.transition=r}}function DT(){return Fn().memoizedState}function XL(e,t,n){var r=Zs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LT(e))$T(t,n);else if(n=yT(e,t,n,r),n!==null){var s=Yt();hr(n,e,r,s),FT(n,t,r)}}function ZL(e,t,n){var r=Zs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LT(e))$T(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mr(a,o)){var l=t.interleaved;l===null?(s.next=s,Dy(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=yT(e,t,s,r),n!==null&&(s=Yt(),hr(n,e,r,s),FT(n,t,r))}}function LT(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function $T(e,t){$l=Yd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sy(e,n)}}var Qd={readContext:$n,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},e2={readContext:$n,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:$n,useEffect:Kb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ud(4194308,4,NT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ud(4194308,4,e,t)},useInsertionEffect:function(e,t){return ud(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=XL.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:Gb,useDebugValue:Wy,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=Gb(!1),t=e[0];return e=QL.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,s=Sr();if(He){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),St===null)throw Error(K(349));no&30||_T(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Kb(kT.bind(null,r,i,e),[e]),r.flags|=2048,hc(9,ET.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Sr(),t=St.identifierPrefix;if(He){var n=ts,r=es;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t2={readContext:$n,useCallback:RT,useContext:$n,useEffect:qy,useImperativeHandle:OT,useInsertionEffect:PT,useLayoutEffect:AT,useMemo:IT,useReducer:vp,useRef:jT,useState:function(){return vp(dc)},useDebugValue:Wy,useDeferredValue:function(e){var t=Fn();return MT(t,mt.memoizedState,e)},useTransition:function(){var e=vp(dc)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:xT,useSyncExternalStore:ST,useId:DT,unstable_isNewReconciler:!1},n2={readContext:$n,useCallback:RT,useContext:$n,useEffect:qy,useImperativeHandle:OT,useInsertionEffect:PT,useLayoutEffect:AT,useMemo:IT,useReducer:yp,useRef:jT,useState:function(){return yp(dc)},useDebugValue:Wy,useDeferredValue:function(e){var t=Fn();return mt===null?t.memoizedState=e:MT(t,mt.memoizedState,e)},useTransition:function(){var e=yp(dc)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:xT,useSyncExternalStore:ST,useId:DT,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jh={isMounted:function(e){return(e=e._reactInternals)?mo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yt(),s=Zs(e),i=is(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qs(e,i,s),t!==null&&(hr(t,e,s,r),ld(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yt(),s=Zs(e),i=is(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qs(e,i,s),t!==null&&(hr(t,e,s,r),ld(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),r=Zs(e),s=is(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qs(e,s,r),t!==null&&(hr(t,e,r,n),ld(t,e,r))}};function Jb(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!sc(n,r)||!sc(s,i):!0}function VT(e,t,n){var r=!1,s=si,i=t.contextType;return typeof i=="object"&&i!==null?i=$n(i):(s=on(t)?eo:Vt.current,r=t.contextTypes,i=(r=r!=null)?Ta(e,s):si),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jh.enqueueReplaceState(t,t.state,null)}function cg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ly(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$n(i):(i=on(t)?eo:Vt.current,s.context=Ta(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Jh.enqueueReplaceState(s,s.state,null),Kd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Aa(e,t){try{var n="",r=t;do n+=AD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ug(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var r2=typeof WeakMap=="function"?WeakMap:Map;function UT(e,t,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zd||(Zd=!0,bg=r),ug(e,t)},n}function BT(e,t,n){n=is(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ug(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ug(e,t),typeof r!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new r2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=v2.bind(null,e,t,n),t.then(e,e))}function Xb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=is(-1,1),t.tag=2,Qs(n,t,1))),n.lanes|=1),e)}var s2=ms.ReactCurrentOwner,rn=!1;function qt(e,t,n,r){t.child=e===null?vT(t,null,n,r):ja(t,e.child,n,r)}function ex(e,t,n,r,s){n=n.render;var i=t.ref;return ia(t,s),r=By(e,t,n,r,i,s),n=zy(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,us(e,t,s)):(He&&n&&Ay(t),t.flags|=1,qt(e,t,r,s),t.child)}function tx(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Zy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,zT(e,t,i,r,s)):(e=pd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sc,n(o,r)&&e.ref===t.ref)return us(e,t,s)}return t.flags|=1,e=ei(i,r),e.ref=t.ref,e.return=t,t.child=e}function zT(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(sc(i,r)&&e.ref===t.ref)if(rn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(rn=!0);else return t.lanes=e.lanes,us(e,t,s)}return dg(e,t,n,r,s)}function qT(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ko,hn),hn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Ko,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fe(Ko,hn),hn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Fe(Ko,hn),hn|=r;return qt(e,t,s,n),t.child}function WT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dg(e,t,n,r,s){var i=on(n)?eo:Vt.current;return i=Ta(t,i),ia(t,s),n=By(e,t,n,r,i,s),r=zy(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,us(e,t,s)):(He&&r&&Ay(t),t.flags|=1,qt(e,t,n,s),t.child)}function nx(e,t,n,r,s){if(on(n)){var i=!0;zd(t)}else i=!1;if(ia(t,s),t.stateNode===null)dd(e,t),VT(t,n,r),cg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=$n(c):(c=on(n)?eo:Vt.current,c=Ta(t,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Yb(t,o,r,c),Ns=!1;var f=t.memoizedState;o.state=f,Kd(t,r,o,s),l=t.memoizedState,a!==r||f!==l||sn.current||Ns?(typeof u=="function"&&(lg(t,n,u,r),l=t.memoizedState),(a=Ns||Jb(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wT(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:tr(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=on(n)?eo:Vt.current,l=Ta(t,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Yb(t,o,r,l),Ns=!1,f=t.memoizedState,o.state=f,Kd(t,r,o,s);var b=t.memoizedState;a!==h||f!==b||sn.current||Ns?(typeof m=="function"&&(lg(t,n,m,r),b=t.memoizedState),(c=Ns||Jb(t,n,c,r,f,b,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return hg(e,t,n,r,i,s)}function hg(e,t,n,r,s,i){WT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ub(t,n,!1),us(e,t,i);r=t.stateNode,s2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ja(t,e.child,null,i),t.child=ja(t,null,a,i)):qt(e,t,a,i),t.memoizedState=r.state,s&&Ub(t,n,!0),t.child}function HT(e){var t=e.stateNode;t.pendingContext?Vb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vb(e,t.context,!1),$y(e,t.containerInfo)}function rx(e,t,n,r,s){return Ca(),Oy(s),t.flags|=256,qt(e,t,n,r),t.child}var fg={dehydrated:null,treeContext:null,retryLane:0};function pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function GT(e,t,n){var r=t.pendingProps,s=Ye.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Fe(Ye,s&1),e===null)return og(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xh(o,r,0,null),e=Gi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pg(n),t.memoizedState=fg,e):Hy(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return i2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ei(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ei(a,i):(i=Gi(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?pg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=fg,r}return i=e.child,e=i.sibling,r=ei(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hy(e,t){return t=Xh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Su(e,t,n,r){return r!==null&&Oy(r),ja(t,e.child,null,n),e=Hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=wp(Error(K(422))),Su(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Xh({mode:"visible",children:r.children},s,0,null),i=Gi(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ja(t,e.child,null,o),t.child.memoizedState=pg(o),t.memoizedState=fg,i);if(!(t.mode&1))return Su(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=wp(i,r,void 0),Su(e,t,o,r)}if(a=(o&e.childLanes)!==0,rn||a){if(r=St,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cs(e,s),hr(r,e,s,-1))}return Xy(),r=wp(Error(K(421))),Su(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=y2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gn=Ys(s.nextSibling),yn=t,He=!0,lr=null,e!==null&&(jn[Pn++]=es,jn[Pn++]=ts,jn[Pn++]=to,es=e.id,ts=e.overflow,to=t),t=Hy(t,r.children),t.flags|=4096,t)}function sx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ag(e.return,t,n)}function bp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function KT(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(qt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sx(e,n,t);else if(e.tag===19)sx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Jd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bp(t,!0,n,null,i);break;case"together":bp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function us(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=ei(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ei(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function o2(e,t,n){switch(t.tag){case 3:HT(t),Ca();break;case 5:bT(t);break;case 1:on(t.type)&&zd(t);break;case 4:$y(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Fe(Hd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?GT(e,t,n):(Fe(Ye,Ye.current&1),e=us(e,t,n),e!==null?e.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return KT(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,qT(e,t,n)}return us(e,t,n)}var JT,mg,YT,QT;JT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mg=function(){};YT=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Mi(Rr.current);var i=null;switch(n){case"input":s=Lm(e,s),r=Lm(e,r),i=[];break;case"select":s=Ze({},s,{value:void 0}),r=Ze({},r,{value:void 0}),i=[];break;case"textarea":s=Vm(e,s),r=Vm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ud)}Bm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ql.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};QT=function(e,t,n,r){n!==r&&(t.flags|=4)};function pl(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function a2(e,t,n){var r=t.pendingProps;switch(Ny(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return on(t.type)&&Bd(),It(t),null;case 3:return r=t.stateNode,Pa(),ze(sn),ze(Vt),Vy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(_g(lr),lr=null))),mg(e,t),It(t),null;case 5:Fy(t);var s=Mi(cc.current);if(n=t.type,e!==null&&t.stateNode!=null)YT(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return It(t),null}if(e=Mi(Rr.current),bu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pr]=t,r[ac]=i,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<El.length;s++)Be(El[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":fb(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":mb(r,i),Be("invalid",r)}Bm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wu(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wu(r.textContent,a,e),s=["children",""+a]):Ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":du(r),pb(r,i,!0);break;case"textarea":du(r),gb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ud)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pr]=t,e[ac]=r,JT(e,t,!1,!1),t.stateNode=e;e:{switch(o=zm(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<El.length;s++)Be(El[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":fb(e,r),s=Lm(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ze({},r,{value:void 0}),Be("invalid",e);break;case"textarea":mb(e,r),s=Vm(e,r),Be("invalid",e);break;default:s=r}Bm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jk(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tk(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xl(e,l):typeof l=="number"&&Xl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ql.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",e):l!=null&&gy(e,i,l,o))}switch(n){case"input":du(e),pb(e,r,!1);break;case"textarea":du(e),gb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ri(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ta(e,!!r.multiple,i,!1):r.defaultValue!=null&&ta(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)QT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Mi(cc.current),Mi(Rr.current),bu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pr]=t,(i=r.nodeValue!==n)&&(e=yn,e!==null))switch(e.tag){case 3:wu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=t,t.stateNode=r}return It(t),null;case 13:if(ze(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&gn!==null&&t.mode&1&&!(t.flags&128))mT(),Ca(),t.flags|=98560,i=!1;else if(i=bu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Pr]=t}else Ca(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),i=!1}else lr!==null&&(_g(lr),lr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?vt===0&&(vt=3):Xy())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return Pa(),mg(e,t),e===null&&ic(t.stateNode.containerInfo),It(t),null;case 10:return My(t.type._context),It(t),null;case 17:return on(t.type)&&Bd(),It(t),null;case 19:if(ze(Ye),i=t.memoizedState,i===null)return It(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)pl(i,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Jd(e),o!==null){for(t.flags|=128,pl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&ot()>Na&&(t.flags|=128,r=!0,pl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Jd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return It(t),null}else 2*ot()-i.renderingStartTime>Na&&n!==1073741824&&(t.flags|=128,r=!0,pl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ot(),t.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),t):(It(t),null);case 22:case 23:return Qy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hn&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function l2(e,t){switch(Ny(t),t.tag){case 1:return on(t.type)&&Bd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(),ze(sn),ze(Vt),Vy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fy(t),null;case 13:if(ze(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ye),null;case 4:return Pa(),null;case 10:return My(t.type._context),null;case 22:case 23:return Qy(),null;case 24:return null;default:return null}}var _u=!1,Dt=!1,c2=typeof WeakSet=="function"?WeakSet:Set,te=null;function Go(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(e,t,r)}else n.current=null}function gg(e,t,n){try{n()}catch(r){nt(e,t,r)}}var ix=!1;function u2(e,t){if(Zm=$d,e=nT(),Py(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eg={focusedElem:e,selectionRange:n},$d=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:tr(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(E){nt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return b=ix,ix=!1,b}function Fl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gg(t,n,i)}s=s.next}while(s!==r)}}function Yh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XT(e){var t=e.alternate;t!==null&&(e.alternate=null,XT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pr],delete t[ac],delete t[rg],delete t[HL],delete t[GL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ZT(e){return e.tag===5||e.tag===3||e.tag===4}function ox(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ZT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ud));else if(r!==4&&(e=e.child,e!==null))for(yg(e,t,n),e=e.sibling;e!==null;)yg(e,t,n),e=e.sibling}function wg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wg(e,t,n),e=e.sibling;e!==null;)wg(e,t,n),e=e.sibling}var Ct=null,or=!1;function xs(e,t,n){for(n=n.child;n!==null;)eC(e,t,n),n=n.sibling}function eC(e,t,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:Dt||Go(n,t);case 6:var r=Ct,s=or;Ct=null,xs(e,t,n),Ct=r,or=s,Ct!==null&&(or?(e=Ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(or?(e=Ct,n=n.stateNode,e.nodeType===8?fp(e.parentNode,n):e.nodeType===1&&fp(e,n),nc(e)):fp(Ct,n.stateNode));break;case 4:r=Ct,s=or,Ct=n.stateNode.containerInfo,or=!0,xs(e,t,n),Ct=r,or=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gg(n,t,o),s=s.next}while(s!==r)}xs(e,t,n);break;case 1:if(!Dt&&(Go(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,t,a)}xs(e,t,n);break;case 21:xs(e,t,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,xs(e,t,n),Dt=r):xs(e,t,n);break;default:xs(e,t,n)}}function ax(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new c2),t.forEach(function(r){var s=w2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,or=!1;break e;case 3:Ct=a.stateNode.containerInfo,or=!0;break e;case 4:Ct=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Ct===null)throw Error(K(160));eC(i,o,s),Ct=null,or=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){nt(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tC(t,e),t=t.sibling}function tC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),xr(e),r&4){try{Fl(3,e,e.return),Yh(3,e)}catch(p){nt(e,e.return,p)}try{Fl(5,e,e.return)}catch(p){nt(e,e.return,p)}}break;case 1:Gn(t,e),xr(e),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Gn(t,e),xr(e),r&512&&n!==null&&Go(n,n.return),e.flags&32){var s=e.stateNode;try{Xl(s,"")}catch(p){nt(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&_k(s,i),zm(a,o);var c=zm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?jk(s,h):u==="dangerouslySetInnerHTML"?Tk(s,h):u==="children"?Xl(s,h):gy(s,u,h,c)}switch(a){case"input":$m(s,i);break;case"textarea":Ek(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ta(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ta(s,!!i.multiple,i.defaultValue,!0):ta(s,!!i.multiple,i.multiple?[]:"",!1))}s[ac]=i}catch(p){nt(e,e.return,p)}}break;case 6:if(Gn(t,e),xr(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){nt(e,e.return,p)}}break;case 3:if(Gn(t,e),xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nc(t.containerInfo)}catch(p){nt(e,e.return,p)}break;case 4:Gn(t,e),xr(e);break;case 13:Gn(t,e),xr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jy=ot())),r&4&&ax(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Dt=(c=Dt)||u,Gn(t,e),Dt=c):Gn(t,e),xr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(te=e,u=e.child;u!==null;){for(h=te=u;te!==null;){switch(f=te,m=f.child,f.tag){case 0:case 11:case 14:case 15:Fl(4,f,f.return);break;case 1:Go(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){nt(r,n,p)}}break;case 5:Go(f,f.return);break;case 22:if(f.memoizedState!==null){cx(h);continue}}m!==null?(m.return=f,te=m):cx(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ck("display",o))}catch(p){nt(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){nt(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(t,e),xr(e),r&4&&ax(e);break;case 21:break;default:Gn(t,e),xr(e)}}function xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ZT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xl(s,""),r.flags&=-33);var i=ox(e);wg(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ox(e);yg(e,a,o);break;default:throw Error(K(161))}}catch(l){nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d2(e,t,n){te=e,nC(e)}function nC(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_u;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=_u;var c=Dt;if(_u=o,(Dt=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?ux(s):l!==null?(l.return=o,te=l):ux(s);for(;i!==null;)te=i,nC(i),i=i.sibling;te=s,_u=a,Dt=c}lx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):lx(e)}}function lx(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Yh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hb(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hb(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&nc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Dt||t.flags&512&&vg(t)}catch(f){nt(t,t.return,f)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function cx(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function ux(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yh(4,t)}catch(l){nt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){nt(t,s,l)}}var i=t.return;try{vg(t)}catch(l){nt(t,i,l)}break;case 5:var o=t.return;try{vg(t)}catch(l){nt(t,o,l)}}}catch(l){nt(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var h2=Math.ceil,Xd=ms.ReactCurrentDispatcher,Gy=ms.ReactCurrentOwner,Mn=ms.ReactCurrentBatchConfig,je=0,St=null,dt=null,Pt=0,hn=0,Ko=hi(0),vt=0,fc=null,ro=0,Qh=0,Ky=0,Vl=null,tn=null,Jy=0,Na=1/0,Kr=null,Zd=!1,bg=null,Xs=null,Eu=!1,qs=null,eh=0,Ul=0,xg=null,hd=-1,fd=0;function Yt(){return je&6?ot():hd!==-1?hd:hd=ot()}function Zs(e){return e.mode&1?je&2&&Pt!==0?Pt&-Pt:JL.transition!==null?(fd===0&&(fd=Vk()),fd):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Gk(e.type)),e):1}function hr(e,t,n,r){if(50<Ul)throw Ul=0,xg=null,Error(K(185));Uc(e,n,r),(!(je&2)||e!==St)&&(e===St&&(!(je&2)&&(Qh|=n),vt===4&&Ms(e,Pt)),an(e,r),n===1&&je===0&&!(t.mode&1)&&(Na=ot()+500,Gh&&fi()))}function an(e,t){var n=e.callbackNode;JD(e,t);var r=Ld(e,e===St?Pt:0);if(r===0)n!==null&&wb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wb(n),t===1)e.tag===0?KL(dx.bind(null,e)):hT(dx.bind(null,e)),qL(function(){!(je&6)&&fi()}),n=null;else{switch(Uk(r)){case 1:n=xy;break;case 4:n=$k;break;case 16:n=Dd;break;case 536870912:n=Fk;break;default:n=Dd}n=uC(n,rC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rC(e,t){if(hd=-1,fd=0,je&6)throw Error(K(327));var n=e.callbackNode;if(oa()&&e.callbackNode!==n)return null;var r=Ld(e,e===St?Pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=th(e,r);else{t=r;var s=je;je|=2;var i=iC();(St!==e||Pt!==t)&&(Kr=null,Na=ot()+500,Hi(e,t));do try{m2();break}catch(a){sC(e,a)}while(!0);Iy(),Xd.current=i,je=s,dt!==null?t=0:(St=null,Pt=0,t=vt)}if(t!==0){if(t===2&&(s=Km(e),s!==0&&(r=s,t=Sg(e,s))),t===1)throw n=fc,Hi(e,0),Ms(e,r),an(e,ot()),n;if(t===6)Ms(e,r);else{if(s=e.current.alternate,!(r&30)&&!f2(s)&&(t=th(e,r),t===2&&(i=Km(e),i!==0&&(r=i,t=Sg(e,i))),t===1))throw n=fc,Hi(e,0),Ms(e,r),an(e,ot()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:ji(e,tn,Kr);break;case 3:if(Ms(e,r),(r&130023424)===r&&(t=Jy+500-ot(),10<t)){if(Ld(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Yt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ng(ji.bind(null,e,tn,Kr),t);break}ji(e,tn,Kr);break;case 4:if(Ms(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-dr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h2(r/1960))-r,10<r){e.timeoutHandle=ng(ji.bind(null,e,tn,Kr),r);break}ji(e,tn,Kr);break;case 5:ji(e,tn,Kr);break;default:throw Error(K(329))}}}return an(e,ot()),e.callbackNode===n?rC.bind(null,e):null}function Sg(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(Hi(e,t).flags|=256),e=th(e,t),e!==2&&(t=tn,tn=n,t!==null&&_g(t)),e}function _g(e){tn===null?tn=e:tn.push.apply(tn,e)}function f2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(e,t){for(t&=~Ky,t&=~Qh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),r=1<<n;e[n]=-1,t&=~r}}function dx(e){if(je&6)throw Error(K(327));oa();var t=Ld(e,0);if(!(t&1))return an(e,ot()),null;var n=th(e,t);if(e.tag!==0&&n===2){var r=Km(e);r!==0&&(t=r,n=Sg(e,r))}if(n===1)throw n=fc,Hi(e,0),Ms(e,t),an(e,ot()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ji(e,tn,Kr),an(e,ot()),null}function Yy(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Na=ot()+500,Gh&&fi())}}function so(e){qs!==null&&qs.tag===0&&!(je&6)&&oa();var t=je;je|=1;var n=Mn.transition,r=Ne;try{if(Mn.transition=null,Ne=1,e)return e()}finally{Ne=r,Mn.transition=n,je=t,!(je&6)&&fi()}}function Qy(){hn=Ko.current,ze(Ko)}function Hi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zL(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Ny(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bd();break;case 3:Pa(),ze(sn),ze(Vt),Vy();break;case 5:Fy(r);break;case 4:Pa();break;case 13:ze(Ye);break;case 19:ze(Ye);break;case 10:My(r.type._context);break;case 22:case 23:Qy()}n=n.return}if(St=e,dt=e=ei(e.current,null),Pt=hn=t,vt=0,fc=null,Ky=Qh=ro=0,tn=Vl=null,Ii!==null){for(t=0;t<Ii.length;t++)if(n=Ii[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ii=null}return e}function sC(e,t){do{var n=dt;try{if(Iy(),cd.current=Qd,Yd){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yd=!1}if(no=0,bt=mt=Xe=null,$l=!1,uc=0,Gy.current=null,n===null||n.return===null){vt=1,fc=t,dt=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Xb(o);if(m!==null){m.flags&=-257,Zb(m,o,a,i,t),m.mode&1&&Qb(i,c,t),t=m,l=c;var b=t.updateQueue;if(b===null){var p=new Set;p.add(l),t.updateQueue=p}else b.add(l);break e}else{if(!(t&1)){Qb(i,c,t),Xy();break e}l=Error(K(426))}}else if(He&&a.mode&1){var x=Xb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zb(x,o,a,i,t),Oy(Aa(l,a));break e}}i=l=Aa(l,a),vt!==4&&(vt=2),Vl===null?Vl=[i]:Vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=UT(i,l,t);Wb(i,y);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Xs===null||!Xs.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=BT(i,a,t);Wb(i,E);break e}}i=i.return}while(i!==null)}aC(n)}catch(T){t=T,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function iC(){var e=Xd.current;return Xd.current=Qd,e===null?Qd:e}function Xy(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(ro&268435455)&&!(Qh&268435455)||Ms(St,Pt)}function th(e,t){var n=je;je|=2;var r=iC();(St!==e||Pt!==t)&&(Kr=null,Hi(e,t));do try{p2();break}catch(s){sC(e,s)}while(!0);if(Iy(),je=n,Xd.current=r,dt!==null)throw Error(K(261));return St=null,Pt=0,vt}function p2(){for(;dt!==null;)oC(dt)}function m2(){for(;dt!==null&&!VD();)oC(dt)}function oC(e){var t=cC(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?aC(e):dt=t,Gy.current=null}function aC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=l2(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,dt=null;return}}else if(n=a2(n,t,hn),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);vt===0&&(vt=5)}function ji(e,t,n){var r=Ne,s=Mn.transition;try{Mn.transition=null,Ne=1,g2(e,t,n,r)}finally{Mn.transition=s,Ne=r}return null}function g2(e,t,n,r){do oa();while(qs!==null);if(je&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(YD(e,i),e===St&&(dt=St=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,uC(Dd,function(){return oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mn.transition,Mn.transition=null;var o=Ne;Ne=1;var a=je;je|=4,Gy.current=null,u2(e,n),tC(n,e),DL(eg),$d=!!Zm,eg=Zm=null,e.current=n,d2(n),UD(),je=a,Ne=o,Mn.transition=i}else e.current=n;if(Eu&&(Eu=!1,qs=e,eh=s),i=e.pendingLanes,i===0&&(Xs=null),qD(n.stateNode),an(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zd)throw Zd=!1,e=bg,bg=null,e;return eh&1&&e.tag!==0&&oa(),i=e.pendingLanes,i&1?e===xg?Ul++:(Ul=0,xg=e):Ul=0,fi(),null}function oa(){if(qs!==null){var e=Uk(eh),t=Mn.transition,n=Ne;try{if(Mn.transition=null,Ne=16>e?16:e,qs===null)var r=!1;else{if(e=qs,qs=null,eh=0,je&6)throw Error(K(331));var s=je;for(je|=4,te=e.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:Fl(8,u,i)}var h=u.child;if(h!==null)h.return=u,te=h;else for(;te!==null;){u=te;var f=u.sibling,m=u.return;if(XT(u),u===c){te=null;break}if(f!==null){f.return=m,te=f;break}te=m}}}var b=i.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,te=y;break e}te=i.return}}var w=e.current;for(te=w;te!==null;){o=te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,te=S;else e:for(o=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yh(9,a)}}catch(T){nt(a,a.return,T)}if(a===o){te=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,te=E;break e}te=a.return}}if(je=s,fi(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Bh,e)}catch{}r=!0}return r}finally{Ne=n,Mn.transition=t}}return!1}function hx(e,t,n){t=Aa(n,t),t=UT(e,t,1),e=Qs(e,t,1),t=Yt(),e!==null&&(Uc(e,1,t),an(e,t))}function nt(e,t,n){if(e.tag===3)hx(e,e,n);else for(;t!==null;){if(t.tag===3){hx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xs===null||!Xs.has(r))){e=Aa(n,e),e=BT(t,e,1),t=Qs(t,e,1),e=Yt(),t!==null&&(Uc(t,1,e),an(t,e));break}}t=t.return}}function v2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(Pt&n)===n&&(vt===4||vt===3&&(Pt&130023424)===Pt&&500>ot()-Jy?Hi(e,0):Ky|=n),an(e,t)}function lC(e,t){t===0&&(e.mode&1?(t=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):t=1);var n=Yt();e=cs(e,t),e!==null&&(Uc(e,t,n),an(e,n))}function y2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lC(e,n)}function w2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),lC(e,n)}var cC;cC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)rn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rn=!1,o2(e,t,n);rn=!!(e.flags&131072)}else rn=!1,He&&t.flags&1048576&&fT(t,Wd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dd(e,t),e=t.pendingProps;var s=Ta(t,Vt.current);ia(t,n),s=By(null,t,r,e,s,n);var i=zy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(i=!0,zd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ly(t),s.updater=Jh,t.stateNode=s,s._reactInternals=t,cg(t,r,e,n),t=hg(null,t,r,!0,i,n)):(t.tag=0,He&&i&&Ay(t),qt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=x2(r),e=tr(r,e),s){case 0:t=dg(null,t,r,e,n);break e;case 1:t=nx(null,t,r,e,n);break e;case 11:t=ex(null,t,r,e,n);break e;case 14:t=tx(null,t,r,tr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),dg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),nx(e,t,r,s,n);case 3:e:{if(HT(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,s=i.element,wT(e,t),Kd(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Aa(Error(K(423)),t),t=rx(e,t,r,n,s);break e}else if(r!==s){s=Aa(Error(K(424)),t),t=rx(e,t,r,n,s);break e}else for(gn=Ys(t.stateNode.containerInfo.firstChild),yn=t,He=!0,lr=null,n=vT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ca(),r===s){t=us(e,t,n);break e}qt(e,t,r,n)}t=t.child}return t;case 5:return bT(t),e===null&&og(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,tg(r,s)?o=null:i!==null&&tg(r,i)&&(t.flags|=32),WT(e,t),qt(e,t,o,n),t.child;case 6:return e===null&&og(t),null;case 13:return GT(e,t,n);case 4:return $y(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ja(t,null,r,n):qt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),ex(e,t,r,s,n);case 7:return qt(e,t,t.pendingProps,n),t.child;case 8:return qt(e,t,t.pendingProps.children,n),t.child;case 12:return qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Fe(Hd,r._currentValue),r._currentValue=o,i!==null)if(mr(i.value,o)){if(i.children===s.children&&!sn.current){t=us(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=is(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ag(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ag(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ia(t,n),s=$n(s),r=r(s),t.flags|=1,qt(e,t,r,n),t.child;case 14:return r=t.type,s=tr(r,t.pendingProps),s=tr(r.type,s),tx(e,t,r,s,n);case 15:return zT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),dd(e,t),t.tag=1,on(r)?(e=!0,zd(t)):e=!1,ia(t,n),VT(t,r,s),cg(t,r,s,n),hg(null,t,r,!0,e,n);case 19:return KT(e,t,n);case 22:return qT(e,t,n)}throw Error(K(156,t.tag))};function uC(e,t){return Lk(e,t)}function b2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,n,r){return new b2(e,t,n,r)}function Zy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function x2(e){if(typeof e=="function")return Zy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yy)return 11;if(e===wy)return 14}return 2}function ei(e,t){var n=e.alternate;return n===null?(n=Nn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Zy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $o:return Gi(n.children,s,i,t);case vy:o=8,s|=8;break;case Rm:return e=Nn(12,n,t,s|2),e.elementType=Rm,e.lanes=i,e;case Im:return e=Nn(13,n,t,s),e.elementType=Im,e.lanes=i,e;case Mm:return e=Nn(19,n,t,s),e.elementType=Mm,e.lanes=i,e;case bk:return Xh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yk:o=10;break e;case wk:o=9;break e;case yy:o=11;break e;case wy:o=14;break e;case As:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Nn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Gi(e,t,n,r){return e=Nn(7,e,r,t),e.lanes=n,e}function Xh(e,t,n,r){return e=Nn(22,e,r,t),e.elementType=bk,e.lanes=n,e.stateNode={isHidden:!1},e}function xp(e,t,n){return e=Nn(6,e,null,t),e.lanes=n,e}function Sp(e,t,n){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ew(e,t,n,r,s,i,o,a,l){return e=new S2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ly(i),e}function _2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dC(e){if(!e)return si;e=e._reactInternals;e:{if(mo(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(on(n))return dT(e,n,t)}return t}function hC(e,t,n,r,s,i,o,a,l){return e=ew(n,r,!0,e,s,i,o,a,l),e.context=dC(null),n=e.current,r=Yt(),s=Zs(n),i=is(r,s),i.callback=t??null,Qs(n,i,s),e.current.lanes=s,Uc(e,s,r),an(e,r),e}function Zh(e,t,n,r){var s=t.current,i=Yt(),o=Zs(s);return n=dC(n),t.context===null?t.context=n:t.pendingContext=n,t=is(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qs(s,t,o),e!==null&&(hr(e,s,o,i),ld(e,s,o)),o}function nh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tw(e,t){fx(e,t),(e=e.alternate)&&fx(e,t)}function E2(){return null}var fC=typeof reportError=="function"?reportError:function(e){console.error(e)};function nw(e){this._internalRoot=e}ef.prototype.render=nw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Zh(e,t,null,null)};ef.prototype.unmount=nw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;so(function(){Zh(null,e,null,null)}),t[ls]=null}};function ef(e){this._internalRoot=e}ef.prototype.unstable_scheduleHydration=function(e){if(e){var t=qk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Is.length&&t!==0&&t<Is[n].priority;n++);Is.splice(n,0,e),n===0&&Hk(e)}};function rw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function px(){}function k2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=nh(o);i.call(c)}}var o=hC(t,r,e,0,null,!1,!1,"",px);return e._reactRootContainer=o,e[ls]=o.current,ic(e.nodeType===8?e.parentNode:e),so(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=nh(l);a.call(c)}}var l=ew(e,0,!1,null,null,!1,!1,"",px);return e._reactRootContainer=l,e[ls]=l.current,ic(e.nodeType===8?e.parentNode:e),so(function(){Zh(t,l,n,r)}),l}function nf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=nh(o);a.call(l)}}Zh(t,o,e,s)}else o=k2(n,t,e,s,r);return nh(o)}Bk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_l(t.pendingLanes);n!==0&&(Sy(t,n|1),an(t,ot()),!(je&6)&&(Na=ot()+500,fi()))}break;case 13:so(function(){var r=cs(e,1);if(r!==null){var s=Yt();hr(r,e,1,s)}}),tw(e,1)}};_y=function(e){if(e.tag===13){var t=cs(e,134217728);if(t!==null){var n=Yt();hr(t,e,134217728,n)}tw(e,134217728)}};zk=function(e){if(e.tag===13){var t=Zs(e),n=cs(e,t);if(n!==null){var r=Yt();hr(n,e,t,r)}tw(e,t)}};qk=function(){return Ne};Wk=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}};Wm=function(e,t,n){switch(t){case"input":if($m(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Hh(r);if(!s)throw Error(K(90));Sk(r),$m(r,s)}}}break;case"textarea":Ek(e,n);break;case"select":t=n.value,t!=null&&ta(e,!!n.multiple,t,!1)}};Nk=Yy;Ok=so;var T2={usingClientEntryPoint:!1,Events:[zc,Bo,Hh,Pk,Ak,Yy]},ml={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C2={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mk(e),e===null?null:e.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||E2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Bh=ku.inject(C2),Or=ku}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T2;Sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rw(t))throw Error(K(200));return _2(e,t,null,n)};Sn.createRoot=function(e,t){if(!rw(e))throw Error(K(299));var n=!1,r="",s=fC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ew(e,1,!1,null,null,n,!1,r,s),e[ls]=t.current,ic(e.nodeType===8?e.parentNode:e),new nw(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=Mk(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return so(e)};Sn.hydrate=function(e,t,n){if(!tf(t))throw Error(K(200));return nf(null,e,t,!0,n)};Sn.hydrateRoot=function(e,t,n){if(!rw(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=fC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=hC(t,null,e,1,n??null,s,!1,i,o),e[ls]=t.current,ic(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ef(t)};Sn.render=function(e,t,n){if(!tf(t))throw Error(K(200));return nf(null,e,t,!1,n)};Sn.unmountComponentAtNode=function(e){if(!tf(e))throw Error(K(40));return e._reactRootContainer?(so(function(){nf(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};Sn.unstable_batchedUpdates=Yy;Sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!tf(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return nf(e,t,n,!1,r)};Sn.version="18.3.1-next-f1338f8080-20240426";function pC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pC)}catch(e){console.error(e)}}pC(),pk.exports=Sn;var go=pk.exports;const mC=nk(go);var gC,mx=go;gC=mx.createRoot,mx.hydrateRoot;const j2=1,P2=1e6;let _p=0;function A2(){return _p=(_p+1)%Number.MAX_SAFE_INTEGER,_p.toString()}const Ep=new Map,gx=e=>{if(Ep.has(e))return;const t=setTimeout(()=>{Ep.delete(e),Bl({type:"REMOVE_TOAST",toastId:e})},P2);Ep.set(e,t)},N2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,j2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?gx(n):e.toasts.forEach(r=>{gx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},md=[];let gd={toasts:[]};function Bl(e){gd=N2(gd,e),md.forEach(t=>{t(gd)})}function O2({...e}){const t=A2(),n=s=>Bl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Bl({type:"DISMISS_TOAST",toastId:t});return Bl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Wc(){const[e,t]=v.useState(gd);return v.useEffect(()=>(md.push(t),()=>{const n=md.indexOf(t);n>-1&&md.splice(n,1)}),[e]),{...e,toast:O2,dismiss:n=>Bl({type:"DISMISS_TOAST",toastId:n})}}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function vx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vC(...e){return t=>{let n=!1;const r=e.map(s=>{const i=vx(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():vx(e[s],null)}}}}function Ee(...e){return v.useCallback(vC(...e),e)}function R2(e,t){const n=v.createContext(t),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Un(e,t=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var y;const{scope:f,children:m,...b}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,x=v.useMemo(()=>b,Object.values(b));return d.jsx(p.Provider,{value:x,children:m})};c.displayName=i+"Provider";function u(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[l])||a,b=v.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,I2(s,...t)]}function I2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Oa(e){const t=D2(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(L2);if(l){const c=l.props.children,u=a.map(h=>h===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:h);return d.jsx(t,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,u):null})}return d.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var M2=Oa("Slot");function D2(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=F2(s),a=$2(i,s.props);return s.type!==v.Fragment&&(a.ref=r?vC(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yC=Symbol("radix.slottable");function wC(e){const t=({children:n})=>d.jsx(d.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=yC,t}function L2(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yC}function $2(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function F2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rf(e){const t=e+"CollectionProvider",[n,r]=Un(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:y}=p,w=G.useRef(null),S=G.useRef(new Map).current;return d.jsx(s,{scope:x,itemMap:S,collectionRef:w,children:y})};o.displayName=t;const a=e+"CollectionSlot",l=Oa(a),c=G.forwardRef((p,x)=>{const{scope:y,children:w}=p,S=i(a,y),E=Ee(x,S.collectionRef);return d.jsx(l,{ref:E,children:w})});c.displayName=a;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=Oa(u),m=G.forwardRef((p,x)=>{const{scope:y,children:w,...S}=p,E=G.useRef(null),T=Ee(x,E),C=i(u,y);return G.useEffect(()=>(C.itemMap.set(E,{ref:E,...S}),()=>void C.itemMap.delete(E))),d.jsx(f,{[h]:"",ref:T,children:w})});m.displayName=u;function b(p){const x=i(e+"CollectionConsumer",p);return G.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((C,j)=>S.indexOf(C.ref.current)-S.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},b,r]}var V2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=V2.reduce((e,t)=>{const n=Oa(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bC(e,t){e&&go.flushSync(()=>e.dispatchEvent(t))}function gt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function U2(e,t=globalThis==null?void 0:globalThis.document){const n=gt(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var B2="DismissableLayer",Eg="dismissableLayer.update",z2="dismissableLayer.pointerDownOutside",q2="dismissableLayer.focusOutside",yx,xC=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=v.useContext(xC),[u,h]=v.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),b=Ee(t,j=>h(j)),p=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),w=u?p.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,T=H2(j=>{const N=j.target,I=[...c.branches].some(R=>R.contains(N));!E||I||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},f),C=G2(j=>{const N=j.target;[...c.branches].some(R=>R.contains(N))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},f);return U2(j=>{w===c.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},f),v.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),wx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=yx)}},[u,f,n,c]),v.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),wx())},[u,c]),v.useEffect(()=>{const j=()=>m({});return document.addEventListener(Eg,j),()=>document.removeEventListener(Eg,j)},[]),d.jsx(fe.div,{...l,ref:b,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,C.onFocusCapture),onBlurCapture:se(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,T.onPointerDownCapture)})});Hc.displayName=B2;var W2="DismissableLayerBranch",SC=v.forwardRef((e,t)=>{const n=v.useContext(xC),r=v.useRef(null),s=Ee(t,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(fe.div,{...e,ref:s})});SC.displayName=W2;function H2(e,t=globalThis==null?void 0:globalThis.document){const n=gt(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){_C(z2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function G2(e,t=globalThis==null?void 0:globalThis.document){const n=gt(e),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&_C(q2,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wx(){const e=new CustomEvent(Eg);document.dispatchEvent(e)}function _C(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?bC(s,i):s.dispatchEvent(i)}var K2=Hc,J2=SC,yt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Y2="Portal",sf=v.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=v.useState(!1);yt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mC.createPortal(d.jsx(fe.div,{...r,ref:t}),o):null});sf.displayName=Y2;function Q2(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Bn=e=>{const{present:t,children:n}=e,r=X2(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Ee(r.ref,Z2(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Bn.displayName="Presence";function X2(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[a,l]=Q2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Tu(r.current);i.current=a==="mounted"?c:"none"},[a]),yt(()=>{const c=r.current,u=s.current;if(u!==e){const f=i.current,m=Tu(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),yt(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=m=>{const p=Tu(r.current).includes(m.animationName);if(m.target===t&&p&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=Tu(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Tu(e){return(e==null?void 0:e.animationName)||"none"}function Z2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var e$=fy[" useInsertionEffect ".trim().toString()]||yt;function ds({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=t$({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const u=v.useRef(e!==void 0);v.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=v.useCallback(u=>{var h;if(a){const f=n$(u)?u(e):u;f!==e&&((h=o.current)==null||h.call(o,f))}else i(u)},[a,e,i,o]);return[l,c]}function t$({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),i=v.useRef(t);return e$(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function n$(e){return typeof e=="function"}var EC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),r$="VisuallyHidden",of=v.forwardRef((e,t)=>d.jsx(fe.span,{...e,ref:t,style:{...EC,...e.style}}));of.displayName=r$;var s$=of,sw="ToastProvider",[iw,i$,o$]=rf("Toast"),[kC,tY]=Un("Toast",[o$]),[a$,af]=kC(sw),TC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=v.useState(null),[c,u]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sw}\`. Expected non-empty \`string\`.`),d.jsx(iw.Provider,{scope:t,children:d.jsx(a$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>u(m=>m+1),[]),onToastRemove:v.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};TC.displayName=sw;var CC="ToastViewport",l$=["F8"],kg="toast.viewportPause",Tg="toast.viewportResume",jC=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=l$,label:s="Notifications ({hotkey})",...i}=e,o=af(CC,n),a=i$(n),l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),f=Ee(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const x=y=>{var S;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=l.current,y=h.current;if(b&&x&&y){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(kg);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Tg);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!x.contains(C.relatedTarget)&&S()},T=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",E),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const E=S.ref.current,T=[E,...x$(E)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const x=h.current;if(x){const y=w=>{var T,C,j;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const N=document.activeElement,I=w.shiftKey;if(w.target===x&&I){(T=c.current)==null||T.focus();return}const L=p({tabbingDirection:I?"backwards":"forwards"}),H=L.findIndex($=>$===N);kp(L.slice(H+1))?w.preventDefault():I?(C=c.current)==null||C.focus():(j=u.current)==null||j.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,p]),d.jsxs(J2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&d.jsx(Cg,{ref:c,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});kp(x)}}),d.jsx(iw.Slot,{scope:n,children:d.jsx(fe.ol,{tabIndex:-1,...i,ref:f})}),b&&d.jsx(Cg,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});kp(x)}})]})});jC.displayName=CC;var PC="ToastFocusProxy",Cg=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=af(PC,n);return d.jsx(of,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Cg.displayName=PC;var Gc="Toast",c$="toast.swipeStart",u$="toast.swipeMove",d$="toast.swipeCancel",h$="toast.swipeEnd",AC=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=ds({prop:r,defaultProp:s??!0,onChange:i,caller:Gc});return d.jsx(Bn,{present:n||a,children:d.jsx(m$,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:gt(e.onPause),onResume:gt(e.onResume),onSwipeStart:se(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(e.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:se(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(e.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});AC.displayName=Gc;var[f$,p$]=kC(Gc,{onClose(){}}),m$=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...b}=e,p=af(Gc,n),[x,y]=v.useState(null),w=Ee(t,$=>y($)),S=v.useRef(null),E=v.useRef(null),T=s||p.duration,C=v.useRef(0),j=v.useRef(T),N=v.useRef(0),{onToastAdd:I,onToastRemove:R}=p,O=gt(()=>{var B;(x==null?void 0:x.contains(document.activeElement))&&((B=p.viewport)==null||B.focus()),o()}),L=v.useCallback($=>{!$||$===1/0||(window.clearTimeout(N.current),C.current=new Date().getTime(),N.current=window.setTimeout(O,$))},[O]);v.useEffect(()=>{const $=p.viewport;if($){const B=()=>{L(j.current),c==null||c()},J=()=>{const Q=new Date().getTime()-C.current;j.current=j.current-Q,window.clearTimeout(N.current),l==null||l()};return $.addEventListener(kg,J),$.addEventListener(Tg,B),()=>{$.removeEventListener(kg,J),$.removeEventListener(Tg,B)}}},[p.viewport,T,l,c,L]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&L(T)},[i,T,p.isClosePausedRef,L]),v.useEffect(()=>(I(),()=>R()),[I,R]);const H=v.useMemo(()=>x?LC(x):null,[x]);return p.viewport?d.jsxs(d.Fragment,{children:[H&&d.jsx(g$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),d.jsx(f$,{scope:n,onClose:O,children:go.createPortal(d.jsx(iw.ItemSlot,{scope:n,children:d.jsx(K2,{asChild:!0,onEscapeKeyDown:se(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:se(e.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:se(e.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:se(e.onPointerMove,$=>{if(!S.current)return;const B=$.clientX-S.current.x,J=$.clientY-S.current.y,Q=!!E.current,D=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=D?F(0,B):0,le=D?0:F(0,J),ne=$.pointerType==="touch"?10:2,g={x:Y,y:le},k={originalEvent:$,delta:g};Q?(E.current=g,Cu(u$,h,k,{discrete:!1})):bx(g,p.swipeDirection,ne)?(E.current=g,Cu(c$,u,k,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(B)>ne||Math.abs(J)>ne)&&(S.current=null)}),onPointerUp:se(e.onPointerUp,$=>{const B=E.current,J=$.target;if(J.hasPointerCapture($.pointerId)&&J.releasePointerCapture($.pointerId),E.current=null,S.current=null,B){const Q=$.currentTarget,D={originalEvent:$,delta:B};bx(B,p.swipeDirection,p.swipeThreshold)?Cu(h$,m,D,{discrete:!0}):Cu(d$,f,D,{discrete:!0}),Q.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),g$=e=>{const{__scopeToast:t,children:n,...r}=e,s=af(Gc,t),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return w$(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(sf,{asChild:!0,children:d.jsx(of,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},v$="ToastTitle",NC=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.jsx(fe.div,{...r,ref:t})});NC.displayName=v$;var y$="ToastDescription",OC=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return d.jsx(fe.div,{...r,ref:t})});OC.displayName=y$;var RC="ToastAction",IC=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?d.jsx(DC,{altText:n,asChild:!0,children:d.jsx(ow,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${RC}\`. Expected non-empty \`string\`.`),null)});IC.displayName=RC;var MC="ToastClose",ow=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=p$(MC,n);return d.jsx(DC,{asChild:!0,children:d.jsx(fe.button,{type:"button",...r,ref:t,onClick:se(e.onClick,s.onClose)})})});ow.displayName=MC;var DC=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return d.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function LC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),b$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...LC(r))}}),t}function Cu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?bC(s,i):s.dispatchEvent(i)}var bx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function w$(e=()=>{}){const t=gt(e);yt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function b$(e){return e.nodeType===e.ELEMENT_NODE}function x$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function kp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var S$=TC,$C=jC,FC=AC,VC=NC,UC=OC,BC=IC,zC=ow;function qC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=qC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function WC(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=qC(e))&&(r&&(r+=" "),r+=t);return r}const xx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sx=WC,lf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Sx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],h=i==null?void 0:i[c];if(u===null)return null;const f=xx(u)||xx(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...i,...a}[p]):{...i,...a}[p]===x})?[...c,h,f]:c},[]);return Sx(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...E$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:HC("lucide",s),...a},[...o.map(([c,u])=>v.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(k$,{ref:i,iconNode:t,className:HC(`lucide-${_$(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=Se("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=Se("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=Se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Se("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=Se("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=Se("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),uw="-",B$=e=>{const t=q$(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(uw);return a[0]===""&&a.length!==1&&a.shift(),QC(a,t)||z$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},QC=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?QC(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(uw);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Cx=/^\[(.+)\]$/,z$=e=>{if(Cx.test(e)){const t=Cx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},q$=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return H$(Object.entries(e.classGroups),n).forEach(([i,o])=>{Ag(o,r,i,t)}),r},Ag=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:jx(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(W$(s)){Ag(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ag(o,jx(t,i),n,r)})})},jx=(e,t)=>{let n=e;return t.split(uw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},W$=e=>e.isThemeGetter,H$=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,G$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},XC="!",K$=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,u=0,h;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+i)===t)){l.push(a.slice(u,x)),u=x+i;continue}if(y==="/"){h=x;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(u),m=f.startsWith(XC),b=m?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},J$=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Y$=e=>({cache:G$(e.cacheSize),parseClassName:K$(e),...B$(e)}),Q$=/\s+/,X$=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Q$);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let b=!!m,p=r(b?f.substring(0,m):f);if(!p){if(!b){a=c+(a.length>0?" "+a:a);continue}if(p=r(f),!p){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=J$(u).join(":"),y=h?x+XC:x,w=y+p;if(i.includes(w))continue;i.push(w);const S=s(p,b);for(let E=0;E<S.length;++E){const T=S[E];i.push(y+T)}a=c+(a.length>0?" "+a:a)}return a};function Z$(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ZC(t))&&(r&&(r+=" "),r+=n);return r}const ZC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ZC(e[r]))&&(n&&(n+=" "),n+=t);return n};function eF(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((u,h)=>h(u),e());return n=Y$(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=X$(l,n);return s(l,u),u}return function(){return i(Z$.apply(null,arguments))}}const Ue=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ej=/^\[(?:([a-z-]+):)?(.+)\]$/i,tF=/^\d+\/\d+$/,nF=new Set(["px","full","screen"]),rF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=e=>aa(e)||nF.has(e)||tF.test(e),Ss=e=>Ja(e,"length",mF),aa=e=>!!e&&!Number.isNaN(Number(e)),Cp=e=>Ja(e,"number",aa),gl=e=>!!e&&Number.isInteger(Number(e)),lF=e=>e.endsWith("%")&&aa(e.slice(0,-1)),xe=e=>ej.test(e),_s=e=>rF.test(e),cF=new Set(["length","size","percentage"]),uF=e=>Ja(e,cF,tj),dF=e=>Ja(e,"position",tj),hF=new Set(["image","url"]),fF=e=>Ja(e,hF,vF),pF=e=>Ja(e,"",gF),vl=()=>!0,Ja=(e,t,n)=>{const r=ej.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},mF=e=>sF.test(e)&&!iF.test(e),tj=()=>!1,gF=e=>oF.test(e),vF=e=>aF.test(e),yF=()=>{const e=Ue("colors"),t=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),s=Ue("borderColor"),i=Ue("borderRadius"),o=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),c=Ue("grayscale"),u=Ue("hueRotate"),h=Ue("invert"),f=Ue("gap"),m=Ue("gradientColorStops"),b=Ue("gradientColorStopPositions"),p=Ue("inset"),x=Ue("margin"),y=Ue("opacity"),w=Ue("padding"),S=Ue("saturate"),E=Ue("scale"),T=Ue("sepia"),C=Ue("skew"),j=Ue("space"),N=Ue("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",xe,t],L=()=>[xe,t],H=()=>["",Wr,Ss],$=()=>["auto",aa,xe],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",xe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[aa,xe];return{cacheSize:500,separator:":",theme:{colors:[vl],spacing:[Wr,Ss],blur:["none","",_s,xe],brightness:le(),borderColor:[e],borderRadius:["none","","full",_s,xe],borderSpacing:L(),borderWidth:H(),contrast:le(),grayscale:F(),hueRotate:le(),invert:F(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[lF,Ss],inset:O(),margin:O(),opacity:le(),padding:L(),saturate:le(),scale:le(),sepia:F(),skew:le(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[_s]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),xe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gl,xe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",gl,xe]}],"grid-cols":[{"grid-cols":[vl]}],"col-start-end":[{col:["auto",{span:["full",gl,xe]},xe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[vl]}],"row-start-end":[{row:["auto",{span:[gl,xe]},xe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[_s]},_s]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_s,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cp]}],"font-family":[{font:[vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",aa,Cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,Ss]}],"underline-offset":[{"underline-offset":["auto",Wr,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),dF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Wr,xe]}],"outline-w":[{outline:[Wr,Ss]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Wr,Ss]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_s,pF]}],"shadow-color":[{shadow:[vl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_s,xe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[gl,xe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wr,Ss,Cp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wF=eF(yF);function oe(...e){return wF(WC(e))}const bF=S$,nj=v.forwardRef(({className:e,...t},n)=>d.jsx($C,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nj.displayName=$C.displayName;const xF=lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rj=v.forwardRef(({className:e,variant:t,...n},r)=>d.jsx(FC,{ref:r,className:oe(xF({variant:t}),e),...n}));rj.displayName=FC.displayName;const SF=v.forwardRef(({className:e,...t},n)=>d.jsx(BC,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));SF.displayName=BC.displayName;const sj=v.forwardRef(({className:e,...t},n)=>d.jsx(zC,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(cw,{className:"h-4 w-4"})}));sj.displayName=zC.displayName;const ij=v.forwardRef(({className:e,...t},n)=>d.jsx(VC,{ref:n,className:oe("text-sm font-semibold",e),...t}));ij.displayName=VC.displayName;const oj=v.forwardRef(({className:e,...t},n)=>d.jsx(UC,{ref:n,className:oe("text-sm opacity-90",e),...t}));oj.displayName=UC.displayName;function _F(){const{toasts:e}=Wc();return d.jsxs(bF,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return d.jsxs(rj,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(ij,{children:n}),r&&d.jsx(oj,{children:r})]}),s,d.jsx(sj,{})]},t)}),d.jsx(nj,{})]})}var ah=["light","dark"],dw="(prefers-color-scheme: dark)",EF=typeof window>"u",hw=v.createContext(void 0),kF={setTheme:e=>{},themes:[]},aj=()=>{var e;return(e=v.useContext(hw))!=null?e:kF},TF=e=>v.useContext(hw)?e.children:v.createElement(jF,{...e}),CF=["light","dark"],jF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=CF,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u})=>{let[h,f]=v.useState(()=>Px(s,o)),[m,b]=v.useState(()=>Px(s)),p=l?Object.values(l):i,x=v.useCallback(E=>{let T=E;if(!T)return;E==="system"&&n&&(T=Ax());let C=l?l[T]:T,j=t?AF():null,N=document.documentElement;if(a==="class"?(N.classList.remove(...p),C&&N.classList.add(C)):C?N.setAttribute(a,C):N.removeAttribute(a),r){let I=ah.includes(o)?o:null,R=ah.includes(T)?T:I;N.style.colorScheme=R}j==null||j()},[]),y=v.useCallback(E=>{let T=typeof E=="function"?E(E):E;f(T);try{localStorage.setItem(s,T)}catch{}},[e]),w=v.useCallback(E=>{let T=Ax(E);b(T),h==="system"&&n&&!e&&x("system")},[h,e]);v.useEffect(()=>{let E=window.matchMedia(dw);return E.addListener(w),w(E),()=>E.removeListener(w)},[w]),v.useEffect(()=>{let E=T=>{if(T.key!==s)return;let C=T.newValue||o;y(C)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[y]),v.useEffect(()=>{x(e??h)},[e,h]);let S=v.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,y,e,m,n,i]);return v.createElement(hw.Provider,{value:S},v.createElement(PF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:c,attrs:p,nonce:u}),c)},PF=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?ah.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(b,p=!1,x=!0)=>{let y=o?o[b]:b,w=p?b+"|| ''":`'${y}'`,S="";return s&&x&&!p&&ah.includes(b)&&(S+=`d.style.colorScheme = '${b}';`),n==="class"?p||y?S+=`c.add(${w})`:S+="null":y&&(S+=`d[s](n,${w})`),S},m=e?`!function(){${u}${f(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${dw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),Px=(e,t)=>{if(EF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},AF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Ax=e=>(e||(e=window.matchMedia(dw)),e.matches?"dark":"light"),NF=e=>{switch(e){case"success":return IF;case"info":return DF;case"warning":return MF;case"error":return LF;default:return null}},OF=Array(12).fill(0),RF=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},OF.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),IF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),DF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$F=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FF=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ng=1,VF=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Ng++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],G.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(BF(c)&&!c.ok){i=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:h})}else if(n.success!==void 0){i=!1;let u=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let u=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Ng++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},en=new VF,UF=(e,t)=>{let n=(t==null?void 0:t.id)||Ng++;return en.addToast({title:e,...t,id:n}),n},BF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zF=UF,qF=()=>en.toasts,WF=()=>en.getActiveToasts();Object.assign(zF,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:qF,getToasts:WF});function HF(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}HF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ju(e){return e.label!==void 0}var GF=3,KF="32px",JF="16px",Nx=4e3,YF=356,QF=14,XF=20,ZF=200;function Kn(...e){return e.filter(Boolean).join(" ")}function eV(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var tV=e=>{var t,n,r,s,i,o,a,l,c,u,h;let{invert:f,toast:m,unstyled:b,interacting:p,setHeights:x,visibleToasts:y,heights:w,index:S,toasts:E,expanded:T,removeToast:C,defaultRichColors:j,closeButton:N,style:I,cancelButtonStyle:R,actionButtonStyle:O,className:L="",descriptionClassName:H="",duration:$,position:B,gap:J,loadingIcon:Q,expandByDefault:D,classNames:F,icons:Y,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:ne}=e,[g,k]=G.useState(null),[_,A]=G.useState(null),[P,M]=G.useState(!1),[U,V]=G.useState(!1),[W,X]=G.useState(!1),[ce,Ve]=G.useState(!1),[wt,_t]=G.useState(!1),[Oe,lt]=G.useState(0),[Nt,ue]=G.useState(0),re=G.useRef(m.duration||$||Nx),st=G.useRef(null),ln=G.useRef(null),ou=S===0,Gf=S+1<=y,Zt=m.type,bo=m.dismissible!==!1,HM=m.className||"",GM=m.descriptionClassName||"",au=G.useMemo(()=>w.findIndex(ve=>ve.toastId===m.id)||0,[w,m.id]),KM=G.useMemo(()=>{var ve;return(ve=m.closeButton)!=null?ve:N},[m.closeButton,N]),tb=G.useMemo(()=>m.duration||$||Nx,[m.duration,$]),Kf=G.useRef(0),xo=G.useRef(0),nb=G.useRef(0),So=G.useRef(null),[JM,YM]=B.split("-"),rb=G.useMemo(()=>w.reduce((ve,Re,We)=>We>=au?ve:ve+Re.height,0),[w,au]),sb=FF(),QM=m.invert||f,Jf=Zt==="loading";xo.current=G.useMemo(()=>au*J+rb,[au,rb]),G.useEffect(()=>{re.current=tb},[tb]),G.useEffect(()=>{M(!0)},[]),G.useEffect(()=>{let ve=ln.current;if(ve){let Re=ve.getBoundingClientRect().height;return ue(Re),x(We=>[{toastId:m.id,height:Re,position:m.position},...We]),()=>x(We=>We.filter(qn=>qn.toastId!==m.id))}},[x,m.id]),G.useLayoutEffect(()=>{if(!P)return;let ve=ln.current,Re=ve.style.height;ve.style.height="auto";let We=ve.getBoundingClientRect().height;ve.style.height=Re,ue(We),x(qn=>qn.find(Wn=>Wn.toastId===m.id)?qn.map(Wn=>Wn.toastId===m.id?{...Wn,height:We}:Wn):[{toastId:m.id,height:We,position:m.position},...qn])},[P,m.title,m.description,x,m.id]);let ys=G.useCallback(()=>{V(!0),lt(xo.current),x(ve=>ve.filter(Re=>Re.toastId!==m.id)),setTimeout(()=>{C(m)},ZF)},[m,C,x,xo]);G.useEffect(()=>{if(m.promise&&Zt==="loading"||m.duration===1/0||m.type==="loading")return;let ve;return T||p||ne&&sb?(()=>{if(nb.current<Kf.current){let Re=new Date().getTime()-Kf.current;re.current=re.current-Re}nb.current=new Date().getTime()})():re.current!==1/0&&(Kf.current=new Date().getTime(),ve=setTimeout(()=>{var Re;(Re=m.onAutoClose)==null||Re.call(m,m),ys()},re.current)),()=>clearTimeout(ve)},[T,p,m,Zt,ne,sb,ys]),G.useEffect(()=>{m.delete&&ys()},[ys,m.delete]);function XM(){var ve,Re,We;return Y!=null&&Y.loading?G.createElement("div",{className:Kn(F==null?void 0:F.loader,(ve=m==null?void 0:m.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":Zt==="loading"},Y.loading):Q?G.createElement("div",{className:Kn(F==null?void 0:F.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":Zt==="loading"},Q):G.createElement(RF,{className:Kn(F==null?void 0:F.loader,(We=m==null?void 0:m.classNames)==null?void 0:We.loader),visible:Zt==="loading"})}return G.createElement("li",{tabIndex:0,ref:ln,className:Kn(L,HM,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Zt],(n=m==null?void 0:m.classNames)==null?void 0:n[Zt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":P,"data-promise":!!m.promise,"data-swiped":wt,"data-removed":U,"data-visible":Gf,"data-y-position":JM,"data-x-position":YM,"data-index":S,"data-front":ou,"data-swiping":W,"data-dismissible":bo,"data-type":Zt,"data-invert":QM,"data-swipe-out":ce,"data-swipe-direction":_,"data-expanded":!!(T||D&&P),style:{"--index":S,"--toasts-before":S,"--z-index":E.length-S,"--offset":`${U?Oe:xo.current}px`,"--initial-height":D?"auto":`${Nt}px`,...I,...m.style},onDragEnd:()=>{X(!1),k(null),So.current=null},onPointerDown:ve=>{Jf||!bo||(st.current=new Date,lt(xo.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(X(!0),So.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Re,We,qn;if(ce||!bo)return;So.current=null;let Wn=Number(((ve=ln.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ws=Number(((Re=ln.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wi=new Date().getTime()-((We=st.current)==null?void 0:We.getTime()),Hn=g==="x"?Wn:ws,bs=Math.abs(Hn)/wi;if(Math.abs(Hn)>=XF||bs>.11){lt(xo.current),(qn=m.onDismiss)==null||qn.call(m,m),A(g==="x"?Wn>0?"right":"left":ws>0?"down":"up"),ys(),Ve(!0),_t(!1);return}X(!1),k(null)},onPointerMove:ve=>{var Re,We,qn,Wn;if(!So.current||!bo||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let ws=ve.clientY-So.current.y,wi=ve.clientX-So.current.x,Hn=(We=e.swipeDirections)!=null?We:eV(B);!g&&(Math.abs(wi)>1||Math.abs(ws)>1)&&k(Math.abs(wi)>Math.abs(ws)?"x":"y");let bs={x:0,y:0};g==="y"?(Hn.includes("top")||Hn.includes("bottom"))&&(Hn.includes("top")&&ws<0||Hn.includes("bottom")&&ws>0)&&(bs.y=ws):g==="x"&&(Hn.includes("left")||Hn.includes("right"))&&(Hn.includes("left")&&wi<0||Hn.includes("right")&&wi>0)&&(bs.x=wi),(Math.abs(bs.x)>0||Math.abs(bs.y)>0)&&_t(!0),(qn=ln.current)==null||qn.style.setProperty("--swipe-amount-x",`${bs.x}px`),(Wn=ln.current)==null||Wn.style.setProperty("--swipe-amount-y",`${bs.y}px`)}},KM&&!m.jsx?G.createElement("button",{"aria-label":le,"data-disabled":Jf,"data-close-button":!0,onClick:Jf||!bo?()=>{}:()=>{var ve;ys(),(ve=m.onDismiss)==null||ve.call(m,m)},className:Kn(F==null?void 0:F.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:$F):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,Zt||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:Kn(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||XM():null,m.type!=="loading"?m.icon||(Y==null?void 0:Y[Zt])||NF(Zt):null):null,G.createElement("div",{"data-content":"",className:Kn(F==null?void 0:F.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:Kn(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:Kn(H,GM,F==null?void 0:F.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&ju(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:ve=>{var Re,We;ju(m.cancel)&&bo&&((We=(Re=m.cancel).onClick)==null||We.call(Re,ve),ys())},className:Kn(F==null?void 0:F.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&ju(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:ve=>{var Re,We;ju(m.action)&&((We=(Re=m.action).onClick)==null||We.call(Re,ve),!ve.defaultPrevented&&ys())},className:Kn(F==null?void 0:F.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Ox(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function nV(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?JF:KF;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var rV=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:f,style:m,visibleToasts:b=GF,toastOptions:p,dir:x=Ox(),gap:y=QF,loadingIcon:w,icons:S,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T}=e,[C,j]=G.useState([]),N=G.useMemo(()=>Array.from(new Set([r].concat(C.filter(ne=>ne.position).map(ne=>ne.position)))),[C,r]),[I,R]=G.useState([]),[O,L]=G.useState(!1),[H,$]=G.useState(!1),[B,J]=G.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=G.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=G.useRef(null),Y=G.useRef(!1),le=G.useCallback(ne=>{j(g=>{var k;return(k=g.find(_=>_.id===ne.id))!=null&&k.delete||en.dismiss(ne.id),g.filter(({id:_})=>_!==ne.id)})},[]);return G.useEffect(()=>en.subscribe(ne=>{if(ne.dismiss){j(g=>g.map(k=>k.id===ne.id?{...k,delete:!0}:k));return}setTimeout(()=>{mC.flushSync(()=>{j(g=>{let k=g.findIndex(_=>_.id===ne.id);return k!==-1?[...g.slice(0,k),{...g[k],...ne},...g.slice(k+1)]:[ne,...g]})})})}),[]),G.useEffect(()=>{if(u!=="system"){J(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:g})=>{J(g?"dark":"light")})}catch{ne.addListener(({matches:k})=>{try{J(k?"dark":"light")}catch(_){console.error(_)}})}},[u]),G.useEffect(()=>{C.length<=1&&L(!1)},[C]),G.useEffect(()=>{let ne=g=>{var k,_;s.every(A=>g[A]||g.code===A)&&(L(!0),(k=Q.current)==null||k.focus()),g.code==="Escape"&&(document.activeElement===Q.current||(_=Q.current)!=null&&_.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),G.useEffect(()=>{if(Q.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,Y.current=!1)}},[Q.current]),G.createElement("section",{ref:t,"aria-label":`${E} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((ne,g)=>{var k;let[_,A]=ne.split("-");return C.length?G.createElement("ol",{key:ne,dir:x==="auto"?Ox():x,tabIndex:-1,ref:Q,className:a,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":_,"data-lifted":O&&C.length>1&&!i,"data-x-position":A,style:{"--front-toast-height":`${((k=I[0])==null?void 0:k.height)||0}px`,"--width":`${YF}px`,"--gap":`${y}px`,...m,...nV(l,c)},onBlur:P=>{Y.current&&!P.currentTarget.contains(P.relatedTarget)&&(Y.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,F.current=P.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{H||L(!1)},onDragEnd:()=>L(!1),onPointerDown:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},C.filter(P=>!P.position&&g===0||P.position===ne).map((P,M)=>{var U,V;return G.createElement(tV,{key:P.id,icons:S,index:M,toast:P,defaultRichColors:h,duration:(U=p==null?void 0:p.duration)!=null?U:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(V=p==null?void 0:p.closeButton)!=null?V:o,interacting:H,position:ne,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:le,toasts:C.filter(W=>W.position==P.position),heights:I.filter(W=>W.position==P.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const sV=({...e})=>{const{theme:t="system"}=aj();return d.jsx(rV,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var iV=fy[" useId ".trim().toString()]||(()=>{}),oV=0;function Ir(e){const[t,n]=v.useState(iV());return yt(()=>{n(r=>r??String(oV++))},[e]),t?`radix-${t}`:""}const aV=["top","right","bottom","left"],ii=Math.min,fn=Math.max,lh=Math.round,Pu=Math.floor,Mr=e=>({x:e,y:e}),lV={left:"right",right:"left",bottom:"top",top:"bottom"},cV={start:"end",end:"start"};function Og(e,t,n){return fn(e,ii(t,n))}function hs(e,t){return typeof e=="function"?e(t):e}function fs(e){return e.split("-")[0]}function Ya(e){return e.split("-")[1]}function fw(e){return e==="x"?"y":"x"}function pw(e){return e==="y"?"height":"width"}const uV=new Set(["top","bottom"]);function Nr(e){return uV.has(fs(e))?"y":"x"}function mw(e){return fw(Nr(e))}function dV(e,t,n){n===void 0&&(n=!1);const r=Ya(e),s=mw(e),i=pw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ch(o)),[o,ch(o)]}function hV(e){const t=ch(e);return[Rg(e),t,Rg(t)]}function Rg(e){return e.replace(/start|end/g,t=>cV[t])}const Rx=["left","right"],Ix=["right","left"],fV=["top","bottom"],pV=["bottom","top"];function mV(e,t,n){switch(e){case"top":case"bottom":return n?t?Ix:Rx:t?Rx:Ix;case"left":case"right":return t?fV:pV;default:return[]}}function gV(e,t,n,r){const s=Ya(e);let i=mV(fs(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Rg)))),i}function ch(e){return e.replace(/left|right|bottom|top/g,t=>lV[t])}function vV(e){return{top:0,right:0,bottom:0,left:0,...e}}function lj(e){return typeof e!="number"?vV(e):{top:e,right:e,bottom:e,left:e}}function uh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Mx(e,t,n){let{reference:r,floating:s}=e;const i=Nr(t),o=mw(t),a=pw(o),l=fs(t),c=i==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-s.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ya(t)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const yV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=Mx(c,r,l),f=r,m={},b=0;for(let p=0;p<a.length;p++){const{name:x,fn:y}=a[p],{x:w,y:S,data:E,reset:T}=await y({x:u,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});u=w??u,h=S??h,m={...m,[x]:{...m[x],...E}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:u,y:h}=Mx(c,f,l)),p=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:m}};async function mc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=hs(t,e),b=lj(m),x=a[f?h==="floating"?"reference":"floating":h],y=uh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=uh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(y.top-T.top+b.top)/E.y,bottom:(T.bottom-y.bottom+b.bottom)/E.y,left:(y.left-T.left+b.left)/E.x,right:(T.right-y.right+b.right)/E.x}}const wV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=hs(e,t)||{};if(c==null)return{};const h=lj(u),f={x:n,y:r},m=mw(s),b=pw(m),p=await o.getDimensions(c),x=m==="y",y=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",E=i.reference[b]+i.reference[m]-f[m]-i.floating[b],T=f[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let j=C?C[S]:0;(!j||!await(o.isElement==null?void 0:o.isElement(C)))&&(j=a.floating[S]||i.floating[b]);const N=E/2-T/2,I=j/2-p[b]/2-1,R=ii(h[y],I),O=ii(h[w],I),L=R,H=j-p[b]-O,$=j/2-p[b]/2+N,B=Og(L,$,H),J=!l.arrow&&Ya(s)!=null&&$!==B&&i.reference[b]/2-($<L?R:O)-p[b]/2<0,Q=J?$<L?$-L:$-H:0;return{[m]:f[m]+Q,data:{[m]:B,centerOffset:$-B-Q,...J&&{alignmentOffset:Q}},reset:J}}}),bV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=hs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=fs(s),w=Nr(a),S=fs(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=f||(S||!p?[ch(a)]:hV(a)),C=b!=="none";!f&&C&&T.push(...gV(a,p,b,E));const j=[a,...T],N=await mc(t,x),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(N[y]),h){const $=dV(s,o,E);I.push(N[$[0]],N[$[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every($=>$<=0)){var O,L;const $=(((O=i.flip)==null?void 0:O.index)||0)+1,B=j[$];if(B&&(!(h==="alignment"?w!==Nr(B):!1)||R.every(D=>D.overflows[0]>0&&Nr(D.placement)===w)))return{data:{index:$,overflows:R},reset:{placement:B}};let J=(L=R.filter(Q=>Q.overflows[0]<=0).sort((Q,D)=>Q.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!J)switch(m){case"bestFit":{var H;const Q=(H=R.filter(D=>{if(C){const F=Nr(D.placement);return F===w||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,Y)=>F+Y,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:H[0];Q&&(J=Q);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function Dx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lx(e){return aV.some(t=>e[t]>=0)}const xV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=hs(e,t);switch(r){case"referenceHidden":{const i=await mc(t,{...s,elementContext:"reference"}),o=Dx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Lx(o)}}}case"escaped":{const i=await mc(t,{...s,altBoundary:!0}),o=Dx(i,n.floating);return{data:{escapedOffsets:o,escaped:Lx(o)}}}default:return{}}}}},cj=new Set(["left","top"]);async function SV(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=fs(n),a=Ya(n),l=Nr(n)==="y",c=cj.has(o)?-1:1,u=i&&l?-1:1,h=hs(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const _V=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await SV(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},EV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...l}=hs(e,t),c={x:n,y:r},u=await mc(t,l),h=Nr(fs(s)),f=fw(h);let m=c[f],b=c[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=m+u[x],S=m-u[y];m=Og(w,m,S)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=b+u[x],S=b-u[y];b=Og(w,b,S)}const p=a.fn({...t,[f]:m,[h]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},kV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=hs(e,t),u={x:n,y:r},h=Nr(s),f=fw(h);let m=u[f],b=u[h];const p=hs(a,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const S=f==="y"?"height":"width",E=i.reference[f]-i.floating[S]+x.mainAxis,T=i.reference[f]+i.reference[S]-x.mainAxis;m<E?m=E:m>T&&(m=T)}if(c){var y,w;const S=f==="y"?"width":"height",E=cj.has(fs(s)),T=i.reference[h]-i.floating[S]+(E&&((y=o.offset)==null?void 0:y[h])||0)+(E?0:x.crossAxis),C=i.reference[h]+i.reference[S]+(E?0:((w=o.offset)==null?void 0:w[h])||0)-(E?x.crossAxis:0);b<T?b=T:b>C&&(b=C)}return{[f]:m,[h]:b}}}},TV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=hs(e,t),u=await mc(t,c),h=fs(s),f=Ya(s),m=Nr(s)==="y",{width:b,height:p}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const w=p-u.top-u.bottom,S=b-u.left-u.right,E=ii(p-u[x],w),T=ii(b-u[y],S),C=!t.middlewareData.shift;let j=E,N=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=w),C&&!f){const R=fn(u.left,0),O=fn(u.right,0),L=fn(u.top,0),H=fn(u.bottom,0);m?N=b-2*(R!==0||O!==0?R+O:fn(u.left,u.right)):j=p-2*(L!==0||H!==0?L+H:fn(u.top,u.bottom))}await l({...t,availableWidth:N,availableHeight:j});const I=await o.getDimensions(a.floating);return b!==I.width||p!==I.height?{reset:{rects:!0}}:{}}}};function cf(){return typeof window<"u"}function Qa(e){return uj(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Br(e){var t;return(t=(uj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uj(e){return cf()?e instanceof Node||e instanceof wn(e).Node:!1}function gr(e){return cf()?e instanceof Element||e instanceof wn(e).Element:!1}function Vr(e){return cf()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function $x(e){return!cf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}const CV=new Set(["inline","contents"]);function Kc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!CV.has(s)}const jV=new Set(["table","td","th"]);function PV(e){return jV.has(Qa(e))}const AV=[":popover-open",":modal"];function uf(e){return AV.some(t=>{try{return e.matches(t)}catch{return!1}})}const NV=["transform","translate","scale","rotate","perspective"],OV=["transform","translate","scale","rotate","perspective","filter"],RV=["paint","layout","strict","content"];function gw(e){const t=vw(),n=gr(e)?vr(e):e;return NV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||OV.some(r=>(n.willChange||"").includes(r))||RV.some(r=>(n.contain||"").includes(r))}function IV(e){let t=oi(e);for(;Vr(t)&&!Ia(t);){if(gw(t))return t;if(uf(t))return null;t=oi(t)}return null}function vw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MV=new Set(["html","body","#document"]);function Ia(e){return MV.has(Qa(e))}function vr(e){return wn(e).getComputedStyle(e)}function df(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oi(e){if(Qa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$x(e)&&e.host||Br(e);return $x(t)?t.host:t}function dj(e){const t=oi(e);return Ia(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vr(t)&&Kc(t)?t:dj(t)}function gc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=dj(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=wn(s);if(i){const a=Ig(o);return t.concat(o,o.visualViewport||[],Kc(s)?s:[],a&&n?gc(a):[])}return t.concat(s,gc(s,[],n))}function Ig(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hj(e){const t=vr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Vr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=lh(n)!==i||lh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function yw(e){return gr(e)?e:e.contextElement}function la(e){const t=yw(e);if(!Vr(t))return Mr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=hj(t);let o=(i?lh(n.width):n.width)/r,a=(i?lh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const DV=Mr(0);function fj(e){const t=wn(e);return!vw()||!t.visualViewport?DV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==wn(e)?!1:t}function io(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=yw(e);let o=Mr(1);t&&(r?gr(r)&&(o=la(r)):o=la(e));const a=LV(i,n,r)?fj(i):Mr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=wn(i),m=r&&gr(r)?wn(r):r;let b=f,p=Ig(b);for(;p&&r&&m!==b;){const x=la(p),y=p.getBoundingClientRect(),w=vr(p),S=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*x.x,E=y.top+(p.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=S,c+=E,b=wn(p),p=Ig(b)}}return uh({width:u,height:h,x:l,y:c})}function ww(e,t){const n=df(e).scrollLeft;return t?t.left+n:io(Br(e)).left+n}function pj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:ww(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function $V(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Br(r),a=t?uf(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Mr(1);const u=Mr(0),h=Vr(r);if((h||!h&&!i)&&((Qa(r)!=="body"||Kc(o))&&(l=df(r)),Vr(r))){const m=io(r);c=la(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const f=o&&!h&&!i?pj(o,l,!0):Mr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function FV(e){return Array.from(e.getClientRects())}function VV(e){const t=Br(e),n=df(e),r=e.ownerDocument.body,s=fn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=fn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ww(e);const a=-n.scrollTop;return vr(r).direction==="rtl"&&(o+=fn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function UV(e,t){const n=wn(e),r=Br(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=vw();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const BV=new Set(["absolute","fixed"]);function zV(e,t){const n=io(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Vr(e)?la(e):Mr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Fx(e,t,n){let r;if(t==="viewport")r=UV(e,n);else if(t==="document")r=VV(Br(e));else if(gr(t))r=zV(t,n);else{const s=fj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return uh(r)}function mj(e,t){const n=oi(e);return n===t||!gr(n)||Ia(n)?!1:vr(n).position==="fixed"||mj(n,t)}function qV(e,t){const n=t.get(e);if(n)return n;let r=gc(e,[],!1).filter(a=>gr(a)&&Qa(a)!=="body"),s=null;const i=vr(e).position==="fixed";let o=i?oi(e):e;for(;gr(o)&&!Ia(o);){const a=vr(o),l=gw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&BV.has(s.position)||Kc(o)&&!l&&mj(e,o))?r=r.filter(u=>u!==o):s=a,o=oi(o)}return t.set(e,r),r}function WV(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?uf(t)?[]:qV(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const h=Fx(t,u,s);return c.top=fn(h.top,c.top),c.right=ii(h.right,c.right),c.bottom=ii(h.bottom,c.bottom),c.left=fn(h.left,c.left),c},Fx(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function HV(e){const{width:t,height:n}=hj(e);return{width:t,height:n}}function GV(e,t,n){const r=Vr(t),s=Br(t),i=n==="fixed",o=io(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Mr(0);function c(){l.x=ww(s)}if(r||!r&&!i)if((Qa(t)!=="body"||Kc(s))&&(a=df(t)),r){const m=io(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?pj(s,a):Mr(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function jp(e){return vr(e).position==="static"}function Vx(e,t){if(!Vr(e)||vr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Br(e)===n&&(n=n.ownerDocument.body),n}function gj(e,t){const n=wn(e);if(uf(e))return n;if(!Vr(e)){let s=oi(e);for(;s&&!Ia(s);){if(gr(s)&&!jp(s))return s;s=oi(s)}return n}let r=Vx(e,t);for(;r&&PV(r)&&jp(r);)r=Vx(r,t);return r&&Ia(r)&&jp(r)&&!gw(r)?n:r||IV(e)||n}const KV=async function(e){const t=this.getOffsetParent||gj,n=this.getDimensions,r=await n(e.floating);return{reference:GV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JV(e){return vr(e).direction==="rtl"}const YV={convertOffsetParentRelativeRectToViewportRelativeRect:$V,getDocumentElement:Br,getClippingRect:WV,getOffsetParent:gj,getElementRects:KV,getClientRects:FV,getDimensions:HV,getScale:la,isElement:gr,isRTL:JV};function vj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QV(e,t){let n=null,r;const s=Br(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:h,width:f,height:m}=c;if(a||t(),!f||!m)return;const b=Pu(h),p=Pu(s.clientWidth-(u+f)),x=Pu(s.clientHeight-(h+m)),y=Pu(u),S={rootMargin:-b+"px "+-p+"px "+-x+"px "+-y+"px",threshold:fn(0,ii(1,l))||1};let E=!0;function T(C){const j=C[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!vj(c,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(T,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,S)}n.observe(e)}return o(!0),i}function XV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=yw(e),u=s||i?[...c?gc(c):[],...gc(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=c&&a?QV(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let b,p=l?io(e):null;l&&x();function x(){const y=io(e);p&&!vj(p,y)&&n(),p=y,b=requestAnimationFrame(x)}return n(),()=>{var y;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const ZV=_V,eU=EV,tU=bV,nU=TV,rU=xV,Ux=wV,sU=kV,iU=(e,t,n)=>{const r=new Map,s={platform:YV,...n},i={...s.platform,_c:r};return yV(e,t,{...s,platform:i})};var oU=typeof document<"u",aU=function(){},yd=oU?v.useLayoutEffect:aU;function dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!dh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Bx(e,t){const n=yj(e);return Math.round(t*n)/n}function Pp(e){const t=v.useRef(e);return yd(()=>{t.current=e}),t}function lU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,h]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);dh(f,r)||m(r);const[b,p]=v.useState(null),[x,y]=v.useState(null),w=v.useCallback(D=>{D!==C.current&&(C.current=D,p(D))},[]),S=v.useCallback(D=>{D!==j.current&&(j.current=D,y(D))},[]),E=i||b,T=o||x,C=v.useRef(null),j=v.useRef(null),N=v.useRef(u),I=l!=null,R=Pp(l),O=Pp(s),L=Pp(c),H=v.useCallback(()=>{if(!C.current||!j.current)return;const D={placement:t,strategy:n,middleware:f};O.current&&(D.platform=O.current),iU(C.current,j.current,D).then(F=>{const Y={...F,isPositioned:L.current!==!1};$.current&&!dh(N.current,Y)&&(N.current=Y,go.flushSync(()=>{h(Y)}))})},[f,t,n,O,L]);yd(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[c]);const $=v.useRef(!1);yd(()=>($.current=!0,()=>{$.current=!1}),[]),yd(()=>{if(E&&(C.current=E),T&&(j.current=T),E&&T){if(R.current)return R.current(E,T,H);H()}},[E,T,H,R,I]);const B=v.useMemo(()=>({reference:C,floating:j,setReference:w,setFloating:S}),[w,S]),J=v.useMemo(()=>({reference:E,floating:T}),[E,T]),Q=v.useMemo(()=>{const D={position:n,left:0,top:0};if(!J.floating)return D;const F=Bx(J.floating,u.x),Y=Bx(J.floating,u.y);return a?{...D,transform:"translate("+F+"px, "+Y+"px)",...yj(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:Y}},[n,a,J.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:H,refs:B,elements:J,floatingStyles:Q}),[u,H,B,J,Q])}const cU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ux({element:r.current,padding:s}).fn(n):{}:r?Ux({element:r,padding:s}).fn(n):{}}}},uU=(e,t)=>({...ZV(e),options:[e,t]}),dU=(e,t)=>({...eU(e),options:[e,t]}),hU=(e,t)=>({...sU(e),options:[e,t]}),fU=(e,t)=>({...tU(e),options:[e,t]}),pU=(e,t)=>({...nU(e),options:[e,t]}),mU=(e,t)=>({...rU(e),options:[e,t]}),gU=(e,t)=>({...cU(e),options:[e,t]});var vU="Arrow",wj=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return d.jsx(fe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});wj.displayName=vU;var yU=wj;function wU(e){const[t,n]=v.useState(void 0);return yt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bw="Popper",[bj,hf]=Un(bw),[bU,xj]=bj(bw),Sj=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return d.jsx(bU,{scope:t,anchor:r,onAnchorChange:s,children:n})};Sj.displayName=bw;var _j="PopperAnchor",Ej=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=xj(_j,n),o=v.useRef(null),a=Ee(t,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(fe.div,{...s,ref:a})});Ej.displayName=_j;var xw="PopperContent",[xU,SU]=bj(xw),kj=v.forwardRef((e,t)=>{var P,M,U,V,W,X;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,x=xj(xw,n),[y,w]=v.useState(null),S=Ee(t,ce=>w(ce)),[E,T]=v.useState(null),C=wU(E),j=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],L=O.length>0,H={padding:R,boundary:O.filter(EU),altBoundary:L},{refs:$,floatingStyles:B,placement:J,isPositioned:Q,middlewareData:D}=lU({strategy:"fixed",placement:I,whileElementsMounted:(...ce)=>XV(...ce,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[uU({mainAxis:s+N,alignmentAxis:o}),l&&dU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?hU():void 0,...H}),l&&fU({...H}),pU({...H,apply:({elements:ce,rects:Ve,availableWidth:wt,availableHeight:_t})=>{const{width:Oe,height:lt}=Ve.reference,Nt=ce.floating.style;Nt.setProperty("--radix-popper-available-width",`${wt}px`),Nt.setProperty("--radix-popper-available-height",`${_t}px`),Nt.setProperty("--radix-popper-anchor-width",`${Oe}px`),Nt.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),E&&gU({element:E,padding:a}),kU({arrowWidth:j,arrowHeight:N}),f&&mU({strategy:"referenceHidden",...H})]}),[F,Y]=jj(J),le=gt(b);yt(()=>{Q&&(le==null||le())},[Q,le]);const ne=(P=D.arrow)==null?void 0:P.x,g=(M=D.arrow)==null?void 0:M.y,k=((U=D.arrow)==null?void 0:U.centerOffset)!==0,[_,A]=v.useState();return yt(()=>{y&&A(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:Q?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_,"--radix-popper-transform-origin":[(V=D.transformOrigin)==null?void 0:V.x,(W=D.transformOrigin)==null?void 0:W.y].join(" "),...((X=D.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(xU,{scope:n,placedSide:F,onArrowChange:T,arrowX:ne,arrowY:g,shouldHideArrow:k,children:d.jsx(fe.div,{"data-side":F,"data-align":Y,...p,ref:S,style:{...p.style,animation:Q?void 0:"none"}})})})});kj.displayName=xw;var Tj="PopperArrow",_U={top:"bottom",right:"left",bottom:"top",left:"right"},Cj=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=SU(Tj,r),o=_U[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(yU,{...s,ref:n,style:{...s.style,display:"block"}})})});Cj.displayName=Tj;function EU(e){return e!==null}var kU=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=jj(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",p="";return c==="bottom"?(b=o?h:`${f}px`,p=`${-l}px`):c==="top"?(b=o?h:`${f}px`,p=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,p=o?h:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,p=o?h:`${m}px`),{data:{x:b,y:p}}}});function jj(e){const[t,n="center"]=e.split("-");return[t,n]}var TU=Sj,Pj=Ej,Aj=kj,Nj=Cj,[ff,rY]=Un("Tooltip",[hf]),Sw=hf(),Oj="TooltipProvider",CU=700,zx="tooltip.open",[jU,Rj]=ff(Oj),Ij=e=>{const{__scopeTooltip:t,delayDuration:n=CU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(jU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};Ij.displayName=Oj;var Mj="Tooltip",[sY,pf]=ff(Mj),Mg="TooltipTrigger",PU=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=pf(Mg,n),i=Rj(Mg,n),o=Sw(n),a=v.useRef(null),l=Ee(t,a,s.onTriggerChange),c=v.useRef(!1),u=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(Pj,{asChild:!0,...o,children:d.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:se(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:se(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:se(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:se(e.onBlur,s.onClose),onClick:se(e.onClick,s.onClose)})})});PU.displayName=Mg;var AU="TooltipPortal",[iY,NU]=ff(AU,{forceMount:void 0}),Ma="TooltipContent",Dj=v.forwardRef((e,t)=>{const n=NU(Ma,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=pf(Ma,e.__scopeTooltip);return d.jsx(Bn,{present:r||o.open,children:o.disableHoverableContent?d.jsx(Lj,{side:s,...i,ref:t}):d.jsx(OU,{side:s,...i,ref:t})})}),OU=v.forwardRef((e,t)=>{const n=pf(Ma,e.__scopeTooltip),r=Rj(Ma,e.__scopeTooltip),s=v.useRef(null),i=Ee(t,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((b,p)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},w=LU(y,x.getBoundingClientRect()),S=$U(y,w),E=FU(p.getBoundingClientRect()),T=UU([...S,...E]);a(T),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&u){const b=x=>m(x,u),p=x=>m(x,l);return l.addEventListener("pointerleave",b),u.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",p)}}},[l,u,m,f]),v.useEffect(()=>{if(o){const b=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},w=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),S=!VU(y,o);w?f():S&&(f(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,u,o,c,f]),d.jsx(Lj,{...e,ref:i})}),[RU,IU]=ff(Mj,{isInside:!1}),MU=wC("TooltipContent"),Lj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=pf(Ma,n),c=Sw(n),{onClose:u}=l;return v.useEffect(()=>(document.addEventListener(zx,u),()=>document.removeEventListener(zx,u)),[u]),v.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(Aj,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(MU,{children:r}),d.jsx(RU,{scope:n,isInside:!0,children:d.jsx(s$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Dj.displayName=Ma;var $j="TooltipArrow",DU=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Sw(n);return IU($j,n).isInside?null:d.jsx(Nj,{...s,...r,ref:t})});DU.displayName=$j;function LU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $U(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function FU(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function VU(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,u=a.y,h=l.x,f=l.y;u>r!=f>r&&n<(h-c)*(r-u)/(f-u)+c&&(s=!s)}return s}function UU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),BU(t)}function BU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var zU=Ij,Fj=Dj;const qU=zU,WU=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>d.jsx(Fj,{ref:r,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));WU.displayName=Fj.displayName;var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gf=typeof window>"u"||"Deno"in globalThis;function nr(){}function HU(e,t){return typeof e=="function"?e(t):e}function GU(e){return typeof e=="number"&&e>=0&&e!==1/0}function KU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Dg(e,t){return typeof e=="function"?e(t):e}function JU(e,t){return typeof e=="function"?e(t):e}function qx(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==_w(o,t.options))return!1}else if(!yc(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Wx(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(vc(t.options.mutationKey)!==vc(i))return!1}else if(!yc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function _w(e,t){return((t==null?void 0:t.queryKeyHashFn)||vc)(e)}function vc(e){return JSON.stringify(e,(t,n)=>Lg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>yc(e[n],t[n])):!1}function Vj(e,t){if(e===t)return e;const n=Hx(e)&&Hx(t);if(n||Lg(e)&&Lg(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const h=n?u:i[u];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=Vj(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function Hx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Lg(e){if(!Gx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Gx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Gx(e){return Object.prototype.toString.call(e)==="[object Object]"}function YU(e){return new Promise(t=>{setTimeout(t,e)})}function QU(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Vj(e,t):t}function XU(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ZU(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ew=Symbol();function Uj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ew?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Vi,$s,va,K1,eB=(K1=class extends mf{constructor(){super();Pe(this,Vi);Pe(this,$s);Pe(this,va);we(this,va,t=>{if(!gf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,$s)||this.setEventListener(z(this,va))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,$s))==null||t.call(this),we(this,$s,void 0))}setEventListener(t){var n;we(this,va,t),(n=z(this,$s))==null||n.call(this),we(this,$s,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,Vi)!==t&&(we(this,Vi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,Vi)=="boolean"?z(this,Vi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Vi=new WeakMap,$s=new WeakMap,va=new WeakMap,K1),Bj=new eB,ya,Fs,wa,J1,tB=(J1=class extends mf{constructor(){super();Pe(this,ya,!0);Pe(this,Fs);Pe(this,wa);we(this,wa,t=>{if(!gf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Fs)||this.setEventListener(z(this,wa))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Fs))==null||t.call(this),we(this,Fs,void 0))}setEventListener(t){var n;we(this,wa,t),(n=z(this,Fs))==null||n.call(this),we(this,Fs,t(this.setOnline.bind(this)))}setOnline(t){z(this,ya)!==t&&(we(this,ya,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,ya)}},ya=new WeakMap,Fs=new WeakMap,wa=new WeakMap,J1),hh=new tB;function nB(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function rB(e){return Math.min(1e3*2**e,3e4)}function zj(e){return(e??"online")==="online"?hh.isOnline():!0}var qj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ap(e){return e instanceof qj}function Wj(e){let t=!1,n=0,r=!1,s;const i=nB(),o=p=>{var x;r||(f(new qj(p)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Bj.isFocused()&&(e.networkMode==="always"||hh.isOnline())&&e.canRun(),u=()=>zj(e.networkMode)&&e.canRun(),h=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),i.resolve(p))},f=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var x;s=y=>{(r||c())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var C;if(r)return;const w=e.retry??(gf?0:3),S=e.retryDelay??rB,E=typeof S=="function"?S(n,y):S,T=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!T){f(y);return}n++,(C=e.onFail)==null||C.call(e,n,y),YU(E).then(()=>c()?void 0:m()).then(()=>{t?f(y):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?b():m().then(b),i)}}var sB=e=>setTimeout(e,0);function iB(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=sB;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ht=iB(),Ui,Y1,Hj=(Y1=class{constructor(){Pe(this,Ui)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GU(this.gcTime)&&we(this,Ui,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gf?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ui)&&(clearTimeout(z(this,Ui)),we(this,Ui,void 0))}},Ui=new WeakMap,Y1),ba,Bi,Cn,zi,Mt,$c,qi,sr,Hr,Q1,oB=(Q1=class extends Hj{constructor(t){super();Pe(this,sr);Pe(this,ba);Pe(this,Bi);Pe(this,Cn);Pe(this,zi);Pe(this,Mt);Pe(this,$c);Pe(this,qi);we(this,qi,!1),we(this,$c,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,zi,t.client),we(this,Cn,z(this,zi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,ba,lB(this.options)),this.state=t.state??z(this,ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Mt))==null?void 0:t.promise}setOptions(t){this.options={...z(this,$c),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Cn).remove(this)}setData(t,n){const r=QU(this.state.data,t,this.options);return Ot(this,sr,Hr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ot(this,sr,Hr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=z(this,Mt))==null?void 0:r.promise;return(s=z(this,Mt))==null||s.cancel(t),n?n.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ba))}isActive(){return this.observers.some(t=>JU(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ew||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Dg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Mt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Mt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,Mt)&&(z(this,qi)?z(this,Mt).cancel({revert:!0}):z(this,Mt).cancelRetry()),this.scheduleGc()),z(this,Cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,sr,Hr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Mt))return z(this,Mt).continueRetry(),z(this,Mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(we(this,qi,!0),r.signal)})},i=()=>{const f=Uj(this.options,n),b=(()=>{const p={client:z(this,zi),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return we(this,qi,!1),this.options.persister?this.options.persister(f,b,this):f(b)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,zi),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),we(this,Bi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Ot(this,sr,Hr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,b,p,x;Ap(f)&&f.silent||Ot(this,sr,Hr).call(this,{type:"error",error:f}),Ap(f)||((b=(m=z(this,Cn).config).onError)==null||b.call(m,f,this),(x=(p=z(this,Cn).config).onSettled)==null||x.call(p,this.state.data,f,this)),this.scheduleGc()};return we(this,Mt,Wj({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,b,p,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(b=(m=z(this,Cn).config).onSuccess)==null||b.call(m,f,this),(x=(p=z(this,Cn).config).onSettled)==null||x.call(p,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Ot(this,sr,Hr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Ot(this,sr,Hr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,sr,Hr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Mt).start()}},ba=new WeakMap,Bi=new WeakMap,Cn=new WeakMap,zi=new WeakMap,Mt=new WeakMap,$c=new WeakMap,qi=new WeakMap,sr=new WeakSet,Hr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...aB(r.data,this.options),fetchMeta:t.meta??null};case"success":return we(this,Bi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Ap(s)&&s.revert&&z(this,Bi)?{...z(this,Bi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ht.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Cn).notify({query:this,type:"updated",action:t})})},Q1);function aB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,X1,cB=(X1=class extends mf{constructor(t={}){super();Pe(this,kr);this.config=t,we(this,kr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??_w(s,n);let o=this.get(i);return o||(o=new oB({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){z(this,kr).has(t.queryHash)||(z(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,kr).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,kr).get(t)}getAll(){return[...z(this,kr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>qx(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>qx(t,r)):n}notify(t){Ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,X1),Tr,zt,Wi,Cr,ks,Z1,uB=(Z1=class extends Hj{constructor(t){super();Pe(this,Cr);Pe(this,Tr);Pe(this,zt);Pe(this,Wi);this.mutationId=t.mutationId,we(this,zt,t.mutationCache),we(this,Tr,[]),this.state=t.state||dB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Tr).includes(t)||(z(this,Tr).push(t),this.clearGcTimeout(),z(this,zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,Tr,z(this,Tr).filter(n=>n!==t)),this.scheduleGc(),z(this,zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():z(this,zt).remove(this))}continue(){var t;return((t=z(this,Wi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,c,u,h,f,m,b,p,x,y,w,S,E,T,C,j,N;const n=()=>{Ot(this,Cr,ks).call(this,{type:"continue"})};we(this,Wi,Wj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{Ot(this,Cr,ks).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{Ot(this,Cr,ks).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,zt).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Wi).canStart();try{if(r)n();else{Ot(this,Cr,ks).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=z(this,zt).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));R!==this.state.context&&Ot(this,Cr,ks).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const I=await z(this,Wi).start();return await((u=(c=z(this,zt).config).onSuccess)==null?void 0:u.call(c,I,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,I,t,this.state.context)),await((b=(m=z(this,zt).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,I,null,t,this.state.context)),Ot(this,Cr,ks).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(y=z(this,zt).config).onError)==null?void 0:w.call(y,I,t,this.state.context,this)),await((E=(S=this.options).onError)==null?void 0:E.call(S,I,t,this.state.context)),await((C=(T=z(this,zt).config).onSettled)==null?void 0:C.call(T,void 0,I,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,I,t,this.state.context)),I}finally{Ot(this,Cr,ks).call(this,{type:"error",error:I})}}finally{z(this,zt).runNext(this)}}},Tr=new WeakMap,zt=new WeakMap,Wi=new WeakMap,Cr=new WeakSet,ks=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ht.batch(()=>{z(this,Tr).forEach(r=>{r.onMutationUpdate(t)}),z(this,zt).notify({mutation:this,type:"updated",action:t})})},Z1);function dB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zr,ir,Fc,ek,hB=(ek=class extends mf{constructor(t={}){super();Pe(this,Zr);Pe(this,ir);Pe(this,Fc);this.config=t,we(this,Zr,new Set),we(this,ir,new Map),we(this,Fc,0)}build(t,n,r){const s=new uB({mutationCache:this,mutationId:++lu(this,Fc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){z(this,Zr).add(t);const n=Au(t);if(typeof n=="string"){const r=z(this,ir).get(n);r?r.push(t):z(this,ir).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,Zr).delete(t)){const n=Au(t);if(typeof n=="string"){const r=z(this,ir).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&z(this,ir).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Au(t);if(typeof n=="string"){const r=z(this,ir).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Au(t);if(typeof n=="string"){const s=(r=z(this,ir).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ht.batch(()=>{z(this,Zr).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,Zr).clear(),z(this,ir).clear()})}getAll(){return Array.from(z(this,Zr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Wx(n,r))}findAll(t={}){return this.getAll().filter(n=>Wx(t,n))}notify(t){Ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(t.map(n=>n.continue().catch(nr))))}},Zr=new WeakMap,ir=new WeakMap,Fc=new WeakMap,ek);function Au(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Kx(e){return{onFetch:(t,n)=>{var u,h,f,m,b;const r=t.options,s=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=Uj(t.options,t.fetchOptions),w=async(S,E,T)=>{if(p)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const j=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return x(O),O})(),N=await y(j),{maxPages:I}=t.options,R=T?ZU:XU;return{pages:R(S.pages,N,I),pageParams:R(S.pageParams,E,I)}};if(s&&i.length){const S=s==="backward",E=S?fB:Jx,T={pages:i,pageParams:o},C=E(r,T);a=await w(T,C,S)}else{const S=e??i.length;do{const E=l===0?o[0]??r.initialPageParam:Jx(r,a);if(l>0&&E==null)break;a=await w(a,E),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Jx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function fB(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var et,Vs,Us,xa,Sa,Bs,_a,Ea,tk,pB=(tk=class{constructor(e={}){Pe(this,et);Pe(this,Vs);Pe(this,Us);Pe(this,xa);Pe(this,Sa);Pe(this,Bs);Pe(this,_a);Pe(this,Ea);we(this,et,e.queryCache||new cB),we(this,Vs,e.mutationCache||new hB),we(this,Us,e.defaultOptions||{}),we(this,xa,new Map),we(this,Sa,new Map),we(this,Bs,0)}mount(){lu(this,Bs)._++,z(this,Bs)===1&&(we(this,_a,Bj.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,et).onFocus())})),we(this,Ea,hh.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,et).onOnline())})))}unmount(){var e,t;lu(this,Bs)._--,z(this,Bs)===0&&((e=z(this,_a))==null||e.call(this),we(this,_a,void 0),(t=z(this,Ea))==null||t.call(this),we(this,Ea,void 0))}isFetching(e){return z(this,et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Vs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,et).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,et).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Dg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return z(this,et).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=z(this,et).get(r.queryHash),i=s==null?void 0:s.state.data,o=HU(t,i);if(o!==void 0)return z(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ht.batch(()=>z(this,et).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,et).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,et);Ht.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,et);return Ht.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ht.batch(()=>z(this,et).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(nr).catch(nr)}invalidateQueries(e,t={}){return Ht.batch(()=>(z(this,et).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ht.batch(()=>z(this,et).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,et).build(this,t);return n.isStaleByTime(Dg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nr).catch(nr)}fetchInfiniteQuery(e){return e.behavior=Kx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nr).catch(nr)}ensureInfiniteQueryData(e){return e.behavior=Kx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hh.isOnline()?z(this,Vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,et)}getMutationCache(){return z(this,Vs)}getDefaultOptions(){return z(this,Us)}setDefaultOptions(e){we(this,Us,e)}setQueryDefaults(e,t){z(this,xa).set(vc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,xa).values()],n={};return t.forEach(r=>{yc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){z(this,Sa).set(vc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Sa).values()],n={};return t.forEach(r=>{yc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Us).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_w(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ew&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Us).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,et).clear(),z(this,Vs).clear()}},et=new WeakMap,Vs=new WeakMap,Us=new WeakMap,xa=new WeakMap,Sa=new WeakMap,Bs=new WeakMap,_a=new WeakMap,Ea=new WeakMap,tk),mB=v.createContext(void 0),gB=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(mB.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(this,arguments)}var Ws;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ws||(Ws={}));const Yx="popstate";function vB(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return $g("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fh(s)}return wB(t,n,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yB(){return Math.random().toString(36).substr(2,8)}function Qx(e,t){return{usr:e.state,key:e.key,idx:t}}function $g(e,t,n,r){return n===void 0&&(n=null),wc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xa(t):t,{state:n,key:t&&t.key||r||yB()})}function fh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function wB(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ws.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(wc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ws.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:a,location:p.location,delta:y})}function f(x,y){a=Ws.Push;let w=$g(p.location,x,y);c=u()+1;let S=Qx(w,c),E=p.createHref(w);try{o.pushState(S,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(E)}i&&l&&l({action:a,location:p.location,delta:1})}function m(x,y){a=Ws.Replace;let w=$g(p.location,x,y);c=u();let S=Qx(w,c),E=p.createHref(w);o.replaceState(S,"",E),i&&l&&l({action:a,location:p.location,delta:0})}function b(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:fh(x);return w=w.replace(/ $/,"%20"),at(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Yx,h),l=x,()=>{s.removeEventListener(Yx,h),l=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return o.go(x)}};return p}var Xx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xx||(Xx={}));function bB(e,t,n){return n===void 0&&(n="/"),xB(e,t,n,!1)}function xB(e,t,n,r){let s=typeof t=="string"?Xa(t):t,i=kw(s.pathname||"/",n);if(i==null)return null;let o=Kj(e);SB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=RB(i);a=NB(o[l],c,r)}return a}function Kj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ti([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Kj(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:PB(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Jj(i.path))s(i,o,l)}),t}function Jj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Jj(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function SB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:AB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _B=/^:[\w-]+$/,EB=3,kB=2,TB=1,CB=10,jB=-2,Zx=e=>e==="*";function PB(e,t){let n=e.split("/"),r=n.length;return n.some(Zx)&&(r+=jB),t&&(r+=kB),n.filter(s=>!Zx(s)).reduce((s,i)=>s+(_B.test(i)?EB:i===""?TB:CB),r)}function AB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function NB(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=eS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=eS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ti([i,h.pathname]),pathnameBase:LB(ti([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ti([i,h.pathnameBase]))}return o}function eS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=OB(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const b=a[h];return m&&!b?c[f]=void 0:c[f]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function OB(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function RB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function IB(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Xa(e):e;return{pathname:n?n.startsWith("/")?n:MB(n,t):t,search:$B(r),hash:FB(s)}}function MB(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Np(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tw(e,t){let n=DB(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cw(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Xa(e):(s=wc({},e),at(!s.pathname||!s.pathname.includes("?"),Np("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Np("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Np("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=IB(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ti=e=>e.join("/").replace(/\/\/+/g,"/"),LB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$B=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yj=["post","put","patch","delete"];new Set(Yj);const UB=["get",...Yj];new Set(UB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(this,arguments)}const jw=v.createContext(null),BB=v.createContext(null),pi=v.createContext(null),vf=v.createContext(null),zr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Qj=v.createContext(null);function zB(e,t){let{relative:n}=t===void 0?{}:t;Za()||at(!1);let{basename:r,navigator:s}=v.useContext(pi),{hash:i,pathname:o,search:a}=Zj(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ti([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Za(){return v.useContext(vf)!=null}function mi(){return Za()||at(!1),v.useContext(vf).location}function Xj(e){v.useContext(pi).static||v.useLayoutEffect(e)}function el(){let{isDataRoute:e}=v.useContext(zr);return e?s4():qB()}function qB(){Za()||at(!1);let e=v.useContext(jw),{basename:t,future:n,navigator:r}=v.useContext(pi),{matches:s}=v.useContext(zr),{pathname:i}=mi(),o=JSON.stringify(Tw(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return Xj(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Cw(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ti([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,o,i,e])}const WB=v.createContext(null);function HB(e){let t=v.useContext(zr).outlet;return t&&v.createElement(WB.Provider,{value:e},t)}function Pw(){let{matches:e}=v.useContext(zr),t=e[e.length-1];return t?t.params:{}}function Zj(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(pi),{matches:s}=v.useContext(zr),{pathname:i}=mi(),o=JSON.stringify(Tw(s,r.v7_relativeSplatPath));return v.useMemo(()=>Cw(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function GB(e,t){return KB(e,t)}function KB(e,t,n,r){Za()||at(!1);let{navigator:s}=v.useContext(pi),{matches:i}=v.useContext(zr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=mi(),u;if(t){var h;let x=typeof t=="string"?Xa(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||at(!1),u=x}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=bB(e,{pathname:m}),p=ZB(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ti([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ti([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&p?v.createElement(vf.Provider,{value:{location:bc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ws.Pop}},p):p}function JB(){let e=r4(),t=VB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const YB=v.createElement(JB,null);class QB extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(zr.Provider,{value:this.props.routeContext},v.createElement(Qj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XB(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(jw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(zr.Provider,{value:t},r)}function ZB(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||at(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:m}=n,b=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,b=!1,p=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,p=h.route.errorElement||YB,l&&(c<0&&f===0?(b=!0,x=null):c===f&&(b=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let S;return m?S=p:b?S=x:h.route.Component?S=v.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,v.createElement(XB,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(QB,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var eP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eP||{}),ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ph||{});function e4(e){let t=v.useContext(jw);return t||at(!1),t}function t4(e){let t=v.useContext(BB);return t||at(!1),t}function n4(e){let t=v.useContext(zr);return t||at(!1),t}function tP(e){let t=n4(),n=t.matches[t.matches.length-1];return n.route.id||at(!1),n.route.id}function r4(){var e;let t=v.useContext(Qj),n=t4(ph.UseRouteError),r=tP(ph.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function s4(){let{router:e}=e4(eP.UseNavigateStable),t=tP(ph.UseNavigateStable),n=v.useRef(!1);return Xj(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,bc({fromRouteId:t},i)))},[e,t])}function i4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function o4(e){let{to:t,replace:n,state:r,relative:s}=e;Za()||at(!1);let{future:i,static:o}=v.useContext(pi),{matches:a}=v.useContext(zr),{pathname:l}=mi(),c=el(),u=Cw(t,Tw(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function a4(e){return HB(e.context)}function un(e){at(!1)}function l4(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ws.Pop,navigator:i,static:o=!1,future:a}=e;Za()&&at(!1);let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:bc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xa(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:b="default"}=r,p=v.useMemo(()=>{let x=kw(u,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:b},navigationType:s}},[l,u,h,f,m,b,s]);return p==null?null:v.createElement(pi.Provider,{value:c},v.createElement(vf.Provider,{children:n,value:p}))}function tS(e){let{children:t,location:n}=e;return GB(Fg(t),n)}new Promise(()=>{});function Fg(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Fg(r.props.children,i));return}r.type!==un&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vg.apply(this,arguments)}function c4(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function u4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d4(e,t){return e.button===0&&(!t||t==="_self")&&!u4(e)}function Ug(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function h4(e,t){let n=Ug(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const f4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p4="6";try{window.__reactRouterVersion=p4}catch{}const m4="startTransition",nS=fy[m4];function g4(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=vB({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(h=>{c&&nS?nS(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.useEffect(()=>i4(r),[r]),v.createElement(l4,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const v4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=t,f=c4(t,f4),{basename:m}=v.useContext(pi),b,p=!1;if(typeof c=="string"&&y4.test(c)&&(b=c,v4))try{let S=new URL(window.location.href),E=c.startsWith("//")?new URL(S.protocol+c):new URL(c),T=kw(E.pathname,m);E.origin===S.origin&&T!=null?c=T+E.search+E.hash:p=!0}catch{}let x=zB(c,{relative:s}),y=w4(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:h});function w(S){r&&r(S),S.defaultPrevented||y(S)}return v.createElement("a",Vg({},f,{href:b||x,onClick:p||i?r:w,ref:n,target:l}))});var rS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rS||(rS={}));var sS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sS||(sS={}));function w4(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=el(),c=mi(),u=Zj(e,{relative:o});return v.useCallback(h=>{if(d4(h,n)){h.preventDefault();let f=r!==void 0?r:fh(c)===fh(u);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,e,i,o,a])}function b4(e){let t=v.useRef(Ug(e)),n=v.useRef(!1),r=mi(),s=v.useMemo(()=>h4(r.search,n.current?null:t.current),[r.search]),i=el(),o=v.useCallback((a,l)=>{const c=Ug(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const Aw=lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?M2:"button";return d.jsx(o,{className:oe(Aw({variant:t,size:n,className:e})),ref:i,...s})});me.displayName="Button";const Nw=v.createContext({});function Ow(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rw=typeof window<"u",nP=Rw?v.useLayoutEffect:v.useEffect,yf=v.createContext(null);function Iw(e,t){e.indexOf(t)===-1&&e.push(t)}function Mw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ur=(e,t,n)=>n>t?t:n<e?e:n;let wf=()=>{},Da=()=>{};const ps={},rP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function sP(e){return typeof e=="object"&&e!==null}const iP=e=>/^0[^.\s]+$/u.test(e);function Dw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Dn=e=>e,x4=(e,t)=>n=>t(e(n)),Jc=(...e)=>e.reduce(x4),xc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Lw{constructor(){this.subscriptions=[]}add(t){return Iw(this.subscriptions,t),()=>Mw(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=e=>e*1e3,On=e=>e/1e3;function oP(e,t){return t?e*(1e3/t):0}const aP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,S4=1e-7,_4=12;function E4(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=aP(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>S4&&++a<_4);return o}function Yc(e,t,n,r){if(e===t&&n===r)return Dn;const s=i=>E4(i,0,1,e,n);return i=>i===0||i===1?i:aP(s(i),t,r)}const lP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cP=e=>t=>1-e(1-t),uP=Yc(.33,1.53,.69,.99),$w=cP(uP),dP=lP($w),hP=e=>(e*=2)<1?.5*$w(e):.5*(2-Math.pow(2,-10*(e-1))),Fw=e=>1-Math.sin(Math.acos(e)),fP=cP(Fw),pP=lP(Fw),k4=Yc(.42,0,1,1),T4=Yc(0,0,.58,1),mP=Yc(.42,0,.58,1),C4=e=>Array.isArray(e)&&typeof e[0]!="number",gP=e=>Array.isArray(e)&&typeof e[0]=="number",iS={linear:Dn,easeIn:k4,easeInOut:mP,easeOut:T4,circIn:Fw,circInOut:pP,circOut:fP,backIn:$w,backInOut:dP,backOut:uP,anticipate:hP},j4=e=>typeof e=="string",oS=e=>{if(gP(e)){Da(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return Yc(t,n,r,s)}else if(j4(e))return Da(iS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),iS[e];return e},Nu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],aS={value:null,addProjectionMetrics:null};function P4(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(u.schedule(h),e()),l++,h(a)}const u={schedule:(h,f=!1,m=!1)=>{const p=m&&s?n:r;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&aS.value&&aS.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,u.process(h))}};return u}const A4=40;function vP(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Nu.reduce((S,E)=>(S[E]=P4(i,t?E:void 0),S),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:f,render:m,postRender:b}=o,p=()=>{const S=ps.useManualTiming?s.timestamp:performance.now();n=!1,ps.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,A4),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),f.process(s),m.process(s),b.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Nu.reduce((S,E)=>{const T=o[E];return S[E]=(C,j=!1,N=!1)=>(n||x(),T.schedule(C,j,N)),S},{}),cancel:S=>{for(let E=0;E<Nu.length;E++)o[Nu[E]].cancel(S)},state:s,steps:o}}const{schedule:qe,cancel:ai,state:jt,steps:Op}=vP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0);let wd;function N4(){wd=void 0}const Kt={now:()=>(wd===void 0&&Kt.set(jt.isProcessing||ps.useManualTiming?jt.timestamp:performance.now()),wd),set:e=>{wd=e,queueMicrotask(N4)}},yP=e=>t=>typeof t=="string"&&t.startsWith(e),wP=yP("--"),O4=yP("var(--"),Vw=e=>O4(e)?R4.test(e.split("/*")[0].trim()):!1,R4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const tl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sc={...tl,transform:e=>Ur(0,1,e)},Ou={...tl,default:1},zl=e=>Math.round(e*1e5)/1e5,Uw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function I4(e){return e==null}const M4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bw=(e,t)=>n=>!!(typeof n=="string"&&M4.test(n)&&n.startsWith(e)||t&&!I4(n)&&Object.prototype.hasOwnProperty.call(n,t)),bP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Uw);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},D4=e=>Ur(0,255,e),Rp={...tl,transform:e=>Math.round(D4(e))},Di={test:Bw("rgb","red"),parse:bP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Rp.transform(e)+", "+Rp.transform(t)+", "+Rp.transform(n)+", "+zl(Sc.transform(r))+")"};function L4(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bg={test:Bw("#"),parse:L4,transform:Di.transform},Qc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ts=Qc("deg"),Lr=Qc("%"),ee=Qc("px"),$4=Qc("vh"),F4=Qc("vw"),cS={...Lr,parse:e=>Lr.parse(e)/100,transform:e=>Lr.transform(e*100)},Jo={test:Bw("hsl","hue"),parse:bP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lr.transform(zl(t))+", "+Lr.transform(zl(n))+", "+zl(Sc.transform(r))+")"},ut={test:e=>Di.test(e)||Bg.test(e)||Jo.test(e),parse:e=>Di.test(e)?Di.parse(e):Jo.test(e)?Jo.parse(e):Bg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Di.transform(e):Jo.transform(e),getAnimatableNone:e=>{const t=ut.parse(e);return t.alpha=0,ut.transform(t)}},V4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U4(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Uw))==null?void 0:t.length)||0)+(((n=e.match(V4))==null?void 0:n.length)||0)>0}const xP="number",SP="color",B4="var",z4="var(",uS="${}",q4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _c(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(q4,l=>(ut.test(l)?(r.color.push(i),s.push(SP),n.push(ut.parse(l))):l.startsWith(z4)?(r.var.push(i),s.push(B4),n.push(l)):(r.number.push(i),s.push(xP),n.push(parseFloat(l))),++i,uS)).split(uS);return{values:n,split:a,indexes:r,types:s}}function _P(e){return _c(e).values}function EP(e){const{split:t,types:n}=_c(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===xP?i+=zl(s[o]):a===SP?i+=ut.transform(s[o]):i+=s[o]}return i}}const W4=e=>typeof e=="number"?0:ut.test(e)?ut.getAnimatableNone(e):e;function H4(e){const t=_P(e);return EP(e)(t.map(W4))}const li={test:U4,parse:_P,createTransformer:EP,getAnimatableNone:H4};function Ip(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function G4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Ip(l,a,e+1/3),i=Ip(l,a,e),o=Ip(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function mh(e,t){return n=>n>0?t:e}const Qe=(e,t,n)=>e+(t-e)*n,Mp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},K4=[Bg,Di,Jo],J4=e=>K4.find(t=>t.test(e));function dS(e){const t=J4(e);if(wf(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Jo&&(n=G4(n)),n}const hS=(e,t)=>{const n=dS(e),r=dS(t);if(!n||!r)return mh(e,t);const s={...n};return i=>(s.red=Mp(n.red,r.red,i),s.green=Mp(n.green,r.green,i),s.blue=Mp(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),Di.transform(s))},zg=new Set(["none","hidden"]);function Y4(e,t){return zg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Q4(e,t){return n=>Qe(e,t,n)}function zw(e){return typeof e=="number"?Q4:typeof e=="string"?Vw(e)?mh:ut.test(e)?hS:e3:Array.isArray(e)?kP:typeof e=="object"?ut.test(e)?hS:X4:mh}function kP(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>zw(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function X4(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=zw(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Z4(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const e3=(e,t)=>{const n=li.createTransformer(t),r=_c(e),s=_c(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?zg.has(e)&&!s.values.length||zg.has(t)&&!r.values.length?Y4(e,t):Jc(kP(Z4(r,s),s.values),n):(wf(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),mh(e,t))};function TP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qe(e,t,n):zw(e)(e,t)}const t3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>qe.update(t,n),stop:()=>ai(t),now:()=>jt.isProcessing?jt.timestamp:Kt.now()}},CP=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gh=2e4;function qw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<gh;)t+=n,r=e.next(t);return t>=gh?1/0:t}function n3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(qw(r),gh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:On(s)}}const r3=5;function jP(e,t,n){const r=Math.max(t-r3,0);return oP(n-e(r),t-r)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dp=.001;function s3({duration:e=Je.duration,bounce:t=Je.bounce,velocity:n=Je.velocity,mass:r=Je.mass}){let s,i;wf(e<=Dr(Je.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=Ur(Je.minDamping,Je.maxDamping,o),e=Ur(Je.minDuration,Je.maxDuration,On(e)),o<1?(s=c=>{const u=c*o,h=u*e,f=u-n,m=qg(c,o),b=Math.exp(-h);return Dp-f/m*b},i=c=>{const h=c*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-h),p=qg(Math.pow(c,2),o);return(-s(c)+Dp>0?-1:1)*((f-m)*b)/p}):(s=c=>{const u=Math.exp(-c*e),h=(c-n)*e+1;return-Dp+u*h},i=c=>{const u=Math.exp(-c*e),h=(n-c)*(e*e);return u*h});const a=5/e,l=o3(s,i,a);if(e=Dr(e),isNaN(l))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const i3=12;function o3(e,t,n){let r=n;for(let s=1;s<i3;s++)r=r-e(r)/t(r);return r}function qg(e,t){return e*Math.sqrt(1-t*t)}const a3=["duration","bounce"],l3=["stiffness","damping","mass"];function fS(e,t){return t.some(n=>e[n]!==void 0)}function c3(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!fS(e,l3)&&fS(e,a3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ur(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Je.mass,stiffness:s,damping:i}}else{const n=s3(e);t={...t,...n,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function vh(e=Je.visualDuration,t=Je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:m}=c3({...n,velocity:-On(n.velocity||0)}),b=f||0,p=c/(2*Math.sqrt(l*u)),x=o-i,y=On(Math.sqrt(l/u)),w=Math.abs(x)<5;r||(r=w?Je.restSpeed.granular:Je.restSpeed.default),s||(s=w?Je.restDelta.granular:Je.restDelta.default);let S;if(p<1){const T=qg(y,p);S=C=>{const j=Math.exp(-p*y*C);return o-j*((b+p*y*x)/T*Math.sin(T*C)+x*Math.cos(T*C))}}else if(p===1)S=T=>o-Math.exp(-y*T)*(x+(b+y*x)*T);else{const T=y*Math.sqrt(p*p-1);S=C=>{const j=Math.exp(-p*y*C),N=Math.min(T*C,300);return o-j*((b+p*y*x)*Math.sinh(N)+T*x*Math.cosh(N))/T}}const E={calculatedDuration:m&&h||null,next:T=>{const C=S(T);if(m)a.done=T>=h;else{let j=T===0?b:0;p<1&&(j=T===0?Dr(b):jP(S,T,C));const N=Math.abs(j)<=r,I=Math.abs(o-C)<=s;a.done=N&&I}return a.value=a.done?o:C,a},toString:()=>{const T=Math.min(qw(E),gh),C=CP(j=>E.next(T*j).value,T,30);return T+"ms "+C},toTransition:()=>{}};return E}vh.applyToOptions=e=>{const t=n3(e,100,vh);return e.ease=t.ease,e.duration=Dr(t.duration),e.type="keyframes",e};function Wg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},m=N=>a!==void 0&&N<a||l!==void 0&&N>l,b=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let p=n*t;const x=h+p,y=o===void 0?x:o(x);y!==x&&(p=y-h);const w=N=>-p*Math.exp(-N/r),S=N=>y+w(N),E=N=>{const I=w(N),R=S(N);f.done=Math.abs(I)<=c,f.value=f.done?y:R};let T,C;const j=N=>{m(f.value)&&(T=N,C=vh({keyframes:[f.value,b(f.value)],velocity:jP(S,N,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return j(0),{calculatedDuration:null,next:N=>{let I=!1;return!C&&T===void 0&&(I=!0,E(N),j(N)),T!==void 0&&N>=T?C.next(N-T):(!I&&E(N),f)}}}function u3(e,t,n){const r=[],s=n||ps.mix||TP,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Dn:t;a=Jc(l,a)}r.push(a)}return r}function d3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Da(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=u3(t,r,s),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=xc(e[h],e[h+1],u);return a[h](f)};return n?u=>c(Ur(e[0],e[i-1],u)):c}function h3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=xc(0,t,r);e.push(Qe(n,1,s))}}function f3(e){const t=[0];return h3(t,e.length-1),t}function p3(e,t){return e.map(n=>n*t)}function m3(e,t){return e.map(()=>t||mP).splice(0,e.length-1)}function ql({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=C4(r)?r.map(oS):oS(r),i={done:!1,value:t[0]},o=p3(n&&n.length===t.length?n:f3(t),e),a=d3(o,t,{ease:Array.isArray(s)?s:m3(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const g3=e=>e!==null;function Ww(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(g3),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const v3={decay:Wg,inertia:Wg,tween:ql,keyframes:ql,spring:vh};function PP(e){typeof e.type=="string"&&(e.type=v3[e.type])}class Hw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const y3=e=>e/100;class Gw extends Hw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;PP(t);const{type:n=ql,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||ql;l!==ql&&typeof a[0]!="number"&&(this.mixKeyframes=Jc(y3,TP(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=qw(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:m,type:b,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,E=r;if(h){const N=Math.min(this.currentTime,s)/a;let I=Math.floor(N),R=N%1;!R&&N>=1&&(R=1),R===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(E=o)),S=Ur(0,1,R)*a}const T=w?{done:!1,value:u[0]}:E.next(S);i&&(T.value=i(T.value));let{done:C}=T;!w&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&b!==Wg&&(T.value=Ww(u,this.options,x,this.speed)),p&&p(T.value),j&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return On(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+On(t)}get time(){return On(this.currentTime)}set time(t){var n;t=Dr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=On(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=t3,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function w3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Li=e=>e*180/Math.PI,Hg=e=>{const t=Li(Math.atan2(e[1],e[0]));return Gg(t)},b3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Hg,rotateZ:Hg,skewX:e=>Li(Math.atan(e[1])),skewY:e=>Li(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gg=e=>(e=e%360,e<0&&(e+=360),e),pS=Hg,mS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),x3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mS,scaleY:gS,scale:e=>(mS(e)+gS(e))/2,rotateX:e=>Gg(Li(Math.atan2(e[6],e[5]))),rotateY:e=>Gg(Li(Math.atan2(-e[2],e[0]))),rotateZ:pS,rotate:pS,skewX:e=>Li(Math.atan(e[4])),skewY:e=>Li(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Kg(e){return e.includes("scale")?1:0}function Jg(e,t){if(!e||e==="none")return Kg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=x3,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=b3,s=a}if(!s)return Kg(t);const i=r[t],o=s[1].split(",").map(_3);return typeof i=="function"?i(o):o[i]}const S3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Jg(n,t)};function _3(e){return parseFloat(e.trim())}const nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rl=new Set(nl),vS=e=>e===tl||e===ee,E3=new Set(["x","y","z"]),k3=nl.filter(e=>!E3.has(e));function T3(e){const t=[];return k3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Hs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jg(t,"x"),y:(e,{transform:t})=>Jg(t,"y")};Hs.translateX=Hs.x;Hs.translateY=Hs.y;const Ji=new Set;let Yg=!1,Qg=!1,Xg=!1;function AP(){if(Qg){const e=Array.from(Ji).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=T3(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qg=!1,Yg=!1,Ji.forEach(e=>e.complete(Xg)),Ji.clear()}function NP(){Ji.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qg=!0)})}function C3(){Xg=!0,NP(),AP(),Xg=!1}class Kw{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ji.add(this),Yg||(Yg=!0,qe.read(NP),qe.resolveKeyframes(AP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}w3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ji.delete(this)}cancel(){this.state==="scheduled"&&(Ji.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j3=e=>e.startsWith("--");function P3(e,t,n){j3(t)?e.style.setProperty(t,n):e.style[t]=n}const A3=Dw(()=>window.ScrollTimeline!==void 0),N3={};function O3(e,t){const n=Dw(e);return()=>N3[t]??n()}const OP=O3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,yS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kl([0,.65,.55,1]),circOut:kl([.55,0,1,.45]),backIn:kl([.31,.01,.66,-.59]),backOut:kl([.33,1.53,.69,.99])};function RP(e,t){if(e)return typeof e=="function"?OP()?CP(e,t):"ease-out":gP(e)?kl(e):Array.isArray(e)?e.map(n=>RP(n,t)||yS.easeOut):yS[e]}function R3(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const h=RP(a,s);Array.isArray(h)&&(u.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(u,f)}function IP(e){return typeof e=="function"&&"applyToOptions"in e}function I3({type:e,...t}){return IP(e)&&OP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class M3 extends Hw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Da(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=I3(t);this.animation=R3(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Ww(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):P3(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return On(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+On(t)}get time(){return On(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Dr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&A3()?(this.animation.timeline=t,Dn):n(this)}}const MP={anticipate:hP,backInOut:dP,circInOut:pP};function D3(e){return e in MP}function L3(e){typeof e.ease=="string"&&D3(e.ease)&&(e.ease=MP[e.ease])}const Lp=10;class $3 extends M3{constructor(t){L3(t),PP(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Gw({...o,autoplay:!1}),l=Math.max(Lp,Kt.now()-this.startTime),c=Ur(0,Lp,l-Lp);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const wS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(li.test(e)||e==="0")&&!e.startsWith("url("));function F3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function V3(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=wS(s,t),a=wS(i,t);return wf(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:F3(e)||(n==="spring"||IP(n))&&r}function Zg(e){e.duration=0,e.type="keyframes"}const U3=new Set(["opacity","clipPath","filter","transform"]),B3=Dw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function z3(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return B3()&&n&&U3.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const q3=40;class W3 extends Hw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){var b;super(),this.stop=()=>{var p,x;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Kt.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...h},m=(u==null?void 0:u.KeyframeResolver)||Kw;this.keyframeResolver=new m(a,(p,x,y)=>this.onKeyframesResolved(p,x,f,!y),l,c,u),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Kt.now(),V3(t,i,o,a)||((ps.instantAnimations||!l)&&(u==null||u(Ww(t,r,n))),t[0]=t[t.length-1],Zg(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>q3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&z3(f)?new $3({...f,element:f.motionValue.owner.current}):new Gw(f);m.finished.then(()=>this.notifyFinished()).catch(Dn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),C3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const H3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G3(e){const t=H3.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const K3=4;function DP(e,t,n=1){Da(n<=K3,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=G3(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return rP(o)?parseFloat(o):o}return Vw(s)?DP(s,t,n+1):s}function Jw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const LP=new Set(["width","height","top","left","right","bottom",...nl]),J3={test:e=>e==="auto",parse:e=>e},$P=e=>t=>t.test(e),FP=[tl,ee,Lr,Ts,F4,$4,J3],bS=e=>FP.find($P(e));function Y3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iP(e):!0}const Q3=new Set(["brightness","contrast","saturate","opacity"]);function X3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Uw)||[];if(!r)return e;const s=n.replace(r,"");let i=Q3.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Z3=/\b([a-z-]*)\(.*?\)/gu,ev={...li,getAnimatableNone:e=>{const t=e.match(Z3);return t?t.map(X3).join(" "):e}},xS={...tl,transform:Math.round},e5={rotate:Ts,rotateX:Ts,rotateY:Ts,rotateZ:Ts,scale:Ou,scaleX:Ou,scaleY:Ou,scaleZ:Ou,skew:Ts,skewX:Ts,skewY:Ts,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Sc,originX:cS,originY:cS,originZ:ee},Yw={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,inset:ee,insetBlock:ee,insetBlockStart:ee,insetBlockEnd:ee,insetInline:ee,insetInlineStart:ee,insetInlineEnd:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,paddingBlock:ee,paddingBlockStart:ee,paddingBlockEnd:ee,paddingInline:ee,paddingInlineStart:ee,paddingInlineEnd:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,marginBlock:ee,marginBlockStart:ee,marginBlockEnd:ee,marginInline:ee,marginInlineStart:ee,marginInlineEnd:ee,backgroundPositionX:ee,backgroundPositionY:ee,...e5,zIndex:xS,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:xS},t5={...Yw,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:ev,WebkitFilter:ev},VP=e=>t5[e];function UP(e,t){let n=VP(e);return n!==ev&&(n=li),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const n5=new Set(["auto","none","0"]);function r5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!n5.has(i)&&_c(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=UP(n,s)}class s5 extends Kw{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let h=t[u];if(typeof h=="string"&&(h=h.trim(),Vw(h))){const f=DP(h,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!LP.has(r)||t.length!==2)return;const[s,i]=t,o=bS(s),a=bS(i),l=lS(s),c=lS(i);if(l!==c&&Hs[r]){this.needsMeasurement=!0;return}if(o!==a)if(vS(o)&&vS(a))for(let u=0;u<t.length;u++){const h=t[u];typeof h=="string"&&(t[u]=parseFloat(h))}else Hs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||Y3(t[s]))&&r.push(s);r.length&&r5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Hs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function i5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const BP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zP(e){return sP(e)&&"offsetHeight"in e}const SS=30,o5=e=>!isNaN(parseFloat(e));class a5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Kt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=o5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Lw);const r=this.events[t].add(n);return t==="change"?()=>{r(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>SS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,SS);return oP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(e,t){return new a5(e,t)}const{schedule:Qw,cancel:oY}=vP(queueMicrotask,!1),Xn={x:!1,y:!1};function qP(){return Xn.x||Xn.y}function l5(e){return e==="x"||e==="y"?Xn[e]?null:(Xn[e]=!0,()=>{Xn[e]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function WP(e,t){const n=i5(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function _S(e){return!(e.pointerType==="touch"||qP())}function c5(e,t,n={}){const[r,s,i]=WP(e,n),o=a=>{if(!_S(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=h=>{_S(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const HP=(e,t)=>t?e===t?!0:HP(e,t.parentElement):!1,Xw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,u5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GP(e){return u5.has(e.tagName)||e.isContentEditable===!0}const bd=new WeakSet;function ES(e){return t=>{t.key==="Enter"&&e(t)}}function $p(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const d5=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ES(()=>{if(bd.has(n))return;$p(n,"down");const s=ES(()=>{$p(n,"up")}),i=()=>$p(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function kS(e){return Xw(e)&&!qP()}function h5(e,t,n={}){const[r,s,i]=WP(e,n),o=a=>{const l=a.currentTarget;if(!kS(a))return;bd.add(l);const c=t(l,a),u=(m,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),bd.has(l)&&bd.delete(l),kS(m)&&typeof c=="function"&&c(m,{success:b})},h=m=>{u(m,l===window||l===document||n.useGlobalTarget||HP(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),zP(a)&&(a.addEventListener("focus",c=>d5(c,s)),!GP(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function KP(e){return sP(e)&&"ownerSVGElement"in e}function f5(e){return KP(e)&&e.tagName==="svg"}const $t=e=>!!(e&&e.getVelocity),p5=[...FP,ut,li],m5=e=>p5.find($P(e)),Zw=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function TS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function g5(...e){return t=>{let n=!1;const r=e.map(s=>{const i=TS(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():TS(e[s],null)}}}}function v5(...e){return v.useCallback(g5(...e),e)}class y5 extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=zP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function w5({children:e,isPresent:t,anchorX:n,root:r}){var u;const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(Zw),l=((u=e.props)==null?void 0:u.ref)??(e==null?void 0:e.ref),c=v5(i,l);return v.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:b,right:p}=o.current;if(t||!i.current||!h||!f)return;const x=n==="left"?`left: ${b}`:`right: ${p}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),d.jsx(y5,{isPresent:t,childRef:i,sizeRef:o,children:v.cloneElement(e,{ref:c})})}const b5=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Ow(x5),u=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const b of c.values())if(!b)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(f={...f}),v.useMemo(()=>{c.forEach((m,b)=>c.set(b,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=d.jsx(w5,{isPresent:n,anchorX:a,root:l,children:e})),d.jsx(yf.Provider,{value:f,children:e})};function x5(){return new Map}function JP(e=!0){const t=v.useContext(yf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=v.useId();v.useEffect(()=>{if(e)return s(i)},[e]);const o=v.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Ru=e=>e.key||"";function CS(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const $a=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=JP(o),h=v.useMemo(()=>CS(e),[e]),f=o&&!c?[]:h.map(Ru),m=v.useRef(!0),b=v.useRef(h),p=Ow(()=>new Map),x=v.useRef(new Set),[y,w]=v.useState(h),[S,E]=v.useState(h);nP(()=>{m.current=!1,b.current=h;for(let j=0;j<S.length;j++){const N=Ru(S[j]);f.includes(N)?(p.delete(N),x.current.delete(N)):p.get(N)!==!0&&p.set(N,!1)}},[S,f.length,f.join("-")]);const T=[];if(h!==y){let j=[...h];for(let N=0;N<S.length;N++){const I=S[N],R=Ru(I);f.includes(R)||(j.splice(N,0,I),T.push(I))}return i==="wait"&&T.length&&(j=T),E(CS(j)),w(h),null}const{forceRender:C}=v.useContext(Nw);return d.jsx(d.Fragment,{children:S.map(j=>{const N=Ru(j),I=o&&!c?!1:h===S||f.includes(N),R=()=>{if(x.current.has(N))return;if(x.current.add(N),p.has(N))p.set(N,!0);else return;let O=!0;p.forEach(L=>{L||(O=!1)}),O&&(C==null||C(),E(b.current),o&&(u==null||u()),r&&r())};return d.jsx(b5,{isPresent:I,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:I?void 0:R,anchorX:a,children:j},N)})})},YP=v.createContext({strict:!1}),jS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const e in jS)Fa[e]={isEnabled:t=>jS[e].some(n=>!!t[n])};function S5(e){for(const t in e)Fa[t]={...Fa[t],...e[t]}}const _5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_5.has(e)}let QP=e=>!yh(e);function E5(e){typeof e=="function"&&(QP=t=>t.startsWith("on")?!yh(t):e(t))}try{E5(require("@emotion/is-prop-valid").default)}catch{}function k5(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(QP(s)||n===!0&&yh(s)||!t&&!yh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const bf=v.createContext({});function xf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ec(e){return typeof e=="string"||Array.isArray(e)}const e0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t0=["initial",...e0];function Sf(e){return xf(e.animate)||t0.some(t=>Ec(e[t]))}function XP(e){return!!(Sf(e)||e.variants)}function T5(e,t){if(Sf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ec(n)?n:void 0,animate:Ec(r)?r:void 0}}return e.inherit!==!1?t:{}}function C5(e){const{initial:t,animate:n}=T5(e,v.useContext(bf));return v.useMemo(()=>({initial:t,animate:n}),[PS(t),PS(n)])}function PS(e){return Array.isArray(e)?e.join(" "):e}function AS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=AS(e,t.target.x),r=AS(e,t.target.y);return`${n}% ${r}%`}},j5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=li.parse(e);if(s.length>5)return r;const i=li.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},tv={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:j5};function ZP(e,{layout:t,layoutId:n}){return rl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!tv[e]||e==="opacity")}const P5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A5=nl.length;function N5(e,t,n){let r="",s=!0;for(let i=0;i<A5;i++){const o=nl[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=BP(a,Yw[o]);if(!l){s=!1;const u=P5[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function n0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(rl.has(l)){o=!0;continue}else if(wP(l)){s[l]=c;continue}else{const u=BP(c,Yw[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=N5(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const r0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eA(e,t,n){for(const r in t)!$t(t[r])&&!ZP(r,n)&&(e[r]=t[r])}function O5({transformTemplate:e},t){return v.useMemo(()=>{const n=r0();return n0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function R5(e,t){const n=e.style||{},r={};return eA(r,n,e),Object.assign(r,O5(e,t)),r}function I5(e,t){const n={},r=R5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const M5={offset:"stroke-dashoffset",array:"stroke-dasharray"},D5={offset:"strokeDashoffset",array:"strokeDasharray"};function L5(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?M5:D5;e[i.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[i.array]=`${o} ${a}`}const $5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function tA(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(n0(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox);for(const m of $5)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&L5(h,s,i,o,!1)}const nA=()=>({...r0(),attrs:{}}),rA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function F5(e,t,n,r){const s=v.useMemo(()=>{const i=nA();return tA(i,t,rA(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};eA(i,e.style,e),s.style={...i,...s.style}}return s}const V5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s0(e){return typeof e!="string"||e.includes("-")?!1:!!(V5.indexOf(e)>-1||/[A-Z]/u.test(e))}function U5(e,t,n,{latestValues:r},s,i=!1,o){const l=(o??s0(e)?F5:I5)(t,r,s,e),c=k5(t,typeof e=="string",i),u=e!==v.Fragment?{...c,...l,ref:n}:{},{children:h}=t,f=v.useMemo(()=>$t(h)?h.get():h,[h]);return v.createElement(e,{...u,children:f})}function NS(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function i0(e,t,n,r){if(typeof t=="function"){const[s,i]=NS(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=NS(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function xd(e){return $t(e)?e.get():e}function B5({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:z5(n,r,s,e),renderState:t()}}function z5(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=xd(i[f]);let{initial:o,animate:a}=e;const l=Sf(e),c=XP(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!xf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const b=i0(e,f[m]);if(b){const{transitionEnd:p,transition:x,...y}=b;for(const w in y){let S=y[w];if(Array.isArray(S)){const E=u?S.length-1:0;S=S[E]}S!==null&&(s[w]=S)}for(const w in p)s[w]=p[w]}}}return s}const sA=e=>(t,n)=>{const r=v.useContext(bf),s=v.useContext(yf),i=()=>B5(e,t,r,s);return n?i():Ow(i)};function o0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)($t(r[o])||t.style&&$t(t.style[o])||ZP(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const q5=sA({scrapeMotionValuesFromProps:o0,createRenderState:r0});function iA(e,t,n){const r=o0(e,t,n);for(const s in e)if($t(e[s])||$t(t[s])){const i=nl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const W5=sA({scrapeMotionValuesFromProps:iA,createRenderState:nA}),H5=Symbol.for("motionComponentSymbol");function G5(e,t,n){const r=v.useRef(n);v.useInsertionEffect(()=>{r.current=n});const s=v.useRef(null);return v.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const a0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K5="framerAppearId",oA="data-"+a0(K5),aA=v.createContext({});function Tl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function J5(e,t,n,r,s,i){var x,y;const{visualElement:o}=v.useContext(bf),a=v.useContext(YP),l=v.useContext(yf),c=v.useContext(Zw).reducedMotion,u=v.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const h=u.current,f=v.useContext(aA);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Y5(u.current,n,s,f);const m=v.useRef(!1);v.useInsertionEffect(()=>{h&&m.current&&h.update(n,l)});const b=n[oA],p=v.useRef(!!b&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,b))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,b)));return nP(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,b)}),p.current=!1),h.enteringChildren=void 0)}),h}function Y5(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:lA(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Tl(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function lA(e){if(e)return e.options.allowProjection!==!1?e.projection:lA(e.parent)}function Fp(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&S5(r);const i=n?n==="svg":s0(e),o=i?W5:q5;function a(c,u){let h;const f={...v.useContext(Zw),...c,layoutId:Q5(c)},{isStatic:m}=f,b=C5(c),p=o(c,m);if(!m&&Rw){X5();const x=Z5(f);h=x.MeasureLayout,b.visualElement=J5(e,p,f,s,x.ProjectionNode,i)}return d.jsxs(bf.Provider,{value:b,children:[h&&b.visualElement?d.jsx(h,{visualElement:b.visualElement,...f}):null,U5(e,c,G5(p,b.visualElement,u),p,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(a);return l[H5]=e,l}function Q5({layoutId:e}){const t=v.useContext(Nw).id;return t&&e!==void 0?t+"-"+e:e}function X5(e,t){v.useContext(YP).strict}function Z5(e){const{drag:t,layout:n}=Fa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ez(e,t){if(typeof Proxy>"u")return Fp;const n=new Map,r=(i,o)=>Fp(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Fp(o,void 0,e,t)),n.get(o))})}function cA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function tz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vp(e){return e===void 0||e===1}function nv({scale:e,scaleX:t,scaleY:n}){return!Vp(e)||!Vp(t)||!Vp(n)}function Pi(e){return nv(e)||uA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uA(e){return OS(e.x)||OS(e.y)}function OS(e){return e&&e!=="0%"}function wh(e,t,n){const r=e-n,s=t*r;return n+s}function RS(e,t,n,r,s){return s!==void 0&&(e=wh(e,s,r)),wh(e,n,r)+t}function rv(e,t=0,n=1,r,s){e.min=RS(e.min,t,n,r,s),e.max=RS(e.max,t,n,r,s)}function dA(e,{x:t,y:n}){rv(e.x,t.translate,t.scale,t.originPoint),rv(e.y,n.translate,n.scale,n.originPoint)}const IS=.999999999999,MS=1.0000000000001;function rz(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,dA(e,o)),r&&Pi(i.latestValues)&&Qo(e,i.latestValues))}t.x<MS&&t.x>IS&&(t.x=1),t.y<MS&&t.y>IS&&(t.y=1)}function Yo(e,t){e.min=e.min+t,e.max=e.max+t}function DS(e,t,n,r,s=.5){const i=Qe(e.min,e.max,s);rv(e,t,n,i,r)}function Qo(e,t){DS(e.x,t.x,t.scaleX,t.scale,t.originX),DS(e.y,t.y,t.scaleY,t.scale,t.originY)}function hA(e,t){return cA(nz(e.getBoundingClientRect(),t))}function sz(e,t,n){const r=hA(e,n),{scroll:s}=t;return s&&(Yo(r.x,s.offset.x),Yo(r.y,s.offset.y)),r}const LS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:LS(),y:LS()}),$S=()=>({min:0,max:0}),pt=()=>({x:$S(),y:$S()}),sv={current:null},fA={current:!1};function iz(){if(fA.current=!0,!!Rw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sv.current=e.matches;e.addEventListener("change",t),t()}else sv.current=!1}const oz=new WeakMap;function az(e,t,n){for(const r in t){const s=t[r],i=n[r];if($t(s))e.addValue(r,s);else if($t(i))e.addValue(r,La(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,La(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const FS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Kt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,qe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Sf(n),this.isVariantNode=XP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&$t(m)&&m.set(l[f])}}mount(t){var n;this.current=t,oz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(fA.current||iz(),this.shouldReduceMotion=sv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ai(this.notifyUpdate),ai(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=rl.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fa){const n=Fa[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<FS.length;r++){const s=FS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=az(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=La(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(rP(r)||iP(r))?r=parseFloat(r):!m5(r)&&li.test(n)&&(r=UP(t,n)),this.setBaseTarget(t,$t(r)?r.get():r)),$t(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=i0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!$t(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Lw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Qw.render(this.render)}}class pA extends lz{constructor(){super(...arguments),this.KeyframeResolver=s5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mA(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function cz(e){return window.getComputedStyle(e)}class uz extends pA{constructor(){super(...arguments),this.type="html",this.renderInstance=mA}readValueFromInstance(t,n){var r;if(rl.has(n))return(r=this.projection)!=null&&r.isProjecting?Kg(n):S3(t,n);{const s=cz(t),i=(wP(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return hA(t,n)}build(t,n,r){n0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return o0(t,n,r)}}const gA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dz(e,t,n,r){mA(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(gA.has(s)?s:a0(s),t.attrs[s])}class hz extends pA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rl.has(n)){const r=VP(n);return r&&r.default||0}return n=gA.has(n)?n:a0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return iA(t,n,r)}build(t,n,r){tA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){dz(t,n,r,s)}mount(t){this.isSVGTag=rA(t.tagName),super.mount(t)}}const fz=(e,t)=>t.isSVG??s0(e)?new hz(t):new uz(t,{allowProjection:e!==v.Fragment});function ca(e,t,n){const r=e.getProps();return i0(r,t,n!==void 0?n:r.custom,e)}const iv=e=>Array.isArray(e);function pz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,La(n))}function mz(e){return iv(e)?e[e.length-1]||0:e}function gz(e,t){const n=ca(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=mz(i[o]);pz(e,o,a)}}function vz(e){return!!($t(e)&&e.add)}function ov(e,t){const n=e.getValue("willChange");if(vz(n))return n.add(t);if(!n&&ps.WillChange){const r=new ps.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function vA(e){return e.props[oA]}const yz=e=>e!==null;function wz(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(yz),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const bz={type:"spring",stiffness:500,damping:25,restSpeed:10},xz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Sz={type:"keyframes",duration:.8},_z={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ez=(e,{keyframes:t})=>t.length>2?Sz:rl.has(e)?e.startsWith("scale")?xz(t[1]):bz:_z;function kz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const l0=(e,t,n,r={},s,i)=>o=>{const a=Jw(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Dr(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};kz(a)||Object.assign(u,Ez(e,u)),u.duration&&(u.duration=Dr(u.duration)),u.repeatDelay&&(u.repeatDelay=Dr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Zg(u),u.delay===0&&(h=!0)),(ps.instantAnimations||ps.skipAnimations)&&(h=!0,Zg(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=wz(u.keyframes,a);if(f!==void 0){qe.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new Gw(u):new W3(u)};function Tz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function yA(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){const h=e.getValue(u,e.latestValues[u]??null),f=a[u];if(f===void 0||c&&Tz(c,u))continue;const m={delay:n,...Jw(i||{},u)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===b&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=vA(e);if(y){const w=window.MotionHandoffAnimation(y,u,qe);w!==null&&(m.startTime=w,p=!0)}}ov(e,u),h.start(l0(u,h,f,e.shouldReduceMotion&&LP.has(u)?{type:!1}:m,e,p));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{qe.update(()=>{o&&gz(e,o)})}),l}function wA(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function av(e,t,n={}){var l;const r=ca(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(yA(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=s;return Cz(e,t,c,u,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Cz(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(av(l,t,{...o,delay:n+(typeof r=="function"?0:r)+wA(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function jz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>av(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=av(e,t,n);else{const s=typeof t=="function"?ca(e,t,n.custom):t;r=Promise.all(yA(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function bA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Pz=t0.length;function xA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?xA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Pz;n++){const r=t0[n],s=e.props[r];(Ec(s)||s===!1)&&(t[r]=s)}return t}const Az=[...e0].reverse(),Nz=e0.length;function Oz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>jz(e,n,r)))}function Rz(e){let t=Oz(e),n=VS(),r=!0;const s=l=>(c,u)=>{var f;const h=ca(e,u,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:b,...p}=h;c={...c,...p,...b}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=xA(e.parent)||{},h=[],f=new Set;let m={},b=1/0;for(let x=0;x<Nz;x++){const y=Az[x],w=n[y],S=c[y]!==void 0?c[y]:u[y],E=Ec(S),T=y===l?w.isActive:null;T===!1&&(b=x);let C=S===u[y]&&S!==c[y]&&E;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&T===null||!S&&!w.prevProp||xf(S)||typeof S=="boolean")continue;const j=Iz(w.prevProp,S);let N=j||y===l&&w.isActive&&!C&&E||x>b&&E,I=!1;const R=Array.isArray(S)?S:[S];let O=R.reduce(s(y),{});T===!1&&(O={});const{prevResolvedValues:L={}}=w,H={...L,...O},$=Q=>{N=!0,f.has(Q)&&(I=!0,f.delete(Q)),w.needsAnimating[Q]=!0;const D=e.getValue(Q);D&&(D.liveStyle=!1)};for(const Q in H){const D=O[Q],F=L[Q];if(m.hasOwnProperty(Q))continue;let Y=!1;iv(D)&&iv(F)?Y=!bA(D,F):Y=D!==F,Y?D!=null?$(Q):f.add(Q):D!==void 0&&f.has(Q)?$(Q):w.protectedKeys[Q]=!0}w.prevProp=S,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(N=!1);const B=C&&j;N&&(!B||I)&&h.push(...R.map(Q=>{const D={type:y};if(typeof Q=="string"&&r&&!B&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,Y=ca(F,Q);if(F.enteringChildren&&Y){const{delayChildren:le}=Y.transition||{};D.delay=wA(F.enteringChildren,e,le)}}return{animation:Q,options:D}}))}if(f.size){const x={};if(typeof c.initial!="boolean"){const y=ca(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(x.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),x[y]=w??null}),h.push({animation:x})}let p=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=VS()}}}function Iz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bA(t,e):!1}function bi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VS(){return{animate:bi(!0),whileInView:bi(),whileHover:bi(),whileTap:bi(),whileDrag:bi(),whileFocus:bi(),exit:bi()}}class gi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Mz extends gi{constructor(t){super(t),t.animationState||(t.animationState=Rz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Dz=0;class Lz extends gi{constructor(){super(...arguments),this.id=Dz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $z={animation:{Feature:Mz},exit:{Feature:Lz}};function kc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Xc(e){return{point:{x:e.pageX,y:e.pageY}}}const Fz=e=>t=>Xw(t)&&e(t,Xc(t));function Wl(e,t,n,r){return kc(e,t,Fz(n),r)}const SA=1e-4,Vz=1-SA,Uz=1+SA,_A=.01,Bz=0-_A,zz=0+_A;function Jt(e){return e.max-e.min}function qz(e,t,n){return Math.abs(e-t)<=n}function US(e,t,n,r=.5){e.origin=r,e.originPoint=Qe(t.min,t.max,e.origin),e.scale=Jt(n)/Jt(t),e.translate=Qe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Vz&&e.scale<=Uz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Bz&&e.translate<=zz||isNaN(e.translate))&&(e.translate=0)}function Hl(e,t,n,r){US(e.x,t.x,n.x,r?r.originX:void 0),US(e.y,t.y,n.y,r?r.originY:void 0)}function BS(e,t,n){e.min=n.min+t.min,e.max=e.min+Jt(t)}function Wz(e,t,n){BS(e.x,t.x,n.x),BS(e.y,t.y,n.y)}function zS(e,t,n){e.min=t.min-n.min,e.max=e.min+Jt(t)}function bh(e,t,n){zS(e.x,t.x,n.x),zS(e.y,t.y,n.y)}function Tn(e){return[e("x"),e("y")]}const EA=({current:e})=>e?e.ownerDocument.defaultView:null,qS=(e,t)=>Math.abs(e-t);function Hz(e,t){const n=qS(e.x,t.x),r=qS(e.y,t.y);return Math.sqrt(n**2+r**2)}const WS=new Set(["auto","scroll"]);class kA{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Bp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,p=Hz(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!p)return;const{point:x}=m,{timestamp:y}=jt;this.history.push({...x,timestamp:y});const{onStart:w,onMove:S}=this.handlers;b||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,b)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Up(b,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(m,b)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Bp(m.type==="pointercancel"?this.lastMoveEventInfo:Up(b,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,w),x&&x(m,w)},!Xw(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Xc(t),c=Up(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=jt;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,Bp(c,this.history)),this.removeListeners=Jc(Wl(this.contextWindow,"pointermove",this.handlePointerMove),Wl(this.contextWindow,"pointerup",this.handlePointerUp),Wl(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(WS.has(r.overflowX)||WS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),qe.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ai(this.updatePoint)}}function Up(e,t){return t?{point:t(e.point)}:e}function HS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bp({point:e},t){return{point:e,delta:HS(e,TA(t)),offset:HS(e,Gz(t)),velocity:Kz(t,.1)}}function Gz(e){return e[0]}function TA(e){return e[e.length-1]}function Kz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=TA(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Dr(t)));)n--;if(!r)return{x:0,y:0};const i=On(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Qe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Qe(n,e,r.max):Math.min(e,n)),e}function GS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Yz(e,{top:t,left:n,bottom:r,right:s}){return{x:GS(e.x,n,s),y:GS(e.y,t,r)}}function KS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Qz(e,t){return{x:KS(e.x,t.x),y:KS(e.y,t.y)}}function Xz(e,t){let n=.5;const r=Jt(e),s=Jt(t);return s>r?n=xc(t.min,t.max-r,e.min):r>s&&(n=xc(e.min,e.max-s,t.min)),Ur(0,1,n)}function Zz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const lv=.35;function eq(e=lv){return e===!1?e=0:e===!0&&(e=lv),{x:JS(e,"left","right"),y:JS(e,"top","bottom")}}function JS(e,t,n){return{min:YS(e,t),max:YS(e,n)}}function YS(e,t){return typeof e=="number"?e:e[t]||0}const tq=new WeakMap;class nq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(Xc(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:m,dragPropagation:b,onDragStart:p}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l5(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Lr.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[y];E&&(w=Jt(E)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&qe.postRender(()=>p(h,f)),ov(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:p,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(b&&this.currentDirection===null){this.currentDirection=rq(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),x&&x(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Tn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new kA(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:EA(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Iu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Jz(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Tl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Yz(r.layoutBox,t):this.constraints=!1,this.elastic=eq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Zz(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Tl(t))return!1;const r=t.current;Da(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=sz(r,s.root,this.visualElement.getTransformPagePoint());let o=Qz(s.layout.layoutBox,i);if(n){const a=n(tz(o));this.hasMutatedConstraints=!!a,a&&(o=cA(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Tn(u=>{if(!Iu(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,b={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,b)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ov(this.visualElement,t),r.start(l0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tn(n=>{const{drag:r}=this.getProps();if(!Iu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-Qe(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Xz({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tn(o=>{if(!Iu(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;tq.set(this.visualElement,this);const t=this.visualElement.current,n=Wl(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&!GP(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Tl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qe.read(r);const o=kc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tn(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=lv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Iu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rq(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class sq extends gi{constructor(t){super(t),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new nq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const QS=e=>(t,n)=>{e&&qe.postRender(()=>e(t,n))};class iq extends gi{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(t){this.session=new kA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:QS(t),onStart:QS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&qe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Wl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let zp=!1;class oq extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),zp&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,zp=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Qw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;zp=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CA(e){const[t,n]=JP(),r=v.useContext(Nw);return d.jsx(oq,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(aA),isPresent:t,safeToRemove:n})}function aq(e,t,n){const r=$t(e)?e:La(e);return r.start(l0("",r,t,n)),r.animation}const lq=(e,t)=>e.depth-t.depth;class cq{constructor(){this.children=[],this.isDirty=!1}add(t){Iw(this.children,t),this.isDirty=!0}remove(t){Mw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lq),this.isDirty=!1,this.children.forEach(t)}}function uq(e,t){const n=Kt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ai(r),e(i-t))};return qe.setup(r,!0),()=>ai(r)}const jA=["TopLeft","TopRight","BottomLeft","BottomRight"],dq=jA.length,XS=e=>typeof e=="string"?parseFloat(e):e,ZS=e=>typeof e=="number"||ee.test(e);function hq(e,t,n,r,s,i){s?(e.opacity=Qe(0,n.opacity??1,fq(r)),e.opacityExit=Qe(t.opacity??1,0,pq(r))):i&&(e.opacity=Qe(t.opacity??1,n.opacity??1,r));for(let o=0;o<dq;o++){const a=`border${jA[o]}Radius`;let l=e_(t,a),c=e_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ZS(l)===ZS(c)?(e[a]=Math.max(Qe(XS(l),XS(c),r),0),(Lr.test(c)||Lr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Qe(t.rotate||0,n.rotate||0,r))}function e_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fq=PA(0,.5,fP),pq=PA(.5,.95,Dn);function PA(e,t,n){return r=>r<e?0:r>t?1:n(xc(e,t,r))}function t_(e,t){e.min=t.min,e.max=t.max}function Jn(e,t){t_(e.x,t.x),t_(e.y,t.y)}function n_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function r_(e,t,n,r,s){return e-=t,e=wh(e,1/n,r),s!==void 0&&(e=wh(e,1/s,r)),e}function mq(e,t=0,n=1,r=.5,s,i=e,o=e){if(Lr.test(t)&&(t=parseFloat(t),t=Qe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Qe(i.min,i.max,r);e===i&&(a-=t),e.min=r_(e.min,t,n,a,s),e.max=r_(e.max,t,n,a,s)}function s_(e,t,[n,r,s],i,o){mq(e,t[n],t[r],t[s],t.scale,i,o)}const gq=["x","scaleX","originX"],vq=["y","scaleY","originY"];function i_(e,t,n,r){s_(e.x,t,gq,n?n.x:void 0,r?r.x:void 0),s_(e.y,t,vq,n?n.y:void 0,r?r.y:void 0)}function o_(e){return e.translate===0&&e.scale===1}function AA(e){return o_(e.x)&&o_(e.y)}function a_(e,t){return e.min===t.min&&e.max===t.max}function yq(e,t){return a_(e.x,t.x)&&a_(e.y,t.y)}function l_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NA(e,t){return l_(e.x,t.x)&&l_(e.y,t.y)}function c_(e){return Jt(e.x)/Jt(e.y)}function u_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wq{constructor(){this.members=[]}add(t){Iw(this.members,t),t.scheduleRender()}remove(t){if(Mw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bq(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:m,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const qp=["","X","Y","Z"],xq=1e3;let Sq=0;function Wp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function OA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&OA(r)}function RA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Sq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kq),this.nodes.forEach(Pq),this.nodes.forEach(Aq),this.nodes.forEach(Tq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new cq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Lw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=KP(o)&&!f5(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=uq(f,250),Sd.hasAnimatedSinceResize&&(Sd.hasAnimatedSinceResize=!1,this.nodes.forEach(f_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||Mq,{onLayoutAnimationStart:p,onLayoutAnimationComplete:x}=c.getProps(),y=!this.targetLayout||!NA(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Jw(b,"layout"),onPlay:p,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,w)}else h||f_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ai(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(h_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jq),this.nodes.forEach(_q),this.nodes.forEach(Eq)):this.nodes.forEach(h_),this.clearAllSnapshots();const a=Kt.now();jt.delta=Ur(0,1e3/60,a-jt.timestamp),jt.timestamp=a,jt.isProcessing=!0,Op.update.process(jt),Op.preRender.process(jt),Op.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cq),this.sharedNodes.forEach(Oq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!AA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Pi(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Dq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return pt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Lq))){const{scroll:u}=this.root;u&&(Yo(a.x,u.offset.x),Yo(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=pt();if(Jn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Jn(a,o),Yo(a.x,h.offset.x),Yo(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=pt();Jn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Pi(u.latestValues)&&Qo(l,u.latestValues)}return Pi(this.latestValues)&&Qo(l,this.latestValues),l}removeTransform(o){const a=pt();Jn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Pi(c.latestValues))continue;nv(c.latestValues)&&c.updateSnapshot();const u=pt(),h=c.measurePageBox();Jn(u,h),i_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Pi(this.latestValues)&&i_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!this.layout||!(u||h))return;this.resolvedRelativeTargetAt=jt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Wz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),dA(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||nv(this.parent.latestValues)||uA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),bh(this.relativeTargetOrigin,a,l),Jn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Jn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;rz(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(n_(this.prevProjectionDelta.x,this.projectionDelta.x),n_(this.prevProjectionDelta.y,this.projectionDelta.y)),Hl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!u_(this.projectionDelta.x,this.prevProjectionDelta.x)||!u_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=pt(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,p=m!==b,x=this.getStack(),y=!x||x.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(Iq));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const T=E/1e3;p_(h.x,o.x,T),p_(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rq(this.relativeTarget,this.relativeTargetOrigin,f,T),S&&yq(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=pt()),Jn(S,this.relativeTarget)),p&&(this.animationValues=u,hq(u,c,this.latestValues,T,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ai(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Sd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=La(0)),this.currentAnimation=aq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&IA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pt();const h=Jt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Jt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Jn(a,l),Qo(a,u),Hl(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wq),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Wp("z",o,c,this.animationValues);for(let u=0;u<qp.length;u++)Wp(`rotate${qp[u]}`,o,c,this.animationValues),Wp(`skew${qp[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=xd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=xd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Pi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=bq(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const b in tv){if(u[b]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:y}=tv[b],w=h==="none"?u[b]:p(u[b],c);if(x){const S=x.length;for(let E=0;E<S;E++)o[x[E]]=w}else y?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=c===this?xd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(d_),this.root.sharedNodes.clear()}}}function _q(e){e.updateLayout()}function Eq(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Tn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Jt(f);f.min=r[h].min,f.max=f.min+m}):IA(i,t.layoutBox,r)&&Tn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Jt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Xo();Hl(a,r,t.layoutBox);const l=Xo();o?Hl(l,e.applyTransform(s,!0),t.measuredBox):Hl(l,r,t.layoutBox);const c=!AA(a);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const b=pt();bh(b,t.layoutBox,f.layoutBox);const p=pt();bh(p,r,m.layoutBox),NA(b,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function kq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Tq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Cq(e){e.clearSnapshot()}function d_(e){e.clearMeasurements()}function h_(e){e.isLayoutDirty=!1}function jq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function f_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Pq(e){e.resolveTargetDelta()}function Aq(e){e.calcProjection()}function Nq(e){e.resetSkewAndRotation()}function Oq(e){e.removeLeadSnapshot()}function p_(e,t,n){e.translate=Qe(t.translate,0,n),e.scale=Qe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function m_(e,t,n,r){e.min=Qe(t.min,n.min,r),e.max=Qe(t.max,n.max,r)}function Rq(e,t,n,r){m_(e.x,t.x,n.x,r),m_(e.y,t.y,n.y,r)}function Iq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Mq={duration:.45,ease:[.4,0,.1,1]},g_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),v_=g_("applewebkit/")&&!g_("chrome/")?Math.round:Dn;function y_(e){e.min=v_(e.min),e.max=v_(e.max)}function Dq(e){y_(e.x),y_(e.y)}function IA(e,t,n){return e==="position"||e==="preserve-aspect"&&!qz(c_(t),c_(n),.2)}function Lq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const $q=RA({attachResizeListener:(e,t)=>kc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},MA=RA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hp.current){const e=new $q({});e.mount(window),e.setOptions({layoutScroll:!0}),Hp.current=e}return Hp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Fq={pan:{Feature:iq},drag:{Feature:sq,ProjectionNode:MA,MeasureLayout:CA}};function w_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&qe.postRender(()=>i(t,Xc(t)))}class Vq extends gi{mount(){const{current:t}=this.node;t&&(this.unmount=c5(t,(n,r)=>(w_(this.node,r,"Start"),s=>w_(this.node,s,"End"))))}unmount(){}}class Uq extends gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jc(kc(this.node.current,"focus",()=>this.onFocus()),kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&qe.postRender(()=>i(t,Xc(t)))}class Bq extends gi{mount(){const{current:t}=this.node;t&&(this.unmount=h5(t,(n,r)=>(b_(this.node,r,"Start"),(s,{success:i})=>b_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cv=new WeakMap,Gp=new WeakMap,zq=e=>{const t=cv.get(e.target);t&&t(e)},qq=e=>{e.forEach(zq)};function Wq({root:e,...t}){const n=e||document;Gp.has(n)||Gp.set(n,{});const r=Gp.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(qq,{root:e,...t})),r[s]}function Hq(e,t,n){const r=Wq(t);return cv.set(e,n),r.observe(e),()=>{cv.delete(e),r.unobserve(e)}}const Gq={some:0,all:1};class Kq extends gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Gq[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return Hq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Jq(t,n))&&this.startObserver()}unmount(){}}function Jq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Yq={inView:{Feature:Kq},tap:{Feature:Bq},focus:{Feature:Uq},hover:{Feature:Vq}},Qq={layout:{ProjectionNode:MA,MeasureLayout:CA}},Xq={...$z,...Yq,...Fq,...Qq},be=ez(Xq,fz);function Zc(){const{theme:e,setTheme:t}=aj();return d.jsxs(me,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[d.jsx(be.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:d.jsx($$,{className:"h-5 w-5"})}),d.jsx(be.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:d.jsx(O$,{className:"h-5 w-5"})}),d.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const x_=[{icon:Ki,title:"Interview",description:"AI-powered voice conversations capture detailed insights from your team members"},{icon:aw,title:"Analyze",description:"Advanced AI synthesizes responses to identify patterns and opportunities"},{icon:KC,title:"Insights",description:"Receive actionable recommendations for process improvements and automation"}];function Zq(){return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:d.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),d.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Zc,{}),d.jsx(me,{asChild:!0,children:d.jsx(nn,{to:"/admin/login",children:"Admin Login"})})]})]})}),d.jsx("section",{className:"container flex min-h-screen flex-col items-center justify-center pt-16 text-center",children:d.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl",children:[d.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["AI-powered Discovery for"," ",d.jsx("span",{className:"text-accent",children:"consulting engagements"})]}),d.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Transform how you gather insights. Our voice-based AI conducts intelligent interviews with your team, analyzes responses, and delivers actionable recommendations for process improvement."}),d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:[d.jsx(me,{asChild:!0,size:"lg",className:"gap-2",children:d.jsxs(nn,{to:"/admin/login",children:["Get Started",d.jsx(rh,{className:"h-4 w-4"})]})}),d.jsx(me,{asChild:!0,variant:"outline",size:"lg",children:d.jsx(nn,{to:"/interview/demo",children:"Try Demo Interview"})})]})]})}),d.jsx("section",{className:"border-t bg-muted/30 py-24",children:d.jsxs("div",{className:"container",children:[d.jsxs(be.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-16 text-center",children:[d.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How It Works"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to transform your discovery process"})]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:x_.map((e,t)=>d.jsxs(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[d.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-accent/10",children:d.jsx(e.icon,{className:"h-8 w-8 text-accent"})}),d.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[d.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs font-bold text-primary-foreground",children:t+1}),d.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e.title})]}),d.jsx("p",{className:"text-muted-foreground",children:e.description}),t<x_.length-1&&d.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:d.jsx(rh,{className:"h-6 w-6 text-muted-foreground/50"})})]},e.title))})]})}),d.jsx("footer",{className:"border-t py-8",children:d.jsx("div",{className:"container text-center text-sm text-muted-foreground",children:d.jsx("p",{children:" 2024 AgentFlow Discovery Tool. Built for consulting excellence."})})})]})}const Ge=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ge.displayName="Card";const $r=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));$r.displayName="CardHeader";const Fr=v.forwardRef(({className:e,...t},n)=>d.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fr.displayName="CardTitle";const Yi=v.forwardRef(({className:e,...t},n)=>d.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Yi.displayName="CardDescription";const rt=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));rt.displayName="CardContent";const eW=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));eW.displayName="CardFooter";var tW=v.createContext(void 0);function eu(e){const t=v.useContext(tW);return e||t||"ltr"}function uv(e,[t,n]){return Math.min(n,Math.max(t,e))}function nW(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var c0="ScrollArea",[DA,lY]=Un(c0),[rW,zn]=DA(c0),LA=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=v.useState(null),[c,u]=v.useState(null),[h,f]=v.useState(null),[m,b]=v.useState(null),[p,x]=v.useState(null),[y,w]=v.useState(0),[S,E]=v.useState(0),[T,C]=v.useState(!1),[j,N]=v.useState(!1),I=Ee(t,O=>l(O)),R=eu(s);return d.jsx(rW,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:w,onCornerHeightChange:E,children:d.jsx(fe.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});LA.displayName=c0;var $A="ScrollAreaViewport",FA=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=zn($A,n),a=v.useRef(null),l=Ee(t,a,o.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});FA.displayName=$A;var qr="ScrollAreaScrollbar",u0=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=zn(qr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?d.jsx(sW,{...r,ref:t,forceMount:n}):s.type==="scroll"?d.jsx(iW,{...r,ref:t,forceMount:n}):s.type==="auto"?d.jsx(VA,{...r,ref:t,forceMount:n}):s.type==="always"?d.jsx(d0,{...r,ref:t}):null});u0.displayName=qr;var sW=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=zn(qr,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Bn,{present:n||i,children:d.jsx(VA,{"data-state":i?"visible":"hidden",...r,ref:t})})}),iW=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=zn(qr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ef(()=>l("SCROLL_END"),100),[a,l]=nW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let h=c[u];const f=()=>{const m=c[u];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),d.jsx(Bn,{present:n||a!=="hidden",children:d.jsx(d0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:se(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),VA=v.forwardRef((e,t)=>{const n=zn(qr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=v.useState(!1),a=e.orientation==="horizontal",l=Ef(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Va(n.viewport,l),Va(n.content,l),d.jsx(Bn,{present:r||i,children:d.jsx(d0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),d0=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=zn(qr,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=WA(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return dW(f,o.current,a,m)}return n==="horizontal"?d.jsx(oW,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=S_(f,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?d.jsx(aW,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=S_(f,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),oW=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=zn(qr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Ee(t,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(BA,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_f(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),GA(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Sh(o.paddingLeft),paddingEnd:Sh(o.paddingRight)}})}})}),aW=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=zn(qr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Ee(t,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(BA,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_f(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),GA(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Sh(o.paddingTop),paddingEnd:Sh(o.paddingBottom)}})}})}),[lW,UA]=DA(qr),BA=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...f}=e,m=zn(qr,n),[b,p]=v.useState(null),x=Ee(t,I=>p(I)),y=v.useRef(null),w=v.useRef(""),S=m.viewport,E=r.content-r.viewport,T=gt(u),C=gt(l),j=Ef(h,10);function N(I){if(y.current){const R=I.clientX-y.current.left,O=I.clientY-y.current.top;c({x:R,y:O})}}return v.useEffect(()=>{const I=R=>{const O=R.target;(b==null?void 0:b.contains(O))&&T(R,E)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,b,E,T]),v.useEffect(C,[r,C]),Va(b,j),Va(m.content,j),d.jsx(lW,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:gt(i),onThumbPointerUp:gt(o),onThumbPositionChange:C,onThumbPointerDown:gt(a),children:d.jsx(fe.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:se(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(I))}),onPointerMove:se(e.onPointerMove,N),onPointerUp:se(e.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),xh="ScrollAreaThumb",zA=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=UA(xh,e.__scopeScrollArea);return d.jsx(Bn,{present:n||s.hasThumb,children:d.jsx(cW,{ref:t,...r})})}),cW=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=zn(xh,n),o=UA(xh,n),{onThumbPositionChange:a}=o,l=Ee(t,h=>o.onThumbChange(h)),c=v.useRef(void 0),u=Ef(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!c.current){const m=hW(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,a]),d.jsx(fe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),b=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:b,y:p})}),onPointerUp:se(e.onPointerUp,o.onThumbPointerUp)})});zA.displayName=xh;var h0="ScrollAreaCorner",qA=v.forwardRef((e,t)=>{const n=zn(h0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(uW,{...e,ref:t}):null});qA.displayName=h0;var uW=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=zn(h0,n),[i,o]=v.useState(0),[a,l]=v.useState(0),c=!!(i&&a);return Va(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Va(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?d.jsx(fe.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Sh(e){return e?parseInt(e,10):0}function WA(e,t){const n=e/t;return isNaN(n)?0:n}function _f(e){const t=WA(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function dW(e,t,n,r="ltr"){const s=_f(n),i=s/2,o=t||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return HA([l,c],h)(e)}function S_(e,t,n="ltr"){const r=_f(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=uv(e,l);return HA([0,o],[0,a])(c)}function HA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function GA(e,t){return e>0&&e<t}var hW=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Ef(e,t){const n=gt(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Va(e,t){const n=gt(t);yt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var KA=LA,fW=FA,pW=qA;const kf=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(KA,{ref:r,className:oe("relative overflow-hidden",e),...n,children:[d.jsx(fW,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(JA,{}),d.jsx(pW,{})]}));kf.displayName=KA.displayName;const JA=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>d.jsx(u0,{ref:r,orientation:t,className:oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:d.jsx(zA,{className:"relative flex-1 rounded-full bg-border"})}));JA.displayName=u0.displayName;var YA={};function __(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)!==-1)continue;l[c]=o[c]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(e)}function QA(e){var t=function(n,r){if(Ce(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Ce(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Ce(t)=="symbol"?t:t+""}function E_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QA(r.key),r)}}function kn(e,t,n){return t&&E_(e.prototype,t),n&&E_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tf(e,t){if(t&&(Ce(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function yr(e){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yr(e)}function Tc(e,t){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tc(e,t)}function Cf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tc(e,t)}function jr(e,t,n){return(t=QA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function pe(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(l){k_(i,r,s,o,a,"next",l)}function a(l){k_(i,r,s,o,a,"throw",l)}o(void 0)})}}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ft(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a,l,c=[],u=!0,h=!1;try{if(a=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;u=!1}else for(;!(u=(i=a.call(s)).done)&&(c.push(i.value),c.length!==r);u=!0);}catch(f){h=!0,o=f}finally{try{if(!u&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return T_(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?T_(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C_,Mu={exports:{}},dv=function(){if(C_)return Mu.exports;C_=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,x,y){return Function.prototype.apply.call(p,x,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function s(){s.init.call(this)}Mu.exports=s,Mu.exports.once=function(p,x){return new Promise(function(y,w){function S(T){p.removeListener(x,E),w(T)}function E(){typeof p.removeListener=="function"&&p.removeListener("error",S),y([].slice.call(arguments))}b(p,x,E,{once:!0}),x!=="error"&&function(T,C,j){typeof T.on=="function"&&b(T,"error",C,j)}(p,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function a(p){return p._maxListeners===void 0?s.defaultMaxListeners:p._maxListeners}function l(p,x,y,w){var S,E,T,C;if(o(y),(E=p._events)===void 0?(E=p._events=Object.create(null),p._eventsCount=0):(E.newListener!==void 0&&(p.emit("newListener",x,y.listener?y.listener:y),E=p._events),T=E[x]),T===void 0)T=E[x]=y,++p._eventsCount;else if(typeof T=="function"?T=E[x]=w?[y,T]:[T,y]:w?T.unshift(y):T.push(y),(S=a(p))>0&&T.length>S&&!T.warned){T.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=p,j.type=x,j.count=T.length,C=j,console&&console.warn&&console.warn(C)}return p}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(p,x,y){var w={fired:!1,wrapFn:void 0,target:p,type:x,listener:y},S=c.bind(w);return S.listener=y,w.wrapFn=S,S}function h(p,x,y){var w=p._events;if(w===void 0)return[];var S=w[x];return S===void 0?[]:typeof S=="function"?y?[S.listener||S]:[S]:y?function(E){for(var T=new Array(E.length),C=0;C<T.length;++C)T[C]=E[C].listener||E[C];return T}(S):m(S,S.length)}function f(p){var x=this._events;if(x!==void 0){var y=x[p];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(p,x){for(var y=new Array(x),w=0;w<x;++w)y[w]=p[w];return y}function b(p,x,y,w){if(typeof p.on=="function")w.once?p.once(x,y):p.on(x,y);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(x,function S(E){w.once&&p.removeEventListener(x,S),y(E)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(p){for(var x=[],y=1;y<arguments.length;y++)x.push(arguments[y]);var w=p==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var E;if(x.length>0&&(E=x[0]),E instanceof Error)throw E;var T=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw T.context=E,T}var C=S[p];if(C===void 0)return!1;if(typeof C=="function")n(C,this,x);else{var j=C.length,N=m(C,j);for(y=0;y<j;++y)n(N[y],this,x)}return!0},s.prototype.addListener=function(p,x){return l(this,p,x,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(p,x){return l(this,p,x,!0)},s.prototype.once=function(p,x){return o(x),this.on(p,u(this,p,x)),this},s.prototype.prependOnceListener=function(p,x){return o(x),this.prependListener(p,u(this,p,x)),this},s.prototype.removeListener=function(p,x){var y,w,S,E,T;if(o(x),(w=this._events)===void 0)return this;if((y=w[p])===void 0)return this;if(y===x||y.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete w[p],w.removeListener&&this.emit("removeListener",p,y.listener||x));else if(typeof y!="function"){for(S=-1,E=y.length-1;E>=0;E--)if(y[E]===x||y[E].listener===x){T=y[E].listener,S=E;break}if(S<0)return this;S===0?y.shift():function(C,j){for(;j+1<C.length;j++)C[j]=C[j+1];C.pop()}(y,S),y.length===1&&(w[p]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",p,T||x)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(p){var x,y,w;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[p]),this;if(arguments.length===0){var S,E=Object.keys(y);for(w=0;w<E.length;++w)(S=E[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=y[p])=="function")this.removeListener(p,x);else if(x!==void 0)for(w=x.length-1;w>=0;w--)this.removeListener(p,x[w]);return this},s.prototype.listeners=function(p){return h(this,p,!0)},s.prototype.rawListeners=function(p){return h(this,p,!1)},s.listenerCount=function(p,x){return typeof p.listenerCount=="function"?p.listenerCount(x):f.call(p,x)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Mu.exports}(),Du=mW(dv),j_=Object.prototype.hasOwnProperty;function P_(e,t,n){for(n of e.keys())if(Wt(n,t))return n}function Wt(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Wt(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=P_(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=P_(t,s))||!Wt(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(j_.call(e,n)&&++r&&!j_.call(t,n)||!(n in t)||!Wt(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const gW={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},XA={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},it={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Bt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Cs={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class q{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=q.getVersionPrecision(t),i=q.getVersionPrecision(n);let o=Math.max(s,i),a=0;const l=q.map([t,n],c=>{const u=o-q.getVersionPrecision(c),h=c+new Array(u+1).join(".0");return q.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return gW[t]}static getBrowserTypeByAlias(t){return XA[t]||""}}const Me=/version\/(\d+(\.?_?\d+)+)/i,vW=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=q.getFirstMatch(Me,e)||q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=q.getFirstMatch(Me,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:q.getFirstMatch(t,e),version:q.getSecondMatch(t,e)}}}];var yW=[{test:[/Roku\/DVP/],describe(e){const t=q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Bt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Bt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=q.getWindowsVersionName(t);return{name:Bt.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Bt.iOS},n=q.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=q.getMacOSVersionName(t),r={name:Bt.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Bt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=q.getAndroidVersionName(t),r={name:Bt.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Bt.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||q.getFirstMatch(/\bbb(\d+)/i,e);return{name:Bt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Bt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Bt.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Bt.Linux})},{test:[/CrOS/],describe:()=>({name:Bt.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Bt.PlayStation4,version:t}}}],wW=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=q.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:it.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:it.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:it.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:it.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:it.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:it.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:it.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=q.getFirstMatch(/(ipod|iphone)/i,e);return{type:it.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:it.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:it.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:it.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:it.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:it.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:it.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:it.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:it.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:it.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:it.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:it.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:it.tv})}],bW=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Cs.Blink};const t=q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Cs.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Cs.Trident},n=q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Cs.Presto},n=q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Cs.Gecko},n=q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Cs.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Cs.WebKit},n=q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class A_{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=q.find(vW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=q.find(yW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=q.find(wW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=q.find(bW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return q.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(s[o]=a,i+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=q.find(o,c=>this.isOS(c));if(a){const c=this.satisfies(n[a]);if(c!==void 0)return c}const l=q.find(o,c=>this.isPlatform(c));if(l){const c=this.satisfies(n[l]);if(c!==void 0)return c}}if(i>0){const o=Object.keys(s),a=q.find(o,l=>this.isBrowser(l,!0));if(a!==void 0)return this.compareVersion(s[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=q.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(q.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class xW{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new A_(t,n)}static parse(t){return new A_(t).getResult()}static get BROWSER_MAP(){return XA}static get ENGINE_MAP(){return Cs}static get OS_MAP(){return Bt}static get PLATFORMS_MAP(){return it}}function jf(){return Date.now()+Math.random().toString()}function wl(){throw new Error("Method must be implemented in subclass")}function ZA(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function _h(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:ZA("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Eh(e){try{new URL(e)}catch{return!1}return!0}const $e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Qi="8.55.0",Ae=globalThis;function kh(e,t,n){const r=Ae,s=r.__SENTRY__=r.__SENTRY__||{},i=s[Qi]=s[Qi]||{};return i[e]||(i[e]=t())}const vo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,hv=["debug","info","warn","error","log","assert","trace"],Th={};function tu(e){if(!("console"in Ae))return e();const t=Ae.console,n={},r=Object.keys(Th);r.forEach(s=>{const i=Th[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const ge=kh("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return vo?hv.forEach(n=>{t[n]=(...r)=>{e&&tu(()=>{Ae.console[n](`Sentry Logger [${n}]:`,...r)})}}):hv.forEach(n=>{t[n]=()=>{}}),t}),$i="?",N_=/\(error: (.*)\)/,O_=/captureMessage|captureException/;function Lu(e){return e[e.length-1]||{}}const R_="<anonymous>";function ci(e){try{return e&&typeof e=="function"&&e.name||R_}catch{return R_}}function I_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const _d={},M_={};function Xi(e,t){_d[e]=_d[e]||[],_d[e].push(t)}function Zi(e,t){if(!M_[e]){M_[e]=!0;try{t()}catch(n){vo&&ge.error(`Error while instrumenting ${e}`,n)}}}function fr(e,t){const n=e&&_d[e];if(n)for(const r of n)try{r(t)}catch(s){vo&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ci(r)}
Error:`,s)}}let Kp=null;function SW(){Kp=Ae.onerror,Ae.onerror=function(e,t,n,r,s){return fr("error",{column:r,error:s,line:n,msg:e,url:t}),!!Kp&&Kp.apply(this,arguments)},Ae.onerror.__SENTRY_INSTRUMENTED__=!0}let Jp=null;function _W(){Jp=Ae.onunhandledrejection,Ae.onunhandledrejection=function(e){return fr("unhandledrejection",e),!Jp||Jp.apply(this,arguments)},Ae.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Pf(){return f0(Ae),Ae}function f0(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Qi,t[Qi]=t[Qi]||{}}const eN=Object.prototype.toString;function p0(e){switch(eN.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return oo(e,Error)}}function sl(e,t){return eN.call(e)===`[object ${t}]`}function tN(e){return sl(e,"ErrorEvent")}function D_(e){return sl(e,"DOMError")}function ns(e){return sl(e,"String")}function m0(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function fv(e){return e===null||m0(e)||typeof e!="object"&&typeof e!="function"}function Ua(e){return sl(e,"Object")}function Af(e){return typeof Event<"u"&&oo(e,Event)}function Nf(e){return!!(e&&e.then&&typeof e.then=="function")}function oo(e,t){try{return e instanceof t}catch{return!1}}function nN(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const g0=Ae;function rN(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=EW(n,u),!(c==="html"||i>1&&o+s.length*l+c.length>=h));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function EW(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(g0.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ns(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function ua(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function L_(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{nN(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function kW(e,t,n=!1){return!!ns(e)&&(sl(t,"RegExp")?t.test(e):!!ns(t)&&(n?e===t:e.includes(t)))}function $u(e,t=[],n=!1){return t.some(r=>kW(e,r,n))}function vn(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&sN(s,r);try{e[t]=s}catch{vo&&ge.log(`Failed to replace method "${t}" in object`,e)}}function ao(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{vo&&ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function sN(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ao(e,"__sentry_original__",t)}catch{}}function v0(e){return e.__sentry_original__}function iN(e){if(p0(e))return{message:e.message,name:e.name,stack:e.stack,...F_(e)};if(Af(e)){const t={type:e.type,target:$_(e.target),currentTarget:$_(e.currentTarget),...F_(e)};return typeof CustomEvent<"u"&&oo(e,CustomEvent)&&(t.detail=e.detail),t}return e}function $_(e){try{return t=e,typeof Element<"u"&&oo(t,Element)?rN(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function F_(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Rn(e){return pv(e,new Map)}function pv(e,t){if(function(n){if(!Ua(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=pv(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(pv(s,t))}),r}return e}function nu(){return Date.now()/1e3}const os=function(){const{performance:e}=Ae;if(!e||!e.now)return nu;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function Ln(){const e=Ae,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function oN(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Os(e){const{message:t,event_id:n}=e;if(t)return t;const r=oN(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function mv(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ba(e,t){const n=oN(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function V_(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{ao(e,"__sentry_captured__",!0)}catch{}return!1}var Jr;function lo(e){return new An(t=>{t(e)})}function Ch(e){return new An((t,n)=>{n(e)})}(()=>{const{performance:e}=Ae;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(i||a<t)&&s<=a&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Jr||(Jr={}));class An{constructor(t){An.prototype.__init.call(this),An.prototype.__init2.call(this),An.prototype.__init3.call(this),An.prototype.__init4.call(this),this._state=Jr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new An((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new An((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(Jr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Jr.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===Jr.PENDING&&(Nf(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Jr.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Jr.RESOLVED&&n[1](this._value),this._state===Jr.REJECTED&&n[2](this._value),n[0]=!0)})}}}function TW(e){const t=os(),n={sid:Ln(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Rn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&za(n,e),n}function za(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||os(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ln()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function U_(){return Ln()}function gv(){return Ln().substring(16)}function Of(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Of(r[s],t[s],n-1));return r}const vv="_sentrySpan";function B_(e,t){t?ao(e,vv,t):delete e[vv]}function z_(e){return e[vv]}class y0{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:U_(),spanId:gv()}}clone(){const t=new y0;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,B_(t,z_(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&za(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof ui?[n.getScopeData(),n.getRequestSession()]:Ua(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,B_(this,void 0),this._attachments=[],this.setPropagationContext({traceId:U_()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:nu(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:z_(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Of(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:gv(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ln();if(!this._client)return ge.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Ln();if(!this._client)return ge.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ln();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const ui=y0;class CW{constructor(t,n){let r,s;r=t||new ui,s=n||new ui,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Nf(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function qa(){const e=f0(Pf());return e.stack=e.stack||new CW(kh("defaultCurrentScope",()=>new ui),kh("defaultIsolationScope",()=>new ui))}function jW(e){return qa().withScope(e)}function PW(e,t){const n=qa();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function q_(e){return qa().withScope(()=>e(qa().getIsolationScope()))}function w0(e){const t=f0(e);return t.acs?t.acs:{withIsolationScope:q_,withScope:jW,withSetScope:PW,withSetIsolationScope:(n,r)=>q_(r),getCurrentScope:()=>qa().getScope(),getIsolationScope:()=>qa().getIsolationScope()}}function yo(){return w0(Pf()).getCurrentScope()}function ru(){return w0(Pf()).getIsolationScope()}function Lt(){return yo().getClient()}function AW(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Rn({trace_id:n,span_id:r,parent_span_id:s})}function NW(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Rn(s));return n}const OW=/^sentry-/;function RW(e){const t=function(r){if(!(!r||!ns(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=W_(i);return Object.entries(o).forEach(([a,l])=>{s[a]=l}),s},{}):W_(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(OW)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function W_(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let H_=!1;function IW(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return Rn({parent_span_id:r?t:b0(e).parent_span_id,span_id:r?gv():t,trace_id:n})}function G_(e){return typeof e=="number"?K_(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?K_(e.getTime()):os()}function K_(e){return e>9999999999?e/1e3:e}function b0(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l}=e;return Rn({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:G_(s),timestamp:G_(o)||void 0,status:MW(l),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:NW(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function MW(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function aN(e){return e._sentryRootSpan||e}function DW(){H_||(tu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),H_=!0)}const x0="production";function lN(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Rn({environment:n.environment||x0,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function LW(e){const t=Lt();if(!t)return{};const n=aN(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&RW(i);if(o)return o;const a=lN(e.spanContext().traceId,t),l=b0(n),c=l.data||{},u=c["sentry.sample_rate"];u!=null&&(a.sample_rate=`${u}`);const h=c["sentry.source"],f=l.description;return h!=="url"&&f&&(a.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const b=Lt(),p=b&&b.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(a.sampled=String(function(m){const{traceFlags:b}=m.spanContext();return b===1}(n))),t.emit("createDsc",a,n),a}const $W=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function jh(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function J_(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function FW(e){const t=typeof e=="string"?function(n){const r=$W.exec(n);if(!r)return void tu(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",a="",l="",c=""]=r.slice(1);let u="",h=c;const f=h.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return J_({host:a,pass:o,path:u,projectId:h,port:l,protocol:s,publicKey:i})}(e):J_(e);if(t&&function(n){if(!vo)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ge.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ge.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ge.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function Yr(e,t=100,n=1/0){try{return yv("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function cN(e,t=3,n=102400){const r=Yr(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?cN(e,t-1,n):r;var s}function yv(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(a){if(i)return!!o.has(a)||(o.add(a),!1);for(let l=0;l<o.length;l++)if(o[l]===a)return!0;return o.push(a),!1},function(a){if(i)o.delete(a);else for(let l=0;l<o.length;l++)if(o[l]===a){o.splice(l,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(m,b){try{if(m==="domain"&&b&&typeof b=="object"&&b._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&b===global)return"[Global]";if(typeof window<"u"&&b===window)return"[Window]";if(typeof document<"u"&&b===document)return"[Document]";if(nN(b))return"[VueViewModel]";if(Ua(p=b)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof b=="number"&&!Number.isFinite(b))return`[${b}]`;if(typeof b=="function")return`[Function: ${ci(b)}]`;if(typeof b=="symbol")return`[${String(b)}]`;if(typeof b=="bigint")return`[BigInt: ${String(b)}]`;const x=function(y){const w=Object.getPrototypeOf(y);return w?w.constructor.name:"null prototype"}(b);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var p}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{return yv("",c.toJSON(),l-1,r,s)}catch{}const u=Array.isArray(t)?[]:{};let h=0;const f=iN(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){u[m]="[MaxProperties ~]";break}const b=f[m];u[m]=yv(m,b,l-1,r,s),h++}return o(t),u}function Cc(e,t=[]){return[e,t]}function VW(e,t){const[n,r]=e;return[n,[...r,t]]}function Y_(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function wv(e){return Ae.__SENTRY__&&Ae.__SENTRY__.encodePolyfill?Ae.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function UW(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[wv(r),i]:r.push(typeof i=="string"?wv(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Yr(a))}s(l)}}return typeof r=="string"?r:function(i){const o=i.reduce((c,u)=>c+u.length,0),a=new Uint8Array(o);let l=0;for(const c of i)a.set(c,l),l+=c.length;return a}(r)}function BW(e){const t=typeof e.data=="string"?wv(e.data):e.data;return[Rn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const zW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Q_(e){return zW[e]}function uN(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function qW(e,t,n,r){const s=uN(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,l){l&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||l.name,a.sdk.version=a.sdk.version||l.version,a.sdk.integrations=[...a.sdk.integrations||[],...l.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...l.packages||[]])})(e,n&&n.sdk);const o=function(a,l,c,u){const h=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!c&&u&&{dsn:jh(u)},...h&&{trace:Rn({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,Cc(o,[[{type:i},e]])}function bv(e,t,n,r=0){return new An((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);$e&&o.id&&a===null&&ge.log(`Event processor "${o.id}" dropped event`),Nf(a)?a.then(l=>bv(e,l,n,r+1).then(s)).then(null,i):bv(e,a,n,r+1).then(s).then(null,i)}})}let Fu,X_,Yp;function WW(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,a){const{extra:l,tags:c,user:u,contexts:h,level:f,transactionName:m}=a,b=Rn(l);b&&Object.keys(b).length&&(o.extra={...b,...o.extra});const p=Rn(c);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const x=Rn(u);x&&Object.keys(x).length&&(o.user={...x,...o.user});const y=Rn(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,a){o.contexts={trace:IW(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:LW(a),...o.sdkProcessingMetadata};const l=aN(a),c=b0(l).description;c&&!o.transaction&&o.type==="transaction"&&(o.transaction=c)}(e,r),function(o,a){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const l=[...o.breadcrumbs||[],...a];o.breadcrumbs=l.length?l:void 0}(e,s),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,i)}function Z_(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:h,propagationContext:f,transactionName:m,span:b}=t;Vu(e,"extra",n),Vu(e,"tags",r),Vu(e,"user",s),Vu(e,"contexts",i),e.sdkProcessingMetadata=Of(e.sdkProcessingMetadata,a,2),o&&(e.level=o),m&&(e.transactionName=m),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function Vu(e,t,n){e[t]=Of(e[t],n,1)}function HW(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Ln(),timestamp:t.timestamp||nu()},c=n.integrations||e.integrations.map(b=>b.name);(function(b,p){const{environment:x,release:y,dist:w,maxValueLength:S=250}=p;b.environment=b.environment||x||x0,!b.release&&y&&(b.release=y),!b.dist&&w&&(b.dist=w),b.message&&(b.message=ua(b.message,S));const E=b.exception&&b.exception.values&&b.exception.values[0];E&&E.value&&(E.value=ua(E.value,S));const T=b.request;T&&T.url&&(T.url=ua(T.url,S))})(l,e),function(b,p){p.length>0&&(b.sdk=b.sdk||{},b.sdk.integrations=[...b.sdk.integrations||[],...p])}(l,c),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(b,p){const x=function(y){const w=Ae._sentryDebugIds;if(!w)return{};const S=Object.keys(w);return Yp&&S.length===X_||(X_=S.length,Yp=S.reduce((E,T)=>{Fu||(Fu={});const C=Fu[T];if(C)E[C[0]]=C[1];else{const j=y(T);for(let N=j.length-1;N>=0;N--){const I=j[N],R=I&&I.filename,O=w[T];if(R&&O){E[R]=O,Fu[T]=[R,O];break}}}return E},{})),Yp}(p);try{b.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{x&&w.filename&&(w.debug_id=x[w.filename])})})}catch{}}(l,e.stackParser);const u=function(b,p){if(!p)return b;const x=b?b.clone():new ui;return x.update(p),x}(r,n.captureContext);n.mechanism&&Ba(l,n.mechanism);const h=s?s.getEventProcessors():[],f=kh("globalScope",()=>new ui).getScopeData();i&&Z_(f,i.getScopeData()),u&&Z_(f,u.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),WW(l,f),bv([...h,...f.eventProcessors],l,n).then(b=>(b&&function(p){const x={};try{p.exception.values.forEach(w=>{w.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?x[S.abs_path]=S.debug_id:S.filename&&(x[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(x).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const y=p.debug_meta.images;Object.entries(x).forEach(([w,S])=>{y.push({type:"sourcemap",code_file:w,debug_id:S})})}(b),typeof o=="number"&&o>0?function(p,x,y){if(!p)return null;const w={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(S=>({...S,...S.data&&{data:Yr(S.data,x,y)}}))},...p.user&&{user:Yr(p.user,x,y)},...p.contexts&&{contexts:Yr(p.contexts,x,y)},...p.extra&&{extra:Yr(p.extra,x,y)}};return p.contexts&&p.contexts.trace&&w.contexts&&(w.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(w.contexts.trace.data=Yr(p.contexts.trace.data,x,y))),p.spans&&(w.spans=p.spans.map(S=>({...S,...S.data&&{data:Yr(S.data,x,y)}}))),p.contexts&&p.contexts.flags&&w.contexts&&(w.contexts.flags=Yr(p.contexts.flags,3,y)),w}(b,o,a):b))}function eE(e,t){return yo().captureEvent(e,t)}function tE(e){const t=Lt(),n=ru(),r=yo(),{release:s,environment:i=x0}=t&&t.getOptions()||{},{userAgent:o}=Ae.navigator||{},a=TW({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&za(l,{status:"exited"}),dN(),n.setSession(a),r.setSession(a),a}function dN(){const e=ru(),t=yo(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),za(r,i)}(n),hN(),e.setSession(),t.setSession()}function hN(){const e=ru(),t=yo(),n=Lt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function nE(e=!1){e?dN():hN()}function GW(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const rE=[];function sE(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function iE(e,t,n){if(n[t.name])$e&&ge.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,rE.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),rE.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}$e&&ge.log(`Integration installed: ${t.name}`)}}class Zn extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const oE="Not capturing exception because it's already been captured.";class KW{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=FW(t.dsn):$e&&ge.warn("No DSN provided, client will not send events."),this._dsn){const r=GW(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&tu(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Ln();if(V_(t))return $e&&ge.log(oE),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:Ln(),...r},o=m0(t)?t:String(t),a=fv(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(t,n,r){const s=Ln();if(n&&n.originalException&&V_(n.originalException))return $e&&ge.log(oE),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?$e&&ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),za(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):lo(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];iE(this,t,this._integrations),n||sE(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=qW(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=VW(r,BW(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const a=uN(i);return Cc({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&s&&{dsn:jh(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;$e&&ge.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>($e&&ge.error("Error while sending envelope:",n),n)):($e&&ge.error("Transport disabled"),lo({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&iE(n,i,s)}),s}(this,t),sE(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const a of i){const l=a.mechanism;if(l&&l.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(za(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new An(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=yo(),s=ru()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),HW(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:AW(r),...a.contexts};const l=function(c,u){const h=u.getPropagationContext();return h.dsc||lN(h.traceId,c)}(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{$e&&(s instanceof Zn&&s.logLevel==="log"?ge.log(s.message):ge.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=lE(t),a=aE(t),l=t.type||"error",c=`before send for type \`${l}\``,u=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const b=typeof m=="string"?parseFloat(m):m;if(!(typeof b!="number"||isNaN(b)||b<0||b>1))return b;$e&&ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),Ch(new Zn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=l==="replay_event"?"replay":l,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new Zn("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const b=function(p,x,y,w){const{beforeSend:S,beforeSendTransaction:E,beforeSendSpan:T}=x;if(aE(y)&&S)return S(y,w);if(lE(y)){if(y.spans&&T){const C=[];for(const j of y.spans){const N=T(j);N?C.push(N):(DW(),p.recordDroppedEvent("before_send","span"))}y.spans=C}if(E){if(y.spans){const C=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:C}}return E(y,w)}}return y}(this,s,m,n);return function(p,x){const y=`${x} must return \`null\` or a valid event.`;if(Nf(p))return p.then(w=>{if(!Ua(w)&&w!==null)throw new Zn(y);return w},w=>{throw new Zn(`${x} rejected with ${w}`)});if(!Ua(p)&&p!==null)throw new Zn(y);return p}(b,c)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new Zn(`${c} returned \`null\`, will not send event.`,"log")}const b=r&&r.getSession();if(!o&&b&&this._updateSessionFromEvent(b,m),o){const x=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const x="custom";m.transaction_info={...p,source:x}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof Zn?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new Zn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){$e&&ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void($e&&ge.log("No outcomes to send"));if(!this._dsn)return void($e&&ge.log("No dsn provided, will not send outcomes"));$e&&ge.log("Sending outcomes:",t);const n=(r=t,Cc((s=this._options.tunnel&&jh(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||nu(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function aE(e){return e.type===void 0}function lE(e){return e.type==="transaction"}function JW(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return Ch(new Zn("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new An((s,i)=>{let o=t.length;if(!o)return s(!0);const a=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(l=>{lo(l).then(()=>{--o||(clearTimeout(a),s(!0))},i)})})}}}function YW(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,c,,,u]=a.split(":",5),h=parseInt(l,10),f=1e3*(isNaN(h)?60:h);if(c)for(const m of c.split(";"))m==="metric_bucket"&&u&&!u.split(";").includes("custom")||(s[m]=r+f);else s.all=r+f}else o?s.all=r+function(a,l=Date.now()){const c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;const u=Date.parse(`${a}`);return isNaN(u)?6e4:u-l}(o,r):t===429&&(s.all=r+6e4);return s}function QW(e,t,n=JW(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(Y_(s,(l,c)=>{const u=Q_(c);if(function(h,f,m=Date.now()){return function(b,p){return b[p]||b.all||0}(h,f)>m}(r,u)){const h=cE(l,c);e.recordDroppedEvent("ratelimit_backoff",u,h)}else i.push(l)}),i.length===0)return lo({});const o=Cc(s[0],i),a=l=>{Y_(o,(c,u)=>{const h=cE(c,u);e.recordDroppedEvent(l,Q_(u),h)})};return n.add(()=>t({body:UW(o)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&$e&&ge.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=YW(r,l),l),l=>{throw a("network_error"),l})).then(l=>l,l=>{if(l instanceof Zn)return $e&&ge.error("Skipped sending event because buffer is full."),a("queue_overflow"),lo({});throw l})},flush:s=>n.drain(s)}}function cE(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const XW=100;function xi(e,t){const n=Lt(),r=ru();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=XW}=n.getOptions();if(i<=0)return;const o={timestamp:nu(),...e},a=s?tu(()=>s(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let uE;const dE=new WeakMap,ZW=()=>({name:"FunctionToString",setupOnce(){uE=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=v0(this),n=dE.has(Lt())&&t!==void 0?t:this;return uE.apply(n,e)}}catch{}},setup(e){dE.set(e,!0)}}),e8=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],t8=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:e8],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,a){return a.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(o)?($e&&ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${Os(o)}`),!0):function(l,c){return l.type||!c||!c.length?!1:function(u){const h=[];u.message&&h.push(u.message);let f;try{f=u.exception.values[u.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(l).some(u=>$u(u,c))}(o,a.ignoreErrors)?($e&&ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Os(o)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(c=>c.stacktrace||c.type&&c.type!=="Error"||c.value)}(o)?($e&&ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Os(o)}`),!0):function(l,c){if(l.type!=="transaction"||!c||!c.length)return!1;const u=l.transaction;return!!u&&$u(u,c)}(o,a.ignoreTransactions)?($e&&ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Os(o)}`),!0):function(l,c){if(!c||!c.length)return!1;const u=Uu(l);return!!u&&$u(u,c)}(o,a.denyUrls)?($e&&ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Os(o)}.
Url: ${Uu(o)}`),!0):function(l,c){if(!c||!c.length)return!0;const u=Uu(l);return!u||$u(u,c)}(o,a.allowUrls)?!1:($e&&ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Os(o)}.
Url: ${Uu(o)}`),!0)}(t,i)?null:t}});function Uu(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return $e&&ge.error(`Cannot extract url for event ${Os(e)}`),null}}function n8(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&oo(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=xv(e,t,s,o.originalException,r,i.exception.values,a,0),c=n,l.map(u=>(u.value&&(u.value=ua(u.value,c)),u))))}function xv(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(oo(r[s],Error)){hE(o,a);const c=e(t,r[s]),u=l.length;fE(c,s,u,a),l=xv(e,t,n,r[s],s,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(oo(c,Error)){hE(o,a);const h=e(t,c),f=l.length;fE(h,`errors[${u}]`,f,a),l=xv(e,t,n,c,s,[h,...l],h,f)}}),l}function hE(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function fE(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Qp(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function r8(){"console"in Ae&&hv.forEach(function(e){e in Ae.console&&vn(Ae.console,e,function(t){return Th[e]=t,function(...n){fr("console",{args:n,level:e});const r=Th[e];r&&r.apply(Ae.console,n)}})})}function s8(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const i8=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,a=i.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!mE(s,i)||!pE(s,i))}(n,r)||function(s,i){const o=gE(i),a=gE(s);return!(!o||!a||o.type!==a.type||o.value!==a.value||!mE(s,i)||!pE(s,i))}(n,r)):!1}(t,e))return $e&&ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function pE(e,t){let n=I_(e),r=I_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function mE(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function gE(e){return e.exception&&e.exception.values&&e.exception.values[0]}function vE(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const Xp=Ae;function Sv(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function o8(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Xp))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Sv(Xp.fetch))return!0;let e=!1;const t=Xp.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Sv(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){vo&&ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function a8(e,t){const n="fetch";Xi(n,e),Zi(n,()=>function(r,s=!1){s&&!o8()||vn(Ae,"fetch",function(i){return function(...o){const a=new Error,{method:l,url:c}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,b]=h;return{url:yE(m),method:_v(b,"method")?String(b.method).toUpperCase():"GET"}}const f=h[0];return{url:yE(f),method:_v(f,"method")?String(f.method).toUpperCase():"GET"}}(o),u={args:o,fetchData:{method:l,url:c},startTimestamp:1e3*os(),virtualError:a};return r||fr("fetch",{...u}),i.apply(Ae,o).then(async h=>(r?r(h):fr("fetch",{...u,endTimestamp:1e3*os(),response:h}),h),h=>{throw fr("fetch",{...u,endTimestamp:1e3*os(),error:h}),p0(h)&&h.stack===void 0&&(h.stack=a.stack,ao(h,"framesToPop",1)),h})}})}(void 0,t))}function _v(e,t){return!!e&&typeof e=="object"&&!!e[t]}function yE(e){return typeof e=="string"?e:e?_v(e,"url")?e.url:e.toString?e.toString():"":""}const Bu=Ae,xt=Ae;let Ev=0;function wE(){return Ev>0}function Wa(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(v0(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>Wa(i,t));return e.apply(this,s)}catch(s){throw Ev++,setTimeout(()=>{Ev--}),function(...i){const o=w0(Pf());if(i.length===2){const[a,l]=i;return a?o.withSetScope(a,l):o.withScope(l)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(a=>(t.mechanism&&(mv(a,void 0),Ba(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),o=s,yo().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}sN(n,e),ao(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const Rf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function S0(e,t){const n=_0(e,t),r={type:u8(t),value:d8(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function l8(e,t,n,r){const s=Lt(),i=s&&s.getOptions().normalizeDepth,o=function(c){for(const u in c)if(Object.prototype.hasOwnProperty.call(c,u)){const h=c[u];if(h instanceof Error)return h}}(t),a={__serialized__:cN(t,i)};if(o)return{exception:{values:[S0(e,o)]},extra:a};const l={exception:{values:[{type:Af(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:h8(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=_0(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Zp(e,t){return{exception:{values:[S0(e,t)]}}}function _0(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&c8.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const c8=/Minified React error #\d+;/i;function fN(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function u8(e){const t=e&&e.name;return!t&&fN(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function d8(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:fN(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function kv(e,t,n,r,s){let i;if(tN(t)&&t.error)return Zp(e,t.error);if(D_(t)||sl(t,"DOMException")){const o=t;if("stack"in t)i=Zp(e,t);else{const a=o.name||(D_(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=Tv(e,l,n,r),mv(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return p0(t)?Zp(e,t):Ua(t)||Af(t)?(i=l8(e,t,n,s),Ba(i,{synthetic:!0}),i):(i=Tv(e,t,n,r),mv(i,`${t}`),Ba(i,{synthetic:!0}),i)}function Tv(e,t,n,r){const s={};if(r&&n){const i=_0(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ba(s,{synthetic:!0})}if(m0(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function h8(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(iN(s));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=i)return ua(a,i);for(let l=o.length;l>0;l--){const c=o.slice(0,l).join(", ");if(!(c.length>i))return l===o.length?c:ua(c,i)}return""}(e),r=t?"promise rejection":"exception";return tN(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Af(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class f8 extends KW{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${s}`,packages:i.map(l=>({name:`${o}:@sentry/${l}`,version:Qi})),version:Qi}),r._metadata=a})(n,"browser",["browser"],xt.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&xt.document&&xt.document.addEventListener("visibilitychange",()=>{xt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const a=kv(r,s,i&&i.syntheticException||void 0,o);return Ba(a),a.level="error",i&&i.event_id&&(a.event_id=i.event_id),lo(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",a,l){const c=Tv(s,i,a&&a.syntheticException||void 0,l);return c.level=o,a&&a.event_id&&(c.event_id=a.event_id),lo(c)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Rf&&ge.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:jh(o)}};return Cc(a,[function(c){return[{type:"user_report"},c]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const p8=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Gt=Ae;let bE,em,tm,zu;function m8(){if(!Gt.document)return;const e=fr.bind(null,"dom"),t=xE(e,!0);Gt.document.addEventListener("click",t,!1),Gt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Gt[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(vn(s,"addEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=c[o]=c[o]||{refCount:0};if(!u.handler){const h=xE(e);u.handler=h,i.call(this,o,h,l)}u.refCount++}catch{}return i.call(this,o,a,l)}}),vn(s,"removeEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},u=c[o];u&&(u.refCount--,u.refCount<=0&&(i.call(this,o,u.handler,l),u.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,l)}}))})}function xE(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;ao(n,"_sentryCaptured",!0),r&&!r._sentryId&&ao(r,"_sentryId",Ln());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==em)return!1;try{if(!i.target||i.target._sentryId!==tm)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),em=n.type,tm=r?r._sentryId:void 0),clearTimeout(bE),bE=Gt.setTimeout(()=>{tm=void 0,em=void 0},1e3)}}function pN(e){const t="history";Xi(t,e),Zi(t,g8)}function g8(){if(!function(){const n=Bu.chrome,r=n&&n.app&&n.app.runtime,s="history"in Bu&&!!Bu.history.pushState&&!!Bu.history.replaceState;return!r&&s}())return;const e=Gt.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=zu,o=String(s);zu=o,fr("history",{from:i,to:o})}return n.apply(this,r)}}Gt.onpopstate=function(...n){const r=Gt.location.href,s=zu;if(zu=r,fr("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},vn(Gt.history,"pushState",t),vn(Gt.history,"replaceState",t)}const Ed={};function SE(e){Ed[e]=void 0}const Cl="__sentry_xhr_v3__";function v8(){if(!Gt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*os(),o=ns(r[0])?r[0].toUpperCase():void 0,a=function(c){if(ns(c))return c;try{return c.toString()}catch{}}(r[1]);if(!o||!a)return t.apply(n,r);n[Cl]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Cl];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}fr("xhr",{endTimestamp:1e3*os(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(c,u,h)=>(l(),c.apply(u,h))}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,u,h){const[f,m]=h,b=u[Cl];return b&&ns(f)&&ns(m)&&(b.request_headers[f.toLowerCase()]=m),c.apply(u,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Cl];return s?(r[0]!==void 0&&(s.body=r[0]),fr("xhr",{startTimestamp:1e3*os(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function y8(e,t=function(n){const r=Ed[n];if(r)return r;let s=Gt[n];if(Sv(s))return Ed[n]=s.bind(Gt);const i=Gt.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(s=a[n]),i.head.removeChild(o)}catch(o){p8&&ge.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(Ed[n]=s.bind(Gt))}("fetch")){let n=0,r=0;return QW(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return SE("fetch"),Ch("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return SE("fetch"),n-=i,r--,Ch(a)}})}function nm(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?$i:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const w8=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,b8=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,x8=/\((\S*)(?::(\d+))(?::(\d+))\)/,S8=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,_8=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,E8=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=N_.test(l)?l.replace(N_,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const h=u(c);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(a){if(!a.length)return[];const l=Array.from(a);return/sentryWrapped/.test(Lu(l).function||"")&&l.pop(),l.reverse(),O_.test(Lu(l).function||"")&&(l.pop(),O_.test(Lu(l).function||"")&&l.pop()),l.slice(0,50).map(c=>({...c,filename:c.filename||Lu(l).filename,function:c.function||$i}))}(i.slice(s))}}([30,e=>{const t=w8.exec(e);if(t){const[,r,s,i]=t;return nm(r,$i,+s,+i)}const n=b8.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=x8.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=_E(n[1]||$i,n[2]);return nm(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=S8.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=_8.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||$i;return[r,n]=_E(r,n),nm(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),_E=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:$i,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},EE=1024,k8=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";Xi(i,s),Zi(i,r8)}(function(s){return function(i){if(Lt()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:s8(i.level),message:L_(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${L_(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}xi(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if(Lt()!==s)return;let a,l,c=typeof i=="object"?i.serializeAttribute:void 0,u=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;u&&u>EE&&(Rf&&ge.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${u} was configured. Sentry will use 1024 instead.`),u=EE),typeof c=="string"&&(c=[c]);try{const f=o.event,m=function(b){return!!b&&!!b.target}(f)?f.target:f;a=rN(m,{keyAttrs:c,maxStringLength:u}),l=function(b){if(!g0.HTMLElement)return null;let p=b;for(let x=0;x<5;x++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{a="<unknown>"}if(a.length===0)return;const h={category:`ui.${o.name}`,message:a};l&&(h.data={"ui.component_name":l}),xi(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),Xi("dom",r),Zi("dom",m8)),t.xhr&&function(s){Xi("xhr",s),Zi("xhr",v8)}(function(s){return function(i){if(Lt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i,l=i.xhr[Cl];if(!o||!a||!l)return;const{method:c,url:u,status_code:h,body:f}=l,m={method:c,url:u,status_code:h},b={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:a};xi({category:"xhr",data:m,type:"http",level:vE(h)},b)}}(n)),t.fetch&&a8(function(s){return function(i){if(Lt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i;if(a&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)xi({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:a});else{const l=i.response,c={...i.fetchData,status_code:l&&l.status},u={input:i.args,response:l,startTimestamp:o,endTimestamp:a};xi({category:"fetch",data:c,type:"http",level:vE(c.status_code)},u)}}}(n)),t.history&&pN(function(s){return function(i){if(Lt()!==s)return;let o=i.from,a=i.to;const l=Qp(xt.location.href);let c=o?Qp(o):void 0;const u=Qp(a);c&&c.path||(c=l),l.protocol===u.protocol&&l.host===u.host&&(a=u.relative),l.protocol===c.protocol&&l.host===c.host&&(o=c.relative),xi({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){Lt()===s&&xi({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Os(i)},{event:i})}}(n))}}},T8=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],C8=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&vn(xt,"setTimeout",kE),t.setInterval&&vn(xt,"setInterval",kE),t.requestAnimationFrame&&vn(xt,"requestAnimationFrame",j8),t.XMLHttpRequest&&"XMLHttpRequest"in xt&&vn(XMLHttpRequest.prototype,"send",P8);const n=t.eventTarget;n&&(Array.isArray(n)?n:T8).forEach(A8)}}};function kE(e){return function(...t){const n=t[0];return t[0]=Wa(n,{mechanism:{data:{function:ci(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function j8(e){return function(t){return e.apply(this,[Wa(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ci(e)},handled:!1,type:"instrument"}})])}}function P8(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&vn(n,r,function(s){const i={mechanism:{data:{function:r,handler:ci(s)},handled:!1,type:"instrument"}},o=v0(s);return o&&(i.mechanism.data.handler=ci(o)),Wa(s,i)})}),e.apply(this,t)}}function A8(e){const t=xt[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vn(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Wa(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ci(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Wa(i,{mechanism:{data:{function:"addEventListener",handler:ci(i),target:e},handled:!1,type:"instrument"}}),o])}}),vn(n,"removeEventListener",function(r){return function(s,i,o){try{const a=i.__sentry_wrapped__;a&&r.call(this,s,a,o)}catch{}return r.call(this,s,i,o)}}))}const N8=()=>({name:"BrowserSession",setupOnce(){xt.document!==void 0?(tE({ignoreDuration:!0}),nE(),pN(({from:e,to:t})=>{e!==void 0&&e!==t&&(tE({ignoreDuration:!0}),nE())})):Rf&&ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),O8=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";Xi(i,s),Zi(i,SW)})(s=>{const{stackParser:i,attachStacktrace:o}=CE();if(Lt()!==r||wE())return;const{msg:a,url:l,line:c,column:u,error:h}=s,f=function(m,b,p,x){const y=m.exception=m.exception||{},w=y.values=y.values||[],S=w[0]=w[0]||{},E=S.stacktrace=S.stacktrace||{},T=E.frames=E.frames||[],C=x,j=p,N=ns(b)&&b.length>0?b:function(){try{return g0.document.location.href}catch{return""}}();return T.length===0&&T.push({colno:C,filename:N,function:$i,in_app:!0,lineno:j}),m}(kv(i,h||a,void 0,o,!1),l,c,u);f.level="error",eE(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),TE("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";Xi(i,s),Zi(i,_W)})(s=>{const{stackParser:i,attachStacktrace:o}=CE();if(Lt()!==r||wE())return;const a=function(c){if(fv(c))return c;try{if("reason"in c)return c.reason;if("detail"in c&&"reason"in c.detail)return c.detail.reason}catch{}return c}(s),l=fv(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:kv(i,a,void 0,o,!0);l.level="error",eE(l,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),TE("onunhandledrejection"))}}};function TE(e){Rf&&ge.log(`Global Handler attached: ${e}`)}function CE(){const e=Lt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const R8=()=>({name:"HttpContext",preprocessEvent(e){if(!xt.navigator&&!xt.location&&!xt.document)return;const t=e.request&&e.request.url||xt.location&&xt.location.href,{referrer:n}=xt.document||{},{userAgent:r}=xt.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),I8=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();n8(S0,o.stackParser,o.maxValueLength,n,t,r,s)}}};var Cv="new",jE="loading",PE="loaded",Ph="joining-meeting",Ds="joined-meeting",js="left-meeting",Gr="error",M8="blocked",D8="off",L8="sendable",$8="loading",F8="interrupted",mN="playable",kd="unknown",gN="full",V8="lobby",U8="none",vN="base",B8="*",z8="ejected",q8="nbf-room",W8="nbf-token",H8="exp-room",G8="exp-token",jv="no-room",K8="meeting-full",yN="end-of-life",J8="not-allowed",wN="connection-error",Y8="cam-in-use",Q8="mic-in-use",X8="cam-mic-in-use",Z8="permissions",e6="undefined-mediadevices",t6="not-found",n6="constraints",r6="unknown",bN="iframe-ready-for-launch-config",xN="iframe-launch-config",SN="theme-updated",_N="loading",EN="load-attempt-failed",Pv="loaded",kN="started-camera",TN="camera-error",CN="joining-meeting",jN="joined-meeting",PN="left-meeting",AN="participant-joined",NN="participant-updated",ON="participant-left",RN="participant-counts-updated",IN="access-state-updated",MN="meeting-session-summary-updated",DN="meeting-session-state-updated",s6="meeting-session-data-error",LN="waiting-participant-added",$N="waiting-participant-updated",FN="waiting-participant-removed",VN="track-started",UN="track-stopped",BN="transcription-started",zN="transcription-stopped",qN="transcription-error",Av="recording-started",Nv="recording-stopped",WN="recording-stats",HN="recording-error",GN="recording-upload-completed",KN="recording-data",JN="app-message",YN="transcription-message",QN="remote-media-player-started",XN="remote-media-player-updated",ZN="remote-media-player-stopped",eO="local-screen-share-started",tO="local-screen-share-stopped",nO="local-screen-share-canceled",rO="active-speaker-change",sO="active-speaker-mode-change",iO="network-quality-change",oO="network-connection",aO="cpu-load-change",lO="face-counts-updated",jl="fullscreen",Pl="exited-fullscreen",cO="live-streaming-started",uO="live-streaming-updated",dO="live-streaming-stopped",hO="live-streaming-error",fO="lang-updated",pO="receive-settings-updated",Ov="input-settings-updated",Rv="nonfatal-error",Iv="error",rm=4096,AE=102400,sm="iframe-call-message",NE="local-screen-start",OE="daily-method-update-live-streaming-endpoints",qu="transmit-log",rs="daily-custom-track",Td={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},mO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Mv={PLAY:"play",PAUSE:"pause"},im=["jpg","png","jpeg"],i6="add-endpoints",o6="remove-endpoints",RE="sip-call-transfer";function Vn(){return!Te()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Te(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function gO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function a6(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(co(),Ah())||Te())}function IE(){if(Te()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Dv="none",l6="software",c6="hardware",u6=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?l6:c6:Dv}catch{return Dv}}();function vO(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Te()&&u6!==Dv&&(e?function(){return ME()?!1:["Chrome","Firefox"].includes(co())}():function(){if(ME())return!1;var t=co();if(t==="Safari"){var n=k0();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?E0().major>=77:t==="Firefox"?T0().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function yO(){if(Te()||wO()||typeof AudioWorkletNode>"u")return!1;switch(co()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Ah();return e.major>17||e.major===17&&e.minor>=4}return!1}function om(){return gO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=co();if(!Vn())return!0;switch(t){case"Chrome":return(e=E0()).major&&e.major>0&&e.major<75;case"Firefox":return(e=T0()).major<91;case"Safari":return(e=k0()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function wO(){return Vn().match(/Linux; Android/)}function ME(){var e,t=Vn(),n=t.match(/Mac/)&&(!Te()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!Vn().match(/DailyAnd\//)||void 0}function co(){if(typeof window<"u"){var e=Vn();return bO()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||xO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Ah(){switch(co()){case"Chrome":return E0();case"Safari":return k0();case"Firefox":return T0();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Vn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function E0(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=Vn(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function bO(){return!!Vn().match(/iPad|iPhone|iPod/i)&&gO()}function xO(){return Vn().indexOf("AppleWebKit/605.1.15")>-1}function k0(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Vn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(bO()||xO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function T0(){var e=0,t=0;if(typeof window<"u"){var n=Vn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var SO=function(){return kn(function e(){En(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){wl()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){wl()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){wl()}},{key:"sendMessageToDailyJs",value:function(e,t){wl()}},{key:"removeListener",value:function(e){wl()}}])}();function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function am(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(r){jr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!e})()}var d6=function(){function e(){var t,n,r,s;return En(this,e),n=this,r=yr(r=e),(t=Tf(n,_O()?Reflect.construct(r,[],yr(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return Cf(e,SO),kn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var a=am({},o.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var l=a.callbackStamp;s._messageCallbacks[l].call(r,a),delete s._messageCallbacks[l]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==sm||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var a=i.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=am({},t);if(i.what=sm,i.from="module",i.callClientId=r,n){var o=jf();this._messageCallbacks[o]=n,i.callbackStamp=o}var a=s?s.contentWindow:window,l=this._callMachineTargetOrigin(s);l&&a.postMessage(i,l)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=sm,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=am({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function LE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}var h6=function(){function e(){var t,n,r,s;return En(this,e),n=this,r=yr(r=e),t=Tf(n,EO()?Reflect.construct(r,[],yr(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new dv.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new dv.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Cf(e,SO),kn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,a=function(l){if(l.callClientId===r){if(l.callbackStamp&&o._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;o._messageCallbacks[c].call(s,l),delete o._messageCallbacks[c]}t.call(s,l)}};this._wrappedListeners[t]=a,n.addListener("message",a)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?LE(Object(u),!0).forEach(function(h){jr(l,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):LE(Object(u)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(u,h))})}return l}({},t);if(o.callClientId=r,s){var a=jf();this._messageCallbacks[a]=s,o.callbackStamp=a}n.emit("message",o)}}])}(),Lv="replace",$v="shallow-merge",$E=[Lv,$v],f6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?Lv:r;En(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return kn(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===$v}},{key:"_validateMergeStrategy",value:function(t){if(!$E.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat($E,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Ce(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return l==null||l===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===Lv){var s=JSON.parse(r);Wt(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===$v){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));Wt(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>AE)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(AE,"."))}}])}();function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!e})()}function Fv(e){var t=typeof Map=="function"?new Map:void 0;return Fv=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if(kO())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,i);var l=new(s.bind.apply(s,a));return o&&Tc(l,o.prototype),l}(n,arguments,yr(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Tc(r,n)},Fv(e)}function TO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!e})()}function FE(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var p6=function(){return kn(function e(t){En(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new m6(n,function(){r(!1)},function(i,o){o||FE(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),FE(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),m6=function(){return kn(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;En(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new VE(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new VE(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),lm=function(){function e(){return En(this,e),t=this,r=arguments,n=yr(n=e),Tf(t,TO()?Reflect.construct(n,r||[],yr(t).constructor):n.apply(t,r));var t,n,r}return Cf(e,Fv(Error)),kn(e)}(),Nh=2e4,VE=function(){return kn(function t(n,r,s){En(this,t),this._loadAttemptImpl=Te()||!n.avoidEval?new g6(n,r,s):new v6(n,r,s)},[{key:"start",value:(e=pe(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),g6=function(){return kn(function s(i,o,a){En(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=a},[{key:"start",value:(r=pe(function*(){var s=_h(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=pe(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=pe(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Nh," ms) when loading call object bundle ").concat(s),type:"timeout"})},Nh);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},a=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new lm;var l=yield this._getBundleCodeFromResponse(s,a);if(this.cancelled)throw new lm;Function('"use strict";'+l)(),this._iosCache&&this._iosCache.set(s,l,a.headers),this.succeeded=!0,this._successCallback()}catch(c){if(clearTimeout(this._networkTimeout),c instanceof lm||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(c),type:c.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=pe(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),v6=function(){return kn(function e(t,n,r){En(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=jf(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=_h(this._dailyConfig);(typeof document>"u"?"undefined":Ce(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Nh," ms) when loading call object bundle ").concat(e),type:"timeout"})},Nh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Wu=function(e,t,n){return w6(e.local,t,n)===!0},y6=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},Zo=function(e,t,n,r){var s=b6(e,t,n,r);return s&&s.pendingTrack},w6=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},b6=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},x6=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function UE(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,a=["video","audio"];o<a.length;o++){var l=a[o],c=i==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),u=e.tracks[c];if(u){var h=e.local?y6(n,i,l):Zo(n,e.session_id,i,l);u.state==="playable"&&(u.track=h),u.persistentTrack=h}}}function BE(e,t){try{var n=t.getState();for(var r in e.tracks)if(!S6(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?x6(n,r):Zo(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function S6(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function zE(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(u){console.error(u)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Wu(r,e.session_id,"cam-audio")){var o=Zo(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Wu(r,e.session_id,"cam-video")){var a=Zo(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&Wu(r,e.session_id,"screen-audio")){var l=Zo(r,e.session_id,"screen","audio");l&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===l.id?e.screenAudioTrack=l:l.muted||(e.screenAudioTrack=l))}if(e.screen&&Wu(r,e.session_id,"screen-video")){var c=Zo(r,e.session_id,"screen","video");c&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===c.id?e.screenVideoTrack=c:c.muted||(e.screenVideoTrack=c))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(u){console.error("unexpected error matching up tracks",u)}}}function _6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return qE(l,c);var u={}.toString.call(l).slice(8,-1);return u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set"?Array.from(l):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?qE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function qE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _r=new Map,da=null;function E6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return WE(l,c);var u={}.toString.call(l).slice(8,-1);return u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set"?Array.from(l):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?WE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function WE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Er=new Map,Gl=null;function k6(e){CO()?function(t){_r.has(t)||(_r.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){_r.has(t)&&(_r.get(t).lastDevicesString=JSON.stringify(n),da||(da=function(){var r=pe(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=_6(_r.keys());try{for(o.s();!(s=o.n()).done;){var a=s.value,l=JSON.stringify(i);l!==_r.get(a).lastDevicesString&&(_r.get(a).lastDevicesString=l,a(i))}}catch(c){o.e(c)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",da)))}).catch(function(){}))}(e):function(t){Er.has(t)||(Er.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Er.has(t)&&(Er.get(t).lastDevicesString=JSON.stringify(n),Gl||(Gl=setInterval(pe(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=E6(Er.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=JSON.stringify(s);a!==Er.get(o).lastDevicesString&&(Er.get(o).lastDevicesString=a,o(s))}}catch(l){i.e(l)}finally{i.f()}}),3e3)))}))}(e)}function T6(e){CO()?function(t){_r.has(t)&&(_r.delete(t),_r.size===0&&da&&(navigator.mediaDevices.removeEventListener("devicechange",da),da=null))}(e):function(t){Er.has(t)&&(Er.delete(t),Er.size===0&&Gl&&(clearInterval(Gl),Gl=null))}(e)}function CO(){var e;return Te()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var C6=new Set;function j6(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!C6.has(n.id)}(e)}function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){jr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Al=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),P6=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Kl=Object.values(Al),GE=["v","a","sv","sa","cv","ca"];Object.freeze(Kl.reduce(function(e,t,n){return e[t]=GE[n],e},{})),Object.freeze(GE.reduce(function(e,t,n){return e[t]=Kl[n],e},{}));var A6=[Al.VIDEO,Al.AUDIO,Al.SCREEN_VIDEO,Al.SCREEN_AUDIO],KE=Object.values(P6),JE=["p","s","t"];Object.freeze(KE.reduce(function(e,t,n){return e[t]=JE[n],e},{})),Object.freeze(JE.reduce(function(e,t,n){return e[t]=KE[n],e},{}));var jO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;En(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return kn(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof Et?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Et?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Et?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof Et&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Et?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Et?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof Et&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Ft(t,2),r=n[0],s=n[1];return[r,s instanceof Et?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Ft(t,2),r=n[0],s=n[1];return[r,s instanceof Et?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:Et.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:Et.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var a in s={},t.byParticipantId){var l=t.byParticipantId[a];s[a]=typeof l=="boolean"?l:Et.fromJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:Et.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:Et.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var a in s={},t.p){var l=t.p[a];s[a]=typeof l=="boolean"?l:Et.fromMinifiedJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Ce(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Ft(Et.validateJSONObject(t.base,!0),2),a=o[0],l=o[1];if(!a)return[!1,l]}else{if(Ce(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var c=0,u=Object.values(t[i]);c<u.length;c++){var h=u[c],f=Ft(Et.validateJSONObject(h),2),m=f[0],b=f[1];if(!m)return[!1,b]}}}return[!0]}}])}(),Et=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,a=t.customAudio;En(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=a}return kn(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Es({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Es({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Es({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Es({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Es({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Es({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Es({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Es({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Ce(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!Kl.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(A6.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Ce(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var a=0,l=Object.values(t[o]);a<l.length;a++)if(typeof l[a]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Kl.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Kl.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),N6=["result"],O6=["preserveIframe"];function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(r){jr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!e})()}function QE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return XE(l,c);var u={}.toString.call(l).slice(8,-1);return u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set"?Array.from(l):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?XE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function XE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Si={},ZE="video",R6="voice",e1=Te()?{data:{}}:{data:{},topology:"none"},t1={present:0,hidden:0},AO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},cm=Object.keys(AO),n1=["state","volume","simulcastEncodings"],r1={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Oh={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Vv={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},_i={customIntegrations:{validate:$O,help:DO()},customTrayButtons:{validate:LO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Oh))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return FO(e,r1)},help:"reactNativeConfig should look like ".concat(JSON.stringify(r1),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return NO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:rs};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:rs};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Ce(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return OO(e,{allowAllParticipantsKey:!1})},help:MO({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!RO(e)&&(t._inputSettings||(t._inputSettings={}),IO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:Uv()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Hu={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Te()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in i)if(a==="custom"){if(!n.includes(i[a])&&!s(i[a],!0))return!1}else{var l=!o&&!r.includes(a),c=!n.includes(i[a]);if(l||c)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Te()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ft(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=QE(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(!a.includes(c))return!1}}catch(y){l.e(y)}finally{l.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var u=Ft(jO.validateJSONObject(i),2),h=u[0],f=u[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,b=["participants","streaming","transcription"],p=QE(i);try{for(p.s();!(m=p.n()).done;){var x=m.value;if(!b.includes(x))return!1}}catch(y){p.e(y)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=pe(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var I6=function(){function e(g){var k,_,A,P,M,U,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(En(this,e),A=this,P=yr(P=e),jr(_=Tf(A,PO()?Reflect.construct(P,[],yr(A).constructor):P.apply(A,M)),"startListeningForDeviceChanges",function(){k6(_.handleDeviceChange)}),jr(_,"stopListeningForDeviceChanges",function(){T6(_.handleDeviceChange)}),jr(_,"handleDeviceChange",function(X){X=X.map(function(ce){return JSON.parse(JSON.stringify(ce))}),_.emitDailyJSEvent({action:"available-devices-updated",availableDevices:X})}),jr(_,"handleNativeAppStateChange",function(){var X=pe(function*(ce){if(ce==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield _.destroy());var Ve=ce==="active";_.disableReactNativeAutoDeviceManagement("video")||(Ve?_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!0):(_.camUnmutedBeforeLosingNativeActiveState=_.localVideo(),_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!1)))});return function(ce){return X.apply(this,arguments)}}()),jr(_,"handleNativeAudioFocusChange",function(X){_.disableReactNativeAutoDeviceManagement("audio")||(_._hasNativeAudioFocus=X,_.toggleParticipantAudioBasedOnNativeAudioFocus(),_._hasNativeAudioFocus?_.micUnmutedBeforeLosingNativeAudioFocus&&_.setLocalAudio(!0):(_.micUnmutedBeforeLosingNativeAudioFocus=_.localAudio(),_.setLocalAudio(!1)))}),jr(_,"handleNativeSystemScreenCaptureStop",function(){_.stopScreenShare()}),!om()&&!Te())throw new Error("WebRTC not supported or suppressed");if(_.strictMode=V.strictMode===void 0||V.strictMode,_.allowMultipleCallInstances=(k=V.allowMultipleCallInstances)!==null&&k!==void 0&&k,Object.keys(Si).length&&(_._logDuplicateInstanceAttempt(),!_.allowMultipleCallInstances)){if(_.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),_.callClientId=jf(),Si[(U=_).callClientId]=U,window._daily.instances[_.callClientId]={},_._sharedTracks={},window._daily.instances[_.callClientId].tracks=_._sharedTracks,V.dailyJsVersion=e.version(),_._iframe=g,_._callObjectMode=V.layout==="none"&&!_._iframe,_._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},V.showLocalVideo!==void 0?_._callObjectMode?console.error("showLocalVideo is not available in call object mode"):_._showLocalVideo=!!V.showLocalVideo:_._showLocalVideo=!0,V.showParticipantsBar!==void 0?_._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):_._showParticipantsBar=!!V.showParticipantsBar:_._showParticipantsBar=!0,V.customIntegrations!==void 0?_._callObjectMode?console.error("customIntegrations is not available in call object mode"):_._customIntegrations=V.customIntegrations:_._customIntegrations={},V.customTrayButtons!==void 0?_._callObjectMode?console.error("customTrayButtons is not available in call object mode"):_._customTrayButtons=V.customTrayButtons:_._customTrayButtons={},V.activeSpeakerMode!==void 0?_._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):_._activeSpeakerMode=!!V.activeSpeakerMode:_._activeSpeakerMode=!1,V.receiveSettings?_._callObjectMode?_._receiveSettings=V.receiveSettings:console.error("receiveSettings is only available in call object mode"):_._receiveSettings={},_.validateProperties(V),_.properties=ae({},V),_._inputSettings||(_._inputSettings={}),_._callObjectLoader=_._callObjectMode?new p6(_.callClientId):null,_._callState=Cv,_._isPreparingToJoin=!1,_._accessState={access:kd},_._meetingSessionSummary={},_._finalSummaryOfPrevSession={},_._meetingSessionState=hm(e1,_._callObjectMode),_._nativeInCallAudioMode=ZE,_._participants={},_._isScreenSharing=!1,_._participantCounts=t1,_._rmpPlayerState={},_._waitingParticipants={},_._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},_._activeSpeaker={},_._localAudioLevel=0,_._isLocalAudioLevelObserverRunning=!1,_._remoteParticipantsAudioLevel={},_._isRemoteParticipantsAudioLevelObserverRunning=!1,_._maxAppMessageSize=rm,_._messageChannel=Te()?new h6:new d6,_._iframe&&(_._iframe.requestFullscreen?_._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===_._iframe?(_.emitDailyJSEvent({action:jl}),_.sendMessageToCallMachine({action:jl})):(_.emitDailyJSEvent({action:Pl}),_.sendMessageToCallMachine({action:Pl}))}):_._iframe.webkitRequestFullscreen&&_._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===_._iframe?(_.emitDailyJSEvent({action:jl}),_.sendMessageToCallMachine({action:jl})):(_.emitDailyJSEvent({action:Pl}),_.sendMessageToCallMachine({action:Pl}))})),Te()){var W=_.nativeUtils();W.addAudioFocusChangeListener&&W.removeAudioFocusChangeListener&&W.addAppStateChangeListener&&W.removeAppStateChangeListener&&W.addSystemScreenCaptureStopListener&&W.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),_._hasNativeAudioFocus=!0,W.addAudioFocusChangeListener(_.handleNativeAudioFocusChange),W.addAppStateChangeListener(_.handleNativeAppStateChange),W.addSystemScreenCaptureStopListener(_.handleNativeSystemScreenCaptureStop)}return _._callObjectMode&&_.startListeningForDeviceChanges(),_._messageChannel.addListenerForMessagesFromCallMachine(_.handleMessageFromCallMachine,_.callClientId,_),_}return Cf(e,Du),kn(e,[{key:"destroy",value:(ne=pe(function*(){var g;try{yield this.leave()}catch{}var k=this._iframe;if(k){var _=k.parentElement;_&&_.removeChild(k)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Te()){var A=this.nativeUtils();A.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),A.removeAppStateChangeListener(this.handleNativeAppStateChange),A.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Si[this.callClientId],!((g=window)===null||g===void 0||(g=g._daily)===null||g===void 0)&&g.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return ne.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var k=g.bodyClass,_=g.cssFile,A=g.cssText;return ke(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(_),bodyClass:k,cssText:A}),this}},{key:"iframe",value:function(){return ke(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Yn(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Yn(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,k){for(var _ in k){if(!Hu[_])throw new Error("unrecognized updateParticipant property ".concat(_));if(Hu[_].validate&&!Hu[_].validate(k[_],this,this._participants[g]))throw new Error(Hu[_].help)}}},{key:"updateParticipant",value:function(g,k){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&k&&(this.validateParticipantProperties(g,k),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:k})),this}},{key:"updateParticipants",value:function(g){var k=this._participants.local&&this._participants.local.session_id;for(var _ in g)_===k&&(_="local"),_&&g[_]&&this.validateParticipantProperties(_,g[_]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(le=pe(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Yn(this._callObjectMode,"updateWaitingParticipant()"),De(this._callState,"updateWaitingParticipant()"),typeof k!="string"||Ce(_)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(A,P){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:k,updates:_},function(M){M.error&&P(M.error),M.id||P(new Error("unknown error in updateWaitingParticipant()")),A({id:M.id})})})}),function(){return le.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(Y=pe(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yn(this._callObjectMode,"updateWaitingParticipants()"),De(this._callState,"updateWaitingParticipants()"),Ce(k)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(_,A){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:k},function(P){P.error&&A(P.error),P.ids||A(new Error("unknown error in updateWaitingParticipants()")),_({ids:P.ids})})})}),function(){return Y.apply(this,arguments)})},{key:"requestAccess",value:(F=pe(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=k.access,A=_===void 0?{level:gN}:_,P=k.name,M=P===void 0?"":P;return Yn(this._callObjectMode,"requestAccess()"),De(this._callState,"requestAccess()"),new Promise(function(U,V){g.sendMessageToCallMachine({action:"daily-method-request-access",access:A,name:M},function(W){W.error&&V(W.error),W.access||V(new Error("unknown error in requestAccess()")),U({access:W.access,granted:W.granted})})})}),function(){return F.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in k&&(Te()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),k={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),k={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:k}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:(D=pe(function*(g){var k=this,_=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,A=_!==void 0&&_;if(Yn(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ce(g)){case"string":return new Promise(function(P){k.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:A},function(M){P(M.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(g){return D.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Q=pe(function*(g){var k=this;if(Yn(this._callObjectMode,"updateReceiveSettings()"),!OO(g,{allowAllParticipantsKey:!0}))throw new Error(MO({allowAllParticipantsKey:!0}));return De(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(_){k.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},function(A){_({receiveSettings:A.receiveSettings})})})}),function(g){return Q.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,k){if(g){var _={};if(g.audio){var A,P,M;g.audio.settings&&(!Object.keys(g.audio.settings).length&&k||(_.audio={settings:ae({},g.audio.settings)})),k&&(A=_.audio)!==null&&A!==void 0&&(A=A.settings)!==null&&A!==void 0&&A.customTrack&&(_.audio.settings={customTrack:this._sharedTracks.audioTrack});var U=((P=g.audio.processor)===null||P===void 0?void 0:P.type)==="none"&&((M=g.audio.processor)===null||M===void 0?void 0:M._isDefaultWhenNone);if(g.audio.processor&&!U){var V=ae({},g.audio.processor);delete V._isDefaultWhenNone,_.audio=ae(ae({},_.audio),{},{processor:V})}}if(g.video){var W,X,ce;g.video.settings&&(!Object.keys(g.video.settings).length&&k||(_.video={settings:ae({},g.video.settings)})),k&&(W=_.video)!==null&&W!==void 0&&(W=W.settings)!==null&&W!==void 0&&W.customTrack&&(_.video.settings={customTrack:this._sharedTracks.videoTrack});var Ve=((X=g.video.processor)===null||X===void 0?void 0:X.type)==="none"&&((ce=g.video.processor)===null||ce===void 0?void 0:ce._isDefaultWhenNone);if(g.video.processor&&!Ve){var wt=ae({},g.video.processor);delete wt._isDefaultWhenNone,_.video=ae(ae({},_.video),{},{processor:wt})}}return _}}},{key:"getInputSettings",value:function(){var g=this;return ke(),new Promise(function(k){k(g._getInputSettings())})}},{key:"_getInputSettings",value:function(){var g,k,_,A,P,M,U={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=((_=this._inputSettings)===null||_===void 0?void 0:_.video)||U,k=((A=this._inputSettings)===null||A===void 0?void 0:A.audio)||U):(g=((P=this._preloadCache)===null||P===void 0||(P=P.inputSettings)===null||P===void 0?void 0:P.video)||U,k=((M=this._preloadCache)===null||M===void 0||(M=M.inputSettings)===null||M===void 0?void 0:M.audio)||U);var V={audio:k,video:g};return this._prepInputSettingsForSharing(V,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,k){var _=this._inputSettings||{},A={};if(g.video){var P,M,U;A.video={},g.video.settings?(A.video.settings={},k||g.video.settings.customTrack||(U=_.video)===null||U===void 0||!U.settings?A.video.settings=g.video.settings:A.video.settings=ae(ae({},_.video.settings),g.video.settings),Object.keys(A.video.settings).length||delete A.video.settings):(P=_.video)!==null&&P!==void 0&&P.settings&&(A.video.settings=_.video.settings),g.video.processor?A.video.processor=g.video.processor:(M=_.video)!==null&&M!==void 0&&M.processor&&(A.video.processor=_.video.processor)}else _.video&&(A.video=_.video);if(g.audio){var V,W,X;A.audio={},g.audio.settings?(A.audio.settings={},k||g.audio.settings.customTrack||(X=_.audio)===null||X===void 0||!X.settings?A.audio.settings=g.audio.settings:A.audio.settings=ae(ae({},_.audio.settings),g.audio.settings),Object.keys(A.audio.settings).length||delete A.audio.settings):(V=_.audio)!==null&&V!==void 0&&V.settings&&(A.audio.settings=_.audio.settings),g.audio.processor?A.audio.processor=g.audio.processor:(W=_.audio)!==null&&W!==void 0&&W.processor&&(A.audio.processor=_.audio.processor)}else _.audio&&(A.audio=_.audio);this._maybeUpdateInputSettings(A)}},{key:"_devicesFromInputSettings",value:function(g){var k,_,A=(g==null||(k=g.video)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,P=(g==null||(_=g.audio)===null||_===void 0||(_=_.settings)===null||_===void 0?void 0:_.deviceId)||null,M=this._preloadCache.outputDeviceId||null;return{camera:A?{deviceId:A}:{},mic:P?{deviceId:P}:{},speaker:M?{deviceId:M}:{}}}},{key:"updateInputSettings",value:(J=pe(function*(g){var k=this;return ke(),RO(g)?g.video||g.audio?(IO(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise(function(_,A){k.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},function(P){if(P.error)A(P.error);else{if(P.returnPreloadCache)return k._updatePreloadCacheInputSettings(g,!0),void _(k._getInputSettings());k._maybeUpdateInputSettings(P.inputSettings),_(k._prepInputSettingsForSharing(P.inputSettings,!0))}})})):this._getInputSettings():(console.error(Uv()),Promise.reject(Uv()))}),function(g){return J.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var k=g.kbs,_=g.trackConstraints;if(ke(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:k,trackConstraints:_}),this}},{key:"getDailyLang",value:function(){var g=this;if(ke(),this._callMachineInitialized)return new Promise(function(k){g.sendMessageToCallMachine({action:"get-daily-lang"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}},{key:"setDailyLang",value:function(g){return ke(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[js,Gr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(B=pe(function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),De(this._callState,"getMeetingSession()"),new Promise(function(k){g.sendMessageToCallMachine({action:"get-meeting-session"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}),function(){return B.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return De(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Yn(this._callObjectMode,"setMeetingSessionData()"),De(this._callState,"setMeetingSessionData");try{(function(_,A){new f6({data:_,mergeStrategy:A})})(g,k)}catch(_){throw console.error(_),_}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:k})}catch(_){throw new Error("Error setting meeting session data: ".concat(_))}}},{key:"setUserName",value:function(g,k){var _=this;return this.properties.userName=g,new Promise(function(A){_.sendMessageToCallMachine({action:"set-user-name",name:g??"",thisMeetingOnly:Te()||!!k&&!!k.thisMeetingOnly},function(P){delete P.action,delete P.callbackStamp,A(P)})})}},{key:"setUserData",value:($=pe(function*(g){var k=this;try{NO(g)}catch(_){throw console.error(_),_}if(this.properties.userData=g,this._callMachineInitialized)return new Promise(function(_){try{k.sendMessageToCallMachine({action:"set-user-data",userData:g},function(A){delete A.action,delete A.callbackStamp,_(A)})}catch(A){throw new Error("Error setting user data: ".concat(A))}})}),function(g){return $.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||typeof g!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var k=this;if(typeof AudioWorkletNode>"u"&&!Te())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(_,A){k.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},function(P){k._isLocalAudioLevelObserverRunning=!P.error,P.error?A({error:P.error}):_()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var k=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(_,A){k.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},function(P){k._isRemoteParticipantsAudioLevelObserverRunning=!P.error,P.error?A({error:P.error}):_()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(H=pe(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yn(this._callObjectMode,"startCamera()"),um(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(k)}catch(_){return Promise.reject(_)}else{if(this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(k),this.properties=ae(ae({},this.properties),k)}return new Promise(function(_){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:Eo(g.properties,g.callClientId),preloadCache:Eo(g._preloadCache,g.callClientId)},function(A){_({camera:A.camera,mic:A.mic,speaker:A.speaker})})})}),function(){return H.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,k,_){if(_&&_.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(k&&k!=="music"&&k!=="speech"&&!(k instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(_&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(_))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return ke(),De(this._callState,"startCustomTrack()"),this.validateCustomTrack(k.track,k.mode,k.trackName),new Promise(function(_,A){g._sharedTracks.customTrack=k.track,k.track=rs,g.sendMessageToCallMachine({action:"start-custom-track",properties:k},function(P){P.error?A({error:P.error}):_(P.mediaTag)})})}},{key:"stopCustomTrack",value:function(g){var k=this;return ke(),De(this._callState,"stopCustomTrack()"),new Promise(function(_){k.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},function(A){_(A.mediaTag)})})}},{key:"setCamera",value:function(g){var k=this;return bl(),Gu(this._callMachineInitialized,"setCamera()"),new Promise(function(_){k.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},function(A){_({device:A.device})})})}},{key:"setAudioDevice",value:(L=pe(function*(g){return bl(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(g){return L.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(_){g.sendMessageToCallMachine({action:"cycle-camera",properties:k},function(A){_({device:A.device})})})}},{key:"cycleMic",value:function(){var g=this;return ke(),new Promise(function(k){g.sendMessageToCallMachine({action:"cycle-mic"},function(_){k({device:_.device})})})}},{key:"getCameraFacingMode",value:function(){var g=this;return bl(),new Promise(function(k){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(_){k(_.facingMode)})})}},{key:"setInputDevicesAsync",value:(O=pe(function*(g){var k=this,_=g.audioDeviceId,A=g.videoDeviceId,P=g.audioSource,M=g.videoSource;if(ke(),P!==void 0&&(_=P),M!==void 0&&(A=M),typeof _=="boolean"&&(this._setAllowLocalAudio(_),_=void 0),typeof A=="boolean"&&(this._setAllowLocalVideo(A),A=void 0),!_&&!A)return yield this.getInputDevices();var U={};return _&&(_ instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=_,_=rs,U.audio={settings:{customTrack:_}}):(delete this._sharedTracks.audioTrack,U.audio={settings:{deviceId:_}})),A&&(A instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=A,A=rs,U.video={settings:{customTrack:A}}):(delete this._sharedTracks.videoTrack,U.video={settings:{deviceId:A}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(U,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(V){k.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:_,videoDeviceId:A},function(W){if(delete W.action,delete W.callbackStamp,W.returnPreloadCache)return k._updatePreloadCacheInputSettings(U,!1),void V(k._devicesFromInputSettings(k._inputSettings));V(W)})})}),function(g){return O.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=pe(function*(g){var k=this,_=g.outputDeviceId;if(ke(),!_||typeof _!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=_,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(A,P){k.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:_},function(M){if(delete M.action,delete M.callbackStamp,M.error){var U=new Error(M.error.message);return U.type=M.error.type,void P(U)}M.returnPreloadCache?A(k._devicesFromInputSettings(k._inputSettings)):A(M)})})}),function(g){return R.apply(this,arguments)})},{key:"getInputDevices",value:(I=pe(function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(k){g.sendMessageToCallMachine({action:"get-input-devices"},function(_){_.returnPreloadCache?k(g._devicesFromInputSettings(g._inputSettings)):k({camera:_.camera,mic:_.mic,speaker:_.speaker})})})}),function(){return I.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return bl(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(bl(),[ZE,R6].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&Cd(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(N=pe(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yn(this._callObjectMode,"preAuth()"),um(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(k)),!k.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(k),this.properties=ae(ae({},this.properties),k),new Promise(function(_,A){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:Eo(g.properties,g.callClientId),preloadCache:Eo(g._preloadCache,g.callClientId)},function(P){return P.error?A(P.error):P.access?(g._didPreAuth=!0,void _({access:P.access})):A(new Error("unknown error in preAuth()"))})})}),function(){return N.apply(this,arguments)})},{key:"load",value:(j=pe(function*(g){var k=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=ae(ae({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(jE),this.emitDailyJSEvent({action:_N}),this._callObjectMode?new Promise(function(_,A){k._callObjectLoader.cancel();var P=Date.now();k._callObjectLoader.load(k.properties.dailyConfig,function(M){k._bundleLoadTime=M?"no-op":Date.now()-P,k._updateCallState(PE),M&&k.emitDailyJSEvent({action:Pv}),_()},function(M,U){if(k.emitDailyJSEvent({action:EN}),!U){k._updateCallState(Gr),k.resetMeetingDependentVars();var V={action:Iv,errorMsg:M.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:M,bundleUrl:_h(k.properties.dailyConfig)}}};k._maybeSendToSentry(V),k.emitDailyJSEvent(V),A(M.msg)}})}):(this._iframe.src=ZA(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(_,A){k._loadedCallback=function(P){k._callState!==Gr?(k._updateCallState(PE),(k.properties.cssFile||k.properties.cssText)&&k.loadCss(k.properties),_()):A(P)}}))}}),function(g){return j.apply(this,arguments)})},{key:"join",value:(C=pe(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var _=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(k)}catch(A){return this.updateIsPreparingToJoin(!1),Promise.reject(A)}}else{if(_=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(k.url&&!this._callObjectMode&&k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(k.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(k),this.properties=ae(ae({},this.properties),k)}return k.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!k.showLocalVideo),k.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!k.showParticipantsBar),this._callState===Ds||this._callState===Ph?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Ph,!1),this.emitDailyJSEvent({action:CN}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Eo(this.properties,this.callClientId),preloadCache:Eo(this._preloadCache,this.callClientId)}),new Promise(function(A,P){g._joinedCallback=function(M,U){if(g._callState!==Gr){if(g._updateCallState(Ds),M)for(var V in M){if(g._callObjectMode){var W=g._callMachine().store;UE(M[V],W),BE(M[V],W),zE(M[V],g._participants[V],W)}g._participants[V]=ae({},M[V]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}_&&g.loadCss(g.properties),A(M)}else P(U)}}))}),function(){return C.apply(this,arguments)})},{key:"leave",value:(T=pe(function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(k){g._callState===js||g._callState===Gr?k():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(js),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:js}),k()):(g._resolveLeave=k,g.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return T.apply(this,arguments)})},{key:"startScreenShare",value:(E=pe(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Gu(this._callMachineInitialized,"startScreenShare()"),k.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",k.screenVideoSendSettings),k.mediaStream&&(this._sharedTracks.screenMediaStream=k.mediaStream,k.mediaStream=rs),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var _=this.nativeUtils();if(yield _.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:Rv,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});_.setSystemScreenCaptureStartCallback(function(){_.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:NE,captureOptions:k})}),_.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:NE,captureOptions:k})}),function(){return E.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Gu(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=g.type;if(k&&k!=="cloud"&&k!=="raw-tracks"&&k!=="local")throw new Error("invalid type: ".concat(k,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(ae({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,A=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:_,instanceId:A})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,A=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:_,instanceId:A})}},{key:"addLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:OE,endpointsOp:i6,endpoints:k,instanceId:_})}},{key:"removeLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:OE,endpointsOp:o6,endpoints:k,instanceId:_})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),wO()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw new Error("encodings must be an Array");if(!l1(g.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var A=0;A<g.length;A++){var P=g[A];for(var M in this._validateEncodingLayerHasValidProperties(P),P)if(cm.includes(M)){if(typeof P[M]!="number")throw new Error("".concat(M," must be a number"));if(k){var U=k[M],V=U.min,W=U.max;if(!l1(P[M],V,W))throw new Error("".concat(M," value not in range. valid range: ").concat(V," to ").concat(W))}}else if(!["active","scalabilityMode"].includes(M))throw new Error("Invalid key ".concat(M,", valid keys are:")+Object.values(cm));if(_&&!P.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=pe(function*(g){var k=this,_=g.url,A=g.settings,P=A===void 0?{state:Mv.PLAY}:A;try{(function(M){if(typeof M!="string")throw new Error('url parameter must be "string" type')})(_),a1(P),function(M){for(var U in M)if(!n1.includes(U))throw new Error("Invalid key ".concat(U,", valid keys are: ").concat(n1));M.simulcastEncodings&&this.validateSimulcastEncodings(M.simulcastEncodings,AO,!0)}(P)}catch(M){throw console.error("invalid argument Error: ".concat(M)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),M}return new Promise(function(M,U){k.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:_,settings:P},function(V){V.error?U({error:V.error,errorMsg:V.errorMsg}):M({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(g){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=pe(function*(g){var k=this;if(typeof g!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(_,A){k.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},function(P){P.error?A({error:P.error,errorMsg:P.errorMsg}):_()})})}),function(g){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=pe(function*(g){var k=this,_=g.session_id,A=g.settings;try{a1(A)}catch(P){throw console.error("invalid argument Error: ".concat(P)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),P}return new Promise(function(P,M){k.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:_,settings:A},function(U){U.error?M({error:U.error,errorMsg:U.errorMsg}):P({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(g){return y.apply(this,arguments)})},{key:"startTranscription",value:function(g){De(this._callState,"startTranscription()"),this.sendMessageToCallMachine(ae({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if(De(this._callState,"updateTranscription()"),!g)throw new Error("updateTranscription Error: options is mandatory");if(Ce(g)!=="object")throw new Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(ae({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if(De(this._callState,"stopTranscription()"),g&&Ce(g)!=="object")throw new Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(ae({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(x=pe(function*(g){var k=this;De(this._callState,"startDialOut()");var _=function(U){if(U){if(!Array.isArray(U))throw new Error("Error starting dial out: audio codec must be an array");if(U.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");U.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: audio codec must be a string");if(V!=="OPUS"&&V!=="PCMU"&&V!=="PCMA"&&V!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!g.sipUri&&!g.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if(typeof g.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&typeof g.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(U){if(U&&(_(U.audio),U.video)){if(!Array.isArray(U.video))throw new Error("Error starting dial out: video codec must be an array");if(U.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");U.video.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: video codec must be a string");if(V!=="H264"&&V!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(g.codecs)}if(g.phoneNumber){if(typeof g.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&_(g.codecs.audio)}if(g.callerId){if(typeof g.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if(typeof g.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if(typeof g.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(s1(g),g.permissions&&g.permissions.canReceive){var A=Ft(jO.validateJSONObject(g.permissions.canReceive),2),P=A[0],M=A[1];if(!P)throw new Error(M)}if(g.provider){if(g.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(U,V){k.sendMessageToCallMachine(ae({action:"dialout-start"},g),function(W){W.error?V(W.error):U(W)})})}),function(g){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var k=this;return De(this._callState,"stopDialOut()"),new Promise(function(_,A){k.sendMessageToCallMachine(ae({action:"dialout-stop"},g),function(P){P.error?A(P.error):_(P)})})}},{key:"sipCallTransfer",value:(p=pe(function*(g){var k=this;if(De(this._callState,"sipCallTransfer()"),!g)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,o1(g,"sipCallTransfer"),s1(g),new Promise(function(_,A){k.sendMessageToCallMachine(ae({action:RE},g),function(P){P.error?A(P.error):_(P)})})}),function(g){return p.apply(this,arguments)})},{key:"sipRefer",value:(b=pe(function*(g){var k=this;if(De(this._callState,"sipRefer()"),!g)throw new Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,o1(g,"sipRefer"),new Promise(function(_,A){k.sendMessageToCallMachine(ae({action:RE},g),function(P){P.error?A(P.error):_(P)})})}),function(g){return b.apply(this,arguments)})},{key:"sendDTMF",value:(m=pe(function*(g){var k=this;return De(this._callState,"sendDTMF()"),function(_){var A=_.sessionId,P=_.tones;if(!A||!P)throw new Error("sessionId and tones are mandatory parameter");if(typeof A!="string"||typeof P!="string")throw new Error("sessionId and tones should be of string type");if(P.length>20)throw new Error("tones string must be upto 20 characters");var M=/[^0-9A-D*#]/g,U=P.match(M);if(U&&U[0])throw new Error("".concat(U[0]," is not valid DTMF tone"))}(g),new Promise(function(_,A){k.sendMessageToCallMachine(ae({action:"send-dtmf"},g),function(P){P.error?A(P.error):_(P)})})}),function(g){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==Ds?Promise.resolve(ae({stats:{latest:{}}},this._network)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-calc-stats"},function(_){k(ae(ae({},g._network),{},{stats:_.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=pe(function*(){var g=this;if(dm(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}return new Promise(function(k,_){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(A){A.error?_(A.error):k(A.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!j6(g)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=pe(function*(){var g=this;ke(),Yn(this._callObjectMode,"testCallQuality()"),Gu(this._callMachineInitialized,"testCallQuality()",null,!0),um(this._callState,this._isPreparingToJoin,"testCallQuality()");var k=this._testCallAlreadyInProgress,_=function(P){k||(g._testCallInProgress=P)};if(_(!0),this.needsLoad())try{var A=this._callState;yield this.load(),this._callState=A}catch(P){return _(!1),Promise.reject(P)}return new Promise(function(P){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},function(M){var U=M.results,V=U.result,W=__(U,N6);if(V==="failed"){var X,ce=ae({},W);(X=W.error)!==null&&X!==void 0&&X.details?(W.error.details=JSON.parse(W.error.details),ce.error=ae(ae({},ce.error),{},{details:ae({},ce.error.details)}),ce.error.details.duringTest="testCallQuality"):(ce.error=ce.error?ae({},ce.error):{},ce.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(ce)}_(!1),P(ae({result:V},W))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(u=pe(function*(g){var k;Te()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),k=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),k=yield this.testCallQuality());var _={result:k.result,secondsElapsed:k.secondsElapsed};return k.data&&(_.data={maxRTT:k.data.maxRoundTripTime,packetLoss:k.data.avgRecvPacketLoss}),_}),function(g){return u.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(c=pe(function*(g){var k=this;if(dm(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(P){return Promise.reject(P)}var _=g.videoTrack,A=g.duration;if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=_,new Promise(function(P,M){k.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:A},function(U){U.error?M(U.error):P(U.results)})})}),function(g){return c.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Te()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(l=pe(function*(g){var k=this;if(dm(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(_){return Promise.reject(_)}if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise(function(_,A){k.sendMessageToCallMachine({action:"test-network-connectivity"},function(P){P.error?A(P.error):_(P.results)})})}),function(g){return l.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise(function(k){g._callState===Ds?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(_){k(_.cpuStats)}):k({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var k;if(!(((k=Object.keys(g))===null||k===void 0?void 0:k.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(cm))}},{key:"_validateVideoSendSettings",value:function(g,k){var _=g==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],A="Video send settings should be either an object or one of the supported presets: ".concat(_.join());if(typeof k=="string"){if(!_.includes(k))throw new Error(A)}else{if(Ce(k)!=="object")throw new Error(A);if(!k.maxQuality&&!k.encodings&&k.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(k.maxQuality&&["low","medium","high"].indexOf(k.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(k.encodings){var P=!1;switch(Object.keys(k.encodings).length){case 1:P=!k.encodings.low;break;case 2:P=!k.encodings.low||!k.encodings.medium;break;case 3:P=!k.encodings.low||!k.encodings.medium||!k.encodings.high;break;default:P=!0}if(P)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");k.encodings.low&&this._validateEncodingLayerHasValidProperties(k.encodings.low),k.encodings.medium&&this._validateEncodingLayerHasValidProperties(k.encodings.medium),k.encodings.high&&this._validateEncodingLayerHasValidProperties(k.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var k=this;if(!g||Object.keys(g).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(g).forEach(function(_){var A=Ft(_,2),P=A[0],M=A[1];k._validateVideoSendSettings(P,M)})}},{key:"updateSendSettings",value:function(g){var k=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(_,A){k.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},function(P){P.error?A(P.error):_(P.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return ke(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return ke(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return ke(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return De(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(a=pe(function*(){var g=this;if(this._callObjectMode){var k=yield navigator.mediaDevices.enumerateDevices();return co()==="Firefox"&&Ah().major>115&&Ah().major<123&&(k=k.filter(function(_){return _.kind!=="audiooutput"})),{devices:k.map(function(_){var A=JSON.parse(JSON.stringify(_));if(!Te()&&_.kind==="videoinput"&&_.getCapabilities){var P,M=_.getCapabilities();A.facing=(M==null||(P=M.facingMode)===null||P===void 0?void 0:P.length)>=1?M.facingMode[0]:void 0}return A})}}return new Promise(function(_){g.sendMessageToCallMachine({action:"enumerate-devices"},function(A){_({devices:A.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(De(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:k}),this}},{key:"addFakeParticipant",value:function(g){return ke(),De(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(ae({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return cn(this._callObjectMode,"setShowNamesMode()"),ke(),g&&g!=="always"&&g!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this)}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return cn(this._callObjectMode,"setShowLocalVideo()"),ke(),De(this._callState,"setShowLocalVideo()"),typeof g!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g,this)}},{key:"showLocalVideo",value:function(){return cn(this._callObjectMode,"showLocalVideo()"),ke(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return cn(this._callObjectMode,"setShowParticipantsBar()"),ke(),De(this._callState,"setShowParticipantsBar()"),typeof g!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g,this)}},{key:"showParticipantsBar",value:function(){return cn(this._callObjectMode,"showParticipantsBar()"),ke(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return ke(),cn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return ke(),cn(this._callObjectMode,"setCustomIntegrations()"),De(this._callState,"setCustomIntegrations()"),$O(g)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g,this):this}},{key:"startCustomIntegrations",value:function(g){var k=this;if(ke(),cn(this._callObjectMode,"startCustomIntegrations()"),De(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some(function(P){return typeof P!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,A=_.filter(function(P){return!(P in k._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:_}),this)}},{key:"stopCustomIntegrations",value:function(g){var k=this;if(ke(),cn(this._callObjectMode,"stopCustomIntegrations()"),De(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some(function(P){return typeof P!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,A=_.filter(function(P){return!(P in k._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:_}),this)}},{key:"customTrayButtons",value:function(){return cn(this._callObjectMode,"customTrayButtons()"),ke(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return cn(this._callObjectMode,"updateCustomTrayButtons()"),ke(),De(this._callState,"updateCustomTrayButtons()"),LO(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Oh))),this)}},{key:"theme",value:function(){return cn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var k=this;return cn(this._callObjectMode,"setTheme()"),new Promise(function(_,A){try{k.validateProperties({theme:g}),k.properties.theme=ae({},g),k.sendMessageToCallMachine({action:"set-theme",theme:k.properties.theme});try{k.emitDailyJSEvent({action:SN,theme:k.properties.theme})}catch(P){console.log("could not emit 'theme-updated'",P)}_(k.properties.theme)}catch(P){A(P)}})}},{key:"requestFullscreen",value:(o=pe(function*(){if(ke(),this._iframe&&!document.fullscreenElement&&IE())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){ke(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=pe(function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-sidebar-view"},function(_){k(_.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this)}},{key:"room",value:(s=pe(function*(){var g=this,k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,_=k===void 0||k;return this._accessState.access===kd||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(A){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:_},function(P){delete P.action,delete P.callbackStamp,A(P)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=pe(function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(k){return console.error("geo lookup failed",k),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=pe(function*(g){var k=this;return ke(),De(this._callState,"setNetworkTopology()"),new Promise(function(_,A){k.sendMessageToCallMachine({action:"set-network-topology",opts:g},function(P){P.error?A({error:P.error}):_({workerId:P.workerId})})})}),function(g){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=pe(function*(){var g=this;return new Promise(function(k,_){g.needsLoad()&&k({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},function(A){A.error?_({error:A.error}):k({topology:A.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(ke(),typeof g!="number"&&g!==!0&&g!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,k){return Du.prototype.on.call(this,g,k)}},{key:"once",value:function(g,k){return Du.prototype.once.call(this,g,k)}},{key:"off",value:function(g,k){return Du.prototype.off.call(this,g,k)}},{key:"validateProperties",value:function(g){var k,_;if(g!=null&&(k=g.dailyConfig)!==null&&k!==void 0&&k.userMediaAudioConstraints){var A,P;Te()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var M=g.inputSettings||{};M.audio=((A=g.inputSettings)===null||A===void 0?void 0:A.audio)||{},M.audio.settings=((P=g.inputSettings)===null||P===void 0||(P=P.audio)===null||P===void 0?void 0:P.settings)||{},M.audio.settings=ae(ae({},M.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=M,delete g.dailyConfig.userMediaAudioConstraints}if(g!=null&&(_=g.dailyConfig)!==null&&_!==void 0&&_.userMediaVideoConstraints){var U,V;Te()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var W=g.inputSettings||{};W.video=((U=g.inputSettings)===null||U===void 0?void 0:U.video)||{},W.video.settings=((V=g.inputSettings)===null||V===void 0||(V=V.video)===null||V===void 0?void 0:V.settings)||{},W.video.settings=ae(ae({},W.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=W,delete g.dailyConfig.userMediaVideoConstraints}for(var X in g)if(_i[X]){if(_i[X].validate&&!_i[X].validate(g[X],this))throw new Error("property '".concat(X,"': ").concat(_i[X].help))}else console.warn("Ignoring unrecognized property '".concat(X,"'")),delete g[X]}},{key:"assembleMeetingUrl",value:function(){var g,k,_=ae(ae({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(g=this.properties.dailyConfig)!==null&&g!==void 0&&g.proxyUrl?encodeURIComponent((k=this.properties.dailyConfig)===null||k===void 0?void 0:k.proxyUrl):void 0}),A=_.url.match(/\?/)?"&":"?";return _.url+A+Object.keys(_i).filter(function(P){return _i[P].queryString&&_[P]!==void 0}).map(function(P){return"".concat(_i[P].queryString,"=").concat(_[P])}).join("&")}},{key:"needsLoad",value:function(){return[Cv,jE,js,Gr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,k){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,k,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case bN:this.sendMessageToCallMachine(ae({action:xN},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var k={action:qu,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:_h(this.properties.dailyConfig)}};this.sendMessageToCallMachine(k),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case Pv:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case jN:var _,A=ae({},g);delete A.internal,this._maxAppMessageSize=((_=g.internal)===null||_===void 0?void 0:_._maxAppMessageSize)||rm,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(A);break;case AN:case NN:if(this._callState===js)return;if(g.participant&&g.participant.session_id){var P=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var M=this._callMachine().store;UE(g.participant,M),BE(g.participant,M),zE(g.participant,this._participants[P],M)}try{this.maybeParticipantTracksStopped(this._participants[P],g.participant),this.maybeParticipantTracksStarted(this._participants[P],g.participant),this.maybeEventRecordingStopped(this._participants[P],g.participant),this.maybeEventRecordingStarted(this._participants[P],g.participant)}catch(Zt){console.error("track events error",Zt)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[P])||(this._participants[P]=ae({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case ON:if(g.participant&&g.participant.session_id){var U=this._participants[g.participant.session_id];U&&this.maybeParticipantTracksStopped(U,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case RN:Wt(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case IN:var V={access:g.access};g.awaitingAccess&&(V.awaitingAccess=g.awaitingAccess),Wt(this._accessState,V)||(this._accessState=V,this.emitDailyJSEvent(g));break;case MN:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var W=ae(ae({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(W)}break;case Iv:var X;this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(Gr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var ce=__(g,O6);ce!=null&&(X=ce.error)!==null&&X!==void 0&&X.details&&(ce.error.details=JSON.parse(ce.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,ce),this._joinedCallback=null),this.emitDailyJSEvent(ce);break;case PN:this._callState!==Gr&&this._updateCallState(js),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case iO:var Ve=g.state,wt=g.threshold,_t=g.quality,Oe=Ve.state,lt=Ve.reasons;Oe===this._network.networkState&&Wt(lt,this._network.networkStateReasons)&&wt===this._network.threshold&&_t===this._network.quality||(this._network.networkState=Oe,this._network.networkStateReasons=lt,this._network.quality=_t,this._network.threshold=wt,g.networkState=Oe,lt.length&&(g.networkStateReasons=lt),delete g.state,this.emitDailyJSEvent(g));break;case aO:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case lO:g&&g.faceCounts!==void 0&&this.emitDailyJSEvent(g);break;case rO:var Nt=g.activeSpeaker;this._activeSpeaker.peerId!==Nt.peerId&&(this._activeSpeaker.peerId=Nt.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var ue=g.show;this._showLocalVideo=ue,this.emitDailyJSEvent({action:g.action,show:ue});break;case sO:var re=g.enabled;this._activeSpeakerMode!==re&&(this._activeSpeakerMode=re,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case LN:case $N:case FN:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case pO:Wt(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case Ov:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":Wt(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case QN:var st=g.session_id;this._rmpPlayerState[st]=g.playerState,this.emitDailyJSEvent(g);break;case ZN:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case XN:var ln=g.session_id,ou=this._rmpPlayerState[ln];ou&&this.compareEqualForRMPUpdateEvent(ou,g.remoteMediaPlayerState)||(this._rmpPlayerState[ln]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case DN:var Gf=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=hm(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||Gf)&&this.emitDailyJSEvent(g);break;case eO:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case tO:case nO:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case Av:case Nv:case WN:case HN:case GN:case BN:case zN:case qN:case kN:case TN:case JN:case YN:case"test-completed":case oO:case KN:case cO:case uO:case dO:case hO:case Rv:case fO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,k){var _="record";g&&(k.local||k[_]!==!1||g[_]===k[_]||this.emitDailyJSEvent({action:Nv}))}},{key:"maybeEventRecordingStarted",value:function(g,k){var _="record";g&&(k.local||k[_]!==!0||g[_]===k[_]||this.emitDailyJSEvent({action:Av}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==mN)}},{key:"_trackChanged",value:function(g,k){return(g==null?void 0:g.id)!==(k==null?void 0:k.id)}},{key:"maybeEventTrackStopped",value:function(g,k,_){var A,P,M=(A=k==null?void 0:k.tracks[g])!==null&&A!==void 0?A:null,U=(P=_==null?void 0:_.tracks[g])!==null&&P!==void 0?P:null,V=M==null?void 0:M.track;if(V){var W=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ce=this._trackChanged(V,U==null?void 0:U.track);W&&(X&&!ce||this.emitDailyJSEvent({action:UN,track:V,participant:_??k,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,k,_){var A,P,M=(A=k==null?void 0:k.tracks[g])!==null&&A!==void 0?A:null,U=(P=_==null?void 0:_.tracks[g])!==null&&P!==void 0?P:null,V=U==null?void 0:U.track;if(V){var W=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ce=this._trackChanged(M==null?void 0:M.track,V);X&&(W&&!ce||this.emitDailyJSEvent({action:VN,track:V,participant:_,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,k){if(g)for(var _ in g.tracks)this.maybeEventTrackStopped(_,g,k)}},{key:"maybeParticipantTracksStarted",value:function(g,k){if(k)for(var _ in k.tracks)this.maybeEventTrackStarted(_,g,k)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,k){var _,A;return g.state===k.state&&((_=g.settings)===null||_===void 0?void 0:_.volume)===((A=k.settings)===null||A===void 0?void 0:A.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(k){console.log("could not emit",g,k)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,k){return!!Wt(g,k)&&(!g.videoTrack||!k.videoTrack||g.videoTrack.id===k.videoTrack.id&&g.videoTrack.muted===k.videoTrack.muted&&g.videoTrack.enabled===k.videoTrack.enabled)&&(!g.audioTrack||!k.audioTrack||g.audioTrack.id===k.audioTrack.id&&g.audioTrack.muted===k.audioTrack.muted&&g.audioTrack.enabled===k.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Te()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||k!==this._isPreparingToJoin){var _=this._callState,A=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=k;var P=this._callState===Ds;this.updateShowAndroidOngoingMeetingNotification(P);var M=Cd(_,A),U=Cd(this._callState,this._isPreparingToJoin);M!==U&&(this.updateKeepDeviceAwake(U),this.updateDeviceAudioMode(U),this.updateNoOpRecordingEnsuringBackgroundContinuity(U))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=t1,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:kd},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=hm(e1,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=rm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){Te()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(Te()&&!this.disableReactNativeAutoDeviceManagement("audio")){var k=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(k)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(Te()&&this.nativeUtils().setShowOngoingMeetingNotification){var k,_,A,P;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var M=this.properties.reactNativeConfig.androidInCallNotification;k=M.title,_=M.subtitle,A=M.iconName,P=M.disableForCustomOverride}P&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,k,_,A,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){Te()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(Te()){var k=(g=this._callMachine())===null||g===void 0||(g=g.store)===null||g===void 0?void 0:g.getState();for(var _ in k==null?void 0:k.streams){var A=k.streams[_];A&&A.pendingTrack&&A.pendingTrack.kind==="audio"&&(A.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(g!==void 0){var k=document.createElement("a");return k.href=g,k.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(Si)[0];if(this.needsLoad())if(g&&!g.needsLoad()){var k={action:qu,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(k)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var _={action:qu,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(_,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,k=Object.values(Si);g<k.length;g++){var _=k[g];_._callMachineInitialized?(_.sendMessageToCallMachine({action:qu,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),_._delayDuplicateInstanceLog=!1):_._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){var k,_,A,P;if(!((k=g.error)!==null&&k!==void 0&&k.type&&(![wN,yN,jv].includes(g.error.type)||g.error.type===jv&&g.error.msg.includes("deleted")))){var M=(_=this.properties)!==null&&_!==void 0&&_.url?new URL(this.properties.url):void 0,U="production";M&&M.host.includes(".staging.daily")&&(U="staging");var V,W,X,ce,Ve,wt=function(st){const ln=[t8(),ZW(),C8(),k8(),O8(),I8(),i8(),R8()];return st.autoSessionTracking!==!1&&ln.push(N8()),ln}({}).filter(function(st){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(st.name)}),_t=new f8({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:y8,stackParser:E8,integrations:wt,environment:U}),Oe=new ui;if(Oe.setClient(_t),_t.init(),this.session_id&&Oe.setExtra("sessionId",this.session_id),this.properties){var lt=ae({},this.properties);lt.userName=lt.userName?"[Filtered]":void 0,lt.userData=lt.userData?"[Filtered]":void 0,lt.token=lt.token?"[Filtered]":void 0,Oe.setExtra("properties",lt)}if(M){var Nt=M.searchParams.get("domain");if(!Nt){var ue=M.host.match(/(.*?)\./);Nt=ue&&ue[1]||""}Nt&&Oe.setTag("domain",Nt)}g.error&&(Oe.setTag("fatalErrorType",g.error.type),Oe.setExtra("errorDetails",g.error.details),!((V=g.error.details)===null||V===void 0)&&V.uri&&Oe.setTag("serverAddress",g.error.details.uri),!((W=g.error.details)===null||W===void 0)&&W.workerGroup&&Oe.setTag("workerGroup",g.error.details.workerGroup),!((X=g.error.details)===null||X===void 0)&&X.geoGroup&&Oe.setTag("geoGroup",g.error.details.geoGroup),!((ce=g.error.details)===null||ce===void 0)&&ce.on&&Oe.setTag("connectionAttempt",g.error.details.on),(Ve=g.error.details)!==null&&Ve!==void 0&&Ve.bundleUrl&&(Oe.setTag("bundleUrl",g.error.details.bundleUrl),Oe.setTag("bundleError",g.error.details.sourceError.type))),Oe.setTags({callMode:this._callObjectMode?Te()?"reactNative":(A=this.properties)!==null&&A!==void 0&&(A=A.dailyConfig)!==null&&A!==void 0&&(A=A.callMode)!==null&&A!==void 0&&A.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var re=((P=g.error)===null||P===void 0?void 0:P.msg)||g.errorMsg;Oe.captureException(new Error(re))}}},{key:"_callMachine",value:function(){var g;return(g=window._daily)===null||g===void 0||(g=g.instances)===null||g===void 0||(g=g[this.callClientId])===null||g===void 0?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!Wt(this._inputSettings,g)){var k=this._getInputSettings();this._inputSettings=g;var _=this._getInputSettings();Wt(k,_)||this.emitDailyJSEvent({action:Ov,inputSettings:_})}}}],[{key:"supportedBrowser",value:function(){if(Te())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=xW.getParser(Vn());return{supported:!!om(),mobile:g.getPlatformType()==="mobile",name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!IE(),supportsScreenShare:!!a6(),supportsSfu:!!om(),supportsVideoProcessing:vO(),supportsAudioProcessing:yO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.layout="none",new e(null,g)}},{key:"wrap",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ke(),!g||!g.contentWindow||typeof g.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return k.layout||(k.customLayout?k.layout="custom-v1":k.layout="browser"),new e(g,k)}},{key:"createFrame",value:function(g,k){var _,A;ke(),g&&k?(_=g,A=k):g&&g.append?(_=g,A={}):(_=document.body,A=g||{});var P=A.iframeStyle;P||(P=_===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var M=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?M.allow="microphone, camera":M.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",M.style.visibility="hidden",_.appendChild(M),M.style.visibility=null,Object.keys(P).forEach(function(U){return M.style[U]=P[U]}),A.layout||(A.customLayout?A.layout="custom-v1":A.layout="browser");try{return new e(M,A)}catch(U){throw _.removeChild(M),U}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ke();var k=document.createElement("iframe");return k.allow="microphone; camera; autoplay",k.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(k),g.layout||(g.layout="custom-v1"),e.wrap(k,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return g?Si[g]:Object.values(Si)[0]}}]);var t,n,r,s,i,o,a,l,c,u,h,f,m,b,p,x,y,w,S,E,T,C,j,N,I,R,O,L,H,$,B,J,Q,D,F,Y,le,ne}();function s1(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Eo(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=rs;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function De(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==Ds){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function Cd(e,t){return[Ph,Ds].includes(e)||t}function um(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(Cd(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function Gu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function dm(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Yn(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function cn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function ke(){if(Te())throw new Error("This daily-js method is not currently supported in React Native")}function bl(){if(!Te())throw new Error("This daily-js method is only supported in React Native")}function NO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Wt(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function OO(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var l=Ft(a[o],2),c=l[0],u=l[1];if(!r(c)||!i(u))return!1}return!0}function RO(e){if(Ce(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ft(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Ce(i)!=="object")return!1;for(var o=0,a=Object.entries(i);o<a.length;o++){var l=Ft(a[o],2),c=l[0],u=l[1];switch(c){case"processor":if(!D6(u))return!1;break;case"settings":if(!i1(u))return!1;break;default:return!1}}break;case"audio":if(Ce(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Ft(f[h],2),b=m[0],p=m[1];switch(b){case"processor":if(!M6(p))return!1;break;case"settings":if(!i1(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function IO(e,t,n){var r,s=[];e.video&&e.video.processor&&(vO((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(yO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:rs}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:rs}):delete n.videoTrack)}function M6(e){if(Te())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Ce(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(mO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function D6(e){if(Te())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Ce(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Td).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Ce(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Td.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Td.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Eh(o.source))return o.type="url",!!function(c){var u=new URL(c),h=u.pathname;if(u.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return im.includes(f)}catch(b){return console.error("failed to deduce blob content type",b),!1}var m=h.split(".").at(-1).toLowerCase().trim();return im.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(im.join(", "),"]")),!1);return a=o.source,l=Number(a),isNaN(l)||!Number.isInteger(l)||l<=0||l>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var a,l}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function i1(e){return Ce(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function Uv(){var e=Object.values(Td).join(" | "),t=Object.values(mO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function MO(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(vN).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function DO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Vv),".")}function LO(e){if(e&&Ce(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Oh),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Ft(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=Ft(i[s],2),a=o[0],l=o[1],c=Oh.id[a];if(!c)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Eh(l))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(a," should be ").concat(c,". Got: ").concat(l)),!1;break;default:if(Ce(l)!==c)return console.error("customTrayButton ".concat(a," should be a ").concat(c,".")),!1}}return!0}function $O(e){if(!e||e&&Ce(e)!=="object"||Array.isArray(e))return console.error(DO()),!1;for(var t=function(h){return"".concat(h," should be ").concat(Vv.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,s=Object.entries(e);r<s.length;r++){var i=Ft(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[i]);o<a.length;o++){var l=Ft(a[o],2),c=l[0],u=l[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof u!="string")return n(i,t(c)),!1;break;case"iconURL":if(!Eh(u))return n(i,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!Eh(u))return n(i,'src "'.concat(u,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof u!="string")return n(i,t(c)),!1;break;case"location":if(!["main","sidebar"].includes(u))return n(i,t(c)),!1;break;case"controlledBy":if(u!=="*"&&u!=="owners"&&(!Array.isArray(u)||u.some(function(h){return typeof h!="string"})))return n(i,t(c)),!1;break;case"shared":if((!Array.isArray(u)||u.some(function(h){return typeof h!="string"}))&&u!=="owners"&&typeof u!="boolean")return n(i,t(c)),!1;break;default:if(!Vv.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function FO(e,t){if(t===void 0)return!1;switch(Ce(t)){case"string":return Ce(e)===t;case"object":if(Ce(e)!=="object")return!1;for(var n in e)if(!FO(e[n],t[n]))return!1;return!0;default:return!1}}function o1(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function a1(e){if(Ce(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Mv).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Mv));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function l1(e,t,n){return!(typeof e!="number"||e<t||e>n)}function hm(e,t){return e&&!t&&delete e.data,e}const L6=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:gN,DAILY_ACCESS_LEVEL_LOBBY:V8,DAILY_ACCESS_LEVEL_NONE:U8,DAILY_ACCESS_UNKNOWN:kd,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:X8,DAILY_CAMERA_ERROR_CAM_IN_USE:Y8,DAILY_CAMERA_ERROR_CONSTRAINTS:n6,DAILY_CAMERA_ERROR_MIC_IN_USE:Q8,DAILY_CAMERA_ERROR_NOT_FOUND:t6,DAILY_CAMERA_ERROR_PERMISSIONS:Z8,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:e6,DAILY_CAMERA_ERROR_UNKNOWN:r6,DAILY_EVENT_ACCESS_STATE_UPDATED:IN,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:rO,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:sO,DAILY_EVENT_APP_MSG:JN,DAILY_EVENT_CAMERA_ERROR:TN,DAILY_EVENT_CPU_LOAD_CHANGE:aO,DAILY_EVENT_ERROR:Iv,DAILY_EVENT_EXIT_FULLSCREEN:Pl,DAILY_EVENT_FACE_COUNTS_UPDATED:lO,DAILY_EVENT_FULLSCREEN:jl,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:xN,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:bN,DAILY_EVENT_INPUT_SETTINGS_UPDATED:Ov,DAILY_EVENT_JOINED_MEETING:jN,DAILY_EVENT_JOINING_MEETING:CN,DAILY_EVENT_LANG_UPDATED:fO,DAILY_EVENT_LEFT_MEETING:PN,DAILY_EVENT_LIVE_STREAMING_ERROR:hO,DAILY_EVENT_LIVE_STREAMING_STARTED:cO,DAILY_EVENT_LIVE_STREAMING_STOPPED:dO,DAILY_EVENT_LIVE_STREAMING_UPDATED:uO,DAILY_EVENT_LOADED:Pv,DAILY_EVENT_LOADING:_N,DAILY_EVENT_LOAD_ATTEMPT_FAILED:EN,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:nO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:eO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:tO,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:s6,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:DN,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:MN,DAILY_EVENT_NETWORK_CONNECTION:oO,DAILY_EVENT_NETWORK_QUALITY_CHANGE:iO,DAILY_EVENT_NONFATAL_ERROR:Rv,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:RN,DAILY_EVENT_PARTICIPANT_JOINED:AN,DAILY_EVENT_PARTICIPANT_LEFT:ON,DAILY_EVENT_PARTICIPANT_UPDATED:NN,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:pO,DAILY_EVENT_RECORDING_DATA:KN,DAILY_EVENT_RECORDING_ERROR:HN,DAILY_EVENT_RECORDING_STARTED:Av,DAILY_EVENT_RECORDING_STATS:WN,DAILY_EVENT_RECORDING_STOPPED:Nv,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:GN,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:QN,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:ZN,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:XN,DAILY_EVENT_STARTED_CAMERA:kN,DAILY_EVENT_THEME_UPDATED:SN,DAILY_EVENT_TRACK_STARTED:VN,DAILY_EVENT_TRACK_STOPPED:UN,DAILY_EVENT_TRANSCRIPTION_ERROR:qN,DAILY_EVENT_TRANSCRIPTION_MSG:YN,DAILY_EVENT_TRANSCRIPTION_STARTED:BN,DAILY_EVENT_TRANSCRIPTION_STOPPED:zN,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:LN,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:FN,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:$N,DAILY_FATAL_ERROR_CONNECTION:wN,DAILY_FATAL_ERROR_EJECTED:z8,DAILY_FATAL_ERROR_EOL:yN,DAILY_FATAL_ERROR_EXP_ROOM:H8,DAILY_FATAL_ERROR_EXP_TOKEN:G8,DAILY_FATAL_ERROR_MEETING_FULL:K8,DAILY_FATAL_ERROR_NBF_ROOM:q8,DAILY_FATAL_ERROR_NBF_TOKEN:W8,DAILY_FATAL_ERROR_NOT_ALLOWED:J8,DAILY_FATAL_ERROR_NO_ROOM:jv,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:B8,DAILY_RECEIVE_SETTINGS_BASE_KEY:vN,DAILY_STATE_ERROR:Gr,DAILY_STATE_JOINED:Ds,DAILY_STATE_JOINING:Ph,DAILY_STATE_LEFT:js,DAILY_STATE_NEW:Cv,DAILY_TRACK_STATE_BLOCKED:M8,DAILY_TRACK_STATE_INTERRUPTED:F8,DAILY_TRACK_STATE_LOADING:$8,DAILY_TRACK_STATE_OFF:D8,DAILY_TRACK_STATE_PLAYABLE:mN,DAILY_TRACK_STATE_SENDABLE:L8,default:I6},Symbol.toStringTag,{value:"Module"})),$6=nD(L6);var C0={exports:{}},ha=typeof Reflect=="object"?Reflect:null,c1=ha&&typeof ha.apply=="function"?ha.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},jd;ha&&typeof ha.ownKeys=="function"?jd=ha.ownKeys:Object.getOwnPropertySymbols?jd=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:jd=function(t){return Object.getOwnPropertyNames(t)};function F6(e){console&&console.warn&&console.warn(e)}var VO=Number.isNaN||function(t){return t!==t};function Ie(){Ie.init.call(this)}C0.exports=Ie;C0.exports.once=z6;Ie.EventEmitter=Ie;Ie.prototype._events=void 0;Ie.prototype._eventsCount=0;Ie.prototype._maxListeners=void 0;var u1=10;function If(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ie,"defaultMaxListeners",{enumerable:!0,get:function(){return u1},set:function(e){if(typeof e!="number"||e<0||VO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u1=e}});Ie.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ie.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||VO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function UO(e){return e._maxListeners===void 0?Ie.defaultMaxListeners:e._maxListeners}Ie.prototype.getMaxListeners=function(){return UO(this)};Ie.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[t];if(l===void 0)return!1;if(typeof l=="function")c1(l,this,n);else for(var c=l.length,u=HO(l,c),r=0;r<c;++r)c1(u[r],this,n);return!0};function BO(e,t,n,r){var s,i,o;if(If(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=UO(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,F6(a)}return e}Ie.prototype.addListener=function(t,n){return BO(this,t,n,!1)};Ie.prototype.on=Ie.prototype.addListener;Ie.prototype.prependListener=function(t,n){return BO(this,t,n,!0)};function V6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zO(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=V6.bind(r);return s.listener=n,r.wrapFn=s,s}Ie.prototype.once=function(t,n){return If(n),this.on(t,zO(this,t,n)),this};Ie.prototype.prependOnceListener=function(t,n){return If(n),this.prependListener(t,zO(this,t,n)),this};Ie.prototype.removeListener=function(t,n){var r,s,i,o,a;if(If(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():U6(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Ie.prototype.off=Ie.prototype.removeListener;Ie.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function qO(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?B6(s):HO(s,s.length)}Ie.prototype.listeners=function(t){return qO(this,t,!0)};Ie.prototype.rawListeners=function(t){return qO(this,t,!1)};Ie.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):WO.call(e,t)};Ie.prototype.listenerCount=WO;function WO(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ie.prototype.eventNames=function(){return this._eventsCount>0?jd(this._events):[]};function HO(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function U6(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function B6(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function z6(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}GO(e,t,i,{once:!0}),t!=="error"&&q6(e,s,{once:!0})})}function q6(e,t,n){typeof e.on=="function"&&GO(e,"error",t,n)}function GO(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var W6=C0.exports,Mf={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.Api=ni.HttpClient=ni.ContentType=void 0;var Z;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(Z||(ni.ContentType=Z={}));class KO{constructor(t={}){ye(this,"baseUrl","https://api.vapi.ai");ye(this,"securityData",null);ye(this,"securityWorker");ye(this,"abortControllers",new Map);ye(this,"customFetch",(...t)=>fetch(...t));ye(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});ye(this,"setSecurityData",t=>{this.securityData=t});ye(this,"contentFormatters",{[Z.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[Z.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[Z.UrlEncoded]:t=>this.toQueryString(t)});ye(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});ye(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});ye(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:a,cancelToken:l,...c})=>{const u=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(c,u),f=i&&this.toQueryString(i),m=this.contentFormatters[s||Z.Json],b=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==Z.FormData?{"Content-Type":s}:{}},signal:(l?this.createAbortSignal(l):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const x=p;x.data=null,x.error=null;const y=b?p.clone():p,w=b?await y[b]().then(S=>(x.ok?x.data=S:x.error=S,x)).catch(S=>(x.error=S,x)):x;if(l&&this.abortControllers.delete(l),!p.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}ni.HttpClient=KO;class H6 extends KO{constructor(){super(...arguments);ye(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});ye(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});ye(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s})});ye(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});ye(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});ye(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:Z.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});ye(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});ye(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});ye(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:Z.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});ye(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});ye(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:Z.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:Z.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});ye(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:Z.Json,...r})});ye(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s})});ye(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:Z.FormData,...r})});ye(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})})}}ni.Api=H6;Object.defineProperty(Mf,"__esModule",{value:!0});Mf.client=void 0;const G6=ni,K6=new G6.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});Mf.client=K6;var il={};Object.defineProperty(il,"__esModule",{value:!0});il.createSafeDailyConfig=J6;il.safeSetLocalAudio=Y6;il.safeSetInputDevicesAsync=Q6;il.createSafeDailyFactoryOptions=X6;function J6(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function Y6(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function Q6(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function X6(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var JO=ob&&ob.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(YA,"__esModule",{value:!0});const fm=JO($6),Z6=JO(W6),pm=Mf,Ei=il;function Ut(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function eH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function d1(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await eH(n,e),n}function h1(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function f1(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class tH extends Z6.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class nH extends tH{constructor(n,r,s,i){super();ye(this,"started",!1);ye(this,"call",null);ye(this,"speakingTimeout",null);ye(this,"dailyCallConfig",{});ye(this,"dailyCallObject",{});ye(this,"hasEmittedCallEndedStatus",!1);pm.client.baseUrl=r??"https://api.vapi.ai",pm.client.setSecurityData(n),this.dailyCallConfig=(0,Ei.createSafeDailyConfig)(s),this.dailyCallObject=(0,Ei.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,a){var c,u,h,f,m,b,p;const l=Date.now();if(!n&&!s&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:Ut(x),timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),y=(await pm.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:a==null?void 0:a.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((c=y==null?void 0:y.artifactPlan)==null?void 0:c.videoRecordingEnabled)??!1,voiceProvider:((h=(u=y==null?void 0:y.assistant)==null?void 0:u.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,E=((b=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:b.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:E}});const T=Date.now();try{this.call=fm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const O=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-T,H=Ut(O);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:H,timestamp:new Date().toISOString()}),O}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var L;this.emit("error",{type:"daily-error",error:Ut(O),timestamp:new Date().toISOString()}),S&&((L=this.call)==null||L.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:Ut(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var L,H,$;!O||!O.participant||(L=O.participant)!=null&&L.local||((H=O.participant)==null?void 0:H.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await d1(O.track,O.participant.session_id),($=this.call)==null||$.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||f1(O,this.call,S,E)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&h1(O.participant.session_id)});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const O=Date.now();await this.sleep(1e3);const L=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:L,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const j=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const O=Date.now()-j;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-j,H=Ut(O);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:H,duration:L,timestamp:new Date().toISOString()}),O}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=new Date().getTime(),L=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const H=Date.now()-L;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:H,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const $=(new Date().getTime()-O)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:$}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:$})})}catch(H){const $=Date.now()-L,B=Ut(H);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:B.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:B,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-N,H=Ut(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:H,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var L;(O==null?void 0:O.type)==="audio-processor-error"&&((L=this.call)==null||L.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ei.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-I,H=Ut(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:H,timestamp:new Date().toISOString()})}const R=Date.now()-l;return this.emit("call-start-success",{totalDuration:R,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(x){const y=Date.now()-l,w=Ut(x);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Ei.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Ei.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const a=s.createMediaStreamDestination();o.connect(a);const[l]=a.stream.getAudioTracks();await(0,Ei.safeSetInputDevicesAsync)(this.call,{audioSource:l})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,a,l,c,u,h,f,m,b,p,x;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((a=n==null?void 0:n.artifactPlan)==null?void 0:a.videoRecordingEnabled)??!1,w=((c=(l=n==null?void 0:n.assistant)==null?void 0:l.voice)==null?void 0:c.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:w}});const S=Date.now();this.call=fm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const E=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()}),(u=this.call.iframe())==null||u.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var L;this.emit("error",{type:"daily-error",error:Ut(O),timestamp:new Date().toISOString()}),y&&((L=this.call)==null||L.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:Ut(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var L,H,$;!O||!O.participant||(L=O.participant)!=null&&L.local||((H=O.participant)==null?void 0:H.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await d1(O.track,O.participant.session_id),($=this.call)==null||$.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||f1(O,this.call,y,w)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&h1(O.participant.session_id)}),this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var L;(O==null?void 0:O.type)==="audio-processor-error"&&((L=this.call)==null||L.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ei.safeSetLocalAudio)(this.call,!0)}))});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const O=Date.now();await this.sleep(1e3);const L=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:L,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const j=Date.now()-C;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:j,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now(),L=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const H=Date.now()-O;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:H,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const $=(new Date().getTime()-L)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:$}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:$})})}catch(H){const $=Date.now()-O,B=Ut(H);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:B.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-N,H=Ut(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:H.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-I,H=Ut(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:H.message}})}const R=Date.now()-r;this.emit("call-start-success",{totalDuration:R,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const w=Date.now()-r,S=Ut(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((b=n==null?void 0:n.artifactPlan)!=null&&b.videoRecordingEnabled),voiceProvider:((x=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=fm.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var rH=YA.default=nH;const sH=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function iH(e={}){const[t,n]=v.useState("idle"),[r,s]=v.useState([]),[i,o]=v.useState(!1),[a,l]=v.useState(0),c=v.useRef(null),u=v.useCallback(b=>{var p;n(b),(p=e.onStatusChange)==null||p.call(e,b)},[e]);v.useEffect(()=>{const b="4755e6d9-a32f-474b-a4e7-8d103fc571b5",p=new rH(b);return c.current=p,p.on("call-start",()=>{console.log("Vapi: Call started"),u("connected")}),p.on("call-end",()=>{var x;console.log("Vapi: Call ended"),u("ended"),(x=e.onCallEnd)==null||x.call(e,r)}),p.on("speech-start",()=>{u("speaking")}),p.on("speech-end",()=>{u("listening")}),p.on("message",x=>{if(x.type==="transcript"){const y={role:x.role,content:x.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(w=>{var S,E;if(x.transcriptType==="partial"&&w.length>0&&w[w.length-1].role===x.role){const T=[...w];return T[T.length-1]=y,(S=e.onTranscriptUpdate)==null||S.call(e,T),T}else if(x.transcriptType==="final"){const T=[...w,y];return(E=e.onTranscriptUpdate)==null||E.call(e,T),T}return w})}}),p.on("volume-level",x=>{l(x)}),p.on("error",x=>{var y;console.error("Vapi error:",x),u("error"),(y=e.onError)==null||y.call(e,new Error(x.message||"Vapi error"))}),()=>{p.stop()}},[]);const h=v.useCallback(async b=>{var p;if(!c.current){console.error("Vapi not initialized");return}u("connecting");try{await c.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:sH,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:b?`Hello ${b}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(x){console.error("Failed to start Vapi call:",x),u("error"),(p=e.onError)==null||p.call(e,x)}},[u,e]),f=v.useCallback(()=>{c.current&&(c.current.stop(),u("ended"))},[u]),m=v.useCallback(()=>{if(c.current){const b=!i;c.current.setMuted(b),o(b)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:a,startCall:h,endCall:f,toggleMute:m,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}const In=v.forwardRef(({className:e,type:t,...n},r)=>d.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));In.displayName="Input";var Ar=function(){return Ar=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ar.apply(this,arguments)};function ol(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function oH(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function aH(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const lH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class j0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class cH extends j0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class p1 extends j0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class m1 extends j0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bv||(Bv={}));class uH{constructor(t,{headers:n={},customFetch:r,region:s=Bv.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=lH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return oH(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(f["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(f["Content-Type"]="application/json",p=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?p=JSON.stringify(c):p=c;let x=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(x=o.signal,u.addEventListener("abort",()=>o.abort())):x=o.signal);const y=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:p,signal:x}).catch(T=>{throw new cH(T)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new p1(y);if(!y.ok)throw new m1(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield y.json():S==="application/octet-stream"||S==="application/pdf"?E=yield y.blob():S==="text/event-stream"?E=y:S==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof m1||a instanceof p1?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var dH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},hH=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const p=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var b;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&p===""?(c=204,u="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&n.shouldThrowOnError)throw new dH(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,u,h,f;const b=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",p=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${b}`,p&&(a+=` (${p})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},fH=class extends hH{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const g1=new RegExp("[,()]");var Io=class extends fH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&g1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&g1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},pH=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Io({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Io({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",u.join(","))}}return new Io({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Io({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Io({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},mH=class YO{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new YO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(u)),h=r&&Object.values(n).some(u);h?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{l.searchParams.append(m,b)})):(a="POST",c=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Io({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class gH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const vH="2.90.1",yH=`realtime-js/${vH}`,QO="1.0.0",wH="2.0.0",v1=QO,zv=1e4,bH=1e3,xH=100;var Rs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rs||(Rs={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ar||(ar={}));var qv;(function(e){e.websocket="websocket"})(qv||(qv={}));var Ni;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ni||(Ni={}));class SH{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,l.length),b.setUint8(p++,a.length),b.setUint8(p++,o.length),b.setUint8(p++,c.length),b.setUint8(p++,h.length),b.setUint8(p++,n),Array.from(l,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(c,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(h,y=>b.setUint8(p++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+s));l=l+s;const u=r.decode(t.slice(l,l+i));l=l+i;const h=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,b={type:this.BROADCAST_EVENT,event:u,payload:m};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class XO{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const y1=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_H(o,e,t,s),i),{}):{}},_H=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?ZO(i,o):Wv(o)},ZO=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return CH(t,n)}switch(e){case Le.bool:return EH(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return kH(t);case Le.json:case Le.jsonb:return TH(t);case Le.timestamp:return jH(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Wv(t);default:return Wv(t)}},Wv=e=>e,EH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},TH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},CH=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ZO(t,a))}return e},jH=e=>typeof e=="string"?e.replace(" ","T"):e,eR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class mm{constructor(t,n,r={},s=zv){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var w1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(w1||(w1={}));class Jl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Jl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),b=u.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);b.length>0&&(a[c]=b),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var b1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(b1||(b1={}));var Yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yl||(Yl={}));var Qr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qr||(Qr={}));class ea{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new mm(this,ar.join,this.params,this.timeout),this.rejoinTimer=new XO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Jl(this),this.broadcastEndpointURL=eR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Yl.PRESENCE]&&this.bindings[Yl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Qr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Qr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Qr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,y=[];for(let w=0;w<x;w++){const S=p[w],{filter:{event:E,schema:T,table:C,filter:j}}=S,N=m&&m[w];if(N&&N.event===E&&ea.isFilterValueEqual(N.schema,T)&&ea.isFilterValueEqual(N.table,C)&&ea.isFilterValueEqual(N.filter,j))y.push(Object.assign(Object.assign({},S),{id:N.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(Qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Qr.SUBSCRIBED);return}}).receive("error",m=>{this.state=ft.errored,t==null||t(Qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ft.joined&&t===Yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new mm(this,ar.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xH){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ar;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var b,p,x,y,w,S,E,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,j=(b=m.filter)===null||b===void 0?void 0:b.event;return C&&((p=n.ids)===null||p===void 0?void 0:p.includes(C))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((y=m.filter)===null||y===void 0)&&y.table)||m.filter.table===((w=n.data)===null||w===void 0?void 0:w.table))}else{const C=(E=(S=m==null?void 0:m.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:p,table:x,commit_timestamp:y,type:w,errors:S}=b;f=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(b))}m.callback(f,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ea.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=y1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=y1(t.columns,t.old_record)),n}}const gm=()=>{},Ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},PH=[1e3,2e3,5e3,1e4],AH=1e4,NH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OH{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zv,this.transport=null,this.heartbeatIntervalMs=Ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gm,this.ref=0,this.reconnectTimer=null,this.vsn=v1,this.logger=gm,this.conn=null,this.sendBuffer=[],this.serializer=new SH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${qv.websocket}`,this.httpEndpoint=eR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return Ni.Connecting;case Rs.open:return Ni.Open;case Rs.closing:return Ni.Closing;default:return Ni.Closed}}isConnected(){return this.connectionState()===Ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ea(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(bH,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Rs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rs.open||this.conn.readyState===Rs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([NH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:yH};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new XO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,c,u,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:zv,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ku.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:gm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:v1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:b=>PH[b-1]||AH,this.vsn){case QO:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(b,p)=>p(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,p)=>p(JSON.parse(b));break;case wH:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var jc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function RH(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function IH(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function MH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=RH(e.baseUrl,r,s),l=await IH(e.auth),c=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!c.ok){const m=h?f:void 0,b=m==null?void 0:m.error;throw new jc((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:c.status,headers:c.headers,data:f}}}}function Ju(e){return e.join("")}var DH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ju(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ju(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ju(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ju(e.namespace)}`}),!0}catch(t){if(t instanceof jc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof jc&&n.status===409)return;throw n}}};function ko(e){return e.join("")}var LH=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof jc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof jc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},$H=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=MH({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new DH(this.client,t),this.tableOps=new LH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Df=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var FH=class extends Df{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hv=class extends Df{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const P0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VH=()=>Response,Gv=e=>{if(Array.isArray(e))return e.map(n=>Gv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Gv(r)}),t},UH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BH=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function zH(e,t){if(Pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qH(e){var t=zH(e,"string");return Pc(t)=="symbol"?t:t+""}function WH(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(n),!0).forEach(function(r){WH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const vm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},HH=async(e,t,n)=>{e instanceof await VH()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new FH(vm(r),s,i))}).catch(r=>{t(new Hv(vm(r),r))}):t(new Hv(vm(e),e))},GH=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(UH(r)?(s.headers=he({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),he(he({},s),n))};async function su(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,GH(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>HH(l,a,r))})}async function Ac(e,t,n,r){return su(e,"GET",t,n,r)}async function rr(e,t,n,r,s){return su(e,"POST",t,r,s,n)}async function Kv(e,t,n,r,s){return su(e,"PUT",t,r,s,n)}async function KH(e,t,n,r){return su(e,"HEAD",t,he(he({},n),{},{noResolveJson:!0}),r)}async function A0(e,t,n,r,s){return su(e,"DELETE",t,r,s,n)}var JH=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}}};let tR;tR=Symbol.toStringTag;var YH=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[tR]="BlobDownloadBuilder",this.promise=null}asStream(){return new JH(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ke(t))return{data:null,error:t};throw t}}};const QH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var XH=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=P0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=he(he({},S1),r);let a=he(he({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=he(he({},a),r.headers));const c=s._removeEmptyFolders(t),u=s._getFinalPath(c),h=await(e=="PUT"?Kv:rr)(s.fetch,`${s.url}/object/${u}`,i,he({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=he({upsert:S1.upsert},r),u=he(he({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:i,fullPath:(await Kv(s.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=he({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await rr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Df("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await rr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await rr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await rr(r.fetch,`${r.url}/object/sign/${s}`,he({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await rr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>he(he({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Ac(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new YH(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Gv(await Ac(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await KH(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ke(r)&&r instanceof Hv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await A0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=he(he(he({},QH),t),{},{prefix:e||""});return{data:await rr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=he({},e);return{data:await rr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const nR="2.90.1",rR={"X-Client-Info":`storage-js/${nR}`};var ZH=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=he(he({},rR),t),this.fetch=P0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Ac(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Ac(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await rr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Kv(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ke(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await rr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await A0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},eG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},rR),t),this.fetch=P0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await rr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Ac(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await A0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!BH(e))throw new Df("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new $H({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const N0={"X-Client-Info":`storage-js/${nR}`,"Content-Type":"application/json"};var sR=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var ym=class extends sR{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tG=class extends sR{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const O0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rG=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new ym(_1(i),r,o))}).catch(()=>{const i=r+"";t(new ym(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new ym(s.statusText||`HTTP ${r} error`,r,i))}}else t(new tG(_1(e),e))},sG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(nG(r)?(s.headers=he({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,he(he({},s),n)):s};async function iG(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,sG(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>rG(l,a,r))})}async function mn(e,t,n,r,s){return iG(e,"POST",t,r,s,n)}var oG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},N0),t),this.fetch=O0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await mn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await mn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},aG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},N0),t),this.fetch=O0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await mn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}},lG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},N0),t),this.fetch=O0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await mn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}},cG=class extends lG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new uG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},uG=class extends oG{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new dG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},dG=class extends aG{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},hG=class extends ZH{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new XH(this.url,this.headers,e,this.fetch)}get vectors(){return new cG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eG(this.url+"/iceberg",this.headers,this.fetch)}};const iR="2.90.1",Mo=30*1e3,Jv=3,wm=Jv*Mo,fG="http://localhost:9999",pG="supabase.auth.token",mG={"X-Client-Info":`gotrue-js/${iR}`},Yv="X-Supabase-Api-Version",oR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vG=10*60*1e3;class Nc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yG extends Nc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wG(e){return ie(e)&&e.name==="AuthApiError"}class Oi extends Nc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gs extends Nc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class dn extends gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bG(e){return ie(e)&&e.name==="AuthSessionMissingError"}class To extends gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yu extends gs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends gs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xG(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class E1 extends gs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SG extends gs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qv extends gs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function bm(e){return ie(e)&&e.name==="AuthRetryableFetchError"}class k1 extends gs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xv extends gs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T1=` 	
\r=`.split(""),_G=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<T1.length;t+=1)e[T1[t].charCodeAt(0)]=-2;for(let t=0;t<Rh.length;t+=1)e[Rh[t].charCodeAt(0)]=t;return e})();function C1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rh[r]),t.queuedBits-=6}}function aR(e,t,n){const r=_G[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function j1(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{TG(o,r,n)};for(let o=0;o<e.length;o+=1)aR(e.charCodeAt(o),s,i);return t.join("")}function EG(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kG(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}EG(r,t)}}function TG(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function fa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)aR(e.charCodeAt(s),n,r);return new Uint8Array(t)}function CG(e){const t=[];return kG(e,n=>t.push(n)),new Uint8Array(t)}function Fi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>C1(s,n,r)),C1(null,n,r),t.join("")}function jG(e){return Math.round(Date.now()/1e3)+e}function PG(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",ki={tested:!1,writable:!1},lR=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ki.tested)return ki.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ki.tested=!0,ki.writable=!0}catch{ki.tested=!0,ki.writable=!1}return ki.writable};function AG(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const cR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Do=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ti=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kt=async(e,t)=>{await e.removeItem(t)};class Lf{constructor(){this.promise=new Lf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Lf.promiseConstructor=Promise;function xm(e){const t=e.split(".");if(t.length!==3)throw new Xv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!gG.test(t[r]))throw new Xv("JWT not in base64url format");return{header:JSON.parse(j1(t[0])),payload:JSON.parse(j1(t[1])),signature:fa(t[2]),raw:{header:t[0],payload:t[1]}}}async function OG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function RG(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function IG(e){return("0"+e.toString(16)).substr(-2)}function MG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,IG).join("")}async function DG(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function LG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await DG(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Co(e,t,n=!1){const r=MG();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Do(e,`${t}-code-verifier`,s);const i=await LG(r);return[i,r===i?"plain":"s256"]}const $G=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FG(e){const t=e.headers.get(Yv);if(!t||!t.match($G))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(e){if(!BG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zG(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function P1(e){return JSON.parse(JSON.stringify(e))}const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qG=[502,503,504];async function A1(e){var t;if(!NG(e))throw new Qv(Ai(e),0);if(qG.includes(e.status))throw new Qv(Ai(e),e.status);let n;try{n=await e.json()}catch(i){throw new Oi(Ai(i),i)}let r;const s=FG(e);if(s&&s.getTime()>=oR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new k1(Ai(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new dn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new k1(Ai(n),e.status,n.weak_password.reasons);throw new yG(Ai(n),e.status||500,r)}const WG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function de(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Yv]||(i[Yv]=oR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await HG(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function HG(e,t,n,r,s,i){const o=WG(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Qv(Ai(l),0)}if(a.ok||await A1(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await A1(l)}}function Qn(e){var t;let n=null;JG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=jG(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function N1(e){const t=Qn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ls(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GG(e){return{data:e,error:null}}function KG(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=ol(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function O1(e){return e}function JG(e){return e.access_token&&e.refresh_token&&e.expires_in}const _m=["global","local","others"];class YG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=cR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=_m[0]){if(_m.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_m.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ls})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ol(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:KG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ls})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:O1});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ie(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){jo(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ls})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){jo(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ls})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){jo(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ls})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){jo(t.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(t){jo(t.userId),jo(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:O1});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ie(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}}function R1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Po={debug:!!(globalThis&&lR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QG extends uR{}async function XG(e,t,n){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Po.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ZG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function e9(e){return parseInt(e,16)}function t9(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function n9(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=dR(e.address),b=u?`${u}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}y+=w}return`${x}
${y}`}class ct extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ih extends ct{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function r9({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(hR(o)){if(i.rp.id!==o)return new ct({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function s9({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(hR(r)){if(n.rpId!==r)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class i9{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const o9=new i9;function a9(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=ol(e,["challenge","user","excludeCredentials"]),i=fa(t).buffer,o=Object.assign(Object.assign({},n),{id:fa(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:fa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function l9(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ol(e,["challenge","allowCredentials"]),s=fa(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:fa(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function c9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u9(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fi(new Uint8Array(s.authenticatorData)),clientDataJSON:Fi(new Uint8Array(s.clientDataJSON)),signature:Fi(new Uint8Array(s.signature)),userHandle:s.userHandle?Fi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function I1(){var e,t;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function d9(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ih("Browser returned unexpected credential type",t)}:{data:null,error:new Ih("Empty credential response",t)}}catch(t){return{data:null,error:r9({error:t,options:e})}}}async function h9(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ih("Browser returned unexpected credential type",t)}:{data:null,error:new Ih("Empty credential response",t)}}catch(t){return{data:null,error:s9({error:t,options:e})}}}const f9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},p9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Mh(a,o):r[i]=Mh(o)}else r[i]=o}return r}function m9(e,t){return Mh(f9,e,t||{})}function g9(e,t){return Mh(p9,e,t||{})}class v9{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??o9.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=m9(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await d9({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=g9(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await h9(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Oi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Nc("rpId is required for WebAuthn authentication")};try{if(!I1())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Oi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Nc("rpId is required for WebAuthn registration")};try{if(!I1())return{data:null,error:new Oi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ie(o)?{data:null,error:o}:{data:null,error:new Oi("Unexpected error in register",o)}}}}ZG();const y9={url:fG,storageKey:pG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function M1(e,t,n){return await n()}const Ao={};class Oc{get jwks(){var t,n;return(n=(t=Ao[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ao[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},y9),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Oc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Oc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Tt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new YG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cR(i.fetch),this.lock=i.lock||M1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XG:this.lock=M1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new v9(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=R1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=R1(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Tt()&&(n=AG(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Tt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xG(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?this._returnResult({error:n}):this._returnResult({error:new Oi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qn}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Co(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:Qn})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qn})}else throw new Yu("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:N1})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:N1})}else throw new Yu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new To;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,c,u,h,f;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:y,options:w}=t;let S;if(Tt())if(typeof x=="object")S=x;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),T=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=dR(T[0]);let j=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const I=await S.request({method:"eth_chainId"});j=e9(I)}const N={domain:E.host,address:C,statement:y,uri:E.href,version:"1",chainId:j,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};m=n9(N),b=await S.request({method:"personal_sign",params:[t9(m),C]})}try{const{data:p,error:x}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qn});if(x)throw x;if(!p||!p.session||!p.user){const y=new To;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(ie(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,i,o,a,l,c,u,h,f,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:w,options:S}=t;let E;if(Tt())if(typeof y=="object")E=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const T=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),w?{statement:w}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(u=S==null?void 0:S.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:x,error:y}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Fi(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qn});if(y)throw y;if(!x||!x.session||!x.user){const w=new To;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(ie(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Ti(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new SG;const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Qn});if(await kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new To;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qn}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new To;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Co(this.storage,this.storageKey));const{error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Yu("You must provide either an email or phone number.")}catch(a){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Co(this.storage,this.storageKey));const c=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:GG});return!((i=c.data)===null||i===void 0)&&i.url&&Tt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new dn;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Yu("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<wm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ti(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Sm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=zG(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ls}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ls})})}catch(n){if(ie(n))return bG(n)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new dn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Co(this.storage,this.storageKey));const{data:c,error:u}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ls});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=xm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new dn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Tt())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new E1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new E1("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Qu("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const m=f-u;m*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=f-h;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,u);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(wG(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=PG(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Co(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Tt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,h=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qn}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new To}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await kt(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await RG(async s=>(s>0&&await OG(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&bm(i)&&Date.now()+o-r<Mo})}catch(r){if(this._debug(n,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Tt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ti(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Do(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Sm()}else if(s&&!s.user&&!s.user){const o=await Ti(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await kt(this.storage,this.storageKey+"-user"),await Do(this.storage,this.storageKey,s)):s.user=Sm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${wm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),bm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new dn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ie(i)){const o={data:null,error:i};return bm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await kt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Do(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=P1(s);await Do(this.storage,this.storageKey,i)}else{const s=P1(n);await Do(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mo}ms, refresh threshold is ${Jv} ticks`),s<=Jv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Co(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?c9(t.webauthn.credential_response):u9(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:a9(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:l9(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xm(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new dn})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new dn});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Tt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new dn});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Tt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new dn})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+vG>s)return r;const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=xm(r);n!=null&&n.allowExpired||VG(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=UG(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,CG(`${a}.${l}`)))throw new Xv("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}}Oc.nextInstanceID={};const w9=Oc,b9="2.90.1";let Nl="";typeof Deno<"u"?Nl="deno":typeof document<"u"?Nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nl="react-native":Nl="node";const x9={"X-Client-Info":`supabase-js-${Nl}/${b9}`},S9={headers:x9},_9={schema:"public"},E9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k9={};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function T9(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C9(e){var t=T9(e,"string");return Rc(t)=="symbol"?t:t+""}function j9(e,t,n){return(t=C9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){j9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const P9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),A9=()=>Headers,N9=(e,t,n)=>{const r=P9(n),s=A9();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,tt(tt({},o),{},{headers:c}))}};function O9(e){return e.endsWith("/")?e:e+"/"}function R9(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,f={db:tt(tt({},l),s),auth:tt(tt({},c),i),realtime:tt(tt({},u),o),storage:{},global:tt(tt(tt({},h),a),{},{headers:tt(tt({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function I9(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(O9(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var M9=class extends w9{constructor(e){super(e)}},D9=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=I9(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:_9,realtime:k9,auth:tt(tt({},E9),{},{storageKey:o}),global:S9},l=R9(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=N9(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new mH(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new hG(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new uH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M9({url:this.authUrl.href,headers:tt(tt({},f),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new OH(this.realtimeUrl.href,tt(tt({},e),{},{params:tt(tt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const L9=(e,t,n)=>new D9(e,t,n);function $9(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}$9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F9="https://gsucaxeqzluzbmvonsmj.supabase.co",V9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",ht=L9(F9,V9);function U9(e={}){const[t,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(null),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),f=v.useRef(e.accessToken||null);v.useEffect(()=>{f.current=e.accessToken||null},[e.accessToken]);const m=async()=>{if(!f.current)throw new Error("No access token - session not started");const{data:w,error:S}=await ht.functions.invoke("deepgram-token",{body:{accessToken:f.current}});if(S)throw new Error(`Failed to get Deepgram token: ${S.message}`);if((w==null?void 0:w.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(w!=null&&w.key))throw new Error((w==null?void 0:w.error)||"No token returned from Deepgram");return w.key},b=v.useCallback(async()=>{var w;if(!t){l(null),s(""),o("");try{const S=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=S;const E=await m(),T=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true",["token",E]);c.current=T,T.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const C=new MediaRecorder(S,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});u.current=C,C.ondataavailable=j=>{j.data.size>0&&T.readyState===WebSocket.OPEN&&T.send(j.data)},C.start(250)},T.onmessage=C=>{var j,N,I,R;try{const O=JSON.parse(C.data);if((I=(N=(j=O.channel)==null?void 0:j.alternatives)==null?void 0:N[0])!=null&&I.transcript){const L=O.channel.alternatives[0].transcript;O.is_final?(s(H=>{var B;const $=H?`${H} ${L}`:L;return(B=e.onTranscript)==null||B.call(e,$),$}),o("")):(o(L),(R=e.onInterimTranscript)==null||R.call(e,L))}}catch(O){console.error("Error parsing Deepgram message:",O)}},T.onerror=C=>{var N;console.error("Deepgram WebSocket error:",C);const j=new Error("WebSocket connection error");l(j),(N=e.onError)==null||N.call(e,j)},T.onclose=C=>{console.log("Deepgram WebSocket closed:",C.code,C.reason),n(!1)}}catch(S){console.error("Failed to start listening:",S);const E=S instanceof Error?S:new Error("Failed to start listening");l(E),(w=e.onError)==null||w.call(e,E),n(!1)}}},[t,e]),p=v.useCallback(()=>{u.current&&u.current.state!=="inactive"&&u.current.stop(),u.current=null,c.current&&c.current.close(),c.current=null,h.current&&h.current.getTracks().forEach(w=>w.stop()),h.current=null,n(!1),o("")},[]),x=v.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=v.useCallback(()=>{s(""),o("")},[]);return v.useEffect(()=>()=>{p()},[p]),{isListening:t,transcript:r,interimTranscript:i,error:a,startListening:b,stopListening:p,getFullTranscript:x,clearTranscript:y}}function B9(e={}){const[t,n]=v.useState([]),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(!1),c=v.useRef(null),u=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=v.useCallback(y=>{c.current=y},[]),f=v.useCallback(y=>{const w=y.map(S=>({role:S.role,content:S.content,timestamp:S.timestamp?new Date(S.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):u()}));n(w),l(!0)},[]),m=v.useCallback(async y=>{var w,S;o(null),s(!0);try{const{data:E,error:T}=await ht.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:y}});if(T)throw new Error(`Failed to start conversation: ${T.message}`);if(!(E!=null&&E.response))throw new Error("No response from chat service");const C={role:"assistant",content:E.response,timestamp:u()};n([C]),(w=e.onMessageReceived)==null||w.call(e,C)}catch(E){console.error("Error starting conversation:",E);const T=E instanceof Error?E:new Error("Failed to start conversation");o(T),(S=e.onError)==null||S.call(e,T)}finally{s(!1)}},[e]),b=v.useCallback(async y=>{var S,E,T,C;if(!y.trim())return;if(!c.current){const j=new Error("No access token - session not started");o(j),(S=e.onError)==null||S.call(e,j);return}o(null);const w={role:"user",content:y.trim(),timestamp:u()};n(j=>[...j,w]),s(!0);try{const{data:j,error:N}=await ht.functions.invoke("chat-interview",{body:{accessToken:c.current,message:y.trim()}});if(N)throw new Error(`Failed to send message: ${N.message}`);if((j==null?void 0:j.error)==="Invalid or expired session")throw(E=e.onSessionExpired)==null||E.call(e),new Error("Session expired. Please refresh the page to restart.");if(!(j!=null&&j.response))throw new Error("No response from chat service");const I={role:"assistant",content:j.response,timestamp:u()};n(R=>[...R,I]),(T=e.onMessageReceived)==null||T.call(e,I)}catch(j){console.error("Error sending message:",j);const N=j instanceof Error?j:new Error("Failed to send message");o(N),(C=e.onError)==null||C.call(e,N)}finally{s(!1)}},[e]),p=v.useCallback(()=>t,[t]),x=v.useCallback(()=>{n([]),c.current=null,o(null),s(!1),l(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:a,startConversation:m,sendMessage:b,getTranscript:p,resetConversation:x,setAccessToken:h,initializeMessages:f}}function z9({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s}){const[i,o]=v.useState(""),[a,l]=v.useState(!1),c=v.useRef(null),u=v.useRef(null),{messages:h,isThinking:f,error:m,isResumed:b,startConversation:p,sendMessage:x,setAccessToken:y,initializeMessages:w}=B9({onMessageReceived:()=>{setTimeout(()=>{var $;($=c.current)==null||$.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},100)},onSessionExpired:()=>{l(!0)}});v.useEffect(()=>{t&&y(t)},[t,y]);const{isListening:S,transcript:E,interimTranscript:T,error:C,startListening:j,stopListening:N,clearTranscript:I}=U9({accessToken:t,onTranscript:$=>{o(B=>B?`${B} ${$}`:$)}});v.useEffect(()=>{n&&n.length>0?w(n):p(e)},[e,n,w,p]),v.useEffect(()=>{r==null||r(h)},[h,r]),v.useEffect(()=>{var $;($=c.current)==null||$.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},[h]);const R=()=>{var B;const $=i.trim();!$||f||(x($),o(""),I(),(B=u.current)==null||B.focus())},O=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),R())},L=async()=>{S?N():await j()},H=i+(S&&T?` ${T}`:"");return d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsx(kf,{className:"flex-1 p-4",ref:c,children:d.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[b&&h.length>0&&d.jsx(be.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:d.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),d.jsx($a,{initial:!1,children:h.map(($,B)=>d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${$.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[d.jsx("p",{className:"text-sm whitespace-pre-wrap",children:$.content}),d.jsx("p",{className:`text-xs mt-1 ${$.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:$.timestamp})]})},B))}),f&&d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:d.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),d.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),d.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})})]})}),a&&d.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(m||C)&&!a&&d.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(m==null?void 0:m.message)||(C==null?void 0:C.message)}),S&&d.jsx(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[d.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map(($,B)=>d.jsx(be.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:B*.1},className:"w-1 bg-accent rounded-full"},B))}),d.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),T&&d.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:T})]})}),d.jsx("div",{className:"border-t bg-background p-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(me,{type:"button",variant:S?"default":"outline",size:"icon",onClick:L,disabled:a||!t,className:`shrink-0 ${S?"bg-accent hover:bg-accent/90":""}`,title:a?"Session expired":t?S?"Stop listening":"Start voice input":"Session not ready",children:S?d.jsx(D$,{className:"h-4 w-4"}):d.jsx(Ki,{className:"h-4 w-4"})}),d.jsx(In,{ref:u,value:H,onChange:$=>o($.target.value),onKeyDown:O,placeholder:a?"Session expired":S?"Speak now...":"Type your response or click the mic to speak...",disabled:f||a,className:"flex-1"}),d.jsx(me,{type:"button",onClick:R,disabled:!i.trim()||f||a,size:"icon",className:"shrink-0",children:f?d.jsx(xn,{className:"h-4 w-4 animate-spin"}):d.jsx(I$,{className:"h-4 w-4"})})]}),d.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Press Enter to send, or click the microphone to speak your answer"})]})})]})}var Em="focusScope.autoFocusOnMount",km="focusScope.autoFocusOnUnmount",L1={bubbles:!1,cancelable:!0},q9="FocusScope",R0=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=v.useState(null),c=gt(s),u=gt(i),h=v.useRef(null),f=Ee(t,p=>l(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(S){if(m.paused||!a)return;const E=S.target;a.contains(E)?h.current=E:Ps(h.current,{select:!0})},x=function(S){if(m.paused||!a)return;const E=S.relatedTarget;E!==null&&(a.contains(E)||Ps(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&Ps(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){F1.add(m);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(Em,L1);a.addEventListener(Em,c),a.dispatchEvent(y),y.defaultPrevented||(W9(Y9(fR(a)),{select:!0}),document.activeElement===p&&Ps(a))}return()=>{a.removeEventListener(Em,c),setTimeout(()=>{const y=new CustomEvent(km,L1);a.addEventListener(km,u),a.dispatchEvent(y),y.defaultPrevented||Ps(p??document.body,{select:!0}),a.removeEventListener(km,u),F1.remove(m)},0)}}},[a,c,u,m]);const b=v.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const w=p.currentTarget,[S,E]=H9(w);S&&E?!p.shiftKey&&y===E?(p.preventDefault(),n&&Ps(S,{select:!0})):p.shiftKey&&y===S&&(p.preventDefault(),n&&Ps(E,{select:!0})):y===w&&p.preventDefault()}},[n,r,m.paused]);return d.jsx(fe.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});R0.displayName=q9;function W9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ps(r,{select:t}),document.activeElement!==n)return}function H9(e){const t=fR(e),n=$1(t,e),r=$1(t.reverse(),e);return[n,r]}function fR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $1(e,t){for(const n of e)if(!G9(n,{upTo:t}))return n}function G9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function K9(e){return e instanceof HTMLInputElement&&"select"in e}function Ps(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&K9(e)&&t&&e.select()}}var F1=J9();function J9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=V1(e,t),e.unshift(t)},remove(t){var n;e=V1(e,t),(n=e[0])==null||n.resume()}}}function V1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Y9(e){return e.filter(t=>t.tagName!=="A")}var Tm=0;function pR(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??U1()),document.body.insertAdjacentElement("beforeend",e[1]??U1()),Tm++,()=>{Tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tm--}},[])}function U1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pd="right-scroll-bar-position",Ad="width-before-scroll-bar",Q9="with-scroll-bars-hidden",X9="--removed-body-scroll-bar-size";function Cm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Z9(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var eK=typeof window<"u"?v.useLayoutEffect:v.useEffect,B1=new WeakMap;function tK(e,t){var n=Z9(null,function(r){return e.forEach(function(s){return Cm(s,r)})});return eK(function(){var r=B1.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Cm(a,null)}),i.forEach(function(a){s.has(a)||Cm(a,o)})}B1.set(n,e)},[e]),n}function nK(e){return e}function rK(e,t){t===void 0&&(t=nK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function sK(e){e===void 0&&(e={});var t=rK(null);return t.options=Ar({async:!0,ssr:!1},e),t}var mR=function(e){var t=e.sideCar,n=ol(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Ar({},n))};mR.isSideCarExport=!0;function iK(e,t){return e.useMedium(t),mR}var gR=sK(),jm=function(){},$f=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:jm,onWheelCapture:jm,onTouchMoveCapture:jm}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,E=ol(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,C=tK([n,t]),j=Ar(Ar({},E),s);return v.createElement(v.Fragment,null,u&&v.createElement(T,{sideCar:gR,removeScrollBar:c,shards:h,noRelative:m,noIsolation:b,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?v.cloneElement(v.Children.only(a),Ar(Ar({},j),{ref:C})):v.createElement(w,Ar({},j,{className:l,ref:C}),a))});$f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$f.classNames={fullWidth:Ad,zeroRight:Pd};var oK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=oK();return t&&e.setAttribute("nonce",t),e}function lK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aK())&&(lK(t,n),cK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dK=function(){var e=uK();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},vR=function(){var e=dK(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},hK={left:0,top:0,right:0,gap:0},Pm=function(e){return parseInt(e||"",10)||0},fK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Pm(n),Pm(r),Pm(s)]},pK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hK;var t=fK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},mK=vR(),pa="data-scroll-locked",gK=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Q9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ad,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pd," .").concat(Pd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ad," .").concat(Ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(X9,": ").concat(a,`px;
  }
`)},z1=function(){var e=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(e)?e:0},vK=function(){v.useEffect(function(){return document.body.setAttribute(pa,(z1()+1).toString()),function(){var e=z1()-1;e<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,e.toString())}},[])},yK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;vK();var i=v.useMemo(function(){return pK(s)},[s]);return v.createElement(mK,{styles:gK(i,!t,s,n?"":"!important")})},Zv=!1;if(typeof window<"u")try{var Xu=Object.defineProperty({},"passive",{get:function(){return Zv=!0,!0}});window.addEventListener("test",Xu,Xu),window.removeEventListener("test",Xu,Xu)}catch{Zv=!1}var No=Zv?{passive:!1}:!1,wK=function(e){return e.tagName==="TEXTAREA"},yR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wK(e)&&n[t]==="visible")},bK=function(e){return yR(e,"overflowY")},xK=function(e){return yR(e,"overflowX")},q1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wR(e,r);if(s){var i=bR(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_K=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},wR=function(e,t){return e==="v"?bK(t):xK(t)},bR=function(e,t){return e==="v"?SK(t):_K(t)},EK=function(e,t){return e==="h"&&t==="rtl"?-1:1},kK=function(e,t,n,r,s){var i=EK(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,u=o>0,h=0,f=0;do{if(!a)break;var m=bR(e,a),b=m[0],p=m[1],x=m[2],y=p-x-i*b;(b||y)&&wR(e,a)&&(h+=y,f+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(c=!0),c},Zu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},W1=function(e){return[e.deltaX,e.deltaY]},H1=function(e){return e&&"current"in e?e.current:e},TK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jK=0,Oo=[];function PK(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(jK++)[0],i=v.useState(vR)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=aH([e.lockRef.current],(e.shards||[]).map(H1),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Zu(p),w=n.current,S="deltaX"in p?p.deltaX:w[0]-y[0],E="deltaY"in p?p.deltaY:w[1]-y[1],T,C=p.target,j=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in p&&j==="h"&&C.type==="range")return!1;var N=q1(j,C);if(!N)return!0;if(N?T=j:(T=j==="v"?"h":"v",N=q1(j,C)),!N)return!1;if(!r.current&&"changedTouches"in p&&(S||E)&&(r.current=T),!T)return!0;var I=r.current||T;return kK(I,x,p,I==="h"?S:E,!0)},[]),l=v.useCallback(function(p){var x=p;if(!(!Oo.length||Oo[Oo.length-1]!==i)){var y="deltaY"in x?W1(x):Zu(x),w=t.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&TK(T.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(H1).filter(Boolean).filter(function(T){return T.contains(x.target)}),E=S.length>0?a(x,S[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(p,x,y,w){var S={name:p,delta:x,target:y,should:w,shadowParent:AK(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),u=v.useCallback(function(p){n.current=Zu(p),r.current=void 0},[]),h=v.useCallback(function(p){c(p.type,W1(p),p.target,a(p,e.lockRef.current))},[]),f=v.useCallback(function(p){c(p.type,Zu(p),p.target,a(p,e.lockRef.current))},[]);v.useEffect(function(){return Oo.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,No),document.addEventListener("touchmove",l,No),document.addEventListener("touchstart",u,No),function(){Oo=Oo.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,No),document.removeEventListener("touchmove",l,No),document.removeEventListener("touchstart",u,No)}},[]);var m=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:CK(s)}):null,m?v.createElement(yK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function AK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NK=iK(gR,PK);var I0=v.forwardRef(function(e,t){return v.createElement($f,Ar({},e,{ref:t,sideCar:NK}))});I0.classNames=$f.classNames;var OK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ro=new WeakMap,ed=new WeakMap,td={},Am=0,xR=function(e){return e&&(e.host||xR(e.parentNode))},RK=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=xR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},IK=function(e,t,n,r){var s=RK(t,Array.isArray(e)?e:[e]);td[n]||(td[n]=new WeakMap);var i=td[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var m=f.getAttribute(r),b=m!==null&&m!=="false",p=(Ro.get(f)||0)+1,x=(i.get(f)||0)+1;Ro.set(f,p),i.set(f,x),o.push(f),p===1&&b&&ed.set(f,!0),x===1&&f.setAttribute(n,"true"),b||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),a.clear(),Am++,function(){o.forEach(function(h){var f=Ro.get(h)-1,m=i.get(h)-1;Ro.set(h,f),i.set(h,m),f||(ed.has(h)||h.removeAttribute(r),ed.delete(h)),m||h.removeAttribute(n)}),Am--,Am||(Ro=new WeakMap,Ro=new WeakMap,ed=new WeakMap,td={})}},SR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=OK(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),IK(r,s,n,"aria-hidden")):function(){return null}},Ff="Dialog",[_R,ER]=Un(Ff),[MK,wr]=_R(Ff),kR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=v.useRef(null),l=v.useRef(null),[c,u]=ds({prop:r,defaultProp:s??!1,onChange:i,caller:Ff});return d.jsx(MK,{scope:t,triggerRef:a,contentRef:l,contentId:Ir(),titleId:Ir(),descriptionId:Ir(),open:c,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};kR.displayName=Ff;var TR="DialogTrigger",CR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wr(TR,n),i=Ee(t,s.triggerRef);return d.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":L0(s.open),...r,ref:i,onClick:se(e.onClick,s.onOpenToggle)})});CR.displayName=TR;var M0="DialogPortal",[DK,jR]=_R(M0,{forceMount:void 0}),PR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=wr(M0,t);return d.jsx(DK,{scope:t,forceMount:n,children:v.Children.map(r,o=>d.jsx(Bn,{present:n||i.open,children:d.jsx(sf,{asChild:!0,container:s,children:o})}))})};PR.displayName=M0;var Dh="DialogOverlay",AR=v.forwardRef((e,t)=>{const n=jR(Dh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=wr(Dh,e.__scopeDialog);return i.modal?d.jsx(Bn,{present:r||i.open,children:d.jsx($K,{...s,ref:t})}):null});AR.displayName=Dh;var LK=Oa("DialogOverlay.RemoveScroll"),$K=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wr(Dh,n);return d.jsx(I0,{as:LK,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(fe.div,{"data-state":L0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),uo="DialogContent",NR=v.forwardRef((e,t)=>{const n=jR(uo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=wr(uo,e.__scopeDialog);return d.jsx(Bn,{present:r||i.open,children:i.modal?d.jsx(FK,{...s,ref:t}):d.jsx(VK,{...s,ref:t})})});NR.displayName=uo;var FK=v.forwardRef((e,t)=>{const n=wr(uo,e.__scopeDialog),r=v.useRef(null),s=Ee(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return SR(i)},[]),d.jsx(OR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:se(e.onFocusOutside,i=>i.preventDefault())})}),VK=v.forwardRef((e,t)=>{const n=wr(uo,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return d.jsx(OR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OR=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=wr(uo,n),l=v.useRef(null),c=Ee(t,l);return pR(),d.jsxs(d.Fragment,{children:[d.jsx(R0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Hc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":L0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(BK,{titleId:a.titleId}),d.jsx(qK,{contentRef:l,descriptionId:a.descriptionId})]})]})}),D0="DialogTitle",RR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wr(D0,n);return d.jsx(fe.h2,{id:s.titleId,...r,ref:t})});RR.displayName=D0;var IR="DialogDescription",MR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wr(IR,n);return d.jsx(fe.p,{id:s.descriptionId,...r,ref:t})});MR.displayName=IR;var DR="DialogClose",LR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=wr(DR,n);return d.jsx(fe.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>s.onOpenChange(!1))})});LR.displayName=DR;function L0(e){return e?"open":"closed"}var $R="DialogTitleWarning",[UK,FR]=R2($R,{contentName:uo,titleName:D0,docsSlug:"dialog"}),BK=({titleId:e})=>{const t=FR($R),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zK="DialogDescriptionWarning",qK=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FR(zK).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},VR=kR,WK=CR,UR=PR,$0=AR,F0=NR,V0=RR,U0=MR,B0=LR,BR="AlertDialog",[HK,cY]=Un(BR,[ER]),vs=ER(),zR=e=>{const{__scopeAlertDialog:t,...n}=e,r=vs(t);return d.jsx(VR,{...r,...n,modal:!0})};zR.displayName=BR;var GK="AlertDialogTrigger",KK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vs(n);return d.jsx(WK,{...s,...r,ref:t})});KK.displayName=GK;var JK="AlertDialogPortal",qR=e=>{const{__scopeAlertDialog:t,...n}=e,r=vs(t);return d.jsx(UR,{...r,...n})};qR.displayName=JK;var YK="AlertDialogOverlay",WR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vs(n);return d.jsx($0,{...s,...r,ref:t})});WR.displayName=YK;var ma="AlertDialogContent",[QK,XK]=HK(ma),ZK=wC("AlertDialogContent"),HR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=vs(n),o=v.useRef(null),a=Ee(t,o),l=v.useRef(null);return d.jsx(UK,{contentName:ma,titleName:GR,docsSlug:"alert-dialog",children:d.jsx(QK,{scope:n,cancelRef:l,children:d.jsxs(F0,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:se(s.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(ZK,{children:r}),d.jsx(tJ,{contentRef:o})]})})})});HR.displayName=ma;var GR="AlertDialogTitle",KR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vs(n);return d.jsx(V0,{...s,...r,ref:t})});KR.displayName=GR;var JR="AlertDialogDescription",YR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vs(n);return d.jsx(U0,{...s,...r,ref:t})});YR.displayName=JR;var eJ="AlertDialogAction",QR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=vs(n);return d.jsx(B0,{...s,...r,ref:t})});QR.displayName=eJ;var XR="AlertDialogCancel",ZR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=XK(XR,n),i=vs(n),o=Ee(t,s);return d.jsx(B0,{...i,...r,ref:o})});ZR.displayName=XR;var tJ=({contentRef:e})=>{const t=`\`${ma}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ma}\` by passing a \`${JR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ma}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nJ=zR,rJ=qR,eI=WR,tI=HR,nI=QR,rI=ZR,sI=KR,iI=YR;const sJ=nJ,iJ=rJ,oI=v.forwardRef(({className:e,...t},n)=>d.jsx(eI,{className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));oI.displayName=eI.displayName;const aI=v.forwardRef(({className:e,...t},n)=>d.jsxs(iJ,{children:[d.jsx(oI,{}),d.jsx(tI,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));aI.displayName=tI.displayName;const lI=({className:e,...t})=>d.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});lI.displayName="AlertDialogHeader";const cI=({className:e,...t})=>d.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cI.displayName="AlertDialogFooter";const uI=v.forwardRef(({className:e,...t},n)=>d.jsx(sI,{ref:n,className:oe("text-lg font-semibold",e),...t}));uI.displayName=sI.displayName;const dI=v.forwardRef(({className:e,...t},n)=>d.jsx(iI,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));dI.displayName=iI.displayName;const hI=v.forwardRef(({className:e,...t},n)=>d.jsx(nI,{ref:n,className:oe(Aw(),e),...t}));hI.displayName=nI.displayName;const fI=v.forwardRef(({className:e,...t},n)=>d.jsx(rI,{ref:n,className:oe(Aw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));fI.displayName=rI.displayName;const nd=!1;function oJ(){const{token:e}=Pw(),[t]=b4(),[n,r]=v.useState("loading"),[s,i]=v.useState(null),[o,a]=v.useState(""),[l,c]=v.useState(null),[u,h]=v.useState(null),[f,m]=v.useState(null),[b,p]=v.useState(null),[x,y]=v.useState(null),[w,S]=v.useState(!1),[E,T]=v.useState(0),[C,j]=v.useState(0),[N,I]=v.useState(0),[R,O]=v.useState(!1),[L,H]=v.useState(!1),[$,B]=v.useState(!1),{toast:J}=Wc(),Q=v.useRef([]),D=v.useRef(null);v.useEffect(()=>{const ue=t.get("mode");ue==="voice"&&!nd?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(ue==="chat"||ue==="voice"&&nd)&&i(ue)},[t]),v.useEffect(()=>{async function ue(){if(!e){r("invalid"),a("No interview token provided");return}try{const{data:re,error:st}=await ht.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(st){console.error("Failed to validate token:",st),r("invalid"),a("Unable to validate interview link. Please try again.");return}if(re!=null&&re.error){r("invalid"),a(re.error);return}if(!(re!=null&&re.interviewee)){r("invalid"),a("Interview not found");return}c(re.interviewee),h(re.org||null),r("before")}catch(re){console.error("Error loading interview:",re),r("invalid"),a("An unexpected error occurred. Please try again.")}}ue()},[e]);const{status:F,transcript:Y,isMuted:le,volumeLevel:ne,startCall:g,endCall:k,toggleMute:_,isConnected:A,isSpeaking:P,isListening:M}=iH({onStatusChange:ue=>{console.log("Vapi status:",ue),ue==="connected"||ue==="speaking"||ue==="listening"?r("during"):ue==="ended"?_t():ue==="error"&&r("error")},onError:ue=>{console.error("Vapi error:",ue),J({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:ue=>{Q.current=ue}});v.useEffect(()=>{let ue;return n==="during"&&A&&(ue=setInterval(()=>{T(re=>re+1)},1e3)),()=>clearInterval(ue)},[n,A]);const U=ue=>{const re=Math.floor(ue/60).toString().padStart(2,"0"),st=(ue%60).toString().padStart(2,"0");return`${re}:${st}`},V=async ue=>{if(!(!l||!e)){i(ue),r("during"),D.current=Date.now();try{const{data:re,error:st}=await ht.functions.invoke("start-interview",{body:{interviewToken:e}});if(st||!(re!=null&&re.accessToken))throw new Error((re==null?void 0:re.error)||(st==null?void 0:st.message)||"Failed to start interview");m(re.interviewId),p(re.accessToken),re.resumed&&re.transcript&&re.transcript.length>0&&(y(re.transcript),S(!0),console.log("[INFO] Resuming interview with",re.transcript.length,"messages"))}catch(re){console.error("Failed to start interview:",re),J({title:"Error",description:re instanceof Error?re.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),i(null)}}},W=ue=>{Q.current=ue},X=()=>{B(!0)},ce=()=>{B(!1),_t()},Ve=()=>{B(!1),k()},wt=()=>{J({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},_t=async()=>{H(!0);const ue=D.current?Math.floor((Date.now()-D.current)/1e3):E;if(T(ue),b)try{const{data:re,error:st}=await ht.functions.invoke("complete-interview",{body:{accessToken:b,durationSeconds:ue}});(st||re!=null&&re.error)&&(console.error("Failed to complete interview:",st||(re==null?void 0:re.error)),J({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(re){console.error("Failed to complete interview:",re),J({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}H(!1),r("after")},Oe=async ue=>{if(j(ue),b)try{await ht.functions.invoke("complete-interview",{body:{accessToken:b,rating:ue}})}catch(re){console.error("Failed to save rating:",re)}},lt=()=>{window.close()},Nt=()=>{r("before"),T(0)};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:d.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),d.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Zc,{}),!1]})]})}),d.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:d.jsxs($a,{mode:"wait",children:[n==="loading"&&d.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[d.jsx(xn,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:d.jsx(Ge,{className:"border-0 shadow-lg",children:d.jsxs(rt,{className:"p-8",children:[d.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:d.jsx(pc,{className:"h-10 w-10 text-destructive"})}),d.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),d.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&l&&d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:d.jsx(Ge,{className:"border-0 shadow-lg",children:d.jsxs(rt,{className:"p-8",children:[d.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-accent/10",children:d.jsx(Ki,{className:"h-10 w-10 text-accent"})}),d.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),d.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),d.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),d.jsx("p",{className:"font-semibold text-foreground",children:l.name}),l.role&&d.jsx("p",{className:"text-sm text-muted-foreground",children:l.role}),u&&d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.name})]}),d.jsxs("div",{className:"space-y-3",children:[nd,d.jsxs(me,{size:"lg",variant:"default",onClick:()=>V("chat"),className:"w-full gap-2",children:[d.jsx(ih,{className:"h-5 w-5"}),"Text Chat"]})]}),d.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"Type your responses or use voice-to-text in your browser."}),d.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="during"&&s==="voice"&&d.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"relative mb-8 inline-block",children:[A&&d.jsxs(d.Fragment,{children:[d.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),d.jsx(be.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),d.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${F==="connecting"?"bg-muted animate-pulse":P?"bg-accent":M?"bg-primary":"bg-muted"}`,children:le?d.jsx(kx,{className:"h-12 w-12 text-white"}):d.jsx(Ki,{className:"h-12 w-12 text-white"})})]}),d.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:F==="connecting"?"Connecting...":P?"AI Speaking...":M?"Listening...":"Connected"}),d.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:U(E)}),A&&d.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((ue,re)=>d.jsx(be.div,{className:`w-1 rounded-full ${re<Math.floor(ne*10)?"bg-accent":"bg-muted"}`,animate:{height:M?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:re*.05}},re))}),d.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[d.jsxs(me,{variant:"outline",size:"lg",onClick:_,className:"gap-2",children:[le?d.jsx(kx,{className:"h-5 w-5"}):d.jsx(YC,{className:"h-5 w-5"}),le?"Unmute":"Mute"]}),d.jsxs(me,{variant:"outline",size:"lg",onClick:wt,className:"gap-2",children:[d.jsx(Tx,{className:"h-5 w-5"}),"Pause & Save"]}),d.jsx(me,{variant:"outline",size:"lg",onClick:X,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),d.jsxs(me,{variant:"ghost",size:"sm",onClick:()=>O(!R),className:"mb-4",children:[R?"Hide":"Show"," Live Transcript"]}),d.jsx($a,{children:R&&Y.length>0&&d.jsx(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:d.jsx(Ge,{className:"mx-auto max-w-xl",children:d.jsx(kf,{className:"h-48 p-4",children:d.jsx("div",{className:"space-y-3",children:Y.map((ue,re)=>d.jsxs("div",{className:`text-sm ${ue.role==="assistant"?"text-accent":"text-foreground"}`,children:[d.jsx("span",{className:"font-medium",children:ue.role==="assistant"?"AI: ":"You: "}),ue.content]},re))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&d.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:d.jsxs(Ge,{className:"h-full border-0 shadow-lg overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ih,{className:"h-5 w-5 text-accent"}),d.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(me,{variant:"outline",size:"sm",onClick:wt,className:"gap-1",children:[d.jsx(Tx,{className:"h-4 w-4"}),"Pause & Save"]}),d.jsx(me,{variant:"outline",size:"sm",onClick:X,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),d.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:d.jsx(z9,{intervieweeName:l==null?void 0:l.name,accessToken:b,initialMessages:x||void 0,onTranscriptUpdate:W,onEnd:ce})})]})},"during-chat"),n==="after"&&d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:d.jsx(Ge,{className:"border-0 shadow-lg",children:d.jsx(rt,{className:"p-8",children:L?d.jsxs(d.Fragment,{children:[d.jsx(xn,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(be.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:d.jsx(GC,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),d.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),d.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),d.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",U(E)]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),d.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(ue=>d.jsx("button",{onClick:()=>Oe(ue),onMouseEnter:()=>I(ue),onMouseLeave:()=>I(0),className:"transition-transform hover:scale-110",children:d.jsx(L$,{className:`h-8 w-8 transition-colors ${ue<=(N||C)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},ue))}),C>0&&d.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),d.jsx(me,{size:"lg",onClick:lt,className:"w-full",children:"Close"})]})})})},"after"),n==="error"&&d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:d.jsx(Ge,{className:"border-0 shadow-lg",children:d.jsxs(rt,{className:"p-8",children:[d.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:d.jsx(pc,{className:"h-10 w-10 text-destructive"})}),d.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),d.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),d.jsx(me,{size:"lg",onClick:Nt,className:"w-full",children:"Try Again"})]})})},"error")]})}),d.jsx(sJ,{open:$,onOpenChange:B,children:d.jsxs(aI,{children:[d.jsxs(lI,{children:[d.jsx(uI,{children:"Complete Interview?"}),d.jsxs(dI,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",d.jsx("br",{}),d.jsx("br",{}),"If you need to take a break, use ",d.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),d.jsxs(cI,{children:[d.jsx(fI,{children:"Cancel"}),d.jsx(hI,{onClick:s==="voice"?Ve:ce,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})})]})}const aJ=lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pr({className:e,variant:t,...n}){return d.jsx("div",{className:oe(aJ({variant:t}),e),...n})}var Vf="Collapsible",[lJ,pI]=Un(Vf),[cJ,z0]=lJ(Vf),mI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,c]=ds({prop:r,defaultProp:s??!1,onChange:o,caller:Vf});return d.jsx(cJ,{scope:n,disabled:i,contentId:Ir(),open:l,onOpenToggle:v.useCallback(()=>c(u=>!u),[c]),children:d.jsx(fe.div,{"data-state":W0(l),"data-disabled":i?"":void 0,...a,ref:t})})});mI.displayName=Vf;var gI="CollapsibleTrigger",vI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=z0(gI,n);return d.jsx(fe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":W0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:se(e.onClick,s.onOpenToggle)})});vI.displayName=gI;var q0="CollapsibleContent",yI=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=z0(q0,e.__scopeCollapsible);return d.jsx(Bn,{present:n||s.open,children:({present:i})=>d.jsx(uJ,{...r,ref:t,present:i})})});yI.displayName=q0;var uJ=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=z0(q0,n),[a,l]=v.useState(r),c=v.useRef(null),u=Ee(t,c),h=v.useRef(0),f=h.current,m=v.useRef(0),b=m.current,p=o.open||a,x=v.useRef(p),y=v.useRef(void 0);return v.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),yt(()=>{const w=c.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();h.current=S.height,m.current=S.width,x.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),l(r)}},[o.open,r]),d.jsx(fe.div,{"data-state":W0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function W0(e){return e?"open":"closed"}var dJ=mI,hJ=vI,fJ=yI,br="Accordion",pJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[H0,mJ,gJ]=rf(br),[Uf,uY]=Un(br,[gJ,pI]),G0=pI(),wI=G.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return d.jsx(H0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?d.jsx(bJ,{...i,ref:t}):d.jsx(wJ,{...s,ref:t})})});wI.displayName=br;var[bI,vJ]=Uf(br),[xI,yJ]=Uf(br,{collapsible:!1}),wJ=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=ds({prop:n,defaultProp:r??"",onChange:s,caller:br});return d.jsx(bI,{scope:e.__scopeAccordion,value:G.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:G.useCallback(()=>i&&l(""),[i,l]),children:d.jsx(xI,{scope:e.__scopeAccordion,collapsible:i,children:d.jsx(SI,{...o,ref:t})})})}),bJ=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=ds({prop:n,defaultProp:r??[],onChange:s,caller:br}),l=G.useCallback(u=>a((h=[])=>[...h,u]),[a]),c=G.useCallback(u=>a((h=[])=>h.filter(f=>f!==u)),[a]);return d.jsx(bI,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:d.jsx(xI,{scope:e.__scopeAccordion,collapsible:!0,children:d.jsx(SI,{...i,ref:t})})})}),[xJ,Bf]=Uf(br),SI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=G.useRef(null),l=Ee(a,t),c=mJ(n),h=eu(s)==="ltr",f=se(e.onKeyDown,m=>{var N;if(!pJ.includes(m.key))return;const b=m.target,p=c().filter(I=>{var R;return!((R=I.ref.current)!=null&&R.disabled)}),x=p.findIndex(I=>I.ref.current===b),y=p.length;if(x===-1)return;m.preventDefault();let w=x;const S=0,E=y-1,T=()=>{w=x+1,w>E&&(w=S)},C=()=>{w=x-1,w<S&&(w=E)};switch(m.key){case"Home":w=S;break;case"End":w=E;break;case"ArrowRight":i==="horizontal"&&(h?T():C());break;case"ArrowDown":i==="vertical"&&T();break;case"ArrowLeft":i==="horizontal"&&(h?C():T());break;case"ArrowUp":i==="vertical"&&C();break}const j=w%y;(N=p[j].ref.current)==null||N.focus()});return d.jsx(xJ,{scope:n,disabled:r,direction:s,orientation:i,children:d.jsx(H0.Slot,{scope:n,children:d.jsx(fe.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),Lh="AccordionItem",[SJ,K0]=Uf(Lh),_I=G.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Bf(Lh,n),o=vJ(Lh,n),a=G0(n),l=Ir(),c=r&&o.value.includes(r)||!1,u=i.disabled||e.disabled;return d.jsx(SJ,{scope:n,open:c,disabled:u,triggerId:l,children:d.jsx(dJ,{"data-orientation":i.orientation,"data-state":PI(c),...a,...s,ref:t,disabled:u,open:c,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});_I.displayName=Lh;var EI="AccordionHeader",kI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Bf(br,n),i=K0(EI,n);return d.jsx(fe.h3,{"data-orientation":s.orientation,"data-state":PI(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});kI.displayName=EI;var ey="AccordionTrigger",TI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Bf(br,n),i=K0(ey,n),o=yJ(ey,n),a=G0(n);return d.jsx(H0.ItemSlot,{scope:n,children:d.jsx(hJ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});TI.displayName=ey;var CI="AccordionContent",jI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Bf(br,n),i=K0(CI,n),o=G0(n);return d.jsx(fJ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});jI.displayName=CI;function PI(e){return e?"open":"closed"}var _J=wI,EJ=_I,kJ=kI,AI=TI,NI=jI;const TJ=_J,OI=v.forwardRef(({className:e,...t},n)=>d.jsx(EJ,{ref:n,className:oe("border-b",e),...t}));OI.displayName="AccordionItem";const RI=v.forwardRef(({className:e,children:t,...n},r)=>d.jsx(kJ,{className:"flex",children:d.jsxs(AI,{ref:r,className:oe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,d.jsx(lw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));RI.displayName=AI.displayName;const II=v.forwardRef(({className:e,children:t,...n},r)=>d.jsx(NI,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:d.jsx("div",{className:oe("pb-4 pt-0",e),children:t})}));II.displayName=NI.displayName;function CJ({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return d.jsxs(pr,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function jJ({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return d.jsxs(pr,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function PJ({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return d.jsx(pr,{variant:"secondary",children:t[e]||e})}function AJ(){const{token:e}=Pw(),[t,n]=v.useState("loading"),[r,s]=v.useState(""),[i,o]=v.useState(null);return v.useEffect(()=>{async function a(){if(!e){n("error"),s("No results token provided");return}try{const{data:l,error:c}=await ht.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(c){n("error"),s("Unable to load results. Please try again.");return}if(l!=null&&l.error){l.error.includes("still being generated")?n("pending"):(n("error"),s(l.error));return}o(l),n("success")}catch(l){console.error("Error loading results:",l),n("error"),s("An unexpected error occurred. Please try again.")}}a()},[e]),d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:d.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[d.jsxs(nn,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:d.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),d.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),d.jsx(Zc,{})]})}),d.jsxs("main",{className:"container py-8",children:[t==="loading"&&d.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(xn,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&d.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:d.jsx(Ge,{className:"max-w-md text-center",children:d.jsxs(rt,{className:"pt-6",children:[d.jsx(Pg,{className:"mx-auto mb-4 h-12 w-12 text-accent"}),d.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),d.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&d.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:d.jsx(Ge,{className:"max-w-md text-center",children:d.jsxs(rt,{className:"pt-6",children:[d.jsx(pc,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),d.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),d.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&d.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Discovery Analysis Results"}),d.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Prepared for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.org.name," | ",i.project.name]})]}),i.analysis.executiveSummary&&d.jsxs(Ge,{className:"border-accent/50 bg-accent/5",children:[d.jsx($r,{children:d.jsxs(Fr,{className:"flex items-center gap-2",children:[d.jsx(JC,{className:"h-5 w-5 text-accent"}),"Executive Summary"]})}),d.jsx(rt,{children:d.jsx("p",{className:"text-foreground leading-relaxed",children:i.analysis.executiveSummary})})]}),i.analysis.automationOpportunities.length>0&&d.jsxs("section",{children:[d.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[d.jsx(KC,{className:"h-6 w-6 text-accent"}),d.jsx("h2",{className:"text-2xl font-semibold",children:"Automation Opportunities"})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.analysis.automationOpportunities.map((a,l)=>d.jsxs(Ge,{className:"relative overflow-hidden",children:[d.jsxs($r,{className:"pb-2",children:[d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx(PJ,{category:a.category}),d.jsx(CJ,{level:a.confidence}),d.jsx(jJ,{level:a.estimated_impact})]}),d.jsx(Fr,{className:"mt-2 text-lg",children:a.title})]}),d.jsxs(rt,{className:"space-y-3",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),a.affected_workflows.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),d.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:a.affected_workflows.map((c,u)=>d.jsx(pr,{variant:"outline",className:"text-xs",children:c},u))})]}),a.prerequisites.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),d.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:a.prerequisites.slice(0,3).map((c,u)=>d.jsx("li",{children:c},u))})]})]})]},l))})]}),i.analysis.workflows.length>0&&d.jsxs("section",{children:[d.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[d.jsx(V$,{className:"h-6 w-6 text-accent"}),d.jsx("h2",{className:"text-2xl font-semibold",children:"Identified Workflows"})]}),d.jsx(TJ,{type:"multiple",className:"space-y-2",children:i.analysis.workflows.map((a,l)=>{var c,u,h,f,m,b;return d.jsxs(OI,{value:`workflow-${l}`,className:"rounded-lg border bg-card",children:[d.jsx(RI,{className:"px-4 hover:no-underline",children:d.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-medium",children:a.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:a.owner})]}),d.jsx(pr,{variant:"outline",children:a.frequency})]})}),d.jsx(II,{className:"px-4 pb-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-muted-foreground",children:a.description}),a.estimated_time&&d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx(Pg,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("span",{children:["Estimated time: ",a.estimated_time]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((c=a.components.triggers)==null?void 0:c.length)>0&&d.jsxs("div",{children:[d.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Triggers"}),d.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.triggers.map((p,x)=>d.jsx("li",{children:p},x))})]}),((u=a.components.inputs)==null?void 0:u.length)>0&&d.jsxs("div",{children:[d.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),d.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.inputs.map((p,x)=>d.jsx("li",{children:p},x))})]}),((h=a.components.outputs)==null?void 0:h.length)>0&&d.jsxs("div",{children:[d.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Outputs"}),d.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.outputs.map((p,x)=>d.jsx("li",{children:p},x))})]}),((f=a.components.decisions)==null?void 0:f.length)>0&&d.jsxs("div",{children:[d.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Decisions"}),d.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.decisions.map((p,x)=>d.jsx("li",{children:p},x))})]})]}),((m=a.systems_used)==null?void 0:m.length)>0&&d.jsxs("div",{children:[d.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:a.systems_used.map((p,x)=>d.jsx(pr,{variant:"secondary",className:"text-xs",children:p},x))})]}),((b=a.pain_points)==null?void 0:b.length)>0&&d.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[d.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),d.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:a.pain_points.map((p,x)=>d.jsx("li",{children:p},x))})]})]})})]},l)})})]}),d.jsx(Ge,{className:"border-accent bg-gradient-to-r from-accent/10 to-accent/5",children:d.jsxs(rt,{className:"flex flex-col items-center py-8 text-center",children:[d.jsx(U$,{className:"mb-4 h-12 w-12 text-accent"}),d.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),d.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),d.jsx(me,{size:"lg",className:"gap-2",asChild:!0,children:d.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[d.jsx(sh,{className:"h-5 w-5"}),"Contact AgentFlow",d.jsx(rh,{className:"h-4 w-4"})]})})]})}),d.jsx("div",{className:"text-center text-sm text-muted-foreground",children:d.jsxs("p",{children:["Analysis generated on"," ",new Date(i.analysis.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})]})]})}const MI=["hamish@goagentflow.com","stephen@goagentflow.com"],DI=v.createContext(void 0);function NJ({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0),a=t!=null&&t.email?MI.includes(t.email.toLowerCase()):!1;v.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await ht.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:u}}=ht.auth.onAuthStateChange(async(h,f)=>{console.log("[Auth] State change:",h),s(f),n((f==null?void 0:f.user)??null),o(!1)});return()=>{u.unsubscribe()}},[]);const l=async()=>{try{await ht.auth.signOut(),n(null),s(null)}catch(c){throw console.error("Error signing out:",c),c}};return d.jsx(DI.Provider,{value:{user:t,session:r,isAdmin:a,loading:i,signOut:l},children:e})}function J0(){const e=v.useContext(DI);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function ty(e){return MI.includes(e.toLowerCase())}function OJ(){const[e,t]=v.useState(""),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[o,a]=v.useState(null),l=el(),{user:c,isAdmin:u,loading:h}=J0();v.useEffect(()=>{!h&&c&&u&&l("/admin/dashboard",{replace:!0})},[c,u,h,l]);const f=async m=>{if(m.preventDefault(),a(null),i(!0),!ty(e)){a("This email is not authorized for admin access."),i(!1);return}try{const{error:b}=await ht.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/admin/auth/callback`}});if(b)throw b;r(!0)}catch(b){console.error("Error sending magic link:",b),a(b instanceof Error?b.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx(xn,{className:"h-8 w-8 animate-spin text-accent"})}):d.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[d.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[d.jsxs(nn,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:d.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),d.jsx("span",{className:"text-lg font-semibold",children:"AgentFlow"})]}),d.jsx(Zc,{})]}),d.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:d.jsxs(Ge,{className:"w-full max-w-md",children:[d.jsxs($r,{className:"text-center",children:[d.jsx(Fr,{children:"Admin Login"}),d.jsx(Yi,{children:"Sign in with your email to access the dashboard"})]}),d.jsx(rt,{children:d.jsx($a,{mode:"wait",children:n?d.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[d.jsx(GC,{className:"mx-auto mb-4 h-12 w-12 text-green-500"}),d.jsx("p",{className:"font-medium",children:"Check your email!"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),d.jsx(me,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):d.jsxs(be.form,{exit:{opacity:0},onSubmit:f,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(sh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(In,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:m=>{t(m.target.value),a(null)},className:"pl-9",required:!0,disabled:s})]}),o&&d.jsxs(be.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[d.jsx(pc,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{children:o})]}),d.jsx(me,{type:"submit",className:"w-full",disabled:s,children:s?d.jsxs(d.Fragment,{children:[d.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})})]})}function RJ(){const[e,t]=v.useState(null),n=el();return v.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:a}=await ht.auth.getSession();if(a)throw a;if(!o){const{error:l}=await ht.auth.exchangeCodeForSession(window.location.href);if(l)throw l;const{data:{session:c},error:u}=await ht.auth.getSession();if(u||!c)throw new Error("Failed to establish session");if(!((s=c.user)!=null&&s.email)||!ty(c.user.email))throw await ht.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!ty(o.user.email))throw await ht.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:d.jsx(Ge,{className:"max-w-md",children:d.jsxs(rt,{className:"pt-6 text-center",children:[d.jsx(pc,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),d.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),d.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),d.jsx(me,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center",children:[d.jsx(xn,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}function ga({icon:e,label:t,value:n,className:r,iconClassName:s}){return d.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:d.jsx(Ge,{className:oe("transition-shadow duration-200 hover:shadow-md",r),children:d.jsxs(rt,{className:"flex items-center gap-4 p-6",children:[d.jsx("div",{className:oe("flex h-12 w-12 items-center justify-center rounded-lg bg-accent/10",s),children:d.jsx(e,{className:"h-6 w-6 text-accent"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),d.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const $h=VR,IJ=UR,LI=v.forwardRef(({className:e,...t},n)=>d.jsx($0,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));LI.displayName=$0.displayName;const Ic=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(IJ,{children:[d.jsx(LI,{}),d.jsxs(F0,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,d.jsxs(B0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(cw,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ic.displayName=F0.displayName;const Mc=({className:e,...t})=>d.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Mc.displayName="DialogHeader";const Fh=({className:e,...t})=>d.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fh.displayName="DialogFooter";const Dc=v.forwardRef(({className:e,...t},n)=>d.jsx(V0,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Dc.displayName=V0.displayName;const ny=v.forwardRef(({className:e,...t},n)=>d.jsx(U0,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));ny.displayName=U0.displayName;const MJ=[{id:"1",speaker:"agent",content:"That's really helpful context about your reporting process. Can you tell me more about what triggers this workflow? How do you know it's time to generate these reports?",timestamp:"18:15"},{id:"2",speaker:"interviewee",content:"Usually it's a Slack message from my manager, or sometimes an email from the executive team. There's no set schedule really, it's quite ad-hoc which is part of the problem.",timestamp:"18:32"},{id:"3",speaker:"agent",content:"I see. So the trigger is essentially a request from stakeholders rather than a scheduled task. And when you receive that request, what's the first thing you do?",timestamp:"18:45"}];function DJ({open:e,onClose:t,conversationId:n,intervieweeName:r,clientName:s,role:i}){const[o,a]=v.useState(!1),[l,c]=v.useState(MJ),[u,h]=v.useState("interviewee"),[f,m]=v.useState("18:52");return v.useEffect(()=>{if(!e)return;const b=setInterval(()=>{m(p=>{const[x,y]=p.split(":").map(Number),w=x*60+y+1,S=Math.floor(w/60).toString().padStart(2,"0"),E=(w%60).toString().padStart(2,"0");return`${S}:${E}`}),Math.random()>.7&&h(p=>p==="agent"?"interviewee":"agent")},1e3);return()=>clearInterval(b)},[e]),d.jsx($h,{open:e,onOpenChange:b=>!b&&t(),children:d.jsxs(Ic,{className:"max-w-2xl",children:[d.jsx(Mc,{children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent/10",children:d.jsx(j$,{className:"h-5 w-5 text-accent"})}),d.jsxs("div",{children:[d.jsxs(Dc,{className:"flex items-center gap-2",children:["Listening to Interview",d.jsx(pr,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 animate-pulse",children:"LIVE"})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"  ",s,"  ",i]})]})]})})}),d.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${u==="agent"?"bg-accent":"bg-primary"}`,children:u==="agent"?d.jsx(Ki,{className:"h-4 w-4 text-white"}):d.jsx(Tp,{className:"h-4 w-4 text-white"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:u==="agent"?"AI Agent":r}),d.jsx("p",{className:"text-xs text-muted-foreground",children:u==="agent"?"Speaking":"Responding"})]})]}),d.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[d.jsx(Pg,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"font-mono",children:f})]})]}),d.jsx(me,{variant:"outline",size:"sm",onClick:()=>a(!o),className:"gap-2",children:o?d.jsxs(d.Fragment,{children:[d.jsx(F$,{className:"h-4 w-4"}),"Unmute"]}):d.jsxs(d.Fragment,{children:[d.jsx(YC,{className:"h-4 w-4"}),"Mute"]})})]}),d.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:[...Array(20)].map((b,p)=>d.jsx(be.div,{className:`w-1 rounded-full ${o?"bg-muted-foreground/30":"bg-accent"}`,animate:{height:o?8:[8,Math.random()*32+8,8]},transition:{duration:.5,repeat:1/0,delay:p*.05}},p))}),d.jsxs("div",{className:"rounded-lg border",children:[d.jsx("div",{className:"border-b bg-muted/50 px-4 py-2",children:d.jsx("p",{className:"text-sm font-medium",children:"Live Transcript"})}),d.jsx(kf,{className:"h-[250px]",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx($a,{children:l.map((b,p)=>d.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${b.speaker==="agent"?"":"flex-row-reverse"}`,children:[d.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${b.speaker==="agent"?"bg-accent":"bg-primary"}`,children:b.speaker==="agent"?d.jsx(Ki,{className:"h-4 w-4 text-white"}):d.jsx(Tp,{className:"h-4 w-4 text-white"})}),d.jsxs("div",{className:`flex-1 ${b.speaker==="agent"?"":"text-right"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-xs font-medium",children:b.speaker==="agent"?"AI Agent":r}),d.jsx("span",{className:"text-xs text-muted-foreground",children:b.timestamp})]}),d.jsx("p",{className:`text-sm rounded-lg p-3 ${b.speaker==="agent"?"bg-accent/10 text-foreground":"bg-muted text-foreground"}`,children:b.content})]})]},b.id))}),d.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},className:`flex gap-3 ${u==="agent"?"":"flex-row-reverse"}`,children:[d.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${u==="agent"?"bg-accent":"bg-primary"}`,children:u==="agent"?d.jsx(Ki,{className:"h-4 w-4 text-white"}):d.jsx(Tp,{className:"h-4 w-4 text-white"})}),d.jsx("div",{className:`flex-1 ${u==="agent"?"":"text-right"}`,children:d.jsxs("div",{className:`inline-flex items-center gap-1 rounded-lg p-3 ${u==="agent"?"bg-accent/10":"bg-muted"}`,children:[d.jsx(be.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0},className:"h-2 w-2 rounded-full bg-current"}),d.jsx(be.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.2},className:"h-2 w-2 rounded-full bg-current"}),d.jsx(be.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.4},className:"h-2 w-2 rounded-full bg-current"})]})})]})]})})]}),d.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You are observing this conversation in listen-only mode. The interviewee is not aware you are listening."})]})})}function LJ(){const[e,t]=v.useState(!0),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState({totalProjects:0,activeInterviews:0,completedInterviews:0}),[l,c]=v.useState(null),[u,h]=v.useState(!1);v.useEffect(()=>{f()},[]);async function f(){t(!0);const{data:b}=await ht.from("discovery_project").select(`
        *,
        org:org_id (*)
      `).order("created_at",{ascending:!1}).limit(5),{data:p}=await ht.from("discovery_interviewee").select(`
        *,
        project:project_id (name, org_id, org:org_id (name))
      `).order("created_at",{ascending:!1});if(b){const E=b.map(T=>{const C=(p==null?void 0:p.filter(j=>j.project_id===T.id))||[];return{...T,interviewee_count:C.length,completed_count:C.filter(j=>j.status==="completed").length}});r(E)}const x=(p==null?void 0:p.filter(E=>E.status==="pending"||E.status==="invited").slice(0,5).map(E=>{var T,C,j;return{id:E.id,name:E.name,role:E.role,status:E.status,project_name:((T=E.project)==null?void 0:T.name)||"Unknown",org_name:((j=(C=E.project)==null?void 0:C.org)==null?void 0:j.name)||"Unknown",project_id:E.project_id}}))||[];i(x);const y=(b==null?void 0:b.length)||0,w=(p==null?void 0:p.filter(E=>E.status==="completed").length)||0,S=(p==null?void 0:p.filter(E=>E.status==="in_progress").length)||0;a({totalProjects:y,activeInterviews:S,completedInterviews:w}),t(!1)}const m=()=>{h(!1),c(null)};return e?d.jsx("div",{className:"flex items-center justify-center p-12",children:d.jsx(xn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Center"}),d.jsx("p",{className:"text-muted-foreground",children:"Monitor interviews and manage discovery projects."})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(me,{variant:"outline",asChild:!0,children:d.jsx(nn,{to:"/admin/projects",children:"View All Projects"})}),d.jsx(me,{asChild:!0,children:d.jsxs(nn,{to:"/admin/projects",children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})]}),d.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[d.jsx(ga,{icon:vd,label:"Total Projects",value:o.totalProjects}),d.jsx(ga,{icon:ih,label:"Active Interviews",value:o.activeInterviews}),d.jsx(ga,{icon:aw,label:"Completed Interviews",value:o.completedInterviews})]}),d.jsxs("div",{className:"mb-8 grid gap-6 lg:grid-cols-2",children:[d.jsxs(Ge,{children:[d.jsx($r,{className:"pb-3",children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:d.jsx(vd,{className:"h-4 w-4 text-accent"})}),d.jsxs("div",{children:[d.jsx(Fr,{className:"text-lg",children:"Recent Projects"}),d.jsx(Yi,{children:"Your latest discovery projects"})]})]})})}),d.jsx(rt,{children:n.length>0?d.jsxs("div",{className:"space-y-3",children:[n.map((b,p)=>{var x;return d.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},children:d.jsxs(nn,{to:`/admin/projects/${b.id}`,className:"flex items-center justify-between rounded-lg border bg-card p-4 hover:bg-muted/50 transition-colors",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:b.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[(x=b.org)==null?void 0:x.name,"  ",b.interviewee_count," interviewees"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(pr,{variant:b.status==="active"?"default":"secondary",children:b.status}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b.completed_count,"/",b.interviewee_count," complete"]})]})]})},b.id)}),d.jsx(me,{variant:"ghost",className:"w-full",asChild:!0,children:d.jsxs(nn,{to:"/admin/projects",children:["View all projects",d.jsx(rh,{className:"ml-2 h-4 w-4"})]})})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[d.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:d.jsx(vd,{className:"h-6 w-6 text-muted-foreground"})}),d.jsx("p",{className:"font-medium",children:"No projects yet"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first discovery project"}),d.jsx(me,{asChild:!0,children:d.jsxs(nn,{to:"/admin/projects",children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})})]}),d.jsxs(Ge,{children:[d.jsx($r,{className:"pb-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:d.jsx(JC,{className:"h-4 w-4 text-accent"})}),d.jsxs("div",{children:[d.jsx(Fr,{className:"text-lg",children:"Pending Interviews"}),d.jsx(Yi,{children:"Interviews awaiting completion"})]})]})}),d.jsx(rt,{children:s.length>0?d.jsx("div",{className:"space-y-3",children:s.map((b,p)=>d.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center justify-between rounded-lg border p-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:b.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.org_name,"  ",b.role||"No role"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pr,{variant:"secondary",children:b.status}),d.jsx(me,{size:"sm",variant:"outline",asChild:!0,children:d.jsx(nn,{to:`/admin/projects/${b.project_id}`,children:"View"})})]})]},b.id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[d.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:d.jsx(oh,{className:"h-6 w-6 text-muted-foreground"})}),d.jsx("p",{className:"font-medium",children:"No pending interviews"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"All interviews have been completed"})]})})]})]}),d.jsx(DJ,{open:u,onClose:m,conversationId:"",intervieweeName:"",clientName:"",role:""})]})}const Y0=v.forwardRef(({className:e,...t},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",e),...t})}));Y0.displayName="Table";const Q0=v.forwardRef(({className:e,...t},n)=>d.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",e),...t}));Q0.displayName="TableHeader";const X0=v.forwardRef(({className:e,...t},n)=>d.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",e),...t}));X0.displayName="TableBody";const $J=v.forwardRef(({className:e,...t},n)=>d.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$J.displayName="TableFooter";const Lc=v.forwardRef(({className:e,...t},n)=>d.jsx("tr",{ref:n,className:oe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Lc.displayName="TableRow";const cr=v.forwardRef(({className:e,...t},n)=>d.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));cr.displayName="TableHead";const ur=v.forwardRef(({className:e,...t},n)=>d.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ur.displayName="TableCell";const FJ=v.forwardRef(({className:e,...t},n)=>d.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",e),...t}));FJ.displayName="TableCaption";var VJ="Label",$I=v.forwardRef((e,t)=>d.jsx(fe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$I.displayName=VJ;var FI=$I;const UJ=lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ss=v.forwardRef(({className:e,...t},n)=>d.jsx(FI,{ref:n,className:oe(UJ(),e),...t}));ss.displayName=FI.displayName;function BJ(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zJ=[" ","Enter","ArrowUp","ArrowDown"],qJ=[" ","Enter"],ho="Select",[zf,qf,WJ]=rf(ho),[al,dY]=Un(ho,[WJ,hf]),Wf=hf(),[HJ,vi]=al(ho),[GJ,KJ]=al(ho),VI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:m,form:b}=e,p=Wf(t),[x,y]=v.useState(null),[w,S]=v.useState(null),[E,T]=v.useState(!1),C=eu(c),[j,N]=ds({prop:r,defaultProp:s??!1,onChange:i,caller:ho}),[I,R]=ds({prop:o,defaultProp:a,onChange:l,caller:ho}),O=v.useRef(null),L=x?b||!!x.closest("form"):!0,[H,$]=v.useState(new Set),B=Array.from(H).map(J=>J.props.value).join(";");return d.jsx(TU,{...p,children:d.jsxs(HJ,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Ir(),value:I,onValueChange:R,open:j,onOpenChange:N,dir:C,triggerPointerDownPosRef:O,disabled:f,children:[d.jsx(zf.Provider,{scope:t,children:d.jsx(GJ,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(J=>{$(Q=>new Set(Q).add(J))},[]),onNativeOptionRemove:v.useCallback(J=>{$(Q=>{const D=new Set(Q);return D.delete(J),D})},[]),children:n})}),L?d.jsxs(uM,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:J=>R(J.target.value),disabled:f,form:b,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(H)]},B):null]})})};VI.displayName=ho;var UI="SelectTrigger",BI=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Wf(n),o=vi(UI,n),a=o.disabled||r,l=Ee(t,o.onTriggerChange),c=qf(n),u=v.useRef("touch"),[h,f,m]=hM(p=>{const x=c().filter(S=>!S.disabled),y=x.find(S=>S.value===o.value),w=fM(x,p,y);w!==void 0&&o.onValueChange(w.value)}),b=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return d.jsx(Pj,{asChild:!0,...i,children:d.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":dM(o.value)?"":void 0,...s,ref:l,onClick:se(s.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&b(p)}),onPointerDown:se(s.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:se(s.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&zJ.includes(p.key)&&(b(),p.preventDefault())})})})});BI.displayName=UI;var zI="SelectValue",qI=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=vi(zI,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,h=Ee(t,l.onValueNodeChange);return yt(()=>{c(u)},[c,u]),d.jsx(fe.span,{...a,ref:h,style:{pointerEvents:"none"},children:dM(l.value)?d.jsx(d.Fragment,{children:o}):i})});qI.displayName=zI;var JJ="SelectIcon",WI=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return d.jsx(fe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});WI.displayName=JJ;var YJ="SelectPortal",HI=e=>d.jsx(sf,{asChild:!0,...e});HI.displayName=YJ;var fo="SelectContent",GI=v.forwardRef((e,t)=>{const n=vi(fo,e.__scopeSelect),[r,s]=v.useState();if(yt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?go.createPortal(d.jsx(KI,{scope:e.__scopeSelect,children:d.jsx(zf.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),i):null}return d.jsx(JI,{...e,ref:t})});GI.displayName=fo;var er=10,[KI,yi]=al(fo),QJ="SelectContentImpl",XJ=Oa("SelectContent.RemoveScroll"),JI=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x,...y}=e,w=vi(fo,n),[S,E]=v.useState(null),[T,C]=v.useState(null),j=Ee(t,P=>E(P)),[N,I]=v.useState(null),[R,O]=v.useState(null),L=qf(n),[H,$]=v.useState(!1),B=v.useRef(!1);v.useEffect(()=>{if(S)return SR(S)},[S]),pR();const J=v.useCallback(P=>{const[M,...U]=L().map(X=>X.ref.current),[V]=U.slice(-1),W=document.activeElement;for(const X of P)if(X===W||(X==null||X.scrollIntoView({block:"nearest"}),X===M&&T&&(T.scrollTop=0),X===V&&T&&(T.scrollTop=T.scrollHeight),X==null||X.focus(),document.activeElement!==W))return},[L,T]),Q=v.useCallback(()=>J([N,S]),[J,N,S]);v.useEffect(()=>{H&&Q()},[H,Q]);const{onOpenChange:D,triggerPointerDownPosRef:F}=w;v.useEffect(()=>{if(S){let P={x:0,y:0};const M=V=>{var W,X;P={x:Math.abs(Math.round(V.pageX)-(((W=F.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(V.pageY)-(((X=F.current)==null?void 0:X.y)??0))}},U=V=>{P.x<=10&&P.y<=10?V.preventDefault():S.contains(V.target)||D(!1),document.removeEventListener("pointermove",M),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",U,{capture:!0})}}},[S,D,F]),v.useEffect(()=>{const P=()=>D(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[D]);const[Y,le]=hM(P=>{const M=L().filter(W=>!W.disabled),U=M.find(W=>W.ref.current===document.activeElement),V=fM(M,P,U);V&&setTimeout(()=>V.ref.current.focus())}),ne=v.useCallback((P,M,U)=>{const V=!B.current&&!U;(w.value!==void 0&&w.value===M||V)&&(I(P),V&&(B.current=!0))},[w.value]),g=v.useCallback(()=>S==null?void 0:S.focus(),[S]),k=v.useCallback((P,M,U)=>{const V=!B.current&&!U;(w.value!==void 0&&w.value===M||V)&&O(P)},[w.value]),_=r==="popper"?ry:YI,A=_===ry?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return d.jsx(KI,{scope:n,content:S,viewport:T,onViewportChange:C,itemRefCallback:ne,selectedItem:N,onItemLeave:g,itemTextRefCallback:k,focusSelectedItem:Q,selectedItemText:R,position:r,isPositioned:H,searchRef:Y,children:d.jsx(I0,{as:XJ,allowPinchZoom:!0,children:d.jsx(R0,{asChild:!0,trapped:w.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:se(s,P=>{var M;(M=w.trigger)==null||M.focus({preventScroll:!0}),P.preventDefault()}),children:d.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(_,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:P=>P.preventDefault(),...y,...A,onPlaced:()=>$(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:se(y.onKeyDown,P=>{const M=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!M&&P.key.length===1&&le(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let V=L().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(P.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const W=P.target,X=V.indexOf(W);V=V.slice(X+1)}setTimeout(()=>J(V)),P.preventDefault()}})})})})})})});JI.displayName=QJ;var ZJ="SelectItemAlignedPosition",YI=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=vi(fo,n),o=yi(fo,n),[a,l]=v.useState(null),[c,u]=v.useState(null),h=Ee(t,j=>u(j)),f=qf(n),m=v.useRef(!1),b=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=o,S=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&p&&x&&y){const j=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(i.dir!=="rtl"){const W=R.left-N.left,X=I.left-W,ce=j.left-X,Ve=j.width+ce,wt=Math.max(Ve,N.width),_t=window.innerWidth-er,Oe=uv(X,[er,Math.max(er,_t-wt)]);a.style.minWidth=Ve+"px",a.style.left=Oe+"px"}else{const W=N.right-R.right,X=window.innerWidth-I.right-W,ce=window.innerWidth-j.right-X,Ve=j.width+ce,wt=Math.max(Ve,N.width),_t=window.innerWidth-er,Oe=uv(X,[er,Math.max(er,_t-wt)]);a.style.minWidth=Ve+"px",a.style.right=Oe+"px"}const O=f(),L=window.innerHeight-er*2,H=p.scrollHeight,$=window.getComputedStyle(c),B=parseInt($.borderTopWidth,10),J=parseInt($.paddingTop,10),Q=parseInt($.borderBottomWidth,10),D=parseInt($.paddingBottom,10),F=B+J+H+D+Q,Y=Math.min(x.offsetHeight*5,F),le=window.getComputedStyle(p),ne=parseInt(le.paddingTop,10),g=parseInt(le.paddingBottom,10),k=j.top+j.height/2-er,_=L-k,A=x.offsetHeight/2,P=x.offsetTop+A,M=B+J+P,U=F-M;if(M<=k){const W=O.length>0&&x===O[O.length-1].ref.current;a.style.bottom="0px";const X=c.clientHeight-p.offsetTop-p.offsetHeight,ce=Math.max(_,A+(W?g:0)+X+Q),Ve=M+ce;a.style.height=Ve+"px"}else{const W=O.length>0&&x===O[0].ref.current;a.style.top="0px";const ce=Math.max(k,B+p.offsetTop+(W?ne:0)+A)+U;a.style.height=ce+"px",p.scrollTop=M-k+p.offsetTop}a.style.margin=`${er}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,a,c,p,x,y,i.dir,r]);yt(()=>S(),[S]);const[E,T]=v.useState();yt(()=>{c&&T(window.getComputedStyle(c).zIndex)},[c]);const C=v.useCallback(j=>{j&&b.current===!0&&(S(),w==null||w(),b.current=!1)},[S,w]);return d.jsx(t7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:d.jsx(fe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});YI.displayName=ZJ;var e7="SelectPopperPosition",ry=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=er,...i}=e,o=Wf(n);return d.jsx(Aj,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ry.displayName=e7;var[t7,Z0]=al(fo,{}),sy="SelectViewport",QI=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=yi(sy,n),o=Z0(sy,n),a=Ee(t,i.onViewportChange),l=v.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(zf.Slot,{scope:n,children:d.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const b=window.innerHeight-er*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<b){const w=y+m,S=Math.min(b,w),E=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});QI.displayName=sy;var XI="SelectGroup",[n7,r7]=al(XI),s7=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ir();return d.jsx(n7,{scope:n,id:s,children:d.jsx(fe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});s7.displayName=XI;var ZI="SelectLabel",eM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=r7(ZI,n);return d.jsx(fe.div,{id:s.id,...r,ref:t})});eM.displayName=ZI;var Vh="SelectItem",[i7,tM]=al(Vh),nM=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=vi(Vh,n),l=yi(Vh,n),c=a.value===r,[u,h]=v.useState(i??""),[f,m]=v.useState(!1),b=Ee(t,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),p=Ir(),x=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(i7,{scope:n,value:r,disabled:s,textId:p,isSelected:c,onItemTextChange:v.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(zf.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:d.jsx(fe.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:se(o.onFocus,()=>m(!0)),onBlur:se(o.onBlur,()=>m(!1)),onClick:se(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:se(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:se(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:se(o.onPointerMove,w=>{var S;x.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:se(o.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(qJ.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});nM.displayName=Vh;var Ol="SelectItemText",rM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=vi(Ol,n),a=yi(Ol,n),l=tM(Ol,n),c=KJ(Ol,n),[u,h]=v.useState(null),f=Ee(t,y=>h(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),m=u==null?void 0:u.textContent,b=v.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=c;return yt(()=>(p(b),()=>x(b)),[p,x,b]),d.jsxs(d.Fragment,{children:[d.jsx(fe.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?go.createPortal(i.children,o.valueNode):null]})});rM.displayName=Ol;var sM="SelectItemIndicator",iM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return tM(sM,n).isSelected?d.jsx(fe.span,{"aria-hidden":!0,...r,ref:t}):null});iM.displayName=sM;var iy="SelectScrollUpButton",oM=v.forwardRef((e,t)=>{const n=yi(iy,e.__scopeSelect),r=Z0(iy,e.__scopeSelect),[s,i]=v.useState(!1),o=Ee(t,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(lM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});oM.displayName=iy;var oy="SelectScrollDownButton",aM=v.forwardRef((e,t)=>{const n=yi(oy,e.__scopeSelect),r=Z0(oy,e.__scopeSelect),[s,i]=v.useState(!1),o=Ee(t,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(lM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});aM.displayName=oy;var lM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=yi("SelectScrollButton",n),o=v.useRef(null),a=qf(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),yt(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{l()})})}),o7="SelectSeparator",cM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return d.jsx(fe.div,{"aria-hidden":!0,...r,ref:t})});cM.displayName=o7;var ay="SelectArrow",a7=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Wf(n),i=vi(ay,n),o=yi(ay,n);return i.open&&o.position==="popper"?d.jsx(Nj,{...s,...r,ref:t}):null});a7.displayName=ay;var l7="SelectBubbleInput",uM=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),i=Ee(r,s),o=BJ(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(h)}},[o,t]),d.jsx(fe.select,{...n,style:{...EC,...n.style},ref:i,defaultValue:t})});uM.displayName=l7;function dM(e){return e===""||e===void 0}function hM(e){const t=gt(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function fM(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=c7(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function c7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var u7=VI,pM=BI,d7=qI,h7=WI,f7=HI,mM=GI,p7=QI,gM=eM,vM=nM,m7=rM,g7=iM,yM=oM,wM=aM,bM=cM;const v7=u7,y7=d7,xM=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(pM,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,d.jsx(h7,{asChild:!0,children:d.jsx(lw,{className:"h-4 w-4 opacity-50"})})]}));xM.displayName=pM.displayName;const SM=v.forwardRef(({className:e,...t},n)=>d.jsx(yM,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(C$,{className:"h-4 w-4"})}));SM.displayName=yM.displayName;const _M=v.forwardRef(({className:e,...t},n)=>d.jsx(wM,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(lw,{className:"h-4 w-4"})}));_M.displayName=wM.displayName;const EM=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>d.jsx(f7,{children:d.jsxs(mM,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[d.jsx(SM,{}),d.jsx(p7,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(_M,{})]})}));EM.displayName=mM.displayName;const w7=v.forwardRef(({className:e,...t},n)=>d.jsx(gM,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));w7.displayName=gM.displayName;const kM=v.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(vM,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(g7,{children:d.jsx(jg,{className:"h-4 w-4"})})}),d.jsx(m7,{children:t})]}));kM.displayName=vM.displayName;const b7=v.forwardRef(({className:e,...t},n)=>d.jsx(bM,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));b7.displayName=bM.displayName;const x7="e4e0bfb1baa318d89644193708f23b3042256ae413555b5f7105c8bb5ec78e3f";async function wo(e,t={}){const{data:n,error:r}=await ht.functions.invoke("admin-api",{body:{action:e,...t},headers:{"x-admin-key":x7}});return r?(console.error(`Admin API error (${e}):`,r),{data:null,error:r.message}):n!=null&&n.error?{data:null,error:n.error}:{data:n,error:null}}async function S7(){const{data:e,error:t}=await wo("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function _7(e){const{data:t,error:n}=await wo("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function E7(e,t){const{data:n,error:r}=await wo("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function k7(e,t,n,r,s){const{data:i,error:o}=await wo("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s});return o||!i?{interviewee:null,error:o}:{interviewee:i.interviewee,error:null}}async function T7(e){const{error:t}=await wo("markIntervieweeInvited",{intervieweeId:e});return{error:t}}async function C7(){const{data:e,error:t}=await wo("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function j7(e){const{data:t,error:n}=await wo("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}function P7(){var I;const[e,t]=v.useState(""),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,h]=v.useState(""),[f,m]=v.useState(""),[b,p]=v.useState(""),[x,y]=v.useState(!1),[w,S]=v.useState(!1),{toast:E}=Wc();v.useEffect(()=>{T()},[]);async function T(){a(!0);const[R,O]=await Promise.all([S7(),C7()]);R.projects&&r(R.projects),O.orgs&&i(O.orgs),a(!1)}const C=n.filter(R=>{var O,L;return R.name.toLowerCase().includes(e.toLowerCase())||((L=(O=R.org)==null?void 0:O.name)==null?void 0:L.toLowerCase().includes(e.toLowerCase()))}),j=async()=>{var $;S(!0);let R=f;if(x&&b){const{org:B,error:J}=await j7(b);if(J||!B){E({title:"Error",description:J||"Failed to create client",variant:"destructive"}),S(!1);return}R=B.id}if(!R){E({title:"Error",description:"Please select or create a client",variant:"destructive"}),S(!1);return}const O=u||`Discovery - ${x?b:($=s.find(B=>B.id===R))==null?void 0:$.name}`,{project:L,error:H}=await E7(R,O);if(H||!L){E({title:"Error",description:H||"Failed to create project",variant:"destructive"}),S(!1);return}E({title:"Project created!",description:`${O} has been created.`}),h(""),m(""),p(""),y(!1),c(!1),S(!1),T()},N=R=>{const O={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},L=O[R]||O.setup;return d.jsx(pr,{className:L.className,children:L.label})};return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),d.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),d.jsxs(me,{onClick:()=>c(!0),children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),d.jsxs("div",{className:"mb-4 max-w-sm relative",children:[d.jsx(R$,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(In,{placeholder:"Search projects...",value:e,onChange:R=>t(R.target.value),className:"pl-9"})]}),o?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx(xn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):C.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx(vd,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),d.jsxs(me,{onClick:()=>c(!0),children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):d.jsx("div",{className:"rounded-lg border",children:d.jsxs(Y0,{children:[d.jsx(Q0,{children:d.jsxs(Lc,{children:[d.jsx(cr,{children:"Project Name"}),d.jsx(cr,{children:"Client"}),d.jsx(cr,{children:"Status"}),d.jsx(cr,{children:"Created"}),d.jsx(cr,{})]})}),d.jsx(X0,{children:C.map(R=>{var O;return d.jsxs(Lc,{className:"cursor-pointer hover:bg-muted/50",children:[d.jsx(ur,{className:"font-medium",children:R.name}),d.jsx(ur,{children:((O=R.org)==null?void 0:O.name)||"Unknown"}),d.jsx(ur,{children:N(R.status)}),d.jsx(ur,{children:new Date(R.created_at).toLocaleDateString()}),d.jsx(ur,{children:d.jsx(me,{variant:"ghost",size:"sm",asChild:!0,children:d.jsx(nn,{to:`/admin/projects/${R.id}`,children:"View"})})})]},R.id)})})]})}),d.jsx($h,{open:l,onOpenChange:c,children:d.jsxs(Ic,{children:[d.jsx(Mc,{children:d.jsx(Dc,{children:"New Discovery Project"})}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{children:[d.jsx(ss,{children:"Client *"}),x?d.jsxs("div",{className:"space-y-2 mt-1",children:[d.jsx(In,{value:b,onChange:R=>p(R.target.value),placeholder:"Enter client name"}),d.jsx(me,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),p("")},children:"Select existing client instead"})]}):d.jsxs("div",{className:"space-y-2 mt-1",children:[d.jsxs(v7,{value:f,onValueChange:m,children:[d.jsx(xM,{children:d.jsx(y7,{placeholder:"Select a client..."})}),d.jsx(EM,{children:s.map(R=>d.jsx(kM,{value:R.id,children:R.name},R.id))})]}),d.jsx(me,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),d.jsxs("div",{children:[d.jsx(ss,{children:"Project Name (optional)"}),d.jsx(In,{value:u,onChange:R=>h(R.target.value),placeholder:`Discovery - ${x?b||"Client Name":((I=s.find(R=>R.id===f))==null?void 0:I.name)||"Client Name"}`,className:"mt-1"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),d.jsxs(Fh,{children:[d.jsx(me,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),d.jsxs(me,{onClick:j,disabled:w||!f&&!b,children:[w?d.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var Nm="rovingFocusGroup.onEntryFocus",A7={bubbles:!1,cancelable:!0},iu="RovingFocusGroup",[ly,TM,N7]=rf(iu),[O7,CM]=Un(iu,[N7]),[R7,I7]=O7(iu),jM=v.forwardRef((e,t)=>d.jsx(ly.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(ly.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(M7,{...e,ref:t})})}));jM.displayName=iu;var M7=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=e,f=v.useRef(null),m=Ee(t,f),b=eu(i),[p,x]=ds({prop:o,defaultProp:a??null,onChange:l,caller:iu}),[y,w]=v.useState(!1),S=gt(c),E=TM(n),T=v.useRef(!1),[C,j]=v.useState(0);return v.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(Nm,S),()=>N.removeEventListener(Nm,S)},[S]),d.jsx(R7,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(N=>x(N),[x]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>j(N=>N-1),[]),children:d.jsx(fe.div,{tabIndex:y||C===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{T.current=!0}),onFocus:se(e.onFocus,N=>{const I=!T.current;if(N.target===N.currentTarget&&I&&!y){const R=new CustomEvent(Nm,A7);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=E().filter(J=>J.focusable),L=O.find(J=>J.active),H=O.find(J=>J.id===p),B=[L,H,...O].filter(Boolean).map(J=>J.ref.current);NM(B,u)}}T.current=!1}),onBlur:se(e.onBlur,()=>w(!1))})})}),PM="RovingFocusGroupItem",AM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=Ir(),c=i||l,u=I7(PM,n),h=u.currentTabStopId===c,f=TM(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=u;return v.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),d.jsx(ly.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(fe.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:se(e.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:se(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:se(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=$7(x,u.orientation,u.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const E=S.indexOf(x.currentTarget);S=u.loop?F7(S,E+1):S.slice(E+1)}setTimeout(()=>NM(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});AM.displayName=PM;var D7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $7(e,t,n){const r=L7(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return D7[r]}function NM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function F7(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var V7=jM,U7=AM,Hf="Tabs",[B7,hY]=Un(Hf,[CM]),OM=CM(),[z7,eb]=B7(Hf),RM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=eu(a),[h,f]=ds({prop:r,onChange:s,defaultProp:i??"",caller:Hf});return d.jsx(z7,{scope:n,baseId:Ir(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:l,children:d.jsx(fe.div,{dir:u,"data-orientation":o,...c,ref:t})})});RM.displayName=Hf;var IM="TabsList",MM=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=eb(IM,n),o=OM(n);return d.jsx(V7,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(fe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});MM.displayName=IM;var DM="TabsTrigger",LM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=eb(DM,n),a=OM(n),l=VM(o.baseId,r),c=UM(o.baseId,r),u=r===o.value;return d.jsx(U7,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(fe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:se(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:se(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(r)})})})});LM.displayName=DM;var $M="TabsContent",FM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=eb($M,n),l=VM(a.baseId,r),c=UM(a.baseId,r),u=r===a.value,h=v.useRef(u);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),d.jsx(Bn,{present:s||u,children:({present:f})=>d.jsx(fe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});FM.displayName=$M;function VM(e,t){return`${e}-trigger-${t}`}function UM(e,t){return`${e}-content-${t}`}var q7=RM,BM=MM,zM=LM,qM=FM;const W7=q7,WM=v.forwardRef(({className:e,...t},n)=>d.jsx(BM,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));WM.displayName=BM.displayName;const Nd=v.forwardRef(({className:e,...t},n)=>d.jsx(zM,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Nd.displayName=zM.displayName;const Od=v.forwardRef(({className:e,...t},n)=>d.jsx(qM,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Od.displayName=qM.displayName;function H7(){const{id:e}=Pw(),[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState([]),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[h,f]=v.useState(!1),[m,b]=v.useState(null),[p,x]=v.useState(null),[y,w]=v.useState({name:"",email:"",role:""}),[S,E]=v.useState(!1),{toast:T}=Wc();v.useEffect(()=>{C()},[e]);async function C(){if(!e)return;l(!0);const{project:B,org:J,interviewees:Q,error:D}=await _7(e);if(D){T({title:"Error",description:D,variant:"destructive"}),l(!1);return}n(B),s(J),o(Q),l(!1)}const j=B=>`${window.location.origin}/interview/${B}`,N=B=>{navigator.clipboard.writeText(j(B.interview_token)),x(B.id),T({title:"Link copied!"}),setTimeout(()=>x(null),2e3)},I=async()=>{if(!t||!y.name||!y.email)return;E(!0);const{interviewee:B,error:J}=await k7(t.id,t.org_id,y.name,y.email,y.role||void 0);if(J||!B){T({title:"Error",description:J||"Failed to add interviewee",variant:"destructive"}),E(!1);return}T({title:"Interviewee added!",description:`${y.name} has been added to the project.`}),w({name:"",email:"",role:""}),u(!1),E(!1),b(B),f(!0),C()},R=async B=>{await T7(B.id),T({title:"Marked as invited"}),C()},O=B=>{b(B),f(!0)},L=B=>{const J={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},Q=J[B]||J.pending;return d.jsx(pr,{className:Q.className,children:Q.label})};if(a)return d.jsx("div",{className:"flex items-center justify-center p-12",children:d.jsx(xn,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!t)return d.jsx("div",{className:"p-6",children:d.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const H=i.filter(B=>B.status==="completed").length,$=i.filter(B=>B.status==="pending"||B.status==="invited").length;return d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("h1",{className:"text-2xl font-bold",children:t.name}),d.jsxs("p",{className:"text-muted-foreground",children:[r==null?void 0:r.name,"  Created ",new Date(t.created_at).toLocaleDateString()]})]}),d.jsxs(W7,{defaultValue:"interviewees",className:"mt-6",children:[d.jsxs(WM,{className:"mb-6",children:[d.jsx(Nd,{value:"interviewees",children:"Interviewees"}),d.jsx(Nd,{value:"overview",children:"Overview"}),d.jsx(Nd,{value:"analysis",disabled:H===0,children:"Analysis"})]}),d.jsx(Od,{value:"overview",children:d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsx(ga,{icon:oh,label:"Total Interviewees",value:i.length}),d.jsx(ga,{icon:ih,label:"Completed",value:H}),d.jsx(ga,{icon:aw,label:"Pending",value:$})]})}),d.jsxs(Od,{value:"interviewees",children:[d.jsx("div",{className:"mb-4 flex justify-end",children:d.jsxs(me,{onClick:()=>u(!0),children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),i.length===0?d.jsx(Ge,{children:d.jsxs(rt,{className:"flex flex-col items-center justify-center py-12 text-center",children:[d.jsx(oh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),d.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),d.jsxs(me,{onClick:()=>u(!0),children:[d.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})}):d.jsx("div",{className:"rounded-lg border",children:d.jsxs(Y0,{children:[d.jsx(Q0,{children:d.jsxs(Lc,{children:[d.jsx(cr,{children:"Name"}),d.jsx(cr,{children:"Role"}),d.jsx(cr,{children:"Email"}),d.jsx(cr,{children:"Status"}),d.jsx(cr,{children:"Actions"})]})}),d.jsx(X0,{children:i.map(B=>d.jsxs(Lc,{children:[d.jsx(ur,{className:"font-medium",children:B.name}),d.jsx(ur,{children:B.role||"-"}),d.jsx(ur,{children:B.email}),d.jsx(ur,{children:L(B.status)}),d.jsx(ur,{children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(me,{variant:"ghost",size:"sm",onClick:()=>N(B),title:"Copy interview link",children:p===B.id?d.jsx(jg,{className:"h-4 w-4"}):d.jsx(_x,{className:"h-4 w-4"})}),B.status==="pending"&&d.jsx(me,{variant:"ghost",size:"sm",onClick:()=>O(B),title:"Send invite",children:d.jsx(sh,{className:"h-4 w-4"})})]})})]},B.id))})]})})]}),d.jsx(Od,{value:"analysis",children:d.jsxs(Ge,{children:[d.jsx($r,{children:d.jsx(Fr,{children:"Analysis"})}),d.jsx(rt,{children:d.jsx("p",{className:"text-muted-foreground",children:"Analysis will be available once interviews are completed."})})]})})]}),d.jsx($h,{open:c,onOpenChange:u,children:d.jsxs(Ic,{children:[d.jsxs(Mc,{children:[d.jsx(Dc,{children:"Add Interviewee"}),d.jsx(ny,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{children:[d.jsx(ss,{children:"Name *"}),d.jsx(In,{value:y.name,onChange:B=>w({...y,name:B.target.value}),placeholder:"John Smith",className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx(ss,{children:"Email *"}),d.jsx(In,{type:"email",value:y.email,onChange:B=>w({...y,email:B.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),d.jsxs("div",{children:[d.jsx(ss,{children:"Role (optional)"}),d.jsx(In,{value:y.role,onChange:B=>w({...y,role:B.target.value}),placeholder:"Operations Manager",className:"mt-1"})]})]}),d.jsxs(Fh,{children:[d.jsx(me,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),d.jsxs(me,{onClick:I,disabled:S||!y.name||!y.email,children:[S?d.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})}),d.jsx($h,{open:h,onOpenChange:f,children:d.jsxs(Ic,{className:"sm:max-w-lg",children:[d.jsxs(Mc,{children:[d.jsx(Dc,{children:"Send Interview Invite"}),d.jsxs(ny,{children:["Choose how to invite ",m==null?void 0:m.name," to their interview session."]})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{children:[d.jsx(ss,{className:"text-sm font-medium",children:"Interview Link"}),d.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[d.jsx(In,{readOnly:!0,value:m?j(m.interview_token):"",className:"font-mono text-sm"}),d.jsx(me,{variant:"outline",size:"icon",onClick:()=>m&&N(m),children:p===(m==null?void 0:m.id)?d.jsx(jg,{className:"h-4 w-4"}):d.jsx(_x,{className:"h-4 w-4"})})]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 14 days"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(Ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{m&&(N(m),R(m))},children:d.jsxs(rt,{className:"flex items-center gap-4 p-4",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:d.jsx(T$,{className:"h-5 w-5 text-accent"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),d.jsx(Ex,{className:"h-4 w-4 text-muted-foreground"})]})}),d.jsx(Ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{if(m){const B=encodeURIComponent("Your AgentFlow Discovery Interview"),J=encodeURIComponent(`Hi ${m.name},

You've been invited to participate in a Discovery session.

Click the link below to start your interview when you're ready:
${j(m.interview_token)}

The conversation typically takes 20-30 minutes.

Best regards`);window.open(`mailto:${m.email}?subject=${B}&body=${J}`),R(m)}},children:d.jsxs(rt,{className:"flex items-center gap-4 p-4",children:[d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:d.jsx(sh,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium",children:"Open in Email Client"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),d.jsx(Ex,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),d.jsx(Fh,{children:d.jsx(me,{variant:"outline",onClick:()=>f(!1),children:"Done"})})]})})]})}function G7(){const{toast:e}=Wc(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),d.jsxs("div",{className:"max-w-2xl space-y-6",children:[d.jsxs(Ge,{children:[d.jsxs($r,{children:[d.jsx(Fr,{children:"Voice Platform"}),d.jsx(Yi,{children:"Configure your Vapi integration"})]}),d.jsxs(rt,{children:[d.jsx(ss,{htmlFor:"vapi",children:"Vapi API Key"}),d.jsx(In,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),d.jsxs(Ge,{children:[d.jsxs($r,{children:[d.jsx(Fr,{children:"LLM"}),d.jsx(Yi,{children:"Configure your AI provider"})]}),d.jsxs(rt,{children:[d.jsx(ss,{htmlFor:"anthropic",children:"Anthropic API Key"}),d.jsx(In,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),d.jsxs(Ge,{children:[d.jsxs($r,{children:[d.jsx(Fr,{children:"Admin Users"}),d.jsx(Yi,{children:"Manage who can access this dashboard"})]}),d.jsxs(rt,{children:[d.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"admin@example.com"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),d.jsx(me,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),d.jsx(me,{onClick:t,children:"Save Settings"})]})]})}const K7=[{icon:P$,label:"Dashboard",href:"/admin/dashboard"},{icon:oh,label:"Projects",href:"/admin/projects"},{icon:M$,label:"Settings",href:"/admin/settings"}];function G1({isOpen:e,onClose:t,isMobile:n}){const r=mi(),s=el(),{user:i,signOut:o}=J0(),a=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(u){console.error("Sign out error:",u)}},l=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",c=d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[d.jsxs(nn,{to:"/admin/dashboard",className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:d.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),d.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),n&&d.jsx(me,{variant:"ghost",size:"icon",onClick:t,children:d.jsx(cw,{className:"h-5 w-5"})})]}),d.jsx("nav",{className:"flex-1 space-y-1 p-4",children:K7.map(u=>{const h=r.pathname===u.href||u.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return d.jsxs(nn,{to:u.href,onClick:n?t:void 0,className:oe("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[d.jsx(u.icon,{className:"h-5 w-5"}),u.label,h&&d.jsx(be.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},u.href)})}),d.jsx("div",{className:"border-t p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:d.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:l})}),d.jsxs("div",{className:"flex-1 truncate",children:[d.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),d.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),d.jsx(me,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:d.jsx(A$,{className:"h-4 w-4"})})]})})]});return n?d.jsx($a,{children:e&&d.jsxs(d.Fragment,{children:[d.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),d.jsx(be.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:c})]})}):d.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:c})}function J7({onMenuClick:e,title:t}){return d.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(me,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[d.jsx(N$,{className:"h-5 w-5"}),d.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&d.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Zc,{})})]})}function Y7(){const[e,t]=v.useState(!1),{user:n,isAdmin:r,loading:s}=J0();return s?d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:d.jsx(xn,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?d.jsx(o4,{to:"/admin/login",replace:!0}):d.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[d.jsx(G1,{isOpen:!0,onClose:()=>{},isMobile:!1}),d.jsx(G1,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),d.jsxs("div",{className:"flex flex-1 flex-col",children:[d.jsx(J7,{onMenuClick:()=>t(!0)}),d.jsx("main",{className:"flex-1 overflow-auto",children:d.jsx(a4,{})})]})]})}const Q7=()=>{const e=mi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},X7=new pB,Z7=()=>d.jsx(gB,{client:X7,children:d.jsx(TF,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:d.jsxs(qU,{children:[d.jsx(_F,{}),d.jsx(sV,{}),d.jsx(g4,{basename:"/discovery",children:d.jsxs(tS,{children:[d.jsx(un,{path:"/",element:d.jsx(Zq,{})}),d.jsx(un,{path:"/interview/:token",element:d.jsx(oJ,{})}),d.jsx(un,{path:"/results/:token",element:d.jsx(AJ,{})}),d.jsx(un,{path:"/admin/*",element:d.jsx(NJ,{children:d.jsxs(tS,{children:[d.jsx(un,{path:"login",element:d.jsx(OJ,{})}),d.jsx(un,{path:"auth/callback",element:d.jsx(RJ,{})}),d.jsxs(un,{element:d.jsx(Y7,{}),children:[d.jsx(un,{path:"dashboard",element:d.jsx(LJ,{})}),d.jsx(un,{path:"projects",element:d.jsx(P7,{})}),d.jsx(un,{path:"projects/:id",element:d.jsx(H7,{})}),d.jsx(un,{path:"settings",element:d.jsx(G7,{})})]})]})})}),d.jsx(un,{path:"*",element:d.jsx(Q7,{})})]})})]})})});gC(document.getElementById("root")).render(d.jsx(Z7,{}));
