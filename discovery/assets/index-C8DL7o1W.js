var ED=Object.defineProperty;var ib=e=>{throw TypeError(e)};var CD=(e,t,n)=>t in e?ED(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Se=(e,t,n)=>CD(e,typeof t!="symbol"?t+"":t,n),qp=(e,t,n)=>t.has(e)||ib("Cannot "+n);var W=(e,t,n)=>(qp(e,t,"read from private field"),n?n.call(e):t.get(e)),$e=(e,t,n)=>t.has(e)?ib("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),je=(e,t,n,r)=>(qp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ht=(e,t,n)=>(qp(e,t,"access private method"),n);var Gu=(e,t,n,r)=>({set _(s){je(e,t,s,n)},get _(){return W(e,t,r)}});function TD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ND(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var oE={exports:{}},Cf={},aE={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),AD=Symbol.for("react.portal"),PD=Symbol.for("react.fragment"),RD=Symbol.for("react.strict_mode"),OD=Symbol.for("react.profiler"),ID=Symbol.for("react.provider"),MD=Symbol.for("react.context"),DD=Symbol.for("react.forward_ref"),LD=Symbol.for("react.suspense"),$D=Symbol.for("react.memo"),FD=Symbol.for("react.lazy"),ab=Symbol.iterator;function UD(e){return e===null||typeof e!="object"?null:(e=ab&&e[ab]||e["@@iterator"],typeof e=="function"?e:null)}var lE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cE=Object.assign,uE={};function Cl(e,t,n){this.props=e,this.context=t,this.refs=uE,this.updater=n||lE}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dE(){}dE.prototype=Cl.prototype;function rx(e,t,n){this.props=e,this.context=t,this.refs=uE,this.updater=n||lE}var sx=rx.prototype=new dE;sx.constructor=rx;cE(sx,Cl.prototype);sx.isPureReactComponent=!0;var lb=Array.isArray,hE=Object.prototype.hasOwnProperty,ix={current:null},fE={key:!0,ref:!0,__self:!0,__source:!0};function pE(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)hE.call(t,r)&&!fE.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ju,type:e,key:i,ref:o,props:s,_owner:ix.current}}function VD(e,t){return{$$typeof:ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ox(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju}function BD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cb=/\/+/g;function Wp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BD(""+e.key):t.toString(36)}function zd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ju:case AD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Wp(o,0):r,lb(s)?(n="",e!=null&&(n=e.replace(cb,"$&/")+"/"),zd(s,t,n,"",function(u){return u})):s!=null&&(ox(s)&&(s=VD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",lb(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Wp(i,l);o+=zd(i,t,n,c,s)}else if(c=UD(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Wp(i,l++),o+=zd(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ku(e,t,n){if(e==null)return e;var r=[],s=0;return zd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function zD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yn={current:null},qd={transition:null},qD={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:qd,ReactCurrentOwner:ix};function mE(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Ku,forEach:function(e,t,n){Ku(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ku(e,function(){t++}),t},toArray:function(e){return Ku(e,function(t){return t})||[]},only:function(e){if(!ox(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=Cl;Te.Fragment=PD;Te.Profiler=OD;Te.PureComponent=rx;Te.StrictMode=RD;Te.Suspense=LD;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qD;Te.act=mE;Te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cE({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ix.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)hE.call(t,c)&&!fE.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ju,type:e.type,key:s,ref:i,props:r,_owner:o}};Te.createContext=function(e){return e={$$typeof:MD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ID,_context:e},e.Consumer=e};Te.createElement=pE;Te.createFactory=function(e){var t=pE.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:DD,render:e}};Te.isValidElement=ox;Te.lazy=function(e){return{$$typeof:FD,_payload:{_status:-1,_result:e},_init:zD}};Te.memo=function(e,t){return{$$typeof:$D,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=qd.transition;qd.transition={};try{e()}finally{qd.transition=t}};Te.unstable_act=mE;Te.useCallback=function(e,t){return yn.current.useCallback(e,t)};Te.useContext=function(e){return yn.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return yn.current.useDeferredValue(e)};Te.useEffect=function(e,t){return yn.current.useEffect(e,t)};Te.useId=function(){return yn.current.useId()};Te.useImperativeHandle=function(e,t,n){return yn.current.useImperativeHandle(e,t,n)};Te.useInsertionEffect=function(e,t){return yn.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return yn.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return yn.current.useMemo(e,t)};Te.useReducer=function(e,t,n){return yn.current.useReducer(e,t,n)};Te.useRef=function(e){return yn.current.useRef(e)};Te.useState=function(e){return yn.current.useState(e)};Te.useSyncExternalStore=function(e,t,n){return yn.current.useSyncExternalStore(e,t,n)};Te.useTransition=function(){return yn.current.useTransition()};Te.version="18.3.1";aE.exports=Te;var g=aE.exports;const J=iE(g),ax=TD({__proto__:null,default:J},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WD=g,HD=Symbol.for("react.element"),GD=Symbol.for("react.fragment"),KD=Object.prototype.hasOwnProperty,JD=WD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YD={key:!0,ref:!0,__self:!0,__source:!0};function gE(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)KD.call(t,r)&&!YD.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:HD,type:e,key:i,ref:o,props:s,_owner:JD.current}}Cf.Fragment=GD;Cf.jsx=gE;Cf.jsxs=gE;oE.exports=Cf;var a=oE.exports,vE={exports:{}},Bn={},yE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,$){var K=I.length;I.push($);e:for(;0<K;){var ie=K-1>>>1,Y=I[ie];if(0<s(Y,$))I[ie]=$,I[K]=Y,K=ie;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var $=I[0],K=I.pop();if(K!==$){I[0]=K;e:for(var ie=0,Y=I.length,v=Y>>>1;ie<v;){var k=2*(ie+1)-1,j=I[k],P=k+1,N=I[P];if(0>s(j,K))P<Y&&0>s(N,j)?(I[ie]=N,I[P]=K,ie=P):(I[ie]=j,I[k]=K,ie=k);else if(P<Y&&0>s(N,K))I[ie]=N,I[P]=K,ie=P;else break e}}return $}function s(I,$){var K=I.sortIndex-$.sortIndex;return K!==0?K:I.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,w=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=I)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function S(I){if(m=!1,b(I),!w)if(n(c)!==null)w=!0,U(E);else{var $=n(u);$!==null&&B(S,$.startTime-I)}}function E(I,$){w=!1,m&&(m=!1,y(R),R=-1),p=!0;var K=f;try{for(b($),h=n(c);h!==null&&(!(h.expirationTime>$)||I&&!A());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var Y=ie(h.expirationTime<=$);$=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),b($)}else r(c);h=n(c)}if(h!==null)var v=!0;else{var k=n(u);k!==null&&B(S,k.startTime-$),v=!1}return v}finally{h=null,f=K,p=!1}}var C=!1,T=null,R=-1,O=5,D=-1;function A(){return!(e.unstable_now()-D<O)}function M(){if(T!==null){var I=e.unstable_now();D=I;var $=!0;try{$=T(!0,I)}finally{$?q():(C=!1,T=null)}}else C=!1}var q;if(typeof x=="function")q=function(){x(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Z=F.port2;F.port1.onmessage=M,q=function(){Z.postMessage(null)}}else q=function(){_(M,0)};function U(I){T=I,C||(C=!0,q())}function B(I,$){R=_(function(){I(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,U(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var K=f;f=$;try{return I()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=f;f=I;try{return $()}finally{f=K}},e.unstable_scheduleCallback=function(I,$,K){var ie=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,I){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,I={id:d++,callback:$,priorityLevel:I,startTime:K,expirationTime:Y,sortIndex:-1},K>ie?(I.sortIndex=K,t(u,I),n(c)===null&&I===n(u)&&(m?(y(R),R=-1):m=!0,B(S,K-ie))):(I.sortIndex=Y,t(c,I),w||p||(w=!0,U(E))),I},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(I){var $=f;return function(){var K=f;f=$;try{return I.apply(this,arguments)}finally{f=K}}}})(xE);yE.exports=xE;var QD=yE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD=g,Vn=QD;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wE=new Set,Lc={};function Ho(e,t){tl(e,t),tl(e+"Capture",t)}function tl(e,t){for(Lc[e]=t,e=0;e<t.length;e++)wE.add(t[e])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,ZD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ub={},db={};function eL(e){return Eg.call(db,e)?!0:Eg.call(ub,e)?!1:ZD.test(e)?db[e]=!0:(ub[e]=!0,!1)}function tL(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nL(e,t,n,r){if(t===null||typeof t>"u"||tL(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new xn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new xn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new xn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new xn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new xn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new xn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new xn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new xn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new xn(e,5,!1,e.toLowerCase(),null,!1,!1)});var lx=/[\-:]([a-z])/g;function cx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lx,cx);Wt[t]=new xn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lx,cx);Wt[t]=new xn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lx,cx);Wt[t]=new xn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new xn(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new xn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ux(e,t,n,r){var s=Wt.hasOwnProperty(t)?Wt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nL(t,n,s,r)&&(n=null),r||s===null?eL(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $s=XD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),pa=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),dx=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),_E=Symbol.for("react.context"),hx=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Ng=Symbol.for("react.suspense_list"),fx=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),SE=Symbol.for("react.offscreen"),hb=Symbol.iterator;function Hl(e){return e===null||typeof e!="object"?null:(e=hb&&e[hb]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,Hp;function ic(e){if(Hp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hp=t&&t[1]||""}return`
`+Hp+e}var Gp=!1;function Kp(e,t){if(!e||Gp)return"";Gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ic(e):""}function rL(e){switch(e.tag){case 5:return ic(e.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return e=Kp(e.type,!1),e;case 11:return e=Kp(e.type.render,!1),e;case 1:return e=Kp(e.type,!0),e;default:return""}}function Ag(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ma:return"Fragment";case pa:return"Portal";case Cg:return"Profiler";case dx:return"StrictMode";case Tg:return"Suspense";case Ng:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _E:return(e.displayName||"Context")+".Consumer";case bE:return(e._context.displayName||"Context")+".Provider";case hx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fx:return t=e.displayName||null,t!==null?t:Ag(e.type)||"Memo";case ni:t=e._payload,e=e._init;try{return Ag(e(t))}catch{}}return null}function sL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ag(t);case 8:return t===dx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iL(e){var t=jE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yu(e){e._valueTracker||(e._valueTracker=iL(e))}function kE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pg(e,t){var n=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function fb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EE(e,t){t=t.checked,t!=null&&ux(e,"checked",t,!1)}function Rg(e,t){EE(e,t);var n=Ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Og(e,t.type,n):t.hasOwnProperty("defaultValue")&&Og(e,t.type,Ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Og(e,t,n){(t!=="number"||xh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oc=Array.isArray;function Ra(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ai(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ig(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(oc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ai(n)}}function CE(e,t){var n=Ai(t.value),r=Ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qu,NE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $c(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oL=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(e){oL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vc[t]=vc[e]})});function AE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vc.hasOwnProperty(e)&&vc[e]?(""+t).trim():t+"px"}function PE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=AE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var aL=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dg(e,t){if(t){if(aL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Lg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function px(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fg=null,Oa=null,Ia=null;function vb(e){if(e=Cu(e)){if(typeof Fg!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Rf(t),Fg(e.stateNode,e.type,t))}}function RE(e){Oa?Ia?Ia.push(e):Ia=[e]:Oa=e}function OE(){if(Oa){var e=Oa,t=Ia;if(Ia=Oa=null,vb(e),t)for(e=0;e<t.length;e++)vb(t[e])}}function IE(e,t){return e(t)}function ME(){}var Jp=!1;function DE(e,t,n){if(Jp)return e(t,n);Jp=!0;try{return IE(e,t,n)}finally{Jp=!1,(Oa!==null||Ia!==null)&&(ME(),OE())}}function Fc(e,t){var n=e.stateNode;if(n===null)return null;var r=Rf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var Ug=!1;if(As)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Ug=!1}function lL(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var yc=!1,wh=null,bh=!1,Vg=null,cL={onError:function(e){yc=!0,wh=e}};function uL(e,t,n,r,s,i,o,l,c){yc=!1,wh=null,lL.apply(cL,arguments)}function dL(e,t,n,r,s,i,o,l,c){if(uL.apply(this,arguments),yc){if(yc){var u=wh;yc=!1,wh=null}else throw Error(Q(198));bh||(bh=!0,Vg=u)}}function Go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function LE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yb(e){if(Go(e)!==e)throw Error(Q(188))}function hL(e){var t=e.alternate;if(!t){if(t=Go(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yb(s),e;if(i===r)return yb(s),t;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function $E(e){return e=hL(e),e!==null?FE(e):null}function FE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FE(e);if(t!==null)return t;e=e.sibling}return null}var UE=Vn.unstable_scheduleCallback,xb=Vn.unstable_cancelCallback,fL=Vn.unstable_shouldYield,pL=Vn.unstable_requestPaint,bt=Vn.unstable_now,mL=Vn.unstable_getCurrentPriorityLevel,mx=Vn.unstable_ImmediatePriority,VE=Vn.unstable_UserBlockingPriority,_h=Vn.unstable_NormalPriority,gL=Vn.unstable_LowPriority,BE=Vn.unstable_IdlePriority,Tf=null,ss=null;function vL(e){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(Tf,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:wL,yL=Math.log,xL=Math.LN2;function wL(e){return e>>>=0,e===0?32:31-(yL(e)/xL|0)|0}var Xu=64,Zu=4194304;function ac(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ac(l):(i&=o,i!==0&&(r=ac(i)))}else o=n&~s,o!==0?r=ac(o):i!==0&&(r=ac(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pr(t),s=1<<n,r|=e[n],t&=~s;return r}function bL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _L(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=bL(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Bg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zE(){var e=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),e}function Yp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ku(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=n}function SL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function gx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var qe=0;function qE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WE,vx,HE,GE,KE,zg=!1,ed=[],xi=null,wi=null,bi=null,Uc=new Map,Vc=new Map,oi=[],jL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wb(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(t.pointerId)}}function Kl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cu(t),t!==null&&vx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kL(e,t,n,r,s){switch(t){case"focusin":return xi=Kl(xi,e,t,n,r,s),!0;case"dragenter":return wi=Kl(wi,e,t,n,r,s),!0;case"mouseover":return bi=Kl(bi,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Uc.set(i,Kl(Uc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vc.set(i,Kl(Vc.get(i)||null,e,t,n,r,s)),!0}return!1}function JE(e){var t=ao(e.target);if(t!==null){var n=Go(t);if(n!==null){if(t=n.tag,t===13){if(t=LE(n),t!==null){e.blockedOn=t,KE(e.priority,function(){HE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return t=Cu(n),t!==null&&vx(t),e.blockedOn=n,!1;t.shift()}return!0}function bb(e,t,n){Wd(e)&&n.delete(t)}function EL(){zg=!1,xi!==null&&Wd(xi)&&(xi=null),wi!==null&&Wd(wi)&&(wi=null),bi!==null&&Wd(bi)&&(bi=null),Uc.forEach(bb),Vc.forEach(bb)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,zg||(zg=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,EL)))}function Bc(e){function t(s){return Jl(s,e)}if(0<ed.length){Jl(ed[0],e);for(var n=1;n<ed.length;n++){var r=ed[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xi!==null&&Jl(xi,e),wi!==null&&Jl(wi,e),bi!==null&&Jl(bi,e),Uc.forEach(t),Vc.forEach(t),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)JE(n),n.blockedOn===null&&oi.shift()}var Ma=$s.ReactCurrentBatchConfig,jh=!0;function CL(e,t,n,r){var s=qe,i=Ma.transition;Ma.transition=null;try{qe=1,yx(e,t,n,r)}finally{qe=s,Ma.transition=i}}function TL(e,t,n,r){var s=qe,i=Ma.transition;Ma.transition=null;try{qe=4,yx(e,t,n,r)}finally{qe=s,Ma.transition=i}}function yx(e,t,n,r){if(jh){var s=qg(e,t,n,r);if(s===null)om(e,t,r,kh,n),wb(e,r);else if(kL(s,e,t,n,r))r.stopPropagation();else if(wb(e,r),t&4&&-1<jL.indexOf(e)){for(;s!==null;){var i=Cu(s);if(i!==null&&WE(i),i=qg(e,t,n,r),i===null&&om(e,t,r,kh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else om(e,t,r,null,n)}}var kh=null;function qg(e,t,n,r){if(kh=null,e=px(r),e=ao(e),e!==null)if(t=Go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=LE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kh=e,null}function YE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mL()){case mx:return 1;case VE:return 4;case _h:case gL:return 16;case BE:return 536870912;default:return 16}default:return 16}}var mi=null,xx=null,Hd=null;function QE(){if(Hd)return Hd;var e,t=xx,n=t.length,r,s="value"in mi?mi.value:mi.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Hd=s.slice(e,1<r?1-r:void 0)}function Gd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function td(){return!0}function _b(){return!1}function zn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?td:_b,this.isPropagationStopped=_b,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),t}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wx=zn(Tl),Eu=mt({},Tl,{view:0,detail:0}),NL=zn(Eu),Qp,Xp,Yl,Nf=mt({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yl&&(Yl&&e.type==="mousemove"?(Qp=e.screenX-Yl.screenX,Xp=e.screenY-Yl.screenY):Xp=Qp=0,Yl=e),Qp)},movementY:function(e){return"movementY"in e?e.movementY:Xp}}),Sb=zn(Nf),AL=mt({},Nf,{dataTransfer:0}),PL=zn(AL),RL=mt({},Eu,{relatedTarget:0}),Zp=zn(RL),OL=mt({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),IL=zn(OL),ML=mt({},Tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),DL=zn(ML),LL=mt({},Tl,{data:0}),jb=zn(LL),$L={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UL[e])?!!t[e]:!1}function bx(){return VL}var BL=mt({},Eu,{key:function(e){if(e.key){var t=$L[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bx,charCode:function(e){return e.type==="keypress"?Gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zL=zn(BL),qL=mt({},Nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kb=zn(qL),WL=mt({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bx}),HL=zn(WL),GL=mt({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KL=zn(GL),JL=mt({},Nf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YL=zn(JL),QL=[9,13,27,32],_x=As&&"CompositionEvent"in window,xc=null;As&&"documentMode"in document&&(xc=document.documentMode);var XL=As&&"TextEvent"in window&&!xc,XE=As&&(!_x||xc&&8<xc&&11>=xc),Eb=" ",Cb=!1;function ZE(e,t){switch(e){case"keyup":return QL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function ZL(e,t){switch(e){case"compositionend":return eC(t);case"keypress":return t.which!==32?null:(Cb=!0,Eb);case"textInput":return e=t.data,e===Eb&&Cb?null:e;default:return null}}function e$(e,t){if(ga)return e==="compositionend"||!_x&&ZE(e,t)?(e=QE(),Hd=xx=mi=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return XE&&t.locale!=="ko"?null:t.data;default:return null}}var t$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!t$[e.type]:t==="textarea"}function tC(e,t,n,r){RE(r),t=Eh(t,"onChange"),0<t.length&&(n=new wx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wc=null,zc=null;function n$(e){hC(e,0)}function Af(e){var t=xa(e);if(kE(t))return e}function r$(e,t){if(e==="change")return t}var nC=!1;if(As){var em;if(As){var tm="oninput"in document;if(!tm){var Nb=document.createElement("div");Nb.setAttribute("oninput","return;"),tm=typeof Nb.oninput=="function"}em=tm}else em=!1;nC=em&&(!document.documentMode||9<document.documentMode)}function Ab(){wc&&(wc.detachEvent("onpropertychange",rC),zc=wc=null)}function rC(e){if(e.propertyName==="value"&&Af(zc)){var t=[];tC(t,zc,e,px(e)),DE(n$,t)}}function s$(e,t,n){e==="focusin"?(Ab(),wc=t,zc=n,wc.attachEvent("onpropertychange",rC)):e==="focusout"&&Ab()}function i$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Af(zc)}function o$(e,t){if(e==="click")return Af(t)}function a$(e,t){if(e==="input"||e==="change")return Af(t)}function l$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:l$;function qc(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Eg.call(t,s)||!Mr(e[s],t[s]))return!1}return!0}function Pb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rb(e,t){var n=Pb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pb(n)}}function sC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iC(){for(var e=window,t=xh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xh(e.document)}return t}function Sx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function c$(e){var t=iC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sC(n.ownerDocument.documentElement,n)){if(r!==null&&Sx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Rb(n,i);var o=Rb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u$=As&&"documentMode"in document&&11>=document.documentMode,va=null,Wg=null,bc=null,Hg=!1;function Ob(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hg||va==null||va!==xh(r)||(r=va,"selectionStart"in r&&Sx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bc&&qc(bc,r)||(bc=r,r=Eh(Wg,"onSelect"),0<r.length&&(t=new wx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=va)))}function nd(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ya={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},nm={},oC={};As&&(oC=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Pf(e){if(nm[e])return nm[e];if(!ya[e])return e;var t=ya[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oC)return nm[e]=t[n];return e}var aC=Pf("animationend"),lC=Pf("animationiteration"),cC=Pf("animationstart"),uC=Pf("transitionend"),dC=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(e,t){dC.set(e,t),Ho(t,[e])}for(var rm=0;rm<Ib.length;rm++){var sm=Ib[rm],d$=sm.toLowerCase(),h$=sm[0].toUpperCase()+sm.slice(1);Fi(d$,"on"+h$)}Fi(aC,"onAnimationEnd");Fi(lC,"onAnimationIteration");Fi(cC,"onAnimationStart");Fi("dblclick","onDoubleClick");Fi("focusin","onFocus");Fi("focusout","onBlur");Fi(uC,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f$=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Mb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dL(r,t,void 0,e),e.currentTarget=null}function hC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Mb(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Mb(s,l,u),i=c}}}if(bh)throw e=Vg,bh=!1,Vg=null,e}function tt(e,t){var n=t[Qg];n===void 0&&(n=t[Qg]=new Set);var r=e+"__bubble";n.has(r)||(fC(t,e,2,!1),n.add(r))}function im(e,t,n){var r=0;t&&(r|=4),fC(n,e,r,t)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Wc(e){if(!e[rd]){e[rd]=!0,wE.forEach(function(n){n!=="selectionchange"&&(f$.has(n)||im(n,!1,e),im(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rd]||(t[rd]=!0,im("selectionchange",!1,t))}}function fC(e,t,n,r){switch(YE(t)){case 1:var s=CL;break;case 4:s=TL;break;default:s=yx}n=s.bind(null,t,n,e),s=void 0,!Ug||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function om(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ao(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}DE(function(){var u=i,d=px(n),h=[];e:{var f=dC.get(e);if(f!==void 0){var p=wx,w=e;switch(e){case"keypress":if(Gd(n)===0)break e;case"keydown":case"keyup":p=zL;break;case"focusin":w="focus",p=Zp;break;case"focusout":w="blur",p=Zp;break;case"beforeblur":case"afterblur":p=Zp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HL;break;case aC:case lC:case cC:p=IL;break;case uC:p=KL;break;case"scroll":p=NL;break;case"wheel":p=YL;break;case"copy":case"cut":case"paste":p=DL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kb}var m=(t&4)!==0,_=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var x=u,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=Fc(x,y),S!=null&&m.push(Hc(x,S,b)))),_)break;x=x.return}0<m.length&&(f=new p(f,w,null,n,d),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==$g&&(w=n.relatedTarget||n.fromElement)&&(ao(w)||w[Ps]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?ao(w):null,w!==null&&(_=Go(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(m=Sb,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=kb,S="onPointerLeave",y="onPointerEnter",x="pointer"),_=p==null?f:xa(p),b=w==null?f:xa(w),f=new m(S,x+"leave",p,n,d),f.target=_,f.relatedTarget=b,S=null,ao(d)===u&&(m=new m(y,x+"enter",w,n,d),m.target=b,m.relatedTarget=_,S=m),_=S,p&&w)t:{for(m=p,y=w,x=0,b=m;b;b=Zo(b))x++;for(b=0,S=y;S;S=Zo(S))b++;for(;0<x-b;)m=Zo(m),x--;for(;0<b-x;)y=Zo(y),b--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=Zo(m),y=Zo(y)}m=null}else m=null;p!==null&&Db(h,f,p,m,!1),w!==null&&_!==null&&Db(h,_,w,m,!0)}}e:{if(f=u?xa(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=r$;else if(Tb(f))if(nC)E=a$;else{E=i$;var C=s$}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=o$);if(E&&(E=E(e,u))){tC(h,E,n,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Og(f,"number",f.value)}switch(C=u?xa(u):window,e){case"focusin":(Tb(C)||C.contentEditable==="true")&&(va=C,Wg=u,bc=null);break;case"focusout":bc=Wg=va=null;break;case"mousedown":Hg=!0;break;case"contextmenu":case"mouseup":case"dragend":Hg=!1,Ob(h,n,d);break;case"selectionchange":if(u$)break;case"keydown":case"keyup":Ob(h,n,d)}var T;if(_x)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ga?ZE(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(XE&&n.locale!=="ko"&&(ga||R!=="onCompositionStart"?R==="onCompositionEnd"&&ga&&(T=QE()):(mi=d,xx="value"in mi?mi.value:mi.textContent,ga=!0)),C=Eh(u,R),0<C.length&&(R=new jb(R,e,null,n,d),h.push({event:R,listeners:C}),T?R.data=T:(T=eC(n),T!==null&&(R.data=T)))),(T=XL?ZL(e,n):e$(e,n))&&(u=Eh(u,"onBeforeInput"),0<u.length&&(d=new jb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}hC(h,t)})}function Hc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fc(e,n),i!=null&&r.unshift(Hc(e,i,s)),i=Fc(e,t),i!=null&&r.push(Hc(e,i,s))),e=e.return}return r}function Zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Db(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Fc(n,i),c!=null&&o.unshift(Hc(n,c,l))):s||(c=Fc(n,i),c!=null&&o.push(Hc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var p$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function Lb(e){return(typeof e=="string"?e:""+e).replace(p$,`
`).replace(m$,"")}function sd(e,t,n){if(t=Lb(t),Lb(e)!==t&&n)throw Error(Q(425))}function Ch(){}var Gg=null,Kg=null;function Jg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yg=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(e){return $b.resolve(null).then(e).catch(y$)}:Yg;function y$(e){setTimeout(function(){throw e})}function am(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bc(t)}function _i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),es="__reactFiber$"+Nl,Gc="__reactProps$"+Nl,Ps="__reactContainer$"+Nl,Qg="__reactEvents$"+Nl,x$="__reactListeners$"+Nl,w$="__reactHandles$"+Nl;function ao(e){var t=e[es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ps]||n[es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fb(e);e!==null;){if(n=e[es])return n;e=Fb(e)}return t}e=n,n=e.parentNode}return null}function Cu(e){return e=e[es]||e[Ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Rf(e){return e[Gc]||null}var Xg=[],wa=-1;function Ui(e){return{current:e}}function nt(e){0>wa||(e.current=Xg[wa],Xg[wa]=null,wa--)}function Xe(e,t){wa++,Xg[wa]=e.current,e.current=t}var Pi={},tn=Ui(Pi),jn=Ui(!1),To=Pi;function nl(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kn(e){return e=e.childContextTypes,e!=null}function Th(){nt(jn),nt(tn)}function Ub(e,t,n){if(tn.current!==Pi)throw Error(Q(168));Xe(tn,t),Xe(jn,n)}function pC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Q(108,sL(e)||"Unknown",s));return mt({},n,r)}function Nh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,To=tn.current,Xe(tn,e),Xe(jn,jn.current),!0}function Vb(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=pC(e,t,To),r.__reactInternalMemoizedMergedChildContext=e,nt(jn),nt(tn),Xe(tn,e)):nt(jn),Xe(jn,n)}var _s=null,Of=!1,lm=!1;function mC(e){_s===null?_s=[e]:_s.push(e)}function b$(e){Of=!0,mC(e)}function Vi(){if(!lm&&_s!==null){lm=!0;var e=0,t=qe;try{var n=_s;for(qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_s=null,Of=!1}catch(s){throw _s!==null&&(_s=_s.slice(e+1)),UE(mx,Vi),s}finally{qe=t,lm=!1}}return null}var ba=[],_a=0,Ah=null,Ph=0,Yn=[],Qn=0,No=null,js=1,ks="";function to(e,t){ba[_a++]=Ph,ba[_a++]=Ah,Ah=e,Ph=t}function gC(e,t,n){Yn[Qn++]=js,Yn[Qn++]=ks,Yn[Qn++]=No,No=e;var r=js;e=ks;var s=32-Pr(r)-1;r&=~(1<<s),n+=1;var i=32-Pr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,js=1<<32-Pr(t)+s|n<<s|r,ks=i+e}else js=1<<i|n<<s|r,ks=e}function jx(e){e.return!==null&&(to(e,1),gC(e,1,0))}function kx(e){for(;e===Ah;)Ah=ba[--_a],ba[_a]=null,Ph=ba[--_a],ba[_a]=null;for(;e===No;)No=Yn[--Qn],Yn[Qn]=null,ks=Yn[--Qn],Yn[Qn]=null,js=Yn[--Qn],Yn[Qn]=null}var Fn=null,Ln=null,ot=!1,Ar=null;function vC(e,t){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=_i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fn=e,Ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=No!==null?{id:js,overflow:ks}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fn=e,Ln=null,!0):!1;default:return!1}}function Zg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ev(e){if(ot){var t=Ln;if(t){var n=t;if(!Bb(e,t)){if(Zg(e))throw Error(Q(418));t=_i(n.nextSibling);var r=Fn;t&&Bb(e,t)?vC(r,n):(e.flags=e.flags&-4097|2,ot=!1,Fn=e)}}else{if(Zg(e))throw Error(Q(418));e.flags=e.flags&-4097|2,ot=!1,Fn=e}}}function zb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fn=e}function id(e){if(e!==Fn)return!1;if(!ot)return zb(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jg(e.type,e.memoizedProps)),t&&(t=Ln)){if(Zg(e))throw yC(),Error(Q(418));for(;t;)vC(e,t),t=_i(t.nextSibling)}if(zb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ln=_i(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ln=null}}else Ln=Fn?_i(e.stateNode.nextSibling):null;return!0}function yC(){for(var e=Ln;e;)e=_i(e.nextSibling)}function rl(){Ln=Fn=null,ot=!1}function Ex(e){Ar===null?Ar=[e]:Ar.push(e)}var _$=$s.ReactCurrentBatchConfig;function Ql(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function od(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qb(e){var t=e._init;return t(e._payload)}function xC(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Ei(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,S){return x===null||x.tag!==6?(x=mm(b,y.mode,S),x.return=y,x):(x=s(x,b),x.return=y,x)}function c(y,x,b,S){var E=b.type;return E===ma?d(y,x,b.props.children,S,b.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ni&&qb(E)===x.type)?(S=s(x,b.props),S.ref=Ql(y,x,b),S.return=y,S):(S=eh(b.type,b.key,b.props,null,y.mode,S),S.ref=Ql(y,x,b),S.return=y,S)}function u(y,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=gm(b,y.mode,S),x.return=y,x):(x=s(x,b.children||[]),x.return=y,x)}function d(y,x,b,S,E){return x===null||x.tag!==7?(x=_o(b,y.mode,S,E),x.return=y,x):(x=s(x,b),x.return=y,x)}function h(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=mm(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ju:return b=eh(x.type,x.key,x.props,null,y.mode,b),b.ref=Ql(y,null,x),b.return=y,b;case pa:return x=gm(x,y.mode,b),x.return=y,x;case ni:var S=x._init;return h(y,S(x._payload),b)}if(oc(x)||Hl(x))return x=_o(x,y.mode,b,null),x.return=y,x;od(y,x)}return null}function f(y,x,b,S){var E=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:l(y,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:return b.key===E?c(y,x,b,S):null;case pa:return b.key===E?u(y,x,b,S):null;case ni:return E=b._init,f(y,x,E(b._payload),S)}if(oc(b)||Hl(b))return E!==null?null:d(y,x,b,S,null);od(y,b)}return null}function p(y,x,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,l(x,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ju:return y=y.get(S.key===null?b:S.key)||null,c(x,y,S,E);case pa:return y=y.get(S.key===null?b:S.key)||null,u(x,y,S,E);case ni:var C=S._init;return p(y,x,b,C(S._payload),E)}if(oc(S)||Hl(S))return y=y.get(b)||null,d(x,y,S,E,null);od(x,S)}return null}function w(y,x,b,S){for(var E=null,C=null,T=x,R=x=0,O=null;T!==null&&R<b.length;R++){T.index>R?(O=T,T=null):O=T.sibling;var D=f(y,T,b[R],S);if(D===null){T===null&&(T=O);break}e&&T&&D.alternate===null&&t(y,T),x=i(D,x,R),C===null?E=D:C.sibling=D,C=D,T=O}if(R===b.length)return n(y,T),ot&&to(y,R),E;if(T===null){for(;R<b.length;R++)T=h(y,b[R],S),T!==null&&(x=i(T,x,R),C===null?E=T:C.sibling=T,C=T);return ot&&to(y,R),E}for(T=r(y,T);R<b.length;R++)O=p(T,y,R,b[R],S),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?R:O.key),x=i(O,x,R),C===null?E=O:C.sibling=O,C=O);return e&&T.forEach(function(A){return t(y,A)}),ot&&to(y,R),E}function m(y,x,b,S){var E=Hl(b);if(typeof E!="function")throw Error(Q(150));if(b=E.call(b),b==null)throw Error(Q(151));for(var C=E=null,T=x,R=x=0,O=null,D=b.next();T!==null&&!D.done;R++,D=b.next()){T.index>R?(O=T,T=null):O=T.sibling;var A=f(y,T,D.value,S);if(A===null){T===null&&(T=O);break}e&&T&&A.alternate===null&&t(y,T),x=i(A,x,R),C===null?E=A:C.sibling=A,C=A,T=O}if(D.done)return n(y,T),ot&&to(y,R),E;if(T===null){for(;!D.done;R++,D=b.next())D=h(y,D.value,S),D!==null&&(x=i(D,x,R),C===null?E=D:C.sibling=D,C=D);return ot&&to(y,R),E}for(T=r(y,T);!D.done;R++,D=b.next())D=p(T,y,R,D.value,S),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?R:D.key),x=i(D,x,R),C===null?E=D:C.sibling=D,C=D);return e&&T.forEach(function(M){return t(y,M)}),ot&&to(y,R),E}function _(y,x,b,S){if(typeof b=="object"&&b!==null&&b.type===ma&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:e:{for(var E=b.key,C=x;C!==null;){if(C.key===E){if(E=b.type,E===ma){if(C.tag===7){n(y,C.sibling),x=s(C,b.props.children),x.return=y,y=x;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ni&&qb(E)===C.type){n(y,C.sibling),x=s(C,b.props),x.ref=Ql(y,C,b),x.return=y,y=x;break e}n(y,C);break}else t(y,C);C=C.sibling}b.type===ma?(x=_o(b.props.children,y.mode,S,b.key),x.return=y,y=x):(S=eh(b.type,b.key,b.props,null,y.mode,S),S.ref=Ql(y,x,b),S.return=y,y=S)}return o(y);case pa:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(y,x.sibling),x=s(x,b.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=gm(b,y.mode,S),x.return=y,y=x}return o(y);case ni:return C=b._init,_(y,x,C(b._payload),S)}if(oc(b))return w(y,x,b,S);if(Hl(b))return m(y,x,b,S);od(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,b),x.return=y,y=x):(n(y,x),x=mm(b,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return _}var sl=xC(!0),wC=xC(!1),Rh=Ui(null),Oh=null,Sa=null,Cx=null;function Tx(){Cx=Sa=Oh=null}function Nx(e){var t=Rh.current;nt(Rh),e._currentValue=t}function tv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Da(e,t){Oh=e,Cx=Sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sn=!0),e.firstContext=null)}function or(e){var t=e._currentValue;if(Cx!==e)if(e={context:e,memoizedValue:t,next:null},Sa===null){if(Oh===null)throw Error(Q(308));Sa=e,Oh.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var lo=null;function Ax(e){lo===null?lo=[e]:lo.push(e)}function bC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ax(t)):(n.next=s.next,s.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ri=!1;function Px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _C(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Si(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Rs(e,n)}return s=r.interleaved,s===null?(t.next=t,Ax(r)):(t.next=s.next,s.next=t),r.interleaved=t,Rs(e,n)}function Kd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gx(e,n)}}function Wb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ih(e,t,n,r){var s=e.updateQueue;ri=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,m=l;switch(f=t,p=n,m.tag){case 1:if(w=m.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=mt({},h,f);break e;case 2:ri=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Po|=o,e.lanes=o,e.memoizedState=h}}function Hb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Tu={},is=Ui(Tu),Kc=Ui(Tu),Jc=Ui(Tu);function co(e){if(e===Tu)throw Error(Q(174));return e}function Rx(e,t){switch(Xe(Jc,t),Xe(Kc,e),Xe(is,Tu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mg(t,e)}nt(is),Xe(is,t)}function il(){nt(is),nt(Kc),nt(Jc)}function SC(e){co(Jc.current);var t=co(is.current),n=Mg(t,e.type);t!==n&&(Xe(Kc,e),Xe(is,n))}function Ox(e){Kc.current===e&&(nt(is),nt(Kc))}var ut=Ui(0);function Mh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cm=[];function Ix(){for(var e=0;e<cm.length;e++)cm[e]._workInProgressVersionPrimary=null;cm.length=0}var Jd=$s.ReactCurrentDispatcher,um=$s.ReactCurrentBatchConfig,Ao=0,pt=null,At=null,Mt=null,Dh=!1,_c=!1,Yc=0,S$=0;function Gt(){throw Error(Q(321))}function Mx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mr(e[n],t[n]))return!1;return!0}function Dx(e,t,n,r,s,i){if(Ao=i,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jd.current=e===null||e.memoizedState===null?C$:T$,e=n(r,s),_c){i=0;do{if(_c=!1,Yc=0,25<=i)throw Error(Q(301));i+=1,Mt=At=null,t.updateQueue=null,Jd.current=N$,e=n(r,s)}while(_c)}if(Jd.current=Lh,t=At!==null&&At.next!==null,Ao=0,Mt=At=pt=null,Dh=!1,t)throw Error(Q(300));return e}function Lx(){var e=Yc!==0;return Yc=0,e}function Gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?pt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function ar(){if(At===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Mt===null?pt.memoizedState:Mt.next;if(t!==null)Mt=t,At=e;else{if(e===null)throw Error(Q(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Mt===null?pt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function Qc(e,t){return typeof t=="function"?t(e):t}function dm(e){var t=ar(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=At,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ao&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,pt.lanes|=d,Po|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Mr(r,t.memoizedState)||(Sn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,pt.lanes|=i,Po|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hm(e){var t=ar(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Mr(i,t.memoizedState)||(Sn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function jC(){}function kC(e,t){var n=pt,r=ar(),s=t(),i=!Mr(r.memoizedState,s);if(i&&(r.memoizedState=s,Sn=!0),r=r.queue,$x(TC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,Xc(9,CC.bind(null,n,r,s,t),void 0,null),Lt===null)throw Error(Q(349));Ao&30||EC(n,t,s)}return s}function EC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CC(e,t,n,r){t.value=n,t.getSnapshot=r,NC(t)&&AC(e)}function TC(e,t,n){return n(function(){NC(t)&&AC(e)})}function NC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mr(e,n)}catch{return!0}}function AC(e){var t=Rs(e,1);t!==null&&Rr(t,e,1,-1)}function Gb(e){var t=Gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:e},t.queue=e,e=e.dispatch=E$.bind(null,pt,e),[t.memoizedState,e]}function Xc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function PC(){return ar().memoizedState}function Yd(e,t,n,r){var s=Gr();pt.flags|=e,s.memoizedState=Xc(1|t,n,void 0,r===void 0?null:r)}function If(e,t,n,r){var s=ar();r=r===void 0?null:r;var i=void 0;if(At!==null){var o=At.memoizedState;if(i=o.destroy,r!==null&&Mx(r,o.deps)){s.memoizedState=Xc(t,n,i,r);return}}pt.flags|=e,s.memoizedState=Xc(1|t,n,i,r)}function Kb(e,t){return Yd(8390656,8,e,t)}function $x(e,t){return If(2048,8,e,t)}function RC(e,t){return If(4,2,e,t)}function OC(e,t){return If(4,4,e,t)}function IC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MC(e,t,n){return n=n!=null?n.concat([e]):null,If(4,4,IC.bind(null,t,e),n)}function Fx(){}function DC(e,t){var n=ar();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function LC(e,t){var n=ar();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $C(e,t,n){return Ao&21?(Mr(n,t)||(n=zE(),pt.lanes|=n,Po|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sn=!0),e.memoizedState=n)}function j$(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var r=um.transition;um.transition={};try{e(!1),t()}finally{qe=n,um.transition=r}}function FC(){return ar().memoizedState}function k$(e,t,n){var r=ki(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UC(e))VC(t,n);else if(n=bC(e,t,n,r),n!==null){var s=gn();Rr(n,e,r,s),BC(n,t,r)}}function E$(e,t,n){var r=ki(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UC(e))VC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Mr(l,o)){var c=t.interleaved;c===null?(s.next=s,Ax(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=bC(e,t,s,r),n!==null&&(s=gn(),Rr(n,e,r,s),BC(n,t,r))}}function UC(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function VC(e,t){_c=Dh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function BC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gx(e,n)}}var Lh={readContext:or,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},C$={readContext:or,useCallback:function(e,t){return Gr().memoizedState=[e,t===void 0?null:t],e},useContext:or,useEffect:Kb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yd(4194308,4,IC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yd(4,2,e,t)},useMemo:function(e,t){var n=Gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=k$.bind(null,pt,e),[r.memoizedState,e]},useRef:function(e){var t=Gr();return e={current:e},t.memoizedState=e},useState:Gb,useDebugValue:Fx,useDeferredValue:function(e){return Gr().memoizedState=e},useTransition:function(){var e=Gb(!1),t=e[0];return e=j$.bind(null,e[1]),Gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pt,s=Gr();if(ot){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),Lt===null)throw Error(Q(349));Ao&30||EC(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Kb(TC.bind(null,r,i,e),[e]),r.flags|=2048,Xc(9,CC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Gr(),t=Lt.identifierPrefix;if(ot){var n=ks,r=js;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=S$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T$={readContext:or,useCallback:DC,useContext:or,useEffect:$x,useImperativeHandle:MC,useInsertionEffect:RC,useLayoutEffect:OC,useMemo:LC,useReducer:dm,useRef:PC,useState:function(){return dm(Qc)},useDebugValue:Fx,useDeferredValue:function(e){var t=ar();return $C(t,At.memoizedState,e)},useTransition:function(){var e=dm(Qc)[0],t=ar().memoizedState;return[e,t]},useMutableSource:jC,useSyncExternalStore:kC,useId:FC,unstable_isNewReconciler:!1},N$={readContext:or,useCallback:DC,useContext:or,useEffect:$x,useImperativeHandle:MC,useInsertionEffect:RC,useLayoutEffect:OC,useMemo:LC,useReducer:hm,useRef:PC,useState:function(){return hm(Qc)},useDebugValue:Fx,useDeferredValue:function(e){var t=ar();return At===null?t.memoizedState=e:$C(t,At.memoizedState,e)},useTransition:function(){var e=hm(Qc)[0],t=ar().memoizedState;return[e,t]},useMutableSource:jC,useSyncExternalStore:kC,useId:FC,unstable_isNewReconciler:!1};function Sr(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function nv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mf={isMounted:function(e){return(e=e._reactInternals)?Go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gn(),s=ki(e),i=Ts(r,s);i.payload=t,n!=null&&(i.callback=n),t=Si(e,i,s),t!==null&&(Rr(t,e,s,r),Kd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gn(),s=ki(e),i=Ts(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Si(e,i,s),t!==null&&(Rr(t,e,s,r),Kd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gn(),r=ki(e),s=Ts(n,r);s.tag=2,t!=null&&(s.callback=t),t=Si(e,s,r),t!==null&&(Rr(t,e,r,n),Kd(t,e,r))}};function Jb(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!qc(n,r)||!qc(s,i):!0}function zC(e,t,n){var r=!1,s=Pi,i=t.contextType;return typeof i=="object"&&i!==null?i=or(i):(s=kn(t)?To:tn.current,r=t.contextTypes,i=(r=r!=null)?nl(e,s):Pi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mf.enqueueReplaceState(t,t.state,null)}function rv(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Px(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=or(i):(i=kn(t)?To:tn.current,s.context=nl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nv(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Mf.enqueueReplaceState(s,s.state,null),Ih(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ol(e,t){try{var n="",r=t;do n+=rL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function fm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A$=typeof WeakMap=="function"?WeakMap:Map;function qC(e,t,n){n=Ts(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fh||(Fh=!0,pv=r),sv(e,t)},n}function WC(e,t,n){n=Ts(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){sv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sv(e,t),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new A$;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=q$.bind(null,e,t,n),t.then(e,e))}function Xb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ts(-1,1),t.tag=2,Si(n,t,1))),n.lanes|=1),e)}var P$=$s.ReactCurrentOwner,Sn=!1;function un(e,t,n,r){t.child=e===null?wC(t,null,n,r):sl(t,e.child,n,r)}function e_(e,t,n,r,s){n=n.render;var i=t.ref;return Da(t,s),r=Dx(e,t,n,r,i,s),n=Lx(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(ot&&n&&jx(t),t.flags|=1,un(e,t,r,s),t.child)}function t_(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Gx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,HC(e,t,i,r,s)):(e=eh(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qc,n(o,r)&&e.ref===t.ref)return Os(e,t,s)}return t.flags|=1,e=Ei(i,r),e.ref=t.ref,e.return=t,t.child=e}function HC(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(qc(i,r)&&e.ref===t.ref)if(Sn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Sn=!0);else return t.lanes=e.lanes,Os(e,t,s)}return iv(e,t,n,r,s)}function GC(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(ka,Rn),Rn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(ka,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Xe(ka,Rn),Rn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Xe(ka,Rn),Rn|=r;return un(e,t,s,n),t.child}function KC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function iv(e,t,n,r,s){var i=kn(n)?To:tn.current;return i=nl(t,i),Da(t,s),n=Dx(e,t,n,r,i,s),r=Lx(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Os(e,t,s)):(ot&&r&&jx(t),t.flags|=1,un(e,t,n,s),t.child)}function n_(e,t,n,r,s){if(kn(n)){var i=!0;Nh(t)}else i=!1;if(Da(t,s),t.stateNode===null)Qd(e,t),zC(t,n,r),rv(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=or(u):(u=kn(n)?To:tn.current,u=nl(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Yb(t,o,r,u),ri=!1;var f=t.memoizedState;o.state=f,Ih(t,r,o,s),c=t.memoizedState,l!==r||f!==c||jn.current||ri?(typeof d=="function"&&(nv(t,n,d,r),c=t.memoizedState),(l=ri||Jb(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_C(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Sr(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=or(c):(c=kn(n)?To:tn.current,c=nl(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Yb(t,o,r,c),ri=!1,f=t.memoizedState,o.state=f,Ih(t,r,o,s);var w=t.memoizedState;l!==h||f!==w||jn.current||ri?(typeof p=="function"&&(nv(t,n,p,r),w=t.memoizedState),(u=ri||Jb(t,n,u,r,f,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ov(e,t,n,r,i,s)}function ov(e,t,n,r,s,i){KC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Vb(t,n,!1),Os(e,t,i);r=t.stateNode,P$.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=sl(t,e.child,null,i),t.child=sl(t,null,l,i)):un(e,t,l,i),t.memoizedState=r.state,s&&Vb(t,n,!0),t.child}function JC(e){var t=e.stateNode;t.pendingContext?Ub(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ub(e,t.context,!1),Rx(e,t.containerInfo)}function r_(e,t,n,r,s){return rl(),Ex(s),t.flags|=256,un(e,t,n,r),t.child}var av={dehydrated:null,treeContext:null,retryLane:0};function lv(e){return{baseLanes:e,cachePool:null,transitions:null}}function YC(e,t,n){var r=t.pendingProps,s=ut.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xe(ut,s&1),e===null)return ev(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$f(o,r,0,null),e=_o(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lv(n),t.memoizedState=av,e):Ux(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return R$(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ei(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ei(l,i):(i=_o(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?lv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=av,r}return i=e.child,e=i.sibling,r=Ei(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ux(e,t){return t=$f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ad(e,t,n,r){return r!==null&&Ex(r),sl(t,e.child,null,n),e=Ux(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R$(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=fm(Error(Q(422))),ad(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$f({mode:"visible",children:r.children},s,0,null),i=_o(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&sl(t,e.child,null,o),t.child.memoizedState=lv(o),t.memoizedState=av,i);if(!(t.mode&1))return ad(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Q(419)),r=fm(i,r,void 0),ad(e,t,o,r)}if(l=(o&e.childLanes)!==0,Sn||l){if(r=Lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rs(e,s),Rr(r,e,s,-1))}return Hx(),r=fm(Error(Q(421))),ad(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=W$.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ln=_i(s.nextSibling),Fn=t,ot=!0,Ar=null,e!==null&&(Yn[Qn++]=js,Yn[Qn++]=ks,Yn[Qn++]=No,js=e.id,ks=e.overflow,No=t),t=Ux(t,r.children),t.flags|=4096,t)}function s_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tv(e.return,t,n)}function pm(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QC(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(un(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s_(e,n,t);else if(e.tag===19)s_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xe(ut,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Mh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),pm(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Mh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}pm(t,!0,n,null,i);break;case"together":pm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Os(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Po|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Ei(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ei(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function O$(e,t,n){switch(t.tag){case 3:JC(t),rl();break;case 5:SC(t);break;case 1:kn(t.type)&&Nh(t);break;case 4:Rx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Xe(Rh,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?YC(e,t,n):(Xe(ut,ut.current&1),e=Os(e,t,n),e!==null?e.sibling:null);Xe(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QC(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xe(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,GC(e,t,n)}return Os(e,t,n)}var XC,cv,ZC,eT;XC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cv=function(){};ZC=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,co(is.current);var i=null;switch(n){case"input":s=Pg(e,s),r=Pg(e,r),i=[];break;case"select":s=mt({},s,{value:void 0}),r=mt({},r,{value:void 0}),i=[];break;case"textarea":s=Ig(e,s),r=Ig(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ch)}Dg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&tt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};eT=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xl(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function I$(e,t,n){var r=t.pendingProps;switch(kx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return kn(t.type)&&Th(),Kt(t),null;case 3:return r=t.stateNode,il(),nt(jn),nt(tn),Ix(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(id(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ar!==null&&(vv(Ar),Ar=null))),cv(e,t),Kt(t),null;case 5:Ox(t);var s=co(Jc.current);if(n=t.type,e!==null&&t.stateNode!=null)ZC(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Kt(t),null}if(e=co(is.current),id(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[es]=t,r[Gc]=i,e=(t.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(s=0;s<lc.length;s++)tt(lc[s],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":fb(r,i),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tt("invalid",r);break;case"textarea":mb(r,i),tt("invalid",r)}Dg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&sd(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&sd(r.textContent,l,e),s=["children",""+l]):Lc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":Yu(r),pb(r,i,!0);break;case"textarea":Yu(r),gb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ch)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[es]=t,e[Gc]=r,XC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lg(n,r),n){case"dialog":tt("cancel",e),tt("close",e),s=r;break;case"iframe":case"object":case"embed":tt("load",e),s=r;break;case"video":case"audio":for(s=0;s<lc.length;s++)tt(lc[s],e);s=r;break;case"source":tt("error",e),s=r;break;case"img":case"image":case"link":tt("error",e),tt("load",e),s=r;break;case"details":tt("toggle",e),s=r;break;case"input":fb(e,r),s=Pg(e,r),tt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=mt({},r,{value:void 0}),tt("invalid",e);break;case"textarea":mb(e,r),s=Ig(e,r),tt("invalid",e);break;default:s=r}Dg(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?PE(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&NE(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$c(e,c):typeof c=="number"&&$c(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&tt("scroll",e):c!=null&&ux(e,i,c,o))}switch(n){case"input":Yu(e),pb(e,r,!1);break;case"textarea":Yu(e),gb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ai(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ra(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ra(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)eT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=co(Jc.current),co(is.current),id(t)){if(r=t.stateNode,n=t.memoizedProps,r[es]=t,(i=r.nodeValue!==n)&&(e=Fn,e!==null))switch(e.tag){case 3:sd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sd(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=t,t.stateNode=r}return Kt(t),null;case 13:if(nt(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Ln!==null&&t.mode&1&&!(t.flags&128))yC(),rl(),t.flags|=98560,i=!1;else if(i=id(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[es]=t}else rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),i=!1}else Ar!==null&&(vv(Ar),Ar=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Rt===0&&(Rt=3):Hx())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return il(),cv(e,t),e===null&&Wc(t.stateNode.containerInfo),Kt(t),null;case 10:return Nx(t.type._context),Kt(t),null;case 17:return kn(t.type)&&Th(),Kt(t),null;case 19:if(nt(ut),i=t.memoizedState,i===null)return Kt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xl(i,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Mh(e),o!==null){for(t.flags|=128,Xl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xe(ut,ut.current&1|2),t.child}e=e.sibling}i.tail!==null&&bt()>al&&(t.flags|=128,r=!0,Xl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Mh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ot)return Kt(t),null}else 2*bt()-i.renderingStartTime>al&&n!==1073741824&&(t.flags|=128,r=!0,Xl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=bt(),t.sibling=null,n=ut.current,Xe(ut,r?n&1|2:n&1),t):(Kt(t),null);case 22:case 23:return Wx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rn&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function M$(e,t){switch(kx(t),t.tag){case 1:return kn(t.type)&&Th(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(),nt(jn),nt(tn),Ix(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ox(t),null;case 13:if(nt(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ut),null;case 4:return il(),null;case 10:return Nx(t.type._context),null;case 22:case 23:return Wx(),null;case 24:return null;default:return null}}var ld=!1,Yt=!1,D$=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ja(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(e,t,r)}else n.current=null}function uv(e,t,n){try{n()}catch(r){xt(e,t,r)}}var i_=!1;function L$(e,t){if(Gg=jh,e=iC(),Sx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kg={focusedElem:e,selectionRange:n},jh=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,_=w.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Sr(t.type,m),_);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(S){xt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return w=i_,i_=!1,w}function Sc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&uv(t,n,i)}s=s.next}while(s!==r)}}function Df(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tT(e){var t=e.alternate;t!==null&&(e.alternate=null,tT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Gc],delete t[Qg],delete t[x$],delete t[w$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nT(e){return e.tag===5||e.tag===3||e.tag===4}function o_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ch));else if(r!==4&&(e=e.child,e!==null))for(hv(e,t,n),e=e.sibling;e!==null;)hv(e,t,n),e=e.sibling}function fv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fv(e,t,n),e=e.sibling;e!==null;)fv(e,t,n),e=e.sibling}var Bt=null,Tr=!1;function Gs(e,t,n){for(n=n.child;n!==null;)rT(e,t,n),n=n.sibling}function rT(e,t,n){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(Tf,n)}catch{}switch(n.tag){case 5:Yt||ja(n,t);case 6:var r=Bt,s=Tr;Bt=null,Gs(e,t,n),Bt=r,Tr=s,Bt!==null&&(Tr?(e=Bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(Tr?(e=Bt,n=n.stateNode,e.nodeType===8?am(e.parentNode,n):e.nodeType===1&&am(e,n),Bc(e)):am(Bt,n.stateNode));break;case 4:r=Bt,s=Tr,Bt=n.stateNode.containerInfo,Tr=!0,Gs(e,t,n),Bt=r,Tr=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&uv(n,t,o),s=s.next}while(s!==r)}Gs(e,t,n);break;case 1:if(!Yt&&(ja(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xt(n,t,l)}Gs(e,t,n);break;case 21:Gs(e,t,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,Gs(e,t,n),Yt=r):Gs(e,t,n);break;default:Gs(e,t,n)}}function a_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new D$),t.forEach(function(r){var s=H$.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bt=l.stateNode,Tr=!1;break e;case 3:Bt=l.stateNode.containerInfo,Tr=!0;break e;case 4:Bt=l.stateNode.containerInfo,Tr=!0;break e}l=l.return}if(Bt===null)throw Error(Q(160));rT(i,o,s),Bt=null,Tr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sT(t,e),t=t.sibling}function sT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mr(t,e),Hr(e),r&4){try{Sc(3,e,e.return),Df(3,e)}catch(m){xt(e,e.return,m)}try{Sc(5,e,e.return)}catch(m){xt(e,e.return,m)}}break;case 1:mr(t,e),Hr(e),r&512&&n!==null&&ja(n,n.return);break;case 5:if(mr(t,e),Hr(e),r&512&&n!==null&&ja(n,n.return),e.flags&32){var s=e.stateNode;try{$c(s,"")}catch(m){xt(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&EE(s,i),Lg(l,o);var u=Lg(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?PE(s,h):d==="dangerouslySetInnerHTML"?NE(s,h):d==="children"?$c(s,h):ux(s,d,h,u)}switch(l){case"input":Rg(s,i);break;case"textarea":CE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ra(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ra(s,!!i.multiple,i.defaultValue,!0):Ra(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gc]=i}catch(m){xt(e,e.return,m)}}break;case 6:if(mr(t,e),Hr(e),r&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){xt(e,e.return,m)}}break;case 3:if(mr(t,e),Hr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bc(t.containerInfo)}catch(m){xt(e,e.return,m)}break;case 4:mr(t,e),Hr(e);break;case 13:mr(t,e),Hr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zx=bt())),r&4&&a_(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||d,mr(t,e),Yt=u):mr(t,e),Hr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(h=ae=d;ae!==null;){switch(f=ae,p=f.child,f.tag){case 0:case 11:case 14:case 15:Sc(4,f,f.return);break;case 1:ja(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(m){xt(r,n,m)}}break;case 5:ja(f,f.return);break;case 22:if(f.memoizedState!==null){c_(h);continue}}p!==null?(p.return=f,ae=p):c_(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=AE("display",o))}catch(m){xt(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){xt(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mr(t,e),Hr(e),r&4&&a_(e);break;case 21:break;default:mr(t,e),Hr(e)}}function Hr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nT(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($c(s,""),r.flags&=-33);var i=o_(e);fv(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=o_(e);hv(e,l,o);break;default:throw Error(Q(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $$(e,t,n){ae=e,iT(e)}function iT(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ld;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=ld;var u=Yt;if(ld=o,(Yt=c)&&!u)for(ae=s;ae!==null;)o=ae,c=o.child,o.tag===22&&o.memoizedState!==null?u_(s):c!==null?(c.return=o,ae=c):u_(s);for(;i!==null;)ae=i,iT(i),i=i.sibling;ae=s,ld=l,Yt=u}l_(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):l_(e)}}function l_(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Df(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Sr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hb(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hb(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Yt||t.flags&512&&dv(t)}catch(f){xt(t,t.return,f)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function c_(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function u_(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Df(4,t)}catch(c){xt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){xt(t,s,c)}}var i=t.return;try{dv(t)}catch(c){xt(t,i,c)}break;case 5:var o=t.return;try{dv(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ae=l;break}ae=t.return}}var F$=Math.ceil,$h=$s.ReactCurrentDispatcher,Vx=$s.ReactCurrentOwner,rr=$s.ReactCurrentBatchConfig,De=0,Lt=null,Et=null,qt=0,Rn=0,ka=Ui(0),Rt=0,Zc=null,Po=0,Lf=0,Bx=0,jc=null,_n=null,zx=0,al=1/0,ys=null,Fh=!1,pv=null,ji=null,cd=!1,gi=null,Uh=0,kc=0,mv=null,Xd=-1,Zd=0;function gn(){return De&6?bt():Xd!==-1?Xd:Xd=bt()}function ki(e){return e.mode&1?De&2&&qt!==0?qt&-qt:_$.transition!==null?(Zd===0&&(Zd=zE()),Zd):(e=qe,e!==0||(e=window.event,e=e===void 0?16:YE(e.type)),e):1}function Rr(e,t,n,r){if(50<kc)throw kc=0,mv=null,Error(Q(185));ku(e,n,r),(!(De&2)||e!==Lt)&&(e===Lt&&(!(De&2)&&(Lf|=n),Rt===4&&ai(e,qt)),En(e,r),n===1&&De===0&&!(t.mode&1)&&(al=bt()+500,Of&&Vi()))}function En(e,t){var n=e.callbackNode;_L(e,t);var r=Sh(e,e===Lt?qt:0);if(r===0)n!==null&&xb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xb(n),t===1)e.tag===0?b$(d_.bind(null,e)):mC(d_.bind(null,e)),v$(function(){!(De&6)&&Vi()}),n=null;else{switch(qE(r)){case 1:n=mx;break;case 4:n=VE;break;case 16:n=_h;break;case 536870912:n=BE;break;default:n=_h}n=fT(n,oT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oT(e,t){if(Xd=-1,Zd=0,De&6)throw Error(Q(327));var n=e.callbackNode;if(La()&&e.callbackNode!==n)return null;var r=Sh(e,e===Lt?qt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vh(e,r);else{t=r;var s=De;De|=2;var i=lT();(Lt!==e||qt!==t)&&(ys=null,al=bt()+500,bo(e,t));do try{B$();break}catch(l){aT(e,l)}while(!0);Tx(),$h.current=i,De=s,Et!==null?t=0:(Lt=null,qt=0,t=Rt)}if(t!==0){if(t===2&&(s=Bg(e),s!==0&&(r=s,t=gv(e,s))),t===1)throw n=Zc,bo(e,0),ai(e,r),En(e,bt()),n;if(t===6)ai(e,r);else{if(s=e.current.alternate,!(r&30)&&!U$(s)&&(t=Vh(e,r),t===2&&(i=Bg(e),i!==0&&(r=i,t=gv(e,i))),t===1))throw n=Zc,bo(e,0),ai(e,r),En(e,bt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:no(e,_n,ys);break;case 3:if(ai(e,r),(r&130023424)===r&&(t=zx+500-bt(),10<t)){if(Sh(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){gn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yg(no.bind(null,e,_n,ys),t);break}no(e,_n,ys);break;case 4:if(ai(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Pr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F$(r/1960))-r,10<r){e.timeoutHandle=Yg(no.bind(null,e,_n,ys),r);break}no(e,_n,ys);break;case 5:no(e,_n,ys);break;default:throw Error(Q(329))}}}return En(e,bt()),e.callbackNode===n?oT.bind(null,e):null}function gv(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(bo(e,t).flags|=256),e=Vh(e,t),e!==2&&(t=_n,_n=n,t!==null&&vv(t)),e}function vv(e){_n===null?_n=e:_n.push.apply(_n,e)}function U$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ai(e,t){for(t&=~Bx,t&=~Lf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pr(t),r=1<<n;e[n]=-1,t&=~r}}function d_(e){if(De&6)throw Error(Q(327));La();var t=Sh(e,0);if(!(t&1))return En(e,bt()),null;var n=Vh(e,t);if(e.tag!==0&&n===2){var r=Bg(e);r!==0&&(t=r,n=gv(e,r))}if(n===1)throw n=Zc,bo(e,0),ai(e,t),En(e,bt()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,no(e,_n,ys),En(e,bt()),null}function qx(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(al=bt()+500,Of&&Vi())}}function Ro(e){gi!==null&&gi.tag===0&&!(De&6)&&La();var t=De;De|=1;var n=rr.transition,r=qe;try{if(rr.transition=null,qe=1,e)return e()}finally{qe=r,rr.transition=n,De=t,!(De&6)&&Vi()}}function Wx(){Rn=ka.current,nt(ka)}function bo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,g$(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(kx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Th();break;case 3:il(),nt(jn),nt(tn),Ix();break;case 5:Ox(r);break;case 4:il();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:Nx(r.type._context);break;case 22:case 23:Wx()}n=n.return}if(Lt=e,Et=e=Ei(e.current,null),qt=Rn=t,Rt=0,Zc=null,Bx=Lf=Po=0,_n=jc=null,lo!==null){for(t=0;t<lo.length;t++)if(n=lo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}lo=null}return e}function aT(e,t){do{var n=Et;try{if(Tx(),Jd.current=Lh,Dh){for(var r=pt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dh=!1}if(Ao=0,Mt=At=pt=null,_c=!1,Yc=0,Vx.current=null,n===null||n.return===null){Rt=1,Zc=t,Et=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xb(o);if(p!==null){p.flags&=-257,Zb(p,o,l,i,t),p.mode&1&&Qb(i,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var m=new Set;m.add(c),t.updateQueue=m}else w.add(c);break e}else{if(!(t&1)){Qb(i,u,t),Hx();break e}c=Error(Q(426))}}else if(ot&&l.mode&1){var _=Xb(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Zb(_,o,l,i,t),Ex(ol(c,l));break e}}i=c=ol(c,l),Rt!==4&&(Rt=2),jc===null?jc=[i]:jc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=qC(i,c,t);Wb(i,y);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ji===null||!ji.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=WC(i,l,t);Wb(i,S);break e}}i=i.return}while(i!==null)}uT(n)}catch(E){t=E,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function lT(){var e=$h.current;return $h.current=Lh,e===null?Lh:e}function Hx(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Lt===null||!(Po&268435455)&&!(Lf&268435455)||ai(Lt,qt)}function Vh(e,t){var n=De;De|=2;var r=lT();(Lt!==e||qt!==t)&&(ys=null,bo(e,t));do try{V$();break}catch(s){aT(e,s)}while(!0);if(Tx(),De=n,$h.current=r,Et!==null)throw Error(Q(261));return Lt=null,qt=0,Rt}function V$(){for(;Et!==null;)cT(Et)}function B$(){for(;Et!==null&&!fL();)cT(Et)}function cT(e){var t=hT(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?uT(e):Et=t,Vx.current=null}function uT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=M$(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Et=null;return}}else if(n=I$(n,t,Rn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Rt===0&&(Rt=5)}function no(e,t,n){var r=qe,s=rr.transition;try{rr.transition=null,qe=1,z$(e,t,n,r)}finally{rr.transition=s,qe=r}return null}function z$(e,t,n,r){do La();while(gi!==null);if(De&6)throw Error(Q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(SL(e,i),e===Lt&&(Et=Lt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cd||(cd=!0,fT(_h,function(){return La(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rr.transition,rr.transition=null;var o=qe;qe=1;var l=De;De|=4,Vx.current=null,L$(e,n),sT(n,e),c$(Kg),jh=!!Gg,Kg=Gg=null,e.current=n,$$(n),pL(),De=l,qe=o,rr.transition=i}else e.current=n;if(cd&&(cd=!1,gi=e,Uh=s),i=e.pendingLanes,i===0&&(ji=null),vL(n.stateNode),En(e,bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fh)throw Fh=!1,e=pv,pv=null,e;return Uh&1&&e.tag!==0&&La(),i=e.pendingLanes,i&1?e===mv?kc++:(kc=0,mv=e):kc=0,Vi(),null}function La(){if(gi!==null){var e=qE(Uh),t=rr.transition,n=qe;try{if(rr.transition=null,qe=16>e?16:e,gi===null)var r=!1;else{if(e=gi,gi=null,Uh=0,De&6)throw Error(Q(331));var s=De;for(De|=4,ae=e.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Sc(8,d,i)}var h=d.child;if(h!==null)h.return=d,ae=h;else for(;ae!==null;){d=ae;var f=d.sibling,p=d.return;if(tT(d),d===u){ae=null;break}if(f!==null){f.return=p,ae=f;break}ae=p}}}var w=i.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ae=y;break e}ae=i.return}}var x=e.current;for(ae=x;ae!==null;){o=ae;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ae=b;else e:for(o=x;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Df(9,l)}}catch(E){xt(l,l.return,E)}if(l===o){ae=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ae=S;break e}ae=l.return}}if(De=s,Vi(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(Tf,e)}catch{}r=!0}return r}finally{qe=n,rr.transition=t}}return!1}function h_(e,t,n){t=ol(n,t),t=qC(e,t,1),e=Si(e,t,1),t=gn(),e!==null&&(ku(e,1,t),En(e,t))}function xt(e,t,n){if(e.tag===3)h_(e,e,n);else for(;t!==null;){if(t.tag===3){h_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){e=ol(n,e),e=WC(t,e,1),t=Si(t,e,1),e=gn(),t!==null&&(ku(t,1,e),En(t,e));break}}t=t.return}}function q$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gn(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(qt&n)===n&&(Rt===4||Rt===3&&(qt&130023424)===qt&&500>bt()-zx?bo(e,0):Bx|=n),En(e,t)}function dT(e,t){t===0&&(e.mode&1?(t=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):t=1);var n=gn();e=Rs(e,t),e!==null&&(ku(e,t,n),En(e,n))}function W$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dT(e,n)}function H$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),dT(e,n)}var hT;hT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jn.current)Sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Sn=!1,O$(e,t,n);Sn=!!(e.flags&131072)}else Sn=!1,ot&&t.flags&1048576&&gC(t,Ph,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qd(e,t),e=t.pendingProps;var s=nl(t,tn.current);Da(t,n),s=Dx(null,t,r,e,s,n);var i=Lx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kn(r)?(i=!0,Nh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Px(t),s.updater=Mf,t.stateNode=s,s._reactInternals=t,rv(t,r,e,n),t=ov(null,t,r,!0,i,n)):(t.tag=0,ot&&i&&jx(t),un(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=K$(r),e=Sr(r,e),s){case 0:t=iv(null,t,r,e,n);break e;case 1:t=n_(null,t,r,e,n);break e;case 11:t=e_(null,t,r,e,n);break e;case 14:t=t_(null,t,r,Sr(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sr(r,s),iv(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sr(r,s),n_(e,t,r,s,n);case 3:e:{if(JC(t),e===null)throw Error(Q(387));r=t.pendingProps,i=t.memoizedState,s=i.element,_C(e,t),Ih(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ol(Error(Q(423)),t),t=r_(e,t,r,n,s);break e}else if(r!==s){s=ol(Error(Q(424)),t),t=r_(e,t,r,n,s);break e}else for(Ln=_i(t.stateNode.containerInfo.firstChild),Fn=t,ot=!0,Ar=null,n=wC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===s){t=Os(e,t,n);break e}un(e,t,r,n)}t=t.child}return t;case 5:return SC(t),e===null&&ev(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Jg(r,s)?o=null:i!==null&&Jg(r,i)&&(t.flags|=32),KC(e,t),un(e,t,o,n),t.child;case 6:return e===null&&ev(t),null;case 13:return YC(e,t,n);case 4:return Rx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sl(t,null,r,n):un(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sr(r,s),e_(e,t,r,s,n);case 7:return un(e,t,t.pendingProps,n),t.child;case 8:return un(e,t,t.pendingProps.children,n),t.child;case 12:return un(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Xe(Rh,r._currentValue),r._currentValue=o,i!==null)if(Mr(i.value,o)){if(i.children===s.children&&!jn.current){t=Os(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ts(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),tv(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),tv(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}un(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Da(t,n),s=or(s),r=r(s),t.flags|=1,un(e,t,r,n),t.child;case 14:return r=t.type,s=Sr(r,t.pendingProps),s=Sr(r.type,s),t_(e,t,r,s,n);case 15:return HC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sr(r,s),Qd(e,t),t.tag=1,kn(r)?(e=!0,Nh(t)):e=!1,Da(t,n),zC(t,r,s),rv(t,r,s,n),ov(null,t,r,!0,e,n);case 19:return QC(e,t,n);case 22:return GC(e,t,n)}throw Error(Q(156,t.tag))};function fT(e,t){return UE(e,t)}function G$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,t,n,r){return new G$(e,t,n,r)}function Gx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K$(e){if(typeof e=="function")return Gx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hx)return 11;if(e===fx)return 14}return 2}function Ei(e,t){var n=e.alternate;return n===null?(n=er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eh(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Gx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ma:return _o(n.children,s,i,t);case dx:o=8,s|=8;break;case Cg:return e=er(12,n,t,s|2),e.elementType=Cg,e.lanes=i,e;case Tg:return e=er(13,n,t,s),e.elementType=Tg,e.lanes=i,e;case Ng:return e=er(19,n,t,s),e.elementType=Ng,e.lanes=i,e;case SE:return $f(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bE:o=10;break e;case _E:o=9;break e;case hx:o=11;break e;case fx:o=14;break e;case ni:o=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=er(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function _o(e,t,n,r){return e=er(7,e,r,t),e.lanes=n,e}function $f(e,t,n,r){return e=er(22,e,r,t),e.elementType=SE,e.lanes=n,e.stateNode={isHidden:!1},e}function mm(e,t,n){return e=er(6,e,null,t),e.lanes=n,e}function gm(e,t,n){return t=er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J$(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kx(e,t,n,r,s,i,o,l,c){return e=new J$(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=er(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Px(i),e}function Y$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pT(e){if(!e)return Pi;e=e._reactInternals;e:{if(Go(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(kn(n))return pC(e,n,t)}return t}function mT(e,t,n,r,s,i,o,l,c){return e=Kx(n,r,!0,e,s,i,o,l,c),e.context=pT(null),n=e.current,r=gn(),s=ki(n),i=Ts(r,s),i.callback=t??null,Si(n,i,s),e.current.lanes=s,ku(e,s,r),En(e,r),e}function Ff(e,t,n,r){var s=t.current,i=gn(),o=ki(s);return n=pT(n),t.context===null?t.context=n:t.pendingContext=n,t=Ts(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Si(s,t,o),e!==null&&(Rr(e,s,o,i),Kd(e,s,o)),o}function Bh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function f_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jx(e,t){f_(e,t),(e=e.alternate)&&f_(e,t)}function Q$(){return null}var gT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yx(e){this._internalRoot=e}Uf.prototype.render=Yx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Ff(e,t,null,null)};Uf.prototype.unmount=Yx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ro(function(){Ff(null,e,null,null)}),t[Ps]=null}};function Uf(e){this._internalRoot=e}Uf.prototype.unstable_scheduleHydration=function(e){if(e){var t=GE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oi.length&&t!==0&&t<oi[n].priority;n++);oi.splice(n,0,e),n===0&&JE(e)}};function Qx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function p_(){}function X$(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Bh(o);i.call(u)}}var o=mT(t,r,e,0,null,!1,!1,"",p_);return e._reactRootContainer=o,e[Ps]=o.current,Wc(e.nodeType===8?e.parentNode:e),Ro(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Bh(c);l.call(u)}}var c=Kx(e,0,!1,null,null,!1,!1,"",p_);return e._reactRootContainer=c,e[Ps]=c.current,Wc(e.nodeType===8?e.parentNode:e),Ro(function(){Ff(t,c,n,r)}),c}function Bf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Bh(o);l.call(c)}}Ff(t,o,e,s)}else o=X$(n,t,e,s,r);return Bh(o)}WE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ac(t.pendingLanes);n!==0&&(gx(t,n|1),En(t,bt()),!(De&6)&&(al=bt()+500,Vi()))}break;case 13:Ro(function(){var r=Rs(e,1);if(r!==null){var s=gn();Rr(r,e,1,s)}}),Jx(e,1)}};vx=function(e){if(e.tag===13){var t=Rs(e,134217728);if(t!==null){var n=gn();Rr(t,e,134217728,n)}Jx(e,134217728)}};HE=function(e){if(e.tag===13){var t=ki(e),n=Rs(e,t);if(n!==null){var r=gn();Rr(n,e,t,r)}Jx(e,t)}};GE=function(){return qe};KE=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};Fg=function(e,t,n){switch(t){case"input":if(Rg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Rf(r);if(!s)throw Error(Q(90));kE(r),Rg(r,s)}}}break;case"textarea":CE(e,n);break;case"select":t=n.value,t!=null&&Ra(e,!!n.multiple,t,!1)}};IE=qx;ME=Ro;var Z$={usingClientEntryPoint:!1,Events:[Cu,xa,Rf,RE,OE,qx]},Zl={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e4={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$E(e),e===null?null:e.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||Q$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{Tf=ud.inject(e4),ss=ud}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z$;Bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qx(t))throw Error(Q(200));return Y$(e,t,null,n)};Bn.createRoot=function(e,t){if(!Qx(e))throw Error(Q(299));var n=!1,r="",s=gT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kx(e,1,!1,null,null,n,!1,r,s),e[Ps]=t.current,Wc(e.nodeType===8?e.parentNode:e),new Yx(t)};Bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=$E(t),e=e===null?null:e.stateNode,e};Bn.flushSync=function(e){return Ro(e)};Bn.hydrate=function(e,t,n){if(!Vf(t))throw Error(Q(200));return Bf(null,e,t,!0,n)};Bn.hydrateRoot=function(e,t,n){if(!Qx(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=gT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mT(t,null,e,1,n??null,s,!1,i,o),e[Ps]=t.current,Wc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Uf(t)};Bn.render=function(e,t,n){if(!Vf(t))throw Error(Q(200));return Bf(null,e,t,!1,n)};Bn.unmountComponentAtNode=function(e){if(!Vf(e))throw Error(Q(40));return e._reactRootContainer?(Ro(function(){Bf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ps]=null})}),!0):!1};Bn.unstable_batchedUpdates=qx;Bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vf(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Bf(e,t,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function vT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vT)}catch(e){console.error(e)}}vT(),vE.exports=Bn;var Ko=vE.exports;const yT=iE(Ko);var xT,m_=Ko;xT=m_.createRoot,m_.hydrateRoot;const t4=1,n4=1e6;let vm=0;function r4(){return vm=(vm+1)%Number.MAX_SAFE_INTEGER,vm.toString()}const ym=new Map,g_=e=>{if(ym.has(e))return;const t=setTimeout(()=>{ym.delete(e),Ec({type:"REMOVE_TOAST",toastId:e})},n4);ym.set(e,t)},s4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,t4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?g_(n):e.toasts.forEach(r=>{g_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},th=[];let nh={toasts:[]};function Ec(e){nh=s4(nh,e),th.forEach(t=>{t(nh)})}function i4({...e}){const t=r4(),n=s=>Ec({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ec({type:"DISMISS_TOAST",toastId:t});return Ec({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Bi(){const[e,t]=g.useState(nh);return g.useEffect(()=>(th.push(t),()=>{const n=th.indexOf(t);n>-1&&th.splice(n,1)}),[e]),{...e,toast:i4,dismiss:n=>Ec({type:"DISMISS_TOAST",toastId:n})}}function le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function v_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wT(...e){return t=>{let n=!1;const r=e.map(s=>{const i=v_(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():v_(e[s],null)}}}}function Ce(...e){return g.useCallback(wT(...e),e)}function o4(e,t){const n=g.createContext(t),r=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function wn(e,t=[]){let n=[];function r(i,o){const l=g.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:p,...w}=h,m=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,_=g.useMemo(()=>w,Object.values(w));return a.jsx(m.Provider,{value:_,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[e])==null?void 0:m[c])||l,w=g.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,a4(s,...t)]}function a4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ll(e){const t=c4(e),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,l=g.Children.toArray(i),c=l.find(u4);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var l4=ll("Slot");function c4(e){const t=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=h4(s),l=d4(i,s.props);return s.type!==g.Fragment&&(l.ref=r?wT(r,o):o),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bT=Symbol("radix.slottable");function _T(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=bT,t}function u4(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bT}function d4(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function h4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function zf(e){const t=e+"CollectionProvider",[n,r]=wn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:_,children:y}=m,x=J.useRef(null),b=J.useRef(new Map).current;return a.jsx(s,{scope:_,itemMap:b,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=ll(l),u=J.forwardRef((m,_)=>{const{scope:y,children:x}=m,b=i(l,y),S=Ce(_,b.collectionRef);return a.jsx(c,{ref:S,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=ll(d),p=J.forwardRef((m,_)=>{const{scope:y,children:x,...b}=m,S=J.useRef(null),E=Ce(_,S),C=i(d,y);return J.useEffect(()=>(C.itemMap.set(S,{ref:S,...b}),()=>void C.itemMap.delete(S))),a.jsx(f,{[h]:"",ref:E,children:x})});p.displayName=d;function w(m){const _=i(e+"CollectionConsumer",m);return J.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((C,T)=>b.indexOf(C.ref.current)-b.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,r]}var f4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=f4.reduce((e,t)=>{const n=ll(`Primitive.${t}`),r=g.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ST(e,t){e&&Ko.flushSync(()=>e.dispatchEvent(t))}function Pt(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function p4(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var m4="DismissableLayer",yv="dismissableLayer.update",g4="dismissableLayer.pointerDownOutside",v4="dismissableLayer.focusOutside",y_,jT=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nu=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(jT),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),w=Ce(t,T=>h(T)),m=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(_),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,E=x4(T=>{const R=T.target,O=[...u.branches].some(D=>D.contains(R));!S||O||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},f),C=w4(T=>{const R=T.target;[...u.branches].some(D=>D.contains(R))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},f);return p4(T=>{x===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},f),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),x_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=y_)}},[d,f,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),x_())},[d,u]),g.useEffect(()=>{const T=()=>p({});return document.addEventListener(yv,T),()=>document.removeEventListener(yv,T)},[]),a.jsx(pe.div,{...c,ref:w,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,C.onFocusCapture),onBlurCapture:le(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,E.onPointerDownCapture)})});Nu.displayName=m4;var y4="DismissableLayerBranch",kT=g.forwardRef((e,t)=>{const n=g.useContext(jT),r=g.useRef(null),s=Ce(t,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(pe.div,{...e,ref:s})});kT.displayName=y4;function x4(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){ET(g4,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function w4(e,t=globalThis==null?void 0:globalThis.document){const n=Pt(e),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&ET(v4,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function x_(){const e=new CustomEvent(yv);document.dispatchEvent(e)}function ET(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ST(s,i):s.dispatchEvent(i)}var b4=Nu,_4=kT,Ot=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},S4="Portal",qf=g.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=g.useState(!1);Ot(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yT.createPortal(a.jsx(pe.div,{...r,ref:t}),o):null});qf.displayName=S4;function j4(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Cn=e=>{const{present:t,children:n}=e,r=k4(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ce(r.ref,E4(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Cn.displayName="Presence";function k4(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=j4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=dd(r.current);i.current=l==="mounted"?u:"none"},[l]),Ot(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,p=dd(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ot(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const m=dd(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},f=p=>{p.target===t&&(i.current=dd(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function dd(e){return(e==null?void 0:e.animationName)||"none"}function E4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var C4=ax[" useInsertionEffect ".trim().toString()]||Ot;function lr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=T4({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var h;if(l){const f=N4(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,e,i,o]);return[c,u]}function T4({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),i=g.useRef(t);return C4(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function N4(e){return typeof e=="function"}var CT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),A4="VisuallyHidden",Wf=g.forwardRef((e,t)=>a.jsx(pe.span,{...e,ref:t,style:{...CT,...e.style}}));Wf.displayName=A4;var P4=Wf,Xx="ToastProvider",[Zx,R4,O4]=zf("Toast"),[TT,OX]=wn("Toast",[O4]),[I4,Hf]=TT(Xx),NT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xx}\`. Expected non-empty \`string\`.`),a.jsx(Zx.Provider,{scope:t,children:a.jsx(I4,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};NT.displayName=Xx;var AT="ToastViewport",M4=["F8"],xv="toast.viewportPause",wv="toast.viewportResume",PT=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=M4,label:s="Notifications ({hotkey})",...i}=e,o=Hf(AT,n),l=R4(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=Ce(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;g.useEffect(()=>{const _=y=>{var b;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),g.useEffect(()=>{const _=c.current,y=h.current;if(w&&_&&y){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(xv);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(wv);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!_.contains(C.relatedTarget)&&b()},E=()=>{_.contains(document.activeElement)||b()};return _.addEventListener("focusin",x),_.addEventListener("focusout",S),_.addEventListener("pointermove",x),_.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{_.removeEventListener("focusin",x),_.removeEventListener("focusout",S),_.removeEventListener("pointermove",x),_.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[w,o.isClosePausedRef]);const m=g.useCallback(({tabbingDirection:_})=>{const x=l().map(b=>{const S=b.ref.current,E=[S,...K4(S)];return _==="forwards"?E:E.reverse()});return(_==="forwards"?x.reverse():x).flat()},[l]);return g.useEffect(()=>{const _=h.current;if(_){const y=x=>{var E,C,T;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const R=document.activeElement,O=x.shiftKey;if(x.target===_&&O){(E=u.current)==null||E.focus();return}const M=m({tabbingDirection:O?"backwards":"forwards"}),q=M.findIndex(F=>F===R);xm(M.slice(q+1))?x.preventDefault():O?(C=u.current)==null||C.focus():(T=d.current)==null||T.focus()}};return _.addEventListener("keydown",y),()=>_.removeEventListener("keydown",y)}},[l,m]),a.jsxs(_4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(bv,{ref:u,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"forwards"});xm(_)}}),a.jsx(Zx.Slot,{scope:n,children:a.jsx(pe.ol,{tabIndex:-1,...i,ref:f})}),w&&a.jsx(bv,{ref:d,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"backwards"});xm(_)}})]})});PT.displayName=AT;var RT="ToastFocusProxy",bv=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Hf(RT,n);return a.jsx(Wf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});bv.displayName=RT;var Au="Toast",D4="toast.swipeStart",L4="toast.swipeMove",$4="toast.swipeCancel",F4="toast.swipeEnd",OT=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=lr({prop:r,defaultProp:s??!0,onChange:i,caller:Au});return a.jsx(Cn,{present:n||l,children:a.jsx(B4,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Pt(e.onPause),onResume:Pt(e.onResume),onSwipeStart:le(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:le(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});OT.displayName=Au;var[U4,V4]=TT(Au,{onClose(){}}),B4=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...w}=e,m=Hf(Au,n),[_,y]=g.useState(null),x=Ce(t,F=>y(F)),b=g.useRef(null),S=g.useRef(null),E=s||m.duration,C=g.useRef(0),T=g.useRef(E),R=g.useRef(0),{onToastAdd:O,onToastRemove:D}=m,A=Pt(()=>{var Z;(_==null?void 0:_.contains(document.activeElement))&&((Z=m.viewport)==null||Z.focus()),o()}),M=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(R.current),C.current=new Date().getTime(),R.current=window.setTimeout(A,F))},[A]);g.useEffect(()=>{const F=m.viewport;if(F){const Z=()=>{M(T.current),u==null||u()},U=()=>{const B=new Date().getTime()-C.current;T.current=T.current-B,window.clearTimeout(R.current),c==null||c()};return F.addEventListener(xv,U),F.addEventListener(wv,Z),()=>{F.removeEventListener(xv,U),F.removeEventListener(wv,Z)}}},[m.viewport,E,c,u,M]),g.useEffect(()=>{i&&!m.isClosePausedRef.current&&M(E)},[i,E,m.isClosePausedRef,M]),g.useEffect(()=>(O(),()=>D()),[O,D]);const q=g.useMemo(()=>_?UT(_):null,[_]);return m.viewport?a.jsxs(a.Fragment,{children:[q&&a.jsx(z4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),a.jsx(U4,{scope:n,onClose:A,children:Ko.createPortal(a.jsx(Zx.ItemSlot,{scope:n,children:a.jsx(b4,{asChild:!0,onEscapeKeyDown:le(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||A(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...w,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:le(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:le(e.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:le(e.onPointerMove,F=>{if(!b.current)return;const Z=F.clientX-b.current.x,U=F.clientY-b.current.y,B=!!S.current,I=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,K=I?$(0,Z):0,ie=I?0:$(0,U),Y=F.pointerType==="touch"?10:2,v={x:K,y:ie},k={originalEvent:F,delta:v};B?(S.current=v,hd(L4,h,k,{discrete:!1})):w_(v,m.swipeDirection,Y)?(S.current=v,hd(D4,d,k,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(Z)>Y||Math.abs(U)>Y)&&(b.current=null)}),onPointerUp:le(e.onPointerUp,F=>{const Z=S.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),S.current=null,b.current=null,Z){const B=F.currentTarget,I={originalEvent:F,delta:Z};w_(Z,m.swipeDirection,m.swipeThreshold)?hd(F4,p,I,{discrete:!0}):hd($4,f,I,{discrete:!0}),B.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),z4=e=>{const{__scopeToast:t,children:n,...r}=e,s=Hf(Au,t),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return H4(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(qf,{asChild:!0,children:a.jsx(Wf,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},q4="ToastTitle",IT=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});IT.displayName=q4;var W4="ToastDescription",MT=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});MT.displayName=W4;var DT="ToastAction",LT=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(FT,{altText:n,asChild:!0,children:a.jsx(ew,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${DT}\`. Expected non-empty \`string\`.`),null)});LT.displayName=DT;var $T="ToastClose",ew=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=V4($T,n);return a.jsx(FT,{asChild:!0,children:a.jsx(pe.button,{type:"button",...r,ref:t,onClick:le(e.onClick,s.onClose)})})});ew.displayName=$T;var FT=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function UT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),G4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...UT(r))}}),t}function hd(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ST(s,i):s.dispatchEvent(i)}var w_=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function H4(e=()=>{}){const t=Pt(e);Ot(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function G4(e){return e.nodeType===e.ELEMENT_NODE}function K4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var J4=NT,VT=PT,BT=OT,zT=IT,qT=MT,WT=LT,HT=ew;function GT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=GT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function KT(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=GT(e))&&(r&&(r+=" "),r+=t);return r}const b_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,__=KT,Gf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return __(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=b_(d)||b_(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(w=>{let[m,_]=w;return Array.isArray(_)?_.includes({...i,...l}[m]):{...i,...l}[m]===_})?[...u,h,f]:u},[]);return __(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JT=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...Q4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:JT("lucide",s),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(X4,{ref:i,iconNode:t,className:JT(`lucide-${Y4(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=me("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=me("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=me("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=me("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=me("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=me("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=me("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=me("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),nw="-",vF=e=>{const t=xF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(nw);return l[0]===""&&l.length!==1&&l.shift(),oN(l,t)||yF(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},oN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?oN(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(nw);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},C_=/^\[(.+)\]$/,yF=e=>{if(C_.test(e)){const t=C_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},xF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return bF(Object.entries(e.classGroups),n).forEach(([i,o])=>{jv(o,r,i,t)}),r},jv=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:T_(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(wF(s)){jv(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{jv(o,T_(t,i),n,r)})})},T_=(e,t)=>{let n=e;return t.split(nw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wF=e=>e.isThemeGetter,bF=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,_F=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},aN="!",SF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let _=0;_<l.length;_++){let y=l[_];if(u===0){if(y===s&&(r||l.slice(_,_+i)===t)){c.push(l.slice(d,_)),d=_+i;continue}if(y==="/"){h=_;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(aN),w=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},jF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},kF=e=>({cache:_F(e.cacheSize),parseClassName:SF(e),...vF(e)}),EF=/\s+/,CF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(EF);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let w=!!p,m=r(w?f.substring(0,p):f);if(!m){if(!w){l=u+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=u+(l.length>0?" "+l:l);continue}w=!1}const _=jF(d).join(":"),y=h?_+aN:_,x=y+m;if(i.includes(x))continue;i.push(x);const b=s(m,w);for(let S=0;S<b.length;++S){const E=b[S];i.push(y+E)}l=u+(l.length>0?" "+l:l)}return l};function TF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=lN(t))&&(r&&(r+=" "),r+=n);return r}const lN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=lN(e[r]))&&(n&&(n+=" "),n+=t);return n};function NF(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=kF(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=CF(c,n);return s(c,d),d}return function(){return i(TF.apply(null,arguments))}}const et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},cN=/^\[(?:([a-z-]+):)?(.+)\]$/i,AF=/^\d+\/\d+$/,PF=new Set(["px","full","screen"]),RF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ms=e=>$a(e)||PF.has(e)||AF.test(e),Ks=e=>Al(e,"length",qF),$a=e=>!!e&&!Number.isNaN(Number(e)),wm=e=>Al(e,"number",$a),ec=e=>!!e&&Number.isInteger(Number(e)),LF=e=>e.endsWith("%")&&$a(e.slice(0,-1)),Ee=e=>cN.test(e),Js=e=>RF.test(e),$F=new Set(["length","size","percentage"]),FF=e=>Al(e,$F,uN),UF=e=>Al(e,"position",uN),VF=new Set(["image","url"]),BF=e=>Al(e,VF,HF),zF=e=>Al(e,"",WF),tc=()=>!0,Al=(e,t,n)=>{const r=cN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},qF=e=>OF.test(e)&&!IF.test(e),uN=()=>!1,WF=e=>MF.test(e),HF=e=>DF.test(e),GF=()=>{const e=et("colors"),t=et("spacing"),n=et("blur"),r=et("brightness"),s=et("borderColor"),i=et("borderRadius"),o=et("borderSpacing"),l=et("borderWidth"),c=et("contrast"),u=et("grayscale"),d=et("hueRotate"),h=et("invert"),f=et("gap"),p=et("gradientColorStops"),w=et("gradientColorStopPositions"),m=et("inset"),_=et("margin"),y=et("opacity"),x=et("padding"),b=et("saturate"),S=et("scale"),E=et("sepia"),C=et("skew"),T=et("space"),R=et("translate"),O=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ee,t],M=()=>[Ee,t],q=()=>["",ms,Ks],F=()=>["auto",$a,Ee],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ee],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[$a,Ee];return{cacheSize:500,separator:":",theme:{colors:[tc],spacing:[ms,Ks],blur:["none","",Js,Ee],brightness:ie(),borderColor:[e],borderRadius:["none","","full",Js,Ee],borderSpacing:M(),borderWidth:q(),contrast:ie(),grayscale:$(),hueRotate:ie(),invert:$(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[LF,Ks],inset:A(),margin:A(),opacity:ie(),padding:M(),saturate:ie(),scale:ie(),sepia:$(),skew:ie(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Js]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Ee]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ec,Ee]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",ec,Ee]}],"grid-cols":[{"grid-cols":[tc]}],"col-start-end":[{col:["auto",{span:["full",ec,Ee]},Ee]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[tc]}],"row-start-end":[{row:["auto",{span:[ec,Ee]},Ee]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[Js]},Js]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Js,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wm]}],"font-family":[{font:[tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",$a,wm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ms,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ms,Ks]}],"underline-offset":[{"underline-offset":["auto",ms,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),UF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ms,Ee]}],"outline-w":[{outline:[ms,Ks]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ms,Ks]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Js,zF]}],"shadow-color":[{shadow:[tc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Js,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ec,Ee]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ms,Ks,wm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KF=NF(GF);function re(...e){return KF(KT(e))}const JF=J4,dN=g.forwardRef(({className:e,...t},n)=>a.jsx(VT,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));dN.displayName=VT.displayName;const YF=Gf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),hN=g.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(BT,{ref:r,className:re(YF({variant:t}),e),...n}));hN.displayName=BT.displayName;const QF=g.forwardRef(({className:e,...t},n)=>a.jsx(WT,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));QF.displayName=WT.displayName;const fN=g.forwardRef(({className:e,...t},n)=>a.jsx(HT,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(dl,{className:"h-4 w-4"})}));fN.displayName=HT.displayName;const pN=g.forwardRef(({className:e,...t},n)=>a.jsx(zT,{ref:n,className:re("text-sm font-semibold",e),...t}));pN.displayName=zT.displayName;const mN=g.forwardRef(({className:e,...t},n)=>a.jsx(qT,{ref:n,className:re("text-sm opacity-90",e),...t}));mN.displayName=qT.displayName;function XF(){const{toasts:e}=Bi();return a.jsxs(JF,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(hN,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(pN,{children:n}),r&&a.jsx(mN,{children:r})]}),s,a.jsx(fN,{})]},t)}),a.jsx(dN,{})]})}var Hh=["light","dark"],rw="(prefers-color-scheme: dark)",ZF=typeof window>"u",sw=g.createContext(void 0),eU={setTheme:e=>{},themes:[]},gN=()=>{var e;return(e=g.useContext(sw))!=null?e:eU},tU=e=>g.useContext(sw)?e.children:g.createElement(rU,{...e}),nU=["light","dark"],rU=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=nU,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[h,f]=g.useState(()=>N_(s,o)),[p,w]=g.useState(()=>N_(s)),m=c?Object.values(c):i,_=g.useCallback(S=>{let E=S;if(!E)return;S==="system"&&n&&(E=A_());let C=c?c[E]:E,T=t?iU():null,R=document.documentElement;if(l==="class"?(R.classList.remove(...m),C&&R.classList.add(C)):C?R.setAttribute(l,C):R.removeAttribute(l),r){let O=Hh.includes(o)?o:null,D=Hh.includes(E)?E:O;R.style.colorScheme=D}T==null||T()},[]),y=g.useCallback(S=>{let E=typeof S=="function"?S(S):S;f(E);try{localStorage.setItem(s,E)}catch{}},[e]),x=g.useCallback(S=>{let E=A_(S);w(E),h==="system"&&n&&!e&&_("system")},[h,e]);g.useEffect(()=>{let S=window.matchMedia(rw);return S.addListener(x),x(S),()=>S.removeListener(x)},[x]),g.useEffect(()=>{let S=E=>{if(E.key!==s)return;let C=E.newValue||o;y(C)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[y]),g.useEffect(()=>{_(e??h)},[e,h]);let b=g.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[h,y,e,p,n,i]);return g.createElement(sw.Provider,{value:b},g.createElement(sU,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:m,nonce:d}),u)},sU=g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Hh.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,m=!1,_=!0)=>{let y=o?o[w]:w,x=m?w+"|| ''":`'${y}'`,b="";return s&&_&&!m&&Hh.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),n==="class"?m||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${rw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),N_=(e,t)=>{if(ZF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},iU=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},A_=e=>(e||(e=window.matchMedia(rw)),e.matches?"dark":"light"),oU=e=>{switch(e){case"success":return cU;case"info":return dU;case"warning":return uU;case"error":return hU;default:return null}},aU=Array(12).fill(0),lU=({visible:e,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},J.createElement("div",{className:"sonner-spinner"},aU.map((n,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),cU=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uU=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dU=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hU=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fU=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pU=()=>{let[e,t]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},kv=1,mU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:kv++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],J.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(vU(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||kv++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bn=new mU,gU=(e,t)=>{let n=(t==null?void 0:t.id)||kv++;return bn.addToast({title:e,...t,id:n}),n},vU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yU=gU,xU=()=>bn.toasts,wU=()=>bn.getActiveToasts();Object.assign(yU,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:xU,getToasts:wU});function bU(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}bU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fd(e){return e.label!==void 0}var _U=3,SU="32px",jU="16px",P_=4e3,kU=356,EU=14,CU=20,TU=200;function gr(...e){return e.filter(Boolean).join(" ")}function NU(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var AU=e=>{var t,n,r,s,i,o,l,c,u,d,h;let{invert:f,toast:p,unstyled:w,interacting:m,setHeights:_,visibleToasts:y,heights:x,index:b,toasts:S,expanded:E,removeToast:C,defaultRichColors:T,closeButton:R,style:O,cancelButtonStyle:D,actionButtonStyle:A,className:M="",descriptionClassName:q="",duration:F,position:Z,gap:U,loadingIcon:B,expandByDefault:I,classNames:$,icons:K,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:Y}=e,[v,k]=J.useState(null),[j,P]=J.useState(null),[N,L]=J.useState(!1),[z,V]=J.useState(!1),[G,ee]=J.useState(!1),[he,Ve]=J.useState(!1),[St,gt]=J.useState(!1),[Le,st]=J.useState(0),[Ct,Tn]=J.useState(0),rn=J.useRef(p.duration||F||P_),Nn=J.useRef(null),$t=J.useRef(null),ps=b===0,Bs=b+1<=y,It=p.type,dr=p.dismissible!==!1,Xo=p.className||"",ql=p.descriptionClassName||"",zs=J.useMemo(()=>x.findIndex(_e=>_e.toastId===p.id)||0,[x,p.id]),Hu=J.useMemo(()=>{var _e;return(_e=p.closeButton)!=null?_e:R},[p.closeButton,R]),ce=J.useMemo(()=>p.duration||F||P_,[p.duration,F]),ue=J.useRef(0),te=J.useRef(0),Oe=J.useRef(0),Ze=J.useRef(null),[sn,Wl]=Z.split("-"),rb=J.useMemo(()=>x.reduce((_e,We,it)=>it>=zs?_e:_e+We.height,0),[x,zs]),sb=pU(),jD=p.invert||f,zp=It==="loading";te.current=J.useMemo(()=>zs*U+rb,[zs,rb]),J.useEffect(()=>{rn.current=ce},[ce]),J.useEffect(()=>{L(!0)},[]),J.useEffect(()=>{let _e=$t.current;if(_e){let We=_e.getBoundingClientRect().height;return Tn(We),_(it=>[{toastId:p.id,height:We,position:p.position},...it]),()=>_(it=>it.filter(hr=>hr.toastId!==p.id))}},[_,p.id]),J.useLayoutEffect(()=>{if(!N)return;let _e=$t.current,We=_e.style.height;_e.style.height="auto";let it=_e.getBoundingClientRect().height;_e.style.height=We,Tn(it),_(hr=>hr.find(fr=>fr.toastId===p.id)?hr.map(fr=>fr.toastId===p.id?{...fr,height:it}:fr):[{toastId:p.id,height:it,position:p.position},...hr])},[N,p.title,p.description,_,p.id]);let qs=J.useCallback(()=>{V(!0),st(te.current),_(_e=>_e.filter(We=>We.toastId!==p.id)),setTimeout(()=>{C(p)},TU)},[p,C,_,te]);J.useEffect(()=>{if(p.promise&&It==="loading"||p.duration===1/0||p.type==="loading")return;let _e;return E||m||Y&&sb?(()=>{if(Oe.current<ue.current){let We=new Date().getTime()-ue.current;rn.current=rn.current-We}Oe.current=new Date().getTime()})():rn.current!==1/0&&(ue.current=new Date().getTime(),_e=setTimeout(()=>{var We;(We=p.onAutoClose)==null||We.call(p,p),qs()},rn.current)),()=>clearTimeout(_e)},[E,m,p,It,Y,sb,qs]),J.useEffect(()=>{p.delete&&qs()},[qs,p.delete]);function kD(){var _e,We,it;return K!=null&&K.loading?J.createElement("div",{className:gr($==null?void 0:$.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":It==="loading"},K.loading):B?J.createElement("div",{className:gr($==null?void 0:$.loader,(We=p==null?void 0:p.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":It==="loading"},B):J.createElement(lU,{className:gr($==null?void 0:$.loader,(it=p==null?void 0:p.classNames)==null?void 0:it.loader),visible:It==="loading"})}return J.createElement("li",{tabIndex:0,ref:$t,className:gr(M,Xo,$==null?void 0:$.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[It],(n=p==null?void 0:p.classNames)==null?void 0:n[It]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:T,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":N,"data-promise":!!p.promise,"data-swiped":St,"data-removed":z,"data-visible":Bs,"data-y-position":sn,"data-x-position":Wl,"data-index":b,"data-front":ps,"data-swiping":G,"data-dismissible":dr,"data-type":It,"data-invert":jD,"data-swipe-out":he,"data-swipe-direction":j,"data-expanded":!!(E||I&&N),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${z?Le:te.current}px`,"--initial-height":I?"auto":`${Ct}px`,...O,...p.style},onDragEnd:()=>{ee(!1),k(null),Ze.current=null},onPointerDown:_e=>{zp||!dr||(Nn.current=new Date,st(te.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(ee(!0),Ze.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,We,it,hr;if(he||!dr)return;Ze.current=null;let fr=Number(((_e=$t.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ws=Number(((We=$t.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gi=new Date().getTime()-((it=Nn.current)==null?void 0:it.getTime()),pr=v==="x"?fr:Ws,Hs=Math.abs(pr)/Gi;if(Math.abs(pr)>=CU||Hs>.11){st(te.current),(hr=p.onDismiss)==null||hr.call(p,p),P(v==="x"?fr>0?"right":"left":Ws>0?"down":"up"),qs(),Ve(!0),gt(!1);return}ee(!1),k(null)},onPointerMove:_e=>{var We,it,hr,fr;if(!Ze.current||!dr||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;let Ws=_e.clientY-Ze.current.y,Gi=_e.clientX-Ze.current.x,pr=(it=e.swipeDirections)!=null?it:NU(Z);!v&&(Math.abs(Gi)>1||Math.abs(Ws)>1)&&k(Math.abs(Gi)>Math.abs(Ws)?"x":"y");let Hs={x:0,y:0};v==="y"?(pr.includes("top")||pr.includes("bottom"))&&(pr.includes("top")&&Ws<0||pr.includes("bottom")&&Ws>0)&&(Hs.y=Ws):v==="x"&&(pr.includes("left")||pr.includes("right"))&&(pr.includes("left")&&Gi<0||pr.includes("right")&&Gi>0)&&(Hs.x=Gi),(Math.abs(Hs.x)>0||Math.abs(Hs.y)>0)&&gt(!0),(hr=$t.current)==null||hr.style.setProperty("--swipe-amount-x",`${Hs.x}px`),(fr=$t.current)==null||fr.style.setProperty("--swipe-amount-y",`${Hs.y}px`)}},Hu&&!p.jsx?J.createElement("button",{"aria-label":ie,"data-disabled":zp,"data-close-button":!0,onClick:zp||!dr?()=>{}:()=>{var _e;qs(),(_e=p.onDismiss)==null||_e.call(p,p)},className:gr($==null?void 0:$.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:fU):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:J.createElement(J.Fragment,null,It||p.icon||p.promise?J.createElement("div",{"data-icon":"",className:gr($==null?void 0:$.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||kD():null,p.type!=="loading"?p.icon||(K==null?void 0:K[It])||oU(It):null):null,J.createElement("div",{"data-content":"",className:gr($==null?void 0:$.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:gr($==null?void 0:$.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?J.createElement("div",{"data-description":"",className:gr(q,ql,$==null?void 0:$.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&fd(p.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:_e=>{var We,it;fd(p.cancel)&&dr&&((it=(We=p.cancel).onClick)==null||it.call(We,_e),qs())},className:gr($==null?void 0:$.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&fd(p.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:_e=>{var We,it;fd(p.action)&&((it=(We=p.action).onClick)==null||it.call(We,_e),!_e.defaultPrevented&&qs())},className:gr($==null?void 0:$.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function R_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function PU(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?jU:SU;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var RU=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:w=_U,toastOptions:m,dir:_=R_(),gap:y=EU,loadingIcon:x,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=e,[C,T]=J.useState([]),R=J.useMemo(()=>Array.from(new Set([r].concat(C.filter(Y=>Y.position).map(Y=>Y.position)))),[C,r]),[O,D]=J.useState([]),[A,M]=J.useState(!1),[q,F]=J.useState(!1),[Z,U]=J.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=J.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=J.useRef(null),K=J.useRef(!1),ie=J.useCallback(Y=>{T(v=>{var k;return(k=v.find(j=>j.id===Y.id))!=null&&k.delete||bn.dismiss(Y.id),v.filter(({id:j})=>j!==Y.id)})},[]);return J.useEffect(()=>bn.subscribe(Y=>{if(Y.dismiss){T(v=>v.map(k=>k.id===Y.id?{...k,delete:!0}:k));return}setTimeout(()=>{yT.flushSync(()=>{T(v=>{let k=v.findIndex(j=>j.id===Y.id);return k!==-1?[...v.slice(0,k),{...v[k],...Y},...v.slice(k+1)]:[Y,...v]})})})}),[]),J.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:v})=>{U(v?"dark":"light")})}catch{Y.addListener(({matches:k})=>{try{U(k?"dark":"light")}catch(j){console.error(j)}})}},[d]),J.useEffect(()=>{C.length<=1&&M(!1)},[C]),J.useEffect(()=>{let Y=v=>{var k,j;s.every(P=>v[P]||v.code===P)&&(M(!0),(k=B.current)==null||k.focus()),v.code==="Escape"&&(document.activeElement===B.current||(j=B.current)!=null&&j.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),J.useEffect(()=>{if(B.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,K.current=!1)}},[B.current]),J.createElement("section",{ref:t,"aria-label":`${S} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((Y,v)=>{var k;let[j,P]=Y.split("-");return C.length?J.createElement("ol",{key:Y,dir:_==="auto"?R_():_,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":j,"data-lifted":A&&C.length>1&&!i,"data-x-position":P,style:{"--front-toast-height":`${((k=O[0])==null?void 0:k.height)||0}px`,"--width":`${kU}px`,"--gap":`${y}px`,...p,...PU(c,u)},onBlur:N=>{K.current&&!N.currentTarget.contains(N.relatedTarget)&&(K.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||K.current||(K.current=!0,$.current=N.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{q||M(!1)},onDragEnd:()=>M(!1),onPointerDown:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},C.filter(N=>!N.position&&v===0||N.position===Y).map((N,L)=>{var z,V;return J.createElement(AU,{key:N.id,icons:b,index:L,toast:N,defaultRichColors:h,duration:(z=m==null?void 0:m.duration)!=null?z:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:w,closeButton:(V=m==null?void 0:m.closeButton)!=null?V:o,interacting:q,position:Y,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ie,toasts:C.filter(G=>G.position==N.position),heights:O.filter(G=>G.position==N.position),setHeights:D,expandByDefault:i,gap:y,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const OU=({...e})=>{const{theme:t="system"}=gN();return a.jsx(RU,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var IU=ax[" useId ".trim().toString()]||(()=>{}),MU=0;function Or(e){const[t,n]=g.useState(IU());return Ot(()=>{n(r=>r??String(MU++))},[e]),t?`radix-${t}`:""}const DU=["top","right","bottom","left"],Ri=Math.min,In=Math.max,Gh=Math.round,pd=Math.floor,os=e=>({x:e,y:e}),LU={left:"right",right:"left",bottom:"top",top:"bottom"},$U={start:"end",end:"start"};function Ev(e,t,n){return In(e,Ri(t,n))}function Ms(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function Pl(e){return e.split("-")[1]}function iw(e){return e==="x"?"y":"x"}function ow(e){return e==="y"?"height":"width"}const FU=new Set(["top","bottom"]);function rs(e){return FU.has(Ds(e))?"y":"x"}function aw(e){return iw(rs(e))}function UU(e,t,n){n===void 0&&(n=!1);const r=Pl(e),s=aw(e),i=ow(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Kh(o)),[o,Kh(o)]}function VU(e){const t=Kh(e);return[Cv(e),t,Cv(t)]}function Cv(e){return e.replace(/start|end/g,t=>$U[t])}const O_=["left","right"],I_=["right","left"],BU=["top","bottom"],zU=["bottom","top"];function qU(e,t,n){switch(e){case"top":case"bottom":return n?t?I_:O_:t?O_:I_;case"left":case"right":return t?BU:zU;default:return[]}}function WU(e,t,n,r){const s=Pl(e);let i=qU(Ds(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Cv)))),i}function Kh(e){return e.replace(/left|right|bottom|top/g,t=>LU[t])}function HU(e){return{top:0,right:0,bottom:0,left:0,...e}}function vN(e){return typeof e!="number"?HU(e):{top:e,right:e,bottom:e,left:e}}function Jh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function M_(e,t,n){let{reference:r,floating:s}=e;const i=rs(t),o=aw(t),l=ow(o),c=Ds(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Pl(t)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const GU=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=M_(u,r,c),f=r,p={},w=0;for(let m=0;m<l.length;m++){const{name:_,fn:y}=l[m],{x,y:b,data:S,reset:E}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,h=b??h,p={...p,[_]:{...p[_],...S}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:h}=M_(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function nu(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Ms(t,e),w=vN(p),_=l[f?h==="floating"?"reference":"floating":h],y=Jh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Jh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-E.top+w.top)/S.y,bottom:(E.bottom-y.bottom+w.bottom)/S.y,left:(y.left-E.left+w.left)/S.x,right:(E.right-y.right+w.right)/S.x}}const KU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ms(e,t)||{};if(u==null)return{};const h=vN(d),f={x:n,y:r},p=aw(s),w=ow(p),m=await o.getDimensions(u),_=p==="y",y=_?"top":"left",x=_?"bottom":"right",b=_?"clientHeight":"clientWidth",S=i.reference[w]+i.reference[p]-f[p]-i.floating[w],E=f[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=C?C[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(C)))&&(T=l.floating[b]||i.floating[w]);const R=S/2-E/2,O=T/2-m[w]/2-1,D=Ri(h[y],O),A=Ri(h[x],O),M=D,q=T-m[w]-A,F=T/2-m[w]/2+R,Z=Ev(M,F,q),U=!c.arrow&&Pl(s)!=null&&F!==Z&&i.reference[w]/2-(F<M?D:A)-m[w]/2<0,B=U?F<M?F-M:F-q:0;return{[p]:f[p]+B,data:{[p]:Z,centerOffset:F-Z-B,...U&&{alignmentOffset:B}},reset:U}}}),JU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:m=!0,..._}=Ms(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ds(s),x=rs(l),b=Ds(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=f||(b||!m?[Kh(l)]:VU(l)),C=w!=="none";!f&&C&&E.push(...WU(l,m,w,S));const T=[l,...E],R=await nu(t,_),O=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&O.push(R[y]),h){const F=UU(s,o,S);O.push(R[F[0]],R[F[1]])}if(D=[...D,{placement:s,overflows:O}],!O.every(F=>F<=0)){var A,M;const F=(((A=i.flip)==null?void 0:A.index)||0)+1,Z=T[F];if(Z&&(!(h==="alignment"?x!==rs(Z):!1)||D.every(I=>I.overflows[0]>0&&rs(I.placement)===x)))return{data:{index:F,overflows:D},reset:{placement:Z}};let U=(M=D.filter(B=>B.overflows[0]<=0).sort((B,I)=>B.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(p){case"bestFit":{var q;const B=(q=D.filter(I=>{if(C){const $=rs(I.placement);return $===x||$==="y"}return!0}).map(I=>[I.placement,I.overflows.filter($=>$>0).reduce(($,K)=>$+K,0)]).sort((I,$)=>I[1]-$[1])[0])==null?void 0:q[0];B&&(U=B);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function D_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function L_(e){return DU.some(t=>e[t]>=0)}const YU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ms(e,t);switch(r){case"referenceHidden":{const i=await nu(t,{...s,elementContext:"reference"}),o=D_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:L_(o)}}}case"escaped":{const i=await nu(t,{...s,altBoundary:!0}),o=D_(i,n.floating);return{data:{escapedOffsets:o,escaped:L_(o)}}}default:return{}}}}},yN=new Set(["left","top"]);async function QU(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ds(n),l=Pl(n),c=rs(n)==="y",u=yN.has(o)?-1:1,d=i&&c?-1:1,h=Ms(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const XU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await QU(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},ZU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:y,y:x}=_;return{x:y,y:x}}},...c}=Ms(e,t),u={x:n,y:r},d=await nu(t,c),h=rs(Ds(s)),f=iw(h);let p=u[f],w=u[h];if(i){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+d[_],b=p-d[y];p=Ev(x,p,b)}if(o){const _=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=w+d[_],b=w-d[y];w=Ev(x,w,b)}const m=l.fn({...t,[f]:p,[h]:w});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[h]:o}}}}}},eV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ms(e,t),d={x:n,y:r},h=rs(s),f=iw(h);let p=d[f],w=d[h];const m=Ms(l,t),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=f==="y"?"height":"width",S=i.reference[f]-i.floating[b]+_.mainAxis,E=i.reference[f]+i.reference[b]-_.mainAxis;p<S?p=S:p>E&&(p=E)}if(u){var y,x;const b=f==="y"?"width":"height",S=yN.has(Ds(s)),E=i.reference[h]-i.floating[b]+(S&&((y=o.offset)==null?void 0:y[h])||0)+(S?0:_.crossAxis),C=i.reference[h]+i.reference[b]+(S?0:((x=o.offset)==null?void 0:x[h])||0)-(S?_.crossAxis:0);w<E?w=E:w>C&&(w=C)}return{[f]:p,[h]:w}}}},tV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ms(e,t),d=await nu(t,u),h=Ds(s),f=Pl(s),p=rs(s)==="y",{width:w,height:m}=i.floating;let _,y;h==="top"||h==="bottom"?(_=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,_=f==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=w-d.left-d.right,S=Ri(m-d[_],x),E=Ri(w-d[y],b),C=!t.middlewareData.shift;let T=S,R=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=x),C&&!f){const D=In(d.left,0),A=In(d.right,0),M=In(d.top,0),q=In(d.bottom,0);p?R=w-2*(D!==0||A!==0?D+A:In(d.left,d.right)):T=m-2*(M!==0||q!==0?M+q:In(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:T});const O=await o.getDimensions(l.floating);return w!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function Yf(){return typeof window<"u"}function Rl(e){return xN(e)?(e.nodeName||"").toLowerCase():"#document"}function Un(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ds(e){var t;return(t=(xN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xN(e){return Yf()?e instanceof Node||e instanceof Un(e).Node:!1}function Lr(e){return Yf()?e instanceof Element||e instanceof Un(e).Element:!1}function cs(e){return Yf()?e instanceof HTMLElement||e instanceof Un(e).HTMLElement:!1}function $_(e){return!Yf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Un(e).ShadowRoot}const nV=new Set(["inline","contents"]);function Iu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=$r(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!nV.has(s)}const rV=new Set(["table","td","th"]);function sV(e){return rV.has(Rl(e))}const iV=[":popover-open",":modal"];function Qf(e){return iV.some(t=>{try{return e.matches(t)}catch{return!1}})}const oV=["transform","translate","scale","rotate","perspective"],aV=["transform","translate","scale","rotate","perspective","filter"],lV=["paint","layout","strict","content"];function lw(e){const t=cw(),n=Lr(e)?$r(e):e;return oV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||aV.some(r=>(n.willChange||"").includes(r))||lV.some(r=>(n.contain||"").includes(r))}function cV(e){let t=Oi(e);for(;cs(t)&&!hl(t);){if(lw(t))return t;if(Qf(t))return null;t=Oi(t)}return null}function cw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uV=new Set(["html","body","#document"]);function hl(e){return uV.has(Rl(e))}function $r(e){return Un(e).getComputedStyle(e)}function Xf(e){return Lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oi(e){if(Rl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$_(e)&&e.host||ds(e);return $_(t)?t.host:t}function wN(e){const t=Oi(e);return hl(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&Iu(t)?t:wN(t)}function ru(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=wN(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Un(s);if(i){const l=Tv(o);return t.concat(o,o.visualViewport||[],Iu(s)?s:[],l&&n?ru(l):[])}return t.concat(s,ru(s,[],n))}function Tv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bN(e){const t=$r(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=cs(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Gh(n)!==i||Gh(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function uw(e){return Lr(e)?e:e.contextElement}function Fa(e){const t=uw(e);if(!cs(t))return os(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=bN(t);let o=(i?Gh(n.width):n.width)/r,l=(i?Gh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dV=os(0);function _N(e){const t=Un(e);return!cw()||!t.visualViewport?dV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Un(e)?!1:t}function Io(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=uw(e);let o=os(1);t&&(r?Lr(r)&&(o=Fa(r)):o=Fa(e));const l=hV(i,n,r)?_N(i):os(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Un(i),p=r&&Lr(r)?Un(r):r;let w=f,m=Tv(w);for(;m&&r&&p!==w;){const _=Fa(m),y=m.getBoundingClientRect(),x=$r(m),b=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*_.x,S=y.top+(m.clientTop+parseFloat(x.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,h*=_.y,c+=b,u+=S,w=Un(m),m=Tv(w)}}return Jh({width:d,height:h,x:c,y:u})}function dw(e,t){const n=Xf(e).scrollLeft;return t?t.left+n:Io(ds(e)).left+n}function SN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:dw(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function fV(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=ds(r),l=t?Qf(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=os(1);const d=os(0),h=cs(r);if((h||!h&&!i)&&((Rl(r)!=="body"||Iu(o))&&(c=Xf(r)),cs(r))){const p=Io(r);u=Fa(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?SN(o,c,!0):os(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function pV(e){return Array.from(e.getClientRects())}function mV(e){const t=ds(e),n=Xf(e),r=e.ownerDocument.body,s=In(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=In(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+dw(e);const l=-n.scrollTop;return $r(r).direction==="rtl"&&(o+=In(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function gV(e,t){const n=Un(e),r=ds(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=cw();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const vV=new Set(["absolute","fixed"]);function yV(e,t){const n=Io(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=cs(e)?Fa(e):os(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function F_(e,t,n){let r;if(t==="viewport")r=gV(e,n);else if(t==="document")r=mV(ds(e));else if(Lr(t))r=yV(t,n);else{const s=_N(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Jh(r)}function jN(e,t){const n=Oi(e);return n===t||!Lr(n)||hl(n)?!1:$r(n).position==="fixed"||jN(n,t)}function xV(e,t){const n=t.get(e);if(n)return n;let r=ru(e,[],!1).filter(l=>Lr(l)&&Rl(l)!=="body"),s=null;const i=$r(e).position==="fixed";let o=i?Oi(e):e;for(;Lr(o)&&!hl(o);){const l=$r(o),c=lw(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&vV.has(s.position)||Iu(o)&&!c&&jN(e,o))?r=r.filter(d=>d!==o):s=l,o=Oi(o)}return t.set(e,r),r}function wV(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Qf(t)?[]:xV(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=F_(t,d,s);return u.top=In(h.top,u.top),u.right=Ri(h.right,u.right),u.bottom=Ri(h.bottom,u.bottom),u.left=In(h.left,u.left),u},F_(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bV(e){const{width:t,height:n}=bN(e);return{width:t,height:n}}function _V(e,t,n){const r=cs(t),s=ds(t),i=n==="fixed",o=Io(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=os(0);function u(){c.x=dw(s)}if(r||!r&&!i)if((Rl(t)!=="body"||Iu(s))&&(l=Xf(t)),r){const p=Io(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?SN(s,l):os(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function bm(e){return $r(e).position==="static"}function U_(e,t){if(!cs(e)||$r(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ds(e)===n&&(n=n.ownerDocument.body),n}function kN(e,t){const n=Un(e);if(Qf(e))return n;if(!cs(e)){let s=Oi(e);for(;s&&!hl(s);){if(Lr(s)&&!bm(s))return s;s=Oi(s)}return n}let r=U_(e,t);for(;r&&sV(r)&&bm(r);)r=U_(r,t);return r&&hl(r)&&bm(r)&&!lw(r)?n:r||cV(e)||n}const SV=async function(e){const t=this.getOffsetParent||kN,n=this.getDimensions,r=await n(e.floating);return{reference:_V(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jV(e){return $r(e).direction==="rtl"}const kV={convertOffsetParentRelativeRectToViewportRelativeRect:fV,getDocumentElement:ds,getClippingRect:wV,getOffsetParent:kN,getElementRects:SV,getClientRects:pV,getDimensions:bV,getScale:Fa,isElement:Lr,isRTL:jV};function EN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function EV(e,t){let n=null,r;const s=ds(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const w=pd(h),m=pd(s.clientWidth-(d+f)),_=pd(s.clientHeight-(h+p)),y=pd(d),b={rootMargin:-w+"px "+-m+"px "+-_+"px "+-y+"px",threshold:In(0,Ri(1,c))||1};let S=!0;function E(C){const T=C[0].intersectionRatio;if(T!==c){if(!S)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!EN(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(E,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(e)}return o(!0),i}function CV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=uw(e),d=s||i?[...u?ru(u):[],...ru(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&l?EV(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,m=c?Io(e):null;c&&_();function _(){const y=Io(e);m&&!EN(m,y)&&n(),m=y,w=requestAnimationFrame(_)}return n(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const TV=XU,NV=ZU,AV=JU,PV=tV,RV=YU,V_=KU,OV=eV,IV=(e,t,n)=>{const r=new Map,s={platform:kV,...n},i={...s.platform,_c:r};return GU(e,t,{...s,platform:i})};var MV=typeof document<"u",DV=function(){},rh=MV?g.useLayoutEffect:DV;function Yh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Yh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function CN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function B_(e,t){const n=CN(e);return Math.round(t*n)/n}function _m(e){const t=g.useRef(e);return rh(()=>{t.current=e}),t}function LV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=g.useState(r);Yh(f,r)||p(r);const[w,m]=g.useState(null),[_,y]=g.useState(null),x=g.useCallback(I=>{I!==C.current&&(C.current=I,m(I))},[]),b=g.useCallback(I=>{I!==T.current&&(T.current=I,y(I))},[]),S=i||w,E=o||_,C=g.useRef(null),T=g.useRef(null),R=g.useRef(d),O=c!=null,D=_m(c),A=_m(s),M=_m(u),q=g.useCallback(()=>{if(!C.current||!T.current)return;const I={placement:t,strategy:n,middleware:f};A.current&&(I.platform=A.current),IV(C.current,T.current,I).then($=>{const K={...$,isPositioned:M.current!==!1};F.current&&!Yh(R.current,K)&&(R.current=K,Ko.flushSync(()=>{h(K)}))})},[f,t,n,A,M]);rh(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const F=g.useRef(!1);rh(()=>(F.current=!0,()=>{F.current=!1}),[]),rh(()=>{if(S&&(C.current=S),E&&(T.current=E),S&&E){if(D.current)return D.current(S,E,q);q()}},[S,E,q,D,O]);const Z=g.useMemo(()=>({reference:C,floating:T,setReference:x,setFloating:b}),[x,b]),U=g.useMemo(()=>({reference:S,floating:E}),[S,E]),B=g.useMemo(()=>{const I={position:n,left:0,top:0};if(!U.floating)return I;const $=B_(U.floating,d.x),K=B_(U.floating,d.y);return l?{...I,transform:"translate("+$+"px, "+K+"px)",...CN(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:K}},[n,l,U.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:q,refs:Z,elements:U,floatingStyles:B}),[d,q,Z,U,B])}const $V=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?V_({element:r.current,padding:s}).fn(n):{}:r?V_({element:r,padding:s}).fn(n):{}}}},FV=(e,t)=>({...TV(e),options:[e,t]}),UV=(e,t)=>({...NV(e),options:[e,t]}),VV=(e,t)=>({...OV(e),options:[e,t]}),BV=(e,t)=>({...AV(e),options:[e,t]}),zV=(e,t)=>({...PV(e),options:[e,t]}),qV=(e,t)=>({...RV(e),options:[e,t]}),WV=(e,t)=>({...$V(e),options:[e,t]});var HV="Arrow",TN=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(pe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});TN.displayName=HV;var GV=TN;function hw(e){const[t,n]=g.useState(void 0);return Ot(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var fw="Popper",[NN,Zf]=wn(fw),[KV,AN]=NN(fw),PN=e=>{const{__scopePopper:t,children:n}=e,[r,s]=g.useState(null);return a.jsx(KV,{scope:t,anchor:r,onAnchorChange:s,children:n})};PN.displayName=fw;var RN="PopperAnchor",ON=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=AN(RN,n),o=g.useRef(null),l=Ce(t,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(pe.div,{...s,ref:l})});ON.displayName=RN;var pw="PopperContent",[JV,YV]=NN(pw),IN=g.forwardRef((e,t)=>{var N,L,z,V,G,ee;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:w,...m}=e,_=AN(pw,n),[y,x]=g.useState(null),b=Ce(t,he=>x(he)),[S,E]=g.useState(null),C=hw(S),T=(C==null?void 0:C.width)??0,R=(C==null?void 0:C.height)??0,O=r+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],M=A.length>0,q={padding:D,boundary:A.filter(XV),altBoundary:M},{refs:F,floatingStyles:Z,placement:U,isPositioned:B,middlewareData:I}=LV({strategy:"fixed",placement:O,whileElementsMounted:(...he)=>CV(...he,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[FV({mainAxis:s+R,alignmentAxis:o}),c&&UV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?VV():void 0,...q}),c&&BV({...q}),zV({...q,apply:({elements:he,rects:Ve,availableWidth:St,availableHeight:gt})=>{const{width:Le,height:st}=Ve.reference,Ct=he.floating.style;Ct.setProperty("--radix-popper-available-width",`${St}px`),Ct.setProperty("--radix-popper-available-height",`${gt}px`),Ct.setProperty("--radix-popper-anchor-width",`${Le}px`),Ct.setProperty("--radix-popper-anchor-height",`${st}px`)}}),S&&WV({element:S,padding:l}),ZV({arrowWidth:T,arrowHeight:R}),f&&qV({strategy:"referenceHidden",...q})]}),[$,K]=LN(U),ie=Pt(w);Ot(()=>{B&&(ie==null||ie())},[B,ie]);const Y=(N=I.arrow)==null?void 0:N.x,v=(L=I.arrow)==null?void 0:L.y,k=((z=I.arrow)==null?void 0:z.centerOffset)!==0,[j,P]=g.useState();return Ot(()=>{y&&P(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:B?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[(V=I.transformOrigin)==null?void 0:V.x,(G=I.transformOrigin)==null?void 0:G.y].join(" "),...((ee=I.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(JV,{scope:n,placedSide:$,onArrowChange:E,arrowX:Y,arrowY:v,shouldHideArrow:k,children:a.jsx(pe.div,{"data-side":$,"data-align":K,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});IN.displayName=pw;var MN="PopperArrow",QV={top:"bottom",right:"left",bottom:"top",left:"right"},DN=g.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=YV(MN,r),o=QV[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(GV,{...s,ref:n,style:{...s.style,display:"block"}})})});DN.displayName=MN;function XV(e){return e!==null}var ZV=e=>({name:"transformOrigin",options:e,fn(t){var _,y,x;const{placement:n,rects:r,middlewareData:s}=t,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=LN(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",m="";return u==="bottom"?(w=o?h:`${f}px`,m=`${-c}px`):u==="top"?(w=o?h:`${f}px`,m=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,m=o?h:`${p}px`),{data:{x:w,y:m}}}});function LN(e){const[t,n="center"]=e.split("-");return[t,n]}var $N=PN,FN=ON,UN=IN,VN=DN,[ep,MX]=wn("Tooltip",[Zf]),tp=Zf(),BN="TooltipProvider",e3=700,Nv="tooltip.open",[t3,mw]=ep(BN),zN=e=>{const{__scopeTooltip:t,delayDuration:n=e3,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(t3,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};zN.displayName=BN;var su="Tooltip",[n3,np]=ep(su),qN=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=mw(su,e.__scopeTooltip),u=tp(t),[d,h]=g.useState(null),f=Or(),p=g.useRef(0),w=o??c.disableHoverableContent,m=l??c.delayDuration,_=g.useRef(!1),[y,x]=lr({prop:r,defaultProp:s??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(Nv))):c.onClose(),i==null||i(T)},caller:su}),b=g.useMemo(()=>y?_.current?"delayed-open":"instant-open":"closed",[y]),S=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_.current=!1,x(!0)},[x]),E=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),C=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{_.current=!0,x(!0),p.current=0},m)},[m,x]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx($N,{...u,children:a.jsx(n3,{scope:t,contentId:f,open:y,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?C():S()},[c.isOpenDelayedRef,C,S]),onTriggerLeave:g.useCallback(()=>{w?E():(window.clearTimeout(p.current),p.current=0)},[E,w]),onOpen:S,onClose:E,disableHoverableContent:w,children:n})})};qN.displayName=su;var Av="TooltipTrigger",WN=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=np(Av,n),i=mw(Av,n),o=tp(n),l=g.useRef(null),c=Ce(t,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(FN,{asChild:!0,...o,children:a.jsx(pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:le(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:le(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:le(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:le(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:le(e.onBlur,s.onClose),onClick:le(e.onClick,s.onClose)})})});WN.displayName=Av;var r3="TooltipPortal",[DX,s3]=ep(r3,{forceMount:void 0}),fl="TooltipContent",HN=g.forwardRef((e,t)=>{const n=s3(fl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=np(fl,e.__scopeTooltip);return a.jsx(Cn,{present:r||o.open,children:o.disableHoverableContent?a.jsx(GN,{side:s,...i,ref:t}):a.jsx(i3,{side:s,...i,ref:t})})}),i3=g.forwardRef((e,t)=>{const n=np(fl,e.__scopeTooltip),r=mw(fl,e.__scopeTooltip),s=g.useRef(null),i=Ce(t,s),[o,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=g.useCallback(()=>{l(null),h(!1)},[h]),p=g.useCallback((w,m)=>{const _=w.currentTarget,y={x:w.clientX,y:w.clientY},x=u3(y,_.getBoundingClientRect()),b=d3(y,x),S=h3(m.getBoundingClientRect()),E=p3([...b,...S]);l(E),h(!0)},[h]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&d){const w=_=>p(_,d),m=_=>p(_,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),g.useEffect(()=>{if(o){const w=m=>{const _=m.target,y={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(_))||(d==null?void 0:d.contains(_)),b=!f3(y,o);x?f():b&&(f(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,o,u,f]),a.jsx(GN,{...e,ref:i})}),[o3,a3]=ep(su,{isInside:!1}),l3=_T("TooltipContent"),GN=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=np(fl,n),u=tp(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(Nv,d),()=>document.removeEventListener(Nv,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),a.jsx(Nu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:a.jsxs(UN,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(l3,{children:r}),a.jsx(o3,{scope:n,isInside:!0,children:a.jsx(P4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});HN.displayName=fl;var KN="TooltipArrow",c3=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=tp(n);return a3(KN,n).isInside?null:a.jsx(VN,{...s,...r,ref:t})});c3.displayName=KN;function u3(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function d3(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function h3(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function f3(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function p3(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),m3(t)}function m3(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var g3=zN,v3=qN,y3=WN,JN=HN;const ts=g3,Kn=v3,Jn=y3,On=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(JN,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));On.displayName=JN.displayName;var rp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sp=typeof window>"u"||"Deno"in globalThis;function jr(){}function x3(e,t){return typeof e=="function"?e(t):e}function w3(e){return typeof e=="number"&&e>=0&&e!==1/0}function b3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pv(e,t){return typeof e=="function"?e(t):e}function _3(e,t){return typeof e=="function"?e(t):e}function z_(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==gw(o,t.options))return!1}else if(!ou(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function q_(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(iu(t.options.mutationKey)!==iu(i))return!1}else if(!ou(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function gw(e,t){return((t==null?void 0:t.queryKeyHashFn)||iu)(e)}function iu(e){return JSON.stringify(e,(t,n)=>Rv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ou(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ou(e[n],t[n])):!1}function YN(e,t){if(e===t)return e;const n=W_(e)&&W_(t);if(n||Rv(e)&&Rv(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=YN(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function W_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rv(e){if(!H_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!H_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function H_(e){return Object.prototype.toString.call(e)==="[object Object]"}function S3(e){return new Promise(t=>{setTimeout(t,e)})}function j3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?YN(e,t):t}function k3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function E3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var vw=Symbol();function QN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var mo,ui,Ga,Qk,C3=(Qk=class extends rp{constructor(){super();$e(this,mo);$e(this,ui);$e(this,Ga);je(this,Ga,t=>{if(!sp&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,ui)||this.setEventListener(W(this,Ga))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,ui))==null||t.call(this),je(this,ui,void 0))}setEventListener(t){var n;je(this,Ga,t),(n=W(this,ui))==null||n.call(this),je(this,ui,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,mo)!==t&&(je(this,mo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,mo)=="boolean"?W(this,mo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mo=new WeakMap,ui=new WeakMap,Ga=new WeakMap,Qk),XN=new C3,Ka,di,Ja,Xk,T3=(Xk=class extends rp{constructor(){super();$e(this,Ka,!0);$e(this,di);$e(this,Ja);je(this,Ja,t=>{if(!sp&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,di)||this.setEventListener(W(this,Ja))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,di))==null||t.call(this),je(this,di,void 0))}setEventListener(t){var n;je(this,Ja,t),(n=W(this,di))==null||n.call(this),je(this,di,t(this.setOnline.bind(this)))}setOnline(t){W(this,Ka)!==t&&(je(this,Ka,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,Ka)}},Ka=new WeakMap,di=new WeakMap,Ja=new WeakMap,Xk),Qh=new T3;function N3(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function A3(e){return Math.min(1e3*2**e,3e4)}function ZN(e){return(e??"online")==="online"?Qh.isOnline():!0}var eA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Sm(e){return e instanceof eA}function tA(e){let t=!1,n=0,r=!1,s;const i=N3(),o=m=>{var _;r||(f(new eA(m)),(_=e.abort)==null||_.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>XN.isFocused()&&(e.networkMode==="always"||Qh.isOnline())&&e.canRun(),d=()=>ZN(e.networkMode)&&e.canRun(),h=m=>{var _;r||(r=!0,(_=e.onSuccess)==null||_.call(e,m),s==null||s(),i.resolve(m))},f=m=>{var _;r||(r=!0,(_=e.onError)==null||_.call(e,m),s==null||s(),i.reject(m))},p=()=>new Promise(m=>{var _;s=y=>{(r||u())&&m(y)},(_=e.onPause)==null||_.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),w=()=>{if(r)return;let m;const _=n===0?e.initialPromise:void 0;try{m=_??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var C;if(r)return;const x=e.retry??(sp?0:3),b=e.retryDelay??A3,S=typeof b=="function"?b(n,y):b,E=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!E){f(y);return}n++,(C=e.onFail)==null||C.call(e,n,y),S3(S).then(()=>u()?void 0:p()).then(()=>{t?f(y):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():p().then(w),i)}}var P3=e=>setTimeout(e,0);function R3(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=P3;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var hn=R3(),go,Zk,nA=(Zk=class{constructor(){$e(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),w3(this.gcTime)&&je(this,go,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(sp?1/0:5*60*1e3))}clearGcTimeout(){W(this,go)&&(clearTimeout(W(this,go)),je(this,go,void 0))}},go=new WeakMap,Zk),Ya,vo,Gn,yo,Jt,_u,xo,Er,gs,eE,O3=(eE=class extends nA{constructor(t){super();$e(this,Er);$e(this,Ya);$e(this,vo);$e(this,Gn);$e(this,yo);$e(this,Jt);$e(this,_u);$e(this,xo);je(this,xo,!1),je(this,_u,t.defaultOptions),this.setOptions(t.options),this.observers=[],je(this,yo,t.client),je(this,Gn,W(this,yo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,je(this,Ya,M3(this.options)),this.state=t.state??W(this,Ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,Jt))==null?void 0:t.promise}setOptions(t){this.options={...W(this,_u),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Gn).remove(this)}setData(t,n){const r=j3(this.state.data,t,this.options);return Ht(this,Er,gs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ht(this,Er,gs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=W(this,Jt))==null?void 0:r.promise;return(s=W(this,Jt))==null||s.cancel(t),n?n.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Ya))}isActive(){return this.observers.some(t=>_3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Pv(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!b3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,Jt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,Jt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Gn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,Jt)&&(W(this,xo)?W(this,Jt).cancel({revert:!0}):W(this,Jt).cancelRetry()),this.scheduleGc()),W(this,Gn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,Er,gs).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,Jt))return W(this,Jt).continueRetry(),W(this,Jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(je(this,xo,!0),r.signal)})},i=()=>{const f=QN(this.options,n),w=(()=>{const m={client:W(this,yo),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return je(this,xo,!1),this.options.persister?this.options.persister(f,w,this):f(w)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,yo),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),je(this,vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ht(this,Er,gs).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,w,m,_;Sm(f)&&f.silent||Ht(this,Er,gs).call(this,{type:"error",error:f}),Sm(f)||((w=(p=W(this,Gn).config).onError)==null||w.call(p,f,this),(_=(m=W(this,Gn).config).onSettled)==null||_.call(m,this.state.data,f,this)),this.scheduleGc()};return je(this,Jt,tA({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,w,m,_;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(w=(p=W(this,Gn).config).onSuccess)==null||w.call(p,f,this),(_=(m=W(this,Gn).config).onSettled)==null||_.call(m,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{Ht(this,Er,gs).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Ht(this,Er,gs).call(this,{type:"pause"})},onContinue:()=>{Ht(this,Er,gs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),W(this,Jt).start()}},Ya=new WeakMap,vo=new WeakMap,Gn=new WeakMap,yo=new WeakMap,Jt=new WeakMap,_u=new WeakMap,xo=new WeakMap,Er=new WeakSet,gs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...I3(r.data,this.options),fetchMeta:t.meta??null};case"success":return je(this,vo,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Sm(s)&&s.revert&&W(this,vo)?{...W(this,vo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Gn).notify({query:this,type:"updated",action:t})})},eE);function I3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function M3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yr,tE,D3=(tE=class extends rp{constructor(t={}){super();$e(this,Yr);this.config=t,je(this,Yr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??gw(s,n);let o=this.get(i);return o||(o=new O3({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){W(this,Yr).has(t.queryHash)||(W(this,Yr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,Yr).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,Yr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Yr).get(t)}getAll(){return[...W(this,Yr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>z_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>z_(t,r)):n}notify(t){hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yr=new WeakMap,tE),Qr,cn,wo,Xr,Qs,nE,L3=(nE=class extends nA{constructor(t){super();$e(this,Xr);$e(this,Qr);$e(this,cn);$e(this,wo);this.mutationId=t.mutationId,je(this,cn,t.mutationCache),je(this,Qr,[]),this.state=t.state||$3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Qr).includes(t)||(W(this,Qr).push(t),this.clearGcTimeout(),W(this,cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){je(this,Qr,W(this,Qr).filter(n=>n!==t)),this.scheduleGc(),W(this,cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Qr).length||(this.state.status==="pending"?this.scheduleGc():W(this,cn).remove(this))}continue(){var t;return((t=W(this,wo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,h,f,p,w,m,_,y,x,b,S,E,C,T,R;const n=()=>{Ht(this,Xr,Qs).call(this,{type:"continue"})};je(this,wo,tA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,D)=>{Ht(this,Xr,Qs).call(this,{type:"failed",failureCount:O,error:D})},onPause:()=>{Ht(this,Xr,Qs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,cn).canRun(this)}));const r=this.state.status==="pending",s=!W(this,wo).canStart();try{if(r)n();else{Ht(this,Xr,Qs).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=W(this,cn).config).onMutate)==null?void 0:o.call(i,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&Ht(this,Xr,Qs).call(this,{type:"pending",context:D,variables:t,isPaused:s})}const O=await W(this,wo).start();return await((d=(u=W(this,cn).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,O,t,this.state.context)),await((w=(p=W(this,cn).config).onSettled)==null?void 0:w.call(p,O,null,this.state.variables,this.state.context,this)),await((_=(m=this.options).onSettled)==null?void 0:_.call(m,O,null,t,this.state.context)),Ht(this,Xr,Qs).call(this,{type:"success",data:O}),O}catch(O){try{throw await((x=(y=W(this,cn).config).onError)==null?void 0:x.call(y,O,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,O,t,this.state.context)),await((C=(E=W(this,cn).config).onSettled)==null?void 0:C.call(E,void 0,O,this.state.variables,this.state.context,this)),await((R=(T=this.options).onSettled)==null?void 0:R.call(T,void 0,O,t,this.state.context)),O}finally{Ht(this,Xr,Qs).call(this,{type:"error",error:O})}}finally{W(this,cn).runNext(this)}}},Qr=new WeakMap,cn=new WeakMap,wo=new WeakMap,Xr=new WeakSet,Qs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),hn.batch(()=>{W(this,Qr).forEach(r=>{r.onMutationUpdate(t)}),W(this,cn).notify({mutation:this,type:"updated",action:t})})},nE);function $3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ss,Cr,Su,rE,F3=(rE=class extends rp{constructor(t={}){super();$e(this,Ss);$e(this,Cr);$e(this,Su);this.config=t,je(this,Ss,new Set),je(this,Cr,new Map),je(this,Su,0)}build(t,n,r){const s=new L3({mutationCache:this,mutationId:++Gu(this,Su)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){W(this,Ss).add(t);const n=md(t);if(typeof n=="string"){const r=W(this,Cr).get(n);r?r.push(t):W(this,Cr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,Ss).delete(t)){const n=md(t);if(typeof n=="string"){const r=W(this,Cr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&W(this,Cr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=md(t);if(typeof n=="string"){const r=W(this,Cr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=md(t);if(typeof n=="string"){const s=(r=W(this,Cr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hn.batch(()=>{W(this,Ss).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,Ss).clear(),W(this,Cr).clear()})}getAll(){return Array.from(W(this,Ss))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>q_(n,r))}findAll(t={}){return this.getAll().filter(n=>q_(t,n))}notify(t){hn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return hn.batch(()=>Promise.all(t.map(n=>n.continue().catch(jr))))}},Ss=new WeakMap,Cr=new WeakMap,Su=new WeakMap,rE);function md(e){var t;return(t=e.options.scope)==null?void 0:t.id}function G_(e){return{onFetch:(t,n)=>{var d,h,f,p,w;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const _=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=QN(t.options,t.fetchOptions),x=async(b,S,E)=>{if(m)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:S,direction:E?"backward":"forward",meta:t.options.meta};return _(A),A})(),R=await y(T),{maxPages:O}=t.options,D=E?E3:k3;return{pages:D(b.pages,R,O),pageParams:D(b.pageParams,S,O)}};if(s&&i.length){const b=s==="backward",S=b?U3:K_,E={pages:i,pageParams:o},C=S(r,E);l=await x(E,C,b)}else{const b=e??i.length;do{const S=c===0?o[0]??r.initialPageParam:K_(r,l);if(c>0&&S==null)break;l=await x(l,S),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,_;return(_=(m=t.options).persister)==null?void 0:_.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function K_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function U3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var vt,hi,fi,Qa,Xa,pi,Za,el,sE,V3=(sE=class{constructor(e={}){$e(this,vt);$e(this,hi);$e(this,fi);$e(this,Qa);$e(this,Xa);$e(this,pi);$e(this,Za);$e(this,el);je(this,vt,e.queryCache||new D3),je(this,hi,e.mutationCache||new F3),je(this,fi,e.defaultOptions||{}),je(this,Qa,new Map),je(this,Xa,new Map),je(this,pi,0)}mount(){Gu(this,pi)._++,W(this,pi)===1&&(je(this,Za,XN.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,vt).onFocus())})),je(this,el,Qh.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,vt).onOnline())})))}unmount(){var e,t;Gu(this,pi)._--,W(this,pi)===0&&((e=W(this,Za))==null||e.call(this),je(this,Za,void 0),(t=W(this,el))==null||t.call(this),je(this,el,void 0))}isFetching(e){return W(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,hi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=W(this,vt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Pv(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return W(this,vt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=W(this,vt).get(r.queryHash),i=s==null?void 0:s.state.data,o=x3(t,i);if(o!==void 0)return W(this,vt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return hn.batch(()=>W(this,vt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,vt);hn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,vt);return hn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=hn.batch(()=>W(this,vt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(e,t={}){return hn.batch(()=>(W(this,vt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=hn.batch(()=>W(this,vt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,vt).build(this,t);return n.isStaleByTime(Pv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jr).catch(jr)}fetchInfiniteQuery(e){return e.behavior=G_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jr).catch(jr)}ensureInfiniteQueryData(e){return e.behavior=G_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qh.isOnline()?W(this,hi).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,vt)}getMutationCache(){return W(this,hi)}getDefaultOptions(){return W(this,fi)}setDefaultOptions(e){je(this,fi,e)}setQueryDefaults(e,t){W(this,Qa).set(iu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Qa).values()],n={};return t.forEach(r=>{ou(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){W(this,Xa).set(iu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,Xa).values()],n={};return t.forEach(r=>{ou(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,fi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===vw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,fi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,vt).clear(),W(this,hi).clear()}},vt=new WeakMap,hi=new WeakMap,fi=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,pi=new WeakMap,Za=new WeakMap,el=new WeakMap,sE),B3=g.createContext(void 0),z3=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(B3.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}var vi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vi||(vi={}));const J_="popstate";function q3(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ov("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xh(s)}return H3(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W3(){return Math.random().toString(36).substr(2,8)}function Y_(e,t){return{usr:e.state,key:e.key,idx:t}}function Ov(e,t,n,r){return n===void 0&&(n=null),au({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ol(t):t,{state:n,key:t&&t.key||r||W3()})}function Xh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ol(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function H3(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=vi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(au({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=vi.Pop;let _=d(),y=_==null?null:_-u;u=_,c&&c({action:l,location:m.location,delta:y})}function f(_,y){l=vi.Push;let x=Ov(m.location,_,y);u=d()+1;let b=Y_(x,u),S=m.createHref(x);try{o.pushState(b,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}i&&c&&c({action:l,location:m.location,delta:1})}function p(_,y){l=vi.Replace;let x=Ov(m.location,_,y);u=d();let b=Y_(x,u),S=m.createHref(x);o.replaceState(b,"",S),i&&c&&c({action:l,location:m.location,delta:0})}function w(_){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof _=="string"?_:Xh(_);return x=x.replace(/ $/,"%20"),_t(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return l},get location(){return e(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(J_,h),c=_,()=>{s.removeEventListener(J_,h),c=null}},createHref(_){return t(s,_)},createURL:w,encodeLocation(_){let y=w(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(_){return o.go(_)}};return m}var Q_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q_||(Q_={}));function G3(e,t,n){return n===void 0&&(n="/"),K3(e,t,n,!1)}function K3(e,t,n,r){let s=typeof t=="string"?Ol(t):t,i=yw(s.pathname||"/",n);if(i==null)return null;let o=sA(e);J3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=o5(i);l=s5(o[c],u,r)}return l}function sA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ci([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(_t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sA(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:n5(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of iA(i.path))s(i,o,c)}),t}function iA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=iA(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function J3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Y3=/^:[\w-]+$/,Q3=3,X3=2,Z3=1,e5=10,t5=-2,X_=e=>e==="*";function n5(e,t){let n=e.split("/"),r=n.length;return n.some(X_)&&(r+=t5),t&&(r+=X3),n.filter(s=>!X_(s)).reduce((s,i)=>s+(Y3.test(i)?Q3:i===""?Z3:e5),r)}function r5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function s5(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Z_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Z_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ci([i,h.pathname]),pathnameBase:u5(Ci([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ci([i,h.pathnameBase]))}return o}function Z_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i5(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const w=l[h];return p&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function i5(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function o5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function a5(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ol(e):e;return{pathname:n?n.startsWith("/")?n:l5(n,t):t,search:d5(r),hash:h5(s)}}function l5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xw(e,t){let n=c5(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ww(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ol(e):(s=au({},e),_t(!s.pathname||!s.pathname.includes("?"),jm("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),jm("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),jm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=a5(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ci=e=>e.join("/").replace(/\/\/+/g,"/"),u5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oA=["post","put","patch","delete"];new Set(oA);const p5=["get",...oA];new Set(p5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(this,arguments)}const bw=g.createContext(null),m5=g.createContext(null),zi=g.createContext(null),ip=g.createContext(null),hs=g.createContext({outlet:null,matches:[],isDataRoute:!1}),aA=g.createContext(null);function g5(e,t){let{relative:n}=t===void 0?{}:t;Il()||_t(!1);let{basename:r,navigator:s}=g.useContext(zi),{hash:i,pathname:o,search:l}=cA(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ci([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Il(){return g.useContext(ip)!=null}function Fs(){return Il()||_t(!1),g.useContext(ip).location}function lA(e){g.useContext(zi).static||g.useLayoutEffect(e)}function Vr(){let{isDataRoute:e}=g.useContext(hs);return e?P5():v5()}function v5(){Il()||_t(!1);let e=g.useContext(bw),{basename:t,future:n,navigator:r}=g.useContext(zi),{matches:s}=g.useContext(hs),{pathname:i}=Fs(),o=JSON.stringify(xw(s,n.v7_relativeSplatPath)),l=g.useRef(!1);return lA(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=ww(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ci([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const y5=g.createContext(null);function x5(e){let t=g.useContext(hs).outlet;return t&&g.createElement(y5.Provider,{value:e},t)}function Ml(){let{matches:e}=g.useContext(hs),t=e[e.length-1];return t?t.params:{}}function cA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(zi),{matches:s}=g.useContext(hs),{pathname:i}=Fs(),o=JSON.stringify(xw(s,r.v7_relativeSplatPath));return g.useMemo(()=>ww(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function w5(e,t){return b5(e,t)}function b5(e,t,n,r){Il()||_t(!1);let{navigator:s}=g.useContext(zi),{matches:i}=g.useContext(hs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fs(),d;if(t){var h;let _=typeof t=="string"?Ol(t):t;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||_t(!1),d=_}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let _=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=G3(e,{pathname:p}),m=E5(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ci([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Ci([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return t&&m?g.createElement(ip.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vi.Pop}},m):m}function _5(){let e=A5(),t=f5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const S5=g.createElement(_5,null);class j5 extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(hs.Provider,{value:this.props.routeContext},g.createElement(aA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k5(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(bw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(hs.Provider,{value:t},r)}function E5(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||_t(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,w=!1,m=null,_=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||S5,c&&(u<0&&f===0?(w=!0,_=null):u===f&&(w=!0,_=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),x=()=>{let b;return p?b=m:w?b=_:h.route.Component?b=g.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,g.createElement(k5,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(j5,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var uA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uA||{}),Zh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zh||{});function C5(e){let t=g.useContext(bw);return t||_t(!1),t}function T5(e){let t=g.useContext(m5);return t||_t(!1),t}function N5(e){let t=g.useContext(hs);return t||_t(!1),t}function dA(e){let t=N5(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function A5(){var e;let t=g.useContext(aA),n=T5(Zh.UseRouteError),r=dA(Zh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function P5(){let{router:e}=C5(uA.UseNavigateStable),t=dA(Zh.UseNavigateStable),n=g.useRef(!1);return lA(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,lu({fromRouteId:t},i)))},[e,t])}function R5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function O5(e){let{to:t,replace:n,state:r,relative:s}=e;Il()||_t(!1);let{future:i,static:o}=g.useContext(zi),{matches:l}=g.useContext(hs),{pathname:c}=Fs(),u=Vr(),d=ww(t,xw(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function I5(e){return x5(e.context)}function at(e){_t(!1)}function M5(e){let{basename:t="/",children:n=null,location:r,navigationType:s=vi.Pop,navigator:i,static:o=!1,future:l}=e;Il()&&_t(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:lu({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Ol(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:w="default"}=r,m=g.useMemo(()=>{let _=yw(d,c);return _==null?null:{location:{pathname:_,search:h,hash:f,state:p,key:w},navigationType:s}},[c,d,h,f,p,w,s]);return m==null?null:g.createElement(zi.Provider,{value:u},g.createElement(ip.Provider,{children:n,value:m}))}function eS(e){let{children:t,location:n}=e;return w5(Iv(t),n)}new Promise(()=>{});function Iv(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let i=[...t,s];if(r.type===g.Fragment){n.push.apply(n,Iv(r.props.children,i));return}r.type!==at&&_t(!1),!r.props.index||!r.props.children||_t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Iv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mv.apply(this,arguments)}function D5(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function L5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $5(e,t){return e.button===0&&(!t||t==="_self")&&!L5(e)}function Dv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function F5(e,t){let n=Dv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const U5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],V5="6";try{window.__reactRouterVersion=V5}catch{}const B5="startTransition",tS=ax[B5];function z5(e){let{basename:t,children:n,future:r,window:s}=e,i=g.useRef();i.current==null&&(i.current=q3({window:s,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(h=>{u&&tS?tS(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>R5(r),[r]),g.createElement(M5,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const q5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=g.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=D5(t,U5),{basename:p}=g.useContext(zi),w,m=!1;if(typeof u=="string"&&W5.test(u)&&(w=u,q5))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),E=yw(S.pathname,p);S.origin===b.origin&&E!=null?u=E+S.search+S.hash:m=!0}catch{}let _=g5(u,{relative:s}),y=H5(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(b){r&&r(b),b.defaultPrevented||y(b)}return g.createElement("a",Mv({},f,{href:w||_,onClick:m||i?r:x,ref:n,target:c}))});var nS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nS||(nS={}));var rS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rS||(rS={}));function H5(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Vr(),u=Fs(),d=cA(e,{relative:o});return g.useCallback(h=>{if($5(h,n)){h.preventDefault();let f=r!==void 0?r:Xh(u)===Xh(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}function G5(e){let t=g.useRef(Dv(e)),n=g.useRef(!1),r=Fs(),s=g.useMemo(()=>F5(r.search,n.current?null:t.current),[r.search]),i=Vr(),o=g.useCallback((l,c)=>{const u=Dv(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}const _w=Gf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?l4:"button";return a.jsx(o,{className:re(_w({variant:t,size:n,className:e})),ref:i,...s})});X.displayName="Button";const Je=g.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Je.displayName="Input";const Mu=g.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Mu.displayName="Textarea";var K5="Label",hA=g.forwardRef((e,t)=>a.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hA.displayName=K5;var fA=hA;const J5=Gf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=g.forwardRef(({className:e,...t},n)=>a.jsx(fA,{ref:n,className:re(J5(),e),...t}));Re.displayName=fA.displayName;const Sw=g.createContext({});function jw(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const kw=typeof window<"u",pA=kw?g.useLayoutEffect:g.useEffect,op=g.createContext(null);function Ew(e,t){e.indexOf(t)===-1&&e.push(t)}function Cw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const us=(e,t,n)=>n>t?t:n<e?e:n;let ap=()=>{},pl=()=>{};const Ls={},mA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gA(e){return typeof e=="object"&&e!==null}const vA=e=>/^0[^.\s]+$/u.test(e);function Tw(e){let t;return()=>(t===void 0&&(t=e()),t)}const sr=e=>e,Y5=(e,t)=>n=>t(e(n)),Du=(...e)=>e.reduce(Y5),cu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Nw{constructor(){this.subscriptions=[]}add(t){return Ew(this.subscriptions,t),()=>Cw(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const as=e=>e*1e3,tr=e=>e/1e3;function yA(e,t){return t?e*(1e3/t):0}const xA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Q5=1e-7,X5=12;function Z5(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=xA(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Q5&&++l<X5);return o}function Lu(e,t,n,r){if(e===t&&n===r)return sr;const s=i=>Z5(i,0,1,e,n);return i=>i===0||i===1?i:xA(s(i),t,r)}const wA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bA=e=>t=>1-e(1-t),_A=Lu(.33,1.53,.69,.99),Aw=bA(_A),SA=wA(Aw),jA=e=>(e*=2)<1?.5*Aw(e):.5*(2-Math.pow(2,-10*(e-1))),Pw=e=>1-Math.sin(Math.acos(e)),kA=bA(Pw),EA=wA(Pw),eB=Lu(.42,0,1,1),tB=Lu(0,0,.58,1),CA=Lu(.42,0,.58,1),nB=e=>Array.isArray(e)&&typeof e[0]!="number",TA=e=>Array.isArray(e)&&typeof e[0]=="number",sS={linear:sr,easeIn:eB,easeInOut:CA,easeOut:tB,circIn:Pw,circInOut:EA,circOut:kA,backIn:Aw,backInOut:SA,backOut:_A,anticipate:jA},rB=e=>typeof e=="string",iS=e=>{if(TA(e)){pl(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return Lu(t,n,r,s)}else if(rB(e))return pl(sS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),sS[e];return e},gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],oS={value:null,addProjectionMetrics:null};function sB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,p=!1)=>{const m=p&&s?n:r;return f&&o.add(h),m.has(h)||m.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&oS.value&&oS.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const iB=40;function NA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=gd.reduce((b,S)=>(b[S]=sB(i,t?S:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:w}=o,m=()=>{const b=Ls.useManualTiming?s.timestamp:performance.now();n=!1,Ls.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,iB),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),p.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},_=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:gd.reduce((b,S)=>{const E=o[S];return b[S]=(C,T=!1,R=!1)=>(n||_(),E.schedule(C,T,R)),b},{}),cancel:b=>{for(let S=0;S<gd.length;S++)o[gd[S]].cancel(b)},state:s,steps:o}}const{schedule:rt,cancel:Ii,state:zt,steps:km}=NA(typeof requestAnimationFrame<"u"?requestAnimationFrame:sr,!0);let sh;function oB(){sh=void 0}const pn={now:()=>(sh===void 0&&pn.set(zt.isProcessing||Ls.useManualTiming?zt.timestamp:performance.now()),sh),set:e=>{sh=e,queueMicrotask(oB)}},AA=e=>t=>typeof t=="string"&&t.startsWith(e),PA=AA("--"),aB=AA("var(--"),Rw=e=>aB(e)?lB.test(e.split("/*")[0].trim()):!1,lB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function aS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Dl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},uu={...Dl,transform:e=>us(0,1,e)},vd={...Dl,default:1},Nc=e=>Math.round(e*1e5)/1e5,Ow=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cB(e){return e==null}const uB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Iw=(e,t)=>n=>!!(typeof n=="string"&&uB.test(n)&&n.startsWith(e)||t&&!cB(n)&&Object.prototype.hasOwnProperty.call(n,t)),RA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Ow);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dB=e=>us(0,255,e),Em={...Dl,transform:e=>Math.round(dB(e))},uo={test:Iw("rgb","red"),parse:RA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Em.transform(e)+", "+Em.transform(t)+", "+Em.transform(n)+", "+Nc(uu.transform(r))+")"};function hB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lv={test:Iw("#"),parse:hB,transform:uo.transform},$u=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xs=$u("deg"),ls=$u("%"),oe=$u("px"),fB=$u("vh"),pB=$u("vw"),lS={...ls,parse:e=>ls.parse(e)/100,transform:e=>ls.transform(e*100)},Ea={test:Iw("hsl","hue"),parse:RA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ls.transform(Nc(t))+", "+ls.transform(Nc(n))+", "+Nc(uu.transform(r))+")"},kt={test:e=>uo.test(e)||Lv.test(e)||Ea.test(e),parse:e=>uo.test(e)?uo.parse(e):Ea.test(e)?Ea.parse(e):Lv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?uo.transform(e):Ea.transform(e),getAnimatableNone:e=>{const t=kt.parse(e);return t.alpha=0,kt.transform(t)}},mB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ow))==null?void 0:t.length)||0)+(((n=e.match(mB))==null?void 0:n.length)||0)>0}const OA="number",IA="color",vB="var",yB="var(",cS="${}",xB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function du(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(xB,c=>(kt.test(c)?(r.color.push(i),s.push(IA),n.push(kt.parse(c))):c.startsWith(yB)?(r.var.push(i),s.push(vB),n.push(c)):(r.number.push(i),s.push(OA),n.push(parseFloat(c))),++i,cS)).split(cS);return{values:n,split:l,indexes:r,types:s}}function MA(e){return du(e).values}function DA(e){const{split:t,types:n}=du(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===OA?i+=Nc(s[o]):l===IA?i+=kt.transform(s[o]):i+=s[o]}return i}}const wB=e=>typeof e=="number"?0:kt.test(e)?kt.getAnimatableNone(e):e;function bB(e){const t=MA(e);return DA(e)(t.map(wB))}const Mi={test:gB,parse:MA,createTransformer:DA,getAnimatableNone:bB};function Cm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _B({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Cm(c,l,e+1/3),i=Cm(c,l,e),o=Cm(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ef(e,t){return n=>n>0?t:e}const dt=(e,t,n)=>e+(t-e)*n,Tm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},SB=[Lv,uo,Ea],jB=e=>SB.find(t=>t.test(e));function uS(e){const t=jB(e);if(ap(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Ea&&(n=_B(n)),n}const dS=(e,t)=>{const n=uS(e),r=uS(t);if(!n||!r)return ef(e,t);const s={...n};return i=>(s.red=Tm(n.red,r.red,i),s.green=Tm(n.green,r.green,i),s.blue=Tm(n.blue,r.blue,i),s.alpha=dt(n.alpha,r.alpha,i),uo.transform(s))},$v=new Set(["none","hidden"]);function kB(e,t){return $v.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function EB(e,t){return n=>dt(e,t,n)}function Mw(e){return typeof e=="number"?EB:typeof e=="string"?Rw(e)?ef:kt.test(e)?dS:NB:Array.isArray(e)?LA:typeof e=="object"?kt.test(e)?dS:CB:ef}function LA(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Mw(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function CB(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Mw(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function TB(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],l=e.values[o]??0;n[s]=l,r[i]++}return n}const NB=(e,t)=>{const n=Mi.createTransformer(t),r=du(e),s=du(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?$v.has(e)&&!s.values.length||$v.has(t)&&!r.values.length?kB(e,t):Du(LA(TB(r,s),s.values),n):(ap(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ef(e,t))};function $A(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?dt(e,t,n):Mw(e)(e,t)}const AB=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>rt.update(t,n),stop:()=>Ii(t),now:()=>zt.isProcessing?zt.timestamp:pn.now()}},FA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tf=2e4;function Dw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<tf;)t+=n,r=e.next(t);return t>=tf?1/0:t}function PB(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Dw(r),tf);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:tr(s)}}const RB=5;function UA(e,t,n){const r=Math.max(t-RB,0);return yA(n-e(r),t-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nm=.001;function OB({duration:e=ct.duration,bounce:t=ct.bounce,velocity:n=ct.velocity,mass:r=ct.mass}){let s,i;ap(e<=as(ct.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=us(ct.minDamping,ct.maxDamping,o),e=us(ct.minDuration,ct.maxDuration,tr(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,p=Fv(u,o),w=Math.exp(-h);return Nm-f/p*w},i=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-h),m=Fv(Math.pow(u,2),o);return(-s(u)+Nm>0?-1:1)*((f-p)*w)/m}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Nm+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=MB(s,i,l);if(e=as(e),isNaN(c))return{stiffness:ct.stiffness,damping:ct.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const IB=12;function MB(e,t,n){let r=n;for(let s=1;s<IB;s++)r=r-e(r)/t(r);return r}function Fv(e,t){return e*Math.sqrt(1-t*t)}const DB=["duration","bounce"],LB=["stiffness","damping","mass"];function hS(e,t){return t.some(n=>e[n]!==void 0)}function $B(e){let t={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...e};if(!hS(e,LB)&&hS(e,DB))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*us(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ct.mass,stiffness:s,damping:i}}else{const n=OB(e);t={...t,...n,mass:ct.mass},t.isResolvedFromDuration=!0}return t}function nf(e=ct.visualDuration,t=ct.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=$B({...n,velocity:-tr(n.velocity||0)}),w=f||0,m=u/(2*Math.sqrt(c*d)),_=o-i,y=tr(Math.sqrt(c/d)),x=Math.abs(_)<5;r||(r=x?ct.restSpeed.granular:ct.restSpeed.default),s||(s=x?ct.restDelta.granular:ct.restDelta.default);let b;if(m<1){const E=Fv(y,m);b=C=>{const T=Math.exp(-m*y*C);return o-T*((w+m*y*_)/E*Math.sin(E*C)+_*Math.cos(E*C))}}else if(m===1)b=E=>o-Math.exp(-y*E)*(_+(w+y*_)*E);else{const E=y*Math.sqrt(m*m-1);b=C=>{const T=Math.exp(-m*y*C),R=Math.min(E*C,300);return o-T*((w+m*y*_)*Math.sinh(R)+E*_*Math.cosh(R))/E}}const S={calculatedDuration:p&&h||null,next:E=>{const C=b(E);if(p)l.done=E>=h;else{let T=E===0?w:0;m<1&&(T=E===0?as(w):UA(b,E,C));const R=Math.abs(T)<=r,O=Math.abs(o-C)<=s;l.done=R&&O}return l.value=l.done?o:C,l},toString:()=>{const E=Math.min(Dw(S),tf),C=FA(T=>S.next(E*T).value,E,30);return E+"ms "+C},toTransition:()=>{}};return S}nf.applyToOptions=e=>{const t=PB(e,100,nf);return e.ease=t.ease,e.duration=as(t.duration),e.type="keyframes",e};function Uv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=R=>l!==void 0&&R<l||c!==void 0&&R>c,w=R=>l===void 0?c:c===void 0||Math.abs(l-R)<Math.abs(c-R)?l:c;let m=n*t;const _=h+m,y=o===void 0?_:o(_);y!==_&&(m=y-h);const x=R=>-m*Math.exp(-R/r),b=R=>y+x(R),S=R=>{const O=x(R),D=b(R);f.done=Math.abs(O)<=u,f.value=f.done?y:D};let E,C;const T=R=>{p(f.value)&&(E=R,C=nf({keyframes:[f.value,w(f.value)],velocity:UA(b,R,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:R=>{let O=!1;return!C&&E===void 0&&(O=!0,S(R),T(R)),E!==void 0&&R>=E?C.next(R-E):(!O&&S(R),f)}}}function FB(e,t,n){const r=[],s=n||Ls.mix||$A,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||sr:t;l=Du(c,l)}r.push(l)}return r}function UB(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(pl(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=FB(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=cu(e[h],e[h+1],d);return l[h](f)};return n?d=>u(us(e[0],e[i-1],d)):u}function VB(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=cu(0,t,r);e.push(dt(n,1,s))}}function BB(e){const t=[0];return VB(t,e.length-1),t}function zB(e,t){return e.map(n=>n*t)}function qB(e,t){return e.map(()=>t||CA).splice(0,e.length-1)}function Ac({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=nB(r)?r.map(iS):iS(r),i={done:!1,value:t[0]},o=zB(n&&n.length===t.length?n:BB(t),e),l=UB(o,t,{ease:Array.isArray(s)?s:qB(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const WB=e=>e!==null;function Lw(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(WB),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const HB={decay:Uv,inertia:Uv,tween:Ac,keyframes:Ac,spring:nf};function VA(e){typeof e.type=="string"&&(e.type=HB[e.type])}class $w{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const GB=e=>e/100;class Fw extends $w{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;VA(t);const{type:n=Ac,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Ac;c!==Ac&&typeof l[0]!="number"&&(this.mixKeyframes=Du(GB,$A(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Dw(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:w,onUpdate:m,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,S=r;if(h){const R=Math.min(this.currentTime,s)/l;let O=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(f==="reverse"?(D=1-D,p&&(D-=p/l)):f==="mirror"&&(S=o)),b=us(0,1,D)*l}const E=x?{done:!1,value:d[0]}:S.next(b);i&&(E.value=i(E.value));let{done:C}=E;!x&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&w!==Uv&&(E.value=Lw(d,this.options,_,this.speed)),m&&m(E.value),T&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return tr(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tr(t)}get time(){return tr(this.currentTime)}set time(t){var n;t=as(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(pn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=tr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=AB,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function KB(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ho=e=>e*180/Math.PI,Vv=e=>{const t=ho(Math.atan2(e[1],e[0]));return Bv(t)},JB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Vv,rotateZ:Vv,skewX:e=>ho(Math.atan(e[1])),skewY:e=>ho(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bv=e=>(e=e%360,e<0&&(e+=360),e),fS=Vv,pS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),mS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),YB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pS,scaleY:mS,scale:e=>(pS(e)+mS(e))/2,rotateX:e=>Bv(ho(Math.atan2(e[6],e[5]))),rotateY:e=>Bv(ho(Math.atan2(-e[2],e[0]))),rotateZ:fS,rotate:fS,skewX:e=>ho(Math.atan(e[4])),skewY:e=>ho(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function zv(e){return e.includes("scale")?1:0}function qv(e,t){if(!e||e==="none")return zv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=YB,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JB,s=l}if(!s)return zv(t);const i=r[t],o=s[1].split(",").map(XB);return typeof i=="function"?i(o):o[i]}const QB=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return qv(n,t)};function XB(e){return parseFloat(e.trim())}const Ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(Ll),gS=e=>e===Dl||e===oe,ZB=new Set(["x","y","z"]),e6=Ll.filter(e=>!ZB.has(e));function t6(e){const t=[];return e6.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const yi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>qv(t,"x"),y:(e,{transform:t})=>qv(t,"y")};yi.translateX=yi.x;yi.translateY=yi.y;const jo=new Set;let Wv=!1,Hv=!1,Gv=!1;function BA(){if(Hv){const e=Array.from(jo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=t6(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hv=!1,Wv=!1,jo.forEach(e=>e.complete(Gv)),jo.clear()}function zA(){jo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hv=!0)})}function n6(){Gv=!0,zA(),BA(),Gv=!1}class Uw{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(jo.add(this),Wv||(Wv=!0,rt.read(zA),rt.resolveKeyframes(BA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}KB(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jo.delete(this)}cancel(){this.state==="scheduled"&&(jo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r6=e=>e.startsWith("--");function s6(e,t,n){r6(t)?e.style.setProperty(t,n):e.style[t]=n}const i6=Tw(()=>window.ScrollTimeline!==void 0),o6={};function a6(e,t){const n=Tw(e);return()=>o6[t]??n()}const qA=a6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,vS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function WA(e,t){if(e)return typeof e=="function"?qA()?FA(e,t):"ease-out":TA(e)?cc(e):Array.isArray(e)?e.map(n=>WA(n,t)||vS.easeOut):vS[e]}function l6(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=WA(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function HA(e){return typeof e=="function"&&"applyToOptions"in e}function c6({type:e,...t}){return HA(e)&&qA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class u6 extends $w{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,pl(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=c6(t);this.animation=l6(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Lw(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):s6(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return tr(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+tr(t)}get time(){return tr(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=as(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&i6()?(this.animation.timeline=t,sr):n(this)}}const GA={anticipate:jA,backInOut:SA,circInOut:EA};function d6(e){return e in GA}function h6(e){typeof e.ease=="string"&&d6(e.ease)&&(e.ease=GA[e.ease])}const Am=10;class f6 extends u6{constructor(t){h6(t),VA(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Fw({...o,autoplay:!1}),c=Math.max(Am,pn.now()-this.startTime),u=us(0,Am,c-Am);n.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const yS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mi.test(e)||e==="0")&&!e.startsWith("url("));function p6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function m6(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=yS(s,t),l=yS(i,t);return ap(o===l,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!l?!1:p6(e)||(n==="spring"||HA(n))&&r}function Kv(e){e.duration=0,e.type="keyframes"}const g6=new Set(["opacity","clipPath","filter","transform"]),v6=Tw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function y6(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return v6()&&n&&g6.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const x6=40;class w6 extends $w{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var w;super(),this.stop=()=>{var m,_;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=pn.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||Uw;this.keyframeResolver=new p(l,(m,_,y)=>this.onKeyframesResolved(m,_,f,!y),c,u,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=pn.now(),m6(t,i,o,l)||((Ls.instantAnimations||!c)&&(d==null||d(Lw(t,r,n))),t[0]=t[t.length-1],Kv(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>x6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!u&&y6(f)?new f6({...f,element:f.motionValue.owner.current}):new Fw(f);p.finished.then(()=>this.notifyFinished()).catch(sr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),n6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const b6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _6(e){const t=b6.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const S6=4;function KA(e,t,n=1){pl(n<=S6,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=_6(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return mA(o)?parseFloat(o):o}return Rw(s)?KA(s,t,n+1):s}function Vw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const JA=new Set(["width","height","top","left","right","bottom",...Ll]),j6={test:e=>e==="auto",parse:e=>e},YA=e=>t=>t.test(e),QA=[Dl,oe,ls,Xs,pB,fB,j6],xS=e=>QA.find(YA(e));function k6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vA(e):!0}const E6=new Set(["brightness","contrast","saturate","opacity"]);function C6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ow)||[];if(!r)return e;const s=n.replace(r,"");let i=E6.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const T6=/\b([a-z-]*)\(.*?\)/gu,Jv={...Mi,getAnimatableNone:e=>{const t=e.match(T6);return t?t.map(C6).join(" "):e}},wS={...Dl,transform:Math.round},N6={rotate:Xs,rotateX:Xs,rotateY:Xs,rotateZ:Xs,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:Xs,skewX:Xs,skewY:Xs,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:uu,originX:lS,originY:lS,originZ:oe},Bw={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,inset:oe,insetBlock:oe,insetBlockStart:oe,insetBlockEnd:oe,insetInline:oe,insetInlineStart:oe,insetInlineEnd:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,paddingBlock:oe,paddingBlockStart:oe,paddingBlockEnd:oe,paddingInline:oe,paddingInlineStart:oe,paddingInlineEnd:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,marginBlock:oe,marginBlockStart:oe,marginBlockEnd:oe,marginInline:oe,marginInlineStart:oe,marginInlineEnd:oe,backgroundPositionX:oe,backgroundPositionY:oe,...N6,zIndex:wS,fillOpacity:uu,strokeOpacity:uu,numOctaves:wS},A6={...Bw,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:Jv,WebkitFilter:Jv},XA=e=>A6[e];function ZA(e,t){let n=XA(e);return n!==Jv&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const P6=new Set(["auto","none","0"]);function R6(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!P6.has(i)&&du(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=ZA(n,s)}class O6 extends Uw{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Rw(h))){const f=KA(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!JA.has(r)||t.length!==2)return;const[s,i]=t,o=xS(s),l=xS(i),c=aS(s),u=aS(i);if(c!==u&&yi[r]){this.needsMeasurement=!0;return}if(o!==l)if(gS(o)&&gS(l))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else yi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||k6(t[s]))&&r.push(s);r.length&&R6(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=yi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function I6(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const eP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function tP(e){return gA(e)&&"offsetHeight"in e}const bS=30,M6=e=>!isNaN(parseFloat(e));class D6{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=pn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=M6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Nw);const r=this.events[t].add(n);return t==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bS);return yA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ml(e,t){return new D6(e,t)}const{schedule:zw,cancel:LX}=NA(queueMicrotask,!1),wr={x:!1,y:!1};function nP(){return wr.x||wr.y}function L6(e){return e==="x"||e==="y"?wr[e]?null:(wr[e]=!0,()=>{wr[e]=!1}):wr.x||wr.y?null:(wr.x=wr.y=!0,()=>{wr.x=wr.y=!1})}function rP(e,t){const n=I6(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function _S(e){return!(e.pointerType==="touch"||nP())}function $6(e,t,n={}){const[r,s,i]=rP(e,n),o=l=>{if(!_S(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{_S(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const sP=(e,t)=>t?e===t?!0:sP(e,t.parentElement):!1,qw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,F6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iP(e){return F6.has(e.tagName)||e.isContentEditable===!0}const ih=new WeakSet;function SS(e){return t=>{t.key==="Enter"&&e(t)}}function Pm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const U6=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=SS(()=>{if(ih.has(n))return;Pm(n,"down");const s=SS(()=>{Pm(n,"up")}),i=()=>Pm(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function jS(e){return qw(e)&&!nP()}function V6(e,t,n={}){const[r,s,i]=rP(e,n),o=l=>{const c=l.currentTarget;if(!jS(l))return;ih.add(c);const u=t(c,l),d=(p,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),ih.has(c)&&ih.delete(c),jS(p)&&typeof u=="function"&&u(p,{success:w})},h=p=>{d(p,c===window||c===document||n.useGlobalTarget||sP(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),tP(l)&&(l.addEventListener("focus",u=>U6(u,s)),!iP(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function oP(e){return gA(e)&&"ownerSVGElement"in e}function B6(e){return oP(e)&&e.tagName==="svg"}const Zt=e=>!!(e&&e.getVelocity),z6=[...QA,kt,Mi],q6=e=>z6.find(YA(e)),Ww=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function kS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function W6(...e){return t=>{let n=!1;const r=e.map(s=>{const i=kS(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():kS(e[s],null)}}}}function H6(...e){return g.useCallback(W6(...e),e)}class G6 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=tP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K6({children:e,isPresent:t,anchorX:n,root:r}){var d;const s=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(Ww),c=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=H6(i,c);return g.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:w,right:m}=o.current;if(t||!i.current||!h||!f)return;const _=n==="left"?`left: ${w}`:`right: ${m}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");l&&(y.nonce=l);const x=r??document.head;return x.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{x.contains(y)&&x.removeChild(y)}},[t]),a.jsx(G6,{isPresent:t,childRef:i,sizeRef:o,children:g.cloneElement(e,{ref:u})})}const J6=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=jw(Y6),d=g.useId();let h=!0,f=g.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:p=>{u.set(p,!0);for(const w of u.values())if(!w)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return i&&h&&(f={...f}),g.useMemo(()=>{u.forEach((p,w)=>u.set(w,!1))},[n]),g.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(K6,{isPresent:n,anchorX:l,root:c,children:e})),a.jsx(op.Provider,{value:f,children:e})};function Y6(){return new Map}function aP(e=!0){const t=g.useContext(op);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=g.useId();g.useEffect(()=>{if(e)return s(i)},[e]);const o=g.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const yd=e=>e.key||"";function ES(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const Fr=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=aP(o),h=g.useMemo(()=>ES(e),[e]),f=o&&!u?[]:h.map(yd),p=g.useRef(!0),w=g.useRef(h),m=jw(()=>new Map),_=g.useRef(new Set),[y,x]=g.useState(h),[b,S]=g.useState(h);pA(()=>{p.current=!1,w.current=h;for(let T=0;T<b.length;T++){const R=yd(b[T]);f.includes(R)?(m.delete(R),_.current.delete(R)):m.get(R)!==!0&&m.set(R,!1)}},[b,f.length,f.join("-")]);const E=[];if(h!==y){let T=[...h];for(let R=0;R<b.length;R++){const O=b[R],D=yd(O);f.includes(D)||(T.splice(R,0,O),E.push(O))}return i==="wait"&&E.length&&(T=E),S(ES(T)),x(h),null}const{forceRender:C}=g.useContext(Sw);return a.jsx(a.Fragment,{children:b.map(T=>{const R=yd(T),O=o&&!u?!1:h===b||f.includes(R),D=()=>{if(_.current.has(R))return;if(_.current.add(R),m.has(R))m.set(R,!0);else return;let A=!0;m.forEach(M=>{M||(A=!1)}),A&&(C==null||C(),S(w.current),o&&(d==null||d()),r&&r())};return a.jsx(J6,{isPresent:O,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:O?void 0:D,anchorX:l,children:T},R)})})},lP=g.createContext({strict:!1}),CS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gl={};for(const e in CS)gl[e]={isEnabled:t=>CS[e].some(n=>!!t[n])};function Q6(e){for(const t in e)gl[t]={...gl[t],...e[t]}}const X6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||X6.has(e)}let cP=e=>!rf(e);function Z6(e){typeof e=="function"&&(cP=t=>t.startsWith("on")?!rf(t):e(t))}try{Z6(require("@emotion/is-prop-valid").default)}catch{}function e8(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(cP(s)||n===!0&&rf(s)||!t&&!rf(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const lp=g.createContext({});function cp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function hu(e){return typeof e=="string"||Array.isArray(e)}const Hw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gw=["initial",...Hw];function up(e){return cp(e.animate)||Gw.some(t=>hu(e[t]))}function uP(e){return!!(up(e)||e.variants)}function t8(e,t){if(up(e)){const{initial:n,animate:r}=e;return{initial:n===!1||hu(n)?n:void 0,animate:hu(r)?r:void 0}}return e.inherit!==!1?t:{}}function n8(e){const{initial:t,animate:n}=t8(e,g.useContext(lp));return g.useMemo(()=>({initial:t,animate:n}),[TS(t),TS(n)])}function TS(e){return Array.isArray(e)?e.join(" "):e}function NS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(oe.test(e))e=parseFloat(e);else return e;const n=NS(e,t.target.x),r=NS(e,t.target.y);return`${n}% ${r}%`}},r8={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Mi.parse(e);if(s.length>5)return r;const i=Mi.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=dt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Yv={borderRadius:{...nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nc,borderTopRightRadius:nc,borderBottomLeftRadius:nc,borderBottomRightRadius:nc,boxShadow:r8};function dP(e,{layout:t,layoutId:n}){return $l.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Yv[e]||e==="opacity")}const s8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i8=Ll.length;function o8(e,t,n){let r="",s=!0;for(let i=0;i<i8;i++){const o=Ll[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=eP(l,Bw[o]);if(!c){s=!1;const d=s8[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Kw(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if($l.has(c)){o=!0;continue}else if(PA(c)){s[c]=u;continue}else{const d=eP(u,Bw[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=o8(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Jw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hP(e,t,n){for(const r in t)!Zt(t[r])&&!dP(r,n)&&(e[r]=t[r])}function a8({transformTemplate:e},t){return g.useMemo(()=>{const n=Jw();return Kw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function l8(e,t){const n=e.style||{},r={};return hP(r,n,e),Object.assign(r,a8(e,t)),r}function c8(e,t){const n={},r=l8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const u8={offset:"stroke-dashoffset",array:"stroke-dasharray"},d8={offset:"strokeDashoffset",array:"strokeDasharray"};function h8(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?u8:d8;e[i.offset]=oe.transform(-r);const o=oe.transform(t),l=oe.transform(n);e[i.array]=`${o} ${l}`}const f8=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function fP(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(Kw(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const p of f8)h[p]!==void 0&&(f[p]=h[p],delete h[p]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&h8(h,s,i,o,!1)}const pP=()=>({...Jw(),attrs:{}}),mP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function p8(e,t,n,r){const s=g.useMemo(()=>{const i=pP();return fP(i,t,mP(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};hP(i,e.style,e),s.style={...i,...s.style}}return s}const m8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yw(e){return typeof e!="string"||e.includes("-")?!1:!!(m8.indexOf(e)>-1||/[A-Z]/u.test(e))}function g8(e,t,n,{latestValues:r},s,i=!1,o){const c=(o??Yw(e)?p8:c8)(t,r,s,e),u=e8(t,typeof e=="string",i),d=e!==g.Fragment?{...u,...c,ref:n}:{},{children:h}=t,f=g.useMemo(()=>Zt(h)?h.get():h,[h]);return g.createElement(e,{...d,children:f})}function AS(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Qw(e,t,n,r){if(typeof t=="function"){const[s,i]=AS(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=AS(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function oh(e){return Zt(e)?e.get():e}function v8({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:y8(n,r,s,e),renderState:t()}}function y8(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=oh(i[f]);let{initial:o,animate:l}=e;const c=up(e),u=uP(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!cp(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const w=Qw(e,f[p]);if(w){const{transitionEnd:m,transition:_,...y}=w;for(const x in y){let b=y[x];if(Array.isArray(b)){const S=d?b.length-1:0;b=b[S]}b!==null&&(s[x]=b)}for(const x in m)s[x]=m[x]}}}return s}const gP=e=>(t,n)=>{const r=g.useContext(lp),s=g.useContext(op),i=()=>v8(e,t,r,s);return n?i():jw(i)};function Xw(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Zt(r[o])||t.style&&Zt(t.style[o])||dP(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const x8=gP({scrapeMotionValuesFromProps:Xw,createRenderState:Jw});function vP(e,t,n){const r=Xw(e,t,n);for(const s in e)if(Zt(e[s])||Zt(t[s])){const i=Ll.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const w8=gP({scrapeMotionValuesFromProps:vP,createRenderState:pP}),b8=Symbol.for("motionComponentSymbol");function _8(e,t,n){const r=g.useRef(n);g.useInsertionEffect(()=>{r.current=n});const s=g.useRef(null);return g.useCallback(i=>{var l;i&&((l=e.onMount)==null||l.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const c=o(i);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const Zw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),S8="framerAppearId",yP="data-"+Zw(S8),xP=g.createContext({});function uc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function j8(e,t,n,r,s,i){var _,y;const{visualElement:o}=g.useContext(lp),l=g.useContext(lP),c=g.useContext(op),u=g.useContext(Ww).reducedMotion,d=g.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const h=d.current,f=g.useContext(xP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&k8(d.current,n,s,f);const p=g.useRef(!1);g.useInsertionEffect(()=>{h&&p.current&&h.update(n,c)});const w=n[yP],m=g.useRef(!!w&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,w))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,w)));return pA(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),m.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,w)}),m.current=!1),h.enteringChildren=void 0)}),h}function k8(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wP(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&uc(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function wP(e){if(e)return e.options.allowProjection!==!1?e.projection:wP(e.parent)}function Rm(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&Q6(r);const i=n?n==="svg":Yw(e),o=i?w8:x8;function l(u,d){let h;const f={...g.useContext(Ww),...u,layoutId:E8(u)},{isStatic:p}=f,w=n8(u),m=o(u,p);if(!p&&kw){C8();const _=T8(f);h=_.MeasureLayout,w.visualElement=j8(e,m,f,s,_.ProjectionNode,i)}return a.jsxs(lp.Provider,{value:w,children:[h&&w.visualElement?a.jsx(h,{visualElement:w.visualElement,...f}):null,g8(e,u,_8(m,w.visualElement,d),m,p,t,i)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=g.forwardRef(l);return c[b8]=e,c}function E8({layoutId:e}){const t=g.useContext(Sw).id;return t&&e!==void 0?t+"-"+e:e}function C8(e,t){g.useContext(lP).strict}function T8(e){const{drag:t,layout:n}=gl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function N8(e,t){if(typeof Proxy>"u")return Rm;const n=new Map,r=(i,o)=>Rm(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Rm(o,void 0,e,t)),n.get(o))})}function bP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function A8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function P8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Om(e){return e===void 0||e===1}function Qv({scale:e,scaleX:t,scaleY:n}){return!Om(e)||!Om(t)||!Om(n)}function ro(e){return Qv(e)||_P(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _P(e){return PS(e.x)||PS(e.y)}function PS(e){return e&&e!=="0%"}function sf(e,t,n){const r=e-n,s=t*r;return n+s}function RS(e,t,n,r,s){return s!==void 0&&(e=sf(e,s,r)),sf(e,n,r)+t}function Xv(e,t=0,n=1,r,s){e.min=RS(e.min,t,n,r,s),e.max=RS(e.max,t,n,r,s)}function SP(e,{x:t,y:n}){Xv(e.x,t.translate,t.scale,t.originPoint),Xv(e.y,n.translate,n.scale,n.originPoint)}const OS=.999999999999,IS=1.0000000000001;function R8(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ta(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,SP(e,o)),r&&ro(i.latestValues)&&Ta(e,i.latestValues))}t.x<IS&&t.x>OS&&(t.x=1),t.y<IS&&t.y>OS&&(t.y=1)}function Ca(e,t){e.min=e.min+t,e.max=e.max+t}function MS(e,t,n,r,s=.5){const i=dt(e.min,e.max,s);Xv(e,t,n,i,r)}function Ta(e,t){MS(e.x,t.x,t.scaleX,t.scale,t.originX),MS(e.y,t.y,t.scaleY,t.scale,t.originY)}function jP(e,t){return bP(P8(e.getBoundingClientRect(),t))}function O8(e,t,n){const r=jP(e,n),{scroll:s}=t;return s&&(Ca(r.x,s.offset.x),Ca(r.y,s.offset.y)),r}const DS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Na=()=>({x:DS(),y:DS()}),LS=()=>({min:0,max:0}),Nt=()=>({x:LS(),y:LS()}),Zv={current:null},kP={current:!1};function I8(){if(kP.current=!0,!!kw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zv.current=e.matches;e.addEventListener("change",t),t()}else Zv.current=!1}const M8=new WeakMap;function D8(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Zt(s))e.addValue(r,s);else if(Zt(i))e.addValue(r,ml(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,ml(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const $S=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class L8{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=pn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,rt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=up(n),this.isVariantNode=uP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Zt(p)&&p.set(c[f])}}mount(t){var n;this.current=t,M8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(kP.current||I8(),this.shouldReduceMotion=Zv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=$l.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gl){const n=gl[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$S.length;r++){const s=$S[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=D8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ml(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mA(r)||vA(r))?r=parseFloat(r):!q6(r)&&Mi.test(n)&&(r=ZA(t,n)),this.setBaseTarget(t,Zt(r)?r.get():r)),Zt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Qw(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Zt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Nw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){zw.render(this.render)}}class EP extends L8{constructor(){super(...arguments),this.KeyframeResolver=O6}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CP(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function $8(e){return window.getComputedStyle(e)}class F8 extends EP{constructor(){super(...arguments),this.type="html",this.renderInstance=CP}readValueFromInstance(t,n){var r;if($l.has(n))return(r=this.projection)!=null&&r.isProjecting?zv(n):QB(t,n);{const s=$8(t),i=(PA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jP(t,n)}build(t,n,r){Kw(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Xw(t,n,r)}}const TP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function U8(e,t,n,r){CP(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(TP.has(s)?s:Zw(s),t.attrs[s])}class V8 extends EP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if($l.has(n)){const r=XA(n);return r&&r.default||0}return n=TP.has(n)?n:Zw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return vP(t,n,r)}build(t,n,r){fP(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){U8(t,n,r,s)}mount(t){this.isSVGTag=mP(t.tagName),super.mount(t)}}const B8=(e,t)=>t.isSVG??Yw(e)?new V8(t):new F8(t,{allowProjection:e!==g.Fragment});function Ua(e,t,n){const r=e.getProps();return Qw(r,t,n!==void 0?n:r.custom,e)}const ey=e=>Array.isArray(e);function z8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ml(n))}function q8(e){return ey(e)?e[e.length-1]||0:e}function W8(e,t){const n=Ua(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=q8(i[o]);z8(e,o,l)}}function H8(e){return!!(Zt(e)&&e.add)}function ty(e,t){const n=e.getValue("willChange");if(H8(n))return n.add(t);if(!n&&Ls.WillChange){const r=new Ls.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function NP(e){return e.props[yP]}const G8=e=>e!==null;function K8(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(G8),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const J8={type:"spring",stiffness:500,damping:25,restSpeed:10},Y8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Q8={type:"keyframes",duration:.8},X8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z8=(e,{keyframes:t})=>t.length>2?Q8:$l.has(e)?e.startsWith("scale")?Y8(t[1]):J8:X8;function ez({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const e0=(e,t,n,r={},s,i)=>o=>{const l=Vw(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-as(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};ez(l)||Object.assign(d,Z8(e,d)),d.duration&&(d.duration=as(d.duration)),d.repeatDelay&&(d.repeatDelay=as(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Kv(d),d.delay===0&&(h=!0)),(Ls.instantAnimations||Ls.skipAnimations)&&(h=!0,Kv(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=K8(d.keyframes,l);if(f!==void 0){rt.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Fw(d):new w6(d)};function tz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AP(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&tz(u,d))continue;const p={delay:n,...Vw(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===w&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=NP(e);if(y){const x=window.MotionHandoffAnimation(y,d,rt);x!==null&&(p.startTime=x,m=!0)}}ty(e,d),h.start(e0(d,h,f,e.shouldReduceMotion&&JA.has(d)?{type:!1}:p,e,m));const _=h.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{rt.update(()=>{o&&W8(e,o)})}),c}function PP(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function ny(e,t,n={}){var c;const r=Ua(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(AP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return nz(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function nz(e,t,n=0,r=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(ny(c,t,{...o,delay:n+(typeof r=="function"?0:r)+PP(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function rz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>ny(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=ny(e,t,n);else{const s=typeof t=="function"?Ua(e,t,n.custom):t;r=Promise.all(AP(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function RP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const sz=Gw.length;function OP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?OP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<sz;n++){const r=Gw[n],s=e.props[r];(hu(s)||s===!1)&&(t[r]=s)}return t}const iz=[...Hw].reverse(),oz=Hw.length;function az(e){return t=>Promise.all(t.map(({animation:n,options:r})=>rz(e,n,r)))}function lz(e){let t=az(e),n=FS(),r=!0;const s=c=>(u,d)=>{var f;const h=Ua(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:w,...m}=h;u={...u,...m,...w}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=OP(e.parent)||{},h=[],f=new Set;let p={},w=1/0;for(let _=0;_<oz;_++){const y=iz[_],x=n[y],b=u[y]!==void 0?u[y]:d[y],S=hu(b),E=y===c?x.isActive:null;E===!1&&(w=_);let C=b===d[y]&&b!==u[y]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),x.protectedKeys={...p},!x.isActive&&E===null||!b&&!x.prevProp||cp(b)||typeof b=="boolean")continue;const T=cz(x.prevProp,b);let R=T||y===c&&x.isActive&&!C&&S||_>w&&S,O=!1;const D=Array.isArray(b)?b:[b];let A=D.reduce(s(y),{});E===!1&&(A={});const{prevResolvedValues:M={}}=x,q={...M,...A},F=B=>{R=!0,f.has(B)&&(O=!0,f.delete(B)),x.needsAnimating[B]=!0;const I=e.getValue(B);I&&(I.liveStyle=!1)};for(const B in q){const I=A[B],$=M[B];if(p.hasOwnProperty(B))continue;let K=!1;ey(I)&&ey($)?K=!RP(I,$):K=I!==$,K?I!=null?F(B):f.add(B):I!==void 0&&f.has(B)?F(B):x.protectedKeys[B]=!0}x.prevProp=b,x.prevResolvedValues=A,x.isActive&&(p={...p,...A}),r&&e.blockInitialAnimation&&(R=!1);const Z=C&&T;R&&(!Z||O)&&h.push(...D.map(B=>{const I={type:y};if(typeof B=="string"&&r&&!Z&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,K=Ua($,B);if($.enteringChildren&&K){const{delayChildren:ie}=K.transition||{};I.delay=PP($.enteringChildren,e,ie)}}return{animation:B,options:I}}))}if(f.size){const _={};if(typeof u.initial!="boolean"){const y=Ua(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(_.transition=y.transition)}f.forEach(y=>{const x=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),_[y]=x??null}),h.push({animation:_})}let m=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=FS()}}}function cz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!RP(t,e):!1}function Ki(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FS(){return{animate:Ki(!0),whileInView:Ki(),whileHover:Ki(),whileTap:Ki(),whileDrag:Ki(),whileFocus:Ki(),exit:Ki()}}class qi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uz extends qi{constructor(t){super(t),t.animationState||(t.animationState=lz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let dz=0;class hz extends qi{constructor(){super(...arguments),this.id=dz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const fz={animation:{Feature:uz},exit:{Feature:hz}};function fu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Fu(e){return{point:{x:e.pageX,y:e.pageY}}}const pz=e=>t=>qw(t)&&e(t,Fu(t));function Pc(e,t,n,r){return fu(e,t,pz(n),r)}const IP=1e-4,mz=1-IP,gz=1+IP,MP=.01,vz=0-MP,yz=0+MP;function mn(e){return e.max-e.min}function xz(e,t,n){return Math.abs(e-t)<=n}function US(e,t,n,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=mz&&e.scale<=gz||isNaN(e.scale))&&(e.scale=1),(e.translate>=vz&&e.translate<=yz||isNaN(e.translate))&&(e.translate=0)}function Rc(e,t,n,r){US(e.x,t.x,n.x,r?r.originX:void 0),US(e.y,t.y,n.y,r?r.originY:void 0)}function VS(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function wz(e,t,n){VS(e.x,t.x,n.x),VS(e.y,t.y,n.y)}function BS(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function of(e,t,n){BS(e.x,t.x,n.x),BS(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const DP=({current:e})=>e?e.ownerDocument.defaultView:null,zS=(e,t)=>Math.abs(e-t);function bz(e,t){const n=zS(e.x,t.x),r=zS(e.y,t.y);return Math.sqrt(n**2+r**2)}const qS=new Set(["auto","scroll"]);class LP{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Mm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,m=bz(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!m)return;const{point:_}=p,{timestamp:y}=zt;this.history.push({..._,timestamp:y});const{onStart:x,onMove:b}=this.handlers;w||(x&&x(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,p)},this.handlePointerMove=(p,w)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Im(w,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(p,w)=>{this.end();const{onEnd:m,onSessionEnd:_,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Mm(p.type==="pointercancel"?this.lastMoveEventInfo:Im(w,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,x),_&&_(p,x)},!qw(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const c=Fu(t),u=Im(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=zt;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,Mm(u,this.history)),this.removeListeners=Du(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(qS.has(r.overflowX)||qS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),rt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ii(this.updatePoint)}}function Im(e,t){return t?{point:t(e.point)}:e}function WS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mm({point:e},t){return{point:e,delta:WS(e,$P(t)),offset:WS(e,_z(t)),velocity:Sz(t,.1)}}function _z(e){return e[0]}function $P(e){return e[e.length-1]}function Sz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=$P(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>as(t)));)n--;if(!r)return{x:0,y:0};const i=tr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dt(n,e,r.max):Math.min(e,n)),e}function HS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function kz(e,{top:t,left:n,bottom:r,right:s}){return{x:HS(e.x,n,s),y:HS(e.y,t,r)}}function GS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ez(e,t){return{x:GS(e.x,t.x),y:GS(e.y,t.y)}}function Cz(e,t){let n=.5;const r=mn(e),s=mn(t);return s>r?n=cu(t.min,t.max-r,e.min):r>s&&(n=cu(e.min,e.max-s,t.min)),us(0,1,n)}function Tz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ry=.35;function Nz(e=ry){return e===!1?e=0:e===!0&&(e=ry),{x:KS(e,"left","right"),y:KS(e,"top","bottom")}}function KS(e,t,n){return{min:JS(e,t),max:JS(e,n)}}function JS(e,t){return typeof e=="number"?e:e[t]||0}const Az=new WeakMap;class Pz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(Fu(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:p,dragPropagation:w,onDragStart:m}=this.getProps();if(p&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L6(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(y=>{let x=this.getAxisMotionValue(y).get()||0;if(ls.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[y];S&&(x=mn(S)*(parseFloat(x)/100))}}this.originPoint[y]=x}),m&&rt.postRender(()=>m(h,f)),ty(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:w,onDirectionLock:m,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=f;if(w&&this.currentDirection===null){this.currentDirection=Rz(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),_&&_(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Hn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new LP(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:DP(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&rt.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!xd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=jz(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&uc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=kz(r.layoutBox,t):this.constraints=!1,this.elastic=Nz(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Tz(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!uc(t))return!1;const r=t.current;pl(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=O8(r,s.root,this.visualElement.getTransformPagePoint());let o=Ez(s.layout.layoutBox,i);if(n){const l=n(A8(o));this.hasMutatedConstraints=!!l,l&&(o=bP(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Hn(d=>{if(!xd(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ty(this.visualElement,t),r.start(e0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:r}=this.getProps();if(!xd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n],c=i.get()||0;i.set(t[n]-dt(o,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Cz({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(o=>{if(!xd(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(dt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Az.set(this.visualElement,this);const t=this.visualElement.current,n=Pc(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!iP(c.target)&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();uc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rt.read(r);const o=fu(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ry,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function xd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Rz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Oz extends qi{constructor(t){super(t),this.removeGroupControls=sr,this.removeListeners=sr,this.controls=new Pz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sr}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const YS=e=>(t,n)=>{e&&rt.postRender(()=>e(t,n))};class Iz extends qi{constructor(){super(...arguments),this.removePointerDownListener=sr}onPointerDown(t){this.session=new LP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:YS(t),onStart:YS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&rt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Dm=!1;class Mz extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Dm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Dm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||rt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Dm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FP(e){const[t,n]=aP(),r=g.useContext(Sw);return a.jsx(Mz,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(xP),isPresent:t,safeToRemove:n})}function Dz(e,t,n){const r=Zt(e)?e:ml(e);return r.start(e0("",r,t,n)),r.animation}const Lz=(e,t)=>e.depth-t.depth;class $z{constructor(){this.children=[],this.isDirty=!1}add(t){Ew(this.children,t),this.isDirty=!0}remove(t){Cw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Lz),this.isDirty=!1,this.children.forEach(t)}}function Fz(e,t){const n=pn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Ii(r),e(i-t))};return rt.setup(r,!0),()=>Ii(r)}const UP=["TopLeft","TopRight","BottomLeft","BottomRight"],Uz=UP.length,QS=e=>typeof e=="string"?parseFloat(e):e,XS=e=>typeof e=="number"||oe.test(e);function Vz(e,t,n,r,s,i){s?(e.opacity=dt(0,n.opacity??1,Bz(r)),e.opacityExit=dt(t.opacity??1,0,zz(r))):i&&(e.opacity=dt(t.opacity??1,n.opacity??1,r));for(let o=0;o<Uz;o++){const l=`border${UP[o]}Radius`;let c=ZS(t,l),u=ZS(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||XS(c)===XS(u)?(e[l]=Math.max(dt(QS(c),QS(u),r),0),(ls.test(u)||ls.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=dt(t.rotate||0,n.rotate||0,r))}function ZS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Bz=VP(0,.5,kA),zz=VP(.5,.95,sr);function VP(e,t,n){return r=>r<e?0:r>t?1:n(cu(e,t,r))}function ej(e,t){e.min=t.min,e.max=t.max}function vr(e,t){ej(e.x,t.x),ej(e.y,t.y)}function tj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function nj(e,t,n,r,s){return e-=t,e=sf(e,1/n,r),s!==void 0&&(e=sf(e,1/s,r)),e}function qz(e,t=0,n=1,r=.5,s,i=e,o=e){if(ls.test(t)&&(t=parseFloat(t),t=dt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=dt(i.min,i.max,r);e===i&&(l-=t),e.min=nj(e.min,t,n,l,s),e.max=nj(e.max,t,n,l,s)}function rj(e,t,[n,r,s],i,o){qz(e,t[n],t[r],t[s],t.scale,i,o)}const Wz=["x","scaleX","originX"],Hz=["y","scaleY","originY"];function sj(e,t,n,r){rj(e.x,t,Wz,n?n.x:void 0,r?r.x:void 0),rj(e.y,t,Hz,n?n.y:void 0,r?r.y:void 0)}function ij(e){return e.translate===0&&e.scale===1}function BP(e){return ij(e.x)&&ij(e.y)}function oj(e,t){return e.min===t.min&&e.max===t.max}function Gz(e,t){return oj(e.x,t.x)&&oj(e.y,t.y)}function aj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zP(e,t){return aj(e.x,t.x)&&aj(e.y,t.y)}function lj(e){return mn(e.x)/mn(e.y)}function cj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Kz{constructor(){this.members=[]}add(t){Ew(this.members,t),t.scheduleRender()}remove(t){if(Cw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jz(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Lm=["","X","Y","Z"],Yz=1e3;let Qz=0;function $m(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function qP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=NP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&qP(r)}function WP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Qz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eq),this.nodes.forEach(sq),this.nodes.forEach(iq),this.nodes.forEach(tq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $z)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Nw),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=oP(o)&&!B6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=Fz(f,250),ah.hasAnimatedSinceResize&&(ah.hasAnimatedSinceResize=!1,this.nodes.forEach(hj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||uq,{onLayoutAnimationStart:m,onLayoutAnimationComplete:_}=u.getProps(),y=!this.targetLayout||!zP(this.targetLayout,p),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Vw(w,"layout"),onPlay:m,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,x)}else h||hj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rq),this.nodes.forEach(Xz),this.nodes.forEach(Zz)):this.nodes.forEach(dj),this.clearAllSnapshots();const l=pn.now();zt.delta=us(0,1e3/60,l-zt.timestamp),zt.timestamp=l,zt.isProcessing=!0,km.update.process(zt),km.preRender.process(zt),km.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nq),this.sharedNodes.forEach(aq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!BP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||ro(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dq(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Nt();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(hq))){const{scroll:d}=this.root;d&&(Ca(l.x,d.offset.x),Ca(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Nt();if(vr(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&vr(l,o),Ca(l.x,h.offset.x),Ca(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=Nt();vr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ta(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ro(d.latestValues)&&Ta(c,d.latestValues)}return ro(this.latestValues)&&Ta(c,this.latestValues),c}removeTransform(o){const l=Nt();vr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ro(u.latestValues))continue;Qv(u.latestValues)&&u.updateSnapshot();const d=Nt(),h=u.measurePageBox();vr(d,h),sj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ro(this.latestValues)&&sj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=zt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),SP(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Qv(this.parent.latestValues)||_P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),of(this.relativeTargetOrigin,l,c),vr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;vr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;R8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Nt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tj(this.prevProjectionDelta.x,this.projectionDelta.x),tj(this.prevProjectionDelta.y,this.projectionDelta.y)),Rc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!cj(this.projectionDelta.x,this.prevProjectionDelta.x)||!cj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Na(),this.projectionDelta=Na(),this.projectionDeltaWithTransform=Na()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Nt(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,m=p!==w,_=this.getStack(),y=!_||_.members.length<=1,x=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(cq));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const E=S/1e3;fj(h.x,o.x,E),fj(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(of(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lq(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&Gz(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Nt()),vr(b,this.relativeTarget)),m&&(this.animationValues=d,Vz(d,u,this.latestValues,E,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{ah.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ml(0)),this.currentAnimation=Dz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&HP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Nt();const h=mn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=mn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}vr(l,c),Ta(l,d),Rc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Kz),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&$m("z",o,u,this.animationValues);for(let d=0;d<Lm.length;d++)$m(`rotate${Lm[d]}`,o,u,this.animationValues),$m(`skew${Lm[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=oh(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=oh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ro(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Jz(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in Yv){if(d[w]===void 0)continue;const{correct:m,applyTo:_,isCSSVariable:y}=Yv[w],x=h==="none"?d[w]:m(d[w],u);if(_){const b=_.length;for(let S=0;S<b;S++)o[_[S]]=x}else y?this.options.visualElement.renderState.vars[w]=x:o[w]=x}this.options.layoutId&&(o.pointerEvents=u===this?oh(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(uj),this.root.sharedNodes.clear()}}}function Xz(e){e.updateLayout()}function Zz(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Hn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=mn(f);f.min=r[h].min,f.max=f.min+p}):HP(i,t.layoutBox,r)&&Hn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=mn(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=Na();Rc(l,r,t.layoutBox);const c=Na();o?Rc(c,e.applyTransform(s,!0),t.measuredBox):Rc(c,r,t.layoutBox);const u=!BP(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const w=Nt();of(w,t.layoutBox,f.layoutBox);const m=Nt();of(m,r,p.layoutBox),zP(w,m)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function eq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nq(e){e.clearSnapshot()}function uj(e){e.clearMeasurements()}function dj(e){e.isLayoutDirty=!1}function rq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sq(e){e.resolveTargetDelta()}function iq(e){e.calcProjection()}function oq(e){e.resetSkewAndRotation()}function aq(e){e.removeLeadSnapshot()}function fj(e,t,n){e.translate=dt(t.translate,0,n),e.scale=dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pj(e,t,n,r){e.min=dt(t.min,n.min,r),e.max=dt(t.max,n.max,r)}function lq(e,t,n,r){pj(e.x,t.x,n.x,r),pj(e.y,t.y,n.y,r)}function cq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uq={duration:.45,ease:[.4,0,.1,1]},mj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gj=mj("applewebkit/")&&!mj("chrome/")?Math.round:sr;function vj(e){e.min=gj(e.min),e.max=gj(e.max)}function dq(e){vj(e.x),vj(e.y)}function HP(e,t,n){return e==="position"||e==="preserve-aspect"&&!xz(lj(t),lj(n),.2)}function hq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fq=WP({attachResizeListener:(e,t)=>fu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fm={current:void 0},GP=WP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fm.current){const e=new fq({});e.mount(window),e.setOptions({layoutScroll:!0}),Fm.current=e}return Fm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pq={pan:{Feature:Iz},drag:{Feature:Oz,ProjectionNode:GP,MeasureLayout:FP}};function yj(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&rt.postRender(()=>i(t,Fu(t)))}class mq extends qi{mount(){const{current:t}=this.node;t&&(this.unmount=$6(t,(n,r)=>(yj(this.node,r,"Start"),s=>yj(this.node,s,"End"))))}unmount(){}}class gq extends qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xj(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&rt.postRender(()=>i(t,Fu(t)))}class vq extends qi{mount(){const{current:t}=this.node;t&&(this.unmount=V6(t,(n,r)=>(xj(this.node,r,"Start"),(s,{success:i})=>xj(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sy=new WeakMap,Um=new WeakMap,yq=e=>{const t=sy.get(e.target);t&&t(e)},xq=e=>{e.forEach(yq)};function wq({root:e,...t}){const n=e||document;Um.has(n)||Um.set(n,{});const r=Um.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(xq,{root:e,...t})),r[s]}function bq(e,t,n){const r=wq(t);return sy.set(e,n),r.observe(e),()=>{sy.delete(e),r.unobserve(e)}}const _q={some:0,all:1};class Sq extends qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_q[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return bq(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jq(t,n))&&this.startObserver()}unmount(){}}function jq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const kq={inView:{Feature:Sq},tap:{Feature:vq},focus:{Feature:gq},hover:{Feature:mq}},Eq={layout:{ProjectionNode:GP,MeasureLayout:FP}},Cq={...fz,...kq,...pq,...Eq},se=N8(Cq,B8);function Br(){const{theme:e,setTheme:t}=gN();return a.jsxs(X,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[a.jsx(se.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:a.jsx(pF,{className:"h-5 w-5"})}),a.jsx(se.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:a.jsx(lF,{className:"h-5 w-5"})}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const zr="/discovery/assets/logo-j4HpWWLy.svg",wj="https://calendly.com/hamish-goagentflow/30-minute-intro-call",bj=[{icon:Cc,title:"Interview",description:"Sophie has a 20-minute chat with each team member about how they actually work - the messy reality, not the process diagram."},{icon:XT,title:"Analyse",description:"She spots patterns across all the conversations. The things everyone's frustrated by. The manual steps that don't need to be manual."},{icon:tw,title:"Insights",description:"You get a prioritised list of opportunities - what to tackle first, what it'll take and how confident we are it'll work."}],Tq=[{icon:Oo,title:"Done in Days, Not Months",description:"Traditional discovery means consultants interviewing people for weeks. Sophie does it in a fraction of the time."},{icon:Ru,title:"Talk to Everyone Who Matters",description:"AI scales. Interview 5 people or 50 - the cost barely changes. So you get the full picture, not just the loudest voices."},{icon:Jf,title:"Recommendations, Not Just Insights",description:"You don't need another report that sits in a drawer. You need a list of what to do, in what order and why."}];function Nq(){const[e,t]=g.useState(!1),[n,r]=g.useState(1),[s,i]=g.useState(!1),[o,l]=g.useState({name:"",email:"",company:"",challenge:""}),[c,u]=g.useState(!1),[d,h]=g.useState(!1),[f,p]=g.useState(!1),w=g.useRef(null),m=g.useRef(null);g.useEffect(()=>{const E=C=>{w.current&&!w.current.contains(C.target)&&h(!1),m.current&&!m.current.contains(C.target)&&p(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const _=()=>{typeof window<"u"&&window.Calendly?window.Calendly.initPopupWidget({url:wj}):window.open(wj,"_blank")},y=E=>{l({...o,[E.target.name]:E.target.value})},x=async E=>{E.preventDefault(),i(!0);try{(await fetch("https://formspree.io/f/mzzakvbk",{method:"POST",body:JSON.stringify({...o,_subject:`Discovery Inquiry from ${o.name}`,source:"Discovery Landing Page"}),headers:{"Content-Type":"application/json",Accept:"application/json"}})).ok?(r(2),b()):alert("There was an error submitting your information. Please try again.")}catch{alert("There was an error submitting your information. Please try again.")}finally{i(!1)}},b=()=>{if(!document.querySelector('script[src*="calendly"]')){const C=document.createElement("script");C.src="https://assets.calendly.com/assets/external/widget.js",C.async=!0,document.body.appendChild(C)}const E=()=>{window.Calendly?window.Calendly.initInlineWidget({url:"https://calendly.com/hamish-goagentflow/30-minute-intro-call?utm_source=discovery_landing&utm_medium=web&utm_campaign=discovery_lead",parentElement:document.getElementById("calendly-container"),prefill:{name:o.name,email:o.email,customAnswers:{a1:`Discovery Inquiry | Company: ${o.company||"Not provided"}`,a2:o.challenge?`Challenge: ${o.challenge.substring(0,250)}`:"Via Discovery Landing Page"}}}):setTimeout(E,100)};E()},S=()=>{t(!1),r(1),l({name:"",email:"",company:"",challenge:""})};return a.jsxs("div",{className:"min-h-screen bg-background has-dual-nav",children:[a.jsx("link",{href:"https://assets.calendly.com/assets/external/widget.css",rel:"stylesheet"}),a.jsx("header",{className:"af-nav",children:a.jsxs("div",{className:"af-nav__container",children:[a.jsxs("a",{href:"https://www.goagentflow.com",className:"af-nav__logo",children:[a.jsx("img",{src:zr,alt:"AgentFlow logo",className:"af-nav__logo-img"}),a.jsx("span",{className:"af-nav__logo-text",children:"AgentFlow"})]}),a.jsxs("nav",{className:"af-nav__links",children:[a.jsx("a",{href:"https://www.goagentflow.com/#solution",className:"af-nav__link",children:"Our Solution"}),a.jsxs("div",{ref:w,className:`af-nav__dropdown ${d?"is-open":""}`,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[a.jsxs("button",{className:"af-nav__dropdown-trigger",onClick:()=>h(!d),"aria-haspopup":"true","aria-expanded":d,children:["Tools ",a.jsx(So,{className:"h-4 w-4"})]}),a.jsxs("div",{className:"af-nav__dropdown-content",children:[a.jsx("a",{href:"https://www.goagentflow.com/assess/",className:"af-nav__dropdown-link",children:"Copilot Check-up"}),a.jsx(ke,{to:"/",className:"af-nav__dropdown-link",children:"Opportunity Finder"}),a.jsx("a",{href:"https://www.goagentflow.com/vectorflow/",className:"af-nav__dropdown-link",children:"VectorFlow"})]})]}),a.jsxs("div",{ref:m,className:`af-nav__dropdown ${f?"is-open":""}`,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[a.jsxs("button",{className:"af-nav__dropdown-trigger",onClick:()=>p(!f),"aria-haspopup":"true","aria-expanded":f,children:["About ",a.jsx(So,{className:"h-4 w-4"})]}),a.jsxs("div",{className:"af-nav__dropdown-content",children:[a.jsx("a",{href:"https://www.goagentflow.com/our-story.html",className:"af-nav__dropdown-link",children:"Our Story"}),a.jsx("a",{href:"https://www.goagentflow.com/#why-us",className:"af-nav__dropdown-link",children:"Meet the Team"}),a.jsx("a",{href:"https://www.goagentflow.com/our-approach.html",className:"af-nav__dropdown-link",children:"Our Approach"})]})]}),a.jsx("a",{href:"https://www.goagentflow.com/#use-cases",className:"af-nav__link",children:"Case Studies"}),a.jsx("a",{href:"https://www.goagentflow.com/founders.html",className:"af-nav__link",children:"From the Founders"})]}),a.jsxs("div",{className:"af-nav__auth",children:[a.jsx(X,{asChild:!0,variant:"ghost",size:"sm",className:"text-[#a6c3e8] hover:text-[#fdfaf6]",children:a.jsx(ke,{to:"/admin/login",children:"Admin"})}),a.jsx(Br,{}),a.jsx("button",{onClick:_,className:"af-nav__cta",children:"Let's Talk"})]}),a.jsx("button",{className:"af-nav__mobile-toggle",onClick:()=>u(!c),"aria-label":"Toggle menu",children:c?a.jsx(dl,{className:"h-6 w-6"}):a.jsx(tN,{className:"h-6 w-6"})})]})}),a.jsx("nav",{className:"af-subnav",children:a.jsxs("div",{className:"af-subnav__container",children:[a.jsxs("div",{className:"af-subnav__left",children:[a.jsx("span",{className:"af-subnav__brand",children:"Opportunity Finder"}),a.jsxs("div",{className:"af-subnav__links",children:[a.jsx("a",{href:"#how-it-works",className:"af-subnav__link",children:"How It Works"}),a.jsx("span",{className:"af-subnav__separator",children:""}),a.jsx("a",{href:"#benefits",className:"af-subnav__link",children:"Benefits"}),a.jsx("span",{className:"af-subnav__separator",children:""}),a.jsx("a",{href:"#who-its-for",className:"af-subnav__link",children:"Is This For You?"})]})]}),a.jsx("button",{onClick:()=>t(!0),className:"af-subnav__cta",children:"Book a Discovery Call"})]})}),a.jsxs("div",{className:`af-nav__mobile-menu ${c?"is-open":""}`,children:[a.jsx("a",{href:"https://www.goagentflow.com/#solution",className:"af-nav__mobile-link",children:"Our Solution"}),a.jsxs("div",{className:"py-3 border-b",style:{borderColor:"rgba(166, 195, 232, 0.2)"},children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Tools"}),a.jsx("a",{href:"https://www.goagentflow.com/assess/",className:"block py-2 text-sm text-[#fdfaf6]",children:"Copilot Check-up"}),a.jsx(ke,{to:"/",className:"block py-2 text-sm text-[#fdfaf6]",onClick:()=>u(!1),children:"Opportunity Finder"}),a.jsx("a",{href:"https://www.goagentflow.com/vectorflow/",className:"block py-2 text-sm text-[#fdfaf6]",children:"VectorFlow"})]}),a.jsxs("div",{className:"py-3 border-b",style:{borderColor:"rgba(166, 195, 232, 0.2)"},children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"About"}),a.jsx("a",{href:"https://www.goagentflow.com/our-story.html",className:"block py-2 text-sm text-[#fdfaf6]",children:"Our Story"}),a.jsx("a",{href:"https://www.goagentflow.com/#why-us",className:"block py-2 text-sm text-[#fdfaf6]",children:"Meet the Team"}),a.jsx("a",{href:"https://www.goagentflow.com/our-approach.html",className:"block py-2 text-sm text-[#fdfaf6]",children:"Our Approach"})]}),a.jsx("a",{href:"https://www.goagentflow.com/#use-cases",className:"af-nav__mobile-link",children:"Case Studies"}),a.jsx("a",{href:"https://www.goagentflow.com/founders.html",className:"af-nav__mobile-link",children:"From the Founders"}),a.jsxs("div",{className:"py-3 border-b",style:{borderColor:"rgba(166, 195, 232, 0.2)"},children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Opportunity Finder"}),a.jsx("a",{href:"#how-it-works",className:"block py-2 text-sm text-[#fdfaf6]",onClick:()=>u(!1),children:"How It Works"}),a.jsx("a",{href:"#benefits",className:"block py-2 text-sm text-[#fdfaf6]",onClick:()=>u(!1),children:"Benefits"}),a.jsx("a",{href:"#who-its-for",className:"block py-2 text-sm text-[#fdfaf6]",onClick:()=>u(!1),children:"Is This For You?"})]}),a.jsxs("div",{className:"pt-4 space-y-3",children:[a.jsx(X,{className:"w-full font-semibold",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},onClick:()=>{t(!0),u(!1)},children:"Book a Discovery Call"}),a.jsx(X,{asChild:!0,variant:"outline",className:"w-full border-[#a6c3e8]/30 text-[#fdfaf6]",children:a.jsx(ke,{to:"/admin/login",onClick:()=>u(!1),children:"Admin Login"})}),a.jsx("button",{onClick:_,className:"af-nav__cta w-full",children:"Let's Talk"})]})]}),a.jsxs("section",{id:"hero",className:"relative flex min-h-[calc(100vh-4rem)] flex-col items-center justify-center pt-16",children:[a.jsx("div",{className:"container text-center",children:a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mx-auto max-w-3xl",children:[a.jsx("div",{className:"mb-6 inline-flex items-center rounded-full border px-4 py-1.5 text-sm",style:{borderColor:"#7952b3",color:"#7952b3"},children:"AI-Powered Process Discovery"}),a.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["Your Team Knows Where the Problems Are."," ",a.jsx("span",{style:{color:"#3d5fa8"},children:"They Just Need Someone to Listen."})]}),a.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Sophie is our AI interviewer. She talks to your people, maps out how work actually flows and finds the automation opportunities hiding in plain sight. No consultants. No six-month projects."}),a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:a.jsxs(X,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},onClick:()=>t(!0),children:["Book a Free Discovery Call",a.jsx(Xt,{className:"h-4 w-4"})]})})]})}),a.jsx(se.a,{href:"#how-it-works",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-muted-foreground hover:text-foreground transition-colors",children:a.jsx(se.div,{animate:{y:[0,8,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:a.jsx(So,{className:"h-6 w-6"})})})]}),a.jsx("section",{id:"how-it-works",className:"bg-muted/30 py-16",children:a.jsxs("div",{className:"container",children:[a.jsxs(se.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-12 text-center",children:[a.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How Discovery Works"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to uncover your automation opportunities"})]}),a.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:bj.map((E,C)=>a.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:C*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[a.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(E.icon,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[a.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold text-white",style:{backgroundColor:"#7952b3"},children:C+1}),a.jsx("h3",{className:"text-xl font-semibold text-foreground",children:E.title})]}),a.jsx("p",{className:"text-muted-foreground",children:E.description}),C<bj.length-1&&a.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:a.jsx(Xt,{className:"h-6 w-6 text-muted-foreground/50"})})]},E.title))})]})}),a.jsx("section",{id:"benefits",className:"py-16",children:a.jsxs("div",{className:"container",children:[a.jsxs(se.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-12 text-center",children:[a.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"Why Use AI Discovery?"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Traditional discovery is slow and expensive. We've fixed that."})]}),a.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:Tq.map((E,C)=>a.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:C*.1},className:"rounded-xl border bg-card p-8 shadow-sm",children:[a.jsx("div",{className:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-lg",style:{backgroundColor:"#7952b3"},children:a.jsx(E.icon,{className:"h-6 w-6 text-white"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:E.title}),a.jsx("p",{className:"text-muted-foreground",children:E.description})]},E.title))})]})}),a.jsx("section",{id:"who-its-for",className:"bg-muted/30 py-16",children:a.jsx("div",{className:"container",children:a.jsx("div",{className:"mx-auto max-w-3xl text-center",children:a.jsxs(se.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},children:[a.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"Is This For You?"}),a.jsx("p",{className:"mb-8 text-lg text-muted-foreground",children:"Discovery is perfect if you're experiencing any of these:"}),a.jsx("div",{className:"space-y-4 text-left",children:["Your team spends hours on repetitive tasks that feel like they should be automated","You know there are inefficiencies but struggle to prioritise where to start","Previous automation attempts failed because they solved the wrong problems","You want to understand your workflows better before investing in new tools"].map((E,C)=>a.jsxs(se.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:C*.1},className:"flex items-start gap-3 rounded-lg border bg-card p-4",children:[a.jsx(Dr,{className:"mt-0.5 h-5 w-5 flex-shrink-0",style:{color:"#7952b3"}}),a.jsx("span",{className:"text-foreground",children:E})]},C))})]})})})}),a.jsx("section",{id:"contact",className:"py-16",children:a.jsx("div",{className:"container",children:a.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mx-auto max-w-2xl rounded-2xl border-0 bg-card p-8 text-center shadow-lg sm:p-12",style:{borderLeft:"4px solid",borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(tw,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mb-4 text-2xl font-bold text-foreground sm:text-3xl",children:"Fancy a Chat?"}),a.jsx("p",{className:"mb-8 text-muted-foreground",children:"Book 30 minutes with us. We'll talk through your situation and whether Sophie can help. No pitch, no pressure - and if we don't think it's right for you, we'll say so."}),a.jsxs(X,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},onClick:()=>t(!0),children:["Book Your Free Discovery Call",a.jsx(Xt,{className:"h-4 w-4"})]})]})})}),a.jsx("footer",{className:"border-t py-8",children:a.jsxs("div",{className:"container",children:[a.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[a.jsx(ke,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),a.jsx("span",{className:"text-muted-foreground/50",children:"|"}),a.jsx(ke,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),a.jsx("span",{className:"text-muted-foreground/50",children:"|"}),a.jsx(ke,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})}),a.jsx(Fr,{children:e&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:E=>E.target===E.currentTarget&&S(),children:a.jsxs(se.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative max-h-[90vh] w-full max-w-lg overflow-auto rounded-2xl bg-background p-6 shadow-xl sm:p-8",children:[a.jsx("button",{onClick:S,className:"absolute right-4 top-4 rounded-full p-1 text-muted-foreground hover:bg-muted hover:text-foreground",children:a.jsx(dl,{className:"h-5 w-5"})}),a.jsxs(Fr,{mode:"wait",children:[n===1&&a.jsxs(se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[a.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold text-white",style:{backgroundColor:"#3d5fa8"},children:"1"}),a.jsx("div",{className:"h-1 w-12 rounded-full bg-muted"}),a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-sm font-semibold text-muted-foreground",children:"2"})]}),a.jsx("h3",{className:"mb-2 text-center text-xl font-bold text-foreground",children:"Tell Us About Your Challenge"}),a.jsx("p",{className:"mb-6 text-center text-sm text-muted-foreground",children:"We'll review this before our call so we can give you specific, relevant advice."}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"name",children:"Name *"}),a.jsx(Je,{id:"name",name:"name",value:o.name,onChange:y,required:!0,placeholder:"Your name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"email",children:"Email *"}),a.jsx(Je,{id:"email",name:"email",type:"email",value:o.email,onChange:y,required:!0,placeholder:"you@company.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"company",children:"Company"}),a.jsx(Je,{id:"company",name:"company",value:o.company,onChange:y,placeholder:"Your company name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"challenge",children:"What's the biggest workflow challenge you're facing? *"}),a.jsx(Mu,{id:"challenge",name:"challenge",value:o.challenge,onChange:y,required:!0,placeholder:"e.g., Our team spends hours manually processing invoices, copying data between systems...",rows:4})]}),a.jsx(X,{type:"submit",className:"w-full gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):a.jsxs(a.Fragment,{children:["Next: Book Your Call",a.jsx(Xt,{className:"h-4 w-4"})]})})]})]},"step1"),n===2&&a.jsxs(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-white",style:{backgroundColor:"#7952b3"},children:a.jsx(Dr,{className:"h-5 w-5"})}),a.jsx("div",{className:"h-1 w-12 rounded-full",style:{backgroundColor:"#7952b3"}}),a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold text-white",style:{backgroundColor:"#3d5fa8"},children:"2"})]}),a.jsx("h3",{className:"mb-2 text-center text-xl font-bold text-foreground",children:"Pick a Time That Works"}),a.jsx("p",{className:"mb-6 text-center text-sm text-muted-foreground",children:"Choose a 30-minute slot for your free discovery call."}),a.jsx("div",{id:"calendly-container",className:"min-h-[500px]"}),a.jsx("button",{onClick:()=>r(1),className:"mt-4 w-full text-center text-sm text-muted-foreground hover:text-foreground",children:" Back to edit details"})]},"step2")]})]})})})]})}const ge=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ge.displayName="Card";const ht=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));ht.displayName="CardHeader";const ft=g.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));ft.displayName="CardTitle";const vn=g.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));vn.displayName="CardDescription";const we=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));we.displayName="CardContent";const Aq=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));Aq.displayName="CardFooter";var Pq=g.createContext(void 0);function Fl(e){const t=g.useContext(Pq);return e||t||"ltr"}function iy(e,[t,n]){return Math.min(n,Math.max(t,e))}function Rq(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var t0="ScrollArea",[KP,FX]=wn(t0),[Oq,ur]=KP(t0),JP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(null),[p,w]=g.useState(null),[m,_]=g.useState(null),[y,x]=g.useState(0),[b,S]=g.useState(0),[E,C]=g.useState(!1),[T,R]=g.useState(!1),O=Ce(t,A=>c(A)),D=Fl(s);return a.jsx(Oq,{scope:n,type:r,dir:D,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:R,onCornerWidthChange:x,onCornerHeightChange:S,children:a.jsx(pe.div,{dir:D,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});JP.displayName=t0;var YP="ScrollAreaViewport",QP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=ur(YP,n),l=g.useRef(null),c=Ce(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QP.displayName=YP;var fs="ScrollAreaScrollbar",n0=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ur(fs,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(Iq,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(Mq,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(XP,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(r0,{...r,ref:t}):null});n0.displayName=fs;var Iq=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ur(fs,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Cn,{present:n||i,children:a.jsx(XP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),Mq=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ur(fs,e.__scopeScrollArea),i=e.orientation==="horizontal",o=hp(()=>c("SCROLL_END"),100),[l,c]=Rq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),a.jsx(Cn,{present:n||l!=="hidden",children:a.jsx(r0,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:le(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:le(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),XP=g.forwardRef((e,t)=>{const n=ur(fs,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=hp(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return vl(n.viewport,c),vl(n.content,c),a.jsx(Cn,{present:r||i,children:a.jsx(r0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),r0=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=ur(fs,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rR(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return Vq(f,o.current,l,p)}return n==="horizontal"?a.jsx(Dq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=_j(f,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?a.jsx(Lq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=_j(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),Dq=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ur(fs,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ce(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(eR,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dp(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),iR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:lf(o.paddingLeft),paddingEnd:lf(o.paddingRight)}})}})}),Lq=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ur(fs,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ce(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(eR,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dp(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),iR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:lf(o.paddingTop),paddingEnd:lf(o.paddingBottom)}})}})}),[$q,ZP]=KP(fs),eR=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,p=ur(fs,n),[w,m]=g.useState(null),_=Ce(t,O=>m(O)),y=g.useRef(null),x=g.useRef(""),b=p.viewport,S=r.content-r.viewport,E=Pt(d),C=Pt(c),T=hp(h,10);function R(O){if(y.current){const D=O.clientX-y.current.left,A=O.clientY-y.current.top;u({x:D,y:A})}}return g.useEffect(()=>{const O=D=>{const A=D.target;(w==null?void 0:w.contains(A))&&E(D,S)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[b,w,S,E]),g.useEffect(C,[r,C]),vl(w,T),vl(p.content,T),a.jsx($q,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Pt(i),onThumbPointerUp:Pt(o),onThumbPositionChange:C,onThumbPointerDown:Pt(l),children:a.jsx(pe.div,{...f,ref:_,style:{position:"absolute",...f.style},onPointerDown:le(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),y.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(O))}),onPointerMove:le(e.onPointerMove,R),onPointerUp:le(e.onPointerUp,O=>{const D=O.target;D.hasPointerCapture(O.pointerId)&&D.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),af="ScrollAreaThumb",tR=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ZP(af,e.__scopeScrollArea);return a.jsx(Cn,{present:n||s.hasThumb,children:a.jsx(Fq,{ref:t,...r})})}),Fq=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=ur(af,n),o=ZP(af,n),{onThumbPositionChange:l}=o,c=Ce(t,h=>o.onThumbChange(h)),u=g.useRef(void 0),d=hp(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const p=Bq(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),a.jsx(pe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:le(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),w=h.clientX-p.left,m=h.clientY-p.top;o.onThumbPointerDown({x:w,y:m})}),onPointerUp:le(e.onPointerUp,o.onThumbPointerUp)})});tR.displayName=af;var s0="ScrollAreaCorner",nR=g.forwardRef((e,t)=>{const n=ur(s0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Uq,{...e,ref:t}):null});nR.displayName=s0;var Uq=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=ur(s0,n),[i,o]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return vl(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),vl(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(pe.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function lf(e){return e?parseInt(e,10):0}function rR(e,t){const n=e/t;return isNaN(n)?0:n}function dp(e){const t=rR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Vq(e,t,n,r="ltr"){const s=dp(n),i=s/2,o=t||i,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return sR([c,u],h)(e)}function _j(e,t,n="ltr"){const r=dp(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=iy(e,c);return sR([0,o],[0,l])(u)}function sR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function iR(e,t){return e>0&&e<t}var Bq=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function hp(e,t){const n=Pt(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function vl(e,t){const n=Pt(t);Ot(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var oR=JP,zq=QP,qq=nR;const i0=g.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(oR,{ref:r,className:re("relative overflow-hidden",e),...n,children:[a.jsx(zq,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(aR,{}),a.jsx(qq,{})]}));i0.displayName=oR.displayName;const aR=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(n0,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(tR,{className:"relative flex-1 rounded-full bg-border"})}));aR.displayName=n0.displayName;function o0(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fp="Checkbox",[Wq,UX]=wn(fp),[Hq,a0]=Wq(fp);function Gq(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,p]=lr({prop:n,defaultProp:s??!1,onChange:c,caller:fp}),[w,m]=g.useState(null),[_,y]=g.useState(null),x=g.useRef(!1),b=w?!!o||!!w.closest("form"):!0,S={checked:f,disabled:i,setChecked:p,control:w,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Ti(s)?!1:s,isFormControl:b,bubbleInput:_,setBubbleInput:y};return a.jsx(Hq,{scope:t,...S,children:Kq(h)?h(S):r})}var lR="CheckboxTrigger",cR=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:w}=a0(lR,e),m=Ce(s,d),_=g.useRef(c);return g.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const x=()=>h(_.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[i,h]),a.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":Ti(c)?"mixed":c,"aria-required":u,"data-state":pR(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:m,onKeyDown:le(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:le(n,y=>{h(x=>Ti(x)?!0:!x),w&&p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});cR.displayName=lR;var l0=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return a.jsx(Gq,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(cR,{...h,ref:t,__scopeCheckbox:n}),f&&a.jsx(fR,{__scopeCheckbox:n})]})})});l0.displayName=fp;var uR="CheckboxIndicator",dR=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=a0(uR,n);return a.jsx(Cn,{present:r||Ti(i.checked)||i.checked===!0,children:a.jsx(pe.span,{"data-state":pR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});dR.displayName=uR;var hR="CheckboxBubbleInput",fR=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:p}=a0(hR,e),w=Ce(n,p),m=o0(i),_=hw(r);g.useEffect(()=>{const x=f;if(!x)return;const b=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(b,"checked").set,C=!s.current;if(m!==i&&E){const T=new Event("click",{bubbles:C});x.indeterminate=Ti(i),E.call(x,Ti(i)?!1:i),x.dispatchEvent(T)}},[f,m,i,s]);const y=g.useRef(Ti(i)?!1:i);return a.jsx(pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});fR.displayName=hR;function Kq(e){return typeof e=="function"}function Ti(e){return e==="indeterminate"}function pR(e){return Ti(e)?"indeterminate":e?"checked":"unchecked"}const lh=g.forwardRef(({className:e,...t},n)=>a.jsx(l0,{ref:n,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(dR,{className:re("flex items-center justify-center text-current"),children:a.jsx(Pu,{className:"h-4 w-4"})})}));lh.displayName=l0.displayName;var mR={};function Sj(e,t){if(e==null)return{};var n,r,s=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e){return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(e)}function gR(e){var t=function(n,r){if(Me(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Me(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Me(t)=="symbol"?t:t+""}function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gR(r.key),r)}}function Wn(e,t,n){return t&&jj(e.prototype,t),n&&jj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pp(e,t){if(t&&(Me(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ur(e){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(e)}function pu(e,t){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},pu(e,t)}function mp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pu(e,t)}function Zr(e,t,n){return(t=gR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kj(e,t,n,r,s,i,o){try{var l=e[i](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,s)}function xe(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(c){kj(i,r,s,o,l,"next",c)}function l(c){kj(i,r,s,o,l,"throw",c)}o(void 0)})}}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,l,c,u=[],d=!0,h=!1;try{if(l=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=l.call(s)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ej(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ej(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jq(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cj,wd={exports:{}},oy=function(){if(Cj)return wd.exports;Cj=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(m,_,y){return Function.prototype.apply.call(m,_,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var r=Number.isNaN||function(m){return m!=m};function s(){s.init.call(this)}wd.exports=s,wd.exports.once=function(m,_){return new Promise(function(y,x){function b(E){m.removeListener(_,S),x(E)}function S(){typeof m.removeListener=="function"&&m.removeListener("error",b),y([].slice.call(arguments))}w(m,_,S,{once:!0}),_!=="error"&&function(E,C,T){typeof E.on=="function"&&w(E,"error",C,T)}(m,b,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?s.defaultMaxListeners:m._maxListeners}function c(m,_,y,x){var b,S,E,C;if(o(y),(S=m._events)===void 0?(S=m._events=Object.create(null),m._eventsCount=0):(S.newListener!==void 0&&(m.emit("newListener",_,y.listener?y.listener:y),S=m._events),E=S[_]),E===void 0)E=S[_]=y,++m._eventsCount;else if(typeof E=="function"?E=S[_]=x?[y,E]:[E,y]:x?E.unshift(y):E.push(y),(b=l(m))>0&&E.length>b&&!E.warned){E.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=m,T.type=_,T.count=E.length,C=T,console&&console.warn&&console.warn(C)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,_,y){var x={fired:!1,wrapFn:void 0,target:m,type:_,listener:y},b=u.bind(x);return b.listener=y,x.wrapFn=b,b}function h(m,_,y){var x=m._events;if(x===void 0)return[];var b=x[_];return b===void 0?[]:typeof b=="function"?y?[b.listener||b]:[b]:y?function(S){for(var E=new Array(S.length),C=0;C<E.length;++C)E[C]=S[C].listener||S[C];return E}(b):p(b,b.length)}function f(m){var _=this._events;if(_!==void 0){var y=_[m];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function p(m,_){for(var y=new Array(_),x=0;x<_;++x)y[x]=m[x];return y}function w(m,_,y,x){if(typeof m.on=="function")x.once?m.once(_,y):m.on(_,y);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(_,function b(S){x.once&&m.removeEventListener(_,b),y(S)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(m){if(typeof m!="number"||m<0||r(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");i=m}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||r(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(m){for(var _=[],y=1;y<arguments.length;y++)_.push(arguments[y]);var x=m==="error",b=this._events;if(b!==void 0)x=x&&b.error===void 0;else if(!x)return!1;if(x){var S;if(_.length>0&&(S=_[0]),S instanceof Error)throw S;var E=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw E.context=S,E}var C=b[m];if(C===void 0)return!1;if(typeof C=="function")n(C,this,_);else{var T=C.length,R=p(C,T);for(y=0;y<T;++y)n(R[y],this,_)}return!0},s.prototype.addListener=function(m,_){return c(this,m,_,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(m,_){return c(this,m,_,!0)},s.prototype.once=function(m,_){return o(_),this.on(m,d(this,m,_)),this},s.prototype.prependOnceListener=function(m,_){return o(_),this.prependListener(m,d(this,m,_)),this},s.prototype.removeListener=function(m,_){var y,x,b,S,E;if(o(_),(x=this._events)===void 0)return this;if((y=x[m])===void 0)return this;if(y===_||y.listener===_)--this._eventsCount==0?this._events=Object.create(null):(delete x[m],x.removeListener&&this.emit("removeListener",m,y.listener||_));else if(typeof y!="function"){for(b=-1,S=y.length-1;S>=0;S--)if(y[S]===_||y[S].listener===_){E=y[S].listener,b=S;break}if(b<0)return this;b===0?y.shift():function(C,T){for(;T+1<C.length;T++)C[T]=C[T+1];C.pop()}(y,b),y.length===1&&(x[m]=y[0]),x.removeListener!==void 0&&this.emit("removeListener",m,E||_)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(m){var _,y,x;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[m]),this;if(arguments.length===0){var b,S=Object.keys(y);for(x=0;x<S.length;++x)(b=S[x])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(_=y[m])=="function")this.removeListener(m,_);else if(_!==void 0)for(x=_.length-1;x>=0;x--)this.removeListener(m,_[x]);return this},s.prototype.listeners=function(m){return h(this,m,!0)},s.prototype.rawListeners=function(m){return h(this,m,!1)},s.listenerCount=function(m,_){return typeof m.listenerCount=="function"?m.listenerCount(_):f.call(m,_)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},wd.exports}(),bd=Jq(oy),Tj=Object.prototype.hasOwnProperty;function Nj(e,t,n){for(n of e.keys())if(dn(n,t))return n}function dn(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&dn(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=Nj(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=Nj(t,s))||!dn(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(Tj.call(e,n)&&++r&&!Tj.call(t,n)||!(n in t)||!dn(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const Yq={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},vR={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},wt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ln={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Zs={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class H{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=H.getVersionPrecision(t),i=H.getVersionPrecision(n);let o=Math.max(s,i),l=0;const c=H.map([t,n],u=>{const d=o-H.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return H.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(l=o-Math.min(s,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{r[l]=o[l]})}return t}static getBrowserAlias(t){return Yq[t]}static getBrowserTypeByAlias(t){return vR[t]||""}}const Ge=/version\/(\d+(\.?_?\d+)+)/i,Qq=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=H.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=H.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=H.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=H.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=H.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=H.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=H.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=H.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=H.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=H.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=H.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=H.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=H.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=H.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=H.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=H.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=H.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=H.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=H.getFirstMatch(Ge,e)||H.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=H.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=H.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=H.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=H.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=H.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=H.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=H.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=H.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=H.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=H.getFirstMatch(Ge,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:H.getFirstMatch(t,e),version:H.getSecondMatch(t,e)}}}];var Xq=[{test:[/Roku\/DVP/],describe(e){const t=H.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ln.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=H.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ln.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=H.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=H.getWindowsVersionName(t);return{name:ln.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:ln.iOS},n=H.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=H.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=H.getMacOSVersionName(t),r={name:ln.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=H.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ln.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=H.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=H.getAndroidVersionName(t),r={name:ln.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=H.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:ln.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=H.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||H.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||H.getFirstMatch(/\bbb(\d+)/i,e);return{name:ln.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=H.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ln.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=H.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ln.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:ln.Linux})},{test:[/CrOS/],describe:()=>({name:ln.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=H.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ln.PlayStation4,version:t}}}],Zq=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=H.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:wt.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:wt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:wt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:wt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:wt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:wt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:wt.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=H.getFirstMatch(/(ipod|iphone)/i,e);return{type:wt.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:wt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:wt.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:wt.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:wt.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:wt.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:wt.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:wt.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:wt.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:wt.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:wt.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:wt.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:wt.tv})}],eW=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Zs.Blink};const t=H.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Zs.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Zs.Trident},n=H.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Zs.Presto},n=H.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Zs.Gecko},n=H.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Zs.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Zs.WebKit},n=H.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class Aj{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=H.find(Qq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=H.find(Xq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=H.find(Zq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=H.find(eW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return H.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const l=t[o];typeof l=="string"?(s[o]=l,i+=1):typeof l=="object"&&(n[o]=l,r+=1)}),r>0){const o=Object.keys(n),l=H.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}const c=H.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(s),l=H.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(s[l])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=H.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(H.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class tW{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Aj(t,n)}static parse(t){return new Aj(t).getResult()}static get BROWSER_MAP(){return vR}static get ENGINE_MAP(){return Zs}static get OS_MAP(){return ln}static get PLATFORMS_MAP(){return wt}}function gp(){return Date.now()+Math.random().toString()}function rc(){throw new Error("Method must be implemented in subclass")}function yR(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function cf(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:yR("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function uf(e){try{new URL(e)}catch{return!1}return!0}const Qe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ko="8.55.0",ze=globalThis;function df(e,t,n){const r=ze,s=r.__SENTRY__=r.__SENTRY__||{},i=s[ko]=s[ko]||{};return i[e]||(i[e]=t())}const Yo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ay=["debug","info","warn","error","log","assert","trace"],hf={};function Uu(e){if(!("console"in ze))return e();const t=ze.console,n={},r=Object.keys(hf);r.forEach(s=>{const i=hf[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const be=df("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Yo?ay.forEach(n=>{t[n]=(...r)=>{e&&Uu(()=>{ze.console[n](`Sentry Logger [${n}]:`,...r)})}}):ay.forEach(n=>{t[n]=()=>{}}),t}),fo="?",Pj=/\(error: (.*)\)/,Rj=/captureMessage|captureException/;function _d(e){return e[e.length-1]||{}}const Oj="<anonymous>";function Di(e){try{return e&&typeof e=="function"&&e.name||Oj}catch{return Oj}}function Ij(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ch={},Mj={};function Eo(e,t){ch[e]=ch[e]||[],ch[e].push(t)}function Co(e,t){if(!Mj[e]){Mj[e]=!0;try{t()}catch(n){Yo&&be.error(`Error while instrumenting ${e}`,n)}}}function Ir(e,t){const n=e&&ch[e];if(n)for(const r of n)try{r(t)}catch(s){Yo&&be.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Di(r)}
Error:`,s)}}let Vm=null;function nW(){Vm=ze.onerror,ze.onerror=function(e,t,n,r,s){return Ir("error",{column:r,error:s,line:n,msg:e,url:t}),!!Vm&&Vm.apply(this,arguments)},ze.onerror.__SENTRY_INSTRUMENTED__=!0}let Bm=null;function rW(){Bm=ze.onunhandledrejection,ze.onunhandledrejection=function(e){return Ir("unhandledrejection",e),!Bm||Bm.apply(this,arguments)},ze.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function vp(){return c0(ze),ze}function c0(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ko,t[ko]=t[ko]||{}}const xR=Object.prototype.toString;function u0(e){switch(xR.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Mo(e,Error)}}function Ul(e,t){return xR.call(e)===`[object ${t}]`}function wR(e){return Ul(e,"ErrorEvent")}function Dj(e){return Ul(e,"DOMError")}function Es(e){return Ul(e,"String")}function d0(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ly(e){return e===null||d0(e)||typeof e!="object"&&typeof e!="function"}function yl(e){return Ul(e,"Object")}function yp(e){return typeof Event<"u"&&Mo(e,Event)}function xp(e){return!!(e&&e.then&&typeof e.then=="function")}function Mo(e,t){try{return e instanceof t}catch{return!1}}function bR(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const h0=ze;function _R(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=sW(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=h));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}function sW(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(h0.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Es(o)){const l=o.split(/\s+/);for(const c of l)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function Va(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Lj(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{bR(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function iW(e,t,n=!1){return!!Es(e)&&(Ul(t,"RegExp")?t.test(e):!!Es(t)&&(n?e===t:e.includes(t)))}function Sd(e,t=[],n=!1){return t.some(r=>iW(e,r,n))}function $n(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&SR(s,r);try{e[t]=s}catch{Yo&&be.log(`Failed to replace method "${t}" in object`,e)}}function Do(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Yo&&be.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function SR(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Do(e,"__sentry_original__",t)}catch{}}function f0(e){return e.__sentry_original__}function jR(e){if(u0(e))return{message:e.message,name:e.name,stack:e.stack,...Fj(e)};if(yp(e)){const t={type:e.type,target:$j(e.target),currentTarget:$j(e.currentTarget),...Fj(e)};return typeof CustomEvent<"u"&&Mo(e,CustomEvent)&&(t.detail=e.detail),t}return e}function $j(e){try{return t=e,typeof Element<"u"&&Mo(t,Element)?_R(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function Fj(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function nr(e){return cy(e,new Map)}function cy(e,t){if(function(n){if(!yl(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=cy(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(cy(s,t))}),r}return e}function Vu(){return Date.now()/1e3}const Ns=function(){const{performance:e}=ze;if(!e||!e.now)return Vu;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ir(){const e=ze,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function kR(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function si(e){const{message:t,event_id:n}=e;if(t)return t;const r=kR(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function uy(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function xl(e,t){const n=kR(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function Uj(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{Do(e,"__sentry_captured__",!0)}catch{}return!1}var xs;function Lo(e){return new Xn(t=>{t(e)})}function ff(e){return new Xn((t,n)=>{n(e)})}(()=>{const{performance:e}=ze;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t;(i||l<t)&&s<=l&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(xs||(xs={}));class Xn{constructor(t){Xn.prototype.__init.call(this),Xn.prototype.__init2.call(this),Xn.prototype.__init3.call(this),Xn.prototype.__init4.call(this),this._state=xs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Xn((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Xn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(xs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(xs.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===xs.PENDING&&(xp(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===xs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===xs.RESOLVED&&n[1](this._value),this._state===xs.REJECTED&&n[2](this._value),n[0]=!0)})}}}function oW(e){const t=Ns(),n={sid:ir(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return nr({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&wl(n,e),n}function wl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ns(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ir()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Vj(){return ir()}function dy(){return ir().substring(16)}function wp(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=wp(r[s],t[s],n-1));return r}const hy="_sentrySpan";function Bj(e,t){t?Do(e,hy,t):delete e[hy]}function zj(e){return e[hy]}class p0{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Vj(),spanId:dy()}}clone(){const t=new p0;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Bj(t,zj(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&wl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof Li?[n.getScopeData(),n.getRequestSession()]:yl(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Bj(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Vj()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:Vu(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:zj(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=wp(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:dy(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:ir();if(!this._client)return be.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:ir();if(!this._client)return be.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ir();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(be.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Li=p0;class aW{constructor(t,n){let r,s;r=t||new Li,s=n||new Li,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return xp(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function bl(){const e=c0(vp());return e.stack=e.stack||new aW(df("defaultCurrentScope",()=>new Li),df("defaultIsolationScope",()=>new Li))}function lW(e){return bl().withScope(e)}function cW(e,t){const n=bl();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function qj(e){return bl().withScope(()=>e(bl().getIsolationScope()))}function m0(e){const t=c0(e);return t.acs?t.acs:{withIsolationScope:qj,withScope:lW,withSetScope:cW,withSetIsolationScope:(n,r)=>qj(r),getCurrentScope:()=>bl().getScope(),getIsolationScope:()=>bl().getIsolationScope()}}function Qo(){return m0(vp()).getCurrentScope()}function Bu(){return m0(vp()).getIsolationScope()}function Qt(){return Qo().getClient()}function uW(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return nr({trace_id:n,span_id:r,parent_span_id:s})}function dW(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(nr(s));return n}const hW=/^sentry-/;function fW(e){const t=function(r){if(!(!r||!Es(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=Wj(i);return Object.entries(o).forEach(([l,c])=>{s[l]=c}),s},{}):Wj(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(hW)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function Wj(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let Hj=!1;function pW(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return nr({parent_span_id:r?t:g0(e).parent_span_id,span_id:r?dy():t,trace_id:n})}function Gj(e){return typeof e=="number"?Kj(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Kj(e.getTime()):Ns()}function Kj(e){return e>9999999999?e/1e3:e}function g0(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:l,status:c}=e;return nr({span_id:t,trace_id:n,data:r,description:i,parent_span_id:l,start_timestamp:Gj(s),timestamp:Gj(o)||void 0,status:mW(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:dW(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function mW(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function ER(e){return e._sentryRootSpan||e}function gW(){Hj||(Uu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Hj=!0)}const v0="production";function CR(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=nr({environment:n.environment||v0,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function vW(e){const t=Qt();if(!t)return{};const n=ER(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&fW(i);if(o)return o;const l=CR(e.spanContext().traceId,t),c=g0(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const h=u["sentry.source"],f=c.description;return h!=="url"&&f&&(l.transaction=f),function(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const w=Qt(),m=w&&w.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(p){const{traceFlags:w}=p.spanContext();return w===1}(n))),t.emit("createDsc",l,n),l}const yW=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pf(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Jj(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function xW(e){const t=typeof e=="string"?function(n){const r=yW.exec(n);if(!r)return void Uu(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",l="",c="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const p=h.match(/^\d+/);p&&(h=p[0])}return Jj({host:l,pass:o,path:d,projectId:h,port:c,protocol:s,publicKey:i})}(e):Jj(e);if(t&&function(n){if(!Yo)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(be.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(be.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(be.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(be.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function ws(e,t=100,n=1/0){try{return fy("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function TR(e,t=3,n=102400){const r=ws(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?TR(e,t-1,n):r;var s}function fy(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(p,w){try{if(p==="domain"&&w&&typeof w=="object"&&w._events)return"[Domain]";if(p==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&w===global)return"[Global]";if(typeof window<"u"&&w===window)return"[Window]";if(typeof document<"u"&&w===document)return"[Document]";if(bR(w))return"[VueViewModel]";if(yl(m=w)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof w=="number"&&!Number.isFinite(w))return`[${w}]`;if(typeof w=="function")return`[Function: ${Di(w)}]`;if(typeof w=="symbol")return`[${String(w)}]`;if(typeof w=="bigint")return`[BigInt: ${String(w)}]`;const _=function(y){const x=Object.getPrototypeOf(y);return x?x.constructor.name:"null prototype"}(w);return/^HTML(\w*)Element$/.test(_)?`[HTMLElement: ${_}]`:`[object ${_}]`}catch(_){return`**non-serializable** (${_})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return fy("",u.toJSON(),c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=jR(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(h>=r){d[p]="[MaxProperties ~]";break}const w=f[p];d[p]=fy(p,w,c-1,r,s),h++}return o(t),d}function mu(e,t=[]){return[e,t]}function wW(e,t){const[n,r]=e;return[n,[...r,t]]}function Yj(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function py(e){return ze.__SENTRY__&&ze.__SENTRY__.encodePolyfill?ze.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function bW(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[py(r),i]:r.push(typeof i=="string"?py(i):i)}for(const i of n){const[o,l]=i;if(s(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(ws(l))}s(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(r)}function _W(e){const t=typeof e.data=="string"?py(e.data):e.data;return[nr({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const SW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Qj(e){return SW[e]}function NR(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function jW(e,t,n,r){const s=NR(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,n&&n.sdk);const o=function(l,c,u,d){const h=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:pf(d)},...h&&{trace:nr({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,mu(o,[[{type:i},e]])}function my(e,t,n,r=0){return new Xn((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const l=o({...t},n);Qe&&o.id&&l===null&&be.log(`Event processor "${o.id}" dropped event`),xp(l)?l.then(c=>my(e,c,n,r+1).then(s)).then(null,i):my(e,l,n,r+1).then(s).then(null,i)}})}let jd,Xj,zm;function kW(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,l){const{extra:c,tags:u,user:d,contexts:h,level:f,transactionName:p}=l,w=nr(c);w&&Object.keys(w).length&&(o.extra={...w,...o.extra});const m=nr(u);m&&Object.keys(m).length&&(o.tags={...m,...o.tags});const _=nr(d);_&&Object.keys(_).length&&(o.user={..._,...o.user});const y=nr(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),p&&o.type!=="transaction"&&(o.transaction=p)})(e,t),r&&function(o,l){o.contexts={trace:pW(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:vW(l),...o.sdkProcessingMetadata};const c=ER(l),u=g0(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(e,s),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(e,i)}function Zj(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:p,span:w}=t;kd(e,"extra",n),kd(e,"tags",r),kd(e,"user",s),kd(e,"contexts",i),e.sdkProcessingMetadata=wp(e.sdkProcessingMetadata,l,2),o&&(e.level=o),p&&(e.transactionName=p),w&&(e.span=w),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function kd(e,t,n){e[t]=wp(e[t],n,1)}function EW(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ir(),timestamp:t.timestamp||Vu()},u=n.integrations||e.integrations.map(w=>w.name);(function(w,m){const{environment:_,release:y,dist:x,maxValueLength:b=250}=m;w.environment=w.environment||_||v0,!w.release&&y&&(w.release=y),!w.dist&&x&&(w.dist=x),w.message&&(w.message=Va(w.message,b));const S=w.exception&&w.exception.values&&w.exception.values[0];S&&S.value&&(S.value=Va(S.value,b));const E=w.request;E&&E.url&&(E.url=Va(E.url,b))})(c,e),function(w,m){m.length>0&&(w.sdk=w.sdk||{},w.sdk.integrations=[...w.sdk.integrations||[],...m])}(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(w,m){const _=function(y){const x=ze._sentryDebugIds;if(!x)return{};const b=Object.keys(x);return zm&&b.length===Xj||(Xj=b.length,zm=b.reduce((S,E)=>{jd||(jd={});const C=jd[E];if(C)S[C[0]]=C[1];else{const T=y(E);for(let R=T.length-1;R>=0;R--){const O=T[R],D=O&&O.filename,A=x[E];if(D&&A){S[D]=A,jd[E]=[D,A];break}}}return S},{})),zm}(m);try{w.exception.values.forEach(y=>{y.stacktrace.frames.forEach(x=>{_&&x.filename&&(x.debug_id=_[x.filename])})})}catch{}}(c,e.stackParser);const d=function(w,m){if(!m)return w;const _=w?w.clone():new Li;return _.update(m),_}(r,n.captureContext);n.mechanism&&xl(c,n.mechanism);const h=s?s.getEventProcessors():[],f=df("globalScope",()=>new Li).getScopeData();i&&Zj(f,i.getScopeData()),d&&Zj(f,d.getScopeData());const p=[...n.attachments||[],...f.attachments];return p.length&&(n.attachments=p),kW(c,f),my([...h,...f.eventProcessors],c,n).then(w=>(w&&function(m){const _={};try{m.exception.values.forEach(x=>{x.stacktrace.frames.forEach(b=>{b.debug_id&&(b.abs_path?_[b.abs_path]=b.debug_id:b.filename&&(_[b.filename]=b.debug_id),delete b.debug_id)})})}catch{}if(Object.keys(_).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const y=m.debug_meta.images;Object.entries(_).forEach(([x,b])=>{y.push({type:"sourcemap",code_file:x,debug_id:b})})}(w),typeof o=="number"&&o>0?function(m,_,y){if(!m)return null;const x={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(b=>({...b,...b.data&&{data:ws(b.data,_,y)}}))},...m.user&&{user:ws(m.user,_,y)},...m.contexts&&{contexts:ws(m.contexts,_,y)},...m.extra&&{extra:ws(m.extra,_,y)}};return m.contexts&&m.contexts.trace&&x.contexts&&(x.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(x.contexts.trace.data=ws(m.contexts.trace.data,_,y))),m.spans&&(x.spans=m.spans.map(b=>({...b,...b.data&&{data:ws(b.data,_,y)}}))),m.contexts&&m.contexts.flags&&x.contexts&&(x.contexts.flags=ws(m.contexts.flags,3,y)),x}(w,o,l):w))}function e1(e,t){return Qo().captureEvent(e,t)}function t1(e){const t=Qt(),n=Bu(),r=Qo(),{release:s,environment:i=v0}=t&&t.getOptions()||{},{userAgent:o}=ze.navigator||{},l=oW({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&wl(c,{status:"exited"}),AR(),n.setSession(l),r.setSession(l),l}function AR(){const e=Bu(),t=Qo(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),wl(r,i)}(n),PR(),e.setSession(),t.setSession()}function PR(){const e=Bu(),t=Qo(),n=Qt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function n1(e=!1){e?AR():PR()}function CW(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const r1=[];function s1(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function i1(e,t,n){if(n[t.name])Qe&&be.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,r1.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),r1.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}Qe&&be.log(`Integration installed: ${t.name}`)}}class br extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const o1="Not capturing exception because it's already been captured.";class TW{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=xW(t.dsn):Qe&&be.warn("No DSN provided, client will not send events."),this._dsn){const r=CW(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&Uu(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=ir();if(Uj(t))return Qe&&be.log(o1),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:ir(),...r},o=d0(t)?t:String(t),l=ly(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,n,r){const s=ir();if(n&&n.originalException&&Uj(n.originalException))return Qe&&be.log(o1),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?Qe&&be.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),wl(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Lo(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];i1(this,t,this._integrations),n||s1(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=jW(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=wW(r,_W(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const l=NR(i);return mu({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&s&&{dsn:pf(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;Qe&&be.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Qe&&be.error("Error while sending envelope:",n),n)):(Qe&&be.error("Transport disabled"),Lo({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&i1(n,i,s)}),s}(this,t),s1(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(wl(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Xn(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Qo(),s=Bu()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),EW(i,t,n,r,this,s).then(l=>{if(l===null)return l;l.contexts={trace:uW(r),...l.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||CR(h.traceId,u)}(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{Qe&&(s instanceof br&&s.logLevel==="log"?be.log(s.message):be.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=l1(t),l=a1(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(p){if(typeof p=="boolean")return Number(p);const w=typeof p=="string"?parseFloat(p):p;if(!(typeof w!="number"||isNaN(w)||w<0||w>1))return w;Qe&&be.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),ff(new br(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",h,t),new br("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const w=function(m,_,y,x){const{beforeSend:b,beforeSendTransaction:S,beforeSendSpan:E}=_;if(a1(y)&&b)return b(y,x);if(l1(y)){if(y.spans&&E){const C=[];for(const T of y.spans){const R=E(T);R?C.push(R):(gW(),m.recordDroppedEvent("before_send","span"))}y.spans=C}if(S){if(y.spans){const C=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:C}}return S(y,x)}}return y}(this,s,p,n);return function(m,_){const y=`${_} must return \`null\` or a valid event.`;if(xp(m))return m.then(x=>{if(!yl(x)&&x!==null)throw new br(y);return x},x=>{throw new br(`${_} rejected with ${x}`)});if(!yl(m)&&m!==null)throw new br(y);return m}(w,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",h,t),o){const _=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",_)}throw new br(`${u} returned \`null\`, will not send event.`,"log")}const w=r&&r.getSession();if(!o&&w&&this._updateSessionFromEvent(w,p),o){const _=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);_>0&&this.recordDroppedEvent("before_send","span",_)}const m=p.transaction_info;if(o&&m&&p.transaction!==t.transaction){const _="custom";p.transaction_info={...m,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof br?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new br(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){Qe&&be.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Qe&&be.log("No outcomes to send"));if(!this._dsn)return void(Qe&&be.log("No dsn provided, will not send outcomes"));Qe&&be.log("Sending outcomes:",t);const n=(r=t,mu((s=this._options.tunnel&&pf(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||Vu(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function a1(e){return e.type===void 0}function l1(e){return e.type==="transaction"}function NW(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return ff(new br("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new Xn((s,i)=>{let o=t.length;if(!o)return s(!0);const l=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(c=>{Lo(c).then(()=>{--o||(clearTimeout(l),s(!0))},i)})})}}}function AW(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),h=parseInt(c,10),f=1e3*(isNaN(h)?60:h);if(u)for(const p of u.split(";"))p==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[p]=r+f);else s.all=r+f}else o?s.all=r+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,r):t===429&&(s.all=r+6e4);return s}function PW(e,t,n=NW(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(Yj(s,(c,u)=>{const d=Qj(u);if(function(h,f,p=Date.now()){return function(w,m){return w[m]||w.all||0}(h,f)>p}(r,d)){const h=c1(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return Lo({});const o=mu(s[0],i),l=c=>{Yj(o,(u,d)=>{const h=c1(u,d);e.recordDroppedEvent(c,Qj(d),h)})};return n.add(()=>t({body:bW(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Qe&&be.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=AW(r,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof br)return Qe&&be.error("Skipped sending event because buffer is full."),l("queue_overflow"),Lo({});throw c})},flush:s=>n.drain(s)}}function c1(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const RW=100;function Ji(e,t){const n=Qt(),r=Bu();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=RW}=n.getOptions();if(i<=0)return;const o={timestamp:Vu(),...e},l=s?Uu(()=>s(o,t)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let u1;const d1=new WeakMap,OW=()=>({name:"FunctionToString",setupOnce(){u1=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=f0(this),n=d1.has(Qt())&&t!==void 0?t:this;return u1.apply(n,e)}}catch{}},setup(e){d1.set(e,!0)}}),IW=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],MW=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:IW],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Qe&&be.warn(`Event dropped due to being internal Sentry Error.
Event: ${si(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(c).some(d=>Sd(d,u))}(o,l.ignoreErrors)?(Qe&&be.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${si(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(Qe&&be.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${si(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Sd(d,u)}(o,l.ignoreTransactions)?(Qe&&be.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${si(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Ed(c);return!!d&&Sd(d,u)}(o,l.denyUrls)?(Qe&&be.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${si(o)}.
Url: ${Ed(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Ed(c);return!d||Sd(d,u)}(o,l.allowUrls)?!1:(Qe&&be.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${si(o)}.
Url: ${Ed(o)}`),!0)}(t,i)?null:t}});function Ed(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return Qe&&be.error(`Cannot extract url for event ${si(e)}`),null}}function DW(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&Mo(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=gy(e,t,s,o.originalException,r,i.exception.values,l,0),u=n,c.map(d=>(d.value&&(d.value=Va(d.value,u)),d))))}function gy(e,t,n,r,s,i,o,l){if(i.length>=n+1)return i;let c=[...i];if(Mo(r[s],Error)){h1(o,l);const u=e(t,r[s]),d=c.length;f1(u,s,d,l),c=gy(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Mo(u,Error)){h1(o,l);const h=e(t,u),f=c.length;f1(h,`errors[${d}]`,f,l),c=gy(e,t,n,u,s,[h,...c],h,f)}}),c}function h1(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function f1(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function qm(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function LW(){"console"in ze&&ay.forEach(function(e){e in ze.console&&$n(ze.console,e,function(t){return hf[e]=t,function(...n){Ir("console",{args:n,level:e});const r=hf[e];r&&r.apply(ze.console,n)}})})}function $W(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const FW=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!m1(s,i)||!p1(s,i))}(n,r)||function(s,i){const o=g1(i),l=g1(s);return!(!o||!l||o.type!==l.type||o.value!==l.value||!m1(s,i)||!p1(s,i))}(n,r)):!1}(t,e))return Qe&&be.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function p1(e,t){let n=Ij(e),r=Ij(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function m1(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function g1(e){return e.exception&&e.exception.values&&e.exception.values[0]}function v1(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const Wm=ze;function vy(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function UW(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Wm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(vy(Wm.fetch))return!0;let e=!1;const t=Wm.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=vy(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Yo&&be.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function VW(e,t){const n="fetch";Eo(n,e),Co(n,()=>function(r,s=!1){s&&!UW()||$n(ze,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[p,w]=h;return{url:y1(p),method:yy(w,"method")?String(w.method).toUpperCase():"GET"}}const f=h[0];return{url:y1(f),method:yy(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*Ns(),virtualError:l};return r||Ir("fetch",{...d}),i.apply(ze,o).then(async h=>(r?r(h):Ir("fetch",{...d,endTimestamp:1e3*Ns(),response:h}),h),h=>{throw Ir("fetch",{...d,endTimestamp:1e3*Ns(),error:h}),u0(h)&&h.stack===void 0&&(h.stack=l.stack,Do(h,"framesToPop",1)),h})}})}(void 0,t))}function yy(e,t){return!!e&&typeof e=="object"&&!!e[t]}function y1(e){return typeof e=="string"?e:e?yy(e,"url")?e.url:e.toString?e.toString():"":""}const Cd=ze,Dt=ze;let xy=0;function x1(){return xy>0}function _l(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(f0(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>_l(i,t));return e.apply(this,s)}catch(s){throw xy++,setTimeout(()=>{xy--}),function(...i){const o=m0(vp());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(t.mechanism&&(uy(l,void 0),xl(l,t.mechanism)),l.extra={...l.extra,arguments:r},l)),o=s,Qo().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}SR(n,e),Do(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const bp=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function y0(e,t){const n=x0(e,t),r={type:qW(t),value:WW(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function BW(e,t,n,r){const s=Qt(),i=s&&s.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),l={__serialized__:TR(t,i)};if(o)return{exception:{values:[y0(e,o)]},extra:l};const c={exception:{values:[{type:yp(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:HW(t,{isUnhandledRejection:r})}]},extra:l};if(n){const u=x0(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Hm(e,t){return{exception:{values:[y0(e,t)]}}}function x0(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&zW.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const zW=/Minified React error #\d+;/i;function RR(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function qW(e){const t=e&&e.name;return!t&&RR(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function WW(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:RR(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function wy(e,t,n,r,s){let i;if(wR(t)&&t.error)return Hm(e,t.error);if(Dj(t)||Ul(t,"DOMException")){const o=t;if("stack"in t)i=Hm(e,t);else{const l=o.name||(Dj(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=by(e,c,n,r),uy(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return u0(t)?Hm(e,t):yl(t)||yp(t)?(i=BW(e,t,n,s),xl(i,{synthetic:!0}),i):(i=by(e,t,n,r),uy(i,`${t}`),xl(i,{synthetic:!0}),i)}function by(e,t,n,r){const s={};if(r&&n){const i=x0(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),xl(s,{synthetic:!0})}if(d0(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function HW(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(jR(s));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return Va(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:Va(u,i)}return""}(e),r=t?"promise rejection":"exception";return wR(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:yp(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class GW extends TW{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const l=r._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${s}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:ko})),version:ko}),r._metadata=l})(n,"browser",["browser"],Dt.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&Dt.document&&Dt.document.addEventListener("visibilitychange",()=>{Dt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const l=wy(r,s,i&&i.syntheticException||void 0,o);return xl(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),Lo(l)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",l,c){const u=by(s,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),Lo(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(bp&&be.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const l={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:pf(o)}};return mu(l,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const KW=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fn=ze;let w1,Gm,Km,Td;function JW(){if(!fn.document)return;const e=Ir.bind(null,"dom"),t=b1(e,!0);fn.document.addEventListener("click",t,!1),fn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=fn[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&($n(s,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=b1(e);d.handler=h,i.call(this,o,h,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),$n(s,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function b1(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;Do(n,"_sentryCaptured",!0),r&&!r._sentryId&&Do(r,"_sentryId",ir());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==Gm)return!1;try{if(!i.target||i.target._sentryId!==Km)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),Gm=n.type,Km=r?r._sentryId:void 0),clearTimeout(w1),w1=fn.setTimeout(()=>{Km=void 0,Gm=void 0},1e3)}}function OR(e){const t="history";Eo(t,e),Co(t,YW)}function YW(){if(!function(){const n=Cd.chrome,r=n&&n.app&&n.app.runtime,s="history"in Cd&&!!Cd.history.pushState&&!!Cd.history.replaceState;return!r&&s}())return;const e=fn.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Td,o=String(s);Td=o,Ir("history",{from:i,to:o})}return n.apply(this,r)}}fn.onpopstate=function(...n){const r=fn.location.href,s=Td;if(Td=r,Ir("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},$n(fn.history,"pushState",t),$n(fn.history,"replaceState",t)}const uh={};function _1(e){uh[e]=void 0}const dc="__sentry_xhr_v3__";function QW(){if(!fn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*Ns(),o=Es(r[0])?r[0].toUpperCase():void 0,l=function(u){if(Es(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!l)return t.apply(n,r);n[dc]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[dc];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}Ir("xhr",{endTimestamp:1e3*Ns(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,p]=h,w=d[dc];return w&&Es(f)&&Es(p)&&(w.request_headers[f.toLowerCase()]=p),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[dc];return s?(r[0]!==void 0&&(s.body=r[0]),Ir("xhr",{startTimestamp:1e3*Ns(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function XW(e,t=function(n){const r=uh[n];if(r)return r;let s=fn[n];if(vy(s))return uh[n]=s.bind(fn);const i=fn.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[n]&&(s=l[n]),i.head.removeChild(o)}catch(o){KW&&be.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(uh[n]=s.bind(fn))}("fetch")){let n=0,r=0;return PW(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return _1("fetch"),ff("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=i,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return _1("fetch"),n-=i,r--,ff(l)}})}function Jm(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?fo:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const ZW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,e9=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,t9=/\((\S*)(?::(\d+))(?::(\d+))\)/,n9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,r9=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s9=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=Pj.test(c)?c.replace(Pj,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(_d(c).function||"")&&c.pop(),c.reverse(),Rj.test(_d(c).function||"")&&(c.pop(),Rj.test(_d(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||_d(c).filename,function:u.function||fo}))}(i.slice(s))}}([30,e=>{const t=ZW.exec(e);if(t){const[,r,s,i]=t;return Jm(r,fo,+s,+i)}const n=e9.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=t9.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=S1(n[1]||fo,n[2]);return Jm(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=n9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=r9.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||fo;return[r,n]=S1(r,n),Jm(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),S1=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:fo,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},j1=1024,i9=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";Eo(i,s),Co(i,LW)}(function(s){return function(i){if(Qt()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:$W(i.level),message:Lj(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${Lj(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}Ji(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if(Qt()!==s)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>j1&&(bp&&be.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=j1),typeof u=="string"&&(u=[u]);try{const f=o.event,p=function(w){return!!w&&!!w.target}(f)?f.target:f;l=_R(p,{keyAttrs:u,maxStringLength:d}),c=function(w){if(!h0.HTMLElement)return null;let m=w;for(let _=0;_<5;_++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(p)}catch{l="<unknown>"}if(l.length===0)return;const h={category:`ui.${o.name}`,message:l};c&&(h.data={"ui.component_name":c}),Ji(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),Eo("dom",r),Co("dom",JW)),t.xhr&&function(s){Eo("xhr",s),Co("xhr",QW)}(function(s){return function(i){if(Qt()!==s)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[dc];if(!o||!l||!c)return;const{method:u,url:d,status_code:h,body:f}=c,p={method:u,url:d,status_code:h},w={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:l};Ji({category:"xhr",data:p,type:"http",level:v1(h)},w)}}(n)),t.fetch&&VW(function(s){return function(i){if(Qt()!==s)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)Ji({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};Ji({category:"fetch",data:u,type:"http",level:v1(u.status_code)},d)}}}(n)),t.history&&OR(function(s){return function(i){if(Qt()!==s)return;let o=i.from,l=i.to;const c=qm(Dt.location.href);let u=o?qm(o):void 0;const d=qm(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),Ji({category:"navigation",data:{from:o,to:l}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){Qt()===s&&Ji({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:si(i)},{event:i})}}(n))}}},o9=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a9=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&$n(Dt,"setTimeout",k1),t.setInterval&&$n(Dt,"setInterval",k1),t.requestAnimationFrame&&$n(Dt,"requestAnimationFrame",l9),t.XMLHttpRequest&&"XMLHttpRequest"in Dt&&$n(XMLHttpRequest.prototype,"send",c9);const n=t.eventTarget;n&&(Array.isArray(n)?n:o9).forEach(u9)}}};function k1(e){return function(...t){const n=t[0];return t[0]=_l(n,{mechanism:{data:{function:Di(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function l9(e){return function(t){return e.apply(this,[_l(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Di(e)},handled:!1,type:"instrument"}})])}}function c9(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&$n(n,r,function(s){const i={mechanism:{data:{function:r,handler:Di(s)},handled:!1,type:"instrument"}},o=f0(s);return o&&(i.mechanism.data.handler=Di(o)),_l(s,i)})}),e.apply(this,t)}}function u9(e){const t=Dt[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&($n(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=_l(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Di(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,_l(i,{mechanism:{data:{function:"addEventListener",handler:Di(i),target:e},handled:!1,type:"instrument"}}),o])}}),$n(n,"removeEventListener",function(r){return function(s,i,o){try{const l=i.__sentry_wrapped__;l&&r.call(this,s,l,o)}catch{}return r.call(this,s,i,o)}}))}const d9=()=>({name:"BrowserSession",setupOnce(){Dt.document!==void 0?(t1({ignoreDuration:!0}),n1(),OR(({from:e,to:t})=>{e!==void 0&&e!==t&&(t1({ignoreDuration:!0}),n1())})):bp&&be.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),h9=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";Eo(i,s),Co(i,nW)})(s=>{const{stackParser:i,attachStacktrace:o}=C1();if(Qt()!==r||x1())return;const{msg:l,url:c,line:u,column:d,error:h}=s,f=function(p,w,m,_){const y=p.exception=p.exception||{},x=y.values=y.values||[],b=x[0]=x[0]||{},S=b.stacktrace=b.stacktrace||{},E=S.frames=S.frames||[],C=_,T=m,R=Es(w)&&w.length>0?w:function(){try{return h0.document.location.href}catch{return""}}();return E.length===0&&E.push({colno:C,filename:R,function:fo,in_app:!0,lineno:T}),p}(wy(i,h||l,void 0,o,!1),c,u,d);f.level="error",e1(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),E1("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";Eo(i,s),Co(i,rW)})(s=>{const{stackParser:i,attachStacktrace:o}=C1();if(Qt()!==r||x1())return;const l=function(u){if(ly(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),c=ly(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:wy(i,l,void 0,o,!0);c.level="error",e1(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),E1("onunhandledrejection"))}}};function E1(e){bp&&be.log(`Global Handler attached: ${e}`)}function C1(){const e=Qt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const f9=()=>({name:"HttpContext",preprocessEvent(e){if(!Dt.navigator&&!Dt.location&&!Dt.document)return;const t=e.request&&e.request.url||Dt.location&&Dt.location.href,{referrer:n}=Dt.document||{},{userAgent:r}=Dt.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),p9=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();DW(y0,o.stackParser,o.maxValueLength,n,t,r,s)}}};var _y="new",T1="loading",N1="loaded",mf="joining-meeting",li="joined-meeting",ei="left-meeting",vs="error",m9="blocked",g9="off",v9="sendable",y9="loading",x9="interrupted",IR="playable",dh="unknown",MR="full",w9="lobby",b9="none",DR="base",_9="*",S9="ejected",j9="nbf-room",k9="nbf-token",E9="exp-room",C9="exp-token",Sy="no-room",T9="meeting-full",LR="end-of-life",N9="not-allowed",$R="connection-error",A9="cam-in-use",P9="mic-in-use",R9="cam-mic-in-use",O9="permissions",I9="undefined-mediadevices",M9="not-found",D9="constraints",L9="unknown",FR="iframe-ready-for-launch-config",UR="iframe-launch-config",VR="theme-updated",BR="loading",zR="load-attempt-failed",jy="loaded",qR="started-camera",WR="camera-error",HR="joining-meeting",GR="joined-meeting",KR="left-meeting",JR="participant-joined",YR="participant-updated",QR="participant-left",XR="participant-counts-updated",ZR="access-state-updated",eO="meeting-session-summary-updated",tO="meeting-session-state-updated",$9="meeting-session-data-error",nO="waiting-participant-added",rO="waiting-participant-updated",sO="waiting-participant-removed",iO="track-started",oO="track-stopped",aO="transcription-started",lO="transcription-stopped",cO="transcription-error",ky="recording-started",Ey="recording-stopped",uO="recording-stats",dO="recording-error",hO="recording-upload-completed",fO="recording-data",pO="app-message",mO="transcription-message",gO="remote-media-player-started",vO="remote-media-player-updated",yO="remote-media-player-stopped",xO="local-screen-share-started",wO="local-screen-share-stopped",bO="local-screen-share-canceled",_O="active-speaker-change",SO="active-speaker-mode-change",jO="network-quality-change",kO="network-connection",EO="cpu-load-change",CO="face-counts-updated",hc="fullscreen",fc="exited-fullscreen",TO="live-streaming-started",NO="live-streaming-updated",AO="live-streaming-stopped",PO="live-streaming-error",RO="lang-updated",OO="receive-settings-updated",Cy="input-settings-updated",Ty="nonfatal-error",Ny="error",Ym=4096,A1=102400,Qm="iframe-call-message",P1="local-screen-start",R1="daily-method-update-live-streaming-endpoints",Nd="transmit-log",Cs="daily-custom-track",hh={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},IO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Ay={PLAY:"play",PAUSE:"pause"},Xm=["jpg","png","jpeg"],F9="add-endpoints",U9="remove-endpoints",O1="sip-call-transfer";function cr(){return!Pe()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Pe(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function MO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function V9(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}($o(),gf())||Pe())}function I1(){if(Pe()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Py="none",B9="software",z9="hardware",q9=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?B9:z9:Py}catch{return Py}}();function DO(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Pe()&&q9!==Py&&(e?function(){return M1()?!1:["Chrome","Firefox"].includes($o())}():function(){if(M1())return!1;var t=$o();if(t==="Safari"){var n=b0();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?w0().major>=77:t==="Firefox"?_0().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function LO(){if(Pe()||$O()||typeof AudioWorkletNode>"u")return!1;switch($o()){case"Chrome":case"Firefox":return!0;case"Safari":var e=gf();return e.major>17||e.major===17&&e.minor>=4}return!1}function Zm(){return MO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=$o();if(!cr())return!0;switch(t){case"Chrome":return(e=w0()).major&&e.major>0&&e.major<75;case"Firefox":return(e=_0()).major<91;case"Safari":return(e=b0()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function $O(){return cr().match(/Linux; Android/)}function M1(){var e,t=cr(),n=t.match(/Mac/)&&(!Pe()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!cr().match(/DailyAnd\//)||void 0}function $o(){if(typeof window<"u"){var e=cr();return FO()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||UO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function gf(){switch($o()){case"Chrome":return w0();case"Safari":return b0();case"Firefox":return _0();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=cr().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function w0(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=cr(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function FO(){return!!cr().match(/iPad|iPhone|iPod/i)&&MO()}function UO(){return cr().indexOf("AppleWebKit/605.1.15")>-1}function b0(){var e=0,t=0,n=0;if(typeof window<"u"){var r=cr().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(FO()||UO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function _0(){var e=0,t=0;if(typeof window<"u"){var n=cr().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var VO=function(){return Wn(function e(){qn(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){rc()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){rc()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){rc()}},{key:"sendMessageToDailyJs",value:function(e,t){rc()}},{key:"removeListener",value:function(e){rc()}}])}();function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}var W9=function(){function e(){var t,n,r,s;return qn(this,e),n=this,r=Ur(r=e),(t=pp(n,BO()?Reflect.construct(r,[],Ur(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return mp(e,VO),Wn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var l=eg({},o.data);if(delete l.from,l.callbackStamp&&s._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;s._messageCallbacks[c].call(r,l),delete s._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(r,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==Qm||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;t.call(r,l)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=eg({},t);if(i.what=Qm,i.from="module",i.callClientId=r,n){var o=gp();this._messageCallbacks[o]=n,i.callbackStamp=o}var l=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=Qm,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=eg({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function zO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zO=function(){return!!e})()}var H9=function(){function e(){var t,n,r,s;return qn(this,e),n=this,r=Ur(r=e),t=pp(n,zO()?Reflect.construct(r,[],Ur(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new oy.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new oy.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return mp(e,VO),Wn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,l=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(s,c),delete o._messageCallbacks[u]}t.call(s,c)}};this._wrappedListeners[t]=l,n.addListener("message",l)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?L1(Object(d),!0).forEach(function(h){Zr(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):L1(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(o.callClientId=r,s){var l=gp();this._messageCallbacks[l]=s,o.callbackStamp=l}n.emit("message",o)}}])}(),Ry="replace",Oy="shallow-merge",$1=[Ry,Oy],G9=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?Ry:r;qn(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return Wn(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===Oy}},{key:"_validateMergeStrategy",value:function(t){if(!$1.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat($1,"]"))}},{key:"_validateData",value:function(t,n){if(!function(l){if(l==null||Me(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===Ry){var s=JSON.parse(r);dn(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===Oy){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));dn(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(r.length>A1)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(A1,"."))}}])}();function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function Iy(e){var t=typeof Map=="function"?new Map:void 0;return Iy=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if(qO())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(s.bind.apply(s,l));return o&&pu(c,o.prototype),c}(n,arguments,Ur(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pu(r,n)},Iy(e)}function WO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WO=function(){return!!e})()}function F1(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var K9=function(){return Wn(function e(t){qn(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new J9(n,function(){r(!1)},function(i,o){o||F1(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),F1(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),J9=function(){return Wn(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;qn(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new U1(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new U1(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),tg=function(){function e(){return qn(this,e),t=this,r=arguments,n=Ur(n=e),pp(t,WO()?Reflect.construct(n,r||[],Ur(t).constructor):n.apply(t,r));var t,n,r}return mp(e,Iy(Error)),Wn(e)}(),vf=2e4,U1=function(){return Wn(function t(n,r,s){qn(this,t),this._loadAttemptImpl=Pe()||!n.avoidEval?new Y9(n,r,s):new Q9(n,r,s)},[{key:"start",value:(e=xe(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),Y9=function(){return Wn(function s(i,o,l){qn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(r=xe(function*(){var s=cf(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=xe(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=xe(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(vf," ms) when loading call object bundle ").concat(s),type:"timeout"})},vf);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new tg;var c=yield this._getBundleCodeFromResponse(s,l);if(this.cancelled)throw new tg;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof tg||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=xe(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),Q9=function(){return Wn(function e(t,n,r){qn(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=gp(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=cf(this._dailyConfig);(typeof document>"u"?"undefined":Me(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(vf," ms) when loading call object bundle ").concat(e),type:"timeout"})},vf);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Ad=function(e,t,n){return Z9(e.local,t,n)===!0},X9=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},Aa=function(e,t,n,r){var s=eH(e,t,n,r);return s&&s.pendingTrack},Z9=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},eH=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},tH=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function V1(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?X9(n,i,c):Aa(n,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function B1(e,t){try{var n=t.getState();for(var r in e.tracks)if(!nH(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?tH(n,r):Aa(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function nH(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function z1(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Ad(r,e.session_id,"cam-audio")){var o=Aa(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Ad(r,e.session_id,"cam-video")){var l=Aa(r,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&Ad(r,e.session_id,"screen-audio")){var c=Aa(r,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Ad(r,e.session_id,"screen-video")){var u=Aa(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function rH(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return q1(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?q1(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Kr=new Map,Ba=null;function sH(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return W1(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?W1(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Jr=new Map,Oc=null;function iH(e){HO()?function(t){Kr.has(t)||(Kr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Kr.has(t)&&(Kr.get(t).lastDevicesString=JSON.stringify(n),Ba||(Ba=function(){var r=xe(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=rH(Kr.keys());try{for(o.s();!(s=o.n()).done;){var l=s.value,c=JSON.stringify(i);c!==Kr.get(l).lastDevicesString&&(Kr.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Ba)))}).catch(function(){}))}(e):function(t){Jr.has(t)||(Jr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Jr.has(t)&&(Jr.get(t).lastDevicesString=JSON.stringify(n),Oc||(Oc=setInterval(xe(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=sH(Jr.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,l=JSON.stringify(s);l!==Jr.get(o).lastDevicesString&&(Jr.get(o).lastDevicesString=l,o(s))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function oH(e){HO()?function(t){Kr.has(t)&&(Kr.delete(t),Kr.size===0&&Ba&&(navigator.mediaDevices.removeEventListener("devicechange",Ba),Ba=null))}(e):function(t){Jr.has(t)&&(Jr.delete(t),Jr.size===0&&Oc&&(clearInterval(Oc),Oc=null))}(e)}function HO(){var e;return Pe()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var aH=new Set;function lH(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!aH.has(n.id)}(e)}function H1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pc=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),cH=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Ic=Object.values(pc),G1=["v","a","sv","sa","cv","ca"];Object.freeze(Ic.reduce(function(e,t,n){return e[t]=G1[n],e},{})),Object.freeze(G1.reduce(function(e,t,n){return e[t]=Ic[n],e},{}));var uH=[pc.VIDEO,pc.AUDIO,pc.SCREEN_VIDEO,pc.SCREEN_AUDIO],K1=Object.values(cH),J1=["p","s","t"];Object.freeze(K1.reduce(function(e,t,n){return e[t]=J1[n],e},{})),Object.freeze(J1.reduce(function(e,t,n){return e[t]=K1[n],e},{}));var GO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;qn(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return Wn(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof Ft?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Ft?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Ft?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof Ft&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Ft?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Ft?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof Ft&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=en(t,2),r=n[0],s=n[1];return[r,s instanceof Ft?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=en(t,2),r=n[0],s=n[1];return[r,s instanceof Ft?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:Ft.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:Ft.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var l in s={},t.byParticipantId){var c=t.byParticipantId[l];s[l]=typeof c=="boolean"?c:Ft.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:Ft.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:Ft.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var l in s={},t.p){var c=t.p[l];s[l]=typeof c=="boolean"?c:Ft.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Me(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=en(Ft.validateJSONObject(t.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(Me(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=en(Ft.validateJSONObject(h),2),p=f[0],w=f[1];if(!p)return[!1,w]}}}return[!0]}}])}(),Ft=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,l=t.customAudio;qn(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return Wn(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Ys({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Ys({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Ys({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Ys({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Ys({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Ys({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Ys({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Ys({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Me(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!Ic.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(uH.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Me(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(t[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Ic.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Ic.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),dH=["result"],hH=["preserveIframe"];function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){Zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KO=function(){return!!e})()}function Q1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return X1(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?X1(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw i}}}}function X1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Yi={},Z1="video",fH="voice",ek=Pe()?{data:{}}:{data:{},topology:"none"},tk={present:0,hidden:0},JO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},ng=Object.keys(JO),nk=["state","volume","simulcastEncodings"],rk={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},yf={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},My={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Qi={customIntegrations:{validate:rI,help:tI()},customTrayButtons:{validate:nI,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(yf))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return sI(e,rk)},help:"reactNativeConfig should look like ".concat(JSON.stringify(rk),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return YO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:Cs};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:Cs};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Me(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return QO(e,{allowAllParticipantsKey:!1})},help:eI({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!XO(e)&&(t._inputSettings||(t._inputSettings={}),ZO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:Dy()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Pd={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Pe()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!n.includes(i[l])&&!s(i[l],!0))return!1}else{var c=!o&&!r.includes(l),u=!n.includes(i[l]);if(c||u)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Pe()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=en(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=Q1(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(y){c.e(y)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=en(GO.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var p,w=["participants","streaming","transcription"],m=Q1(i);try{for(m.s();!(p=m.n()).done;){var _=p.value;if(!w.includes(_))return!1}}catch(y){m.e(y)}finally{m.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=xe(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var pH=function(){function e(v){var k,j,P,N,L,z,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(qn(this,e),P=this,N=Ur(N=e),Zr(j=pp(P,KO()?Reflect.construct(N,[],Ur(P).constructor):N.apply(P,L)),"startListeningForDeviceChanges",function(){iH(j.handleDeviceChange)}),Zr(j,"stopListeningForDeviceChanges",function(){oH(j.handleDeviceChange)}),Zr(j,"handleDeviceChange",function(ee){ee=ee.map(function(he){return JSON.parse(JSON.stringify(he))}),j.emitDailyJSEvent({action:"available-devices-updated",availableDevices:ee})}),Zr(j,"handleNativeAppStateChange",function(){var ee=xe(function*(he){if(he==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield j.destroy());var Ve=he==="active";j.disableReactNativeAutoDeviceManagement("video")||(Ve?j.camUnmutedBeforeLosingNativeActiveState&&j.setLocalVideo(!0):(j.camUnmutedBeforeLosingNativeActiveState=j.localVideo(),j.camUnmutedBeforeLosingNativeActiveState&&j.setLocalVideo(!1)))});return function(he){return ee.apply(this,arguments)}}()),Zr(j,"handleNativeAudioFocusChange",function(ee){j.disableReactNativeAutoDeviceManagement("audio")||(j._hasNativeAudioFocus=ee,j.toggleParticipantAudioBasedOnNativeAudioFocus(),j._hasNativeAudioFocus?j.micUnmutedBeforeLosingNativeAudioFocus&&j.setLocalAudio(!0):(j.micUnmutedBeforeLosingNativeAudioFocus=j.localAudio(),j.setLocalAudio(!1)))}),Zr(j,"handleNativeSystemScreenCaptureStop",function(){j.stopScreenShare()}),!Zm()&&!Pe())throw new Error("WebRTC not supported or suppressed");if(j.strictMode=V.strictMode===void 0||V.strictMode,j.allowMultipleCallInstances=(k=V.allowMultipleCallInstances)!==null&&k!==void 0&&k,Object.keys(Yi).length&&(j._logDuplicateInstanceAttempt(),!j.allowMultipleCallInstances)){if(j.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),j.callClientId=gp(),Yi[(z=j).callClientId]=z,window._daily.instances[j.callClientId]={},j._sharedTracks={},window._daily.instances[j.callClientId].tracks=j._sharedTracks,V.dailyJsVersion=e.version(),j._iframe=v,j._callObjectMode=V.layout==="none"&&!j._iframe,j._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},V.showLocalVideo!==void 0?j._callObjectMode?console.error("showLocalVideo is not available in call object mode"):j._showLocalVideo=!!V.showLocalVideo:j._showLocalVideo=!0,V.showParticipantsBar!==void 0?j._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):j._showParticipantsBar=!!V.showParticipantsBar:j._showParticipantsBar=!0,V.customIntegrations!==void 0?j._callObjectMode?console.error("customIntegrations is not available in call object mode"):j._customIntegrations=V.customIntegrations:j._customIntegrations={},V.customTrayButtons!==void 0?j._callObjectMode?console.error("customTrayButtons is not available in call object mode"):j._customTrayButtons=V.customTrayButtons:j._customTrayButtons={},V.activeSpeakerMode!==void 0?j._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):j._activeSpeakerMode=!!V.activeSpeakerMode:j._activeSpeakerMode=!1,V.receiveSettings?j._callObjectMode?j._receiveSettings=V.receiveSettings:console.error("receiveSettings is only available in call object mode"):j._receiveSettings={},j.validateProperties(V),j.properties=fe({},V),j._inputSettings||(j._inputSettings={}),j._callObjectLoader=j._callObjectMode?new K9(j.callClientId):null,j._callState=_y,j._isPreparingToJoin=!1,j._accessState={access:dh},j._meetingSessionSummary={},j._finalSummaryOfPrevSession={},j._meetingSessionState=ig(ek,j._callObjectMode),j._nativeInCallAudioMode=Z1,j._participants={},j._isScreenSharing=!1,j._participantCounts=tk,j._rmpPlayerState={},j._waitingParticipants={},j._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},j._activeSpeaker={},j._localAudioLevel=0,j._isLocalAudioLevelObserverRunning=!1,j._remoteParticipantsAudioLevel={},j._isRemoteParticipantsAudioLevelObserverRunning=!1,j._maxAppMessageSize=Ym,j._messageChannel=Pe()?new H9:new W9,j._iframe&&(j._iframe.requestFullscreen?j._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===j._iframe?(j.emitDailyJSEvent({action:hc}),j.sendMessageToCallMachine({action:hc})):(j.emitDailyJSEvent({action:fc}),j.sendMessageToCallMachine({action:fc}))}):j._iframe.webkitRequestFullscreen&&j._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===j._iframe?(j.emitDailyJSEvent({action:hc}),j.sendMessageToCallMachine({action:hc})):(j.emitDailyJSEvent({action:fc}),j.sendMessageToCallMachine({action:fc}))})),Pe()){var G=j.nativeUtils();G.addAudioFocusChangeListener&&G.removeAudioFocusChangeListener&&G.addAppStateChangeListener&&G.removeAppStateChangeListener&&G.addSystemScreenCaptureStopListener&&G.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),j._hasNativeAudioFocus=!0,G.addAudioFocusChangeListener(j.handleNativeAudioFocusChange),G.addAppStateChangeListener(j.handleNativeAppStateChange),G.addSystemScreenCaptureStopListener(j.handleNativeSystemScreenCaptureStop)}return j._callObjectMode&&j.startListeningForDeviceChanges(),j._messageChannel.addListenerForMessagesFromCallMachine(j.handleMessageFromCallMachine,j.callClientId,j),j}return mp(e,bd),Wn(e,[{key:"destroy",value:(Y=xe(function*(){var v;try{yield this.leave()}catch{}var k=this._iframe;if(k){var j=k.parentElement;j&&j.removeChild(k)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Pe()){var P=this.nativeUtils();P.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),P.removeAppStateChangeListener(this.handleNativeAppStateChange),P.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Yi[this.callClientId],!((v=window)===null||v===void 0||(v=v._daily)===null||v===void 0)&&v.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Y.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(v){var k=v.bodyClass,j=v.cssFile,P=v.cssText;return Ae(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(j),bodyClass:k,cssText:P}),this}},{key:"iframe",value:function(){return Ae(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return yr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return yr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(v,k){for(var j in k){if(!Pd[j])throw new Error("unrecognized updateParticipant property ".concat(j));if(Pd[j].validate&&!Pd[j].validate(k[j],this,this._participants[v]))throw new Error(Pd[j].help)}}},{key:"updateParticipant",value:function(v,k){return this._participants.local&&this._participants.local.session_id===v&&(v="local"),v&&k&&(this.validateParticipantProperties(v,k),this.sendMessageToCallMachine({action:"update-participant",id:v,properties:k})),this}},{key:"updateParticipants",value:function(v){var k=this._participants.local&&this._participants.local.session_id;for(var j in v)j===k&&(j="local"),j&&v[j]&&this.validateParticipantProperties(j,v[j]);return this.sendMessageToCallMachine({action:"update-participants",participants:v}),this}},{key:"updateWaitingParticipant",value:(ie=xe(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(yr(this._callObjectMode,"updateWaitingParticipant()"),Ke(this._callState,"updateWaitingParticipant()"),typeof k!="string"||Me(j)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(P,N){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:k,updates:j},function(L){L.error&&N(L.error),L.id||N(new Error("unknown error in updateWaitingParticipant()")),P({id:L.id})})})}),function(){return ie.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(K=xe(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(yr(this._callObjectMode,"updateWaitingParticipants()"),Ke(this._callState,"updateWaitingParticipants()"),Me(k)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(j,P){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:k},function(N){N.error&&P(N.error),N.ids||P(new Error("unknown error in updateWaitingParticipants()")),j({ids:N.ids})})})}),function(){return K.apply(this,arguments)})},{key:"requestAccess",value:($=xe(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=k.access,P=j===void 0?{level:MR}:j,N=k.name,L=N===void 0?"":N;return yr(this._callObjectMode,"requestAccess()"),Ke(this._callState,"requestAccess()"),new Promise(function(z,V){v.sendMessageToCallMachine({action:"daily-method-request-access",access:P,name:L},function(G){G.error&&V(G.error),G.access||V(new Error("unknown error in requestAccess()")),z({access:G.access,granted:G.granted})})})}),function(){return $.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in k&&(Pe()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),k={}):v&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),k={})),this.sendMessageToCallMachine({action:"local-audio",state:v,options:k}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(v){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:v}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(v){return this.sendMessageToCallMachine({action:"local-video",state:v}),this}},{key:"_setAllowLocalAudio",value:function(v){if(this._preloadCache.allowLocalAudio=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:v}),this}},{key:"_setAllowLocalVideo",value:function(v){if(this._preloadCache.allowLocalVideo=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:v}),this}},{key:"getReceiveSettings",value:(I=xe(function*(v){var k=this,j=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,P=j!==void 0&&j;if(yr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Me(v)){case"string":return new Promise(function(N){k.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:v,showInheritedValues:P},function(L){N(L.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(v){return I.apply(this,arguments)})},{key:"updateReceiveSettings",value:(B=xe(function*(v){var k=this;if(yr(this._callObjectMode,"updateReceiveSettings()"),!QO(v,{allowAllParticipantsKey:!0}))throw new Error(eI({allowAllParticipantsKey:!0}));return Ke(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(j){k.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:v},function(P){j({receiveSettings:P.receiveSettings})})})}),function(v){return B.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(v,k){if(v){var j={};if(v.audio){var P,N,L;v.audio.settings&&(!Object.keys(v.audio.settings).length&&k||(j.audio={settings:fe({},v.audio.settings)})),k&&(P=j.audio)!==null&&P!==void 0&&(P=P.settings)!==null&&P!==void 0&&P.customTrack&&(j.audio.settings={customTrack:this._sharedTracks.audioTrack});var z=((N=v.audio.processor)===null||N===void 0?void 0:N.type)==="none"&&((L=v.audio.processor)===null||L===void 0?void 0:L._isDefaultWhenNone);if(v.audio.processor&&!z){var V=fe({},v.audio.processor);delete V._isDefaultWhenNone,j.audio=fe(fe({},j.audio),{},{processor:V})}}if(v.video){var G,ee,he;v.video.settings&&(!Object.keys(v.video.settings).length&&k||(j.video={settings:fe({},v.video.settings)})),k&&(G=j.video)!==null&&G!==void 0&&(G=G.settings)!==null&&G!==void 0&&G.customTrack&&(j.video.settings={customTrack:this._sharedTracks.videoTrack});var Ve=((ee=v.video.processor)===null||ee===void 0?void 0:ee.type)==="none"&&((he=v.video.processor)===null||he===void 0?void 0:he._isDefaultWhenNone);if(v.video.processor&&!Ve){var St=fe({},v.video.processor);delete St._isDefaultWhenNone,j.video=fe(fe({},j.video),{},{processor:St})}}return j}}},{key:"getInputSettings",value:function(){var v=this;return Ae(),new Promise(function(k){k(v._getInputSettings())})}},{key:"_getInputSettings",value:function(){var v,k,j,P,N,L,z={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(v=((j=this._inputSettings)===null||j===void 0?void 0:j.video)||z,k=((P=this._inputSettings)===null||P===void 0?void 0:P.audio)||z):(v=((N=this._preloadCache)===null||N===void 0||(N=N.inputSettings)===null||N===void 0?void 0:N.video)||z,k=((L=this._preloadCache)===null||L===void 0||(L=L.inputSettings)===null||L===void 0?void 0:L.audio)||z);var V={audio:k,video:v};return this._prepInputSettingsForSharing(V,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(v,k){var j=this._inputSettings||{},P={};if(v.video){var N,L,z;P.video={},v.video.settings?(P.video.settings={},k||v.video.settings.customTrack||(z=j.video)===null||z===void 0||!z.settings?P.video.settings=v.video.settings:P.video.settings=fe(fe({},j.video.settings),v.video.settings),Object.keys(P.video.settings).length||delete P.video.settings):(N=j.video)!==null&&N!==void 0&&N.settings&&(P.video.settings=j.video.settings),v.video.processor?P.video.processor=v.video.processor:(L=j.video)!==null&&L!==void 0&&L.processor&&(P.video.processor=j.video.processor)}else j.video&&(P.video=j.video);if(v.audio){var V,G,ee;P.audio={},v.audio.settings?(P.audio.settings={},k||v.audio.settings.customTrack||(ee=j.audio)===null||ee===void 0||!ee.settings?P.audio.settings=v.audio.settings:P.audio.settings=fe(fe({},j.audio.settings),v.audio.settings),Object.keys(P.audio.settings).length||delete P.audio.settings):(V=j.audio)!==null&&V!==void 0&&V.settings&&(P.audio.settings=j.audio.settings),v.audio.processor?P.audio.processor=v.audio.processor:(G=j.audio)!==null&&G!==void 0&&G.processor&&(P.audio.processor=j.audio.processor)}else j.audio&&(P.audio=j.audio);this._maybeUpdateInputSettings(P)}},{key:"_devicesFromInputSettings",value:function(v){var k,j,P=(v==null||(k=v.video)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,N=(v==null||(j=v.audio)===null||j===void 0||(j=j.settings)===null||j===void 0?void 0:j.deviceId)||null,L=this._preloadCache.outputDeviceId||null;return{camera:P?{deviceId:P}:{},mic:N?{deviceId:N}:{},speaker:L?{deviceId:L}:{}}}},{key:"updateInputSettings",value:(U=xe(function*(v){var k=this;return Ae(),XO(v)?v.video||v.audio?(ZO(v,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(v,!0),this._getInputSettings()):new Promise(function(j,P){k.sendMessageToCallMachine({action:"update-input-settings",inputSettings:v},function(N){if(N.error)P(N.error);else{if(N.returnPreloadCache)return k._updatePreloadCacheInputSettings(v,!0),void j(k._getInputSettings());k._maybeUpdateInputSettings(N.inputSettings),j(k._prepInputSettingsForSharing(N.inputSettings,!0))}})})):this._getInputSettings():(console.error(Dy()),Promise.reject(Dy()))}),function(v){return U.apply(this,arguments)})},{key:"setBandwidth",value:function(v){var k=v.kbs,j=v.trackConstraints;if(Ae(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:k,trackConstraints:j}),this}},{key:"getDailyLang",value:function(){var v=this;if(Ae(),this._callMachineInitialized)return new Promise(function(k){v.sendMessageToCallMachine({action:"get-daily-lang"},function(j){delete j.action,delete j.callbackStamp,k(j)})})}},{key:"setDailyLang",value:function(v){return Ae(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:v}),this}},{key:"setProxyUrl",value:function(v){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:v}),this}},{key:"setIceConfig",value:function(v){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:v}),this}},{key:"meetingSessionSummary",value:function(){return[ei,vs].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Z=xe(function*(){var v=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ke(this._callState,"getMeetingSession()"),new Promise(function(k){v.sendMessageToCallMachine({action:"get-meeting-session"},function(j){delete j.action,delete j.callbackStamp,k(j)})})}),function(){return Z.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ke(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";yr(this._callObjectMode,"setMeetingSessionData()"),Ke(this._callState,"setMeetingSessionData");try{(function(j,P){new G9({data:j,mergeStrategy:P})})(v,k)}catch(j){throw console.error(j),j}try{this.sendMessageToCallMachine({action:"set-session-data",data:v,mergeStrategy:k})}catch(j){throw new Error("Error setting meeting session data: ".concat(j))}}},{key:"setUserName",value:function(v,k){var j=this;return this.properties.userName=v,new Promise(function(P){j.sendMessageToCallMachine({action:"set-user-name",name:v??"",thisMeetingOnly:Pe()||!!k&&!!k.thisMeetingOnly},function(N){delete N.action,delete N.callbackStamp,P(N)})})}},{key:"setUserData",value:(F=xe(function*(v){var k=this;try{YO(v)}catch(j){throw console.error(j),j}if(this.properties.userData=v,this._callMachineInitialized)return new Promise(function(j){try{k.sendMessageToCallMachine({action:"set-user-data",userData:v},function(P){delete P.action,delete P.callbackStamp,j(P)})}catch(P){throw new Error("Error setting user data: ".concat(P))}})}),function(v){return F.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(v){if(v&&(v<100||typeof v!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(v){var k=this;if(typeof AudioWorkletNode>"u"&&!Pe())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(j,P){k.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:v},function(N){k._isLocalAudioLevelObserverRunning=!N.error,N.error?P({error:N.error}):j()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:v}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(v){var k=this;if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(j,P){k.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:v},function(N){k._isRemoteParticipantsAudioLevelObserverRunning=!N.error,N.error?P({error:N.error}):j()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:v}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(q=xe(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(yr(this._callObjectMode,"startCamera()"),rg(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(k)}catch(j){return Promise.reject(j)}else{if(this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(k),this.properties=fe(fe({},this.properties),k)}return new Promise(function(j){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"start-camera",properties:ea(v.properties,v.callClientId),preloadCache:ea(v._preloadCache,v.callClientId)},function(P){j({camera:P.camera,mic:P.mic,speaker:P.speaker})})})}),function(){return q.apply(this,arguments)})},{key:"validateCustomTrack",value:function(v,k,j){if(j&&j.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(k&&k!=="music"&&k!=="speech"&&!(k instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(j&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(j))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(v instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Ae(),Ke(this._callState,"startCustomTrack()"),this.validateCustomTrack(k.track,k.mode,k.trackName),new Promise(function(j,P){v._sharedTracks.customTrack=k.track,k.track=Cs,v.sendMessageToCallMachine({action:"start-custom-track",properties:k},function(N){N.error?P({error:N.error}):j(N.mediaTag)})})}},{key:"stopCustomTrack",value:function(v){var k=this;return Ae(),Ke(this._callState,"stopCustomTrack()"),new Promise(function(j){k.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:v},function(P){j(P.mediaTag)})})}},{key:"setCamera",value:function(v){var k=this;return sc(),Rd(this._callMachineInitialized,"setCamera()"),new Promise(function(j){k.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:v},function(P){j({device:P.device})})})}},{key:"setAudioDevice",value:(M=xe(function*(v){return sc(),this.nativeUtils().setAudioDevice(v),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(v){return M.apply(this,arguments)})},{key:"cycleCamera",value:function(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(j){v.sendMessageToCallMachine({action:"cycle-camera",properties:k},function(P){j({device:P.device})})})}},{key:"cycleMic",value:function(){var v=this;return Ae(),new Promise(function(k){v.sendMessageToCallMachine({action:"cycle-mic"},function(j){k({device:j.device})})})}},{key:"getCameraFacingMode",value:function(){var v=this;return sc(),new Promise(function(k){v.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(j){k(j.facingMode)})})}},{key:"setInputDevicesAsync",value:(A=xe(function*(v){var k=this,j=v.audioDeviceId,P=v.videoDeviceId,N=v.audioSource,L=v.videoSource;if(Ae(),N!==void 0&&(j=N),L!==void 0&&(P=L),typeof j=="boolean"&&(this._setAllowLocalAudio(j),j=void 0),typeof P=="boolean"&&(this._setAllowLocalVideo(P),P=void 0),!j&&!P)return yield this.getInputDevices();var z={};return j&&(j instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=j,j=Cs,z.audio={settings:{customTrack:j}}):(delete this._sharedTracks.audioTrack,z.audio={settings:{deviceId:j}})),P&&(P instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=P,P=Cs,z.video={settings:{customTrack:P}}):(delete this._sharedTracks.videoTrack,z.video={settings:{deviceId:P}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(z,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(V){k.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:j,videoDeviceId:P},function(G){if(delete G.action,delete G.callbackStamp,G.returnPreloadCache)return k._updatePreloadCacheInputSettings(z,!1),void V(k._devicesFromInputSettings(k._inputSettings));V(G)})})}),function(v){return A.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(D=xe(function*(v){var k=this,j=v.outputDeviceId;if(Ae(),!j||typeof j!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=j,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P,N){k.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:j},function(L){if(delete L.action,delete L.callbackStamp,L.error){var z=new Error(L.error.message);return z.type=L.error.type,void N(z)}L.returnPreloadCache?P(k._devicesFromInputSettings(k._inputSettings)):P(L)})})}),function(v){return D.apply(this,arguments)})},{key:"getInputDevices",value:(O=xe(function*(){var v=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(k){v.sendMessageToCallMachine({action:"get-input-devices"},function(j){j.returnPreloadCache?k(v._devicesFromInputSettings(v._inputSettings)):k({camera:j.camera,mic:j.mic,speaker:j.speaker})})})}),function(){return O.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return sc(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(v){if(sc(),[Z1,fH].includes(v)){if(v!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=v,!this.disableReactNativeAutoDeviceManagement("audio")&&fh(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",v)}},{key:"preAuth",value:(R=xe(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(yr(this._callObjectMode,"preAuth()"),rg(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(k)),!k.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(k),this.properties=fe(fe({},this.properties),k),new Promise(function(j,P){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"daily-method-preauth",properties:ea(v.properties,v.callClientId),preloadCache:ea(v._preloadCache,v.callClientId)},function(N){return N.error?P(N.error):N.access?(v._didPreAuth=!0,void j({access:N.access})):P(new Error("unknown error in preAuth()"))})})}),function(){return R.apply(this,arguments)})},{key:"load",value:(T=xe(function*(v){var k=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(v&&(this.validateProperties(v),this.properties=fe(fe({},this.properties),v)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(T1),this.emitDailyJSEvent({action:BR}),this._callObjectMode?new Promise(function(j,P){k._callObjectLoader.cancel();var N=Date.now();k._callObjectLoader.load(k.properties.dailyConfig,function(L){k._bundleLoadTime=L?"no-op":Date.now()-N,k._updateCallState(N1),L&&k.emitDailyJSEvent({action:jy}),j()},function(L,z){if(k.emitDailyJSEvent({action:zR}),!z){k._updateCallState(vs),k.resetMeetingDependentVars();var V={action:Ny,errorMsg:L.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:L,bundleUrl:cf(k.properties.dailyConfig)}}};k._maybeSendToSentry(V),k.emitDailyJSEvent(V),P(L.msg)}})}):(this._iframe.src=yR(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(j,P){k._loadedCallback=function(N){k._callState!==vs?(k._updateCallState(N1),(k.properties.cssFile||k.properties.cssText)&&k.loadCss(k.properties),j()):P(N)}}))}}),function(v){return T.apply(this,arguments)})},{key:"join",value:(C=xe(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var j=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(k)}catch(P){return this.updateIsPreparingToJoin(!1),Promise.reject(P)}}else{if(j=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(k.url&&!this._callObjectMode&&k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(k.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(k),this.properties=fe(fe({},this.properties),k)}return k.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!k.showLocalVideo),k.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!k.showParticipantsBar),this._callState===li||this._callState===mf?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(mf,!1),this.emitDailyJSEvent({action:HR}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:ea(this.properties,this.callClientId),preloadCache:ea(this._preloadCache,this.callClientId)}),new Promise(function(P,N){v._joinedCallback=function(L,z){if(v._callState!==vs){if(v._updateCallState(li),L)for(var V in L){if(v._callObjectMode){var G=v._callMachine().store;V1(L[V],G),B1(L[V],G),z1(L[V],v._participants[V],G)}v._participants[V]=fe({},L[V]),v.toggleParticipantAudioBasedOnNativeAudioFocus()}j&&v.loadCss(v.properties),P(L)}else N(z)}}))}),function(){return C.apply(this,arguments)})},{key:"leave",value:(E=xe(function*(){var v=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(k){v._callState===ei||v._callState===vs?k():v._callObjectLoader&&!v._callObjectLoader.loaded?(v._callObjectLoader.cancel(),v._updateCallState(ei),v.resetMeetingDependentVars(),v.emitDailyJSEvent({action:ei}),k()):(v._resolveLeave=k,v.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return E.apply(this,arguments)})},{key:"startScreenShare",value:(S=xe(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Rd(this._callMachineInitialized,"startScreenShare()"),k.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",k.screenVideoSendSettings),k.mediaStream&&(this._sharedTracks.screenMediaStream=k.mediaStream,k.mediaStream=Cs),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var j=this.nativeUtils();if(yield j.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:Ty,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});j.setSystemScreenCaptureStartCallback(function(){j.setSystemScreenCaptureStartCallback(null),v.sendMessageToCallMachine({action:P1,captureOptions:k})}),j.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:P1,captureOptions:k})}),function(){return S.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Rd(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=v.type;if(k&&k!=="cloud"&&k!=="raw-tracks"&&k!=="local")throw new Error("invalid type: ".concat(k,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(fe({action:"local-recording-start"},v))}},{key:"updateRecording",value:function(v){var k=v.layout,j=k===void 0?{preset:"default"}:k,P=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:j,instanceId:P})}},{key:"stopRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(fe({action:"local-recording-stop"},v))}},{key:"startLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(fe({action:"daily-method-start-live-streaming"},v))}},{key:"updateLiveStreaming",value:function(v){var k=v.layout,j=k===void 0?{preset:"default"}:k,P=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:j,instanceId:P})}},{key:"addLiveStreamingEndpoints",value:function(v){var k=v.endpoints,j=v.instanceId;this.sendMessageToCallMachine({action:R1,endpointsOp:F9,endpoints:k,instanceId:j})}},{key:"removeLiveStreamingEndpoints",value:function(v){var k=v.endpoints,j=v.instanceId;this.sendMessageToCallMachine({action:R1,endpointsOp:U9,endpoints:k,instanceId:j})}},{key:"stopLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(fe({action:"daily-method-stop-live-streaming"},v))}},{key:"validateDailyConfig",value:function(v){v.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(v.camSimulcastEncodings)),v.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),$O()&&v.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,j=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(v){if(!(v instanceof Array||Array.isArray(v)))throw new Error("encodings must be an Array");if(!lk(v.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var P=0;P<v.length;P++){var N=v[P];for(var L in this._validateEncodingLayerHasValidProperties(N),N)if(ng.includes(L)){if(typeof N[L]!="number")throw new Error("".concat(L," must be a number"));if(k){var z=k[L],V=z.min,G=z.max;if(!lk(N[L],V,G))throw new Error("".concat(L," value not in range. valid range: ").concat(V," to ").concat(G))}}else if(!["active","scalabilityMode"].includes(L))throw new Error("Invalid key ".concat(L,", valid keys are:")+Object.values(ng));if(j&&!N.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(b=xe(function*(v){var k=this,j=v.url,P=v.settings,N=P===void 0?{state:Ay.PLAY}:P;try{(function(L){if(typeof L!="string")throw new Error('url parameter must be "string" type')})(j),ak(N),function(L){for(var z in L)if(!nk.includes(z))throw new Error("Invalid key ".concat(z,", valid keys are: ").concat(nk));L.simulcastEncodings&&this.validateSimulcastEncodings(L.simulcastEncodings,JO,!0)}(N)}catch(L){throw console.error("invalid argument Error: ".concat(L)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),L}return new Promise(function(L,z){k.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:j,settings:N},function(V){V.error?z({error:V.error,errorMsg:V.errorMsg}):L({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(v){return b.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(x=xe(function*(v){var k=this;if(typeof v!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(j,P){k.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:v},function(N){N.error?P({error:N.error,errorMsg:N.errorMsg}):j()})})}),function(v){return x.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=xe(function*(v){var k=this,j=v.session_id,P=v.settings;try{ak(P)}catch(N){throw console.error("invalid argument Error: ".concat(N)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),N}return new Promise(function(N,L){k.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:j,settings:P},function(z){z.error?L({error:z.error,errorMsg:z.errorMsg}):N({session_id:z.session_id,remoteMediaPlayerState:{state:z.state,settings:z.settings}})})})}),function(v){return y.apply(this,arguments)})},{key:"startTranscription",value:function(v){Ke(this._callState,"startTranscription()"),this.sendMessageToCallMachine(fe({action:"daily-method-start-transcription"},v))}},{key:"updateTranscription",value:function(v){if(Ke(this._callState,"updateTranscription()"),!v)throw new Error("updateTranscription Error: options is mandatory");if(Me(v)!=="object")throw new Error("updateTranscription Error: options must be object type");if(v.participants&&!Array.isArray(v.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(fe({action:"daily-method-update-transcription"},v))}},{key:"stopTranscription",value:function(v){if(Ke(this._callState,"stopTranscription()"),v&&Me(v)!=="object")throw new Error("stopTranscription Error: options must be object type");if(v&&!v.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(fe({action:"daily-method-stop-transcription"},v))}},{key:"startDialOut",value:(_=xe(function*(v){var k=this;Ke(this._callState,"startDialOut()");var j=function(z){if(z){if(!Array.isArray(z))throw new Error("Error starting dial out: audio codec must be an array");if(z.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");z.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: audio codec must be a string");if(V!=="OPUS"&&V!=="PCMU"&&V!=="PCMA"&&V!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!v.sipUri&&!v.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(v.sipUri&&v.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(v.sipUri){if(typeof v.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!v.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(v.video&&typeof v.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(z){if(z&&(j(z.audio),z.video)){if(!Array.isArray(z.video))throw new Error("Error starting dial out: video codec must be an array");if(z.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");z.video.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: video codec must be a string");if(V!=="H264"&&V!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(v.codecs)}if(v.phoneNumber){if(typeof v.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(v.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");v.codecs&&j(v.codecs.audio)}if(v.callerId){if(typeof v.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(v.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(v.displayName){if(typeof v.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(v.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(v.userId){if(typeof v.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(v.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(sk(v),v.permissions&&v.permissions.canReceive){var P=en(GO.validateJSONObject(v.permissions.canReceive),2),N=P[0],L=P[1];if(!N)throw new Error(L)}if(v.provider){if(v.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(v.provider));if(v.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(z,V){k.sendMessageToCallMachine(fe({action:"dialout-start"},v),function(G){G.error?V(G.error):z(G)})})}),function(v){return _.apply(this,arguments)})},{key:"stopDialOut",value:function(v){var k=this;return Ke(this._callState,"stopDialOut()"),new Promise(function(j,P){k.sendMessageToCallMachine(fe({action:"dialout-stop"},v),function(N){N.error?P(N.error):j(N)})})}},{key:"sipCallTransfer",value:(m=xe(function*(v){var k=this;if(Ke(this._callState,"sipCallTransfer()"),!v)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return v.useSipRefer=!1,ok(v,"sipCallTransfer"),sk(v),new Promise(function(j,P){k.sendMessageToCallMachine(fe({action:O1},v),function(N){N.error?P(N.error):j(N)})})}),function(v){return m.apply(this,arguments)})},{key:"sipRefer",value:(w=xe(function*(v){var k=this;if(Ke(this._callState,"sipRefer()"),!v)throw new Error("sessionId and toEndPoint are mandatory parameter");return v.useSipRefer=!0,ok(v,"sipRefer"),new Promise(function(j,P){k.sendMessageToCallMachine(fe({action:O1},v),function(N){N.error?P(N.error):j(N)})})}),function(v){return w.apply(this,arguments)})},{key:"sendDTMF",value:(p=xe(function*(v){var k=this;return Ke(this._callState,"sendDTMF()"),function(j){var P=j.sessionId,N=j.tones;if(!P||!N)throw new Error("sessionId and tones are mandatory parameter");if(typeof P!="string"||typeof N!="string")throw new Error("sessionId and tones should be of string type");if(N.length>20)throw new Error("tones string must be upto 20 characters");var L=/[^0-9A-D*#]/g,z=N.match(L);if(z&&z[0])throw new Error("".concat(z[0]," is not valid DTMF tone"))}(v),new Promise(function(j,P){k.sendMessageToCallMachine(fe({action:"send-dtmf"},v),function(N){N.error?P(N.error):j(N)})})}),function(v){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var v=this;return this._callState!==li?Promise.resolve(fe({stats:{latest:{}}},this._network)):new Promise(function(k){v.sendMessageToCallMachine({action:"get-calc-stats"},function(j){k(fe(fe({},v._network),{},{stats:j.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=xe(function*(){var v=this;if(sg(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}return new Promise(function(k,j){v.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(P){P.error?j(P.error):k(P.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(v){return v?v instanceof MediaStreamTrack?!!lH(v)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=xe(function*(){var v=this;Ae(),yr(this._callObjectMode,"testCallQuality()"),Rd(this._callMachineInitialized,"testCallQuality()",null,!0),rg(this._callState,this._isPreparingToJoin,"testCallQuality()");var k=this._testCallAlreadyInProgress,j=function(N){k||(v._testCallInProgress=N)};if(j(!0),this.needsLoad())try{var P=this._callState;yield this.load(),this._callState=P}catch(N){return j(!1),Promise.reject(N)}return new Promise(function(N){v.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:v.properties.dailyJsVersion},function(L){var z=L.results,V=z.result,G=Sj(z,dH);if(V==="failed"){var ee,he=fe({},G);(ee=G.error)!==null&&ee!==void 0&&ee.details?(G.error.details=JSON.parse(G.error.details),he.error=fe(fe({},he.error),{},{details:fe({},he.error.details)}),he.error.details.duringTest="testCallQuality"):(he.error=he.error?fe({},he.error):{},he.error.details={duringTest:"testCallQuality"}),v._maybeSendToSentry(he)}j(!1),N(fe({result:V},G))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=xe(function*(v){var k;Pe()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),k=yield this.testPeerToPeerCallQuality(v)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),k=yield this.testCallQuality());var j={result:k.result,secondsElapsed:k.secondsElapsed};return k.data&&(j.data={maxRTT:k.data.maxRoundTripTime,packetLoss:k.data.avgRecvPacketLoss}),j}),function(v){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=xe(function*(v){var k=this;if(sg(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(N){return Promise.reject(N)}var j=v.videoTrack,P=v.duration;if(!this._validateVideoTrackForNetworkTests(j))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=j,new Promise(function(N,L){k.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:P},function(z){z.error?L(z.error):N(z.results)})})}),function(v){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Pe()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=xe(function*(v){var k=this;if(sg(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(j){return Promise.reject(j)}if(!this._validateVideoTrackForNetworkTests(v))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=v,new Promise(function(j,P){k.sendMessageToCallMachine({action:"test-network-connectivity"},function(N){N.error?P(N.error):j(N.results)})})}),function(v){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var v=this;return new Promise(function(k){v._callState===li?v.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(j){k(j.cpuStats)}):k({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(v){var k;if(!(((k=Object.keys(v))===null||k===void 0?void 0:k.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(ng))}},{key:"_validateVideoSendSettings",value:function(v,k){var j=v==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],P="Video send settings should be either an object or one of the supported presets: ".concat(j.join());if(typeof k=="string"){if(!j.includes(k))throw new Error(P)}else{if(Me(k)!=="object")throw new Error(P);if(!k.maxQuality&&!k.encodings&&k.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(k.maxQuality&&["low","medium","high"].indexOf(k.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(k.encodings){var N=!1;switch(Object.keys(k.encodings).length){case 1:N=!k.encodings.low;break;case 2:N=!k.encodings.low||!k.encodings.medium;break;case 3:N=!k.encodings.low||!k.encodings.medium||!k.encodings.high;break;default:N=!0}if(N)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");k.encodings.low&&this._validateEncodingLayerHasValidProperties(k.encodings.low),k.encodings.medium&&this._validateEncodingLayerHasValidProperties(k.encodings.medium),k.encodings.high&&this._validateEncodingLayerHasValidProperties(k.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(v){var k=this;if(!v||Object.keys(v).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(v).forEach(function(j){var P=en(j,2),N=P[0],L=P[1];k._validateVideoSendSettings(N,L)})}},{key:"updateSendSettings",value:function(v){var k=this;return this.validateUpdateSendSettings(v),this.needsLoad()?(this._preloadCache.sendSettings=v,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(j,P){k.sendMessageToCallMachine({action:"update-send-settings",sendSettings:v},function(N){N.error?P(N.error):j(N.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Ae(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(v){return Ae(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:v}),this}},{key:"activeSpeakerMode",value:function(){return Ae(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(v){return Ke(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=v,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:v}),this}},{key:"enumerateDevices",value:(l=xe(function*(){var v=this;if(this._callObjectMode){var k=yield navigator.mediaDevices.enumerateDevices();return $o()==="Firefox"&&gf().major>115&&gf().major<123&&(k=k.filter(function(j){return j.kind!=="audiooutput"})),{devices:k.map(function(j){var P=JSON.parse(JSON.stringify(j));if(!Pe()&&j.kind==="videoinput"&&j.getCapabilities){var N,L=j.getCapabilities();P.facing=(L==null||(N=L.facingMode)===null||N===void 0?void 0:N.length)>=1?L.facingMode[0]:void 0}return P})}}return new Promise(function(j){v.sendMessageToCallMachine({action:"enumerate-devices"},function(P){j({devices:P.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ke(this._callState,"sendAppMessage()"),JSON.stringify(v).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:v,to:k}),this}},{key:"addFakeParticipant",value:function(v){return Ae(),Ke(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(fe({action:"add-fake-participant"},v)),this}},{key:"setShowNamesMode",value:function(v){return An(this._callObjectMode,"setShowNamesMode()"),Ae(),v&&v!=="always"&&v!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:v}),this)}},{key:"setShowLocalVideo",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return An(this._callObjectMode,"setShowLocalVideo()"),Ae(),Ke(this._callState,"setShowLocalVideo()"),typeof v!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:v}),this._showLocalVideo=v,this)}},{key:"showLocalVideo",value:function(){return An(this._callObjectMode,"showLocalVideo()"),Ae(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return An(this._callObjectMode,"setShowParticipantsBar()"),Ae(),Ke(this._callState,"setShowParticipantsBar()"),typeof v!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:v}),this._showParticipantsBar=v,this)}},{key:"showParticipantsBar",value:function(){return An(this._callObjectMode,"showParticipantsBar()"),Ae(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Ae(),An(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(v){return Ae(),An(this._callObjectMode,"setCustomIntegrations()"),Ke(this._callState,"setCustomIntegrations()"),rI(v)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:v}),this._customIntegrations=v,this):this}},{key:"startCustomIntegrations",value:function(v){var k=this;if(Ae(),An(this._callObjectMode,"startCustomIntegrations()"),Ke(this._callState,"startCustomIntegrations()"),Array.isArray(v)&&v.some(function(N){return typeof N!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var j=typeof v=="string"?[v]:v,P=j.filter(function(N){return!(N in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:j}),this)}},{key:"stopCustomIntegrations",value:function(v){var k=this;if(Ae(),An(this._callObjectMode,"stopCustomIntegrations()"),Ke(this._callState,"stopCustomIntegrations()"),Array.isArray(v)&&v.some(function(N){return typeof N!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var j=typeof v=="string"?[v]:v,P=j.filter(function(N){return!(N in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:j}),this)}},{key:"customTrayButtons",value:function(){return An(this._callObjectMode,"customTrayButtons()"),Ae(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(v){return An(this._callObjectMode,"updateCustomTrayButtons()"),Ae(),Ke(this._callState,"updateCustomTrayButtons()"),nI(v)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:v}),this._customTrayButtons=v,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(yf))),this)}},{key:"theme",value:function(){return An(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(v){var k=this;return An(this._callObjectMode,"setTheme()"),new Promise(function(j,P){try{k.validateProperties({theme:v}),k.properties.theme=fe({},v),k.sendMessageToCallMachine({action:"set-theme",theme:k.properties.theme});try{k.emitDailyJSEvent({action:VR,theme:k.properties.theme})}catch(N){console.log("could not emit 'theme-updated'",N)}j(k.properties.theme)}catch(N){P(N)}})}},{key:"requestFullscreen",value:(o=xe(function*(){if(Ae(),this._iframe&&!document.fullscreenElement&&I1())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(v){console.log("could not make video call fullscreen",v)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Ae(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=xe(function*(){var v=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(k){v.sendMessageToCallMachine({action:"get-sidebar-view"},function(j){k(j.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(v){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:v}),this)}},{key:"room",value:(s=xe(function*(){var v=this,k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,j=k===void 0||k;return this._accessState.access===dh||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(P){v.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:j},function(N){delete N.action,delete N.callbackStamp,P(N)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=xe(function*(){try{var v=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield v.json()).geo}}catch(k){return console.error("geo lookup failed",k),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=xe(function*(v){var k=this;return Ae(),Ke(this._callState,"setNetworkTopology()"),new Promise(function(j,P){k.sendMessageToCallMachine({action:"set-network-topology",opts:v},function(N){N.error?P({error:N.error}):j({workerId:N.workerId})})})}),function(v){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=xe(function*(){var v=this;return new Promise(function(k,j){v.needsLoad()&&k({topology:"none"}),v.sendMessageToCallMachine({action:"get-network-topology"},function(P){P.error?j({error:P.error}):k({topology:P.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(v){if(Ae(),typeof v!="number"&&v!==!0&&v!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(v));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:v})}},{key:"on",value:function(v,k){return bd.prototype.on.call(this,v,k)}},{key:"once",value:function(v,k){return bd.prototype.once.call(this,v,k)}},{key:"off",value:function(v,k){return bd.prototype.off.call(this,v,k)}},{key:"validateProperties",value:function(v){var k,j;if(v!=null&&(k=v.dailyConfig)!==null&&k!==void 0&&k.userMediaAudioConstraints){var P,N;Pe()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var L=v.inputSettings||{};L.audio=((P=v.inputSettings)===null||P===void 0?void 0:P.audio)||{},L.audio.settings=((N=v.inputSettings)===null||N===void 0||(N=N.audio)===null||N===void 0?void 0:N.settings)||{},L.audio.settings=fe(fe({},L.audio.settings),v.dailyConfig.userMediaAudioConstraints),v.inputSettings=L,delete v.dailyConfig.userMediaAudioConstraints}if(v!=null&&(j=v.dailyConfig)!==null&&j!==void 0&&j.userMediaVideoConstraints){var z,V;Pe()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var G=v.inputSettings||{};G.video=((z=v.inputSettings)===null||z===void 0?void 0:z.video)||{},G.video.settings=((V=v.inputSettings)===null||V===void 0||(V=V.video)===null||V===void 0?void 0:V.settings)||{},G.video.settings=fe(fe({},G.video.settings),v.dailyConfig.userMediaVideoConstraints),v.inputSettings=G,delete v.dailyConfig.userMediaVideoConstraints}for(var ee in v)if(Qi[ee]){if(Qi[ee].validate&&!Qi[ee].validate(v[ee],this))throw new Error("property '".concat(ee,"': ").concat(Qi[ee].help))}else console.warn("Ignoring unrecognized property '".concat(ee,"'")),delete v[ee]}},{key:"assembleMeetingUrl",value:function(){var v,k,j=fe(fe({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(v=this.properties.dailyConfig)!==null&&v!==void 0&&v.proxyUrl?encodeURIComponent((k=this.properties.dailyConfig)===null||k===void 0?void 0:k.proxyUrl):void 0}),P=j.url.match(/\?/)?"&":"?";return j.url+P+Object.keys(Qi).filter(function(N){return Qi[N].queryString&&j[N]!==void 0}).map(function(N){return"".concat(Qi[N].queryString,"=").concat(j[N])}).join("&")}},{key:"needsLoad",value:function(){return[_y,T1,ei,vs].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(v,k){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(v,k,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(v){this._messageChannel.forwardPackagedMessageToCallMachine(v,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(v){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(v,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(v){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(v)}},{key:"handleMessageFromCallMachine",value:function(v){switch(v.action){case FR:this.sendMessageToCallMachine(fe({action:UR},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var k={action:Nd,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:cf(this.properties.dailyConfig)}};this.sendMessageToCallMachine(k),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case jy:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(v);break;case GR:var j,P=fe({},v);delete P.internal,this._maxAppMessageSize=((j=v.internal)===null||j===void 0?void 0:j._maxAppMessageSize)||Ym,this._joinedCallback&&(this._joinedCallback(v.participants),this._joinedCallback=null),this.emitDailyJSEvent(P);break;case JR:case YR:if(this._callState===ei)return;if(v.participant&&v.participant.session_id){var N=v.participant.local?"local":v.participant.session_id;if(this._callObjectMode){var L=this._callMachine().store;V1(v.participant,L),B1(v.participant,L),z1(v.participant,this._participants[N],L)}try{this.maybeParticipantTracksStopped(this._participants[N],v.participant),this.maybeParticipantTracksStarted(this._participants[N],v.participant),this.maybeEventRecordingStopped(this._participants[N],v.participant),this.maybeEventRecordingStarted(this._participants[N],v.participant)}catch(It){console.error("track events error",It)}this.compareEqualForParticipantUpdateEvent(v.participant,this._participants[N])||(this._participants[N]=fe({},v.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(v))}break;case QR:if(v.participant&&v.participant.session_id){var z=this._participants[v.participant.session_id];z&&this.maybeParticipantTracksStopped(z,null),delete this._participants[v.participant.session_id],this.emitDailyJSEvent(v)}break;case XR:dn(this._participantCounts,v.participantCounts)||(this._participantCounts=v.participantCounts,this.emitDailyJSEvent(v));break;case ZR:var V={access:v.access};v.awaitingAccess&&(V.awaitingAccess=v.awaitingAccess),dn(this._accessState,V)||(this._accessState=V,this.emitDailyJSEvent(v));break;case eO:if(v.meetingSession){this._meetingSessionSummary=v.meetingSession,this.emitDailyJSEvent(v);var G=fe(fe({},v),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(G)}break;case Ny:var ee;this._iframe&&!v.preserveIframe&&(this._iframe.src=""),this._updateCallState(vs),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(v.errorMsg),this._loadedCallback=null),v.preserveIframe;var he=Sj(v,hH);he!=null&&(ee=he.error)!==null&&ee!==void 0&&ee.details&&(he.error.details=JSON.parse(he.error.details)),this._maybeSendToSentry(v),this._joinedCallback&&(this._joinedCallback(null,he),this._joinedCallback=null),this.emitDailyJSEvent(he);break;case KR:this._callState!==vs&&this._updateCallState(ei),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(v);break;case"selected-devices-updated":v.devices&&this.emitDailyJSEvent(v);break;case jO:var Ve=v.state,St=v.threshold,gt=v.quality,Le=Ve.state,st=Ve.reasons;Le===this._network.networkState&&dn(st,this._network.networkStateReasons)&&St===this._network.threshold&&gt===this._network.quality||(this._network.networkState=Le,this._network.networkStateReasons=st,this._network.quality=gt,this._network.threshold=St,v.networkState=Le,st.length&&(v.networkStateReasons=st),delete v.state,this.emitDailyJSEvent(v));break;case EO:v&&v.cpuLoadState&&this.emitDailyJSEvent(v);break;case CO:v&&v.faceCounts!==void 0&&this.emitDailyJSEvent(v);break;case _O:var Ct=v.activeSpeaker;this._activeSpeaker.peerId!==Ct.peerId&&(this._activeSpeaker.peerId=Ct.peerId,this.emitDailyJSEvent({action:v.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Tn=v.show;this._showLocalVideo=Tn,this.emitDailyJSEvent({action:v.action,show:Tn});break;case SO:var rn=v.enabled;this._activeSpeakerMode!==rn&&(this._activeSpeakerMode=rn,this.emitDailyJSEvent({action:v.action,enabled:this._activeSpeakerMode}));break;case nO:case rO:case sO:this._waitingParticipants=v.allWaitingParticipants,this.emitDailyJSEvent({action:v.action,participant:v.participant});break;case OO:dn(this._receiveSettings,v.receiveSettings)||(this._receiveSettings=v.receiveSettings,this.emitDailyJSEvent({action:v.action,receiveSettings:v.receiveSettings}));break;case Cy:this._maybeUpdateInputSettings(v.inputSettings);break;case"send-settings-updated":dn(this._sendSettings,v.sendSettings)||(this._sendSettings=v.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:v.action,sendSettings:v.sendSettings}));break;case"local-audio-level":this._localAudioLevel=v.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=v.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case gO:var Nn=v.session_id;this._rmpPlayerState[Nn]=v.playerState,this.emitDailyJSEvent(v);break;case yO:delete this._rmpPlayerState[v.session_id],this.emitDailyJSEvent(v);break;case vO:var $t=v.session_id,ps=this._rmpPlayerState[$t];ps&&this.compareEqualForRMPUpdateEvent(ps,v.remoteMediaPlayerState)||(this._rmpPlayerState[$t]=v.remoteMediaPlayerState,this.emitDailyJSEvent(v));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(v);break;case tO:var Bs=this._meetingSessionState.topology!==(v.meetingSessionState&&v.meetingSessionState.topology);this._meetingSessionState=ig(v.meetingSessionState,this._callObjectMode),(this._callObjectMode||Bs)&&this.emitDailyJSEvent(v);break;case xO:this._isScreenSharing=!0,this.emitDailyJSEvent(v);break;case wO:case bO:this._isScreenSharing=!1,this.emitDailyJSEvent(v);break;case ky:case Ey:case uO:case dO:case hO:case aO:case lO:case cO:case qR:case WR:case pO:case mO:case"test-completed":case kO:case fO:case TO:case NO:case AO:case PO:case Ty:case RO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(v);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(v,k){var j="record";v&&(k.local||k[j]!==!1||v[j]===k[j]||this.emitDailyJSEvent({action:Ey}))}},{key:"maybeEventRecordingStarted",value:function(v,k){var j="record";v&&(k.local||k[j]!==!0||v[j]===k[j]||this.emitDailyJSEvent({action:ky}))}},{key:"_trackStatePlayable",value:function(v){return!(!v||v.state!==IR)}},{key:"_trackChanged",value:function(v,k){return(v==null?void 0:v.id)!==(k==null?void 0:k.id)}},{key:"maybeEventTrackStopped",value:function(v,k,j){var P,N,L=(P=k==null?void 0:k.tracks[v])!==null&&P!==void 0?P:null,z=(N=j==null?void 0:j.tracks[v])!==null&&N!==void 0?N:null,V=L==null?void 0:L.track;if(V){var G=this._trackStatePlayable(L),ee=this._trackStatePlayable(z),he=this._trackChanged(V,z==null?void 0:z.track);G&&(ee&&!he||this.emitDailyJSEvent({action:oO,track:V,participant:j??k,type:v}))}}},{key:"maybeEventTrackStarted",value:function(v,k,j){var P,N,L=(P=k==null?void 0:k.tracks[v])!==null&&P!==void 0?P:null,z=(N=j==null?void 0:j.tracks[v])!==null&&N!==void 0?N:null,V=z==null?void 0:z.track;if(V){var G=this._trackStatePlayable(L),ee=this._trackStatePlayable(z),he=this._trackChanged(L==null?void 0:L.track,V);ee&&(G&&!he||this.emitDailyJSEvent({action:iO,track:V,participant:j,type:v}))}}},{key:"maybeParticipantTracksStopped",value:function(v,k){if(v)for(var j in v.tracks)this.maybeEventTrackStopped(j,v,k)}},{key:"maybeParticipantTracksStarted",value:function(v,k){if(k)for(var j in k.tracks)this.maybeEventTrackStarted(j,v,k)}},{key:"compareEqualForRMPUpdateEvent",value:function(v,k){var j,P;return v.state===k.state&&((j=v.settings)===null||j===void 0?void 0:j.volume)===((P=k.settings)===null||P===void 0?void 0:P.volume)}},{key:"emitDailyJSEvent",value:function(v){try{v.callClientId=this.callClientId,this.emit(v.action,v)}catch(k){console.log("could not emit",v,k)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(v,k){return!!dn(v,k)&&(!v.videoTrack||!k.videoTrack||v.videoTrack.id===k.videoTrack.id&&v.videoTrack.muted===k.videoTrack.muted&&v.videoTrack.enabled===k.videoTrack.enabled)&&(!v.audioTrack||!k.audioTrack||v.audioTrack.id===k.audioTrack.id&&v.audioTrack.muted===k.audioTrack.muted&&v.audioTrack.enabled===k.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Pe()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(v){this._updateCallState(this._callState,v)}},{key:"_updateCallState",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(v!==this._callState||k!==this._isPreparingToJoin){var j=this._callState,P=this._isPreparingToJoin;this._callState=v,this._isPreparingToJoin=k;var N=this._callState===li;this.updateShowAndroidOngoingMeetingNotification(N);var L=fh(j,P),z=fh(this._callState,this._isPreparingToJoin);L!==z&&(this.updateKeepDeviceAwake(z),this.updateDeviceAudioMode(z),this.updateNoOpRecordingEnsuringBackgroundContinuity(z))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=tk,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:dh},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=ig(ek,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Ym,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(v){Pe()&&this.nativeUtils().setKeepDeviceAwake(v,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(v){if(Pe()&&!this.disableReactNativeAutoDeviceManagement("audio")){var k=v?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(k)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(v){if(Pe()&&this.nativeUtils().setShowOngoingMeetingNotification){var k,j,P,N;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var L=this.properties.reactNativeConfig.androidInCallNotification;k=L.title,j=L.subtitle,P=L.iconName,N=L.disableForCustomOverride}N&&(v=!1),this.nativeUtils().setShowOngoingMeetingNotification(v,k,j,P,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(v){Pe()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(v)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var v;if(Pe()){var k=(v=this._callMachine())===null||v===void 0||(v=v.store)===null||v===void 0?void 0:v.getState();for(var j in k==null?void 0:k.streams){var P=k.streams[j];P&&P.pendingTrack&&P.pendingTrack.kind==="audio"&&(P.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(v){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[v]}},{key:"absoluteUrl",value:function(v){if(v!==void 0){var k=document.createElement("a");return k.href=v,k.href}}},{key:"sayHello",value:function(){var v="hello, world.";return console.log(v),v}},{key:"_logUseAfterDestroy",value:function(){var v=Object.values(Yi)[0];if(this.needsLoad())if(v&&!v.needsLoad()){var k={action:Nd,level:"error",code:this.strictMode?9995:9997};v.sendMessageToCallMachine(k)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var j={action:Nd,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(j,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var v=0,k=Object.values(Yi);v<k.length;v++){var j=k[v];j._callMachineInitialized?(j.sendMessageToCallMachine({action:Nd,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),j._delayDuplicateInstanceLog=!1):j._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(v){var k,j,P,N;if(!((k=v.error)!==null&&k!==void 0&&k.type&&(![$R,LR,Sy].includes(v.error.type)||v.error.type===Sy&&v.error.msg.includes("deleted")))){var L=(j=this.properties)!==null&&j!==void 0&&j.url?new URL(this.properties.url):void 0,z="production";L&&L.host.includes(".staging.daily")&&(z="staging");var V,G,ee,he,Ve,St=function(Nn){const $t=[MW(),OW(),a9(),i9(),h9(),p9(),FW(),f9()];return Nn.autoSessionTracking!==!1&&$t.push(d9()),$t}({}).filter(function(Nn){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Nn.name)}),gt=new GW({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:XW,stackParser:s9,integrations:St,environment:z}),Le=new Li;if(Le.setClient(gt),gt.init(),this.session_id&&Le.setExtra("sessionId",this.session_id),this.properties){var st=fe({},this.properties);st.userName=st.userName?"[Filtered]":void 0,st.userData=st.userData?"[Filtered]":void 0,st.token=st.token?"[Filtered]":void 0,Le.setExtra("properties",st)}if(L){var Ct=L.searchParams.get("domain");if(!Ct){var Tn=L.host.match(/(.*?)\./);Ct=Tn&&Tn[1]||""}Ct&&Le.setTag("domain",Ct)}v.error&&(Le.setTag("fatalErrorType",v.error.type),Le.setExtra("errorDetails",v.error.details),!((V=v.error.details)===null||V===void 0)&&V.uri&&Le.setTag("serverAddress",v.error.details.uri),!((G=v.error.details)===null||G===void 0)&&G.workerGroup&&Le.setTag("workerGroup",v.error.details.workerGroup),!((ee=v.error.details)===null||ee===void 0)&&ee.geoGroup&&Le.setTag("geoGroup",v.error.details.geoGroup),!((he=v.error.details)===null||he===void 0)&&he.on&&Le.setTag("connectionAttempt",v.error.details.on),(Ve=v.error.details)!==null&&Ve!==void 0&&Ve.bundleUrl&&(Le.setTag("bundleUrl",v.error.details.bundleUrl),Le.setTag("bundleError",v.error.details.sourceError.type))),Le.setTags({callMode:this._callObjectMode?Pe()?"reactNative":(P=this.properties)!==null&&P!==void 0&&(P=P.dailyConfig)!==null&&P!==void 0&&(P=P.callMode)!==null&&P!==void 0&&P.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var rn=((N=v.error)===null||N===void 0?void 0:N.msg)||v.errorMsg;Le.captureException(new Error(rn))}}},{key:"_callMachine",value:function(){var v;return(v=window._daily)===null||v===void 0||(v=v.instances)===null||v===void 0||(v=v[this.callClientId])===null||v===void 0?void 0:v.callMachine}},{key:"_maybeUpdateInputSettings",value:function(v){if(!dn(this._inputSettings,v)){var k=this._getInputSettings();this._inputSettings=v;var j=this._getInputSettings();dn(k,j)||this.emitDailyJSEvent({action:Cy,inputSettings:j})}}}],[{key:"supportedBrowser",value:function(){if(Pe())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var v=tW.getParser(cr());return{supported:!!Zm(),mobile:v.getPlatformType()==="mobile",name:v.getBrowserName(),version:v.getBrowserVersion(),supportsFullscreen:!!I1(),supportsScreenShare:!!V9(),supportsSfu:!!Zm(),supportsVideoProcessing:DO(),supportsAudioProcessing:LO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.layout="none",new e(null,v)}},{key:"wrap",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ae(),!v||!v.contentWindow||typeof v.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return k.layout||(k.customLayout?k.layout="custom-v1":k.layout="browser"),new e(v,k)}},{key:"createFrame",value:function(v,k){var j,P;Ae(),v&&k?(j=v,P=k):v&&v.append?(j=v,P={}):(j=document.body,P=v||{});var N=P.iframeStyle;N||(N=j===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var L=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?L.allow="microphone, camera":L.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",L.style.visibility="hidden",j.appendChild(L),L.style.visibility=null,Object.keys(N).forEach(function(z){return L.style[z]=N[z]}),P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser");try{return new e(L,P)}catch(z){throw j.removeChild(L),z}}},{key:"createTransparentFrame",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ae();var k=document.createElement("iframe");return k.allow="microphone; camera; autoplay",k.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(k),v.layout||(v.layout="custom-v1"),e.wrap(k,v)}},{key:"getCallInstance",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return v?Yi[v]:Object.values(Yi)[0]}}]);var t,n,r,s,i,o,l,c,u,d,h,f,p,w,m,_,y,x,b,S,E,C,T,R,O,D,A,M,q,F,Z,U,B,I,$,K,ie,Y}();function sk(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function ea(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=Cs;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Ke(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==li){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function fh(e,t){return[mf,li].includes(e)||t}function rg(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(fh(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function Rd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function sg(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function yr(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function An(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Ae(){if(Pe())throw new Error("This daily-js method is not currently supported in React Native")}function sc(){if(!Pe())throw new Error("This daily-js method is only supported in React Native")}function YO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),dn(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function QO(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,l=Object.entries(e);o<l.length;o++){var c=en(l[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function XO(e){if(Me(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=en(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Me(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=en(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!gH(d))return!1;break;case"settings":if(!ik(d))return!1;break;default:return!1}}break;case"audio":if(Me(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var p=en(f[h],2),w=p[0],m=p[1];switch(w){case"processor":if(!mH(m))return!1;break;case"settings":if(!ik(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function ZO(e,t,n){var r,s=[];e.video&&e.video.processor&&(DO((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(LO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:Cs}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:Cs}):delete n.videoTrack)}function mH(e){if(Pe())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Me(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(IO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function gH(e){if(Pe())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Me(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(hh).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Me(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case hh.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case hh.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(uf(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return Xm.includes(f)}catch(w){return console.error("failed to deduce blob content type",w),!1}var p=h.split(".").at(-1).toLowerCase().trim();return Xm.includes(p)}(o.source)||(console.error("invalid image type; supported types: [".concat(Xm.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function ik(e){return Me(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function Dy(){var e=Object.values(hh).join(" | "),t=Object.values(IO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function eI(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(DR).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function tI(){return"customIntegrations should be an object of type ".concat(JSON.stringify(My),".")}function nI(e){if(e&&Me(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(yf),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=en(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=en(i[s],2),l=o[0],c=o[1],u=yf.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!uf(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Me(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function rI(e){if(!e||e&&Me(e)!=="object"||Array.isArray(e))return console.error(tI()),!1;for(var t=function(h){return"".concat(h," should be ").concat(My.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,s=Object.entries(e);r<s.length;r++){var i=en(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(e[i]);o<l.length;o++){var c=en(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!uf(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!uf(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!My.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function sI(e,t){if(t===void 0)return!1;switch(Me(t)){case"string":return Me(e)===t;case"object":if(Me(e)!=="object")return!1;for(var n in e)if(!sI(e[n],t[n]))return!1;return!0;default:return!1}}function ok(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function ak(e){if(Me(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Ay).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Ay));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function lk(e,t,n){return!(typeof e!="number"||e<t||e>n)}function ig(e,t){return e&&!t&&delete e.data,e}const vH=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:MR,DAILY_ACCESS_LEVEL_LOBBY:w9,DAILY_ACCESS_LEVEL_NONE:b9,DAILY_ACCESS_UNKNOWN:dh,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:R9,DAILY_CAMERA_ERROR_CAM_IN_USE:A9,DAILY_CAMERA_ERROR_CONSTRAINTS:D9,DAILY_CAMERA_ERROR_MIC_IN_USE:P9,DAILY_CAMERA_ERROR_NOT_FOUND:M9,DAILY_CAMERA_ERROR_PERMISSIONS:O9,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:I9,DAILY_CAMERA_ERROR_UNKNOWN:L9,DAILY_EVENT_ACCESS_STATE_UPDATED:ZR,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:_O,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:SO,DAILY_EVENT_APP_MSG:pO,DAILY_EVENT_CAMERA_ERROR:WR,DAILY_EVENT_CPU_LOAD_CHANGE:EO,DAILY_EVENT_ERROR:Ny,DAILY_EVENT_EXIT_FULLSCREEN:fc,DAILY_EVENT_FACE_COUNTS_UPDATED:CO,DAILY_EVENT_FULLSCREEN:hc,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:UR,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:FR,DAILY_EVENT_INPUT_SETTINGS_UPDATED:Cy,DAILY_EVENT_JOINED_MEETING:GR,DAILY_EVENT_JOINING_MEETING:HR,DAILY_EVENT_LANG_UPDATED:RO,DAILY_EVENT_LEFT_MEETING:KR,DAILY_EVENT_LIVE_STREAMING_ERROR:PO,DAILY_EVENT_LIVE_STREAMING_STARTED:TO,DAILY_EVENT_LIVE_STREAMING_STOPPED:AO,DAILY_EVENT_LIVE_STREAMING_UPDATED:NO,DAILY_EVENT_LOADED:jy,DAILY_EVENT_LOADING:BR,DAILY_EVENT_LOAD_ATTEMPT_FAILED:zR,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:bO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:xO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:wO,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:$9,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:tO,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:eO,DAILY_EVENT_NETWORK_CONNECTION:kO,DAILY_EVENT_NETWORK_QUALITY_CHANGE:jO,DAILY_EVENT_NONFATAL_ERROR:Ty,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:XR,DAILY_EVENT_PARTICIPANT_JOINED:JR,DAILY_EVENT_PARTICIPANT_LEFT:QR,DAILY_EVENT_PARTICIPANT_UPDATED:YR,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:OO,DAILY_EVENT_RECORDING_DATA:fO,DAILY_EVENT_RECORDING_ERROR:dO,DAILY_EVENT_RECORDING_STARTED:ky,DAILY_EVENT_RECORDING_STATS:uO,DAILY_EVENT_RECORDING_STOPPED:Ey,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:hO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:gO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:yO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:vO,DAILY_EVENT_STARTED_CAMERA:qR,DAILY_EVENT_THEME_UPDATED:VR,DAILY_EVENT_TRACK_STARTED:iO,DAILY_EVENT_TRACK_STOPPED:oO,DAILY_EVENT_TRANSCRIPTION_ERROR:cO,DAILY_EVENT_TRANSCRIPTION_MSG:mO,DAILY_EVENT_TRANSCRIPTION_STARTED:aO,DAILY_EVENT_TRANSCRIPTION_STOPPED:lO,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:nO,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:sO,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:rO,DAILY_FATAL_ERROR_CONNECTION:$R,DAILY_FATAL_ERROR_EJECTED:S9,DAILY_FATAL_ERROR_EOL:LR,DAILY_FATAL_ERROR_EXP_ROOM:E9,DAILY_FATAL_ERROR_EXP_TOKEN:C9,DAILY_FATAL_ERROR_MEETING_FULL:T9,DAILY_FATAL_ERROR_NBF_ROOM:j9,DAILY_FATAL_ERROR_NBF_TOKEN:k9,DAILY_FATAL_ERROR_NOT_ALLOWED:N9,DAILY_FATAL_ERROR_NO_ROOM:Sy,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:_9,DAILY_RECEIVE_SETTINGS_BASE_KEY:DR,DAILY_STATE_ERROR:vs,DAILY_STATE_JOINED:li,DAILY_STATE_JOINING:mf,DAILY_STATE_LEFT:ei,DAILY_STATE_NEW:_y,DAILY_TRACK_STATE_BLOCKED:m9,DAILY_TRACK_STATE_INTERRUPTED:x9,DAILY_TRACK_STATE_LOADING:y9,DAILY_TRACK_STATE_OFF:g9,DAILY_TRACK_STATE_PLAYABLE:IR,DAILY_TRACK_STATE_SENDABLE:v9,default:pH},Symbol.toStringTag,{value:"Module"})),yH=ND(vH);var S0={exports:{}},za=typeof Reflect=="object"?Reflect:null,ck=za&&typeof za.apply=="function"?za.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},ph;za&&typeof za.ownKeys=="function"?ph=za.ownKeys:Object.getOwnPropertySymbols?ph=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ph=function(t){return Object.getOwnPropertyNames(t)};function xH(e){console&&console.warn&&console.warn(e)}var iI=Number.isNaN||function(t){return t!==t};function He(){He.init.call(this)}S0.exports=He;S0.exports.once=SH;He.EventEmitter=He;He.prototype._events=void 0;He.prototype._eventsCount=0;He.prototype._maxListeners=void 0;var uk=10;function _p(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return uk},set:function(e){if(typeof e!="number"||e<0||iI(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");uk=e}});He.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};He.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||iI(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function oI(e){return e._maxListeners===void 0?He.defaultMaxListeners:e._maxListeners}He.prototype.getMaxListeners=function(){return oI(this)};He.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")ck(c,this,n);else for(var u=c.length,d=dI(c,u),r=0;r<u;++r)ck(d[r],this,n);return!0};function aI(e,t,n,r){var s,i,o;if(_p(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=oI(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,xH(l)}return e}He.prototype.addListener=function(t,n){return aI(this,t,n,!1)};He.prototype.on=He.prototype.addListener;He.prototype.prependListener=function(t,n){return aI(this,t,n,!0)};function wH(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function lI(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=wH.bind(r);return s.listener=n,r.wrapFn=s,s}He.prototype.once=function(t,n){return _p(n),this.on(t,lI(this,t,n)),this};He.prototype.prependOnceListener=function(t,n){return _p(n),this.prependListener(t,lI(this,t,n)),this};He.prototype.removeListener=function(t,n){var r,s,i,o,l;if(_p(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){l=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():bH(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,l||n)}return this};He.prototype.off=He.prototype.removeListener;He.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function cI(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?_H(s):dI(s,s.length)}He.prototype.listeners=function(t){return cI(this,t,!0)};He.prototype.rawListeners=function(t){return cI(this,t,!1)};He.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):uI.call(e,t)};He.prototype.listenerCount=uI;function uI(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}He.prototype.eventNames=function(){return this._eventsCount>0?ph(this._events):[]};function dI(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function bH(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _H(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function SH(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}hI(e,t,i,{once:!0}),t!=="error"&&jH(e,s,{once:!0})})}function jH(e,t,n){typeof e.on=="function"&&hI(e,"error",t,n)}function hI(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var kH=S0.exports,Sp={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.Api=Ni.HttpClient=Ni.ContentType=void 0;var ne;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(ne||(Ni.ContentType=ne={}));class fI{constructor(t={}){Se(this,"baseUrl","https://api.vapi.ai");Se(this,"securityData",null);Se(this,"securityWorker");Se(this,"abortControllers",new Map);Se(this,"customFetch",(...t)=>fetch(...t));Se(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});Se(this,"setSecurityData",t=>{this.securityData=t});Se(this,"contentFormatters",{[ne.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ne.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ne.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[ne.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[ne.UrlEncoded]:t=>this.toQueryString(t)});Se(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});Se(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});Se(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:l,cancelToken:c,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),p=this.contentFormatters[s||ne.Json],w=o||h.format;return this.customFetch(`${l||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==ne.FormData?{"Content-Type":s}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:p(t)}).then(async m=>{const _=m;_.data=null,_.error=null;const y=w?m.clone():m,x=w?await y[w]().then(b=>(_.ok?_.data=b:_.error=b,_)).catch(b=>(_.error=b,_)):_;if(c&&this.abortControllers.delete(c),!m.ok)throw x;return x})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}Ni.HttpClient=fI;class EH extends fI{constructor(){super(...arguments);Se(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:ne.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});Se(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});Se(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s})});Se(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:ne.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r})});Se(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r})});Se(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:ne.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:ne.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:ne.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r})});Se(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:ne.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:ne.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:ne.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:ne.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});Se(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:ne.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r})});Se(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:ne.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});Se(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r})});Se(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:ne.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:ne.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});Se(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:ne.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});Se(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:ne.Json,...r})});Se(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:ne.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:ne.Json,format:"json",...s})});Se(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:ne.FormData,...r})});Se(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:ne.Json,format:"json",...r})})}}Ni.Api=EH;Object.defineProperty(Sp,"__esModule",{value:!0});Sp.client=void 0;const CH=Ni,TH=new CH.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});Sp.client=TH;var Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.createSafeDailyConfig=NH;Vl.safeSetLocalAudio=AH;Vl.safeSetInputDevicesAsync=PH;Vl.createSafeDailyFactoryOptions=RH;function NH(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function AH(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function PH(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function RH(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var pI=ob&&ob.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mR,"__esModule",{value:!0});const og=pI(yH),OH=pI(kH),ag=Sp,Xi=Vl;function on(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function IH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function dk(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await IH(n,e),n}function hk(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function fk(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class MH extends OH.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class DH extends MH{constructor(n,r,s,i){super();Se(this,"started",!1);Se(this,"call",null);Se(this,"speakingTimeout",null);Se(this,"dailyCallConfig",{});Se(this,"dailyCallObject",{});Se(this,"hasEmittedCallEndedStatus",!1);ag.client.baseUrl=r??"https://api.vapi.ai",ag.client.setSecurityData(n),this.dailyCallConfig=(0,Xi.createSafeDailyConfig)(s),this.dailyCallObject=(0,Xi.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,l){var u,d,h,f,p,w,m;const c=Date.now();if(!n&&!s&&!i){const _=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:on(_),timestamp:new Date().toISOString()}),_}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const _=Date.now(),y=(await ag.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:l==null?void 0:l.roomDeleteOnUserLeaveEnabled})).data,x=Date.now()-_;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:x,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((u=y==null?void 0:y.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const b=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,S=((w=(p=y==null?void 0:y.assistant)==null?void 0:p.voice)==null?void 0:w.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??b,isVideoRecordingEnabled:b,isVideoEnabled:S}});const E=Date.now();try{this.call=og.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??b,dailyConfig:this.dailyCallConfig});const A=Date.now()-E;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-E,q=on(A);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:q.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:q,timestamp:new Date().toISOString()}),A}(m=this.call.iframe())==null||m.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),b&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var M;this.emit("error",{type:"daily-error",error:on(A),timestamp:new Date().toISOString()}),b&&((M=this.call)==null||M.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:on(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var M,q,F;!A||!A.participant||(M=A.participant)!=null&&M.local||((q=A.participant)==null?void 0:q.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await dk(A.track,A.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||fk(A,this.call,b,S)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&hk(A.participant.session_id)});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const A=Date.now();await this.sleep(1e3);const M=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:M,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const T=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const A=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-T,q=on(A);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:q.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:q,duration:M,timestamp:new Date().toISOString()}),A}if(b){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=new Date().getTime(),M=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const q=Date.now()-M;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:q,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-A)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(q){const F=Date.now()-M,Z=on(q);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:Z.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:Z,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const R=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-R;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-R,q=on(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:q.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:q,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var M;(A==null?void 0:A.type)==="audio-processor-error"&&((M=this.call)==null||M.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Xi.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-O;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-O,q=on(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:q.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:q,timestamp:new Date().toISOString()})}const D=Date.now()-c;return this.emit("call-start-success",{totalDuration:D,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(_){const y=Date.now()-c,x=on(_);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:x.message,errorStack:x.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:x,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Xi.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Xi.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const l=s.createMediaStreamDestination();o.connect(l);const[c]=l.stream.getAudioTracks();await(0,Xi.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,l,c,u,d,h,f,p,w,m,_;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((l=n==null?void 0:n.artifactPlan)==null?void 0:l.videoRecordingEnabled)??!1,x=((u=(c=n==null?void 0:n.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:x}});const b=Date.now();this.call=og.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const S=Date.now()-b;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:S,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var A;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((A=this.call)==null||A.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",A=>{var M;this.emit("error",{type:"daily-error",error:on(A),timestamp:new Date().toISOString()}),y&&((M=this.call)==null||M.stopRecording())}),this.call.on("camera-error",A=>{this.emit("camera-error",{type:"camera-error",error:on(A),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",A=>{this.emit("network-quality-change",A)}),this.call.on("network-connection",A=>{this.emit("network-connection",A)}),this.call.on("track-started",async A=>{var M,q,F;!A||!A.participant||(M=A.participant)!=null&&M.local||((q=A.participant)==null?void 0:q.user_name)==="Vapi Speaker"&&(A.track.kind==="video"&&this.emit("video",A.track),A.track.kind==="audio"&&await dk(A.track,A.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",A=>{!A||!this.call||fk(A,this.call,y,x)}),this.call.on("participant-updated",A=>{A&&this.emit("daily-participant-updated",A.participant)}),this.call.on("participant-left",A=>{A&&hk(A.participant.session_id)}),this.call.on("remote-participants-audio-level",A=>{A&&this.handleRemoteParticipantsAudioLevel(A)}),this.call.on("app-message",A=>this.onAppMessage(A)),this.call.on("nonfatal-error",A=>{var M;(A==null?void 0:A.type)==="audio-processor-error"&&((M=this.call)==null||M.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Xi.safeSetLocalAudio)(this.call,!0)}))});const E=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:E}}),E){const A=Date.now();await this.sleep(1e3);const M=Date.now()-A;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:M,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const T=Date.now()-C;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:T,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const A=Date.now(),M=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const q=Date.now()-A;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:q,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-M)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(q){const F=Date.now()-A,Z=on(q);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:Z.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const R=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const A=Date.now()-R;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-R,q=on(A);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:q.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const A=Date.now()-O;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:A,timestamp:new Date().toISOString()})}catch(A){const M=Date.now()-O,q=on(A);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:M,timestamp:new Date().toISOString(),metadata:{error:q.message}})}const D=Date.now()-r;this.emit("call-start-success",{totalDuration:D,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const x=Date.now()-r,b=on(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:x,error:b.message,errorStack:b.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((p=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:p.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:b,totalDuration:x,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((w=n==null?void 0:n.artifactPlan)!=null&&w.videoRecordingEnabled),voiceProvider:((_=(m=n==null?void 0:n.assistant)==null?void 0:m.voice)==null?void 0:_.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=og.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var LH=mR.default=DH;const $H=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function FH(e={}){const[t,n]=g.useState("idle"),[r,s]=g.useState([]),[i,o]=g.useState(!1),[l,c]=g.useState(0),u=g.useRef(null),d=g.useCallback(w=>{var m;n(w),(m=e.onStatusChange)==null||m.call(e,w)},[e]);g.useEffect(()=>{const w="4755e6d9-a32f-474b-a4e7-8d103fc571b5",m=new LH(w);return u.current=m,m.on("call-start",()=>{console.log("Vapi: Call started"),d("connected")}),m.on("call-end",()=>{var _;console.log("Vapi: Call ended"),d("ended"),(_=e.onCallEnd)==null||_.call(e,r)}),m.on("speech-start",()=>{d("speaking")}),m.on("speech-end",()=>{d("listening")}),m.on("message",_=>{if(_.type==="transcript"){const y={role:_.role,content:_.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(x=>{var b,S;if(_.transcriptType==="partial"&&x.length>0&&x[x.length-1].role===_.role){const E=[...x];return E[E.length-1]=y,(b=e.onTranscriptUpdate)==null||b.call(e,E),E}else if(_.transcriptType==="final"){const E=[...x,y];return(S=e.onTranscriptUpdate)==null||S.call(e,E),E}return x})}}),m.on("volume-level",_=>{c(_)}),m.on("error",_=>{var y;console.error("Vapi error:",_),d("error"),(y=e.onError)==null||y.call(e,new Error(_.message||"Vapi error"))}),()=>{m.stop()}},[]);const h=g.useCallback(async w=>{var m;if(!u.current){console.error("Vapi not initialized");return}d("connecting");try{await u.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:$H,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:w?`Hello ${w}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(_){console.error("Failed to start Vapi call:",_),d("error"),(m=e.onError)==null||m.call(e,_)}},[d,e]),f=g.useCallback(()=>{u.current&&(u.current.stop(),d("ended"))},[d]),p=g.useCallback(()=>{if(u.current){const w=!i;u.current.setMuted(w),o(w)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:l,startCall:h,endCall:f,toggleMute:p,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}var ns=function(){return ns=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ns.apply(this,arguments)};function Bl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function UH(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function VH(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const BH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class j0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class zH extends j0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pk extends j0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mk extends j0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ly;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ly||(Ly={}));class qH{constructor(t,{headers:n={},customFetch:r,region:s=Ly.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=BH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return UH(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const w=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(f["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(f["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let _=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(_=o.signal,d.addEventListener("abort",()=>o.abort())):_=o.signal);const y=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:m,signal:_}).catch(E=>{throw new zH(E)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new pk(y);if(!y.ok)throw new mk(y);let b=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield y.json():b==="application/octet-stream"||b==="application/pdf"?S=yield y.blob():b==="text/event-stream"?S=y:b==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof mk||l instanceof pk?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var WH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},HH=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var p;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const m=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");m&&_&&_.length>1&&(c=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var w;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&n.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new WH(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const w=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${w}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},GH=class extends HH{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const gk=new RegExp("[,()]");var da=class extends GH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&gk.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&gk.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},KH=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new da({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new da({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new da({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new da({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new da({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},JH=class mI{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new KH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),h=r&&Object.values(n).some(d);h?(l="POST",u=n):r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,w])=>w!==void 0).map(([p,w])=>[p,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([p,w])=>{c.searchParams.append(p,w)})):(l="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new da({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class YH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QH="2.90.1",XH=`realtime-js/${QH}`,gI="1.0.0",ZH="2.0.0",vk=gI,$y=1e4,eG=1e3,tG=100;var ii;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ii||(ii={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var Nr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nr||(Nr={}));var Fy;(function(e){e.websocket="websocket"})(Fy||(Fy={}));var io;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(io||(io={}));class nG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let w=new DataView(p),m=0;w.setUint8(m++,this.KINDS.userBroadcastPush),w.setUint8(m++,c.length),w.setUint8(m++,l.length),w.setUint8(m++,o.length),w.setUint8(m++,u.length),w.setUint8(m++,h.length),w.setUint8(m++,n),Array.from(c,y=>w.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>w.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>w.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>w.setUint8(m++,y.charCodeAt(0))),Array.from(h,y=>w.setUint8(m++,y.charCodeAt(0)));var _=new Uint8Array(p.byteLength+r.byteLength);return _.set(new Uint8Array(p),0),_.set(new Uint8Array(r),p.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,w={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class vI{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ye||(Ye={}));const yk=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=rG(o,e,t,s),i),{}):{}},rG=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?yI(i,o):Uy(o)},yI=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return aG(t,n)}switch(e){case Ye.bool:return sG(t);case Ye.float4:case Ye.float8:case Ye.int2:case Ye.int4:case Ye.int8:case Ye.numeric:case Ye.oid:return iG(t);case Ye.json:case Ye.jsonb:return oG(t);case Ye.timestamp:return lG(t);case Ye.abstime:case Ye.date:case Ye.daterange:case Ye.int4range:case Ye.int8range:case Ye.money:case Ye.reltime:case Ye.text:case Ye.time:case Ye.timestamptz:case Ye.timetz:case Ye.tsrange:case Ye.tstzrange:return Uy(t);default:return Uy(t)}},Uy=e=>e,sG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},aG=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>yI(t,l))}return e},lG=e=>typeof e=="string"?e.replace(" ","T"):e,xI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class lg{constructor(t,n,r={},s=$y){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xk||(xk={}));class Mc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Mc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mc.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(_=>_.presence_ref),p=h.map(_=>_.presence_ref),w=d.filter(_=>p.indexOf(_.presence_ref)<0),m=h.filter(_=>f.indexOf(_.presence_ref)<0);w.length>0&&(l[u]=w),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wk||(wk={}));var Dc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dc||(Dc={}));var bs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bs||(bs={}));class Pa{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lg(this,Nr.join,this.params,this.timeout),this.rejoinTimer=new vI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Mc(this),this.broadcastEndpointURL=xI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Dc.PRESENCE]&&this.bindings[Dc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(bs.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(bs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(bs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,_=(w=m==null?void 0:m.length)!==null&&w!==void 0?w:0,y=[];for(let x=0;x<_;x++){const b=m[x],{filter:{event:S,schema:E,table:C,filter:T}}=b,R=p&&p[x];if(R&&R.event===S&&Pa.isFilterValueEqual(R.schema,E)&&Pa.isFilterValueEqual(R.table,C)&&Pa.isFilterValueEqual(R.filter,T))y.push(Object.assign(Object.assign({},b),{id:R.id}));else{this.unsubscribe(),this.state=Tt.errored,t==null||t(bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(bs.SUBSCRIBED);return}}).receive("error",p=>{this.state=Tt.errored,t==null||t(bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Tt.joined&&t===Dc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new lg(this,Nr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lg(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tG){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Nr;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,m,_;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(m=p.filter)===null||m===void 0?void 0:m.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,m,_,y,x,b,S,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,T=(w=p.filter)===null||w===void 0?void 0:w.event;return C&&((m=n.ids)===null||m===void 0?void 0:m.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((y=p.filter)===null||y===void 0)&&y.table)||p.filter.table===((x=n.data)===null||x===void 0?void 0:x.table))}else{const C=(S=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return C==="*"||C===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:m,table:_,commit_timestamp:y,type:x,errors:b}=w;f=Object.assign(Object.assign({},{schema:m,table:_,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(w))}p.callback(f,r)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Pa.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nr.close,{},t)}_onError(t){this._on(Nr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=yk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=yk(t.columns,t.old_record)),n}}const cg=()=>{},Od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cG=[1e3,2e3,5e3,1e4],uG=1e4,dG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hG{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$y,this.transport=null,this.heartbeatIntervalMs=Od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cg,this.ref=0,this.reconnectTimer=null,this.vsn=vk,this.logger=cg,this.conn=null,this.sendBuffer=[],this.serializer=new nG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Fy.websocket}`,this.httpEndpoint=xI(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return io.Connecting;case ii.open:return io.Open;case ii.closing:return io.Closing;default:return io.Closed}}isConnected(){return this.connectionState()===io.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Pa(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(eG,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Od.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ii.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ii.open||this.conn.readyState===ii.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([dG],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:XH};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Nr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new vI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,c,u,d,h,f,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:$y,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Od.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:cg,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:vk,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:w=>cG[w-1]||uG,this.vsn){case gI:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,m)=>m(JSON.stringify(w)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(w,m)=>m(JSON.parse(w));break;case ZH:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var gu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fG(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function pG(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function mG(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const l=fG(e.baseUrl,r,s),c=await pG(e.auth),u=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?f:void 0,w=p==null?void 0:p.error;throw new gu((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function Id(e){return e.join("")}var gG=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Id(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Id(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Id(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Id(e.namespace)}`}),!0}catch(t){if(t instanceof gu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof gu&&n.status===409)return;throw n}}};function ta(e){return e.join("")}var vG=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ta(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ta(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ta(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ta(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ta(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ta(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof gu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof gu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},yG=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=mG({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new gG(this.client,t),this.tableOps=new vG(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},jp=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var xG=class extends jp{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vy=class extends jp{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const k0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wG=()=>Response,By=e=>{if(Array.isArray(e))return e.map(n=>By(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=By(r)}),t},bG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_G=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function SG(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jG(e){var t=SG(e,"string");return vu(t)=="symbol"?t:t+""}function kG(e,t,n){return(t=jG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(r){kG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const ug=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},EG=async(e,t,n)=>{e instanceof await wG()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new xG(ug(r),s,i))}).catch(r=>{t(new Vy(ug(r),r))}):t(new Vy(ug(e),e))},CG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(bG(r)?(s.headers=ye({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),ye(ye({},s),n))};async function zu(e,t,n,r,s,i){return new Promise((o,l)=>{e(n,CG(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>EG(c,l,r))})}async function yu(e,t,n,r){return zu(e,"GET",t,n,r)}async function kr(e,t,n,r,s){return zu(e,"POST",t,r,s,n)}async function zy(e,t,n,r,s){return zu(e,"PUT",t,r,s,n)}async function TG(e,t,n,r){return zu(e,"HEAD",t,ye(ye({},n),{},{noResolveJson:!0}),r)}async function E0(e,t,n,r,s){return zu(e,"DELETE",t,r,s,n)}var NG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}}};let wI;wI=Symbol.toStringTag;var AG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[wI]="BlobDownloadBuilder",this.promise=null}asStream(){return new NG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}}};const PG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_k={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var RG=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=k0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=ye(ye({},_k),r);let l=ye(ye({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=ye(ye({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?zy:kr)(s.fetch,`${s.url}/object/${d}`,i,ye({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=ye({upsert:_k.upsert},r),d=ye(ye({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await zy(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=ye({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await kr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),l=o.searchParams.get("token");if(!l)throw new jp("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await kr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await kr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await kr(r.fetch,`${r.url}/object/sign/${s}`,ye({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await kr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>ye(ye({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>yu(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new AG(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:By(await yu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await TG(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lt(r)&&r instanceof Vy){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await E0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=ye(ye(ye({},PG),t),{},{prefix:e||""});return{data:await kr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=ye({},e);return{data:await kr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const bI="2.90.1",_I={"X-Client-Info":`storage-js/${bI}`};var OG=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ye(ye({},_I),t),this.fetch=k0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await yu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await yu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await kr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await zy(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await kr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await E0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},IG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ye(ye({},_I),t),this.fetch=k0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await kr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await yu(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await E0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!_G(e))throw new jp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new yG({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const C0={"X-Client-Info":`storage-js/${bI}`,"Content-Type":"application/json"};var SI=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var dg=class extends SI{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},MG=class extends SI{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const T0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LG=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new dg(Sk(i),r,o))}).catch(()=>{const i=r+"";t(new dg(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new dg(s.statusText||`HTTP ${r} error`,r,i))}}else t(new MG(Sk(e),e))},$G=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(DG(r)?(s.headers=ye({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,ye(ye({},s),n)):s};async function FG(e,t,n,r,s,i){return new Promise((o,l)=>{e(n,$G(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>LG(c,l,r))})}async function Dn(e,t,n,r,s){return FG(e,"POST",t,r,s,n)}var UG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ye(ye({},C0),t),this.fetch=T0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Dn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Dn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}},VG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ye(ye({},C0),t),this.fetch=T0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Dn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}},BG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ye(ye({},C0),t),this.fetch=T0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mn(n))return{data:null,error:n};throw n}}},zG=class extends BG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new qG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},qG=class extends UG{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new WG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},WG=class extends VG{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ye(ye({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},HG=class extends OG{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new RG(this.url,this.headers,e,this.fetch)}get vectors(){return new zG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IG(this.url+"/iceberg",this.headers,this.fetch)}};const jI="2.90.1",ha=30*1e3,qy=3,hg=qy*ha,GG="http://localhost:9999",KG="supabase.auth.token",JG={"X-Client-Info":`gotrue-js/${jI}`},Wy="X-Supabase-Api-Version",kI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QG=10*60*1e3;class xu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XG extends xu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ZG(e){return de(e)&&e.name==="AuthApiError"}class oo extends xu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Us extends xu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Pn extends Us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function e7(e){return de(e)&&e.name==="AuthSessionMissingError"}class na extends Us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Md extends Us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dd extends Us{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function t7(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class jk extends Us{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class n7 extends Us{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Hy extends Us{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fg(e){return de(e)&&e.name==="AuthRetryableFetchError"}class kk extends Us{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Gy extends Us{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ek=` 	
\r=`.split(""),r7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ek.length;t+=1)e[Ek[t].charCodeAt(0)]=-2;for(let t=0;t<xf.length;t+=1)e[xf[t].charCodeAt(0)]=t;return e})();function Ck(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xf[r]),t.queuedBits-=6}}function EI(e,t,n){const r=r7[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Tk(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{o7(o,r,n)};for(let o=0;o<e.length;o+=1)EI(e.charCodeAt(o),s,i);return t.join("")}function s7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function i7(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}s7(r,t)}}function o7(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)EI(e.charCodeAt(s),n,r);return new Uint8Array(t)}function a7(e){const t=[];return i7(e,n=>t.push(n)),new Uint8Array(t)}function po(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ck(s,n,r)),Ck(null,n,r),t.join("")}function l7(e){return Math.round(Date.now()/1e3)+e}function c7(){return Symbol("auth-callback")}const Vt=()=>typeof window<"u"&&typeof document<"u",Zi={tested:!1,writable:!1},CI=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zi.tested)return Zi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zi.tested=!0,Zi.writable=!0}catch{Zi.tested=!0,Zi.writable=!1}return Zi.writable};function u7(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const TI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),d7=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},eo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ut=async(e,t)=>{await e.removeItem(t)};class kp{constructor(){this.promise=new kp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kp.promiseConstructor=Promise;function pg(e){const t=e.split(".");if(t.length!==3)throw new Gy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!YG.test(t[r]))throw new Gy("JWT not in base64url format");return{header:JSON.parse(Tk(t[0])),payload:JSON.parse(Tk(t[1])),signature:qa(t[2]),raw:{header:t[0],payload:t[1]}}}async function h7(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function f7(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function p7(e){return("0"+e.toString(16)).substr(-2)}function m7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,p7).join("")}async function g7(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function v7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await g7(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t,n=!1){const r=m7();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await fa(e,`${t}-code-verifier`,s);const i=await v7(r);return[i,r===i?"plain":"s256"]}const y7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x7(e){const t=e.headers.get(Wy);if(!t||!t.match(y7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function w7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function b7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sa(e){if(!_7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function S7(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Nk(e){return JSON.parse(JSON.stringify(e))}const so=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),j7=[502,503,504];async function Ak(e){var t;if(!d7(e))throw new Hy(so(e),0);if(j7.includes(e.status))throw new Hy(so(e),e.status);let n;try{n=await e.json()}catch(i){throw new oo(so(i),i)}let r;const s=x7(e);if(s&&s.getTime()>=kI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new kk(so(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new kk(so(n),e.status,n.weak_password.reasons);throw new XG(so(n),e.status||500,r)}const k7=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ve(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Wy]||(i[Wy]=kI["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await E7(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function E7(e,t,n,r,s,i){const o=k7(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Hy(so(c),0)}if(l.ok||await Ak(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Ak(c)}}function xr(e){var t;let n=null;N7(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=l7(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Pk(e){const t=xr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ci(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function C7(e){return{data:e,error:null}}function T7(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Bl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Rk(e){return e}function N7(e){return e.access_token&&e.refresh_token&&e.expires_in}const gg=["global","local","others"];class A7{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=TI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=gg[0]){if(gg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gg.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ci})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Bl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:T7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ci})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){sa(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ci})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){sa(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ci})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){sa(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ci})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){sa(t.userId);try{const{data:n,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(t){sa(t.userId),sa(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);u[`${_}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(de(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function Ok(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ia={debug:!!(globalThis&&CI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class P7 extends NI{}async function R7(e,t,n){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new P7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ia.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function O7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function AI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function I7(e){return parseInt(e,16)}function M7(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function D7(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=AI(e.address),w=d?`${d}://${r}`:r,m=e.statement?`${e.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}y+=x}return`${_}
${y}`}class jt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class wf extends jt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function L7({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(PI(o)){if(i.rp.id!==o)return new jt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $7({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(PI(r)){if(n.rpId!==r)return new jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class F7{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const U7=new F7;function V7(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Bl(e,["challenge","user","excludeCredentials"]),i=qa(t).buffer,o=Object.assign(Object.assign({},n),{id:qa(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:qa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function B7(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Bl(e,["challenge","allowCredentials"]),s=qa(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:qa(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function z7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:po(new Uint8Array(e.response.attestationObject)),clientDataJSON:po(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function q7(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:po(new Uint8Array(s.authenticatorData)),clientDataJSON:po(new Uint8Array(s.clientDataJSON)),signature:po(new Uint8Array(s.signature)),userHandle:s.userHandle?po(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function PI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ik(){var e,t;return!!(Vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function W7(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wf("Browser returned unexpected credential type",t)}:{data:null,error:new wf("Empty credential response",t)}}catch(t){return{data:null,error:L7({error:t,options:e})}}}async function H7(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wf("Browser returned unexpected credential type",t)}:{data:null,error:new wf("Empty credential response",t)}}catch(t){return{data:null,error:$7({error:t,options:e})}}}const G7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},K7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const l=r[i];t(l)?r[i]=bf(l,o):r[i]=bf(o)}else r[i]=o}return r}function J7(e,t){return bf(G7,e,t||{})}function Y7(e,t){return bf(K7,e,t||{})}class Q7{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=s??U7.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=J7(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await W7({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Y7(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await H7(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new oo("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new xu("rpId is required for WebAuthn authentication")};try{if(!Ik())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new oo("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new xu("rpId is required for WebAuthn registration")};try{if(!Ik())return{data:null,error:new oo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new oo("Unexpected error in register",o)}}}}O7();const X7={url:GG,storageKey:KG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mk(e,t,n){return await n()}const oa={};class wu{get jwks(){var t,n;return(n=(t=oa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){oa[this.storageKey]=Object.assign(Object.assign({},oa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=oa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oa[this.storageKey]=Object.assign(Object.assign({},oa[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},X7),t);if(this.storageKey=i.storageKey,this.instanceID=(n=wu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,wu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Vt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new A7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=TI(i.fetch),this.lock=i.lock||Mk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=R7:this.lock=Mk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Q7(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:CI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ok(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ok(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Vt()&&(n=u7(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Vt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),t7(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?this._returnResult({error:n}):this._returnResult({error:new oo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xr}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await ra(this.storage,this.storageKey)),i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:xr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xr})}else throw new Md("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pk})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pk})}else throw new Md("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new na;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,l,c,u,d,h,f;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:m,wallet:_,statement:y,options:x}=t;let b;if(Vt())if(typeof _=="object")b=_;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")b=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=_}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),E=await b.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=AI(E[0]);let T=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const O=await b.request({method:"eth_chainId"});T=I7(O)}const R={domain:S.host,address:C,statement:y,uri:S.href,version:"1",chainId:T,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=D7(R),w=await b.request({method:"personal_sign",params:[M7(p),C]})}try{const{data:m,error:_}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:xr});if(_)throw _;if(!m||!m.session||!m.user){const y=new na;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:_})}catch(m){if(de(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,h,f,p;let w,m;if("message"in t)w=t.message,m=t.signature;else{const{chain:_,wallet:y,statement:x,options:b}=t;let S;if(Vt())if(typeof y=="object")S=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const E=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let T;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")T=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)T=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)w=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:_,error:y}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:po(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:xr});if(y)throw y;if(!_||!_.session||!_.user){const x=new na;return this._returnResult({data:{user:null,session:null},error:x})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(de(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await eo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new n7;const{data:i,error:o}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xr});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new na;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new na;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ra(this.storage,this.storageKey));const{error:h}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Md("You must provide either an email or phone number.")}catch(l){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ra(this.storage,this.storageKey));const u=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:C7});return!((i=u.data)===null||i===void 0)&&i.url&&Vt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),de(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Pn;const{error:s}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Md("You must provide either an email or phone number and a type")}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await eo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<hg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await eo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=mg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=S7(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ci}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ci})})}catch(n){if(de(n))return e7(n)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ra(this.storage,this.storageKey));const{data:u,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ci});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),de(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=pg(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Pn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Vt())throw new Dd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jk("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Dd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=ha&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:m,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await eo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ZG(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=c7(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ra(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),de(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Vt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(de(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xr}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new na}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Ut(this.storage,`${this.storageKey}-code-verifier`),de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await f7(async s=>(s>0&&await h7(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&fg(i)&&Date.now()+o-r<ha})}catch(r){if(this._debug(n,"error",r),de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Vt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await eo(this.storage,this.storageKey);if(s&&this.userStorage){let o=await eo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await fa(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:mg()}else if(s&&!s.user&&!s.user){const o=await eo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ut(this.storage,this.storageKey+"-user"),await fa(this.storage,this.storageKey,s)):s.user=mg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hg;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${hg}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),fg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kp;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Pn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),de(i)){const o={data:null,error:i};return fg(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ut(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fa(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Nk(s);await fa(this.storage,this.storageKey,i)}else{const s=Nk(n);await fa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ha);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ha);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ha}ms, refresh threshold is ${qy} ticks`),s<=qy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof NI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ra(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?z7(t.webauthn.credential_response):q7(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:V7(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:B7(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=pg(r.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pn})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pn});const o=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pn});const o=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Vt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pn})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pn})})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+QG>s)return r;const{data:i,error:o}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=pg(r);n!=null&&n.allowExpired||w7(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=b7(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,a7(`${l}.${c}`)))throw new Gy("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}}wu.nextInstanceID={};const Z7=wu,eK="2.90.1";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const tK={"X-Client-Info":`supabase-js-${mc}/${eK}`},nK={headers:tK},rK={schema:"public"},sK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iK={};function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function oK(e,t){if(bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e){var t=oK(e,"string");return bu(t)=="symbol"?t:t+""}function lK(e,t,n){return(t=aK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(n),!0).forEach(function(r){lK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const cK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uK=()=>Headers,dK=(e,t,n)=>{const r=cK(n),s=uK();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,yt(yt({},o),{},{headers:u}))}};function hK(e){return e.endsWith("/")?e:e+"/"}function fK(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:yt(yt({},c),s),auth:yt(yt({},u),i),realtime:yt(yt({},d),o),storage:{},global:yt(yt(yt({},h),l),{},{headers:yt(yt({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function pK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mK=class extends Z7{constructor(e){super(e)}},gK=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=pK(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:rK,realtime:iK,auth:yt(yt({},sK),{},{storageKey:o}),global:nK},c=fK(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=dK(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new JH(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new HG(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new qH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mK({url:this.authUrl.href,headers:yt(yt({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new hG(this.realtimeUrl.href,yt(yt({},e),{},{params:yt(yt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vK=(e,t,n)=>new gK(e,t,n);function yK(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}yK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xK="https://gsucaxeqzluzbmvonsmj.supabase.co",wK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",Be=vK(xK,wK),_f={generic_discovery:{name:"Generic Discovery",description:"Standard discovery interview to understand workflows and identify automation opportunities."},technical_deep_dive:{name:"Technical Deep-Dive",description:"Focus on tech stack, APIs, data flows, integrations, and system architecture."},process_efficiency:{name:"Process Efficiency",description:"Focus on pain points, bottlenecks, time spent, and improvement opportunities."},compliance_risk:{name:"Compliance & Risk",description:"Focus on controls, approvals, audit trails, regulatory requirements, and risk mitigation."}};function bK(e={}){const[t,n]=g.useState(!1),[r,s]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(e.accessToken||null);g.useEffect(()=>{f.current=e.accessToken||null},[e.accessToken]);const p=async()=>{if(!f.current)throw new Error("No access token - session not started");const{data:x,error:b}=await Be.functions.invoke("deepgram-token",{body:{accessToken:f.current}});if(b){if(console.error("[Deepgram] Function error:",b),x!=null&&x.error)throw new Error(x.error);const S=b==null?void 0:b.context;throw S!=null&&S.error?new Error(S.error):new Error(`Failed to get Deepgram token: ${b.message}`)}if((x==null?void 0:x.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(x!=null&&x.key))throw new Error((x==null?void 0:x.error)||"No token returned from Deepgram");return x.key},w=g.useCallback(async()=>{var x;if(!t){c(null),s(""),o("");try{const b=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=b;const S=await p(),E=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true&mip_opt_out=true",["token",S]);u.current=E,E.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const C=new MediaRecorder(b,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});d.current=C,C.ondataavailable=T=>{T.data.size>0&&E.readyState===WebSocket.OPEN&&E.send(T.data)},C.start(250)},E.onmessage=C=>{var T,R,O,D;try{const A=JSON.parse(C.data);if((O=(R=(T=A.channel)==null?void 0:T.alternatives)==null?void 0:R[0])!=null&&O.transcript){const M=A.channel.alternatives[0].transcript;A.is_final?(s(q=>{var Z;const F=q?`${q} ${M}`:M;return(Z=e.onTranscript)==null||Z.call(e,F),F}),o("")):(o(M),(D=e.onInterimTranscript)==null||D.call(e,M))}}catch(A){console.error("Error parsing Deepgram message:",A)}},E.onerror=C=>{var R;console.error("Deepgram WebSocket error:",C);const T=new Error("WebSocket connection error");c(T),(R=e.onError)==null||R.call(e,T)},E.onclose=C=>{console.log("Deepgram WebSocket closed:",C.code,C.reason),n(!1)}}catch(b){console.error("Failed to start listening:",b);const S=b instanceof Error?b:new Error("Failed to start listening");c(S),(x=e.onError)==null||x.call(e,S),n(!1)}}},[t,e]),m=g.useCallback(()=>{d.current&&d.current.state!=="inactive"&&d.current.stop(),d.current=null,u.current&&u.current.close(),u.current=null,h.current&&h.current.getTracks().forEach(x=>x.stop()),h.current=null,n(!1),o("")},[]),_=g.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=g.useCallback(()=>{s(""),o("")},[]);return g.useEffect(()=>()=>{m()},[m]),{isListening:t,transcript:r,interimTranscript:i,error:l,startListening:w,stopListening:m,getFullTranscript:_,clearTranscript:y}}function _K(e={}){const[t,n]=g.useState([]),[r,s]=g.useState(!1),[i,o]=g.useState(null),[l,c]=g.useState(!1),u=g.useRef(null),d=g.useRef(e);d.current=e;const h=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=g.useCallback(x=>{u.current=x},[]),p=g.useCallback(x=>{const b=x.map(S=>({role:S.role,content:S.content,timestamp:S.timestamp?new Date(S.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):h()}));n(b),c(!0)},[]),w=g.useCallback(async(x,b,S)=>{var E,C,T,R;o(null),s(!0);try{const{data:O,error:D}=await Be.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:x,interviewType:b,workflowFocus:S}});if(D)throw new Error(`Failed to start conversation: ${D.message}`);if(!(O!=null&&O.response))throw new Error("No response from chat service");const A={role:"assistant",content:O.response,timestamp:h()};n([A]),(C=(E=d.current).onMessageReceived)==null||C.call(E,A)}catch(O){console.error("Error starting conversation:",O);const D=O instanceof Error?O:new Error("Failed to start conversation");o(D),(R=(T=d.current).onError)==null||R.call(T,D)}finally{s(!1)}},[]),m=g.useCallback(async x=>{var S,E,C,T,R,O,D,A;if(!x.trim())return;if(!u.current){const M=new Error("No access token - session not started");o(M),(E=(S=d.current).onError)==null||E.call(S,M);return}o(null);const b={role:"user",content:x.trim(),timestamp:h()};n(M=>[...M,b]),s(!0);try{const{data:M,error:q}=await Be.functions.invoke("chat-interview",{body:{accessToken:u.current,message:x.trim()}});if(q)throw new Error(`Failed to send message: ${q.message}`);if((M==null?void 0:M.error)==="Invalid or expired session")throw(T=(C=d.current).onSessionExpired)==null||T.call(C),new Error("Session expired. Please refresh the page to restart.");if(!(M!=null&&M.response))throw new Error("No response from chat service");const F={role:"assistant",content:M.response,timestamp:h()};n(Z=>[...Z,F]),(O=(R=d.current).onMessageReceived)==null||O.call(R,F)}catch(M){console.error("Error sending message:",M);const q=M instanceof Error?M:new Error("Failed to send message");o(q),(A=(D=d.current).onError)==null||A.call(D,q)}finally{s(!1)}},[]),_=g.useCallback(()=>t,[t]),y=g.useCallback(()=>{n([]),u.current=null,o(null),s(!1),c(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:l,startConversation:w,sendMessage:m,getTranscript:_,resetConversation:y,setAccessToken:f,initializeMessages:p}}function RI({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s,interviewType:i,workflowFocus:o}){const[l,c]=g.useState(""),[u,d]=g.useState(!1),[h,f]=g.useState(!0),p=g.useRef(null),w=g.useRef(null),m=g.useRef(null),_=g.useCallback(()=>{setTimeout(()=>{var Y;(Y=w.current)==null||Y.scrollIntoView({behavior:"smooth"})},100)},[]),y=g.useCallback(()=>{_()},[_]),x=g.useCallback(()=>{d(!0)},[]),{messages:b,isThinking:S,error:E,isResumed:C,startConversation:T,sendMessage:R,setAccessToken:O,initializeMessages:D}=_K({onMessageReceived:y,onSessionExpired:x});g.useEffect(()=>{t&&O(t)},[t,O]);const{isListening:A,transcript:M,interimTranscript:q,error:F,startListening:Z,stopListening:U,clearTranscript:B}=bK({accessToken:t,onTranscript:Y=>{c(v=>v?`${v} ${Y}`:Y)}});g.useEffect(()=>{n&&n.length>0?D(n):T(e,i,o)},[e,i,o,n,D,T]),g.useEffect(()=>{r==null||r(b)},[b,r]),g.useEffect(()=>{_()},[b,S,_]),g.useEffect(()=>{b.some(v=>v.role==="user")&&h&&f(!1)},[b,h]);const I=()=>{var v;const Y=l.trim();!Y||S||(R(Y),c(""),B(),(v=m.current)==null||v.focus())},$=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),I())},K=async()=>{A?U():await Z()},ie=l+(A&&q?` ${q}`:"");return a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsx(i0,{className:"flex-1 p-4",ref:p,children:a.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[C&&b.length>0&&a.jsx(se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),a.jsx(Fr,{initial:!1,children:b.map((Y,v)=>a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${Y.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Y.content}),a.jsx("p",{className:`text-xs mt-1 ${Y.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:Y.timestamp})]})},v))}),S&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:a.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),a.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),a.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})}),a.jsx("div",{ref:w})]})}),u&&a.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(E||F)&&!u&&a.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(E==null?void 0:E.message)||(F==null?void 0:F.message)}),A&&a.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[a.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((Y,v)=>a.jsx(se.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:v*.1},className:"w-1 bg-accent rounded-full"},v))}),a.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),q&&a.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:q})]})}),a.jsx("div",{className:"border-t bg-background p-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{type:"button",variant:"default",size:"default",onClick:K,disabled:u||!t,className:`shrink-0 gap-2 ${A?"bg-destructive hover:bg-destructive/90":"bg-accent hover:bg-accent/90"} ${h&&!A?"animate-pulse-subtle":""}`,title:u?"Session expired":t?A?"Stop listening":"Start voice input":"Session not ready",children:A?a.jsxs(a.Fragment,{children:[a.jsx(hF,{className:"h-4 w-4"}),"Stop"]}):a.jsxs(a.Fragment,{children:[a.jsx(Cc,{className:"h-4 w-4"}),"Speak"]})}),a.jsx(Je,{ref:m,value:ie,onChange:Y=>c(Y.target.value),onKeyDown:$,placeholder:u?"Session expired":A?"Speak now...":"Tap Speak to talk  or type here if you prefer",disabled:S||u,className:"flex-1"}),a.jsx(X,{type:"button",onClick:I,disabled:!l.trim()||S||u,size:"icon",className:"shrink-0",children:S?a.jsx(Ue,{className:"h-4 w-4 animate-spin"}):a.jsx(uF,{className:"h-4 w-4"})})]}),h&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:["Speaking is faster than typing  tap ",a.jsx("span",{className:"font-medium",children:"Speak"})," to talk, or type here if you prefer"]}),!h&&a.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Click Speak to talk, or type and press Enter"})]})})]})}function qu({className:e=""}){return a.jsx("footer",{className:`py-4 text-center text-sm text-muted-foreground ${e}`,children:a.jsxs("nav",{className:"flex items-center justify-center gap-4",children:[a.jsx(ke,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy"}),a.jsx("span",{className:"text-muted-foreground/50",children:"|"}),a.jsx(ke,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms"}),a.jsx("span",{className:"text-muted-foreground/50",children:"|"}),a.jsx(ke,{to:"/subprocessors",className:"hover:text-foreground transition-colors",children:"Sub-processors"})]})})}var vg="focusScope.autoFocusOnMount",yg="focusScope.autoFocusOnUnmount",Lk={bubbles:!1,cancelable:!0},SK="FocusScope",N0=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=Pt(s),d=Pt(i),h=g.useRef(null),f=Ce(t,m=>c(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let m=function(b){if(p.paused||!l)return;const S=b.target;l.contains(S)?h.current=S:ti(h.current,{select:!0})},_=function(b){if(p.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||ti(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&ti(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",_);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",_),x.disconnect()}}},[r,l,p.paused]),g.useEffect(()=>{if(l){Fk.add(p);const m=document.activeElement;if(!l.contains(m)){const y=new CustomEvent(vg,Lk);l.addEventListener(vg,u),l.dispatchEvent(y),y.defaultPrevented||(jK(NK(OI(l)),{select:!0}),document.activeElement===m&&ti(l))}return()=>{l.removeEventListener(vg,u),setTimeout(()=>{const y=new CustomEvent(yg,Lk);l.addEventListener(yg,d),l.dispatchEvent(y),y.defaultPrevented||ti(m??document.body,{select:!0}),l.removeEventListener(yg,d),Fk.remove(p)},0)}}},[l,u,d,p]);const w=g.useCallback(m=>{if(!n&&!r||p.paused)return;const _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(_&&y){const x=m.currentTarget,[b,S]=kK(x);b&&S?!m.shiftKey&&y===S?(m.preventDefault(),n&&ti(b,{select:!0})):m.shiftKey&&y===b&&(m.preventDefault(),n&&ti(S,{select:!0})):y===x&&m.preventDefault()}},[n,r,p.paused]);return a.jsx(pe.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});N0.displayName=SK;function jK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ti(r,{select:t}),document.activeElement!==n)return}function kK(e){const t=OI(e),n=$k(t,e),r=$k(t.reverse(),e);return[n,r]}function OI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $k(e,t){for(const n of e)if(!EK(n,{upTo:t}))return n}function EK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CK(e){return e instanceof HTMLInputElement&&"select"in e}function ti(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&CK(e)&&t&&e.select()}}var Fk=TK();function TK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Uk(e,t),e.unshift(t)},remove(t){var n;e=Uk(e,t),(n=e[0])==null||n.resume()}}}function Uk(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function NK(e){return e.filter(t=>t.tagName!=="A")}var xg=0;function II(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vk()),document.body.insertAdjacentElement("beforeend",e[1]??Vk()),xg++,()=>{xg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xg--}},[])}function Vk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mh="right-scroll-bar-position",gh="width-before-scroll-bar",AK="with-scroll-bars-hidden",PK="--removed-body-scroll-bar-size";function wg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RK(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var OK=typeof window<"u"?g.useLayoutEffect:g.useEffect,Bk=new WeakMap;function IK(e,t){var n=RK(null,function(r){return e.forEach(function(s){return wg(s,r)})});return OK(function(){var r=Bk.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||wg(l,null)}),i.forEach(function(l){s.has(l)||wg(l,o)})}Bk.set(n,e)},[e]),n}function MK(e){return e}function DK(e,t){t===void 0&&(t=MK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function LK(e){e===void 0&&(e={});var t=DK(null);return t.options=ns({async:!0,ssr:!1},e),t}var MI=function(e){var t=e.sideCar,n=Bl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,ns({},n))};MI.isSideCarExport=!0;function $K(e,t){return e.useMedium(t),MI}var DI=LK(),bg=function(){},Ep=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:bg,onWheelCapture:bg,onTouchMoveCapture:bg}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,w=e.noIsolation,m=e.inert,_=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,b=e.gapMode,S=Bl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,C=IK([n,t]),T=ns(ns({},S),s);return g.createElement(g.Fragment,null,d&&g.createElement(E,{sideCar:DI,removeScrollBar:u,shards:h,noRelative:p,noIsolation:w,inert:m,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(l),ns(ns({},T),{ref:C})):g.createElement(x,ns({},T,{className:c,ref:C}),l))});Ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ep.classNames={fullWidth:gh,zeroRight:mh};var FK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FK();return t&&e.setAttribute("nonce",t),e}function VK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=UK())&&(VK(t,n),BK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qK=function(){var e=zK();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},LI=function(){var e=qK(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},WK={left:0,top:0,right:0,gap:0},_g=function(e){return parseInt(e||"",10)||0},HK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[_g(n),_g(r),_g(s)]},GK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WK;var t=HK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},KK=LI(),Wa="data-scroll-locked",JK=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(AK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Wa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mh," .").concat(mh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gh," .").concat(gh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wa,`] {
    `).concat(PK,": ").concat(l,`px;
  }
`)},zk=function(){var e=parseInt(document.body.getAttribute(Wa)||"0",10);return isFinite(e)?e:0},YK=function(){g.useEffect(function(){return document.body.setAttribute(Wa,(zk()+1).toString()),function(){var e=zk()-1;e<=0?document.body.removeAttribute(Wa):document.body.setAttribute(Wa,e.toString())}},[])},QK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;YK();var i=g.useMemo(function(){return GK(s)},[s]);return g.createElement(KK,{styles:JK(i,!t,s,n?"":"!important")})},Ky=!1;if(typeof window<"u")try{var Ld=Object.defineProperty({},"passive",{get:function(){return Ky=!0,!0}});window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{Ky=!1}var aa=Ky?{passive:!1}:!1,XK=function(e){return e.tagName==="TEXTAREA"},$I=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!XK(e)&&n[t]==="visible")},ZK=function(e){return $I(e,"overflowY")},eJ=function(e){return $I(e,"overflowX")},qk=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=FI(e,r);if(s){var i=UI(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tJ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},nJ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},FI=function(e,t){return e==="v"?ZK(t):eJ(t)},UI=function(e,t){return e==="v"?tJ(t):nJ(t)},rJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},sJ=function(e,t,n,r,s){var i=rJ(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var p=UI(e,l),w=p[0],m=p[1],_=p[2],y=m-_-i*w;(w||y)&&FI(e,l)&&(h+=y,f+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},$d=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wk=function(e){return[e.deltaX,e.deltaY]},Hk=function(e){return e&&"current"in e?e.current:e},iJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aJ=0,la=[];function lJ(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(aJ++)[0],i=g.useState(LI)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=VH([e.lockRef.current],(e.shards||[]).map(Hk),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(m,_){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=$d(m),x=n.current,b="deltaX"in m?m.deltaX:x[0]-y[0],S="deltaY"in m?m.deltaY:x[1]-y[1],E,C=m.target,T=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&T==="h"&&C.type==="range")return!1;var R=qk(T,C);if(!R)return!0;if(R?E=T:(E=T==="v"?"h":"v",R=qk(T,C)),!R)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=E),!E)return!0;var O=r.current||E;return sJ(O,_,m,O==="h"?b:S,!0)},[]),c=g.useCallback(function(m){var _=m;if(!(!la.length||la[la.length-1]!==i)){var y="deltaY"in _?Wk(_):$d(_),x=t.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&iJ(E.delta,y)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(Hk).filter(Boolean).filter(function(E){return E.contains(_.target)}),S=b.length>0?l(_,b[0]):!o.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),u=g.useCallback(function(m,_,y,x){var b={name:m,delta:_,target:y,should:x,shadowParent:cJ(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=g.useCallback(function(m){n.current=$d(m),r.current=void 0},[]),h=g.useCallback(function(m){u(m.type,Wk(m),m.target,l(m,e.lockRef.current))},[]),f=g.useCallback(function(m){u(m.type,$d(m),m.target,l(m,e.lockRef.current))},[]);g.useEffect(function(){return la.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,aa),document.addEventListener("touchmove",c,aa),document.addEventListener("touchstart",d,aa),function(){la=la.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,aa),document.removeEventListener("touchmove",c,aa),document.removeEventListener("touchstart",d,aa)}},[]);var p=e.removeScrollBar,w=e.inert;return g.createElement(g.Fragment,null,w?g.createElement(i,{styles:oJ(s)}):null,p?g.createElement(QK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uJ=$K(DI,lJ);var A0=g.forwardRef(function(e,t){return g.createElement(Ep,ns({},e,{ref:t,sideCar:uJ}))});A0.classNames=Ep.classNames;var dJ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ca=new WeakMap,Fd=new WeakMap,Ud={},Sg=0,VI=function(e){return e&&(e.host||VI(e.parentNode))},hJ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=VI(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},fJ=function(e,t,n,r){var s=hJ(t,Array.isArray(e)?e:[e]);Ud[n]||(Ud[n]=new WeakMap);var i=Ud[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),w=p!==null&&p!=="false",m=(ca.get(f)||0)+1,_=(i.get(f)||0)+1;ca.set(f,m),i.set(f,_),o.push(f),m===1&&w&&Fd.set(f,!0),_===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),Sg++,function(){o.forEach(function(h){var f=ca.get(h)-1,p=i.get(h)-1;ca.set(h,f),i.set(h,p),f||(Fd.has(h)||h.removeAttribute(r),Fd.delete(h)),p||h.removeAttribute(n)}),Sg--,Sg||(ca=new WeakMap,ca=new WeakMap,Fd=new WeakMap,Ud={})}},BI=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=dJ(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),fJ(r,s,n,"aria-hidden")):function(){return null}},Cp="Dialog",[zI,qI]=wn(Cp),[pJ,qr]=zI(Cp),WI=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=lr({prop:r,defaultProp:s??!1,onChange:i,caller:Cp});return a.jsx(pJ,{scope:t,triggerRef:l,contentRef:c,contentId:Or(),titleId:Or(),descriptionId:Or(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};WI.displayName=Cp;var HI="DialogTrigger",GI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qr(HI,n),i=Ce(t,s.triggerRef);return a.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":O0(s.open),...r,ref:i,onClick:le(e.onClick,s.onOpenToggle)})});GI.displayName=HI;var P0="DialogPortal",[mJ,KI]=zI(P0,{forceMount:void 0}),JI=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=qr(P0,t);return a.jsx(mJ,{scope:t,forceMount:n,children:g.Children.map(r,o=>a.jsx(Cn,{present:n||i.open,children:a.jsx(qf,{asChild:!0,container:s,children:o})}))})};JI.displayName=P0;var Sf="DialogOverlay",YI=g.forwardRef((e,t)=>{const n=KI(Sf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=qr(Sf,e.__scopeDialog);return i.modal?a.jsx(Cn,{present:r||i.open,children:a.jsx(vJ,{...s,ref:t})}):null});YI.displayName=Sf;var gJ=ll("DialogOverlay.RemoveScroll"),vJ=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qr(Sf,n);return a.jsx(A0,{as:gJ,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(pe.div,{"data-state":O0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Fo="DialogContent",QI=g.forwardRef((e,t)=>{const n=KI(Fo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=qr(Fo,e.__scopeDialog);return a.jsx(Cn,{present:r||i.open,children:i.modal?a.jsx(yJ,{...s,ref:t}):a.jsx(xJ,{...s,ref:t})})});QI.displayName=Fo;var yJ=g.forwardRef((e,t)=>{const n=qr(Fo,e.__scopeDialog),r=g.useRef(null),s=Ce(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return BI(i)},[]),a.jsx(XI,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault())})}),xJ=g.forwardRef((e,t)=>{const n=qr(Fo,e.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return a.jsx(XI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XI=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=qr(Fo,n),c=g.useRef(null),u=Ce(t,c);return II(),a.jsxs(a.Fragment,{children:[a.jsx(N0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Nu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":O0(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(bJ,{titleId:l.titleId}),a.jsx(SJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),R0="DialogTitle",ZI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qr(R0,n);return a.jsx(pe.h2,{id:s.titleId,...r,ref:t})});ZI.displayName=R0;var e2="DialogDescription",t2=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qr(e2,n);return a.jsx(pe.p,{id:s.descriptionId,...r,ref:t})});t2.displayName=e2;var n2="DialogClose",r2=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=qr(n2,n);return a.jsx(pe.button,{type:"button",...r,ref:t,onClick:le(e.onClick,()=>s.onOpenChange(!1))})});r2.displayName=n2;function O0(e){return e?"open":"closed"}var s2="DialogTitleWarning",[wJ,i2]=o4(s2,{contentName:Fo,titleName:R0,docsSlug:"dialog"}),bJ=({titleId:e})=>{const t=i2(s2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},_J="DialogDescriptionWarning",SJ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i2(_J).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},o2=WI,jJ=GI,a2=JI,I0=YI,M0=QI,D0=ZI,L0=t2,$0=r2,l2="AlertDialog",[kJ,VX]=wn(l2,[qI]),Vs=qI(),c2=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vs(t);return a.jsx(o2,{...r,...n,modal:!0})};c2.displayName=l2;var EJ="AlertDialogTrigger",CJ=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vs(n);return a.jsx(jJ,{...s,...r,ref:t})});CJ.displayName=EJ;var TJ="AlertDialogPortal",u2=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vs(t);return a.jsx(a2,{...r,...n})};u2.displayName=TJ;var NJ="AlertDialogOverlay",d2=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vs(n);return a.jsx(I0,{...s,...r,ref:t})});d2.displayName=NJ;var Ha="AlertDialogContent",[AJ,PJ]=kJ(Ha),RJ=_T("AlertDialogContent"),h2=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Vs(n),o=g.useRef(null),l=Ce(t,o),c=g.useRef(null);return a.jsx(wJ,{contentName:Ha,titleName:f2,docsSlug:"alert-dialog",children:a.jsx(AJ,{scope:n,cancelRef:c,children:a.jsxs(M0,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:le(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(RJ,{children:r}),a.jsx(IJ,{contentRef:o})]})})})});h2.displayName=Ha;var f2="AlertDialogTitle",p2=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vs(n);return a.jsx(D0,{...s,...r,ref:t})});p2.displayName=f2;var m2="AlertDialogDescription",g2=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vs(n);return a.jsx(L0,{...s,...r,ref:t})});g2.displayName=m2;var OJ="AlertDialogAction",v2=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Vs(n);return a.jsx($0,{...s,...r,ref:t})});v2.displayName=OJ;var y2="AlertDialogCancel",x2=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=PJ(y2,n),i=Vs(n),o=Ce(t,s);return a.jsx($0,{...i,...r,ref:o})});x2.displayName=y2;var IJ=({contentRef:e})=>{const t=`\`${Ha}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ha}\` by passing a \`${m2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ha}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},MJ=c2,DJ=u2,w2=d2,b2=h2,_2=v2,S2=x2,j2=p2,k2=g2;const LJ=MJ,$J=DJ,E2=g.forwardRef(({className:e,...t},n)=>a.jsx(w2,{className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));E2.displayName=w2.displayName;const C2=g.forwardRef(({className:e,...t},n)=>a.jsxs($J,{children:[a.jsx(E2,{}),a.jsx(b2,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));C2.displayName=b2.displayName;const T2=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});T2.displayName="AlertDialogHeader";const N2=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});N2.displayName="AlertDialogFooter";const A2=g.forwardRef(({className:e,...t},n)=>a.jsx(j2,{ref:n,className:re("text-lg font-semibold",e),...t}));A2.displayName=j2.displayName;const P2=g.forwardRef(({className:e,...t},n)=>a.jsx(k2,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));P2.displayName=k2.displayName;const R2=g.forwardRef(({className:e,...t},n)=>a.jsx(_2,{ref:n,className:re(_w(),e),...t}));R2.displayName=_2.displayName;const O2=g.forwardRef(({className:e,...t},n)=>a.jsx(S2,{ref:n,className:re(_w({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));O2.displayName=S2.displayName;const ua=!1,FJ="2026-01-22";function UJ(){const{token:e}=Ml(),[t]=G5(),[n,r]=g.useState("loading"),[s,i]=g.useState(null),[o,l]=g.useState(""),[c,u]=g.useState(null),[d,h]=g.useState(null),[f,p]=g.useState(null),[w,m]=g.useState(null),[_,y]=g.useState(null),[x,b]=g.useState(!1),[S,E]=g.useState(0),[C,T]=g.useState(0),[R,O]=g.useState(0),[D,A]=g.useState(!1),[M,q]=g.useState(!1),[F,Z]=g.useState(!1),[U,B]=g.useState(null),[I,$]=g.useState(!1),[K,ie]=g.useState(!1),[Y,v]=g.useState(!1),{toast:k}=Bi(),j=g.useRef([]),P=g.useRef(null);g.useEffect(()=>{const ce=t.get("mode");ce==="voice"&&!ua?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(ce==="chat"||ce==="voice"&&ua)&&i(ce)},[t]);const[N,L]=g.useState(!1);g.useEffect(()=>{async function ce(){if(!e){r("invalid"),l("No interview token provided");return}try{const{data:ue,error:te}=await Be.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(te){console.error("Failed to validate token:",te),r("invalid"),l("Unable to validate interview link. Please try again.");return}if(ue!=null&&ue.error){r("invalid"),l(ue.error);return}if(!(ue!=null&&ue.interviewee)){r("invalid"),l("Interview not found");return}u(ue.interviewee),h(ue.org||null),ue.hasExistingSession&&L(!0),r("before")}catch(ue){console.error("Error loading interview:",ue),r("invalid"),l("An unexpected error occurred. Please try again.")}}ce()},[e]),g.useEffect(()=>{N&&c&&n==="before"&&(console.log("[INFO] Auto-starting interview for returning user"),L(!1),Tn("chat"))},[N,c,n]);const{status:z,transcript:V,isMuted:G,volumeLevel:ee,startCall:he,endCall:Ve,toggleMute:St,isConnected:gt,isSpeaking:Le,isListening:st}=FH({onStatusChange:ce=>{console.log("Vapi status:",ce),ce==="connected"||ce==="speaking"||ce==="listening"?r("during"):ce==="ended"?Xo():ce==="error"&&r("error")},onError:ce=>{console.error("Vapi error:",ce),k({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:ce=>{j.current=ce}});g.useEffect(()=>{let ce;return n==="during"&&gt&&(ce=setInterval(()=>{E(ue=>ue+1)},1e3)),()=>clearInterval(ce)},[n,gt]);const Ct=ce=>{const ue=Math.floor(ce/60).toString().padStart(2,"0"),te=(ce%60).toString().padStart(2,"0");return`${ue}:${te}`},Tn=async ce=>{if(!(!c||!e)){r("loading"),B(ce);try{const{data:ue,error:te}=await Be.functions.invoke("start-interview",{body:{interviewToken:e}});if(te||!(ue!=null&&ue.accessToken))throw new Error((ue==null?void 0:ue.error)||(te==null?void 0:te.message)||"Failed to start interview");ue.consentAlreadyGiven&&ue.resumed?(p(ue.interviewId),m(ue.accessToken),ue.transcript&&ue.transcript.length>0&&(y(ue.transcript),b(!0),console.log("[INFO] Resuming interview with",ue.transcript.length,"messages")),k({title:"Welcome back",description:"Continuing where you left off. Your previous consent is still valid."}),i(ce),r("during"),P.current=Date.now()):(p(ue.interviewId),m(ue.accessToken),ue.transcript&&ue.transcript.length>0&&(y(ue.transcript),b(!0)),r("consent"))}catch(ue){console.error("Failed to check interview status:",ue),k({title:"Error",description:ue instanceof Error?ue.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),B(null)}}},rn=async()=>{if(!(!U||!c||!e||!w)){if(!I||!K){k({title:"Consent required",description:"Please acknowledge both checkboxes to continue.",variant:"destructive"});return}if(U==="voice"&&!Y){k({title:"Audio consent required",description:"Please consent to audio recording to use voice mode.",variant:"destructive"});return}r("loading");try{const{error:ce}=await Be.functions.invoke("start-interview",{body:{interviewToken:e,privacyAcknowledgedAt:new Date().toISOString(),privacyNoticeVersion:FJ,audioConsentGiven:U==="voice"?Y:!1}});ce&&console.warn("Failed to save consent, continuing anyway:",ce),i(U),r("during"),P.current=Date.now(),U==="voice"&&ua&&await he(c.name)}catch(ce){console.error("Failed to save consent:",ce),i(U),r("during"),P.current=Date.now()}}},Nn=()=>{r("before"),B(null),$(!1),ie(!1),v(!1)},$t=ce=>{j.current=ce},ps=()=>{Z(!0)},Bs=()=>{Z(!1),Xo()},It=()=>{Z(!1),Ve()},dr=()=>{k({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},Xo=async()=>{q(!0);const ce=P.current?Math.floor((Date.now()-P.current)/1e3):S;if(E(ce),w)try{const{data:ue,error:te}=await Be.functions.invoke("complete-interview",{body:{accessToken:w,durationSeconds:ce}});(te||ue!=null&&ue.error)&&(console.error("Failed to complete interview:",te||(ue==null?void 0:ue.error)),k({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(ue){console.error("Failed to complete interview:",ue),k({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}q(!1),r("after")},ql=async ce=>{if(T(ce),w)try{await Be.functions.invoke("complete-interview",{body:{accessToken:w,rating:ce}})}catch(ue){console.error("Failed to save rating:",ue)}},zs=()=>{window.close()},Hu=()=>{r("before"),E(0)};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Br,{}),!1]})]})}),a.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:a.jsxs(Fr,{mode:"wait",children:[n==="loading"&&a.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[a.jsx(Ue,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:a.jsx(ge,{className:"border-0 shadow-lg overflow-hidden",children:a.jsxs(we,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(Is,{className:"h-10 w-10 text-destructive"})}),a.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),a.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&c&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:a.jsx(ge,{className:"border-0 shadow-lg overflow-hidden",children:a.jsxs(we,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(Cc,{className:"h-10 w-10 text-white"})}),a.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),a.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4 border-l-4",style:{borderLeftColor:"#7952b3"},children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),a.jsx("p",{className:"font-semibold text-foreground",children:c.name}),c.role&&a.jsx("p",{className:"text-sm text-muted-foreground",children:c.role}),d&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.name})]}),a.jsxs("div",{className:"mb-4 rounded-lg bg-accent/10 p-4 text-left",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:"Quick tip:"})," Speaking is faster than typing, and people tend to share more when they talk naturally. Just tap the ",a.jsx("span",{className:"font-medium",children:"Speak"})," button when you're ready."]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Can't talk? No problem  typing works too."})]}),a.jsx("div",{className:"mb-6 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:" Tip: Think of a specific recent example of your work to walk through with Sophie."})}),a.jsxs("div",{className:"space-y-3",children:[ua,a.jsx(X,{size:"lg",variant:"default",onClick:()=>Tn("chat"),className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Let's Begin"})]}),a.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="consent"&&c&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:a.jsx(ge,{className:"border-0 shadow-lg overflow-hidden",children:a.jsxs(we,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Quick bit of housekeeping"}),a.jsx("p",{className:"mb-6 text-muted-foreground text-left",children:"Before we dive in, we need to tick a couple of boxes - and I mean that literally. Here's why:"}),a.jsxs("div",{className:"space-y-4 text-left mb-6",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(lh,{id:"privacy",checked:I,onCheckedChange:ce=>$(ce===!0)}),a.jsx("div",{className:"grid gap-1.5 leading-none",children:a.jsxs(Re,{htmlFor:"privacy",className:"font-normal cursor-pointer",children:["I've read the"," ",a.jsx(ke,{to:"/privacy",className:"text-accent underline hover:text-accent/80",children:"Privacy Notice"})," ","- this covers how we handle your data, who sees what, and confirms your responses are never used to train AI. The short version: everything stays confidential."]})})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(lh,{id:"recording",checked:K,onCheckedChange:ce=>ie(ce===!0)}),a.jsx("div",{className:"grid gap-1.5 leading-none",children:a.jsx(Re,{htmlFor:"recording",className:"font-normal cursor-pointer",children:"I understand this conversation will be recorded and analysed - this is how we turn a 20-minute chat into genuinely useful insights for your organisation."})})]}),U==="voice"&&ua&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(lh,{id:"audio",checked:Y,onCheckedChange:ce=>v(ce===!0)}),a.jsx("div",{className:"grid gap-1.5 leading-none",children:a.jsx(Re,{htmlFor:"audio",className:"font-normal cursor-pointer",children:"I consent to audio recording and transcription"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(X,{size:"lg",onClick:rn,disabled:!I||!K||U==="voice"&&!Y,className:"w-full gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:U==="voice"?a.jsxs(a.Fragment,{children:[a.jsx(Cc,{className:"h-5 w-5"}),"Continue with Voice"]}):a.jsxs(a.Fragment,{children:[a.jsx(ul,{className:"h-5 w-5"}),"Continue with Text"]})}),a.jsx(X,{variant:"ghost",size:"sm",onClick:Nn,className:"w-full",children:"Back"})]})]})})},"consent"),n==="during"&&s==="voice"&&a.jsx(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative mb-8 inline-block",children:[gt&&a.jsxs(a.Fragment,{children:[a.jsx(se.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),a.jsx(se.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),a.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${z==="connecting"?"bg-muted animate-pulse":Le?"bg-accent":st?"bg-primary":"bg-muted"}`,children:G?a.jsx(S_,{className:"h-12 w-12 text-white"}):a.jsx(Cc,{className:"h-12 w-12 text-white"})})]}),a.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:z==="connecting"?"Connecting...":Le?"AI Speaking...":st?"Listening...":"Connected"}),a.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:Ct(S)}),gt&&a.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((ce,ue)=>a.jsx(se.div,{className:`w-1 rounded-full ${ue<Math.floor(ee*10)?"bg-accent":"bg-muted"}`,animate:{height:st?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:ue*.05}},ue))}),a.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[a.jsxs(X,{variant:"outline",size:"lg",onClick:St,className:"gap-2",children:[G?a.jsx(S_,{className:"h-5 w-5"}):a.jsx(gF,{className:"h-5 w-5"}),G?"Unmute":"Mute"]}),a.jsxs(X,{variant:"outline",size:"lg",onClick:dr,className:"gap-2",children:[a.jsx(j_,{className:"h-5 w-5"}),"Pause & Save"]}),a.jsx(X,{variant:"outline",size:"lg",onClick:ps,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),a.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>A(!D),className:"mb-4",children:[D?"Hide":"Show"," Live Transcript"]}),a.jsx(Fr,{children:D&&V.length>0&&a.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:a.jsx(ge,{className:"mx-auto max-w-xl",children:a.jsx(i0,{className:"h-48 p-4",children:a.jsx("div",{className:"space-y-3",children:V.map((ce,ue)=>a.jsxs("div",{className:`text-sm ${ce.role==="assistant"?"text-accent":"text-foreground"}`,children:[a.jsx("span",{className:"font-medium",children:ce.role==="assistant"?"AI: ":"You: "}),ce.content]},ue))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&a.jsx(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:a.jsxs(ge,{className:"h-full border-0 shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ul,{className:"h-5 w-5 text-accent"}),a.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:dr,className:"gap-1",children:[a.jsx(j_,{className:"h-4 w-4"}),"Pause & Save"]}),a.jsx(X,{variant:"outline",size:"sm",onClick:ps,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),a.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:a.jsx(RI,{intervieweeName:c==null?void 0:c.name,accessToken:w,initialMessages:_||void 0,onTranscriptUpdate:$t,onEnd:Bs})})]})},"during-chat"),n==="after"&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:a.jsx(ge,{className:"border-0 shadow-lg overflow-hidden",children:a.jsx(we,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:M?a.jsxs(a.Fragment,{children:[a.jsx(Ue,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(Dr,{className:"h-12 w-12 text-white"})}),a.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),a.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),a.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",Ct(S)]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),a.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(ce=>a.jsx("button",{onClick:()=>ql(ce),onMouseEnter:()=>O(ce),onMouseLeave:()=>O(0),className:"transition-transform hover:scale-110",children:a.jsx(fF,{className:`h-8 w-8 transition-colors ${ce<=(R||C)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},ce))}),C>0&&a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),a.jsx(X,{size:"lg",onClick:zs,className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Close"})]})})})},"after"),n==="error"&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:a.jsx(ge,{className:"border-0 shadow-lg overflow-hidden",children:a.jsxs(we,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(Is,{className:"h-10 w-10 text-destructive"})}),a.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),a.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),a.jsx(X,{size:"lg",onClick:Hu,className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Try Again"})]})})},"error")]})}),a.jsx(LJ,{open:F,onOpenChange:Z,children:a.jsxs(C2,{children:[a.jsxs(T2,{children:[a.jsx(A2,{children:"Complete Interview?"}),a.jsxs(P2,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",a.jsx("br",{}),a.jsx("br",{}),"If you need to take a break, use ",a.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),a.jsxs(N2,{children:[a.jsx(O2,{children:"Cancel"}),a.jsx(R2,{onClick:s==="voice"?It:Bs,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})}),(n==="loading"||n==="invalid"||n==="before"||n==="consent"||n==="after"||n==="error")&&a.jsx(qu,{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur border-t"})]})}const VJ=Gf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:e,variant:t,...n}){return a.jsx("div",{className:re(VJ({variant:t}),e),...n})}var Tp="Collapsible",[BJ,I2]=wn(Tp),[zJ,F0]=BJ(Tp),M2=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=lr({prop:r,defaultProp:s??!1,onChange:o,caller:Tp});return a.jsx(zJ,{scope:n,disabled:i,contentId:Or(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:a.jsx(pe.div,{"data-state":z0(c),"data-disabled":i?"":void 0,...l,ref:t})})});M2.displayName=Tp;var D2="CollapsibleTrigger",U0=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=F0(D2,n);return a.jsx(pe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":z0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:le(e.onClick,s.onOpenToggle)})});U0.displayName=D2;var V0="CollapsibleContent",B0=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=F0(V0,e.__scopeCollapsible);return a.jsx(Cn,{present:n||s.open,children:({present:i})=>a.jsx(qJ,{...r,ref:t,present:i})})});B0.displayName=V0;var qJ=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=F0(V0,n),[l,c]=g.useState(r),u=g.useRef(null),d=Ce(t,u),h=g.useRef(0),f=h.current,p=g.useRef(0),w=p.current,m=o.open||l,_=g.useRef(m),y=g.useRef(void 0);return g.useEffect(()=>{const x=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(x)},[]),Ot(()=>{const x=u.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();h.current=b.height,p.current=b.width,_.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),c(r)}},[o.open,r]),a.jsx(pe.div,{"data-state":z0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:m&&s})});function z0(e){return e?"open":"closed"}var L2=M2,WJ=U0,HJ=B0,Wr="Accordion",GJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[q0,KJ,JJ]=zf(Wr),[Np,BX]=wn(Wr,[JJ,I2]),W0=I2(),$2=J.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return a.jsx(q0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(ZJ,{...i,ref:t}):a.jsx(XJ,{...s,ref:t})})});$2.displayName=Wr;var[F2,YJ]=Np(Wr),[U2,QJ]=Np(Wr,{collapsible:!1}),XJ=J.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=lr({prop:n,defaultProp:r??"",onChange:s,caller:Wr});return a.jsx(F2,{scope:e.__scopeAccordion,value:J.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:J.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(U2,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(V2,{...o,ref:t})})})}),ZJ=J.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,l]=lr({prop:n,defaultProp:r??[],onChange:s,caller:Wr}),c=J.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=J.useCallback(d=>l((h=[])=>h.filter(f=>f!==d)),[l]);return a.jsx(F2,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(U2,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(V2,{...i,ref:t})})})}),[eY,Ap]=Np(Wr),V2=J.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,l=J.useRef(null),c=Ce(l,t),u=KJ(n),h=Fl(s)==="ltr",f=le(e.onKeyDown,p=>{var R;if(!GJ.includes(p.key))return;const w=p.target,m=u().filter(O=>{var D;return!((D=O.ref.current)!=null&&D.disabled)}),_=m.findIndex(O=>O.ref.current===w),y=m.length;if(_===-1)return;p.preventDefault();let x=_;const b=0,S=y-1,E=()=>{x=_+1,x>S&&(x=b)},C=()=>{x=_-1,x<b&&(x=S)};switch(p.key){case"Home":x=b;break;case"End":x=S;break;case"ArrowRight":i==="horizontal"&&(h?E():C());break;case"ArrowDown":i==="vertical"&&E();break;case"ArrowLeft":i==="horizontal"&&(h?C():E());break;case"ArrowUp":i==="vertical"&&C();break}const T=x%y;(R=m[T].ref.current)==null||R.focus()});return a.jsx(eY,{scope:n,disabled:r,direction:s,orientation:i,children:a.jsx(q0.Slot,{scope:n,children:a.jsx(pe.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:f})})})}),jf="AccordionItem",[tY,H0]=Np(jf),B2=J.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Ap(jf,n),o=YJ(jf,n),l=W0(n),c=Or(),u=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return a.jsx(tY,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(L2,{"data-orientation":i.orientation,"data-state":K2(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});B2.displayName=jf;var z2="AccordionHeader",q2=J.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Ap(Wr,n),i=H0(z2,n);return a.jsx(pe.h3,{"data-orientation":s.orientation,"data-state":K2(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});q2.displayName=z2;var Jy="AccordionTrigger",W2=J.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Ap(Wr,n),i=H0(Jy,n),o=QJ(Jy,n),l=W0(n);return a.jsx(q0.ItemSlot,{scope:n,children:a.jsx(WJ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...r,ref:t})})});W2.displayName=Jy;var H2="AccordionContent",G2=J.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Ap(Wr,n),i=H0(H2,n),o=W0(n);return a.jsx(HJ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});G2.displayName=H2;function K2(e){return e?"open":"closed"}var nY=$2,rY=B2,sY=q2,J2=W2,Y2=G2;const G0=nY,Pp=g.forwardRef(({className:e,...t},n)=>a.jsx(rY,{ref:n,className:re("border-b",e),...t}));Pp.displayName="AccordionItem";const Rp=g.forwardRef(({className:e,children:t,...n},r)=>a.jsx(sY,{className:"flex",children:a.jsxs(J2,{ref:r,className:re("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(So,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Rp.displayName=J2.displayName;const Op=g.forwardRef(({className:e,children:t,...n},r)=>a.jsx(Y2,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:a.jsx("div",{className:re("pb-4 pt-0",e),children:t})}));Op.displayName=Y2.displayName;function K0(e){return!e||Array.isArray(e)?!1:typeof e=="object"&&("rule_based"in e||"judgment_required"in e||"unarticulated"in e)}function iY(e,t,n,r){var i,o;const s=[];s.push("# Workflow Implementation Specification"),s.push(""),s.push(`**Interviewee:** ${e}${t?` (${t})`:""}`),s.push(`**Organisation:** ${n}`),s.push(`**Generated:** ${r.generatedAt?new Date(r.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}):new Date().toLocaleDateString("en-GB")}`),s.push(""),r.executiveSummary&&(s.push("## Executive Summary"),s.push(""),s.push(r.executiveSummary),s.push("")),s.push("## Decision Articulation Summary"),s.push(""),s.push("| Workflow | Articulation | Rule-based | Judgment | Unarticulated |"),s.push("|----------|--------------|------------|----------|---------------|");for(const l of r.workflows){const c=oY((i=l.components)==null?void 0:i.decisions);s.push(`| ${l.name} | ${l.articulation_level||"N/A"} | ${c.rule} | ${c.judgment} | ${c.unarticulated} |`)}s.push(""),s.push("---"),s.push("");for(const l of r.workflows)s.push(...aY(l));if(((o=r.automationOpportunities)==null?void 0:o.length)>0){s.push("# Automation Opportunities"),s.push("");for(const l of r.automationOpportunities)s.push(...cY(l))}return s.push("---"),s.push(""),s.push("*Generated by AgentFlow Discovery*"),s.join(`
`)}function oY(e){var t,n,r;return e?K0(e)?{rule:((t=e.rule_based)==null?void 0:t.length)||0,judgment:((n=e.judgment_required)==null?void 0:n.length)||0,unarticulated:((r=e.unarticulated)==null?void 0:r.length)||0}:{rule:0,judgment:0,unarticulated:Array.isArray(e)?e.length:0}:{rule:0,judgment:0,unarticulated:0}}function aY(e){var n,r,s,i,o,l,c,u,d,h,f,p,w;const t=[];return t.push(`# Workflow: ${e.name}`),t.push(""),t.push(`**Owner:** ${e.owner||"Not specified"}`),t.push(`**Frequency:** ${e.frequency||"Not specified"}`),t.push(`**Articulation Level:** ${e.articulation_level||"Not assessed"}`),e.estimated_time&&t.push(`**Estimated Time:** ${e.estimated_time}`),t.push(""),e.description&&(t.push(e.description),t.push("")),t.push("## SIMPLE Breakdown"),t.push(""),(r=(n=e.components)==null?void 0:n.triggers)!=null&&r.length&&(t.push("### Signal (Triggers)"),e.components.triggers.forEach(m=>t.push(`- ${m}`)),t.push("")),(i=(s=e.components)==null?void 0:s.inputs)!=null&&i.length&&(t.push("### Inputs"),t.push("| Input | Source |"),t.push("|-------|--------|"),e.components.inputs.forEach(m=>t.push(`| ${m} | TBC |`)),t.push("")),(l=(o=e.components)==null?void 0:o.transformations)!=null&&l.length&&(t.push("### Make (Process)"),e.components.transformations.forEach((m,_)=>t.push(`${_+1}. ${m}`)),t.push("")),t.push("### Pick (Decisions)"),t.push(""),t.push(...lY((c=e.components)==null?void 0:c.decisions)),(d=(u=e.components)==null?void 0:u.outputs)!=null&&d.length&&(t.push("### Land (Outputs)"),e.components.outputs.forEach(m=>t.push(`- ${m}`)),t.push("")),(f=(h=e.components)==null?void 0:h.checks)!=null&&f.length&&(t.push("### Examine (Checks)"),e.components.checks.forEach(m=>t.push(`- ${m}`)),t.push("")),(p=e.systems_used)!=null&&p.length&&(t.push("### Systems Used"),t.push(e.systems_used.join(", ")),t.push("")),(w=e.pain_points)!=null&&w.length&&(t.push("### Pain Points"),e.pain_points.forEach(m=>t.push(`- ${m}`)),t.push("")),t.push("---"),t.push(""),t}function lY(e){var n,r,s,i;const t=[];if(!e)return t.push("*No decisions documented*"),t.push(""),t;if(K0(e)){if((n=e.rule_based)!=null&&n.length){t.push("**Rule-based (automatable):**"),t.push("");for(const o of e.rule_based)t.push("```"),t.push(`IF ${o.condition}  ${o.action}`),t.push("```"),o.source_quote&&t.push(`> Source: "${o.source_quote}"`),t.push("")}if((r=e.judgment_required)!=null&&r.length){t.push("**Judgment-required (human checkpoint):**"),t.push("");for(const o of e.judgment_required)t.push(`- ${o.description}`),(s=o.criteria_mentioned)!=null&&s.length&&t.push(`  - Criteria: ${o.criteria_mentioned.join(", ")}`),o.source_quote&&t.push(`  > Source: "${o.source_quote}"`);t.push("")}if((i=e.unarticulated)!=null&&i.length){t.push("**Unarticulated (needs exploration):**"),t.push("");for(const o of e.unarticulated)t.push(`- ${o.description}`),o.source_quote&&t.push(`  > Source: "${o.source_quote}"`);t.push("")}}else Array.isArray(e)&&e.length&&(t.push("*Note: Decisions not yet categorised*"),t.push(""),e.forEach(o=>t.push(`- ${o}`)),t.push(""));return t}function cY(e){var n;const t=[];return t.push(`## ${e.title}`),t.push(""),t.push(`**Category:** ${e.category}`),t.push(`**Confidence:** ${e.confidence}`),t.push(`**Impact:** ${e.estimated_impact}`),t.push(""),t.push(e.description),t.push(""),e.confidence_reasoning&&(t.push(`**Confidence Reasoning:** ${e.confidence_reasoning}`),t.push("")),(n=e.affected_workflows)!=null&&n.length&&(t.push(`**Affected Workflows:** ${e.affected_workflows.join(", ")}`),t.push("")),t}function uY({intervieweeName:e,intervieweeRole:t,orgName:n,analysis:r}){const s=()=>{const i=iY(e,t,n,r),o=new Blob([i],{type:"text/markdown"}),l=URL.createObjectURL(o),c=document.createElement("a"),u=e.toLowerCase().replace(/[^a-z0-9]+/g,"-");c.href=l,c.download=`${u}-workflow-spec.md`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)};return a.jsxs(X,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[a.jsx(eN,{className:"h-4 w-4"}),"Export as Implementation Spec"]})}const dY={generic_discovery:"Generic Discovery",technical_deep_dive:"Technical Deep-Dive",process_efficiency:"Process Efficiency",compliance_risk:"Compliance & Risk"};function hY({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return a.jsxs(Ne,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function fY({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return a.jsxs(Ne,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function pY({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return a.jsx(Ne,{variant:"secondary",children:t[e]||e})}function mY({level:e}){if(!e)return null;const t={HIGH:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",MEDIUM:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",LOW:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return a.jsxs(Ne,{variant:"outline",className:t[e],children:[e," Articulation"]})}function gY(){const{token:e}=Ml(),[t,n]=g.useState("loading"),[r,s]=g.useState(""),[i,o]=g.useState(null),[l,c]=g.useState(null);return g.useEffect(()=>{async function u(){if(!e){n("error"),s("No results token provided");return}try{const{data:d,error:h}=await Be.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(h){n("error"),s("Unable to load results. Please try again.");return}if(d!=null&&d.error){d.error.includes("still being generated")?n("pending"):(n("error"),s(d.error));return}if(o(d),n("success"),d.interviews&&d.interviews.length>0){const f=d.interviews.find(p=>p.hasAnalysis);f&&c(f.id)}}catch(d){console.error("Error loading results:",d),n("error"),s("An unexpected error occurred. Please try again.")}}u()},[e]),a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx(ke,{to:"/",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsx(Br,{})]})}),a.jsxs("main",{className:"container py-8",children:[t==="loading"&&a.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ue,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&a.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:a.jsx(ge,{className:"max-w-md text-center overflow-hidden",children:a.jsxs(we,{className:"pt-6 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(Oo,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),a.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&a.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:a.jsx(ge,{className:"max-w-md text-center overflow-hidden",children:a.jsxs(we,{className:"pt-6 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(Is,{className:"h-8 w-8 text-destructive"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),a.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&(()=>{var d;const u=l&&((d=i.analysesByInterview)!=null&&d[l])?i.analysesByInterview[l]:i.analysis;return a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Your Discovery Insights"}),a.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Personalised for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.org.name})]}),i.interviews&&i.interviews.length>1&&a.jsx(ge,{className:"overflow-hidden border shadow",children:a.jsx(we,{className:"py-4",children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["You have ",i.interviews.length," interview sessions. Select one to view:"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.interviews.map(h=>{const f=l===h.id;return a.jsxs(X,{variant:f?"default":"outline",size:"sm",onClick:()=>c(h.id),disabled:!h.hasAnalysis,className:"gap-2",children:[a.jsxs("span",{className:"font-mono",children:["#",h.sequenceNumber]}),a.jsx(Ne,{variant:f?"secondary":"outline",className:"text-xs",children:dY[h.interviewType]||"Interview"}),!h.hasAnalysis&&a.jsx("span",{className:"text-xs opacity-60",children:"(pending)"})]},h.id)})}),i.interviews.some(h=>!h.hasAnalysis)&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Some interviews are still being analysed."})]})})}),u.executiveSummary&&a.jsxs(ge,{className:"overflow-hidden border-0 shadow-lg",children:[a.jsx(ht,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(Wh,{className:"h-4 w-4 text-white"})}),"Executive Summary"]})}),a.jsx(we,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:a.jsx("p",{className:"text-foreground leading-relaxed",children:u.executiveSummary})})]}),u.automationOpportunities.length>0&&a.jsxs("section",{children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(tw,{className:"h-5 w-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Opportunities For You"})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:u.automationOpportunities.map((h,f)=>a.jsxs(ge,{className:"relative overflow-hidden",children:[a.jsxs(ht,{className:"pb-2",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(pY,{category:h.category}),a.jsx(hY,{level:h.confidence}),a.jsx(fY,{level:h.estimated_impact})]}),a.jsx(ft,{className:"mt-2 text-lg",children:h.title})]}),a.jsxs(we,{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:h.description}),h.affected_workflows.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:h.affected_workflows.map((p,w)=>a.jsx(Ne,{variant:"outline",className:"text-xs",children:p},w))})]}),h.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),a.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:h.prerequisites.slice(0,3).map((p,w)=>a.jsx("li",{children:p},w))})]})]})]},f))})]}),u.workflows.length>0&&a.jsxs("section",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full",style:{backgroundColor:"#7952b3"},children:a.jsx(iN,{className:"h-5 w-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Your Workflows"})]}),a.jsx(uY,{intervieweeName:i.interviewee.name,intervieweeRole:i.interviewee.role||void 0,orgName:i.org.name,analysis:u})]}),a.jsx(G0,{type:"multiple",className:"space-y-2",children:u.workflows.map((h,f)=>{var p,w,m,_,y,x,b;return a.jsxs(Pp,{value:`workflow-${f}`,className:"rounded-lg border bg-card",children:[a.jsx(Rp,{className:"px-4 hover:no-underline",children:a.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:h.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:h.owner})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mY,{level:h.articulation_level}),a.jsx(Ne,{variant:"outline",children:h.frequency})]})]})}),a.jsx(Op,{className:"px-4 pb-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:h.description}),h.estimated_time&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Oo,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:["Estimated time: ",h.estimated_time]})]}),h.components&&a.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium",children:"SIMPLE Breakdown"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((p=h.components.triggers)==null?void 0:p.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Signal (Triggers)"}),a.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.triggers.map((S,E)=>a.jsx("li",{children:S},E))})]}),((w=h.components.inputs)==null?void 0:w.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),a.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.inputs.map((S,E)=>a.jsx("li",{children:S},E))})]}),((m=h.components.transformations)==null?void 0:m.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Make (Work Done)"}),a.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.transformations.map((S,E)=>a.jsx("li",{children:S},E))})]}),h.components.decisions&&(K0(h.components.decisions)?a.jsxs("div",{className:"md:col-span-2 space-y-3",children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Pick (Decisions)"}),h.components.decisions.rule_based&&h.components.decisions.rule_based.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-green-700 dark:text-green-400",children:"Rule-based (automatable)"}),h.components.decisions.rule_based.map((S,E)=>a.jsxs("div",{className:"pl-3 border-l-2 border-green-500 bg-green-50/50 dark:bg-green-900/10 p-2 rounded-r",children:[a.jsxs("code",{className:"text-sm",children:["IF ",S.condition,"  ",S.action]}),S.source_quote&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',S.source_quote,'"']})]},E))]}),h.components.decisions.judgment_required&&h.components.decisions.judgment_required.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-yellow-700 dark:text-yellow-400",children:"Judgment-required (human checkpoint)"}),h.components.decisions.judgment_required.map((S,E)=>a.jsxs("div",{className:"pl-3 border-l-2 border-yellow-500 bg-yellow-50/50 dark:bg-yellow-900/10 p-2 rounded-r",children:[a.jsx("p",{className:"text-sm",children:S.description}),S.criteria_mentioned&&S.criteria_mentioned.length>0&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Criteria: ",S.criteria_mentioned.join(", ")]}),S.source_quote&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',S.source_quote,'"']})]},E))]}),h.components.decisions.unarticulated&&h.components.decisions.unarticulated.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-orange-700 dark:text-orange-400",children:"Unarticulated (needs exploration)"}),h.components.decisions.unarticulated.map((S,E)=>a.jsxs("div",{className:"pl-3 border-l-2 border-orange-500 bg-orange-50/50 dark:bg-orange-900/10 p-2 rounded-r",children:[a.jsx("p",{className:"text-sm",children:S.description}),S.source_quote&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic",children:['"',S.source_quote,'"']})]},E))]})]}):Array.isArray(h.components.decisions)&&h.components.decisions.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Pick (Decisions)"}),a.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.decisions.map((S,E)=>a.jsx("li",{children:S},E))})]})),((_=h.components.outputs)==null?void 0:_.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Land (Outputs)"}),a.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.outputs.map((S,E)=>a.jsx("li",{children:S},E))})]}),((y=h.components.checks)==null?void 0:y.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Examine (Quality Checks)"}),a.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.checks.map((S,E)=>a.jsx("li",{children:S},E))})]})]})]}),((x=h.systems_used)==null?void 0:x.length)>0&&a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:h.systems_used.map((S,E)=>a.jsx(Ne,{variant:"secondary",className:"text-xs",children:S},E))})]}),((b=h.pain_points)==null?void 0:b.length)>0&&a.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[a.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),a.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:h.pain_points.map((S,E)=>a.jsx("li",{children:S},E))})]})]})})]},f)})})]}),a.jsx(ge,{className:"border-0 shadow-lg overflow-hidden",children:a.jsxs(we,{className:"flex flex-col items-center py-8 text-center border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(Ou,{className:"h-8 w-8 text-white"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),a.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),a.jsx(X,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},asChild:!0,children:a.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[a.jsx(Jo,{className:"h-5 w-5"}),"Contact AgentFlow",a.jsx(Xt,{className:"h-4 w-4"})]})})]})}),a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:a.jsxs("p",{children:["Analysis generated on"," ",new Date(u.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})})()]}),a.jsx(qu,{className:"border-t"})]})}function J0({children:e,title:t,lastUpdated:n}){const r=Vr();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx(ke,{to:"/",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsx(Br,{})]})}),a.jsxs("main",{className:"container max-w-3xl pb-16 pt-24",children:[a.jsxs("button",{onClick:()=>r(-1),className:"mb-6 flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[a.jsx(cl,{className:"h-4 w-4"}),"Back"]}),a.jsxs("article",{className:"prose prose-slate dark:prose-invert max-w-none",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:t}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",n]}),a.jsx("hr",{className:"my-6"}),e]})]}),a.jsx("footer",{className:"border-t py-8",children:a.jsxs("div",{className:"container max-w-3xl",children:[a.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[a.jsx(ke,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),a.jsx("span",{className:"text-muted-foreground/50",children:"|"}),a.jsx(ke,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),a.jsx("span",{className:"text-muted-foreground/50",children:"|"}),a.jsx(ke,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Contact: ",a.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"hover:text-foreground transition-colors",children:"hamish@goagentflow.com"})]}),a.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})})]})}function vY(){return a.jsxs(J0,{title:"Privacy Notice - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Who we are"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd provides the AgentFlow Discovery Tool. If you are an interviewee, your organisation is the controller of your interview data and AgentFlow Ltd acts as its processor. The admin portal is for AgentFlow staff only; clients do not receive admin access unless separately agreed."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Contact"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Privacy contact: ",a.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"If you are an interviewee"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation determines the lawful basis for processing your interview data. AgentFlow Ltd processes your data only on your organisation's instructions. To exercise your rights, contact your organisation or the person who invited you to take part. If you contact AgentFlow Ltd, we will route your request to your organisation."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"What we collect"}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Identity and work details:"})," name, work email, role, organisation/project identifiers."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Interview responses:"})," text responses, timestamps, and ratings you choose to provide."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Audio data if voice mode is enabled:"})," recordings and transcripts."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Analysis outputs:"})," generated from interviews."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Technical and security data:"})," IP address, device/browser details, access logs."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"How we use your data and lawful bases"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:a.jsx("strong",{children:"Interviewees (on behalf of your organisation):"})}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsx("li",{children:"Provide the interview experience and generate analysis outputs."}),a.jsx("li",{children:"Maintain the security and integrity of the service."})]}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation typically relies on legitimate interests or performance of a contract (such as an employment or contractor relationship). If audio recording is enabled, we will request your explicit consent before capturing audio."}),a.jsx("p",{className:"text-muted-foreground mb-2",children:a.jsx("strong",{children:"AgentFlow staff (internal users):"})}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsx("li",{children:"Create and manage projects and interviewees (employment or contractor relationship)."}),a.jsx("li",{children:"Provide support and maintain service security (legitimate interests)."}),a.jsx("li",{children:"Meet legal obligations (legal obligation)."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"AI processing and automated decisions"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"We use AI to analyse interview responses and generate summaries and recommendations. Outputs are advisory and are not used for solely automated decision-making."}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not use your data to train AI models. Our sub-processors are contractually prohibited from using your data for model training, and we have implemented technical controls to enforce this (e.g., opt-out parameters on speech-to-text APIs)."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Sharing and sub-processors"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["We use trusted service providers to host and operate the service. A current list is available at:"," ",a.jsx(ke,{to:"/subprocessors",className:"text-accent hover:underline",children:"Sub-processors"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"International transfers"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Some service providers are outside the UK. We use UK-approved safeguards (UK IDTA or UK Addendum to SCCs) and conduct transfer impact assessments where required."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Retention"}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsx("li",{children:"Interview data and analysis outputs: 12 months."}),a.jsx("li",{children:"Results links: 30 days."}),a.jsx("li",{children:"Interview links: 7 days."}),a.jsx("li",{children:"Security and audit logs: 12 months."}),a.jsx("li",{children:"Backups: 30 days."})]}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"After these periods, data is deleted or anonymised."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Security"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"We apply appropriate technical and organisational measures to protect personal data, including access controls, encryption in transit, and logging."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Your rights"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["You have rights to access, correct, erase, restrict, object, and port your data. Interviewees should contact their organisation or the person who invited them. AgentFlow staff should use internal HR/contact channels or email ",a.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"}),"."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Complaints"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["You may complain to the UK Information Commissioner's Office (ICO):"," ",a.jsx("a",{href:"https://ico.org.uk/",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"https://ico.org.uk/"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Children"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"This service is intended for adults in a professional context and is not designed for use by children."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Changes"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"We may update this notice from time to time. The latest version will be published at this URL."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Cookies"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"We use essential cookies or local storage needed to run the service (such as authentication and security). If we add non-essential analytics, we will request consent where required."})]})]})}function yY(){return a.jsxs(J0,{title:"Terms of Service - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"1. About these Terms"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:'These Terms govern access to and use of the AgentFlow Discovery Tool (the "Service") by the business or organisation that purchases or uses the Service (the "Client"). If you are an interviewee, you are not a party to these Terms; your participation is governed by your organisation. The admin portal is for AgentFlow staff only and is not made available to clients unless separately agreed.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"2. Definitions"}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:'"Client Data"'})," means information submitted to or collected by the Service on behalf of the Client, including interview responses and analysis outputs."]}),a.jsxs("li",{children:[a.jsx("strong",{children:'"Interviewee"'})," means a person invited by the Client to participate in an interview."]}),a.jsxs("li",{children:[a.jsx("strong",{children:'"Order Form"'})," means the document or agreement describing pricing and scope, if applicable."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"3. The Service"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"The Service provides AI-assisted interviews and analysis to help clients identify workflow and automation opportunities. The Service may be in beta and features may change or be discontinued."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"4. Client responsibilities"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client will:"}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsx("li",{children:"Ensure it has the right to provide Client Data and to ask Interviewees to participate."}),a.jsx("li",{children:"Provide required privacy notices to Interviewees."}),a.jsx("li",{children:"Use the Service in compliance with applicable laws."}),a.jsx("li",{children:"Ensure Interviewees do not submit special category data unless explicitly agreed in writing."}),a.jsx("li",{children:"Not attempt to access the admin portal and ensure only Interviewees access the interview interface."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"5. Acceptable use"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client and Interviewees must not:"}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsx("li",{children:"Use the Service for unlawful purposes."}),a.jsx("li",{children:"Provide sensitive personal data (health, union membership, criminal records, financial account numbers) unless agreed in writing."}),a.jsx("li",{children:"Attempt to reverse engineer or interfere with the Service."})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"6. Data protection"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["The parties will enter into a data processing agreement (DPA) consistent with UK GDPR Article 28. AgentFlow Ltd processes Client Data only on the Client's instructions. The Client is the controller of Client Data; AgentFlow Ltd is the processor. The Privacy Notice is available at"," ",a.jsx(ke,{to:"/privacy",className:"text-accent hover:underline",children:"Privacy Policy"}),"."]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"7. AI outputs and no reliance"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"AI-generated outputs are provided for informational purposes only. The Client is responsible for verifying outputs and for any decisions made using the outputs. Outputs must not be used as the sole basis for employment or other decisions affecting individuals."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"8. Security"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd applies reasonable technical and organisational measures to protect the Service and Client Data. No method of transmission or storage is completely secure; the Client acknowledges this risk."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"9. Fees and payment"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Fees, if any, are set out in the Order Form. Unless otherwise stated, fees are non-refundable."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"10. Intellectual property"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd retains all rights in the Service. The Client retains ownership of Client Data. AgentFlow Ltd may use aggregated and anonymised data for service improvement and analytics."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"11. Confidentiality"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Each party will protect the other party's confidential information using reasonable care and will use it only for the purposes of the Service."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"12. Warranties and disclaimers"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:'The Service is provided "as is." To the extent permitted by law, AgentFlow Ltd disclaims all warranties, including fitness for a particular purpose and non-infringement.'})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"13. Limitation of liability"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:"To the extent permitted by law:"}),a.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[a.jsx("li",{children:"Neither party is liable for indirect, incidental, or consequential damages."}),a.jsx("li",{children:"AgentFlow Ltd's total liability arising from the Service is limited to the fees paid by the Client in the 12 months before the event giving rise to the claim."})]}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Nothing limits liability for death or personal injury caused by negligence, fraud, or other liability that cannot be excluded by law."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"14. Indemnity"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"The Client will indemnify AgentFlow Ltd against claims arising from Client Data, Client instructions, or use of the Service in violation of these Terms."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"15. Term and termination"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms start when the Client first uses the Service and continue until terminated. Either party may terminate for material breach with 30 days' notice if the breach is not remedied. On termination, AgentFlow Ltd will delete or return Client Data in accordance with the DPA."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"16. Changes"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd may update these Terms by posting a new version at this URL."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"17. Governing law"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms are governed by the laws of England and Wales. The courts of England and Wales have exclusive jurisdiction."})]})]})}const Sl=g.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",e),...t})}));Sl.displayName="Table";const jl=g.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:re("[&_tr]:border-b",e),...t}));jl.displayName="TableHeader";const kl=g.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",e),...t}));kl.displayName="TableBody";const xY=g.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xY.displayName="TableFooter";const Zn=g.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:re("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Zn.displayName="TableRow";const Fe=g.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Fe.displayName="TableHead";const Ie=g.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ie.displayName="TableCell";const wY=g.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",e),...t}));wY.displayName="TableCaption";const bY=[{provider:"Supabase",purpose:"Hosting, database, auth, edge functions",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (database)"},{provider:"Anthropic",purpose:"AI model processing",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (commercial API terms)"},{provider:"Deepgram",purpose:"Speech-to-text (if enabled)",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (mip_opt_out=true)"},{provider:"Resend",purpose:"Transactional email",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (email)"},{provider:"Google Cloud (Cloud Run)",purpose:"App hosting",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (infrastructure)"}];function _Y(){return a.jsxs(J0,{title:"Sub-processor List - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[a.jsxs("section",{children:[a.jsx("p",{className:"text-muted-foreground mb-6",children:"The following third-party service providers are used to host and operate the AgentFlow Discovery Tool. We have appropriate data processing agreements in place with each provider."}),a.jsx("div",{className:"overflow-x-auto rounded-lg border",children:a.jsxs(Sl,{children:[a.jsx(jl,{children:a.jsxs(Zn,{children:[a.jsx(Fe,{className:"font-semibold",children:"Provider"}),a.jsx(Fe,{className:"font-semibold",children:"Purpose"}),a.jsx(Fe,{className:"font-semibold",children:"Data Location"}),a.jsx(Fe,{className:"font-semibold",children:"Safeguards"}),a.jsx(Fe,{className:"font-semibold",children:"Training Excluded"})]})}),a.jsx(kl,{children:bY.map(e=>a.jsxs(Zn,{children:[a.jsx(Ie,{className:"font-medium",children:e.provider}),a.jsx(Ie,{children:e.purpose}),a.jsx(Ie,{children:e.location}),a.jsx(Ie,{children:e.safeguards}),a.jsx(Ie,{children:e.trainingExcluded.startsWith("Yes")?a.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[a.jsx(Dr,{className:"h-4 w-4"}),e.trainingExcluded]}):e.trainingExcluded})]},e.provider))})]})})]}),a.jsxs("section",{className:"mt-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"AI Model Training Policy"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not permit our sub-processors to use your data for AI model training. Where applicable, we have implemented technical opt-outs (e.g., Deepgram's Model Improvement Program opt-out) and rely on contractual terms (e.g., Anthropic's commercial API terms) to enforce this."})]}),a.jsxs("section",{className:"mt-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Changes to this list"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"We will notify clients of material changes to this list in advance where required by contract."})]})]})}const Q2=["hamish@goagentflow.com","stephen@goagentflow.com"],X2=g.createContext(void 0);function SY({children:e}){const[t,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0),l=t!=null&&t.email?Q2.includes(t.email.toLowerCase()):!1;g.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await Be.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:d}}=Be.auth.onAuthStateChange(async(h,f)=>{console.log("[Auth] State change:",h),s(f),n((f==null?void 0:f.user)??null),o(!1)});return()=>{d.unsubscribe()}},[]);const c=async()=>{try{await Be.auth.signOut(),n(null),s(null)}catch(u){throw console.error("Error signing out:",u),u}};return a.jsx(X2.Provider,{value:{user:t,session:r,isAdmin:l,loading:i,signOut:c},children:e})}function Y0(){const e=g.useContext(X2);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function Yy(e){return Q2.includes(e.toLowerCase())}function jY(){const[e,t]=g.useState(""),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,l]=g.useState(null),c=Vr(),{user:u,isAdmin:d,loading:h}=Y0();g.useEffect(()=>{!h&&u&&d&&c("/admin/dashboard",{replace:!0})},[u,d,h,c]);const f=async p=>{if(p.preventDefault(),l(null),i(!0),!Yy(e)){l("This email is not authorized for admin access."),i(!1);return}try{const{error:w}=await Be.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/discovery/admin/auth/callback`}});if(w)throw w;r(!0)}catch(w){console.error("Error sending magic link:",w),l(w instanceof Error?w.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-accent"})}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[a.jsx(ke,{to:"/",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsx(Br,{})]}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:a.jsxs(ge,{className:"w-full max-w-md overflow-hidden border-0 shadow-lg",children:[a.jsxs(ht,{className:"text-center border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[a.jsx(ft,{children:"Admin Login"}),a.jsx(vn,{children:"Sign in with your email to access the dashboard"})]}),a.jsx(we,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:a.jsx(Fr,{mode:"wait",children:n?a.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx(Dr,{className:"h-8 w-8 text-white"})}),a.jsx("p",{className:"font-medium",children:"Check your email!"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),a.jsx(X,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):a.jsxs(se.form,{exit:{opacity:0},onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jo,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(Je,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:p=>{t(p.target.value),l(null)},className:"pl-9",required:!0,disabled:s})]}),o&&a.jsxs(se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[a.jsx(Is,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{children:o})]}),a.jsx(X,{type:"submit",className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})}),a.jsx(qu,{className:"border-t"})]})}function kY(){const[e,t]=g.useState(null),n=Vr();return g.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:l}=await Be.auth.getSession();if(l)throw l;if(!o){const{error:c}=await Be.auth.exchangeCodeForSession(window.location.href);if(c)throw c;const{data:{session:u},error:d}=await Be.auth.getSession();if(d||!u)throw new Error("Failed to establish session");if(!((s=u.user)!=null&&s.email)||!Yy(u.user.email))throw await Be.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!Yy(o.user.email))throw await Be.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsx(ge,{className:"max-w-md",children:a.jsxs(we,{className:"pt-6 text-center",children:[a.jsx(Is,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),a.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),a.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),a.jsx(X,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ue,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}async function nn(e,t={}){const{data:{session:n},error:r}=await Be.auth.getSession();if(r||!n)return console.error("No active session for admin API call"),{data:null,error:"Not authenticated"};const{data:s,error:i}=await Be.functions.invoke("admin-api",{body:{action:e,...t}});return i?(console.error(`Admin API error (${e}):`,i),{data:null,error:i.message}):s!=null&&s.error?{data:null,error:s.error}:{data:s,error:null}}async function EY(){const{data:e,error:t}=await nn("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function Gk(e){const{data:t,error:n}=await nn("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function CY(e,t){const{data:n,error:r}=await nn("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function TY(e,t,n,r,s,i,o){const{data:l,error:c}=await nn("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s,interviewType:i,preBriefContext:o});return c||!l?{interviewee:null,interview:null,error:c}:{interviewee:l.interviewee,interview:l.interview,error:null}}async function NY(e,t){const{error:n}=await nn("markInterviewInvited",{interviewId:e,intervieweeId:t});return{error:n}}async function Kk(e){return NY(void 0,e)}function Z2(e){var r;const t=e;if(!t.interviews||t.interviews.length===0)return e.interview_token||null;const n=t.interviews.find(s=>s.status==="not_started"||s.status==="in_progress");return(n==null?void 0:n.interview_token)||((r=t.interviews[0])==null?void 0:r.interview_token)||null}function eM(e){const t=e;return!t.interviews||t.interviews.length===0?null:t.interviews.find(r=>r.status==="not_started"||r.status==="in_progress")||t.interviews[0]||null}async function AY(e,t,n){const{data:r,error:s}=await nn("scheduleFollowUp",{intervieweeId:e,interviewType:t,preBriefContext:n});return s||!r?{interview:null,error:s}:{interview:r.interview,error:null}}async function PY(){const{data:e,error:t}=await nn("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function RY(e){const{data:t,error:n}=await nn("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}async function OY(e){const{data:t,error:n}=await nn("getProjectAnalysis",{projectId:e});return n||!t?{analysis:null,interviewCount:0,error:n}:{analysis:t.analysis,interviewCount:t.interviewCount,error:null}}async function IY(e){const{data:t,error:n}=await nn("triggerAnalysis",{projectId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function MY(e){const{data:t,error:n}=await nn("triggerIndividualAnalysis",{intervieweeId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function DY(e){const{data:t,error:n}=await nn("getIntervieweeResultsLink",{intervieweeId:e});return n||!t?{resultsToken:null,intervieweeName:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,error:null}}async function LY(e){const{data:t,error:n}=await nn("getInterviewResultsLink",{interviewId:e});return n||!t?{resultsToken:null,intervieweeName:null,sequenceNumber:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,sequenceNumber:t.sequenceNumber,error:null}}async function $Y(e){const{data:t,error:n}=await nn("globalSearch",{query:e});return n||!t?{results:{interviewees:[],projects:[],orgs:[]},error:n}:{results:t,error:null}}async function tM(){const{data:e,error:t}=await nn("getAssessmentLeads");return t||!e?{leads:[],error:t}:{leads:e.leads||[],error:null}}async function FY(){const{data:{session:e},error:t}=await Be.auth.getSession();if(t||!e)return{csvContent:null,filename:null,error:"Not authenticated"};const n=await fetch("https://gsucaxeqzluzbmvonsmj.supabase.co/functions/v1/admin-api",{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"exportAssessmentLeadsCSV"})});if(!n.ok)return{csvContent:null,filename:null,error:(await n.json().catch(()=>({error:"Export failed"}))).error||"Export failed"};const r=n.headers.get("Content-Disposition"),s=r==null?void 0:r.match(/filename="?([^"]+)"?/),i=(s==null?void 0:s[1])||`assessment-leads-${new Date().toISOString().split("T")[0]}.csv`;return{csvContent:await n.text(),filename:i,error:null}}async function UY(e){const{data:t,error:n}=await nn("getQuizLeadDetail",{leadId:e});return n||!t?{data:null,error:n}:{data:t,error:null}}function VY(){const[e,t]=g.useState(!0),[n,r]=g.useState({clientProjects:0,pendingInterviews:0,completedInterviews:0,totalLeads:0,leadsInProgress:0,leadsCompleted:0});g.useEffect(()=>{s()},[]);async function s(){t(!0);const{data:i}=await Be.from("discovery_project").select(`
        id,
        name,
        org:org_id (name)
      `),o=(i==null?void 0:i.filter(m=>{var _;return((_=m.org)==null?void 0:_.name)!=="Assessment Leads"}))||[],l=o.map(m=>m.id),{data:c}=await Be.from("interviewee_with_stats").select("id, status, project_id").in("project_id",l.length>0?l:["none"]),u=(c==null?void 0:c.filter(m=>m.status==="pending"||m.status==="invited").length)||0,d=(c==null?void 0:c.filter(m=>m.status==="completed").length)||0,{leads:h}=await tM(),f=h.length,p=h.filter(m=>m.display_status==="completed").length,w=h.filter(m=>["quiz_in_progress","awaiting_interview","interview_in_progress"].includes(m.display_status)).length;r({clientProjects:o.length,pendingInterviews:u,completedInterviews:d,totalLeads:f,leadsInProgress:w,leadsCompleted:p}),t(!1)}return e?a.jsx("div",{className:"flex items-center justify-center p-12 min-h-[60vh]",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Centre"}),a.jsx("p",{className:"text-muted-foreground",children:"Choose where you want to go"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 max-w-4xl",children:[a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(ge,{className:"h-full hover:shadow-lg transition-shadow",children:a.jsxs(we,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-100 dark:bg-blue-900/20",children:a.jsx(zh,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Client Discovery"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Full discovery engagements with clients"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-2xl font-bold",children:n.clientProjects}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Projects"})]}),a.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-2xl font-bold",children:n.pendingInterviews}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Interviews Pending"})]}),a.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-2xl font-bold",children:n.completedInterviews}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Interviews Complete"})]})]}),a.jsx(X,{className:"w-full",asChild:!0,children:a.jsxs(ke,{to:"/admin/projects",children:["View Projects",a.jsx(Xt,{className:"ml-2 h-4 w-4"})]})})]})})}),a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsx(ge,{className:"h-full hover:shadow-lg transition-shadow",children:a.jsxs(we,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-purple-100 dark:bg-purple-900/20",children:a.jsx(Sv,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Quiz Leads"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"AI readiness assessment funnel"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-2xl font-bold",children:n.totalLeads}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Leads"})]}),a.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-2xl font-bold",children:n.leadsInProgress}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Quiz In Progress"})]}),a.jsxs("div",{className:"text-center p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-2xl font-bold",children:n.leadsCompleted}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Quiz Done"})]})]}),a.jsx(X,{className:"w-full",variant:"outline",asChild:!0,children:a.jsxs(ke,{to:"/admin/assessments",children:["View Leads",a.jsx(Xt,{className:"ml-2 h-4 w-4"})]})})]})})})]}),a.jsxs("div",{className:"mt-8 max-w-4xl",children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(X,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(ke,{to:"/admin/projects",children:[a.jsx(zh,{className:"mr-2 h-4 w-4"}),"New Project"]})}),a.jsx(X,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs("a",{href:"/discovery/assess",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Sv,{className:"mr-2 h-4 w-4"}),"View Quiz Landing Page"]})})]})]})]})}const Uo=o2,BY=a2,nM=g.forwardRef(({className:e,...t},n)=>a.jsx(I0,{ref:n,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));nM.displayName=I0.displayName;const $i=g.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(BY,{children:[a.jsx(nM,{}),a.jsxs(M0,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs($0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(dl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$i.displayName=M0.displayName;const Vo=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vo.displayName="DialogHeader";const Bo=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bo.displayName="DialogFooter";const zo=g.forwardRef(({className:e,...t},n)=>a.jsx(D0,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));zo.displayName=D0.displayName;const El=g.forwardRef(({className:e,...t},n)=>a.jsx(L0,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));El.displayName=L0.displayName;var zY=[" ","Enter","ArrowUp","ArrowDown"],qY=[" ","Enter"],qo="Select",[Ip,Mp,WY]=zf(qo),[zl,zX]=wn(qo,[WY,Zf]),Dp=Zf(),[HY,Wi]=zl(qo),[GY,KY]=zl(qo),rM=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:w}=e,m=Dp(t),[_,y]=g.useState(null),[x,b]=g.useState(null),[S,E]=g.useState(!1),C=Fl(u),[T,R]=lr({prop:r,defaultProp:s??!1,onChange:i,caller:qo}),[O,D]=lr({prop:o,defaultProp:l,onChange:c,caller:qo}),A=g.useRef(null),M=_?w||!!_.closest("form"):!0,[q,F]=g.useState(new Set),Z=Array.from(q).map(U=>U.props.value).join(";");return a.jsx($N,{...m,children:a.jsxs(HY,{required:p,scope:t,trigger:_,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Or(),value:O,onValueChange:D,open:T,onOpenChange:R,dir:C,triggerPointerDownPosRef:A,disabled:f,children:[a.jsx(Ip.Provider,{scope:t,children:a.jsx(GY,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(U=>{F(B=>new Set(B).add(U))},[]),onNativeOptionRemove:g.useCallback(U=>{F(B=>{const I=new Set(B);return I.delete(U),I})},[]),children:n})}),M?a.jsxs(CM,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:U=>D(U.target.value),disabled:f,form:w,children:[O===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},Z):null]})})};rM.displayName=qo;var sM="SelectTrigger",iM=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Dp(n),o=Wi(sM,n),l=o.disabled||r,c=Ce(t,o.onTriggerChange),u=Mp(n),d=g.useRef("touch"),[h,f,p]=NM(m=>{const _=u().filter(b=>!b.disabled),y=_.find(b=>b.value===o.value),x=AM(_,m,y);x!==void 0&&o.onValueChange(x.value)}),w=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(FN,{asChild:!0,...i,children:a.jsx(pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TM(o.value)?"":void 0,...s,ref:c,onClick:le(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&w(m)}),onPointerDown:le(s.onPointerDown,m=>{d.current=m.pointerType;const _=m.target;_.hasPointerCapture(m.pointerId)&&_.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(w(m),m.preventDefault())}),onKeyDown:le(s.onKeyDown,m=>{const _=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(_&&m.key===" ")&&zY.includes(m.key)&&(w(),m.preventDefault())})})})});iM.displayName=sM;var oM="SelectValue",aM=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=e,c=Wi(oM,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Ce(t,c.onValueNodeChange);return Ot(()=>{u(d)},[u,d]),a.jsx(pe.span,{...l,ref:h,style:{pointerEvents:"none"},children:TM(c.value)?a.jsx(a.Fragment,{children:o}):i})});aM.displayName=oM;var JY="SelectIcon",lM=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(pe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});lM.displayName=JY;var YY="SelectPortal",cM=e=>a.jsx(qf,{asChild:!0,...e});cM.displayName=YY;var Wo="SelectContent",uM=g.forwardRef((e,t)=>{const n=Wi(Wo,e.__scopeSelect),[r,s]=g.useState();if(Ot(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ko.createPortal(a.jsx(dM,{scope:e.__scopeSelect,children:a.jsx(Ip.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(hM,{...e,ref:t})});uM.displayName=Wo;var _r=10,[dM,Hi]=zl(Wo),QY="SelectContentImpl",XY=ll("SelectContent.RemoveScroll"),hM=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:m,avoidCollisions:_,...y}=e,x=Wi(Wo,n),[b,S]=g.useState(null),[E,C]=g.useState(null),T=Ce(t,N=>S(N)),[R,O]=g.useState(null),[D,A]=g.useState(null),M=Mp(n),[q,F]=g.useState(!1),Z=g.useRef(!1);g.useEffect(()=>{if(b)return BI(b)},[b]),II();const U=g.useCallback(N=>{const[L,...z]=M().map(ee=>ee.ref.current),[V]=z.slice(-1),G=document.activeElement;for(const ee of N)if(ee===G||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===L&&E&&(E.scrollTop=0),ee===V&&E&&(E.scrollTop=E.scrollHeight),ee==null||ee.focus(),document.activeElement!==G))return},[M,E]),B=g.useCallback(()=>U([R,b]),[U,R,b]);g.useEffect(()=>{q&&B()},[q,B]);const{onOpenChange:I,triggerPointerDownPosRef:$}=x;g.useEffect(()=>{if(b){let N={x:0,y:0};const L=V=>{var G,ee;N={x:Math.abs(Math.round(V.pageX)-(((G=$.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(V.pageY)-(((ee=$.current)==null?void 0:ee.y)??0))}},z=V=>{N.x<=10&&N.y<=10?V.preventDefault():b.contains(V.target)||I(!1),document.removeEventListener("pointermove",L),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",L),document.addEventListener("pointerup",z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",z,{capture:!0})}}},[b,I,$]),g.useEffect(()=>{const N=()=>I(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[I]);const[K,ie]=NM(N=>{const L=M().filter(G=>!G.disabled),z=L.find(G=>G.ref.current===document.activeElement),V=AM(L,N,z);V&&setTimeout(()=>V.ref.current.focus())}),Y=g.useCallback((N,L,z)=>{const V=!Z.current&&!z;(x.value!==void 0&&x.value===L||V)&&(O(N),V&&(Z.current=!0))},[x.value]),v=g.useCallback(()=>b==null?void 0:b.focus(),[b]),k=g.useCallback((N,L,z)=>{const V=!Z.current&&!z;(x.value!==void 0&&x.value===L||V)&&A(N)},[x.value]),j=r==="popper"?Qy:fM,P=j===Qy?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:w,hideWhenDetached:m,avoidCollisions:_}:{};return a.jsx(dM,{scope:n,content:b,viewport:E,onViewportChange:C,itemRefCallback:Y,selectedItem:R,onItemLeave:v,itemTextRefCallback:k,focusSelectedItem:B,selectedItemText:D,position:r,isPositioned:q,searchRef:K,children:a.jsx(A0,{as:XY,allowPinchZoom:!0,children:a.jsx(N0,{asChild:!0,trapped:x.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:le(s,N=>{var L;(L=x.trigger)==null||L.focus({preventScroll:!0}),N.preventDefault()}),children:a.jsx(Nu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(j,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:N=>N.preventDefault(),...y,...P,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:le(y.onKeyDown,N=>{const L=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!L&&N.key.length===1&&ie(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let V=M().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(N.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const G=N.target,ee=V.indexOf(G);V=V.slice(ee+1)}setTimeout(()=>U(V)),N.preventDefault()}})})})})})})});hM.displayName=QY;var ZY="SelectItemAlignedPosition",fM=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Wi(Wo,n),o=Hi(Wo,n),[l,c]=g.useState(null),[u,d]=g.useState(null),h=Ce(t,T=>d(T)),f=Mp(n),p=g.useRef(!1),w=g.useRef(!0),{viewport:m,selectedItem:_,selectedItemText:y,focusSelectedItem:x}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&_&&y){const T=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(i.dir!=="rtl"){const G=D.left-R.left,ee=O.left-G,he=T.left-ee,Ve=T.width+he,St=Math.max(Ve,R.width),gt=window.innerWidth-_r,Le=iy(ee,[_r,Math.max(_r,gt-St)]);l.style.minWidth=Ve+"px",l.style.left=Le+"px"}else{const G=R.right-D.right,ee=window.innerWidth-O.right-G,he=window.innerWidth-T.right-ee,Ve=T.width+he,St=Math.max(Ve,R.width),gt=window.innerWidth-_r,Le=iy(ee,[_r,Math.max(_r,gt-St)]);l.style.minWidth=Ve+"px",l.style.right=Le+"px"}const A=f(),M=window.innerHeight-_r*2,q=m.scrollHeight,F=window.getComputedStyle(u),Z=parseInt(F.borderTopWidth,10),U=parseInt(F.paddingTop,10),B=parseInt(F.borderBottomWidth,10),I=parseInt(F.paddingBottom,10),$=Z+U+q+I+B,K=Math.min(_.offsetHeight*5,$),ie=window.getComputedStyle(m),Y=parseInt(ie.paddingTop,10),v=parseInt(ie.paddingBottom,10),k=T.top+T.height/2-_r,j=M-k,P=_.offsetHeight/2,N=_.offsetTop+P,L=Z+U+N,z=$-L;if(L<=k){const G=A.length>0&&_===A[A.length-1].ref.current;l.style.bottom="0px";const ee=u.clientHeight-m.offsetTop-m.offsetHeight,he=Math.max(j,P+(G?v:0)+ee+B),Ve=L+he;l.style.height=Ve+"px"}else{const G=A.length>0&&_===A[0].ref.current;l.style.top="0px";const he=Math.max(k,Z+m.offsetTop+(G?Y:0)+P)+z;l.style.height=he+"px",m.scrollTop=L-k+m.offsetTop}l.style.margin=`${_r}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,u,m,_,y,i.dir,r]);Ot(()=>b(),[b]);const[S,E]=g.useState();Ot(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const C=g.useCallback(T=>{T&&w.current===!0&&(b(),x==null||x(),w.current=!1)},[b,x]);return a.jsx(tQ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(pe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});fM.displayName=ZY;var eQ="SelectPopperPosition",Qy=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=_r,...i}=e,o=Dp(n);return a.jsx(UN,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qy.displayName=eQ;var[tQ,Q0]=zl(Wo,{}),Xy="SelectViewport",pM=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Hi(Xy,n),o=Q0(Xy,n),l=Ce(t,i.onViewportChange),c=g.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Ip.Slot,{scope:n,children:a.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:le(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-_r*2,m=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),y=Math.max(m,_);if(y<w){const x=y+p,b=Math.min(w,x),S=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});pM.displayName=Xy;var mM="SelectGroup",[nQ,rQ]=zl(mM),sQ=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Or();return a.jsx(nQ,{scope:n,id:s,children:a.jsx(pe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});sQ.displayName=mM;var gM="SelectLabel",vM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rQ(gM,n);return a.jsx(pe.div,{id:s.id,...r,ref:t})});vM.displayName=gM;var kf="SelectItem",[iQ,yM]=zl(kf),xM=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,l=Wi(kf,n),c=Hi(kf,n),u=l.value===r,[d,h]=g.useState(i??""),[f,p]=g.useState(!1),w=Ce(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),m=Or(),_=g.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(iQ,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:g.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(Ip.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(pe.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:le(o.onFocus,()=>p(!0)),onBlur:le(o.onBlur,()=>p(!1)),onClick:le(o.onClick,()=>{_.current!=="mouse"&&y()}),onPointerUp:le(o.onPointerUp,()=>{_.current==="mouse"&&y()}),onPointerDown:le(o.onPointerDown,x=>{_.current=x.pointerType}),onPointerMove:le(o.onPointerMove,x=>{var b;_.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):_.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:le(o.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(qY.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});xM.displayName=kf;var gc="SelectItemText",wM=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Wi(gc,n),l=Hi(gc,n),c=yM(gc,n),u=KY(gc,n),[d,h]=g.useState(null),f=Ce(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=g.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:_}=u;return Ot(()=>(m(w),()=>_(w)),[m,_,w]),a.jsxs(a.Fragment,{children:[a.jsx(pe.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ko.createPortal(i.children,o.valueNode):null]})});wM.displayName=gc;var bM="SelectItemIndicator",_M=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return yM(bM,n).isSelected?a.jsx(pe.span,{"aria-hidden":!0,...r,ref:t}):null});_M.displayName=bM;var Zy="SelectScrollUpButton",SM=g.forwardRef((e,t)=>{const n=Hi(Zy,e.__scopeSelect),r=Q0(Zy,e.__scopeSelect),[s,i]=g.useState(!1),o=Ce(t,r.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(kM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});SM.displayName=Zy;var ex="SelectScrollDownButton",jM=g.forwardRef((e,t)=>{const n=Hi(ex,e.__scopeSelect),r=Q0(ex,e.__scopeSelect),[s,i]=g.useState(!1),o=Ce(t,r.onScrollButtonChange);return Ot(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(kM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jM.displayName=ex;var kM=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Hi("SelectScrollButton",n),o=g.useRef(null),l=Mp(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Ot(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:le(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:le(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:le(s.onPointerLeave,()=>{c()})})}),oQ="SelectSeparator",EM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(pe.div,{"aria-hidden":!0,...r,ref:t})});EM.displayName=oQ;var tx="SelectArrow",aQ=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Dp(n),i=Wi(tx,n),o=Hi(tx,n);return i.open&&o.position==="popper"?a.jsx(VN,{...s,...r,ref:t}):null});aQ.displayName=tx;var lQ="SelectBubbleInput",CM=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=g.useRef(null),i=Ce(r,s),o=o0(t);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx(pe.select,{...n,style:{...CT,...n.style},ref:i,defaultValue:t})});CM.displayName=lQ;function TM(e){return e===""||e===void 0}function NM(e){const t=Pt(e),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function AM(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=cQ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function cQ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var uQ=rM,PM=iM,dQ=aM,hQ=lM,fQ=cM,RM=uM,pQ=pM,OM=vM,IM=xM,mQ=wM,gQ=_M,MM=SM,DM=jM,LM=EM;const X0=uQ,Z0=dQ,Lp=g.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(PM,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(hQ,{asChild:!0,children:a.jsx(So,{className:"h-4 w-4 opacity-50"})})]}));Lp.displayName=PM.displayName;const $M=g.forwardRef(({className:e,...t},n)=>a.jsx(MM,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(nF,{className:"h-4 w-4"})}));$M.displayName=MM.displayName;const FM=g.forwardRef(({className:e,...t},n)=>a.jsx(DM,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(So,{className:"h-4 w-4"})}));FM.displayName=DM.displayName;const $p=g.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(fQ,{children:a.jsxs(RM,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx($M,{}),a.jsx(pQ,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(FM,{})]})}));$p.displayName=RM.displayName;const vQ=g.forwardRef(({className:e,...t},n)=>a.jsx(OM,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vQ.displayName=OM.displayName;const Fp=g.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(IM,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(gQ,{children:a.jsx(Pu,{className:"h-4 w-4"})})}),a.jsx(mQ,{children:t})]}));Fp.displayName=IM.displayName;const yQ=g.forwardRef(({className:e,...t},n)=>a.jsx(LM,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));yQ.displayName=LM.displayName;function xQ(){var D;const[e,t]=g.useState(""),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,l]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(""),[f,p]=g.useState(""),[w,m]=g.useState(""),[_,y]=g.useState(!1),[x,b]=g.useState(!1),{toast:S}=Bi();g.useEffect(()=>{E()},[]);async function E(){l(!0);const[A,M]=await Promise.all([EY(),PY()]);A.projects&&r(A.projects),M.orgs&&i(M.orgs),l(!1)}const C=n.filter(A=>{var M,q,F;return((M=A.org)==null?void 0:M.name)!=="Assessment Leads"&&(A.name.toLowerCase().includes(e.toLowerCase())||((F=(q=A.org)==null?void 0:q.name)==null?void 0:F.toLowerCase().includes(e.toLowerCase())))}),T=s.filter(A=>A.name!=="Assessment Leads"),R=async()=>{var Z;b(!0);let A=f;if(_&&w){const{org:U,error:B}=await RY(w);if(B||!U){S({title:"Error",description:B||"Failed to create client",variant:"destructive"}),b(!1);return}A=U.id}if(!A){S({title:"Error",description:"Please select or create a client",variant:"destructive"}),b(!1);return}const M=d||`Discovery - ${_?w:(Z=s.find(U=>U.id===A))==null?void 0:Z.name}`,{project:q,error:F}=await CY(A,M);if(F||!q){S({title:"Error",description:F||"Failed to create project",variant:"destructive"}),b(!1);return}S({title:"Project created!",description:`${M} has been created.`}),h(""),p(""),m(""),y(!1),u(!1),b(!1),E()},O=A=>{const M={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},q=M[A]||M.setup;return a.jsx(Ne,{className:q.className,children:q.label})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),a.jsxs(X,{onClick:()=>u(!0),children:[a.jsx(Tc,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),a.jsxs("div",{className:"mb-4 max-w-sm relative",children:[a.jsx(Kf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(Je,{placeholder:"Search projects...",value:e,onChange:A=>t(A.target.value),className:"pl-9"})]}),o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):C.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(zh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),a.jsxs(X,{onClick:()=>u(!0),children:[a.jsx(Tc,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):a.jsx("div",{className:"rounded-lg border",children:a.jsxs(Sl,{children:[a.jsx(jl,{children:a.jsxs(Zn,{children:[a.jsx(Fe,{children:"Project Name"}),a.jsx(Fe,{children:"Client"}),a.jsx(Fe,{children:"Status"}),a.jsx(Fe,{children:"Created"}),a.jsx(Fe,{})]})}),a.jsx(kl,{children:C.map(A=>{var M;return a.jsxs(Zn,{className:"cursor-pointer hover:bg-muted/50",children:[a.jsx(Ie,{className:"font-medium",children:A.name}),a.jsx(Ie,{children:((M=A.org)==null?void 0:M.name)||"Unknown"}),a.jsx(Ie,{children:O(A.status)}),a.jsx(Ie,{children:new Date(A.created_at).toLocaleDateString()}),a.jsx(Ie,{children:a.jsx(X,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(ke,{to:`/admin/projects/${A.id}`,children:"View"})})})]},A.id)})})]})}),a.jsx(Uo,{open:c,onOpenChange:u,children:a.jsxs($i,{children:[a.jsx(Vo,{children:a.jsx(zo,{children:"New Discovery Project"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Re,{children:"Client *"}),_?a.jsxs("div",{className:"space-y-2 mt-1",children:[a.jsx(Je,{value:w,onChange:A=>m(A.target.value),placeholder:"Enter client name"}),a.jsx(X,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),m("")},children:"Select existing client instead"})]}):a.jsxs("div",{className:"space-y-2 mt-1",children:[a.jsxs(X0,{value:f,onValueChange:p,children:[a.jsx(Lp,{children:a.jsx(Z0,{placeholder:"Select a client..."})}),a.jsx($p,{children:T.map(A=>a.jsx(Fp,{value:A.id,children:A.name},A.id))})]}),a.jsx(X,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),a.jsxs("div",{children:[a.jsx(Re,{children:"Project Name (optional)"}),a.jsx(Je,{value:d,onChange:A=>h(A.target.value),placeholder:`Discovery - ${_?w||"Client Name":((D=T.find(A=>A.id===f))==null?void 0:D.name)||"Client Name"}`,className:"mt-1"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),a.jsxs(Bo,{children:[a.jsx(X,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsxs(X,{onClick:R,disabled:x||!f&&!w,children:[x?a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var jg="rovingFocusGroup.onEntryFocus",wQ={bubbles:!1,cancelable:!0},Wu="RovingFocusGroup",[nx,UM,bQ]=zf(Wu),[_Q,Up]=wn(Wu,[bQ]),[SQ,jQ]=_Q(Wu),VM=g.forwardRef((e,t)=>a.jsx(nx.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(nx.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(kQ,{...e,ref:t})})}));VM.displayName=Wu;var kQ=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=g.useRef(null),p=Ce(t,f),w=Fl(i),[m,_]=lr({prop:o,defaultProp:l??null,onChange:c,caller:Wu}),[y,x]=g.useState(!1),b=Pt(u),S=UM(n),E=g.useRef(!1),[C,T]=g.useState(0);return g.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(jg,b),()=>R.removeEventListener(jg,b)},[b]),a.jsx(SQ,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:m,onItemFocus:g.useCallback(R=>_(R),[_]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:g.useCallback(()=>T(R=>R-1),[]),children:a.jsx(pe.div,{tabIndex:y||C===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{E.current=!0}),onFocus:le(e.onFocus,R=>{const O=!E.current;if(R.target===R.currentTarget&&O&&!y){const D=new CustomEvent(jg,wQ);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const A=S().filter(U=>U.focusable),M=A.find(U=>U.active),q=A.find(U=>U.id===m),Z=[M,q,...A].filter(Boolean).map(U=>U.ref.current);qM(Z,d)}}E.current=!1}),onBlur:le(e.onBlur,()=>x(!1))})})}),BM="RovingFocusGroupItem",zM=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Or(),u=i||c,d=jQ(BM,n),h=d.currentTabStopId===u,f=UM(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:m}=d;return g.useEffect(()=>{if(r)return p(),()=>w()},[r,p,w]),a.jsx(nx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(pe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,_=>{r?d.onItemFocus(u):_.preventDefault()}),onFocus:le(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:le(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const y=TQ(_,d.orientation,d.dir);if(y!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let b=f().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const S=b.indexOf(_.currentTarget);b=d.loop?NQ(b,S+1):b.slice(S+1)}setTimeout(()=>qM(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});zM.displayName=BM;var EQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function TQ(e,t,n){const r=CQ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EQ[r]}function qM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function NQ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WM=VM,HM=zM,Vp="Tabs",[AQ,qX]=wn(Vp,[Up]),GM=Up(),[PQ,eb]=AQ(Vp),KM=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Fl(l),[h,f]=lr({prop:r,onChange:s,defaultProp:i??"",caller:Vp});return a.jsx(PQ,{scope:n,baseId:Or(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:a.jsx(pe.div,{dir:d,"data-orientation":o,...u,ref:t})})});KM.displayName=Vp;var JM="TabsList",YM=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=eb(JM,n),o=GM(n);return a.jsx(WM,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(pe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});YM.displayName=JM;var QM="TabsTrigger",XM=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=eb(QM,n),l=GM(n),c=tD(o.baseId,r),u=nD(o.baseId,r),d=r===o.value;return a.jsx(HM,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:le(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:le(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:le(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});XM.displayName=QM;var ZM="TabsContent",eD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,l=eb(ZM,n),c=tD(l.baseId,r),u=nD(l.baseId,r),d=r===l.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(Cn,{present:s||d,children:({present:f})=>a.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});eD.displayName=ZM;function tD(e,t){return`${e}-trigger-${t}`}function nD(e,t){return`${e}-content-${t}`}var RQ=KM,rD=YM,sD=XM,iD=eD;const OQ=RQ,oD=g.forwardRef(({className:e,...t},n)=>a.jsx(rD,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));oD.displayName=rD.displayName;const vh=g.forwardRef(({className:e,...t},n)=>a.jsx(sD,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));vh.displayName=sD.displayName;const yh=g.forwardRef(({className:e,...t},n)=>a.jsx(iD,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));yh.displayName=iD.displayName;function kg({icon:e,label:t,value:n,className:r,iconClassName:s}){return a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:a.jsx(ge,{className:re("transition-shadow duration-200 hover:shadow-md",r),children:a.jsxs(we,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:re("flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-brand",s),children:a.jsx(e,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),a.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const IQ=L2,MQ=U0,DQ=B0;function aD(e){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return a.jsx(Ne,{className:t[e]||t.medium,children:e})}function LQ(e){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return a.jsxs(Ne,{className:t[e]||t.medium,children:[e," impact"]})}function $Q(e){return{triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy/Rule-Based",document:"Document Workflows",glue_work:"Glue Work",research:"Repetitive Research"}[e]||e}function FQ(e){const t={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},n=t[e]||t.pending;return a.jsx(Ne,{className:n.className,children:n.label})}const UQ={generic_discovery:"Generic",technical_deep_dive:"Technical",process_efficiency:"Process",compliance_risk:"Compliance"};function VQ(e){const t={not_started:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},failed:{label:"Failed",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},n=t[e]||t.not_started;return a.jsx(Ne,{className:n.className,children:n.label})}function BQ({interviewees:e,copiedId:t,generatingAnalysisId:n,onAddClick:r,onCopyLink:s,onInviteClick:i,onGenerateAnalysis:o,onShareClick:l,onScheduleFollowUp:c,onShareInterviewClick:u}){const[d,h]=g.useState(new Set),f=p=>{h(w=>{const m=new Set(w);return m.has(p)?m.delete(p):m.add(p),m})};return e.length===0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(X,{onClick:r,children:[a.jsx(Tc,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),a.jsx(ge,{children:a.jsxs(we,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ru,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),a.jsxs(X,{onClick:r,children:[a.jsx(Tc,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(X,{onClick:r,children:[a.jsx(Tc,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),a.jsx("div",{className:"rounded-lg border",children:a.jsxs(Sl,{children:[a.jsx(jl,{children:a.jsxs(Zn,{children:[a.jsx(Fe,{className:"w-8"}),a.jsx(Fe,{children:"Name"}),a.jsx(Fe,{children:"Role"}),a.jsx(Fe,{children:"Email"}),a.jsx(Fe,{children:"Status"}),a.jsx(Fe,{children:"Interviews"}),a.jsx(Fe,{children:"Consent"}),a.jsx(Fe,{children:"Interview"}),a.jsx(Fe,{children:"Results"})]})}),a.jsx(kl,{children:e.map(p=>{const w=d.has(p.id),m=(p.total_interviews||0)>1,_=p.interviews||[];return a.jsx(IQ,{open:w,onOpenChange:()=>f(p.id),asChild:!0,children:a.jsxs(a.Fragment,{children:[a.jsxs(Zn,{className:m?"cursor-pointer hover:bg-muted/50":"",children:[a.jsx(Ie,{className:"w-8",children:m&&a.jsx(MQ,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:w?a.jsx(So,{className:"h-4 w-4"}):a.jsx(tF,{className:"h-4 w-4"})})})}),a.jsx(Ie,{className:"font-medium",children:p.name}),a.jsx(Ie,{children:p.role||"-"}),a.jsx(Ie,{children:p.email}),a.jsx(Ie,{children:FQ(p.status)}),a.jsx(Ie,{children:a.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.completed_interviews||0,"/",p.total_interviews||0]})}),a.jsx(Ie,{children:p.consent_given?a.jsx(ts,{children:a.jsxs(Kn,{children:[a.jsx(Jn,{children:a.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400",children:[a.jsx(rN,{className:"h-4 w-4"}),"Yes"]})}),a.jsx(On,{children:a.jsx("p",{children:"Privacy notice acknowledged"})})]})}):a.jsx("span",{className:"text-muted-foreground",children:""})}),a.jsx(Ie,{children:a.jsx(ts,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(Kn,{children:[a.jsx(Jn,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>s(p),children:t===p.id?a.jsx(Pu,{className:"h-4 w-4"}):a.jsx(eu,{className:"h-4 w-4"})})}),a.jsx(On,{children:a.jsx("p",{children:"Copy interview link"})})]}),(p.status==="pending"||p.status==="invited")&&a.jsxs(Kn,{children:[a.jsx(Jn,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>i(p),children:a.jsx(Jo,{className:"h-4 w-4"})})}),a.jsx(On,{children:a.jsx("p",{children:p.status==="invited"?"Re-send invite":"Send invite email"})})]}),c&&(p.completed_interviews||0)>0&&a.jsxs(Kn,{children:[a.jsx(Jn,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>c(p),children:a.jsx(_v,{className:"h-4 w-4"})})}),a.jsx(On,{children:a.jsx("p",{children:"Schedule follow-up interview"})})]})]})})}),a.jsx(Ie,{children:a.jsx(ts,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[(p.completed_interviews||0)>0&&!p.has_individual_analysis&&a.jsxs(Kn,{children:[a.jsx(Jn,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>o(p),disabled:n===p.id,children:n===p.id?a.jsx(Ue,{className:"h-4 w-4 animate-spin"}):a.jsx(Ou,{className:"h-4 w-4"})})}),a.jsx(On,{children:a.jsx("p",{children:"Generate analysis"})})]}),(p.completed_interviews||0)>0&&p.has_individual_analysis&&a.jsxs(Kn,{children:[a.jsx(Jn,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",onClick:()=>l(p),children:a.jsx(k_,{className:"h-4 w-4"})})}),a.jsx(On,{children:a.jsx("p",{children:"Share results link"})})]}),(p.completed_interviews||0)===0&&a.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})})]}),m&&a.jsx(DQ,{asChild:!0,children:a.jsx(Zn,{className:"bg-muted/30",children:a.jsx(Ie,{colSpan:9,className:"p-0",children:a.jsxs("div",{className:"px-6 py-4",children:[a.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Interview Timeline"}),c&&a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>c(p),className:"h-7 text-xs",children:[a.jsx(_v,{className:"mr-1 h-3 w-3"}),"Schedule Follow-up"]})]}),a.jsx("div",{className:"rounded-md border bg-background",children:a.jsxs(Sl,{children:[a.jsx(jl,{children:a.jsxs(Zn,{children:[a.jsx(Fe,{className:"w-16",children:"#"}),a.jsx(Fe,{children:"Type"}),a.jsx(Fe,{children:"Status"}),a.jsx(Fe,{children:"Actions"})]})}),a.jsx(kl,{children:_.map(y=>a.jsxs(Zn,{children:[a.jsxs(Ie,{className:"font-mono text-sm",children:["#",y.sequence_number]}),a.jsx(Ie,{children:a.jsx(Ne,{variant:"secondary",children:UQ[y.interview_type||"generic_discovery"]})}),a.jsx(Ie,{children:VQ(y.status)}),a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[(y.status==="not_started"||y.status==="in_progress")&&a.jsx(ts,{children:a.jsxs(Kn,{children:[a.jsx(Jn,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/discovery/interview/${y.interview_token}`)},children:a.jsx(eu,{className:"h-3 w-3"})})}),a.jsx(On,{children:a.jsx("p",{children:"Copy interview link"})})]})}),y.status==="completed"&&u&&a.jsx(ts,{children:a.jsxs(Kn,{children:[a.jsx(Jn,{asChild:!0,children:a.jsx(X,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>u(p,y),children:a.jsx(k_,{className:"h-3 w-3"})})}),a.jsx(On,{children:a.jsx("p",{children:"Share results"})})]})})]})})]},y.id))})]})})]})})})})]})},p.id)})})]})})]})}function zQ({analysis:e,loading:t,generating:n,completedCount:r,onGenerate:s,dismissedRecs:i=[],onAcceptRecommendation:o,onDismissRecommendation:l}){var u;if(t)return a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return a.jsx(ge,{children:a.jsxs(we,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Wh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:"No analysis yet"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Generate an analysis based on ",r," completed interview",r!==1?"s":"","."]}),a.jsxs(X,{onClick:s,disabled:n,children:[n?a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Wh,{className:"mr-2 h-4 w-4"}),"Generate Analysis"]})]})});const c=e.raw_output;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated ",e.generated_at?new Date(e.generated_at).toLocaleString():"recently"]})}),a.jsxs(X,{variant:"outline",size:"sm",onClick:s,disabled:n,children:[n?a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(cF,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]}),(c==null?void 0:c.recommended_follow_up_interviews)&&c.recommended_follow_up_interviews.length>0&&o&&l&&a.jsx(QQ,{recommendations:c.recommended_follow_up_interviews,dismissedRecs:i,onAccept:o,onDismiss:l}),(c==null?void 0:c.summary)&&a.jsx(qQ,{summary:c.summary}),((u=c==null?void 0:c.workflow_map)==null?void 0:u.workflows)&&c.workflow_map.workflows.length>0&&a.jsx(HQ,{workflows:c.workflow_map.workflows}),(c==null?void 0:c.automation_opportunities)&&c.automation_opportunities.length>0&&a.jsx(WQ,{opportunities:c.automation_opportunities}),(c==null?void 0:c.technical_questions)&&c.technical_questions.length>0&&a.jsx(GQ,{questions:c.technical_questions}),(c==null?void 0:c.follow_up_suggestions)&&c.follow_up_suggestions.length>0&&a.jsx(KQ,{suggestions:c.follow_up_suggestions}),(c==null?void 0:c.gaps_and_uncertainties)&&c.gaps_and_uncertainties.length>0&&a.jsx(JQ,{gaps:c.gaps_and_uncertainties})]})}function qQ({summary:e}){return a.jsxs(ge,{children:[a.jsx(ht,{children:a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(Jf,{className:"h-5 w-5"}),"Executive Summary"]})}),a.jsxs(we,{className:"space-y-4",children:[e.interviewees_analyzed&&e.interviewees_analyzed.length>0&&a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Based on interviews with:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.interviewees_analyzed.map((t,n)=>a.jsxs(Ne,{variant:"secondary",children:[t.name,t.role?` (${t.role})`:""]},n))}),e.total_interviews_pending!=null&&e.total_interviews_pending>0&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["+ ",e.total_interviews_pending," interview",e.total_interviews_pending>1?"s":""," pending"]})]}),a.jsx("p",{className:"text-muted-foreground",children:e.overall_assessment}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[a.jsx("div",{className:"text-3xl font-bold",children:e.total_workflows_identified||0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Workflows Identified"})]}),a.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[a.jsx("div",{className:"text-3xl font-bold",children:e.total_automation_opportunities||0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Automation Opportunities"})]}),a.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.high_confidence_opportunities||0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]}),e.key_themes&&e.key_themes.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Key Themes"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.key_themes.map((t,n)=>a.jsx(Ne,{variant:"secondary",children:t},n))})]}),e.recommended_priorities&&e.recommended_priorities.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Recommended Priorities"}),a.jsx("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:e.recommended_priorities.map((t,n)=>a.jsx("li",{children:t},n))})]})]})]})}function WQ({opportunities:e}){return a.jsxs(ge,{children:[a.jsxs(ht,{children:[a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(Ou,{className:"h-5 w-5"}),"Automation Opportunities"]}),a.jsx(vn,{children:"Identified areas where AI or automation could add value"})]}),a.jsx(we,{children:a.jsx(G0,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>a.jsxs(Pp,{value:`opp-${n}`,children:[a.jsx(Rp,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center gap-3 text-left",children:[a.jsx("span",{className:"font-medium",children:t.title}),a.jsxs("div",{className:"flex items-center gap-2",children:[aD(t.confidence),LQ(t.estimated_impact)]})]})}),a.jsxs(Op,{className:"space-y-4 pt-2",children:[a.jsx("p",{className:"text-muted-foreground",children:t.description}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(Ne,{variant:"outline",className:"mb-2",children:$Q(t.category)}),t.confidence_reasoning&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Confidence:"})," ",t.confidence_reasoning]}),t.impact_reasoning&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Impact:"})," ",t.impact_reasoning]})]}),a.jsxs("div",{className:"space-y-2",children:[t.affected_workflows&&t.affected_workflows.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Affected Workflows"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_workflows.join(", ")})]}),t.affected_people&&t.affected_people.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Who Benefits"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_people.join(", ")})]})]})]}),t.prerequisites&&t.prerequisites.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Prerequisites"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.prerequisites.map((r,s)=>a.jsx("li",{children:r},s))})]}),t.risks&&t.risks.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Risks"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.risks.map((r,s)=>a.jsx("li",{children:r},s))})]})]})]},n))})})]})}function HQ({workflows:e}){return a.jsxs(ge,{children:[a.jsxs(ht,{children:[a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(iN,{className:"h-5 w-5"}),"Identified Workflows"]}),a.jsx(vn,{children:"Workflows discovered during the interviews"})]}),a.jsx(we,{children:a.jsx(G0,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>a.jsxs(Pp,{value:`workflow-${n}`,children:[a.jsx(Rp,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center gap-3 text-left",children:[a.jsx("span",{className:"font-medium",children:t.name}),t.frequency&&a.jsxs(Ne,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(Oo,{className:"h-3 w-3"}),t.frequency]})]})}),a.jsxs(Op,{className:"space-y-4 pt-2",children:[a.jsx("p",{className:"text-muted-foreground",children:t.description}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[t.owner&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Owner"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.owner})]}),t.estimated_time&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Typical Duration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.estimated_time})]}),t.systems_used&&t.systems_used.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Systems Used"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.systems_used.map((r,s)=>a.jsx(Ne,{variant:"secondary",className:"text-xs",children:r},s))})]})]}),t.components&&a.jsxs("div",{className:"space-y-3 text-sm border rounded-lg p-4 bg-muted/30",children:[a.jsx("h4",{className:"font-medium text-base",children:"SIMPLE Breakdown"}),t.components.triggers&&t.components.triggers.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Signal (Triggers):"}),a.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.triggers.join(", ")})]}),t.components.inputs&&t.components.inputs.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Inputs:"}),a.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.inputs.join(", ")})]}),t.components.transformations&&t.components.transformations.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Make (Work Done):"}),a.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.transformations.join(", ")})]}),t.components.decisions&&t.components.decisions.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Pick (Decisions):"}),a.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.decisions.join(", ")})]}),t.components.outputs&&t.components.outputs.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Land (Outputs):"}),a.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.outputs.join(", ")})]}),t.components.checks&&t.components.checks.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Examine (Quality Checks):"}),a.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.checks.join(", ")})]})]})]}),t.pain_points&&t.pain_points.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Pain Points"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.pain_points.map((r,s)=>a.jsx("li",{children:r},s))})]})]})]},n))})})]})}function GQ({questions:e}){return a.jsxs(ge,{children:[a.jsxs(ht,{children:[a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(rF,{className:"h-5 w-5"}),"Technical Questions"]}),a.jsx(vn,{children:"Questions that need answers before proceeding"})]}),a.jsx(we,{children:a.jsx("div",{className:"space-y-4",children:e.map((t,n)=>a.jsxs("div",{className:"border-l-2 border-muted-foreground/20 pl-4 py-2",children:[a.jsx("p",{className:"font-medium",children:t.question}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.context}),t.suggested_stakeholder&&a.jsxs("p",{className:"text-sm mt-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ask:"})," ",a.jsx(Ne,{variant:"outline",children:t.suggested_stakeholder})]})]},n))})})]})}function KQ({suggestions:e}){return a.jsxs(ge,{children:[a.jsx(ht,{children:a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"h-5 w-5"}),"Suggested Follow-ups"]})}),a.jsx(we,{children:a.jsx("div",{className:"space-y-3",children:e.map((t,n)=>a.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:t.description}),aD(t.priority)]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.reason}),t.suggested_participants&&t.suggested_participants.length>0&&a.jsxs("p",{className:"text-sm mt-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Participants:"})," ",t.suggested_participants.join(", ")]})]})},n))})})]})}function JQ({gaps:e}){return a.jsxs(ge,{children:[a.jsx(ht,{children:a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(Is,{className:"h-5 w-5"}),"Gaps & Uncertainties"]})}),a.jsx(we,{children:a.jsx("div",{className:"space-y-3",children:e.map((t,n)=>a.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-4 py-2",children:[a.jsx("p",{className:"font-medium",children:t.description}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Impact:"})," ",t.impact]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Resolution:"})," ",t.suggested_resolution]})]},n))})})]})}const YQ={generic_discovery:"Generic Discovery",technical_deep_dive:"Technical Deep-Dive",process_efficiency:"Process Efficiency",compliance_risk:"Compliance & Risk"};function QQ({recommendations:e,dismissedRecs:t,onAccept:n,onDismiss:r}){return e.filter((i,o)=>!t.includes(String(o))).length===0?null:a.jsxs(ge,{className:"border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-950/20",children:[a.jsxs(ht,{children:[a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(E_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Recommended Follow-Up Interviews"]}),a.jsx(vn,{children:"The analysis identified gaps that may benefit from additional interviews"})]}),a.jsx(we,{className:"space-y-4",children:e.map((i,o)=>t.includes(String(o))?null:a.jsxs("div",{className:"border rounded-lg p-4 bg-background",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ne,{className:i.significance==="high"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:[i.significance," priority"]}),a.jsx(Ne,{variant:"outline",children:YQ[i.recommended_template]||i.recommended_template})]}),a.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",onClick:()=>r(o),title:"Dismiss recommendation",children:a.jsx(dl,{className:"h-4 w-4"})})]}),i.gaps_addressed&&i.gaps_addressed.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:"Gaps to Address:"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:i.gaps_addressed.map((l,c)=>a.jsx("li",{children:l},c))})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:i.template_rationale}),i.suggested_interviewee&&a.jsxs("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:"Suggested Interviewee:"}),(i.suggested_interviewee.recommendation==="original"||i.suggested_interviewee.recommendation==="either")&&i.suggested_interviewee.original_name?a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:i.suggested_interviewee.original_name}),i.suggested_interviewee.original_rationale&&` - ${i.suggested_interviewee.original_rationale}`]}):null,(i.suggested_interviewee.recommendation==="other"||i.suggested_interviewee.recommendation==="either")&&i.suggested_interviewee.alternative_suggestion&&a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.jsx("strong",{children:"Alternative:"})," ",i.suggested_interviewee.alternative_suggestion,i.suggested_interviewee.alternative_rationale&&` - ${i.suggested_interviewee.alternative_rationale}`]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm font-medium mb-1",children:"Suggested Pre-Brief Context:"}),a.jsx("pre",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg whitespace-pre-wrap font-sans max-h-32 overflow-y-auto",children:i.suggested_pre_brief_context})]}),a.jsxs(X,{onClick:()=>n(i,o),className:"w-full",children:[a.jsx(E_,{className:"mr-2 h-4 w-4"}),"Accept & Review..."]})]},o))})]})}const Vd=2e3;function XQ({open:e,onOpenChange:t,form:n,onFormChange:r,onSubmit:s,saving:i}){const o=_f[n.interviewType];return a.jsx(Uo,{open:e,onOpenChange:t,children:a.jsxs($i,{className:"max-w-lg",children:[a.jsxs(Vo,{children:[a.jsx(zo,{children:"Add Interviewee"}),a.jsx(El,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Re,{children:"Name *"}),a.jsx(Je,{value:n.name,onChange:l=>r({...n,name:l.target.value}),placeholder:"John Smith",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Re,{children:"Email *"}),a.jsx(Je,{type:"email",value:n.email,onChange:l=>r({...n,email:l.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Re,{children:"Role (optional)"}),a.jsx(Je,{value:n.role,onChange:l=>r({...n,role:l.target.value}),placeholder:"Operations Manager",className:"mt-1"})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Re,{children:"Interview Type"}),a.jsx(ts,{children:a.jsxs(Kn,{children:[a.jsx(Jn,{children:a.jsx(qh,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(On,{className:"max-w-xs",children:a.jsx("p",{children:"Choose the interview focus. This changes what Sophie asks about during the conversation."})})]})})]}),a.jsxs(X0,{value:n.interviewType,onValueChange:l=>r({...n,interviewType:l}),children:[a.jsx(Lp,{className:"w-full",children:a.jsx(Z0,{placeholder:"Select interview type"})}),a.jsx($p,{children:Object.entries(_f).map(([l,{name:c}])=>a.jsx(Fp,{value:l,children:c},l))})]}),o&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:o.description})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Re,{children:"Pre-Brief Context (optional)"}),a.jsx(ts,{children:a.jsxs(Kn,{children:[a.jsx(Jn,{children:a.jsx(qh,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(On,{className:"max-w-xs",children:a.jsx("p",{children:"Provide context Sophie should know before the interview: focus areas, known facts, or specific gaps to fill."})})]})})]}),a.jsx(Mu,{value:n.preBriefContext,onChange:l=>{const c=l.target.value.slice(0,Vd);r({...n,preBriefContext:c})},placeholder:"E.g., This is a follow-up interview. Focus on: tech stack details, data flow between AdWords API and Power BI. Known: Uses scheduled API calls. Gaps: What transformation happens mid-process?",className:"min-h-[100px]",maxLength:Vd}),a.jsxs("div",{className:"flex justify-between items-center mt-1.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Sophie will treat this as facts and focus areas. Leave empty for a standard discovery conversation."}),a.jsxs("p",{className:`text-xs ${n.preBriefContext.length>=Vd?"text-destructive":"text-muted-foreground"}`,children:[n.preBriefContext.length,"/",Vd]})]})]})]}),a.jsxs(Bo,{children:[a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(X,{onClick:s,disabled:i||!n.name||!n.email,children:[i?a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})})}function ZQ({open:e,onOpenChange:t,interviewee:n,copiedId:r,onCopyLink:s,onMarkInvited:i,getInterviewLink:o}){if(!n)return null;const l=Z2(n),c=eM(n),u=c==null?void 0:c.token_expires_at,d=u?Math.ceil((new Date(u).getTime()-Date.now())/(1e3*60*60*24)):7;if(!l)return a.jsx(Uo,{open:e,onOpenChange:t,children:a.jsxs($i,{children:[a.jsxs(Vo,{children:[a.jsx(zo,{children:"No Active Interview"}),a.jsxs(El,{children:["There is no active interview for ",n.name,". All interviews may have been completed."]})]}),a.jsx(Bo,{children:a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})});const h=()=>{s(n),i(n)},f=()=>{const p=encodeURIComponent(`${n.name} - Your Discovery Conversation`),w=encodeURIComponent(`Hi ${n.name},

I hope this finds you well.

As part of our Discovery work, I'd love to have a short conversation with you about your role and how you spend your time. The aim is to understand where automation might genuinely help - freeing you up for the work that actually needs your brain and judgement.

To get the most from your session, take 5 minutes beforehand to think about:
- What triggers the work you do
- The steps you take to complete it
- What information you need
- Decisions you make (and how you make them)
- What's slow, frustrating, or repetitive

Having a specific recent example in mind really helps.

Here's the thing: you know your job better than anyone, so this is really a collaborative chat rather than an interrogation. I'll walk you through a simple framework and then we'll map out your workflows together.

When you're ready, click the link below to start:
${o(l)}

It takes around 20-30 minutes, and there are no wrong answers - I'm just trying to understand how things actually work.

If you have any questions before we start, just drop me a note.

Looking forward to it,

---
Privacy Notice: https://discovery.goagentflow.com/discovery/privacy
If you are an interviewee, your organisation is the controller of your interview data.`);window.open(`mailto:${n.email}?subject=${p}&body=${w}`),i(n)};return a.jsx(Uo,{open:e,onOpenChange:t,children:a.jsxs($i,{className:"sm:max-w-lg",children:[a.jsxs(Vo,{children:[a.jsx(zo,{children:"Send Interview Invite"}),a.jsxs(El,{children:["Choose how to invite ",n.name," to their interview session."]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx(Re,{className:"text-sm font-medium",children:"Interview Link"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx(Je,{readOnly:!0,value:o(l),className:"font-mono text-sm"}),a.jsx(X,{variant:"outline",size:"icon",onClick:()=>s(n),children:r===n.id?a.jsx(Pu,{className:"h-4 w-4"}):a.jsx(eu,{className:"h-4 w-4"})})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Link expires in ",d," day",d!==1?"s":""]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:h,children:a.jsxs(we,{className:"flex items-center gap-4 p-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:a.jsx(QT,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),a.jsx(tu,{className:"h-4 w-4 text-muted-foreground"})]})}),a.jsx(ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:f,children:a.jsxs(we,{className:"flex items-center gap-4 p-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:a.jsx(Jo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:"Open in Email Client"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),a.jsx(tu,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),a.jsx(Bo,{children:a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function eX({open:e,onOpenChange:t,interviewee:n,interview:r,resultsToken:s,loading:i,onCopyLink:o,getResultsLink:l}){const c=()=>{o(),t(!1)},u=!!r;u&&`${r==null?void 0:r.sequence_number}`;const d=()=>{if(n&&s){const h=encodeURIComponent(u?`${n.name} - Interview #${r==null?void 0:r.sequence_number} Insights`:`${n.name} - Your Discovery Insights`),f=encodeURIComponent(`Hi ${n.name},

I wanted to say thank you again for taking the time to walk us through your work - I really appreciate you carving out that time.

I've now had a chance to analyse everything we discussed and pull together some insights specifically for you. The aim here isn't to tell you what to do - you know your job far better than I ever will - but to shine a light on where automation might genuinely free you up for the work that actually needs your brain and judgement.

I hope you find it useful:
${l(s)}

If anything doesn't make sense or you'd like to dig deeper into any of the findings, just drop me a note - I'm always happy to chat it through.

Best,

---
Privacy Notice: https://discovery.goagentflow.com/discovery/privacy
If you are an interviewee, your organisation is the controller of your interview data.`);window.open(`mailto:${n.email}?subject=${h}&body=${f}`),t(!1)}};return a.jsx(Uo,{open:e,onOpenChange:t,children:a.jsxs($i,{className:"sm:max-w-lg",children:[a.jsxs(Vo,{children:[a.jsxs(zo,{className:"flex items-center gap-2",children:["Share Results",u&&a.jsxs(Ne,{variant:"secondary",className:"text-xs",children:["Interview #",r==null?void 0:r.sequence_number]})]}),a.jsx(El,{children:u?`Share the analysis from interview #${r==null?void 0:r.sequence_number} with ${n==null?void 0:n.name}.`:`Share the personalised analysis results with ${n==null?void 0:n.name}.`})]}),a.jsx("div",{className:"space-y-4 py-4",children:i?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Re,{className:"text-sm font-medium",children:"Results Link"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx(Je,{readOnly:!0,value:l(s),className:"font-mono text-sm"}),a.jsx(X,{variant:"outline",size:"icon",onClick:o,children:a.jsx(eu,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 30 days"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:c,children:a.jsxs(we,{className:"flex items-center gap-4 p-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:a.jsx(eu,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:"Copy Link"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the results link to share manually"})]})]})}),a.jsx(ge,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:d,children:a.jsxs(we,{className:"flex items-center gap-4 p-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:a.jsx(Jo,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:"Open in Email Client"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send results via email to ",n==null?void 0:n.email]})]}),a.jsx(tu,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}):a.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Unable to load results link. The analysis may not be ready yet."})}),a.jsx(Bo,{children:a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}const Bd=2e3;function tX({open:e,onOpenChange:t,interviewee:n,form:r,onFormChange:s,onSubmit:i,saving:o}){if(!n)return null;const l=_f[r.interviewType],c=(n.total_interviews||0)+1;return a.jsx(Uo,{open:e,onOpenChange:t,children:a.jsxs($i,{className:"max-w-lg",children:[a.jsxs(Vo,{children:[a.jsxs(zo,{className:"flex items-center gap-2",children:[a.jsx(_v,{className:"h-5 w-5"}),"Schedule Follow-up Interview"]}),a.jsxs(El,{children:["Schedule interview #",c," for ",n.name,n.role&&` (${n.role})`]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Re,{children:"Interview Type"}),a.jsx(ts,{children:a.jsxs(Kn,{children:[a.jsx(Jn,{children:a.jsx(qh,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(On,{className:"max-w-xs",children:a.jsx("p",{children:"Choose the interview focus. This changes what Sophie asks about during the conversation."})})]})})]}),a.jsxs(X0,{value:r.interviewType,onValueChange:u=>s({...r,interviewType:u}),children:[a.jsx(Lp,{className:"w-full",children:a.jsx(Z0,{placeholder:"Select interview type"})}),a.jsx($p,{children:Object.entries(_f).map(([u,{name:d}])=>a.jsx(Fp,{value:u,children:d},u))})]}),l&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:l.description})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Re,{children:"Pre-Brief Context"}),a.jsx(ts,{children:a.jsxs(Kn,{children:[a.jsx(Jn,{children:a.jsx(qh,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(On,{className:"max-w-xs",children:a.jsx("p",{children:"Provide context Sophie should know: gaps from previous interviews, specific topics to explore, or areas needing clarification."})})]})})]}),a.jsx(Mu,{value:r.preBriefContext,onChange:u=>{const d=u.target.value.slice(0,Bd);s({...r,preBriefContext:d})},placeholder:"E.g., This is a follow-up to dig deeper into the reporting workflow. Gaps identified: unclear data transformation steps, need to understand who approves exceptions. Focus on: the hand-off between Finance and Ops teams.",className:"min-h-[120px]",maxLength:Bd}),a.jsxs("div",{className:"flex justify-between items-center mt-1.5",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Sophie will use this context to guide the follow-up conversation."}),a.jsxs("p",{className:`text-xs ${r.preBriefContext.length>=Bd?"text-destructive":"text-muted-foreground"}`,children:[r.preBriefContext.length,"/",Bd]})]})]})]}),a.jsxs(Bo,{children:[a.jsx(X,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(X,{onClick:i,disabled:o,children:[o?a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Schedule Interview"]})]})]})})}function nX(){const{id:e}=Ml(),{toast:t}=Bi(),[n,r]=g.useState(null),[s,i]=g.useState(null),[o,l]=g.useState([]),[c,u]=g.useState(!0),[d,h]=g.useState(null),[f,p]=g.useState(!1),[w,m]=g.useState(!1),[_,y]=g.useState(!1),[x,b]=g.useState(!1),[S,E]=g.useState(!1),[C,T]=g.useState(!1),[R,O]=g.useState(null),[D,A]=g.useState(null),[M,q]=g.useState(null),[F,Z]=g.useState(null),[U,B]=g.useState(null),[I,$]=g.useState(!1),[K,ie]=g.useState({name:"",email:"",role:"",interviewType:"generic_discovery",preBriefContext:""}),[Y,v]=g.useState({interviewType:"generic_discovery",preBriefContext:""}),[k,j]=g.useState(!1),[P,N]=g.useState(!1),[L,z]=g.useState(null),[V,G]=g.useState(null),[ee,he]=g.useState([]);g.useEffect(()=>{Ve()},[e]),g.useEffect(()=>{const te=d==null?void 0:d.id;if(!te||!e){he([]);return}const Oe=localStorage.getItem(`dismissed_recs_${e}_${te}`);he(Oe?JSON.parse(Oe):[])},[e,d==null?void 0:d.id]),g.useEffect(()=>{const te=d==null?void 0:d.id;!te||!e||localStorage.setItem(`dismissed_recs_${e}_${te}`,JSON.stringify(ee))},[e,d==null?void 0:d.id,ee]);async function Ve(){if(!e)return;u(!0);const{project:te,org:Oe,interviewees:Ze,error:sn}=await Gk(e);if(sn){t({title:"Error",description:sn,variant:"destructive"}),u(!1);return}r(te),i(Oe),l(Ze),u(!1)}const St=te=>`${window.location.origin}/discovery/interview/${te}`,gt=te=>`${window.location.origin}/discovery/results/${te}`,Le=te=>{const Oe=Z2(te);if(!Oe){t({title:"Error",description:"No active interview found",variant:"destructive"});return}navigator.clipboard.writeText(St(Oe)),z(te.id),t({title:"Link copied!"}),setTimeout(()=>z(null),2e3)},st=async te=>{eM(te)?await Kk(te.id):await Kk(te.id),t({title:"Marked as invited"}),Ve()},Ct=async()=>{if(!n||!K.name||!K.email)return;j(!0);const{interviewee:te,interview:Oe,error:Ze}=await TY(n.id,n.org_id,K.name,K.email,K.role||void 0,K.interviewType,K.preBriefContext||void 0);if(Ze||!te){t({title:"Error",description:Ze||"Failed to add interviewee",variant:"destructive"}),j(!1);return}t({title:"Interviewee added!",description:`${K.name} has been added to the project.`}),ie({name:"",email:"",role:"",interviewType:"generic_discovery",preBriefContext:""}),y(!1),j(!1);const sn={...te,total_interviews:1,completed_interviews:0,interviews:Oe?[Oe]:[]};O(sn),b(!0),Ve()},Tn=async()=>{if(!D)return;N(!0);const{interview:te,error:Oe}=await AY(D.id,Y.interviewType,Y.preBriefContext||void 0);if(Oe||!te){t({title:"Error",description:Oe||"Failed to schedule follow-up",variant:"destructive"}),N(!1);return}t({title:"Follow-up scheduled!",description:`Interview #${te.sequence_number} scheduled for ${D.name}.`}),v({interviewType:"generic_discovery",preBriefContext:""}),T(!1),N(!1),await Ve();const{interviewees:Ze}=await Gk(e),sn=Ze.find(Wl=>Wl.id===D.id);sn&&(O(sn),b(!0))},rn=(te,Oe,Ze)=>{A(te),v({interviewType:Ze||"generic_discovery",preBriefContext:Oe||""}),T(!0)},Nn=async()=>{if(!e)return;p(!0);const{analysis:te,error:Oe}=await OY(e);Oe?t({title:"Error loading analysis",description:Oe,variant:"destructive"}):h(te),p(!1)},$t=async()=>{if(!e)return;m(!0);const{error:te}=await IY(e);te?t({title:"Error generating analysis",description:te,variant:"destructive"}):(t({title:"Analysis generated!",description:"The analysis has been updated."}),Nn()),m(!1)},ps=async te=>{G(te.id);const{error:Oe}=await MY(te.id);if(Oe){t({title:"Error",description:Oe,variant:"destructive"}),G(null);return}t({title:"Analysis generated!",description:`Analysis for ${te.name} is ready.`}),G(null),Ve()},Bs=async te=>{q(te),Z(null),E(!0),$(!0),B(null);const{resultsToken:Oe,error:Ze}=await DY(te.id);if(Ze){t({title:"Error",description:Ze,variant:"destructive"}),$(!1);return}B(Oe),$(!1)},It=async(te,Oe)=>{q(te),Z(Oe),E(!0),$(!0),B(null);const{resultsToken:Ze,error:sn}=await LY(Oe.id);if(sn){t({title:"Error",description:sn,variant:"destructive"}),$(!1);return}B(Ze),$(!1)},dr=()=>{U&&(navigator.clipboard.writeText(gt(U)),t({title:"Results link copied!"}))},Xo=(te,Oe)=>{const Ze=te.suggested_interviewee,sn=Ze!=null&&Ze.interviewee_id?o.find(Wl=>Wl.id===Ze.interviewee_id):null;sn?rn(sn,te.suggested_pre_brief_context||"",te.recommended_template||"generic_discovery"):(ie({name:"",email:"",role:"",interviewType:te.recommended_template||"generic_discovery",preBriefContext:te.suggested_pre_brief_context||""}),y(!0))},ql=te=>{he(Oe=>[...Oe,String(te)])},zs=te=>{te==="analysis"&&!d&&!f&&Nn()};if(c)return a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!n)return a.jsx("div",{className:"p-6",children:a.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const ce=o.filter(te=>(te.completed_interviews||0)>0).length,ue=o.filter(te=>te.status==="pending"||te.status==="invited").length;return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-2",children:[a.jsx("h1",{className:"text-2xl font-bold",children:n.name}),a.jsxs("p",{className:"text-muted-foreground",children:[s==null?void 0:s.name,"  Created ",new Date(n.created_at).toLocaleDateString()]})]}),a.jsxs(OQ,{defaultValue:"interviewees",className:"mt-6",onValueChange:zs,children:[a.jsxs(oD,{className:"mb-6",children:[a.jsx(vh,{value:"interviewees",children:"Interviewees"}),a.jsx(vh,{value:"overview",children:"Overview"}),a.jsx(vh,{value:"analysis",disabled:ce===0,children:"Analysis"})]}),a.jsx(yh,{value:"overview",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(kg,{icon:Ru,label:"Total Interviewees",value:o.length}),a.jsx(kg,{icon:ul,label:"Completed",value:ce}),a.jsx(kg,{icon:XT,label:"Pending",value:ue})]})}),a.jsx(yh,{value:"interviewees",children:a.jsx(BQ,{interviewees:o,copiedId:L,generatingAnalysisId:V,onAddClick:()=>y(!0),onCopyLink:Le,onInviteClick:te=>{O(te),b(!0)},onGenerateAnalysis:ps,onShareClick:Bs,onScheduleFollowUp:te=>rn(te),onShareInterviewClick:It})}),a.jsx(yh,{value:"analysis",children:a.jsx(zQ,{analysis:d,loading:f,generating:w,completedCount:ce,onGenerate:$t,dismissedRecs:ee,onAcceptRecommendation:Xo,onDismissRecommendation:ql})})]}),a.jsx(XQ,{open:_,onOpenChange:y,form:K,onFormChange:ie,onSubmit:Ct,saving:k}),a.jsx(ZQ,{open:x,onOpenChange:b,interviewee:R,copiedId:L,onCopyLink:Le,onMarkInvited:st,getInterviewLink:St}),a.jsx(eX,{open:S,onOpenChange:E,interviewee:M,interview:F,resultsToken:U,loading:I,onCopyLink:dr,getResultsLink:gt}),a.jsx(tX,{open:C,onOpenChange:T,interviewee:D,form:Y,onFormChange:v,onSubmit:Tn,saving:P})]})}function rX(){const{toast:e}=Bi(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),a.jsxs("div",{className:"max-w-2xl space-y-6",children:[a.jsxs(ge,{children:[a.jsxs(ht,{children:[a.jsx(ft,{children:"Voice Platform"}),a.jsx(vn,{children:"Configure your Vapi integration"})]}),a.jsxs(we,{children:[a.jsx(Re,{htmlFor:"vapi",children:"Vapi API Key"}),a.jsx(Je,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),a.jsxs(ge,{children:[a.jsxs(ht,{children:[a.jsx(ft,{children:"LLM"}),a.jsx(vn,{children:"Configure your AI provider"})]}),a.jsxs(we,{children:[a.jsx(Re,{htmlFor:"anthropic",children:"Anthropic API Key"}),a.jsx(Je,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),a.jsxs(ge,{children:[a.jsxs(ht,{children:[a.jsx(ft,{children:"Admin Users"}),a.jsx(vn,{children:"Manage who can access this dashboard"})]}),a.jsxs(we,{children:[a.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"admin@example.com"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),a.jsx(X,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),a.jsx(X,{onClick:t,children:"Save Settings"})]})]})}function lD({score:e}){return e===null?a.jsx(Ne,{variant:"secondary",children:"-"}):e>=8?a.jsxs(Ne,{className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:[e,"/10"]}):e>=5?a.jsxs(Ne,{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:[e,"/10"]}):a.jsxs(Ne,{className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:[e,"/10"]})}const Jk={started:{label:"Started",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},quiz_in_progress:{label:"Quiz",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},awaiting_interview:{label:"Quiz Done",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},interview_in_progress:{label:"Chatting",className:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},abandoned:{label:"Abandoned",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"},expired:{label:"Expired",className:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400"}};function cD({status:e}){const t=Jk[e]||Jk.started;return a.jsx(Ne,{className:t.className,children:t.label})}function sX(){const[e,t]=g.useState(""),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,l]=g.useState(!1),{toast:c}=Bi();g.useEffect(()=>{u()},[]);async function u(){i(!0);const{leads:w,error:m}=await tM();if(m){console.error("Error loading assessments:",m),c({title:"Error",description:m||"Failed to load assessment leads",variant:"destructive"}),i(!1);return}r(w),i(!1)}const d=n.filter(w=>{var m,_;return w.name.toLowerCase().includes(e.toLowerCase())||w.email.toLowerCase().includes(e.toLowerCase())||((m=w.company_name)==null?void 0:m.toLowerCase().includes(e.toLowerCase()))||((_=w.job_title)==null?void 0:_.toLowerCase().includes(e.toLowerCase()))}),h=w=>{var m,_;return((m=w.latest_session)==null?void 0:m.workflow_focus_custom)||((_=w.latest_session)==null?void 0:_.workflow_focus_label)||"-"},f=w=>{var _,y;const m=((_=w.latest_interview)==null?void 0:_.results_token)||((y=w.latest_interview)==null?void 0:y.interview_token);return m?`/discovery/assess/results/${m}`:null},p=async()=>{if(n.length===0){c({title:"No data to export",description:"There are no assessment leads to export.",variant:"destructive"});return}l(!0);const{csvContent:w,filename:m,error:_}=await FY();if(_||!w){c({title:"Export failed",description:_||"Failed to export assessment leads",variant:"destructive"}),l(!1);return}const y=new Blob([w],{type:"text/csv;charset=utf-8;"}),x=URL.createObjectURL(y),b=document.createElement("a");b.setAttribute("href",x),b.setAttribute("download",m||"assessment-leads.csv"),document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(x),c({title:"Export complete",description:`Exported ${n.length} leads to CSV.`}),l(!1)};return s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Quiz Leads"}),a.jsx("p",{className:"text-muted-foreground",children:"Leads from the AI Readiness Quiz"})]}),a.jsxs(X,{onClick:p,disabled:n.length===0||o,children:[o?a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(eN,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]}),a.jsxs("div",{className:"mb-4 max-w-sm relative",children:[a.jsx(Kf,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(Je,{placeholder:"Search by name, email, company...",value:e,onChange:w=>t(w.target.value),className:"pl-9"})]}),d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ru,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:"No quiz leads yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Leads will appear here when people complete the AI Readiness Quiz"})]}):a.jsx("div",{className:"rounded-lg border",children:a.jsxs(Sl,{children:[a.jsx(jl,{children:a.jsxs(Zn,{children:[a.jsx(Fe,{children:"Name"}),a.jsx(Fe,{children:"Company"}),a.jsx(Fe,{children:"Title"}),a.jsx(Fe,{children:"Score"}),a.jsx(Fe,{children:"Workflow"}),a.jsx(Fe,{children:"Status"}),a.jsx(Fe,{children:"Date"}),a.jsx(Fe,{})]})}),a.jsx(kl,{children:d.map(w=>a.jsxs(Zn,{children:[a.jsx(Ie,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:w.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.email})]})}),a.jsx(Ie,{children:w.company_name||"-"}),a.jsx(Ie,{children:w.job_title||"-"}),a.jsx(Ie,{children:a.jsx(lD,{score:w.assessment_score})}),a.jsx(Ie,{className:"max-w-[150px] truncate",title:h(w),children:h(w)}),a.jsx(Ie,{children:a.jsx(cD,{status:w.display_status})}),a.jsx(Ie,{children:new Date(w.created_at).toLocaleDateString()}),a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(X,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(ke,{to:`/admin/assessments/${w.id}`,children:[a.jsx(iF,{className:"h-4 w-4 mr-1"}),"View"]})}),f(w)&&a.jsx(X,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx("a",{href:f(w),target:"_blank",rel:"noopener noreferrer",children:a.jsx(tu,{className:"h-4 w-4"})})})]})})]},w.id))})]})}),n.length>0&&a.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Showing ",d.length," of ",n.length," leads",a.jsxs("span",{className:"ml-2",children:[" ",d.filter(w=>w.display_status==="completed").length," completed"]})]})]})}const iX={q1:"Do you have documented processes for your core workflows?",q2:"Do you have repetitive tasks that take your team 5+ hours per week?",q3:"Is your business data mostly digital (not paper-based)?",q4:"Do you have someone responsible for technology decisions?",q5:"Have you already tried any AI tools (ChatGPT, Copilot, etc.)?",q6:"Do you know which tasks you'd want AI to handle first?",q7:"Does your team have capacity to learn new tools?",q8:"Do you have budget allocated for technology improvements this year?",q9:"Are your team's decisions mostly rule-based (vs gut feel)?",q10:"Do you measure how long key tasks take?"};function oX(){const{leadId:e}=Ml(),[t,n]=g.useState(!0),[r,s]=g.useState(null),{toast:i}=Bi();g.useEffect(()=>{e&&o()},[e]);async function o(){n(!0);const{data:y,error:x}=await UY(e);if(x){i({title:"Error",description:x,variant:"destructive"}),n(!1);return}s(y),n(!1)}const l=()=>{var x,b;const y=((x=r==null?void 0:r.interview)==null?void 0:x.results_token)||((b=r==null?void 0:r.interview)==null?void 0:b.interview_token);return y?`/discovery/assess/results/${y}`:null},c=y=>{if(!y)return"-";const x=Math.floor(y/60),b=y%60;return`${x}m ${b}s`};if(t)return a.jsx("div",{className:"flex items-center justify-center p-12",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!r)return a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Lead not found"}),a.jsx(X,{variant:"ghost",asChild:!0,className:"mt-4",children:a.jsxs(ke,{to:"/admin/assessments",children:[a.jsx(cl,{className:"mr-2 h-4 w-4"}),"Back to Quiz Leads"]})})]});const{lead:u,session:d,quiz:h,interview:f,transcript:p,analysis:w,display_status:m}=r,_=(d==null?void 0:d.workflow_focus_custom)||(d==null?void 0:d.workflow_focus_label)||"Not selected";return a.jsxs("div",{className:"p-6 max-w-5xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(X,{variant:"ghost",size:"sm",asChild:!0,className:"mb-4",children:a.jsxs(ke,{to:"/admin/assessments",children:[a.jsx(cl,{className:"mr-2 h-4 w-4"}),"Back to Quiz Leads"]})}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:u.name}),a.jsxs("p",{className:"text-muted-foreground",children:[u.company_name||"No company","  ",u.job_title||"No title"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lD,{score:u.assessment_score}),a.jsx(cD,{status:m}),l()&&a.jsx(X,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs("a",{href:l(),target:"_blank",rel:"noopener noreferrer",children:[a.jsx(tu,{className:"mr-2 h-4 w-4"}),"View Results Page"]})})]})]})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(ge,{children:[a.jsx(ht,{className:"pb-3",children:a.jsxs(ft,{className:"text-lg flex items-center gap-2",children:[a.jsx(sN,{className:"h-5 w-5"}),"Contact Information"]})}),a.jsxs(we,{children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:u.email})]}),u.phone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nN,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:u.phone})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(YT,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:u.company_name||"-"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(eF,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:u.job_title||"-"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(QT,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm",children:["Started ",new Date(u.created_at).toLocaleDateString()]})]}),(f==null?void 0:f.duration_seconds)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oo,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm",children:["Chat duration: ",c(f.duration_seconds)]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Workflow Focus"}),a.jsx("p",{className:"font-medium",children:_})]})]})]}),a.jsxs(ge,{children:[a.jsxs(ht,{className:"pb-3",children:[a.jsxs(ft,{className:"text-lg flex items-center gap-2",children:[a.jsx(Dr,{className:"h-5 w-5"}),"Quiz Responses",h&&a.jsxs(Ne,{variant:"secondary",className:"ml-2",children:[h.score,"/10"]})]}),a.jsx(vn,{children:"AI Readiness Assessment answers"})]}),a.jsx(we,{children:h!=null&&h.responses?a.jsx("div",{className:"space-y-3",children:Object.entries(iX).map(([y,x])=>{const b=h.responses[y];return a.jsxs("div",{className:"flex items-start gap-3 py-2 border-b last:border-0",children:[b===!0?a.jsx(Dr,{className:"h-5 w-5 text-green-600 mt-0.5 shrink-0"}):b===!1?a.jsx(ZT,{className:"h-5 w-5 text-red-500 mt-0.5 shrink-0"}):a.jsx("div",{className:"h-5 w-5 rounded-full bg-muted mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm",children:x})]},y)})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Quiz not completed yet"})})]}),a.jsxs(ge,{children:[a.jsxs(ht,{className:"pb-3",children:[a.jsxs(ft,{className:"text-lg flex items-center gap-2",children:[a.jsx(ul,{className:"h-5 w-5"}),"Chat Transcript"]}),a.jsx(vn,{children:"Conversation with Sophie about their workflow"})]}),a.jsx(we,{children:p&&p.length>0?a.jsx("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:p.map((y,x)=>a.jsx("div",{className:`flex gap-3 ${y.role==="assistant"?"":"justify-end"}`,children:a.jsxs("div",{className:`rounded-lg px-4 py-2 max-w-[80%] ${y.role==="assistant"?"bg-muted":"bg-primary text-primary-foreground"}`,children:[a.jsx("p",{className:"text-xs font-medium mb-1 opacity-70",children:y.role==="assistant"?"Sophie":"Lead"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:y.content})]})},x))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No transcript available - chat not started or in progress"})})]}),a.jsxs(ge,{children:[a.jsxs(ht,{className:"pb-3",children:[a.jsxs(ft,{className:"text-lg flex items-center gap-2",children:[a.jsx(Wh,{className:"h-5 w-5"}),"Analysis & Insights"]}),a.jsx(vn,{children:"AI-generated insights from the conversation"})]}),a.jsx(we,{children:w!=null&&w.output?a.jsxs("div",{className:"space-y-4",children:[w.output.workflow_summary&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Workflow Summary"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.output.workflow_summary})]}),w.output.current_pain_points&&w.output.current_pain_points.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Pain Points Identified"}),a.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:w.output.current_pain_points.map((y,x)=>a.jsx("li",{children:y},x))})]}),w.output.automation_opportunities&&w.output.automation_opportunities.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Automation Opportunities"}),a.jsx("div",{className:"space-y-3",children:w.output.automation_opportunities.map((y,x)=>a.jsxs("div",{className:"border rounded-lg p-3",children:[a.jsx("p",{className:"font-medium text-sm",children:y.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:y.description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[y.time_to_value&&a.jsx(Ne,{variant:"outline",className:"text-xs",children:y.time_to_value}),y.confidence&&a.jsxs(Ne,{variant:"secondary",className:"text-xs",children:[y.confidence," confidence"]})]})]},x))})]}),w.output.recommended_next_step&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Recommended Next Step"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.output.recommended_next_step})]}),a.jsxs("p",{className:"text-xs text-muted-foreground pt-2 border-t",children:["Generated ",new Date(w.generated_at).toLocaleString()]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:(f==null?void 0:f.status)==="completed"?"Analysis pending - will be generated shortly":"Analysis not available - interview not completed yet"})})]})]})]})}const aX=[{icon:oF,label:"Dashboard",href:"/admin/dashboard"},{icon:Ru,label:"Client Projects",href:"/admin/projects"},{icon:Sv,label:"Quiz Leads",href:"/admin/assessments"},{icon:dF,label:"Settings",href:"/admin/settings"}];function Yk({isOpen:e,onClose:t,isMobile:n}){const r=Fs(),s=Vr(),{user:i,signOut:o}=Y0(),l=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(d){console.error("Sign out error:",d)}},c=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",u=a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[a.jsx(ke,{to:"/admin/dashboard",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),n&&a.jsx(X,{variant:"ghost",size:"icon",onClick:t,children:a.jsx(dl,{className:"h-5 w-5"})})]}),a.jsx("nav",{className:"flex-1 space-y-1 p-4",children:aX.map(d=>{const h=r.pathname===d.href||d.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return a.jsxs(ke,{to:d.href,onClick:n?t:void 0,className:re("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[a.jsx(d.icon,{className:"h-5 w-5"}),d.label,h&&a.jsx(se.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},d.href)})}),a.jsx("div",{className:"border-t p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:c})}),a.jsxs("div",{className:"flex-1 truncate",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),a.jsx(X,{variant:"ghost",size:"icon",onClick:l,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:a.jsx(aF,{className:"h-4 w-4"})})]})})]});return n?a.jsx(Fr,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),a.jsx(se.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:u})]})}):a.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:u})}function lX({open:e,onOpenChange:t}){const n=Vr(),[r,s]=g.useState(""),[i,o]=g.useState({interviewees:[],projects:[],orgs:[]}),[l,c]=g.useState(!1),[u,d]=g.useState(0),h=g.useRef(null),f=g.useRef(),p=[...i.interviewees.map(S=>({type:"interviewee",data:S})),...i.projects.map(S=>({type:"project",data:S})),...i.orgs.map(S=>({type:"org",data:S}))],w=p.length>0;g.useEffect(()=>{e&&(s(""),o({interviewees:[],projects:[],orgs:[]}),d(0),setTimeout(()=>{var S;return(S=h.current)==null?void 0:S.focus()},50))},[e]);const m=g.useCallback(async S=>{if(S.trim().length<2){o({interviewees:[],projects:[],orgs:[]}),c(!1);return}c(!0);const{results:E,error:C}=await $Y(S);C||(o(E),d(0)),c(!1)},[]);g.useEffect(()=>(f.current&&clearTimeout(f.current),r.trim().length>=2?(c(!0),f.current=setTimeout(()=>{m(r)},300)):(o({interviewees:[],projects:[],orgs:[]}),c(!1)),()=>{f.current&&clearTimeout(f.current)}),[r,m]);const _=S=>{switch(t(!1),S.type){case"interviewee":n(`/admin/projects/${S.data.project_id}`);break;case"project":n(`/admin/projects/${S.data.id}`);break;case"org":n(`/admin/clients/${S.data.id}`);break}},y=S=>{switch(S.key){case"ArrowDown":S.preventDefault(),d(E=>Math.min(E+1,p.length-1));break;case"ArrowUp":S.preventDefault(),d(E=>Math.max(E-1,0));break;case"Enter":S.preventDefault(),p[u]&&_(p[u]);break;case"Escape":S.preventDefault(),t(!1);break}},x=S=>S==="completed"?a.jsx(Pu,{className:"h-3 w-3 text-green-500"}):null,b=S=>S?a.jsx(rN,{className:"h-3 w-3 text-green-500"}):null;return a.jsx(Uo,{open:e,onOpenChange:t,children:a.jsxs($i,{className:"sm:max-w-lg p-0 gap-0 overflow-hidden",onKeyDown:y,children:[a.jsxs("div",{className:"flex items-center border-b px-3",children:[a.jsx(Kf,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),a.jsx(Je,{ref:h,value:r,onChange:S=>s(S.target.value),placeholder:"Search people, projects, clients...",className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-12"}),l&&a.jsx(Ue,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto p-2",children:r.length<2?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"Type at least 2 characters to search..."}):!w&&!l?a.jsxs("p",{className:"py-6 text-center text-sm text-muted-foreground",children:['No results found for "',r,'"']}):a.jsxs(a.Fragment,{children:[i.interviewees.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PEOPLE"}),i.interviewees.map((S,E)=>{var T,R,O;const C=E;return a.jsxs("button",{onClick:()=>_({type:"interviewee",data:S}),className:re("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[a.jsx(sN,{className:"h-4 w-4 mt-0.5 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium truncate",children:S.name}),b(S.consent_given),x(S.status)]}),S.role&&a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:S.role}),a.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(T=S.discovery_project)==null?void 0:T.name,"  ",(O=(R=S.discovery_project)==null?void 0:R.org)==null?void 0:O.name]})]})]},S.id)})]}),i.projects.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PROJECTS"}),i.projects.map((S,E)=>{var T;const C=i.interviewees.length+E;return a.jsxs("button",{onClick:()=>_({type:"project",data:S}),className:re("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[a.jsx(zh,{className:"h-4 w-4 mt-0.5 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"font-medium truncate block",children:S.name}),a.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[(T=S.org)==null?void 0:T.name,"  ",S.status]})]})]},S.id)})]}),i.orgs.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"CLIENTS"}),i.orgs.map((S,E)=>{const C=i.interviewees.length+i.projects.length+E;return a.jsxs("button",{onClick:()=>_({type:"org",data:S}),className:re("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[a.jsx(YT,{className:"h-4 w-4 mt-0.5 shrink-0"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("span",{className:"font-medium truncate block",children:S.name})})]},S.id)})]})]})}),a.jsx("div",{className:"border-t px-3 py-2",children:a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:""}),"navigate"]}),a.jsx("span",{className:"mx-2",children:""}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Enter"}),"select"]}),a.jsx("span",{className:"mx-2",children:""}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Esc"}),"close"]})]})})]})})}function cX({onMenuClick:e,title:t}){const[n,r]=g.useState(!1),i=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"":"Ctrl";return g.useEffect(()=>{const o=l=>{(l.metaKey||l.ctrlKey)&&l.key==="k"&&(l.preventDefault(),r(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(X,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[a.jsx(tN,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&a.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"gap-2 text-muted-foreground",children:[a.jsx(Kf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Search"}),a.jsxs("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[i,"K"]})]}),a.jsx(Br,{})]})]}),a.jsx(lX,{open:n,onOpenChange:r})]})}function uX(){const[e,t]=g.useState(!1),{user:n,isAdmin:r,loading:s}=Y0();return s?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:a.jsx(Ue,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?a.jsx(O5,{to:"/admin/login",replace:!0}):a.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[a.jsx(Yk,{isOpen:!0,onClose:()=>{},isMobile:!1}),a.jsx(Yk,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(cX,{onMenuClick:()=>t(!0)}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx(I5,{})}),a.jsx(qu,{className:"border-t"})]})]})}const dX=()=>{const e=Fs();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:a.jsx("span",{className:"text-3xl font-bold text-white",children:"404"})}),a.jsx("h1",{className:"mb-2 text-2xl font-bold",children:"Page not found"}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:"Sorry, we couldn't find the page you're looking for."}),a.jsx("a",{href:"/",className:"inline-flex items-center justify-center rounded-lg px-6 py-3 font-semibold transition-opacity hover:opacity-90",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Return to Home"})]})}),a.jsx(qu,{})]})},hX=[{icon:Z4,title:"AI Readiness Score",description:"Find out how prepared your organisation is to benefit from AI automation."},{icon:Jf,title:"Highest-Impact Opportunity",description:"Discover the ONE workflow where AI could make the biggest difference."},{icon:Ou,title:"Actionable Next Steps",description:"Get clear recommendations on what to do next, not just a score."}],fX=["A personalised AI readiness score based on 10 key factors","Deep analysis of ONE workflow with our AI discovery agent","Specific automation opportunities with confidence ratings","Clear next steps tailored to your situation"];function pX(){return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx(ke,{to:"/",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsx(Br,{})]})}),a.jsx("section",{className:"container pt-32 pb-16",children:a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Want to use AI but don't know where to start?"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Take our free 15-minute assessment to discover your AI readiness score, your highest-impact automation opportunity, and your recommended next steps."}),a.jsxs("div",{className:"mt-10",children:[a.jsx(ke,{to:"/assess/start",children:a.jsxs(X,{size:"lg",className:"h-14 px-8 text-lg",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:["Start Free Assessment",a.jsx(Xt,{className:"ml-2 h-5 w-5"})]})}),a.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"No credit card required. Takes about 15 minutes."})]})]})}),a.jsx("section",{className:"container py-16",children:a.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:hX.map((e,t)=>a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},children:a.jsx(ge,{className:"h-full border-l-4",style:{borderLeftColor:"#7952b3"},children:a.jsxs(we,{className:"pt-6",children:[a.jsx(e.icon,{className:"h-10 w-10 text-primary mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),a.jsx("p",{className:"text-muted-foreground",children:e.description})]})})},e.title))})}),a.jsx("section",{className:"container py-16",children:a.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mx-auto max-w-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"What You'll Get"}),a.jsx(ge,{children:a.jsx(we,{className:"pt-6",children:a.jsx("ul",{className:"space-y-4",children:fX.map((e,t)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(Dr,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:e})]},t))})})})]})}),a.jsx("section",{className:"container py-16",children:a.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mx-auto max-w-3xl text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"How It Works"}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3 text-left",children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary font-bold text-xl mb-4",children:"1"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Quick Quiz"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Answer 10 questions about your organisation to calculate your AI readiness score."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary font-bold text-xl mb-4",children:"2"}),a.jsx("h3",{className:"font-semibold mb-2",children:"AI Conversation"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat with Sophie, our AI discovery agent, about ONE workflow you'd like to improve."})]}),a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary font-bold text-xl mb-4",children:"3"}),a.jsx("h3",{className:"font-semibold mb-2",children:"Get Insights"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive specific automation opportunities and recommended next steps."})]})]})]})}),a.jsx("section",{className:"container py-16",children:a.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},className:"mx-auto max-w-2xl text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Built by AgentFlow"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"We help businesses discover where AI can make a real difference. Our Discovery methodology has identified automation opportunities worth thousands of hours per year for organisations across industries."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This assessment gives you a taste of what a full Discovery engagement delivers."})]})}),a.jsx("section",{className:"container py-16",children:a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mx-auto max-w-xl text-center",children:a.jsxs(ge,{className:"p-8",style:{background:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%)"},children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800",children:"Ready to find out?"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"It takes about 15 minutes and you'll get actionable insights immediately."}),a.jsx(ke,{to:"/assess/start",children:a.jsxs(X,{size:"lg",className:"h-12 px-8",style:{backgroundColor:"#2c3e50",color:"#ffffff"},children:["Start Free Assessment",a.jsx(Xt,{className:"ml-2 h-5 w-5"})]})})]})})}),a.jsx("footer",{className:"border-t py-8",children:a.jsxs("div",{className:"container flex flex-col items-center justify-between gap-4 md:flex-row",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow. All rights reserved."]}),a.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[a.jsx(ke,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),a.jsx(ke,{to:"/terms",className:"hover:underline",children:"Terms of Service"})]})]})})]})}function mX(){const e=Vr(),[t,n]=g.useState(!1),[r,s]=g.useState({name:"",email:"",company_name:"",job_title:"",phone:""}),[i,o]=g.useState({}),l=d=>{const{name:h,value:f}=d.target;s(p=>({...p,[h]:f})),i[h]&&o(p=>({...p,[h]:void 0}))},c=()=>{const d={};return(!r.name.trim()||r.name.trim().length<2)&&(d.name="Please enter your name (at least 2 characters)"),r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(d.email="Please enter a valid email address"):d.email="Please enter your email address",(!r.company_name.trim()||r.company_name.trim().length<2)&&(d.company_name="Please enter your company name (at least 2 characters)"),(!r.job_title.trim()||r.job_title.trim().length<2)&&(d.job_title="Please enter your job title (at least 2 characters)"),o(d),Object.keys(d).length===0},u=async d=>{if(d.preventDefault(),!!c()){n(!0),o({});try{const{data:h,error:f}=await Be.functions.invoke("start-assessment",{body:{name:r.name.trim(),email:r.email.trim().toLowerCase(),company_name:r.company_name.trim(),job_title:r.job_title.trim(),phone:r.phone.trim()||null}});if(f){console.error("Start assessment error:",f),o({general:"Something went wrong. Please try again."});return}if(h!=null&&h.error){h.error.includes("Too many requests")?o({general:"Too many requests. Please wait a moment and try again."}):h.details?o({general:h.details.join(", ")}):o({general:h.error});return}h!=null&&h.assessment_token?(sessionStorage.setItem("assessment_token",h.assessment_token),sessionStorage.setItem("assessment_interviewee_id",h.interviewee_id),sessionStorage.setItem("assessment_name",r.name.trim()),sessionStorage.setItem("assessment_email",r.email.trim()),sessionStorage.setItem("assessment_company",r.company_name.trim()),h.interview_token&&sessionStorage.setItem("interview_token",h.interview_token),h.resumed&&h.status?h.status==="quiz_completed"||h.status==="interview_started"?e("/assess/quiz",{state:{resumed:!0,status:h.status,interviewToken:h.interview_token}}):h.status==="completed"?e("/assess/quiz",{state:{resumed:!0,status:h.status,interviewToken:h.interview_token}}):e("/assess/quiz"):e("/assess/quiz")):o({general:"Unexpected response. Please try again."})}catch(h){console.error("Start assessment error:",h),o({general:"Network error. Please check your connection and try again."})}finally{n(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx(ke,{to:"/assess",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsx(Br,{})]})}),a.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16 pb-8",children:a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:a.jsxs(ge,{children:[a.jsxs(ht,{className:"text-center",children:[a.jsx(ft,{className:"text-2xl",children:"Let's get started"}),a.jsx(vn,{children:"Tell us a bit about yourself so we can personalise your assessment."})]}),a.jsx(we,{children:a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Re,{htmlFor:"name",children:["Name ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(Je,{id:"name",name:"name",value:r.name,onChange:l,placeholder:"Your name",disabled:t,className:i.name?"border-destructive":""}),i.name&&a.jsx("p",{className:"text-sm text-destructive",children:i.name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Re,{htmlFor:"email",children:["Email ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(Je,{id:"email",name:"email",type:"email",value:r.email,onChange:l,placeholder:"you@company.com",disabled:t,className:i.email?"border-destructive":""}),i.email&&a.jsx("p",{className:"text-sm text-destructive",children:i.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Re,{htmlFor:"company_name",children:["Company ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(Je,{id:"company_name",name:"company_name",value:r.company_name,onChange:l,placeholder:"Your company name",disabled:t,className:i.company_name?"border-destructive":""}),i.company_name&&a.jsx("p",{className:"text-sm text-destructive",children:i.company_name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Re,{htmlFor:"job_title",children:["Job Title ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(Je,{id:"job_title",name:"job_title",value:r.job_title,onChange:l,placeholder:"Your role",disabled:t,className:i.job_title?"border-destructive":""}),i.job_title&&a.jsx("p",{className:"text-sm text-destructive",children:i.job_title})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"phone",children:"Phone (optional)"}),a.jsx(Je,{id:"phone",name:"phone",type:"tel",value:r.phone,onChange:l,placeholder:"+44 7XXX XXXXXX",disabled:t})]}),i.general&&a.jsx("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:i.general}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(ke,{to:"/assess",className:"flex-1",children:a.jsxs(X,{type:"button",variant:"outline",className:"w-full",disabled:t,children:[a.jsx(cl,{className:"mr-2 h-4 w-4"}),"Back"]})}),a.jsx(X,{type:"submit",className:"flex-1",disabled:t,style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:t?a.jsxs(a.Fragment,{children:[a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting..."]}):a.jsxs(a.Fragment,{children:["Continue",a.jsx(Xt,{className:"ml-2 h-4 w-4"})]})})]}),a.jsxs("p",{className:"text-center text-xs text-muted-foreground pt-2",children:["By continuing, you agree to our"," ",a.jsx(ke,{to:"/privacy",className:"underline hover:text-foreground",children:"Privacy Policy"})," ","and"," ",a.jsx(ke,{to:"/terms",className:"underline hover:text-foreground",children:"Terms of Service"}),"."]})]})})]})})})]})}var tb="Radio",[gX,uD]=wn(tb),[vX,yX]=gX(tb),dD=g.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,f]=g.useState(null),p=Ce(t,_=>f(_)),w=g.useRef(!1),m=h?u||!!h.closest("form"):!0;return a.jsxs(vX,{scope:n,checked:s,disabled:o,children:[a.jsx(pe.button,{type:"button",role:"radio","aria-checked":s,"data-state":mD(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:le(e.onClick,_=>{s||c==null||c(),m&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})}),m&&a.jsx(pD,{control:h,bubbles:!w.current,name:r,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});dD.displayName=tb;var hD="RadioIndicator",fD=g.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=yX(hD,n);return a.jsx(Cn,{present:r||i.checked,children:a.jsx(pe.span,{"data-state":mD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});fD.displayName=hD;var xX="RadioBubbleInput",pD=g.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=g.useRef(null),l=Ce(o,i),c=o0(n),u=hw(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(w)}},[c,n,r]),a.jsx(pe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pD.displayName=xX;function mD(e){return e?"checked":"unchecked"}var wX=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bp="RadioGroup",[bX,WX]=wn(Bp,[Up,uD]),gD=Up(),vD=uD(),[_X,SX]=bX(Bp),yD=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,p=gD(n),w=Fl(u),[m,_]=lr({prop:i,defaultProp:s??null,onChange:h,caller:Bp});return a.jsx(_X,{scope:n,name:r,required:o,disabled:l,value:m,onValueChange:_,children:a.jsx(WM,{asChild:!0,...p,orientation:c,dir:w,loop:d,children:a.jsx(pe.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...f,ref:t})})})});yD.displayName=Bp;var xD="RadioGroupItem",wD=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=SX(xD,n),o=i.disabled||r,l=gD(n),c=vD(n),u=g.useRef(null),d=Ce(t,u),h=i.value===s.value,f=g.useRef(!1);return g.useEffect(()=>{const p=m=>{wX.includes(m.key)&&(f.current=!0)},w=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),a.jsx(HM,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(dD,{disabled:o,required:i.required,checked:h,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:le(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:le(s.onFocus,()=>{var p;f.current&&((p=u.current)==null||p.click())})})})});wD.displayName=xD;var jX="RadioGroupIndicator",bD=g.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=vD(n);return a.jsx(fD,{...s,...r,ref:t})});bD.displayName=jX;var _D=yD,SD=wD,kX=bD;const nb=g.forwardRef(({className:e,...t},n)=>a.jsx(_D,{className:re("grid gap-2",e),...t,ref:n}));nb.displayName=_D.displayName;const Ef=g.forwardRef(({className:e,...t},n)=>a.jsx(SD,{ref:n,className:re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(kX,{className:"flex items-center justify-center",children:a.jsx(sF,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ef.displayName=SD.displayName;const an=[{id:"q1",text:"Do you have documented processes for your core workflows?"},{id:"q2",text:"Do you have repetitive tasks that take your team 5+ hours per week?"},{id:"q3",text:"Is your business data mostly digital (not paper-based)?"},{id:"q4",text:"Do you have someone responsible for technology decisions?"},{id:"q5",text:"Have you already tried any AI tools (ChatGPT, Copilot, etc.)?"},{id:"q6",text:"Do you know which tasks you'd want AI to handle first?"},{id:"q7",text:"Does your team have capacity to learn new tools?"},{id:"q8",text:"Do you have budget allocated for technology improvements this year?"},{id:"q9",text:"Are most of your team's decisions based on clear rules or criteria?"},{id:"q10",text:"Do you measure how long key tasks take?"}],EX=[{key:"invoice_processing",label:"Invoice processing and finance administration"},{key:"customer_onboarding",label:"Customer onboarding"},{key:"reporting",label:"Reporting and data gathering"},{key:"approvals",label:"Approval workflows"},{key:"document_handling",label:"Document handling"},{key:"other",label:"Something else"}];function CX(){const e=Vr(),n=Fs().state,[r,s]=g.useState("quiz"),[i,o]=g.useState(0),[l,c]=g.useState({}),[u,d]=g.useState(""),[h,f]=g.useState(""),[p,w]=g.useState(!1),[m,_]=g.useState(null);g.useEffect(()=>{if(!sessionStorage.getItem("assessment_token")){e("/assess/start");return}if(n!=null&&n.resumed){const T=sessionStorage.getItem("interview_token");if((n.status==="quiz_completed"||n.status==="interview_started")&&(T||n.interviewToken)){e(`/assess/chat/${T||n.interviewToken}`,{replace:!0});return}if(n.status==="completed"&&T){e(`/assess/results/${T}`,{replace:!0});return}}},[e,n]);const y=(C,T)=>{c(R=>({...R,[C]:T})),i<an.length-1&&setTimeout(()=>o(R=>R+1),300)},x=()=>{if(!an.every(T=>l[T.id]!==void 0)){_("Please answer all questions before continuing.");return}s("workflow"),_(null)},b=async()=>{if(!u){_("Please select a workflow to focus on.");return}if(u==="other"&&!h.trim()){_("Please describe the workflow you'd like to explore.");return}const C=sessionStorage.getItem("assessment_token");if(!C){e("/assess/start");return}w(!0),_(null);try{const{data:T,error:R}=await Be.functions.invoke("submit-assessment-quiz",{body:{assessment_token:C,responses:l,workflow_focus:u,workflow_focus_custom:u==="other"?h.trim():void 0}});if(R){console.error("Submit quiz error:",R),_("Something went wrong. Please try again.");return}if(T!=null&&T.error){if(T.error.includes("expired")){sessionStorage.removeItem("assessment_token"),e("/assess/start");return}_(T.error);return}T!=null&&T.interview_token?(sessionStorage.setItem("assessment_score",String(T.score)),sessionStorage.setItem("interview_token",T.interview_token),e(`/assess/chat/${T.interview_token}`)):_("Unexpected response. Please try again.")}catch(T){console.error("Submit quiz error:",T),_("Network error. Please check your connection and try again.")}finally{w(!1)}},S=Object.keys(l).length/an.length,E=an.every(C=>l[C.id]!==void 0);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx(ke,{to:"/assess",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsx(Br,{})]})}),a.jsx("div",{className:"fixed top-16 left-0 right-0 z-40 h-1 bg-muted",children:a.jsx(se.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:r==="quiz"?`${S*80}%`:"100%"},transition:{duration:.3}})}),a.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-20 pb-8",children:a.jsxs(Fr,{mode:"wait",children:[r==="quiz"&&a.jsx(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"w-full max-w-lg",children:a.jsxs(ge,{children:[a.jsxs(ht,{className:"text-center",children:[a.jsx(ft,{className:"text-xl",children:"AI Readiness Quiz"}),a.jsxs(vn,{children:["Question ",i+1," of ",an.length]})]}),a.jsxs(we,{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-center gap-2",children:an.map((C,T)=>a.jsx("button",{onClick:()=>o(T),className:re("h-3 w-3 rounded-full transition-all",T===i?"bg-primary scale-125":l[C.id]!==void 0?l[C.id]?"bg-green-500":"bg-amber-500":"bg-muted-foreground/30"),"aria-label":`Question ${T+1}`},C.id))}),a.jsx(Fr,{mode:"wait",children:a.jsx(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"min-h-[120px] flex items-center justify-center",children:a.jsx("p",{className:"text-lg font-medium text-center",children:an[i].text})},i)}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsxs(X,{size:"lg",variant:l[an[i].id]===!0?"default":"outline",className:re("flex-1 max-w-[150px] h-16 text-lg",l[an[i].id]===!0&&"bg-green-600 hover:bg-green-700"),onClick:()=>y(an[i].id,!0),children:[a.jsx(Dr,{className:"mr-2 h-5 w-5"}),"Yes"]}),a.jsxs(X,{size:"lg",variant:l[an[i].id]===!1?"default":"outline",className:re("flex-1 max-w-[150px] h-16 text-lg",l[an[i].id]===!1&&"bg-amber-600 hover:bg-amber-700"),onClick:()=>y(an[i].id,!1),children:[a.jsx(ZT,{className:"mr-2 h-5 w-5"}),"No"]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(X,{variant:"outline",onClick:()=>o(C=>Math.max(0,C-1)),disabled:i===0,children:[a.jsx(cl,{className:"mr-2 h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex-1"}),i<an.length-1?a.jsxs(X,{onClick:()=>o(C=>C+1),disabled:l[an[i].id]===void 0,children:["Next",a.jsx(Xt,{className:"ml-2 h-4 w-4"})]}):a.jsxs(X,{onClick:x,disabled:!E,style:{backgroundColor:E?"#f7a89d":void 0,color:E?"#2c3e50":void 0},children:["Continue",a.jsx(Xt,{className:"ml-2 h-4 w-4"})]})]}),m&&a.jsx("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive text-center",children:m})]})]})},"quiz"),r==="workflow"&&a.jsx(se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"w-full max-w-lg",children:a.jsxs(ge,{children:[a.jsxs(ht,{className:"text-center",children:[a.jsx(ft,{className:"text-xl",children:"Choose Your Focus"}),a.jsx(vn,{children:"Which area would you most like to explore with AI?"})]}),a.jsxs(we,{className:"space-y-6",children:[a.jsx(nb,{value:u,onValueChange:C=>{d(C),_(null)},className:"space-y-3",children:EX.map(C=>a.jsxs("div",{className:re("flex items-center space-x-3 rounded-lg border p-4 cursor-pointer transition-colors",u===C.key?"border-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>{d(C.key),_(null)},children:[a.jsx(Ef,{value:C.key,id:C.key}),a.jsx(Re,{htmlFor:C.key,className:"flex-1 cursor-pointer",children:C.label})]},C.key))}),u==="other"&&a.jsxs(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[a.jsx(Re,{htmlFor:"workflow_custom",children:"Describe the workflow you'd like to explore"}),a.jsx(Je,{id:"workflow_custom",value:h,onChange:C=>f(C.target.value),placeholder:"e.g., Employee onboarding, contract review...",maxLength:100,disabled:p}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.length,"/100 characters"]})]}),u&&a.jsxs(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-lg bg-muted/50 border p-4 text-left",children:[a.jsx("p",{className:"font-medium text-sm mb-3",children:"Before you start"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Sophie will ask you about:"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 mb-3 list-disc list-inside",children:[a.jsx("li",{children:"What triggers this workflow (emails, requests, etc.)"}),a.jsx("li",{children:"What information you need to do it"}),a.jsx("li",{children:"The steps you actually take"}),a.jsx("li",{children:"Decisions you make along the way"}),a.jsx("li",{children:"What's slow, painful, or repetitive"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:" Think of a specific recent example you can walk through  real examples lead to better insights."})]}),m&&a.jsx("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive text-center",children:m}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(X,{variant:"outline",onClick:()=>s("quiz"),disabled:p,children:[a.jsx(cl,{className:"mr-2 h-4 w-4"}),"Back to Quiz"]}),a.jsx("div",{className:"flex-1"}),a.jsx(X,{onClick:b,disabled:p||!u,style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:p?a.jsxs(a.Fragment,{children:[a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting..."]}):a.jsxs(a.Fragment,{children:["Start Conversation",a.jsx(Xt,{className:"ml-2 h-4 w-4"})]})})]})]})]})},"workflow")]})})]})}function TX(){const{token:e}=Ml(),t=Vr(),{toast:n}=Bi(),[r,s]=g.useState("loading"),[i,o]=g.useState(""),[l,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(null),[p,w]=g.useState(null),[m,_]=g.useState(null),[y,x]=g.useState(0),b=g.useRef(null),S=g.useRef(null);g.useEffect(()=>{(async()=>{var F,Z,U;if(!e){_("Invalid interview link."),s("error");return}try{const{data:B,error:I}=await Be.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(I||B!=null&&B.error){console.error("Token validation error:",I||(B==null?void 0:B.error)),(F=B==null?void 0:B.error)!=null&&F.includes("expired")?_("This interview link has expired. Please start a new assessment."):_((B==null?void 0:B.error)||"Invalid interview link. Please start a new assessment."),s("error");return}if((Z=B==null?void 0:B.interviewee)!=null&&Z.name)o(B.interviewee.name);else{const ie=sessionStorage.getItem("assessment_name");ie&&o(ie)}if((U=B==null?void 0:B.preBriefContext)!=null&&U.workflow_focus)w(B.preBriefContext.workflow_focus);else{const ie=sessionStorage.getItem("assessment_workflow_focus");ie&&w(ie)}const{data:$,error:K}=await Be.functions.invoke("start-interview",{body:{interviewToken:e}});if(K||!($!=null&&$.accessToken)){console.error("Start interview error:",K||($==null?void 0:$.error)),_(($==null?void 0:$.error)||"Failed to start interview. Please try again."),s("error");return}c($.accessToken),$.transcript&&$.transcript.length>0&&(f($.transcript),console.log("[INFO] Resuming assessment with",$.transcript.length,"messages")),s("ready")}catch(B){console.error("Initialize interview error:",B),_("Network error. Please check your connection."),s("error")}})()},[e]),g.useEffect(()=>(r==="chatting"&&!b.current&&(b.current=Date.now(),S.current=setInterval(()=>{b.current&&x(Math.floor((Date.now()-b.current)/1e3))},1e3)),()=>{S.current&&clearInterval(S.current)}),[r]);const E=q=>{const F=Math.floor(q/60),Z=q%60;return`${F}:${Z.toString().padStart(2,"0")}`},C=q=>{r==="ready"&&q.length>0&&s("chatting")},T=()=>{R()},R=async()=>{if(!l){n({title:"Error",description:"Session not ready. Please refresh and try again.",variant:"destructive"});return}s("completing"),S.current&&clearInterval(S.current);const q=b.current?Math.floor((Date.now()-b.current)/1e3):y;try{const{data:F,error:Z}=await Be.functions.invoke("complete-interview",{body:{accessToken:l,durationSeconds:q}});(Z||F!=null&&F.error)&&(console.error("Complete interview error:",Z||(F==null?void 0:F.error)),n({title:"Warning",description:"Conversation completed but there was an issue. Continuing anyway...",variant:"destructive"}));const U=F==null?void 0:F.resultsToken;U&&d(U),s("complete"),setTimeout(()=>{t(`/assess/results/${U||e}`)},2e3);return}catch(F){console.error("Complete interview error:",F),n({title:"Warning",description:"Conversation completed but there was an issue. Continuing anyway...",variant:"destructive"})}s("complete"),setTimeout(()=>{t(`/assess/results/${e}`)},2e3)},O=()=>{R()},D=()=>{sessionStorage.clear(),t("/assess/start")},A=12,M=Math.min(y/(A*60)*100,100);return a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx(ke,{to:"/assess",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[r==="chatting"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Oo,{className:"h-4 w-4"}),a.jsx("span",{children:E(y)}),a.jsxs("span",{className:"text-xs",children:["/ ~",A," min"]})]}),a.jsx(Br,{})]})]})}),r==="chatting"&&a.jsx("div",{className:"fixed top-16 left-0 right-0 z-40 h-1 bg-muted",children:a.jsx(se.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:`${M}%`},transition:{duration:.5}})}),a.jsx("main",{className:"flex-1 pt-16",children:a.jsxs(Fr,{mode:"wait",children:[r==="loading"&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex min-h-[calc(100vh-4rem)] items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ue,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Preparing your conversation..."})]})},"loading"),r==="error"&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex min-h-[calc(100vh-4rem)] items-center justify-center p-4",children:a.jsxs(ge,{className:"max-w-md p-8 text-center",children:[a.jsx("div",{className:"mb-4 text-destructive",children:a.jsx(Is,{className:"h-12 w-12 mx-auto"})}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Oops!"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:m}),a.jsx(X,{onClick:D,children:"Start New Assessment"})]})},"error"),(r==="ready"||r==="chatting")&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-[calc(100vh-4rem)]",children:a.jsxs(ge,{className:"h-full rounded-none border-0 sm:container sm:my-4 sm:h-[calc(100vh-6rem)] sm:rounded-lg sm:border",children:[a.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(ul,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Sophie"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Discovery Consultant"})]})]}),a.jsx(X,{variant:"outline",size:"sm",onClick:O,className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"I'm Done"})]}),a.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:a.jsx(RI,{intervieweeName:i,accessToken:l,initialMessages:h||void 0,onTranscriptUpdate:C,onEnd:T,interviewType:"lead_gen_assessment",workflowFocus:p||void 0})})]})},"chat"),r==="completing"&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex min-h-[calc(100vh-4rem)] items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ue,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Saving your conversation..."})]})},"completing"),r==="complete"&&a.jsx(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:"flex min-h-[calc(100vh-4rem)] items-center justify-center p-4",children:a.jsxs(ge,{className:"max-w-md p-8 text-center",children:[a.jsx("div",{className:"mb-4 text-green-500",children:a.jsx(Dr,{className:"h-16 w-16 mx-auto"})}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Conversation Complete!"}),a.jsx("p",{className:"text-muted-foreground mb-2",children:"Thanks for chatting with Sophie. We're now generating your insights..."}),a.jsx(Ue,{className:"h-6 w-6 animate-spin text-primary mx-auto mt-4"})]})},"complete")]})})]})}function NX(){var A,M,q,F,Z;const{token:e}=Ml(),[t,n]=g.useState("loading"),[r,s]=g.useState(null),[i,o]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[h,f]=g.useState({message:"",preferred_contact:"email"}),[p,w]=g.useState(0),m=30;g.useEffect(()=>{_()},[e]),g.useEffect(()=>{if(t!=="generating")return;if(p>=m){n("ready");return}const U=setTimeout(()=>{_(!0),w(B=>B+1)},3e3);return()=>clearTimeout(U)},[t,p]);const _=async(U=!1)=>{var B;if(!e){s("Invalid results link."),n("error");return}try{let I=null,$="resultsToken";const K=await Be.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(K.error||((B=K.data)==null?void 0:B.error)&&K.data.error.includes("Invalid results link")){const Y=await Be.functions.invoke("validate-results-token",{body:{interviewToken:e}});if(Y.error){console.error("Results validation error:",Y.error),s("Unable to load your results. Please try again later."),n("error");return}I=Y.data,$="interviewToken"}else I=K.data,$="resultsToken";if(I!=null&&I.error){if(I.error.includes("still being generated")||I.error.includes("pending")){U||n("generating"),I.interviewee&&o({...I,_validatedTokenType:$});return}s(I.error),n("error");return}o({...I,_validatedTokenType:$}),I.analysisStatus==="generating"||I.analysisStatus==="pending"?U||n("generating"):n("ready")}catch(I){console.error("Load results error:",I),U||(s("Network error. Please check your connection."),n("error"))}},y=async U=>{if(U.preventDefault(),!(!e||!i)){c(!0);try{const B=i._validatedTokenType==="interviewToken"?{interviewToken:e}:{resultsToken:e},{data:I,error:$}=await Be.functions.invoke("submit-assessment-contact",{body:{...B,message:h.message||"Assessment completed - requesting contact",preferred_contact:h.preferred_contact}});if($||I!=null&&I.error)throw console.error("Contact submit error:",$||(I==null?void 0:I.error)),new Error((I==null?void 0:I.error)||"Failed to submit contact request");d(!0)}catch(B){console.error("Contact submit error:",B),alert("There was an error submitting your request. Please try again.")}finally{c(!1)}}},x=((A=i==null?void 0:i.assessmentContext)==null?void 0:A.quiz_score)??((M=i==null?void 0:i.interviewee)==null?void 0:M.assessment_score)??0,b=i==null?void 0:i.analysis,S=((q=i==null?void 0:i.interviewee)==null?void 0:q.name)??"",E=((F=i==null?void 0:i.interviewee)==null?void 0:F.company_name)??"",C=U=>U>=8?"text-green-500":U>=5?"text-amber-500":"text-red-500",T=U=>U>=8?"HIGH":U>=5?"MEDIUM":"LOW",R=U=>U>=8?"You're ready. Your organisation has the foundations in place to benefit from AI automation.":U>=5?"Good foundations. A few gaps to address, but you're in a strong position to start exploring AI.":"Some groundwork needed. There are areas to strengthen before AI will deliver maximum impact.",O=U=>{switch(U){case"high":return a.jsx(Ne,{className:"bg-green-500",children:"High Confidence"});case"medium":return a.jsx(Ne,{className:"bg-amber-500",children:"Medium Confidence"});case"low":return a.jsx(Ne,{className:"bg-red-500",children:"Low Confidence"});default:return null}},D=U=>{switch(U){case"immediate":return a.jsx(Ou,{className:"h-4 w-4 text-green-500"});case"short_term":return a.jsx(mF,{className:"h-4 w-4 text-amber-500"});case"medium_term":return a.jsx(Oo,{className:"h-4 w-4 text-blue-500"});default:return a.jsx(Jf,{className:"h-4 w-4 text-muted-foreground"})}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsx(ke,{to:"/assess",className:"flex items-center gap-2",children:a.jsx("img",{src:zr,alt:"AgentFlow",className:"h-8 w-auto"})}),a.jsx(Br,{})]})}),a.jsx("main",{className:"container pt-24 pb-16",children:a.jsxs(Fr,{mode:"wait",children:[t==="loading"&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex min-h-[60vh] items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ue,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading your results..."})]})},"loading"),t==="generating"&&a.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex min-h-[60vh] items-center justify-center",children:a.jsxs(ge,{className:"max-w-md p-8 text-center",children:[a.jsx(Ue,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Generating Your Insights"}),a.jsx("p",{className:"text-muted-foreground",children:"Our AI is analysing your conversation with Sophie to identify automation opportunities..."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"This usually takes about 30-60 seconds."})]})},"generating"),t==="error"&&a.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex min-h-[60vh] items-center justify-center",children:a.jsxs(ge,{className:"max-w-md p-8 text-center",children:[a.jsx(Is,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:r}),a.jsx(ke,{to:"/assess/start",children:a.jsx(X,{children:"Start New Assessment"})})]})},"error"),t==="ready"&&i&&a.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"space-y-8",children:[a.jsxs("section",{className:"text-center",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[S?`${S}'s`:"Your"," AI Readiness Score"]}),a.jsx("p",{className:"text-muted-foreground mb-8",children:E}),a.jsxs(ge,{className:"max-w-md mx-auto p-8",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:re("text-7xl font-bold mb-2",C(x)),children:[x,"/10"]}),a.jsxs(Ne,{variant:"outline",className:re("text-lg px-4 py-1",x>=8?"border-green-500 text-green-500":x>=5?"border-amber-500 text-amber-500":"border-red-500 text-red-500"),children:[T(x)," READINESS"]})]}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:R(x)})]})]}),b&&a.jsx("section",{children:a.jsxs(ge,{children:[a.jsxs(ht,{children:[a.jsxs(ft,{className:"flex items-center gap-2",children:[a.jsx(ul,{className:"h-5 w-5"}),b.workflow_name||"Workflow Analysis"]}),b.articulation_level&&a.jsxs(Ne,{variant:"outline",className:re(b.articulation_level==="HIGH"?"border-green-500 text-green-500":b.articulation_level==="MEDIUM"?"border-amber-500 text-amber-500":"border-red-500 text-red-500"),children:[b.articulation_level," Articulation"]})]}),a.jsxs(we,{className:"space-y-6",children:[b.workflow_summary&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Summary"}),a.jsx("p",{className:"text-muted-foreground",children:b.workflow_summary})]}),b.current_pain_points&&b.current_pain_points.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Current Pain Points"}),a.jsx("ul",{className:"space-y-2",children:b.current_pain_points.map((U,B)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Is,{className:"h-4 w-4 text-amber-500 mt-1 flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground",children:U})]},B))})]})]})]})}),(b==null?void 0:b.automation_opportunities)&&b.automation_opportunities.length>0&&a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Automation Opportunities"}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.automation_opportunities.slice(0,3).map((U,B)=>a.jsxs(ge,{className:"border-l-4 border-l-primary",children:[a.jsxs(ht,{className:"pb-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[D(U.time_to_value),a.jsx(ft,{className:"text-lg",children:U.title})]})}),O(U.confidence)]}),a.jsx(we,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:U.description})})]},B))})]}),(b==null?void 0:b.recommended_next_step)&&a.jsx("section",{children:a.jsx(ge,{className:"bg-primary/5 border-primary",children:a.jsx(we,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:a.jsx(Xt,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Recommended Next Step"}),a.jsx("p",{className:"text-muted-foreground",children:b.recommended_next_step})]})]})})})}),(b==null?void 0:b.upsell_hook)&&a.jsx("section",{className:"text-center py-8",children:a.jsxs("p",{className:"text-lg italic text-muted-foreground",children:['"',b.upsell_hook,'"']})}),a.jsx("section",{children:a.jsx(ge,{className:"p-8",style:{background:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%)"},children:u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Dr,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Thanks!"}),a.jsx("p",{className:"text-slate-600",children:"We'll be in touch within 24 hours to discuss how we can help."})]}):a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2 text-center",children:"Want to go deeper?"}),a.jsx("p",{className:"text-slate-600 mb-6 text-center max-w-xl mx-auto",children:"This assessment explored just ONE workflow. Imagine what we could uncover across your entire operation. Let's talk about a full Discovery engagement."}),a.jsxs("form",{onSubmit:y,className:"max-w-md mx-auto space-y-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"contact-name",className:"text-slate-700",children:"Name"}),a.jsx(Je,{id:"contact-name",value:S,readOnly:!0,className:"bg-white/60 text-slate-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"contact-company",className:"text-slate-700",children:"Company"}),a.jsx(Je,{id:"contact-company",value:E,readOnly:!0,className:"bg-white/60 text-slate-600"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"contact-email-display",className:"text-slate-700",children:"Email"}),a.jsx(Je,{id:"contact-email-display",value:((Z=i==null?void 0:i.interviewee)==null?void 0:Z.email)||"",readOnly:!0,className:"bg-white/60 text-slate-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{htmlFor:"message",className:"text-slate-700",children:"Anything specific you'd like to discuss? (optional)"}),a.jsx(Mu,{id:"message",value:h.message,onChange:U=>f(B=>({...B,message:U.target.value})),placeholder:"I'm particularly interested in...",className:"bg-white/80",disabled:l,maxLength:1e3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Re,{className:"text-slate-700",children:"Preferred contact method"}),a.jsxs(nb,{value:h.preferred_contact,onValueChange:U=>f(B=>({...B,preferred_contact:U})),className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ef,{value:"email",id:"contact-email"}),a.jsxs(Re,{htmlFor:"contact-email",className:"flex items-center gap-1 cursor-pointer",children:[a.jsx(Jo,{className:"h-4 w-4"})," Email"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ef,{value:"phone",id:"contact-phone"}),a.jsxs(Re,{htmlFor:"contact-phone",className:"flex items-center gap-1 cursor-pointer",children:[a.jsx(nN,{className:"h-4 w-4"})," Phone"]})]})]})]}),a.jsx(X,{type:"submit",size:"lg",className:"w-full",disabled:l,style:{backgroundColor:"#2c3e50",color:"#ffffff"},children:l?a.jsxs(a.Fragment,{children:[a.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:["Get in Touch",a.jsx(Xt,{className:"ml-2 h-4 w-4"})]})})]})]})})})]},"results")]})}),a.jsx("footer",{className:"border-t py-8",children:a.jsxs("div",{className:"container flex flex-col items-center justify-between gap-4 md:flex-row",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow. All rights reserved."]}),a.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[a.jsx(ke,{to:"/privacy",className:"hover:underline",children:"Privacy Policy"}),a.jsx(ke,{to:"/terms",className:"hover:underline",children:"Terms of Service"})]})]})})]})}const AX=new V3,PX=()=>a.jsx(z3,{client:AX,children:a.jsx(tU,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:a.jsxs(ts,{children:[a.jsx(XF,{}),a.jsx(OU,{}),a.jsx(z5,{basename:"/discovery",children:a.jsxs(eS,{children:[a.jsx(at,{path:"/",element:a.jsx(Nq,{})}),a.jsx(at,{path:"/interview/:token",element:a.jsx(UJ,{})}),a.jsx(at,{path:"/results/:token",element:a.jsx(gY,{})}),a.jsx(at,{path:"/privacy",element:a.jsx(vY,{})}),a.jsx(at,{path:"/terms",element:a.jsx(yY,{})}),a.jsx(at,{path:"/subprocessors",element:a.jsx(_Y,{})}),a.jsx(at,{path:"/assess",element:a.jsx(pX,{})}),a.jsx(at,{path:"/assess/start",element:a.jsx(mX,{})}),a.jsx(at,{path:"/assess/quiz",element:a.jsx(CX,{})}),a.jsx(at,{path:"/assess/chat/:token",element:a.jsx(TX,{})}),a.jsx(at,{path:"/assess/results/:token",element:a.jsx(NX,{})}),a.jsx(at,{path:"/admin/*",element:a.jsx(SY,{children:a.jsxs(eS,{children:[a.jsx(at,{path:"login",element:a.jsx(jY,{})}),a.jsx(at,{path:"auth/callback",element:a.jsx(kY,{})}),a.jsxs(at,{element:a.jsx(uX,{}),children:[a.jsx(at,{path:"dashboard",element:a.jsx(VY,{})}),a.jsx(at,{path:"projects",element:a.jsx(xQ,{})}),a.jsx(at,{path:"projects/:id",element:a.jsx(nX,{})}),a.jsx(at,{path:"assessments",element:a.jsx(sX,{})}),a.jsx(at,{path:"assessments/:leadId",element:a.jsx(oX,{})}),a.jsx(at,{path:"settings",element:a.jsx(rX,{})})]})]})})}),a.jsx(at,{path:"*",element:a.jsx(dX,{})})]})})]})})});xT(document.getElementById("root")).render(a.jsx(PX,{}));
