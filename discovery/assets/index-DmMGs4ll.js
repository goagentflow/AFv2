var nD=Object.defineProperty;var ub=e=>{throw TypeError(e)};var rD=(e,t,n)=>t in e?nD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>rD(e,typeof t!="symbol"?t+"":t,n),tp=(e,t,n)=>t.has(e)||ub("Cannot "+n);var B=(e,t,n)=>(tp(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?ub("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),we=(e,t,n,r)=>(tp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Rt=(e,t,n)=>(tp(e,t,"access private method"),n);var cu=(e,t,n,r)=>({set _(s){we(e,t,s,n)},get _(){return B(e,t,r)}});function sD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ak(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var lk={exports:{}},Hh={},ck={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Symbol.for("react.element"),oD=Symbol.for("react.portal"),aD=Symbol.for("react.fragment"),lD=Symbol.for("react.strict_mode"),cD=Symbol.for("react.profiler"),uD=Symbol.for("react.provider"),dD=Symbol.for("react.context"),hD=Symbol.for("react.forward_ref"),fD=Symbol.for("react.suspense"),pD=Symbol.for("react.memo"),mD=Symbol.for("react.lazy"),hb=Symbol.iterator;function gD(e){return e===null||typeof e!="object"?null:(e=hb&&e[hb]||e["@@iterator"],typeof e=="function"?e:null)}var uk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dk=Object.assign,hk={};function Ga(e,t,n){this.props=e,this.context=t,this.refs=hk,this.updater=n||uk}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fk(){}fk.prototype=Ga.prototype;function py(e,t,n){this.props=e,this.context=t,this.refs=hk,this.updater=n||uk}var my=py.prototype=new fk;my.constructor=py;dk(my,Ga.prototype);my.isPureReactComponent=!0;var fb=Array.isArray,pk=Object.prototype.hasOwnProperty,gy={current:null},mk={key:!0,ref:!0,__self:!0,__source:!0};function gk(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)pk.call(t,r)&&!mk.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Uc,type:e,key:i,ref:o,props:s,_owner:gy.current}}function vD(e,t){return{$$typeof:Uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uc}function yD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pb=/\/+/g;function np(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yD(""+e.key):t.toString(36)}function sd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Uc:case oD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+np(o,0):r,fb(s)?(n="",e!=null&&(n=e.replace(pb,"$&/")+"/"),sd(s,t,n,"",function(c){return c})):s!=null&&(vy(s)&&(s=vD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",fb(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+np(i,a);o+=sd(i,t,n,l,s)}else if(l=gD(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+np(i,a++),o+=sd(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function uu(e,t,n){if(e==null)return e;var r=[],s=0;return sd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function wD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},id={transition:null},bD={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:id,ReactCurrentOwner:gy};function vk(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:uu,forEach:function(e,t,n){uu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uu(e,function(){t++}),t},toArray:function(e){return uu(e,function(t){return t})||[]},only:function(e){if(!vy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Ga;_e.Fragment=aD;_e.Profiler=cD;_e.PureComponent=py;_e.StrictMode=lD;_e.Suspense=fD;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bD;_e.act=vk;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dk({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)pk.call(t,l)&&!mk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Uc,type:e.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(e){return e={$$typeof:dD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uD,_context:e},e.Consumer=e};_e.createElement=gk;_e.createFactory=function(e){var t=gk.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:hD,render:e}};_e.isValidElement=vy;_e.lazy=function(e){return{$$typeof:mD,_payload:{_status:-1,_result:e},_init:wD}};_e.memo=function(e,t){return{$$typeof:pD,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=id.transition;id.transition={};try{e()}finally{id.transition=t}};_e.unstable_act=vk;_e.useCallback=function(e,t){return tn.current.useCallback(e,t)};_e.useContext=function(e){return tn.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};_e.useEffect=function(e,t){return tn.current.useEffect(e,t)};_e.useId=function(){return tn.current.useId()};_e.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return tn.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};_e.useRef=function(e){return tn.current.useRef(e)};_e.useState=function(e){return tn.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return tn.current.useTransition()};_e.version="18.3.1";ck.exports=_e;var v=ck.exports;const H=ak(v),yy=sD({__proto__:null,default:H},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD=v,SD=Symbol.for("react.element"),_D=Symbol.for("react.fragment"),ED=Object.prototype.hasOwnProperty,kD=xD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TD={key:!0,ref:!0,__self:!0,__source:!0};function yk(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ED.call(t,r)&&!TD.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:SD,type:e,key:i,ref:o,props:s,_owner:kD.current}}Hh.Fragment=_D;Hh.jsx=yk;Hh.jsxs=yk;lk.exports=Hh;var u=lk.exports,wk={exports:{}},kn={},bk={exports:{}},xk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,U){var J=$.length;$.push(U);e:for(;0<J;){var G=J-1>>>1,re=$[G];if(0<s(re,U))$[G]=U,$[J]=re,J=G;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],J=$.pop();if(J!==U){$[0]=J;e:for(var G=0,re=$.length,g=re>>>1;G<g;){var k=2*(G+1)-1,_=$[k],A=k+1,P=$[A];if(0>s(_,J))A<re&&0>s(P,_)?($[G]=P,$[A]=J,G=A):($[G]=_,$[k]=J,G=k);else if(A<re&&0>s(P,J))$[G]=P,$[A]=J,G=A;else break e}}return U}function s($,U){var J=$.sortIndex-U.sortIndex;return J!==0?J:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=$)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function E($){if(p=!1,S($),!b)if(n(l)!==null)b=!0,X(T);else{var U=n(c);U!==null&&Z(E,U.startTime-$)}}function T($,U){b=!1,p&&(p=!1,y(N),N=-1),m=!0;var J=f;try{for(S(U),h=n(l);h!==null&&(!(h.expirationTime>U)||$&&!R());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var re=G(h.expirationTime<=U);U=e.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),S(U)}else r(l);h=n(l)}if(h!==null)var g=!0;else{var k=n(c);k!==null&&Z(E,k.startTime-U),g=!1}return g}finally{h=null,f=J,m=!1}}var C=!1,j=null,N=-1,M=5,I=-1;function R(){return!(e.unstable_now()-I<M)}function F(){if(j!==null){var $=e.unstable_now();I=$;var U=!0;try{U=j(!0,$)}finally{U?W():(C=!1,j=null)}}else C=!1}var W;if(typeof w=="function")W=function(){w(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=F,W=function(){Q.postMessage(null)}}else W=function(){x(F,0)};function X($){j=$,C||(C=!0,W())}function Z($,U){N=x(function(){$(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,X(T))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var J=f;f=U;try{return $()}finally{f=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=f;f=$;try{return U()}finally{f=J}},e.unstable_scheduleCallback=function($,U,J){var G=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?G+J:G):J=G,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=J+re,$={id:d++,callback:U,priorityLevel:$,startTime:J,expirationTime:re,sortIndex:-1},J>G?($.sortIndex=J,t(c,$),n(l)===null&&$===n(c)&&(p?(y(N),N=-1):p=!0,Z(E,J-G))):($.sortIndex=re,t(l,$),b||m||(b=!0,X(T))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var U=f;return function(){var J=f;f=U;try{return $.apply(this,arguments)}finally{f=J}}}})(xk);bk.exports=xk;var CD=bk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD=v,En=CD;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sk=new Set,Xl={};function mo(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(Xl[e]=t,e=0;e<t.length;e++)Sk.add(t[e])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,PD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mb={},gb={};function AD(e){return Lm.call(gb,e)?!0:Lm.call(mb,e)?!1:PD.test(e)?gb[e]=!0:(mb[e]=!0,!1)}function ND(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OD(e,t,n,r){if(t===null||typeof t>"u"||ND(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nt[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var wy=/[\-:]([a-z])/g;function by(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wy,by);Nt[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wy,by);Nt[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wy,by);Nt[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function xy(e,t,n,r){var s=Nt.hasOwnProperty(t)?Nt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OD(t,n,s,r)&&(n=null),r||s===null?AD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gs=jD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),_k=Symbol.for("react.provider"),Ek=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),Fm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),Ey=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),kk=Symbol.for("react.offscreen"),vb=Symbol.iterator;function cl(e){return e===null||typeof e!="object"?null:(e=vb&&e[vb]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,rp;function Sl(e){if(rp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rp=t&&t[1]||""}return`
`+rp+e}var sp=!1;function ip(e,t){if(!e||sp)return"";sp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{sp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sl(e):""}function RD(e){switch(e.tag){case 5:return Sl(e.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return e=ip(e.type,!1),e;case 11:return e=ip(e.type.render,!1),e;case 1:return e=ip(e.type,!0),e;default:return""}}function Um(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $o:return"Fragment";case Lo:return"Portal";case $m:return"Profiler";case Sy:return"StrictMode";case Fm:return"Suspense";case Vm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ek:return(e.displayName||"Context")+".Consumer";case _k:return(e._context.displayName||"Context")+".Provider";case _y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ey:return t=e.displayName||null,t!==null?t:Um(e.type)||"Memo";case Os:t=e._payload,e=e._init;try{return Um(e(t))}catch{}}return null}function ID(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Um(t);case 8:return t===Sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MD(e){var t=Tk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hu(e){e._valueTracker||(e._valueTracker=MD(e))}function Ck(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Id(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bm(e,t){var n=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jk(e,t){t=t.checked,t!=null&&xy(e,"checked",t,!1)}function zm(e,t){jk(e,t);var n=ii(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qm(e,t.type,n):t.hasOwnProperty("defaultValue")&&qm(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qm(e,t,n){(t!=="number"||Id(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _l=Array.isArray;function ta(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ii(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(_l(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ii(n)}}function Pk(e,t){var n=ii(t.value),r=ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ak(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ak(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fu,Nk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DD=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(e){DD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Il[t]=Il[e]})});function Ok(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Il.hasOwnProperty(e)&&Il[e]?(""+t).trim():t+"px"}function Rk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ok(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var LD=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gm(e,t){if(t){if(LD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Km(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=null;function ky(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ym=null,na=null,ra=null;function Sb(e){if(e=qc(e)){if(typeof Ym!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Qh(t),Ym(e.stateNode,e.type,t))}}function Ik(e){na?ra?ra.push(e):ra=[e]:na=e}function Mk(){if(na){var e=na,t=ra;if(ra=na=null,Sb(e),t)for(e=0;e<t.length;e++)Sb(t[e])}}function Dk(e,t){return e(t)}function Lk(){}var op=!1;function $k(e,t,n){if(op)return e(t,n);op=!0;try{return Dk(e,t,n)}finally{op=!1,(na!==null||ra!==null)&&(Lk(),Mk())}}function ec(e,t){var n=e.stateNode;if(n===null)return null;var r=Qh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Qm=!1;if(ls)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{Qm=!1}function $D(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ml=!1,Md=null,Dd=!1,Xm=null,FD={onError:function(e){Ml=!0,Md=e}};function VD(e,t,n,r,s,i,o,a,l){Ml=!1,Md=null,$D.apply(FD,arguments)}function UD(e,t,n,r,s,i,o,a,l){if(VD.apply(this,arguments),Ml){if(Ml){var c=Md;Ml=!1,Md=null}else throw Error(K(198));Dd||(Dd=!0,Xm=c)}}function go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _b(e){if(go(e)!==e)throw Error(K(188))}function BD(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _b(s),e;if(i===r)return _b(s),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function Vk(e){return e=BD(e),e!==null?Uk(e):null}function Uk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uk(e);if(t!==null)return t;e=e.sibling}return null}var Bk=En.unstable_scheduleCallback,Eb=En.unstable_cancelCallback,zD=En.unstable_shouldYield,qD=En.unstable_requestPaint,ot=En.unstable_now,WD=En.unstable_getCurrentPriorityLevel,Ty=En.unstable_ImmediatePriority,zk=En.unstable_UserBlockingPriority,Ld=En.unstable_NormalPriority,HD=En.unstable_LowPriority,qk=En.unstable_IdlePriority,Gh=null,Ir=null;function GD(e){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Gh,e,void 0,(e.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:YD,KD=Math.log,JD=Math.LN2;function YD(e){return e>>>=0,e===0?32:31-(KD(e)/JD|0)|0}var pu=64,mu=4194304;function El(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $d(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=El(a):(i&=o,i!==0&&(r=El(i)))}else o=n&~s,o!==0?r=El(o):i!==0&&(r=El(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pr(t),s=1<<n,r|=e[n],t&=~s;return r}function QD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=QD(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Zm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wk(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function ap(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pr(t),e[t]=n}function ZD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-pr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Cy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Oe=0;function Hk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gk,jy,Kk,Jk,Yk,eg=!1,gu=[],Js=null,Ys=null,Qs=null,tc=new Map,nc=new Map,Ds=[],eL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kb(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(t.pointerId)}}function dl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=qc(t),t!==null&&jy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tL(e,t,n,r,s){switch(t){case"focusin":return Js=dl(Js,e,t,n,r,s),!0;case"dragenter":return Ys=dl(Ys,e,t,n,r,s),!0;case"mouseover":return Qs=dl(Qs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return tc.set(i,dl(tc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nc.set(i,dl(nc.get(i)||null,e,t,n,r,s)),!0}return!1}function Qk(e){var t=Mi(e.target);if(t!==null){var n=go(t);if(n!==null){if(t=n.tag,t===13){if(t=Fk(n),t!==null){e.blockedOn=t,Yk(e.priority,function(){Kk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function od(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jm=r,n.target.dispatchEvent(r),Jm=null}else return t=qc(n),t!==null&&jy(t),e.blockedOn=n,!1;t.shift()}return!0}function Tb(e,t,n){od(e)&&n.delete(t)}function nL(){eg=!1,Js!==null&&od(Js)&&(Js=null),Ys!==null&&od(Ys)&&(Ys=null),Qs!==null&&od(Qs)&&(Qs=null),tc.forEach(Tb),nc.forEach(Tb)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,eg||(eg=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,nL)))}function rc(e){function t(s){return hl(s,e)}if(0<gu.length){hl(gu[0],e);for(var n=1;n<gu.length;n++){var r=gu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&hl(Js,e),Ys!==null&&hl(Ys,e),Qs!==null&&hl(Qs,e),tc.forEach(t),nc.forEach(t),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)Qk(n),n.blockedOn===null&&Ds.shift()}var sa=gs.ReactCurrentBatchConfig,Fd=!0;function rL(e,t,n,r){var s=Oe,i=sa.transition;sa.transition=null;try{Oe=1,Py(e,t,n,r)}finally{Oe=s,sa.transition=i}}function sL(e,t,n,r){var s=Oe,i=sa.transition;sa.transition=null;try{Oe=4,Py(e,t,n,r)}finally{Oe=s,sa.transition=i}}function Py(e,t,n,r){if(Fd){var s=tg(e,t,n,r);if(s===null)vp(e,t,r,Vd,n),kb(e,r);else if(tL(s,e,t,n,r))r.stopPropagation();else if(kb(e,r),t&4&&-1<eL.indexOf(e)){for(;s!==null;){var i=qc(s);if(i!==null&&Gk(i),i=tg(e,t,n,r),i===null&&vp(e,t,r,Vd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else vp(e,t,r,null,n)}}var Vd=null;function tg(e,t,n,r){if(Vd=null,e=ky(r),e=Mi(e),e!==null)if(t=go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Fk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vd=e,null}function Xk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WD()){case Ty:return 1;case zk:return 4;case Ld:case HD:return 16;case qk:return 536870912;default:return 16}default:return 16}}var Ws=null,Ay=null,ad=null;function Zk(){if(ad)return ad;var e,t=Ay,n=t.length,r,s="value"in Ws?Ws.value:Ws.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ad=s.slice(e,1<r?1-r:void 0)}function ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vu(){return!0}function Cb(){return!1}function Tn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vu:Cb,this.isPropagationStopped=Cb,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ny=Tn(Ka),zc=et({},Ka,{view:0,detail:0}),iL=Tn(zc),lp,cp,fl,Kh=et({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(lp=e.screenX-fl.screenX,cp=e.screenY-fl.screenY):cp=lp=0,fl=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:cp}}),jb=Tn(Kh),oL=et({},Kh,{dataTransfer:0}),aL=Tn(oL),lL=et({},zc,{relatedTarget:0}),up=Tn(lL),cL=et({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),uL=Tn(cL),dL=et({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hL=Tn(dL),fL=et({},Ka,{data:0}),Pb=Tn(fL),pL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gL[e])?!!t[e]:!1}function Oy(){return vL}var yL=et({},zc,{key:function(e){if(e.key){var t=pL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oy,charCode:function(e){return e.type==="keypress"?ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wL=Tn(yL),bL=et({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ab=Tn(bL),xL=et({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oy}),SL=Tn(xL),_L=et({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),EL=Tn(_L),kL=et({},Kh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TL=Tn(kL),CL=[9,13,27,32],Ry=ls&&"CompositionEvent"in window,Dl=null;ls&&"documentMode"in document&&(Dl=document.documentMode);var jL=ls&&"TextEvent"in window&&!Dl,eT=ls&&(!Ry||Dl&&8<Dl&&11>=Dl),Nb=" ",Ob=!1;function tT(e,t){switch(e){case"keyup":return CL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fo=!1;function PL(e,t){switch(e){case"compositionend":return nT(t);case"keypress":return t.which!==32?null:(Ob=!0,Nb);case"textInput":return e=t.data,e===Nb&&Ob?null:e;default:return null}}function AL(e,t){if(Fo)return e==="compositionend"||!Ry&&tT(e,t)?(e=Zk(),ad=Ay=Ws=null,Fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eT&&t.locale!=="ko"?null:t.data;default:return null}}var NL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NL[e.type]:t==="textarea"}function rT(e,t,n,r){Ik(r),t=Ud(t,"onChange"),0<t.length&&(n=new Ny("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ll=null,sc=null;function OL(e){pT(e,0)}function Jh(e){var t=Bo(e);if(Ck(t))return e}function RL(e,t){if(e==="change")return t}var sT=!1;if(ls){var dp;if(ls){var hp="oninput"in document;if(!hp){var Ib=document.createElement("div");Ib.setAttribute("oninput","return;"),hp=typeof Ib.oninput=="function"}dp=hp}else dp=!1;sT=dp&&(!document.documentMode||9<document.documentMode)}function Mb(){Ll&&(Ll.detachEvent("onpropertychange",iT),sc=Ll=null)}function iT(e){if(e.propertyName==="value"&&Jh(sc)){var t=[];rT(t,sc,e,ky(e)),$k(OL,t)}}function IL(e,t,n){e==="focusin"?(Mb(),Ll=t,sc=n,Ll.attachEvent("onpropertychange",iT)):e==="focusout"&&Mb()}function ML(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jh(sc)}function DL(e,t){if(e==="click")return Jh(t)}function LL(e,t){if(e==="input"||e==="change")return Jh(t)}function $L(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vr=typeof Object.is=="function"?Object.is:$L;function ic(e,t){if(vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lm.call(t,s)||!vr(e[s],t[s]))return!1}return!0}function Db(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lb(e,t){var n=Db(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Db(n)}}function oT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aT(){for(var e=window,t=Id();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Id(e.document)}return t}function Iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FL(e){var t=aT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&oT(n.ownerDocument.documentElement,n)){if(r!==null&&Iy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Lb(n,i);var o=Lb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VL=ls&&"documentMode"in document&&11>=document.documentMode,Vo=null,ng=null,$l=null,rg=!1;function $b(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rg||Vo==null||Vo!==Id(r)||(r=Vo,"selectionStart"in r&&Iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&ic($l,r)||($l=r,r=Ud(ng,"onSelect"),0<r.length&&(t=new Ny("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vo)))}function yu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Uo={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},fp={},lT={};ls&&(lT=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Yh(e){if(fp[e])return fp[e];if(!Uo[e])return e;var t=Uo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lT)return fp[e]=t[n];return e}var cT=Yh("animationend"),uT=Yh("animationiteration"),dT=Yh("animationstart"),hT=Yh("transitionend"),fT=new Map,Fb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){fT.set(e,t),mo(t,[e])}for(var pp=0;pp<Fb.length;pp++){var mp=Fb[pp],UL=mp.toLowerCase(),BL=mp[0].toUpperCase()+mp.slice(1);fi(UL,"on"+BL)}fi(cT,"onAnimationEnd");fi(uT,"onAnimationIteration");fi(dT,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(hT,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zL=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function Vb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UD(r,t,void 0,e),e.currentTarget=null}function pT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Vb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Vb(s,a,c),i=l}}}if(Dd)throw e=Xm,Dd=!1,Xm=null,e}function qe(e,t){var n=t[lg];n===void 0&&(n=t[lg]=new Set);var r=e+"__bubble";n.has(r)||(mT(t,e,2,!1),n.add(r))}function gp(e,t,n){var r=0;t&&(r|=4),mT(n,e,r,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function oc(e){if(!e[wu]){e[wu]=!0,Sk.forEach(function(n){n!=="selectionchange"&&(zL.has(n)||gp(n,!1,e),gp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,gp("selectionchange",!1,t))}}function mT(e,t,n,r){switch(Xk(t)){case 1:var s=rL;break;case 4:s=sL;break;default:s=Py}n=s.bind(null,t,n,e),s=void 0,!Qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function vp(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}$k(function(){var c=i,d=ky(n),h=[];e:{var f=fT.get(e);if(f!==void 0){var m=Ny,b=e;switch(e){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":m=wL;break;case"focusin":b="focus",m=up;break;case"focusout":b="blur",m=up;break;case"beforeblur":case"afterblur":m=up;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SL;break;case cT:case uT:case dT:m=uL;break;case hT:m=EL;break;case"scroll":m=iL;break;case"wheel":m=TL;break;case"copy":case"cut":case"paste":m=hL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ab}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=c,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=ec(w,y),E!=null&&p.push(ac(w,E,S)))),x)break;w=w.return}0<p.length&&(f=new m(f,b,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Jm&&(b=n.relatedTarget||n.fromElement)&&(Mi(b)||b[cs]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?Mi(b):null,b!==null&&(x=go(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(p=jb,E="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=Ab,E="onPointerLeave",y="onPointerEnter",w="pointer"),x=m==null?f:Bo(m),S=b==null?f:Bo(b),f=new p(E,w+"leave",m,n,d),f.target=x,f.relatedTarget=S,E=null,Mi(d)===c&&(p=new p(y,w+"enter",b,n,d),p.target=S,p.relatedTarget=x,E=p),x=E,m&&b)t:{for(p=m,y=b,w=0,S=p;S;S=_o(S))w++;for(S=0,E=y;E;E=_o(E))S++;for(;0<w-S;)p=_o(p),w--;for(;0<S-w;)y=_o(y),S--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=_o(p),y=_o(y)}p=null}else p=null;m!==null&&Ub(h,f,m,p,!1),b!==null&&x!==null&&Ub(h,x,b,p,!0)}}e:{if(f=c?Bo(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=RL;else if(Rb(f))if(sT)T=LL;else{T=ML;var C=IL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=DL);if(T&&(T=T(e,c))){rT(h,T,n,d);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&qm(f,"number",f.value)}switch(C=c?Bo(c):window,e){case"focusin":(Rb(C)||C.contentEditable==="true")&&(Vo=C,ng=c,$l=null);break;case"focusout":$l=ng=Vo=null;break;case"mousedown":rg=!0;break;case"contextmenu":case"mouseup":case"dragend":rg=!1,$b(h,n,d);break;case"selectionchange":if(VL)break;case"keydown":case"keyup":$b(h,n,d)}var j;if(Ry)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fo?tT(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(eT&&n.locale!=="ko"&&(Fo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fo&&(j=Zk()):(Ws=d,Ay="value"in Ws?Ws.value:Ws.textContent,Fo=!0)),C=Ud(c,N),0<C.length&&(N=new Pb(N,e,null,n,d),h.push({event:N,listeners:C}),j?N.data=j:(j=nT(n),j!==null&&(N.data=j)))),(j=jL?PL(e,n):AL(e,n))&&(c=Ud(c,"onBeforeInput"),0<c.length&&(d=new Pb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}pT(h,t)})}function ac(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ud(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ec(e,n),i!=null&&r.unshift(ac(e,i,s)),i=ec(e,t),i!=null&&r.push(ac(e,i,s))),e=e.return}return r}function _o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ub(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ec(n,i),l!=null&&o.unshift(ac(n,l,a))):s||(l=ec(n,i),l!=null&&o.push(ac(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qL=/\r\n?/g,WL=/\u0000|\uFFFD/g;function Bb(e){return(typeof e=="string"?e:""+e).replace(qL,`
`).replace(WL,"")}function bu(e,t,n){if(t=Bb(t),Bb(e)!==t&&n)throw Error(K(425))}function Bd(){}var sg=null,ig=null;function og(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ag=typeof setTimeout=="function"?setTimeout:void 0,HL=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,GL=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(e){return zb.resolve(null).then(e).catch(KL)}:ag;function KL(e){setTimeout(function(){throw e})}function yp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),rc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);rc(t)}function Xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Ja,lc="__reactProps$"+Ja,cs="__reactContainer$"+Ja,lg="__reactEvents$"+Ja,JL="__reactListeners$"+Ja,YL="__reactHandles$"+Ja;function Mi(e){var t=e[Nr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cs]||n[Nr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qb(e);e!==null;){if(n=e[Nr])return n;e=qb(e)}return t}e=n,n=e.parentNode}return null}function qc(e){return e=e[Nr]||e[cs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Qh(e){return e[lc]||null}var cg=[],zo=-1;function pi(e){return{current:e}}function We(e){0>zo||(e.current=cg[zo],cg[zo]=null,zo--)}function Ue(e,t){zo++,cg[zo]=e.current,e.current=t}var oi={},Bt=pi(oi),cn=pi(!1),to=oi;function Ta(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function un(e){return e=e.childContextTypes,e!=null}function zd(){We(cn),We(Bt)}function Wb(e,t,n){if(Bt.current!==oi)throw Error(K(168));Ue(Bt,t),Ue(cn,n)}function gT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,ID(e)||"Unknown",s));return et({},n,r)}function qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,to=Bt.current,Ue(Bt,e),Ue(cn,cn.current),!0}function Hb(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=gT(e,t,to),r.__reactInternalMemoizedMergedChildContext=e,We(cn),We(Bt),Ue(Bt,e)):We(cn),Ue(cn,n)}var Zr=null,Xh=!1,wp=!1;function vT(e){Zr===null?Zr=[e]:Zr.push(e)}function QL(e){Xh=!0,vT(e)}function mi(){if(!wp&&Zr!==null){wp=!0;var e=0,t=Oe;try{var n=Zr;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zr=null,Xh=!1}catch(s){throw Zr!==null&&(Zr=Zr.slice(e+1)),Bk(Ty,mi),s}finally{Oe=t,wp=!1}}return null}var qo=[],Wo=0,Wd=null,Hd=0,Nn=[],On=0,no=null,ts=1,ns="";function Pi(e,t){qo[Wo++]=Hd,qo[Wo++]=Wd,Wd=e,Hd=t}function yT(e,t,n){Nn[On++]=ts,Nn[On++]=ns,Nn[On++]=no,no=e;var r=ts;e=ns;var s=32-pr(r)-1;r&=~(1<<s),n+=1;var i=32-pr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ts=1<<32-pr(t)+s|n<<s|r,ns=i+e}else ts=1<<i|n<<s|r,ns=e}function My(e){e.return!==null&&(Pi(e,1),yT(e,1,0))}function Dy(e){for(;e===Wd;)Wd=qo[--Wo],qo[Wo]=null,Hd=qo[--Wo],qo[Wo]=null;for(;e===no;)no=Nn[--On],Nn[On]=null,ns=Nn[--On],Nn[On]=null,ts=Nn[--On],Nn[On]=null}var Sn=null,bn=null,Ke=!1,dr=null;function wT(e,t){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sn=e,bn=Xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=no!==null?{id:ts,overflow:ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Sn=e,bn=null,!0):!1;default:return!1}}function ug(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dg(e){if(Ke){var t=bn;if(t){var n=t;if(!Gb(e,t)){if(ug(e))throw Error(K(418));t=Xs(n.nextSibling);var r=Sn;t&&Gb(e,t)?wT(r,n):(e.flags=e.flags&-4097|2,Ke=!1,Sn=e)}}else{if(ug(e))throw Error(K(418));e.flags=e.flags&-4097|2,Ke=!1,Sn=e}}}function Kb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function xu(e){if(e!==Sn)return!1;if(!Ke)return Kb(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!og(e.type,e.memoizedProps)),t&&(t=bn)){if(ug(e))throw bT(),Error(K(418));for(;t;)wT(e,t),t=Xs(t.nextSibling)}if(Kb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Xs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=Sn?Xs(e.stateNode.nextSibling):null;return!0}function bT(){for(var e=bn;e;)e=Xs(e.nextSibling)}function Ca(){bn=Sn=null,Ke=!1}function Ly(e){dr===null?dr=[e]:dr.push(e)}var XL=gs.ReactCurrentBatchConfig;function pl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Su(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jb(e){var t=e._init;return t(e._payload)}function xT(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ni(y,w),y.index=0,y.sibling=null,y}function i(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,E){return w===null||w.tag!==6?(w=Tp(S,y.mode,E),w.return=y,w):(w=s(w,S),w.return=y,w)}function l(y,w,S,E){var T=S.type;return T===$o?d(y,w,S.props.children,E,S.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Os&&Jb(T)===w.type)?(E=s(w,S.props),E.ref=pl(y,w,S),E.return=y,E):(E=md(S.type,S.key,S.props,null,y.mode,E),E.ref=pl(y,w,S),E.return=y,E)}function c(y,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Cp(S,y.mode,E),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function d(y,w,S,E,T){return w===null||w.tag!==7?(w=Ji(S,y.mode,E,T),w.return=y,w):(w=s(w,S),w.return=y,w)}function h(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Tp(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case du:return S=md(w.type,w.key,w.props,null,y.mode,S),S.ref=pl(y,null,w),S.return=y,S;case Lo:return w=Cp(w,y.mode,S),w.return=y,w;case Os:var E=w._init;return h(y,E(w._payload),S)}if(_l(w)||cl(w))return w=Ji(w,y.mode,S,null),w.return=y,w;Su(y,w)}return null}function f(y,w,S,E){var T=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case du:return S.key===T?l(y,w,S,E):null;case Lo:return S.key===T?c(y,w,S,E):null;case Os:return T=S._init,f(y,w,T(S._payload),E)}if(_l(S)||cl(S))return T!==null?null:d(y,w,S,E,null);Su(y,S)}return null}function m(y,w,S,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,a(w,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case du:return y=y.get(E.key===null?S:E.key)||null,l(w,y,E,T);case Lo:return y=y.get(E.key===null?S:E.key)||null,c(w,y,E,T);case Os:var C=E._init;return m(y,w,S,C(E._payload),T)}if(_l(E)||cl(E))return y=y.get(S)||null,d(w,y,E,T,null);Su(w,E)}return null}function b(y,w,S,E){for(var T=null,C=null,j=w,N=w=0,M=null;j!==null&&N<S.length;N++){j.index>N?(M=j,j=null):M=j.sibling;var I=f(y,j,S[N],E);if(I===null){j===null&&(j=M);break}e&&j&&I.alternate===null&&t(y,j),w=i(I,w,N),C===null?T=I:C.sibling=I,C=I,j=M}if(N===S.length)return n(y,j),Ke&&Pi(y,N),T;if(j===null){for(;N<S.length;N++)j=h(y,S[N],E),j!==null&&(w=i(j,w,N),C===null?T=j:C.sibling=j,C=j);return Ke&&Pi(y,N),T}for(j=r(y,j);N<S.length;N++)M=m(j,y,N,S[N],E),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?N:M.key),w=i(M,w,N),C===null?T=M:C.sibling=M,C=M);return e&&j.forEach(function(R){return t(y,R)}),Ke&&Pi(y,N),T}function p(y,w,S,E){var T=cl(S);if(typeof T!="function")throw Error(K(150));if(S=T.call(S),S==null)throw Error(K(151));for(var C=T=null,j=w,N=w=0,M=null,I=S.next();j!==null&&!I.done;N++,I=S.next()){j.index>N?(M=j,j=null):M=j.sibling;var R=f(y,j,I.value,E);if(R===null){j===null&&(j=M);break}e&&j&&R.alternate===null&&t(y,j),w=i(R,w,N),C===null?T=R:C.sibling=R,C=R,j=M}if(I.done)return n(y,j),Ke&&Pi(y,N),T;if(j===null){for(;!I.done;N++,I=S.next())I=h(y,I.value,E),I!==null&&(w=i(I,w,N),C===null?T=I:C.sibling=I,C=I);return Ke&&Pi(y,N),T}for(j=r(y,j);!I.done;N++,I=S.next())I=m(j,y,N,I.value,E),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?N:I.key),w=i(I,w,N),C===null?T=I:C.sibling=I,C=I);return e&&j.forEach(function(F){return t(y,F)}),Ke&&Pi(y,N),T}function x(y,w,S,E){if(typeof S=="object"&&S!==null&&S.type===$o&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case du:e:{for(var T=S.key,C=w;C!==null;){if(C.key===T){if(T=S.type,T===$o){if(C.tag===7){n(y,C.sibling),w=s(C,S.props.children),w.return=y,y=w;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Os&&Jb(T)===C.type){n(y,C.sibling),w=s(C,S.props),w.ref=pl(y,C,S),w.return=y,y=w;break e}n(y,C);break}else t(y,C);C=C.sibling}S.type===$o?(w=Ji(S.props.children,y.mode,E,S.key),w.return=y,y=w):(E=md(S.type,S.key,S.props,null,y.mode,E),E.ref=pl(y,w,S),E.return=y,y=E)}return o(y);case Lo:e:{for(C=S.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Cp(S,y.mode,E),w.return=y,y=w}return o(y);case Os:return C=S._init,x(y,w,C(S._payload),E)}if(_l(S))return b(y,w,S,E);if(cl(S))return p(y,w,S,E);Su(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=Tp(S,y.mode,E),w.return=y,y=w),o(y)):n(y,w)}return x}var ja=xT(!0),ST=xT(!1),Gd=pi(null),Kd=null,Ho=null,$y=null;function Fy(){$y=Ho=Kd=null}function Vy(e){var t=Gd.current;We(Gd),e._currentValue=t}function hg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ia(e,t){Kd=e,$y=Ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Un(e){var t=e._currentValue;if($y!==e)if(e={context:e,memoizedValue:t,next:null},Ho===null){if(Kd===null)throw Error(K(308));Ho=e,Kd.dependencies={lanes:0,firstContext:e}}else Ho=Ho.next=e;return t}var Di=null;function Uy(e){Di===null?Di=[e]:Di.push(e)}function _T(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Uy(t)):(n.next=s.next,s.next=n),t.interleaved=n,us(e,r)}function us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rs=!1;function By(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ET(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,us(e,n)}return s=r.interleaved,s===null?(t.next=t,Uy(r)):(t.next=s.next,s.next=t),r.interleaved=t,us(e,n)}function cd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cy(e,n)}}function Yb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jd(e,t,n,r){var s=e.updateQueue;Rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,p=a;switch(f=t,m=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){h=b.call(m,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,f=typeof b=="function"?b.call(m,h,f):b,f==null)break e;h=et({},h,f);break e;case 2:Rs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);so|=o,e.lanes=o,e.memoizedState=h}}function Qb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Wc={},Mr=pi(Wc),cc=pi(Wc),uc=pi(Wc);function Li(e){if(e===Wc)throw Error(K(174));return e}function zy(e,t){switch(Ue(uc,t),Ue(cc,e),Ue(Mr,Wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hm(t,e)}We(Mr),Ue(Mr,t)}function Pa(){We(Mr),We(cc),We(uc)}function kT(e){Li(uc.current);var t=Li(Mr.current),n=Hm(t,e.type);t!==n&&(Ue(cc,e),Ue(Mr,n))}function qy(e){cc.current===e&&(We(Mr),We(cc))}var Qe=pi(0);function Yd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bp=[];function Wy(){for(var e=0;e<bp.length;e++)bp[e]._workInProgressVersionPrimary=null;bp.length=0}var ud=gs.ReactCurrentDispatcher,xp=gs.ReactCurrentBatchConfig,ro=0,Ze=null,mt=null,bt=null,Qd=!1,Fl=!1,dc=0,ZL=0;function It(){throw Error(K(321))}function Hy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function Gy(e,t,n,r,s,i){if(ro=i,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ud.current=e===null||e.memoizedState===null?r2:s2,e=n(r,s),Fl){i=0;do{if(Fl=!1,dc=0,25<=i)throw Error(K(301));i+=1,bt=mt=null,t.updateQueue=null,ud.current=i2,e=n(r,s)}while(Fl)}if(ud.current=Xd,t=mt!==null&&mt.next!==null,ro=0,bt=mt=Ze=null,Qd=!1,t)throw Error(K(300));return e}function Ky(){var e=dc!==0;return dc=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ze.memoizedState=bt=e:bt=bt.next=e,bt}function Bn(){if(mt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=bt===null?Ze.memoizedState:bt.next;if(t!==null)bt=t,mt=e;else{if(e===null)throw Error(K(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},bt===null?Ze.memoizedState=bt=e:bt=bt.next=e}return bt}function hc(e,t){return typeof t=="function"?t(e):t}function Sp(e){var t=Bn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ro&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ze.lanes|=d,so|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,vr(r,t.memoizedState)||(ln=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ze.lanes|=i,so|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _p(e){var t=Bn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vr(i,t.memoizedState)||(ln=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function TT(){}function CT(e,t){var n=Ze,r=Bn(),s=t(),i=!vr(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,Jy(AT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,fc(9,PT.bind(null,n,r,s,t),void 0,null),_t===null)throw Error(K(349));ro&30||jT(n,t,s)}return s}function jT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PT(e,t,n,r){t.value=n,t.getSnapshot=r,NT(t)&&OT(e)}function AT(e,t,n){return n(function(){NT(t)&&OT(e)})}function NT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function OT(e){var t=us(e,1);t!==null&&mr(t,e,1,-1)}function Xb(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:e},t.queue=e,e=e.dispatch=n2.bind(null,Ze,e),[t.memoizedState,e]}function fc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function RT(){return Bn().memoizedState}function dd(e,t,n,r){var s=Er();Ze.flags|=e,s.memoizedState=fc(1|t,n,void 0,r===void 0?null:r)}function Zh(e,t,n,r){var s=Bn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&Hy(r,o.deps)){s.memoizedState=fc(t,n,i,r);return}}Ze.flags|=e,s.memoizedState=fc(1|t,n,i,r)}function Zb(e,t){return dd(8390656,8,e,t)}function Jy(e,t){return Zh(2048,8,e,t)}function IT(e,t){return Zh(4,2,e,t)}function MT(e,t){return Zh(4,4,e,t)}function DT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function LT(e,t,n){return n=n!=null?n.concat([e]):null,Zh(4,4,DT.bind(null,t,e),n)}function Yy(){}function $T(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FT(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VT(e,t,n){return ro&21?(vr(n,t)||(n=Wk(),Ze.lanes|=n,so|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=n)}function e2(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=xp.transition;xp.transition={};try{e(!1),t()}finally{Oe=n,xp.transition=r}}function UT(){return Bn().memoizedState}function t2(e,t,n){var r=ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BT(e))zT(t,n);else if(n=_T(e,t,n,r),n!==null){var s=en();mr(n,e,r,s),qT(n,t,r)}}function n2(e,t,n){var r=ti(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BT(e))zT(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vr(a,o)){var l=t.interleaved;l===null?(s.next=s,Uy(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=_T(e,t,s,r),n!==null&&(s=en(),mr(n,e,r,s),qT(n,t,r))}}function BT(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function zT(e,t){Fl=Qd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cy(e,n)}}var Xd={readContext:Un,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},r2={readContext:Un,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:Un,useEffect:Zb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dd(4194308,4,DT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dd(4194308,4,e,t)},useInsertionEffect:function(e,t){return dd(4,2,e,t)},useMemo:function(e,t){var n=Er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Er();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=t2.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:Xb,useDebugValue:Yy,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=Xb(!1),t=e[0];return e=e2.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ze,s=Er();if(Ke){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),_t===null)throw Error(K(349));ro&30||jT(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Zb(AT.bind(null,r,i,e),[e]),r.flags|=2048,fc(9,PT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Er(),t=_t.identifierPrefix;if(Ke){var n=ns,r=ts;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s2={readContext:Un,useCallback:$T,useContext:Un,useEffect:Jy,useImperativeHandle:LT,useInsertionEffect:IT,useLayoutEffect:MT,useMemo:FT,useReducer:Sp,useRef:RT,useState:function(){return Sp(hc)},useDebugValue:Yy,useDeferredValue:function(e){var t=Bn();return VT(t,mt.memoizedState,e)},useTransition:function(){var e=Sp(hc)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:TT,useSyncExternalStore:CT,useId:UT,unstable_isNewReconciler:!1},i2={readContext:Un,useCallback:$T,useContext:Un,useEffect:Jy,useImperativeHandle:LT,useInsertionEffect:IT,useLayoutEffect:MT,useMemo:FT,useReducer:_p,useRef:RT,useState:function(){return _p(hc)},useDebugValue:Yy,useDeferredValue:function(e){var t=Bn();return mt===null?t.memoizedState=e:VT(t,mt.memoizedState,e)},useTransition:function(){var e=_p(hc)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:TT,useSyncExternalStore:CT,useId:UT,unstable_isNewReconciler:!1};function sr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:et({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ef={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=en(),s=ti(e),i=os(r,s);i.payload=t,n!=null&&(i.callback=n),t=Zs(e,i,s),t!==null&&(mr(t,e,s,r),cd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=en(),s=ti(e),i=os(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Zs(e,i,s),t!==null&&(mr(t,e,s,r),cd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),r=ti(e),s=os(n,r);s.tag=2,t!=null&&(s.callback=t),t=Zs(e,s,r),t!==null&&(mr(t,e,r,n),cd(t,e,r))}};function ex(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ic(n,r)||!ic(s,i):!0}function WT(e,t,n){var r=!1,s=oi,i=t.contextType;return typeof i=="object"&&i!==null?i=Un(i):(s=un(t)?to:Bt.current,r=t.contextTypes,i=(r=r!=null)?Ta(e,s):oi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ef,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function tx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ef.enqueueReplaceState(t,t.state,null)}function pg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},By(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Un(i):(i=un(t)?to:Bt.current,s.context=Ta(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ef.enqueueReplaceState(s,s.state,null),Jd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Aa(e,t){try{var n="",r=t;do n+=RD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ep(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var o2=typeof WeakMap=="function"?WeakMap:Map;function HT(e,t,n){n=os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){eh||(eh=!0,kg=r),mg(e,t)},n}function GT(e,t,n){n=os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mg(e,t),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function nx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new o2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=b2.bind(null,e,t,n),t.then(e,e))}function rx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=os(-1,1),t.tag=2,Zs(n,t,1))),n.lanes|=1),e)}var a2=gs.ReactCurrentOwner,ln=!1;function Ht(e,t,n,r){t.child=e===null?ST(t,null,n,r):ja(t,e.child,n,r)}function ix(e,t,n,r,s){n=n.render;var i=t.ref;return ia(t,s),r=Gy(e,t,n,r,i,s),n=Ky(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ds(e,t,s)):(Ke&&n&&My(t),t.flags|=1,Ht(e,t,r,s),t.child)}function ox(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!sw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,KT(e,t,i,r,s)):(e=md(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ic,n(o,r)&&e.ref===t.ref)return ds(e,t,s)}return t.flags|=1,e=ni(i,r),e.ref=t.ref,e.return=t,t.child=e}function KT(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ic(i,r)&&e.ref===t.ref)if(ln=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,ds(e,t,s)}return gg(e,t,n,r,s)}function JT(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ko,gn),gn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(Ko,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ue(Ko,gn),gn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ue(Ko,gn),gn|=r;return Ht(e,t,s,n),t.child}function YT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gg(e,t,n,r,s){var i=un(n)?to:Bt.current;return i=Ta(t,i),ia(t,s),n=Gy(e,t,n,r,i,s),r=Ky(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ds(e,t,s)):(Ke&&r&&My(t),t.flags|=1,Ht(e,t,n,s),t.child)}function ax(e,t,n,r,s){if(un(n)){var i=!0;qd(t)}else i=!1;if(ia(t,s),t.stateNode===null)hd(e,t),WT(t,n,r),pg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=un(n)?to:Bt.current,c=Ta(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tx(t,o,r,c),Rs=!1;var f=t.memoizedState;o.state=f,Jd(t,r,o,s),l=t.memoizedState,a!==r||f!==l||cn.current||Rs?(typeof d=="function"&&(fg(t,n,d,r),l=t.memoizedState),(a=Rs||ex(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ET(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:sr(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=un(n)?to:Bt.current,l=Ta(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&tx(t,o,r,l),Rs=!1,f=t.memoizedState,o.state=f,Jd(t,r,o,s);var b=t.memoizedState;a!==h||f!==b||cn.current||Rs?(typeof m=="function"&&(fg(t,n,m,r),b=t.memoizedState),(c=Rs||ex(t,n,c,r,f,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return vg(e,t,n,r,i,s)}function vg(e,t,n,r,s,i){YT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Hb(t,n,!1),ds(e,t,i);r=t.stateNode,a2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ja(t,e.child,null,i),t.child=ja(t,null,a,i)):Ht(e,t,a,i),t.memoizedState=r.state,s&&Hb(t,n,!0),t.child}function QT(e){var t=e.stateNode;t.pendingContext?Wb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wb(e,t.context,!1),zy(e,t.containerInfo)}function lx(e,t,n,r,s){return Ca(),Ly(s),t.flags|=256,Ht(e,t,n,r),t.child}var yg={dehydrated:null,treeContext:null,retryLane:0};function wg(e){return{baseLanes:e,cachePool:null,transitions:null}}function XT(e,t,n){var r=t.pendingProps,s=Qe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ue(Qe,s&1),e===null)return dg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rf(o,r,0,null),e=Ji(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wg(n),t.memoizedState=yg,e):Qy(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return l2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ni(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ni(a,i):(i=Ji(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?wg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=yg,r}return i=e.child,e=i.sibling,r=ni(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qy(e,t){return t=rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _u(e,t,n,r){return r!==null&&Ly(r),ja(t,e.child,null,n),e=Qy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ep(Error(K(422))),_u(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=rf({mode:"visible",children:r.children},s,0,null),i=Ji(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ja(t,e.child,null,o),t.child.memoizedState=wg(o),t.memoizedState=yg,i);if(!(t.mode&1))return _u(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Ep(i,r,void 0),_u(e,t,o,r)}if(a=(o&e.childLanes)!==0,ln||a){if(r=_t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,us(e,s),mr(r,e,s,-1))}return rw(),r=Ep(Error(K(421))),_u(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=x2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,bn=Xs(s.nextSibling),Sn=t,Ke=!0,dr=null,e!==null&&(Nn[On++]=ts,Nn[On++]=ns,Nn[On++]=no,ts=e.id,ns=e.overflow,no=t),t=Qy(t,r.children),t.flags|=4096,t)}function cx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hg(e.return,t,n)}function kp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZT(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ht(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cx(e,n,t);else if(e.tag===19)cx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Yd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),kp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}kp(t,!0,n,null,i);break;case"together":kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ds(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),so|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function c2(e,t,n){switch(t.tag){case 3:QT(t),Ca();break;case 5:kT(t);break;case 1:un(t.type)&&qd(t);break;case 4:zy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ue(Gd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?XT(e,t,n):(Ue(Qe,Qe.current&1),e=ds(e,t,n),e!==null?e.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZT(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,JT(e,t,n)}return ds(e,t,n)}var eC,bg,tC,nC;eC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bg=function(){};tC=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Li(Mr.current);var i=null;switch(n){case"input":s=Bm(e,s),r=Bm(e,r),i=[];break;case"select":s=et({},s,{value:void 0}),r=et({},r,{value:void 0}),i=[];break;case"textarea":s=Wm(e,s),r=Wm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bd)}Gm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};nC=function(e,t,n,r){n!==r&&(t.flags|=4)};function ml(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function u2(e,t,n){var r=t.pendingProps;switch(Dy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return un(t.type)&&zd(),Mt(t),null;case 3:return r=t.stateNode,Pa(),We(cn),We(Bt),Wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dr!==null&&(jg(dr),dr=null))),bg(e,t),Mt(t),null;case 5:qy(t);var s=Li(uc.current);if(n=t.type,e!==null&&t.stateNode!=null)tC(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Mt(t),null}if(e=Li(Mr.current),xu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nr]=t,r[lc]=i,e=(t.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<kl.length;s++)qe(kl[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":yb(r,i),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qe("invalid",r);break;case"textarea":bb(r,i),qe("invalid",r)}Gm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bu(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bu(r.textContent,a,e),s=["children",""+a]):Xl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":hu(r),wb(r,i,!0);break;case"textarea":hu(r),xb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ak(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Nr]=t,e[lc]=r,eC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Km(n,r),n){case"dialog":qe("cancel",e),qe("close",e),s=r;break;case"iframe":case"object":case"embed":qe("load",e),s=r;break;case"video":case"audio":for(s=0;s<kl.length;s++)qe(kl[s],e);s=r;break;case"source":qe("error",e),s=r;break;case"img":case"image":case"link":qe("error",e),qe("load",e),s=r;break;case"details":qe("toggle",e),s=r;break;case"input":yb(e,r),s=Bm(e,r),qe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=et({},r,{value:void 0}),qe("invalid",e);break;case"textarea":bb(e,r),s=Wm(e,r),qe("invalid",e);break;default:s=r}Gm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Rk(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nk(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zl(e,l):typeof l=="number"&&Zl(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",e):l!=null&&xy(e,i,l,o))}switch(n){case"input":hu(e),wb(e,r,!1);break;case"textarea":hu(e),xb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ii(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ta(e,!!r.multiple,i,!1):r.defaultValue!=null&&ta(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mt(t),null;case 6:if(e&&t.stateNode!=null)nC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Li(uc.current),Li(Mr.current),xu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nr]=t,(i=r.nodeValue!==n)&&(e=Sn,e!==null))switch(e.tag){case 3:bu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nr]=t,t.stateNode=r}return Mt(t),null;case 13:if(We(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&bn!==null&&t.mode&1&&!(t.flags&128))bT(),Ca(),t.flags|=98560,i=!1;else if(i=xu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Nr]=t}else Ca(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mt(t),i=!1}else dr!==null&&(jg(dr),dr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?vt===0&&(vt=3):rw())),t.updateQueue!==null&&(t.flags|=4),Mt(t),null);case 4:return Pa(),bg(e,t),e===null&&oc(t.stateNode.containerInfo),Mt(t),null;case 10:return Vy(t.type._context),Mt(t),null;case 17:return un(t.type)&&zd(),Mt(t),null;case 19:if(We(Qe),i=t.memoizedState,i===null)return Mt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ml(i,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yd(e),o!==null){for(t.flags|=128,ml(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(Qe,Qe.current&1|2),t.child}e=e.sibling}i.tail!==null&&ot()>Na&&(t.flags|=128,r=!0,ml(i,!1),t.lanes=4194304)}else{if(!r)if(e=Yd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ml(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return Mt(t),null}else 2*ot()-i.renderingStartTime>Na&&n!==1073741824&&(t.flags|=128,r=!0,ml(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ot(),t.sibling=null,n=Qe.current,Ue(Qe,r?n&1|2:n&1),t):(Mt(t),null);case 22:case 23:return nw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gn&1073741824&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function d2(e,t){switch(Dy(t),t.tag){case 1:return un(t.type)&&zd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(),We(cn),We(Bt),Wy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qy(t),null;case 13:if(We(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Qe),null;case 4:return Pa(),null;case 10:return Vy(t.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Eu=!1,Lt=!1,h2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Go(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function xg(e,t,n){try{n()}catch(r){rt(e,t,r)}}var ux=!1;function f2(e,t){if(sg=Fd,e=aT(),Iy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ig={focusedElem:e,selectionRange:n},Fd=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:sr(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(E){rt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return b=ux,ux=!1,b}function Vl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xg(t,n,i)}s=s.next}while(s!==r)}}function tf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rC(e){var t=e.alternate;t!==null&&(e.alternate=null,rC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[lc],delete t[lg],delete t[JL],delete t[YL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sC(e){return e.tag===5||e.tag===3||e.tag===4}function dx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _g(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bd));else if(r!==4&&(e=e.child,e!==null))for(_g(e,t,n),e=e.sibling;e!==null;)_g(e,t,n),e=e.sibling}function Eg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Eg(e,t,n),e=e.sibling;e!==null;)Eg(e,t,n),e=e.sibling}var jt=null,cr=!1;function _s(e,t,n){for(n=n.child;n!==null;)iC(e,t,n),n=n.sibling}function iC(e,t,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Gh,n)}catch{}switch(n.tag){case 5:Lt||Go(n,t);case 6:var r=jt,s=cr;jt=null,_s(e,t,n),jt=r,cr=s,jt!==null&&(cr?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(cr?(e=jt,n=n.stateNode,e.nodeType===8?yp(e.parentNode,n):e.nodeType===1&&yp(e,n),rc(e)):yp(jt,n.stateNode));break;case 4:r=jt,s=cr,jt=n.stateNode.containerInfo,cr=!0,_s(e,t,n),jt=r,cr=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xg(n,t,o),s=s.next}while(s!==r)}_s(e,t,n);break;case 1:if(!Lt&&(Go(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,t,a)}_s(e,t,n);break;case 21:_s(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,_s(e,t,n),Lt=r):_s(e,t,n);break;default:_s(e,t,n)}}function hx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new h2),t.forEach(function(r){var s=S2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,cr=!1;break e;case 3:jt=a.stateNode.containerInfo,cr=!0;break e;case 4:jt=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(jt===null)throw Error(K(160));iC(i,o,s),jt=null,cr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){rt(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oC(t,e),t=t.sibling}function oC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yn(t,e),_r(e),r&4){try{Vl(3,e,e.return),tf(3,e)}catch(p){rt(e,e.return,p)}try{Vl(5,e,e.return)}catch(p){rt(e,e.return,p)}}break;case 1:Yn(t,e),_r(e),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Yn(t,e),_r(e),r&512&&n!==null&&Go(n,n.return),e.flags&32){var s=e.stateNode;try{Zl(s,"")}catch(p){rt(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&jk(s,i),Km(a,o);var c=Km(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Rk(s,h):d==="dangerouslySetInnerHTML"?Nk(s,h):d==="children"?Zl(s,h):xy(s,d,h,c)}switch(a){case"input":zm(s,i);break;case"textarea":Pk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ta(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ta(s,!!i.multiple,i.defaultValue,!0):ta(s,!!i.multiple,i.multiple?[]:"",!1))}s[lc]=i}catch(p){rt(e,e.return,p)}}break;case 6:if(Yn(t,e),_r(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){rt(e,e.return,p)}}break;case 3:if(Yn(t,e),_r(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rc(t.containerInfo)}catch(p){rt(e,e.return,p)}break;case 4:Yn(t,e),_r(e);break;case 13:Yn(t,e),_r(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ew=ot())),r&4&&hx(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(c=Lt)||d,Yn(t,e),Lt=c):Yn(t,e),_r(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(h=ne=d;ne!==null;){switch(f=ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:Vl(4,f,f.return);break;case 1:Go(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){rt(r,n,p)}}break;case 5:Go(f,f.return);break;case 22:if(f.memoizedState!==null){px(h);continue}}m!==null?(m.return=f,ne=m):px(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ok("display",o))}catch(p){rt(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){rt(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(t,e),_r(e),r&4&&hx(e);break;case 21:break;default:Yn(t,e),_r(e)}}function _r(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zl(s,""),r.flags&=-33);var i=dx(e);Eg(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dx(e);_g(e,a,o);break;default:throw Error(K(161))}}catch(l){rt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p2(e,t,n){ne=e,aC(e)}function aC(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Eu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=Eu;var c=Lt;if(Eu=o,(Lt=l)&&!c)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?mx(s):l!==null?(l.return=o,ne=l):mx(s);for(;i!==null;)ne=i,aC(i),i=i.sibling;ne=s,Eu=a,Lt=c}fx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):fx(e)}}function fx(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||tf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:sr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qb(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qb(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&rc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Lt||t.flags&512&&Sg(t)}catch(f){rt(t,t.return,f)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function px(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function mx(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tf(4,t)}catch(l){rt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){rt(t,s,l)}}var i=t.return;try{Sg(t)}catch(l){rt(t,i,l)}break;case 5:var o=t.return;try{Sg(t)}catch(l){rt(t,o,l)}}}catch(l){rt(t,t.return,l)}if(t===e){ne=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ne=a;break}ne=t.return}}var m2=Math.ceil,Zd=gs.ReactCurrentDispatcher,Xy=gs.ReactCurrentOwner,$n=gs.ReactCurrentBatchConfig,je=0,_t=null,dt=null,At=0,gn=0,Ko=pi(0),vt=0,pc=null,so=0,nf=0,Zy=0,Ul=null,on=null,ew=0,Na=1/0,Jr=null,eh=!1,kg=null,ei=null,ku=!1,Hs=null,th=0,Bl=0,Tg=null,fd=-1,pd=0;function en(){return je&6?ot():fd!==-1?fd:fd=ot()}function ti(e){return e.mode&1?je&2&&At!==0?At&-At:XL.transition!==null?(pd===0&&(pd=Wk()),pd):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Xk(e.type)),e):1}function mr(e,t,n,r){if(50<Bl)throw Bl=0,Tg=null,Error(K(185));Bc(e,n,r),(!(je&2)||e!==_t)&&(e===_t&&(!(je&2)&&(nf|=n),vt===4&&Ls(e,At)),dn(e,r),n===1&&je===0&&!(t.mode&1)&&(Na=ot()+500,Xh&&mi()))}function dn(e,t){var n=e.callbackNode;XD(e,t);var r=$d(e,e===_t?At:0);if(r===0)n!==null&&Eb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eb(n),t===1)e.tag===0?QL(gx.bind(null,e)):vT(gx.bind(null,e)),GL(function(){!(je&6)&&mi()}),n=null;else{switch(Hk(r)){case 1:n=Ty;break;case 4:n=zk;break;case 16:n=Ld;break;case 536870912:n=qk;break;default:n=Ld}n=mC(n,lC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lC(e,t){if(fd=-1,pd=0,je&6)throw Error(K(327));var n=e.callbackNode;if(oa()&&e.callbackNode!==n)return null;var r=$d(e,e===_t?At:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nh(e,r);else{t=r;var s=je;je|=2;var i=uC();(_t!==e||At!==t)&&(Jr=null,Na=ot()+500,Ki(e,t));do try{y2();break}catch(a){cC(e,a)}while(!0);Fy(),Zd.current=i,je=s,dt!==null?t=0:(_t=null,At=0,t=vt)}if(t!==0){if(t===2&&(s=Zm(e),s!==0&&(r=s,t=Cg(e,s))),t===1)throw n=pc,Ki(e,0),Ls(e,r),dn(e,ot()),n;if(t===6)Ls(e,r);else{if(s=e.current.alternate,!(r&30)&&!g2(s)&&(t=nh(e,r),t===2&&(i=Zm(e),i!==0&&(r=i,t=Cg(e,i))),t===1))throw n=pc,Ki(e,0),Ls(e,r),dn(e,ot()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Ai(e,on,Jr);break;case 3:if(Ls(e,r),(r&130023424)===r&&(t=ew+500-ot(),10<t)){if($d(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){en(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ag(Ai.bind(null,e,on,Jr),t);break}Ai(e,on,Jr);break;case 4:if(Ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-pr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m2(r/1960))-r,10<r){e.timeoutHandle=ag(Ai.bind(null,e,on,Jr),r);break}Ai(e,on,Jr);break;case 5:Ai(e,on,Jr);break;default:throw Error(K(329))}}}return dn(e,ot()),e.callbackNode===n?lC.bind(null,e):null}function Cg(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(Ki(e,t).flags|=256),e=nh(e,t),e!==2&&(t=on,on=n,t!==null&&jg(t)),e}function jg(e){on===null?on=e:on.push.apply(on,e)}function g2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~Zy,t&=~nf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pr(t),r=1<<n;e[n]=-1,t&=~r}}function gx(e){if(je&6)throw Error(K(327));oa();var t=$d(e,0);if(!(t&1))return dn(e,ot()),null;var n=nh(e,t);if(e.tag!==0&&n===2){var r=Zm(e);r!==0&&(t=r,n=Cg(e,r))}if(n===1)throw n=pc,Ki(e,0),Ls(e,t),dn(e,ot()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ai(e,on,Jr),dn(e,ot()),null}function tw(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Na=ot()+500,Xh&&mi())}}function io(e){Hs!==null&&Hs.tag===0&&!(je&6)&&oa();var t=je;je|=1;var n=$n.transition,r=Oe;try{if($n.transition=null,Oe=1,e)return e()}finally{Oe=r,$n.transition=n,je=t,!(je&6)&&mi()}}function nw(){gn=Ko.current,We(Ko)}function Ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,HL(n)),dt!==null)for(n=dt.return;n!==null;){var r=n;switch(Dy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zd();break;case 3:Pa(),We(cn),We(Bt),Wy();break;case 5:qy(r);break;case 4:Pa();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:Vy(r.type._context);break;case 22:case 23:nw()}n=n.return}if(_t=e,dt=e=ni(e.current,null),At=gn=t,vt=0,pc=null,Zy=nf=so=0,on=Ul=null,Di!==null){for(t=0;t<Di.length;t++)if(n=Di[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Di=null}return e}function cC(e,t){do{var n=dt;try{if(Fy(),ud.current=Xd,Qd){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qd=!1}if(ro=0,bt=mt=Ze=null,Fl=!1,dc=0,Xy.current=null,n===null||n.return===null){vt=1,pc=t,dt=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=rx(o);if(m!==null){m.flags&=-257,sx(m,o,a,i,t),m.mode&1&&nx(i,c,t),t=m,l=c;var b=t.updateQueue;if(b===null){var p=new Set;p.add(l),t.updateQueue=p}else b.add(l);break e}else{if(!(t&1)){nx(i,c,t),rw();break e}l=Error(K(426))}}else if(Ke&&a.mode&1){var x=rx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),sx(x,o,a,i,t),Ly(Aa(l,a));break e}}i=l=Aa(l,a),vt!==4&&(vt=2),Ul===null?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=HT(i,l,t);Yb(i,y);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ei===null||!ei.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=GT(i,a,t);Yb(i,E);break e}}i=i.return}while(i!==null)}hC(n)}catch(T){t=T,dt===n&&n!==null&&(dt=n=n.return);continue}break}while(!0)}function uC(){var e=Zd.current;return Zd.current=Xd,e===null?Xd:e}function rw(){(vt===0||vt===3||vt===2)&&(vt=4),_t===null||!(so&268435455)&&!(nf&268435455)||Ls(_t,At)}function nh(e,t){var n=je;je|=2;var r=uC();(_t!==e||At!==t)&&(Jr=null,Ki(e,t));do try{v2();break}catch(s){cC(e,s)}while(!0);if(Fy(),je=n,Zd.current=r,dt!==null)throw Error(K(261));return _t=null,At=0,vt}function v2(){for(;dt!==null;)dC(dt)}function y2(){for(;dt!==null&&!zD();)dC(dt)}function dC(e){var t=pC(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?hC(e):dt=t,Xy.current=null}function hC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=d2(n,t),n!==null){n.flags&=32767,dt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,dt=null;return}}else if(n=u2(n,t,gn),n!==null){dt=n;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);vt===0&&(vt=5)}function Ai(e,t,n){var r=Oe,s=$n.transition;try{$n.transition=null,Oe=1,w2(e,t,n,r)}finally{$n.transition=s,Oe=r}return null}function w2(e,t,n,r){do oa();while(Hs!==null);if(je&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ZD(e,i),e===_t&&(dt=_t=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,mC(Ld,function(){return oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$n.transition,$n.transition=null;var o=Oe;Oe=1;var a=je;je|=4,Xy.current=null,f2(e,n),oC(n,e),FL(ig),Fd=!!sg,ig=sg=null,e.current=n,p2(n),qD(),je=a,Oe=o,$n.transition=i}else e.current=n;if(ku&&(ku=!1,Hs=e,th=s),i=e.pendingLanes,i===0&&(ei=null),GD(n.stateNode),dn(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eh)throw eh=!1,e=kg,kg=null,e;return th&1&&e.tag!==0&&oa(),i=e.pendingLanes,i&1?e===Tg?Bl++:(Bl=0,Tg=e):Bl=0,mi(),null}function oa(){if(Hs!==null){var e=Hk(th),t=$n.transition,n=Oe;try{if($n.transition=null,Oe=16>e?16:e,Hs===null)var r=!1;else{if(e=Hs,Hs=null,th=0,je&6)throw Error(K(331));var s=je;for(je|=4,ne=e.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Vl(8,d,i)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var f=d.sibling,m=d.return;if(rC(d),d===c){ne=null;break}if(f!==null){f.return=m,ne=f;break}ne=m}}}var b=i.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ne=y;break e}ne=i.return}}var w=e.current;for(ne=w;ne!==null;){o=ne;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ne=S;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tf(9,a)}}catch(T){rt(a,a.return,T)}if(a===o){ne=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ne=E;break e}ne=a.return}}if(je=s,mi(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Gh,e)}catch{}r=!0}return r}finally{Oe=n,$n.transition=t}}return!1}function vx(e,t,n){t=Aa(n,t),t=HT(e,t,1),e=Zs(e,t,1),t=en(),e!==null&&(Bc(e,1,t),dn(e,t))}function rt(e,t,n){if(e.tag===3)vx(e,e,n);else for(;t!==null;){if(t.tag===3){vx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=Aa(n,e),e=GT(t,e,1),t=Zs(t,e,1),e=en(),t!==null&&(Bc(t,1,e),dn(t,e));break}}t=t.return}}function b2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(At&n)===n&&(vt===4||vt===3&&(At&130023424)===At&&500>ot()-ew?Ki(e,0):Zy|=n),dn(e,t)}function fC(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var n=en();e=us(e,t),e!==null&&(Bc(e,t,n),dn(e,n))}function x2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fC(e,n)}function S2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),fC(e,n)}var pC;pC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ln=!1,c2(e,t,n);ln=!!(e.flags&131072)}else ln=!1,Ke&&t.flags&1048576&&yT(t,Hd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hd(e,t),e=t.pendingProps;var s=Ta(t,Bt.current);ia(t,n),s=Gy(null,t,r,e,s,n);var i=Ky();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(r)?(i=!0,qd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,By(t),s.updater=ef,t.stateNode=s,s._reactInternals=t,pg(t,r,e,n),t=vg(null,t,r,!0,i,n)):(t.tag=0,Ke&&i&&My(t),Ht(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=E2(r),e=sr(r,e),s){case 0:t=gg(null,t,r,e,n);break e;case 1:t=ax(null,t,r,e,n);break e;case 11:t=ix(null,t,r,e,n);break e;case 14:t=ox(null,t,r,sr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),gg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),ax(e,t,r,s,n);case 3:e:{if(QT(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ET(e,t),Jd(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Aa(Error(K(423)),t),t=lx(e,t,r,n,s);break e}else if(r!==s){s=Aa(Error(K(424)),t),t=lx(e,t,r,n,s);break e}else for(bn=Xs(t.stateNode.containerInfo.firstChild),Sn=t,Ke=!0,dr=null,n=ST(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ca(),r===s){t=ds(e,t,n);break e}Ht(e,t,r,n)}t=t.child}return t;case 5:return kT(t),e===null&&dg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,og(r,s)?o=null:i!==null&&og(r,i)&&(t.flags|=32),YT(e,t),Ht(e,t,o,n),t.child;case 6:return e===null&&dg(t),null;case 13:return XT(e,t,n);case 4:return zy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ja(t,null,r,n):Ht(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),ix(e,t,r,s,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ue(Gd,r._currentValue),r._currentValue=o,i!==null)if(vr(i.value,o)){if(i.children===s.children&&!cn.current){t=ds(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=os(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),hg(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hg(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ht(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ia(t,n),s=Un(s),r=r(s),t.flags|=1,Ht(e,t,r,n),t.child;case 14:return r=t.type,s=sr(r,t.pendingProps),s=sr(r.type,s),ox(e,t,r,s,n);case 15:return KT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),hd(e,t),t.tag=1,un(r)?(e=!0,qd(t)):e=!1,ia(t,n),WT(t,r,s),pg(t,r,s,n),vg(null,t,r,!0,e,n);case 19:return ZT(e,t,n);case 22:return JT(e,t,n)}throw Error(K(156,t.tag))};function mC(e,t){return Bk(e,t)}function _2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,n,r){return new _2(e,t,n,r)}function sw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E2(e){if(typeof e=="function")return sw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_y)return 11;if(e===Ey)return 14}return 2}function ni(e,t){var n=e.alternate;return n===null?(n=In(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function md(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")sw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $o:return Ji(n.children,s,i,t);case Sy:o=8,s|=8;break;case $m:return e=In(12,n,t,s|2),e.elementType=$m,e.lanes=i,e;case Fm:return e=In(13,n,t,s),e.elementType=Fm,e.lanes=i,e;case Vm:return e=In(19,n,t,s),e.elementType=Vm,e.lanes=i,e;case kk:return rf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _k:o=10;break e;case Ek:o=9;break e;case _y:o=11;break e;case Ey:o=14;break e;case Os:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=In(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ji(e,t,n,r){return e=In(7,e,r,t),e.lanes=n,e}function rf(e,t,n,r){return e=In(22,e,r,t),e.elementType=kk,e.lanes=n,e.stateNode={isHidden:!1},e}function Tp(e,t,n){return e=In(6,e,null,t),e.lanes=n,e}function Cp(e,t,n){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ap(0),this.expirationTimes=ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ap(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function iw(e,t,n,r,s,i,o,a,l){return e=new k2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=In(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},By(i),e}function T2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gC(e){if(!e)return oi;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(un(n))return gT(e,n,t)}return t}function vC(e,t,n,r,s,i,o,a,l){return e=iw(n,r,!0,e,s,i,o,a,l),e.context=gC(null),n=e.current,r=en(),s=ti(n),i=os(r,s),i.callback=t??null,Zs(n,i,s),e.current.lanes=s,Bc(e,s,r),dn(e,r),e}function sf(e,t,n,r){var s=t.current,i=en(),o=ti(s);return n=gC(n),t.context===null?t.context=n:t.pendingContext=n,t=os(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zs(s,t,o),e!==null&&(mr(e,s,o,i),cd(e,s,o)),o}function rh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ow(e,t){yx(e,t),(e=e.alternate)&&yx(e,t)}function C2(){return null}var yC=typeof reportError=="function"?reportError:function(e){console.error(e)};function aw(e){this._internalRoot=e}of.prototype.render=aw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));sf(e,t,null,null)};of.prototype.unmount=aw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;io(function(){sf(null,e,null,null)}),t[cs]=null}};function of(e){this._internalRoot=e}of.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ds.length&&t!==0&&t<Ds[n].priority;n++);Ds.splice(n,0,e),n===0&&Qk(e)}};function lw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wx(){}function j2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=rh(o);i.call(c)}}var o=vC(t,r,e,0,null,!1,!1,"",wx);return e._reactRootContainer=o,e[cs]=o.current,oc(e.nodeType===8?e.parentNode:e),io(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=rh(l);a.call(c)}}var l=iw(e,0,!1,null,null,!1,!1,"",wx);return e._reactRootContainer=l,e[cs]=l.current,oc(e.nodeType===8?e.parentNode:e),io(function(){sf(t,l,n,r)}),l}function lf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rh(o);a.call(l)}}sf(t,o,e,s)}else o=j2(n,t,e,s,r);return rh(o)}Gk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=El(t.pendingLanes);n!==0&&(Cy(t,n|1),dn(t,ot()),!(je&6)&&(Na=ot()+500,mi()))}break;case 13:io(function(){var r=us(e,1);if(r!==null){var s=en();mr(r,e,1,s)}}),ow(e,1)}};jy=function(e){if(e.tag===13){var t=us(e,134217728);if(t!==null){var n=en();mr(t,e,134217728,n)}ow(e,134217728)}};Kk=function(e){if(e.tag===13){var t=ti(e),n=us(e,t);if(n!==null){var r=en();mr(n,e,t,r)}ow(e,t)}};Jk=function(){return Oe};Yk=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};Ym=function(e,t,n){switch(t){case"input":if(zm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Qh(r);if(!s)throw Error(K(90));Ck(r),zm(r,s)}}}break;case"textarea":Pk(e,n);break;case"select":t=n.value,t!=null&&ta(e,!!n.multiple,t,!1)}};Dk=tw;Lk=io;var P2={usingClientEntryPoint:!1,Events:[qc,Bo,Qh,Ik,Mk,tw]},gl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A2={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vk(e),e===null?null:e.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||C2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Gh=Tu.inject(A2),Ir=Tu}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P2;kn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(t))throw Error(K(200));return T2(e,t,null,n)};kn.createRoot=function(e,t){if(!lw(e))throw Error(K(299));var n=!1,r="",s=yC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=iw(e,1,!1,null,null,n,!1,r,s),e[cs]=t.current,oc(e.nodeType===8?e.parentNode:e),new aw(t)};kn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=Vk(t),e=e===null?null:e.stateNode,e};kn.flushSync=function(e){return io(e)};kn.hydrate=function(e,t,n){if(!af(t))throw Error(K(200));return lf(null,e,t,!0,n)};kn.hydrateRoot=function(e,t,n){if(!lw(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=vC(t,null,e,1,n??null,s,!1,i,o),e[cs]=t.current,oc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new of(t)};kn.render=function(e,t,n){if(!af(t))throw Error(K(200));return lf(null,e,t,!1,n)};kn.unmountComponentAtNode=function(e){if(!af(e))throw Error(K(40));return e._reactRootContainer?(io(function(){lf(null,null,e,!1,function(){e._reactRootContainer=null,e[cs]=null})}),!0):!1};kn.unstable_batchedUpdates=tw;kn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!af(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return lf(e,t,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function wC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wC)}catch(e){console.error(e)}}wC(),wk.exports=kn;var vo=wk.exports;const bC=ak(vo);var xC,bx=vo;xC=bx.createRoot,bx.hydrateRoot;const N2=1,O2=1e6;let jp=0;function R2(){return jp=(jp+1)%Number.MAX_SAFE_INTEGER,jp.toString()}const Pp=new Map,xx=e=>{if(Pp.has(e))return;const t=setTimeout(()=>{Pp.delete(e),zl({type:"REMOVE_TOAST",toastId:e})},O2);Pp.set(e,t)},I2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,N2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xx(n):e.toasts.forEach(r=>{xx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},gd=[];let vd={toasts:[]};function zl(e){vd=I2(vd,e),gd.forEach(t=>{t(vd)})}function M2({...e}){const t=R2(),n=s=>zl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>zl({type:"DISMISS_TOAST",toastId:t});return zl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Hc(){const[e,t]=v.useState(vd);return v.useEffect(()=>(gd.push(t),()=>{const n=gd.indexOf(t);n>-1&&gd.splice(n,1)}),[e]),{...e,toast:M2,dismiss:n=>zl({type:"DISMISS_TOAST",toastId:n})}}function ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Sx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function SC(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Sx(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Sx(e[s],null)}}}}function Ee(...e){return v.useCallback(SC(...e),e)}function D2(e,t){const n=v.createContext(t),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function qn(e,t=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var y;const{scope:f,children:m,...b}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,x=v.useMemo(()=>b,Object.values(b));return u.jsx(p.Provider,{value:x,children:m})};c.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[l])||a,b=v.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,L2(s,...t)]}function L2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Oa(e){const t=F2(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(V2);if(l){const c=l.props.children,d=a.map(h=>h===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var $2=Oa("Slot");function F2(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=B2(s),a=U2(i,s.props);return s.type!==v.Fragment&&(a.ref=r?SC(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _C=Symbol("radix.slottable");function EC(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=_C,t}function V2(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_C}function U2(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function B2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function cf(e){const t=e+"CollectionProvider",[n,r]=qn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:y}=p,w=H.useRef(null),S=H.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:S,collectionRef:w,children:y})};o.displayName=t;const a=e+"CollectionSlot",l=Oa(a),c=H.forwardRef((p,x)=>{const{scope:y,children:w}=p,S=i(a,y),E=Ee(x,S.collectionRef);return u.jsx(l,{ref:E,children:w})});c.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Oa(d),m=H.forwardRef((p,x)=>{const{scope:y,children:w,...S}=p,E=H.useRef(null),T=Ee(x,E),C=i(d,y);return H.useEffect(()=>(C.itemMap.set(E,{ref:E,...S}),()=>void C.itemMap.delete(E))),u.jsx(f,{[h]:"",ref:T,children:w})});m.displayName=d;function b(p){const x=i(e+"CollectionConsumer",p);return H.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((C,j)=>S.indexOf(C.ref.current)-S.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},b,r]}var z2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=z2.reduce((e,t)=>{const n=Oa(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kC(e,t){e&&vo.flushSync(()=>e.dispatchEvent(t))}function gt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function q2(e,t=globalThis==null?void 0:globalThis.document){const n=gt(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var W2="DismissableLayer",Pg="dismissableLayer.update",H2="dismissableLayer.pointerDownOutside",G2="dismissableLayer.focusOutside",_x,TC=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=v.useContext(TC),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),b=Ee(t,j=>h(j)),p=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),w=d?p.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,T=J2(j=>{const N=j.target,M=[...c.branches].some(I=>I.contains(N));!E||M||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},f),C=Y2(j=>{const N=j.target;[...c.branches].some(I=>I.contains(N))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},f);return q2(j=>{w===c.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(_x=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Ex(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_x)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Ex())},[d,c]),v.useEffect(()=>{const j=()=>m({});return document.addEventListener(Pg,j),()=>document.removeEventListener(Pg,j)},[]),u.jsx(fe.div,{...l,ref:b,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,T.onPointerDownCapture)})});Gc.displayName=W2;var K2="DismissableLayerBranch",CC=v.forwardRef((e,t)=>{const n=v.useContext(TC),r=v.useRef(null),s=Ee(t,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(fe.div,{...e,ref:s})});CC.displayName=K2;function J2(e,t=globalThis==null?void 0:globalThis.document){const n=gt(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){jC(H2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Y2(e,t=globalThis==null?void 0:globalThis.document){const n=gt(e),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&jC(G2,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ex(){const e=new CustomEvent(Pg);document.dispatchEvent(e)}function jC(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kC(s,i):s.dispatchEvent(i)}var Q2=Gc,X2=CC,yt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Z2="Portal",uf=v.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=v.useState(!1);yt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?bC.createPortal(u.jsx(fe.div,{...r,ref:t}),o):null});uf.displayName=Z2;function e$(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Wn=e=>{const{present:t,children:n}=e,r=t$(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Ee(r.ref,n$(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Wn.displayName="Presence";function t$(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[a,l]=e$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Cu(r.current);i.current=a==="mounted"?c:"none"},[a]),yt(()=>{const c=r.current,d=s.current;if(d!==e){const f=i.current,m=Cu(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),yt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=m=>{const p=Cu(r.current).includes(m.animationName);if(m.target===t&&p&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=Cu(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Cu(e){return(e==null?void 0:e.animationName)||"none"}function n$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var r$=yy[" useInsertionEffect ".trim().toString()]||yt;function hs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=s$({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=v.useCallback(d=>{var h;if(a){const f=i$(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,e,i,o]);return[l,c]}function s$({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),i=v.useRef(t);return r$(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function i$(e){return typeof e=="function"}var PC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o$="VisuallyHidden",df=v.forwardRef((e,t)=>u.jsx(fe.span,{...e,ref:t,style:{...PC,...e.style}}));df.displayName=o$;var a$=df,cw="ToastProvider",[uw,l$,c$]=cf("Toast"),[AC,oY]=qn("Toast",[c$]),[u$,hf]=AC(cw),NC=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=v.useState(null),[c,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cw}\`. Expected non-empty \`string\`.`),u.jsx(uw.Provider,{scope:t,children:u.jsx(u$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};NC.displayName=cw;var OC="ToastViewport",d$=["F8"],Ag="toast.viewportPause",Ng="toast.viewportResume",RC=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=d$,label:s="Notifications ({hotkey})",...i}=e,o=hf(OC,n),a=l$(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=Ee(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const x=y=>{var S;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=l.current,y=h.current;if(b&&x&&y){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Ag);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Ng);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!x.contains(C.relatedTarget)&&S()},T=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",E),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const E=S.ref.current,T=[E,...E$(E)];return x==="forwards"?T:T.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const x=h.current;if(x){const y=w=>{var T,C,j;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const N=document.activeElement,M=w.shiftKey;if(w.target===x&&M){(T=c.current)==null||T.focus();return}const F=p({tabbingDirection:M?"backwards":"forwards"}),W=F.findIndex(V=>V===N);Ap(F.slice(W+1))?w.preventDefault():M?(C=c.current)==null||C.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,p]),u.jsxs(X2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(Og,{ref:c,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Ap(x)}}),u.jsx(uw.Slot,{scope:n,children:u.jsx(fe.ol,{tabIndex:-1,...i,ref:f})}),b&&u.jsx(Og,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Ap(x)}})]})});RC.displayName=OC;var IC="ToastFocusProxy",Og=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=hf(IC,n);return u.jsx(df,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Og.displayName=IC;var Kc="Toast",h$="toast.swipeStart",f$="toast.swipeMove",p$="toast.swipeCancel",m$="toast.swipeEnd",MC=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=hs({prop:r,defaultProp:s??!0,onChange:i,caller:Kc});return u.jsx(Wn,{present:n||a,children:u.jsx(y$,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:gt(e.onPause),onResume:gt(e.onResume),onSwipeStart:ie(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(e.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ie(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(e.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});MC.displayName=Kc;var[g$,v$]=AC(Kc,{onClose(){}}),y$=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...b}=e,p=hf(Kc,n),[x,y]=v.useState(null),w=Ee(t,V=>y(V)),S=v.useRef(null),E=v.useRef(null),T=s||p.duration,C=v.useRef(0),j=v.useRef(T),N=v.useRef(0),{onToastAdd:M,onToastRemove:I}=p,R=gt(()=>{var Q;(x==null?void 0:x.contains(document.activeElement))&&((Q=p.viewport)==null||Q.focus()),o()}),F=v.useCallback(V=>{!V||V===1/0||(window.clearTimeout(N.current),C.current=new Date().getTime(),N.current=window.setTimeout(R,V))},[R]);v.useEffect(()=>{const V=p.viewport;if(V){const Q=()=>{F(j.current),c==null||c()},X=()=>{const Z=new Date().getTime()-C.current;j.current=j.current-Z,window.clearTimeout(N.current),l==null||l()};return V.addEventListener(Ag,X),V.addEventListener(Ng,Q),()=>{V.removeEventListener(Ag,X),V.removeEventListener(Ng,Q)}}},[p.viewport,T,l,c,F]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&F(T)},[i,T,p.isClosePausedRef,F]),v.useEffect(()=>(M(),()=>I()),[M,I]);const W=v.useMemo(()=>x?BC(x):null,[x]);return p.viewport?u.jsxs(u.Fragment,{children:[W&&u.jsx(w$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),u.jsx(g$,{scope:n,onClose:R,children:vo.createPortal(u.jsx(uw.ItemSlot,{scope:n,children:u.jsx(Q2,{asChild:!0,onEscapeKeyDown:ie(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ie(e.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:ie(e.onPointerDown,V=>{V.button===0&&(S.current={x:V.clientX,y:V.clientY})}),onPointerMove:ie(e.onPointerMove,V=>{if(!S.current)return;const Q=V.clientX-S.current.x,X=V.clientY-S.current.y,Z=!!E.current,$=["left","right"].includes(p.swipeDirection),U=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,J=$?U(0,Q):0,G=$?0:U(0,X),re=V.pointerType==="touch"?10:2,g={x:J,y:G},k={originalEvent:V,delta:g};Z?(E.current=g,ju(f$,h,k,{discrete:!1})):kx(g,p.swipeDirection,re)?(E.current=g,ju(h$,d,k,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(Q)>re||Math.abs(X)>re)&&(S.current=null)}),onPointerUp:ie(e.onPointerUp,V=>{const Q=E.current,X=V.target;if(X.hasPointerCapture(V.pointerId)&&X.releasePointerCapture(V.pointerId),E.current=null,S.current=null,Q){const Z=V.currentTarget,$={originalEvent:V,delta:Q};kx(Q,p.swipeDirection,p.swipeThreshold)?ju(m$,m,$,{discrete:!0}):ju(p$,f,$,{discrete:!0}),Z.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),w$=e=>{const{__scopeToast:t,children:n,...r}=e,s=hf(Kc,t),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return S$(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(uf,{asChild:!0,children:u.jsx(df,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},b$="ToastTitle",DC=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(fe.div,{...r,ref:t})});DC.displayName=b$;var x$="ToastDescription",LC=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(fe.div,{...r,ref:t})});LC.displayName=x$;var $C="ToastAction",FC=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(UC,{altText:n,asChild:!0,children:u.jsx(dw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$C}\`. Expected non-empty \`string\`.`),null)});FC.displayName=$C;var VC="ToastClose",dw=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=v$(VC,n);return u.jsx(UC,{asChild:!0,children:u.jsx(fe.button,{type:"button",...r,ref:t,onClick:ie(e.onClick,s.onClose)})})});dw.displayName=VC;var UC=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function BC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),_$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...BC(r))}}),t}function ju(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kC(s,i):s.dispatchEvent(i)}var kx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function S$(e=()=>{}){const t=gt(e);yt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function _$(e){return e.nodeType===e.ELEMENT_NODE}function E$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ap(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var k$=NC,zC=RC,qC=MC,WC=DC,HC=LC,GC=FC,KC=dw;function JC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=JC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function YC(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=JC(e))&&(r&&(r+=" "),r+=t);return r}const Tx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Cx=YC,ff=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Cx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=Tx(d)||Tx(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...i,...a}[p]):{...i,...a}[p]===x})?[...c,h,f]:c},[]);return Cx(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...C$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:QC("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(j$,{ref:i,iconNode:t,className:QC(`lucide-${T$(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=xe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=xe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=xe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=xe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=xe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=xe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=xe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=xe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=xe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),mw="-",H$=e=>{const t=K$(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(mw);return a[0]===""&&a.length!==1&&a.shift(),rj(a,t)||G$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},rj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?rj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(mw);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ox=/^\[(.+)\]$/,G$=e=>{if(Ox.test(e)){const t=Ox.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},K$=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Y$(Object.entries(e.classGroups),n).forEach(([i,o])=>{Ig(o,r,i,t)}),r},Ig=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Rx(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(J$(s)){Ig(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ig(o,Rx(t,i),n,r)})})},Rx=(e,t)=>{let n=e;return t.split(mw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},J$=e=>e.isThemeGetter,Y$=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,Q$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},sj="!",X$=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+i)===t)){l.push(a.slice(d,x)),d=x+i;continue}if(y==="/"){h=x;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(sj),b=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},Z$=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},eF=e=>({cache:Q$(e.cacheSize),parseClassName:X$(e),...H$(e)}),tF=/\s+/,nF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(tF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let b=!!m,p=r(b?f.substring(0,m):f);if(!p){if(!b){a=c+(a.length>0?" "+a:a);continue}if(p=r(f),!p){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=Z$(d).join(":"),y=h?x+sj:x,w=y+p;if(i.includes(w))continue;i.push(w);const S=s(p,b);for(let E=0;E<S.length;++E){const T=S[E];i.push(y+T)}a=c+(a.length>0?" "+a:a)}return a};function rF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ij(t))&&(r&&(r+=" "),r+=n);return r}const ij=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ij(e[r]))&&(n&&(n+=" "),n+=t);return n};function sF(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return n=eF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=nF(l,n);return s(l,d),d}return function(){return i(rF.apply(null,arguments))}}const ze=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},oj=/^\[(?:([a-z-]+):)?(.+)\]$/i,iF=/^\d+\/\d+$/,oF=new Set(["px","full","screen"]),aF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=e=>aa(e)||oF.has(e)||iF.test(e),Es=e=>Ya(e,"length",wF),aa=e=>!!e&&!Number.isNaN(Number(e)),Op=e=>Ya(e,"number",aa),vl=e=>!!e&&Number.isInteger(Number(e)),hF=e=>e.endsWith("%")&&aa(e.slice(0,-1)),Se=e=>oj.test(e),ks=e=>aF.test(e),fF=new Set(["length","size","percentage"]),pF=e=>Ya(e,fF,aj),mF=e=>Ya(e,"position",aj),gF=new Set(["image","url"]),vF=e=>Ya(e,gF,xF),yF=e=>Ya(e,"",bF),yl=()=>!0,Ya=(e,t,n)=>{const r=oj.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},wF=e=>lF.test(e)&&!cF.test(e),aj=()=>!1,bF=e=>uF.test(e),xF=e=>dF.test(e),SF=()=>{const e=ze("colors"),t=ze("spacing"),n=ze("blur"),r=ze("brightness"),s=ze("borderColor"),i=ze("borderRadius"),o=ze("borderSpacing"),a=ze("borderWidth"),l=ze("contrast"),c=ze("grayscale"),d=ze("hueRotate"),h=ze("invert"),f=ze("gap"),m=ze("gradientColorStops"),b=ze("gradientColorStopPositions"),p=ze("inset"),x=ze("margin"),y=ze("opacity"),w=ze("padding"),S=ze("saturate"),E=ze("scale"),T=ze("sepia"),C=ze("skew"),j=ze("space"),N=ze("translate"),M=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Se,t],F=()=>[Se,t],W=()=>["",Hr,Es],V=()=>["auto",aa,Se],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Se],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[aa,Se];return{cacheSize:500,separator:":",theme:{colors:[yl],spacing:[Hr,Es],blur:["none","",ks,Se],brightness:G(),borderColor:[e],borderRadius:["none","","full",ks,Se],borderSpacing:F(),borderWidth:W(),contrast:G(),grayscale:U(),hueRotate:G(),invert:U(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[hF,Es],inset:R(),margin:R(),opacity:G(),padding:F(),saturate:G(),scale:G(),sepia:U(),skew:G(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Se]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vl,Se]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",vl,Se]}],"grid-cols":[{"grid-cols":[yl]}],"col-start-end":[{col:["auto",{span:["full",vl,Se]},Se]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[yl]}],"row-start-end":[{row:["auto",{span:[vl,Se]},Se]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,t]}],"min-w":[{"min-w":[Se,t,"min","max","fit"]}],"max-w":[{"max-w":[Se,t,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[Se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Op]}],"font-family":[{font:[yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",aa,Op]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,Es]}],"underline-offset":[{"underline-offset":["auto",Hr,Se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),mF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Hr,Se]}],"outline-w":[{outline:[Hr,Es]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Hr,Es]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ks,yF]}],"shadow-color":[{shadow:[yl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ks,Se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[vl,Se]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hr,Es,Op]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_F=sF(SF);function ae(...e){return _F(YC(e))}const EF=k$,lj=v.forwardRef(({className:e,...t},n)=>u.jsx(zC,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lj.displayName=zC.displayName;const kF=ff("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cj=v.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(qC,{ref:r,className:ae(kF({variant:t}),e),...n}));cj.displayName=qC.displayName;const TF=v.forwardRef(({className:e,...t},n)=>u.jsx(GC,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));TF.displayName=GC.displayName;const uj=v.forwardRef(({className:e,...t},n)=>u.jsx(KC,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(pw,{className:"h-4 w-4"})}));uj.displayName=KC.displayName;const dj=v.forwardRef(({className:e,...t},n)=>u.jsx(WC,{ref:n,className:ae("text-sm font-semibold",e),...t}));dj.displayName=WC.displayName;const hj=v.forwardRef(({className:e,...t},n)=>u.jsx(HC,{ref:n,className:ae("text-sm opacity-90",e),...t}));hj.displayName=HC.displayName;function CF(){const{toasts:e}=Hc();return u.jsxs(EF,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return u.jsxs(cj,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(dj,{children:n}),r&&u.jsx(hj,{children:r})]}),s,u.jsx(uj,{})]},t)}),u.jsx(lj,{})]})}var ch=["light","dark"],gw="(prefers-color-scheme: dark)",jF=typeof window>"u",vw=v.createContext(void 0),PF={setTheme:e=>{},themes:[]},fj=()=>{var e;return(e=v.useContext(vw))!=null?e:PF},AF=e=>v.useContext(vw)?e.children:v.createElement(OF,{...e}),NF=["light","dark"],OF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=NF,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d})=>{let[h,f]=v.useState(()=>Ix(s,o)),[m,b]=v.useState(()=>Ix(s)),p=l?Object.values(l):i,x=v.useCallback(E=>{let T=E;if(!T)return;E==="system"&&n&&(T=Mx());let C=l?l[T]:T,j=t?IF():null,N=document.documentElement;if(a==="class"?(N.classList.remove(...p),C&&N.classList.add(C)):C?N.setAttribute(a,C):N.removeAttribute(a),r){let M=ch.includes(o)?o:null,I=ch.includes(T)?T:M;N.style.colorScheme=I}j==null||j()},[]),y=v.useCallback(E=>{let T=typeof E=="function"?E(E):E;f(T);try{localStorage.setItem(s,T)}catch{}},[e]),w=v.useCallback(E=>{let T=Mx(E);b(T),h==="system"&&n&&!e&&x("system")},[h,e]);v.useEffect(()=>{let E=window.matchMedia(gw);return E.addListener(w),w(E),()=>E.removeListener(w)},[w]),v.useEffect(()=>{let E=T=>{if(T.key!==s)return;let C=T.newValue||o;y(C)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[y]),v.useEffect(()=>{x(e??h)},[e,h]);let S=v.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,y,e,m,n,i]);return v.createElement(vw.Provider,{value:S},v.createElement(RF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:c,attrs:p,nonce:d}),c)},RF=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?ch.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(b,p=!1,x=!0)=>{let y=o?o[b]:b,w=p?b+"|| ''":`'${y}'`,S="";return s&&x&&!p&&ch.includes(b)&&(S+=`d.style.colorScheme = '${b}';`),n==="class"?p||y?S+=`c.add(${w})`:S+="null":y&&(S+=`d[s](n,${w})`),S},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${gw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),Ix=(e,t)=>{if(jF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},IF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Mx=e=>(e||(e=window.matchMedia(gw)),e.matches?"dark":"light"),MF=e=>{switch(e){case"success":return $F;case"info":return VF;case"warning":return FF;case"error":return UF;default:return null}},DF=Array(12).fill(0),LF=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},DF.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$F=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),VF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zF=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Mg=1,qF=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Mg++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],H.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(HF(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Mg++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sn=new qF,WF=(e,t)=>{let n=(t==null?void 0:t.id)||Mg++;return sn.addToast({title:e,...t,id:n}),n},HF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",GF=WF,KF=()=>sn.toasts,JF=()=>sn.getActiveToasts();Object.assign(GF,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:KF,getToasts:JF});function YF(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}YF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pu(e){return e.label!==void 0}var QF=3,XF="32px",ZF="16px",Dx=4e3,eV=356,tV=14,nV=20,rV=200;function Qn(...e){return e.filter(Boolean).join(" ")}function sV(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var iV=e=>{var t,n,r,s,i,o,a,l,c,d,h;let{invert:f,toast:m,unstyled:b,interacting:p,setHeights:x,visibleToasts:y,heights:w,index:S,toasts:E,expanded:T,removeToast:C,defaultRichColors:j,closeButton:N,style:M,cancelButtonStyle:I,actionButtonStyle:R,className:F="",descriptionClassName:W="",duration:V,position:Q,gap:X,loadingIcon:Z,expandByDefault:$,classNames:U,icons:J,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:re}=e,[g,k]=H.useState(null),[_,A]=H.useState(null),[P,D]=H.useState(!1),[O,L]=H.useState(!1),[z,Y]=H.useState(!1),[ce,Be]=H.useState(!1),[wt,Et]=H.useState(!1),[Re,lt]=H.useState(0),[Ot,ue]=H.useState(0),se=H.useRef(m.duration||V||Dx),st=H.useRef(null),hn=H.useRef(null),au=S===0,Xf=S+1<=y,rn=m.type,bo=m.dismissible!==!1,JM=m.className||"",YM=m.descriptionClassName||"",lu=H.useMemo(()=>w.findIndex(ve=>ve.toastId===m.id)||0,[w,m.id]),QM=H.useMemo(()=>{var ve;return(ve=m.closeButton)!=null?ve:N},[m.closeButton,N]),ob=H.useMemo(()=>m.duration||V||Dx,[m.duration,V]),Zf=H.useRef(0),xo=H.useRef(0),ab=H.useRef(0),So=H.useRef(null),[XM,ZM]=Q.split("-"),lb=H.useMemo(()=>w.reduce((ve,Ie,Ge)=>Ge>=lu?ve:ve+Ie.height,0),[w,lu]),cb=zF(),eD=m.invert||f,ep=rn==="loading";xo.current=H.useMemo(()=>lu*X+lb,[lu,lb]),H.useEffect(()=>{se.current=ob},[ob]),H.useEffect(()=>{D(!0)},[]),H.useEffect(()=>{let ve=hn.current;if(ve){let Ie=ve.getBoundingClientRect().height;return ue(Ie),x(Ge=>[{toastId:m.id,height:Ie,position:m.position},...Ge]),()=>x(Ge=>Ge.filter(Gn=>Gn.toastId!==m.id))}},[x,m.id]),H.useLayoutEffect(()=>{if(!P)return;let ve=hn.current,Ie=ve.style.height;ve.style.height="auto";let Ge=ve.getBoundingClientRect().height;ve.style.height=Ie,ue(Ge),x(Gn=>Gn.find(Kn=>Kn.toastId===m.id)?Gn.map(Kn=>Kn.toastId===m.id?{...Kn,height:Ge}:Kn):[{toastId:m.id,height:Ge,position:m.position},...Gn])},[P,m.title,m.description,x,m.id]);let bs=H.useCallback(()=>{L(!0),lt(xo.current),x(ve=>ve.filter(Ie=>Ie.toastId!==m.id)),setTimeout(()=>{C(m)},rV)},[m,C,x,xo]);H.useEffect(()=>{if(m.promise&&rn==="loading"||m.duration===1/0||m.type==="loading")return;let ve;return T||p||re&&cb?(()=>{if(ab.current<Zf.current){let Ie=new Date().getTime()-Zf.current;se.current=se.current-Ie}ab.current=new Date().getTime()})():se.current!==1/0&&(Zf.current=new Date().getTime(),ve=setTimeout(()=>{var Ie;(Ie=m.onAutoClose)==null||Ie.call(m,m),bs()},se.current)),()=>clearTimeout(ve)},[T,p,m,rn,re,cb,bs]),H.useEffect(()=>{m.delete&&bs()},[bs,m.delete]);function tD(){var ve,Ie,Ge;return J!=null&&J.loading?H.createElement("div",{className:Qn(U==null?void 0:U.loader,(ve=m==null?void 0:m.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":rn==="loading"},J.loading):Z?H.createElement("div",{className:Qn(U==null?void 0:U.loader,(Ie=m==null?void 0:m.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":rn==="loading"},Z):H.createElement(LF,{className:Qn(U==null?void 0:U.loader,(Ge=m==null?void 0:m.classNames)==null?void 0:Ge.loader),visible:rn==="loading"})}return H.createElement("li",{tabIndex:0,ref:hn,className:Qn(F,JM,U==null?void 0:U.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[rn],(n=m==null?void 0:m.classNames)==null?void 0:n[rn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":P,"data-promise":!!m.promise,"data-swiped":wt,"data-removed":O,"data-visible":Xf,"data-y-position":XM,"data-x-position":ZM,"data-index":S,"data-front":au,"data-swiping":z,"data-dismissible":bo,"data-type":rn,"data-invert":eD,"data-swipe-out":ce,"data-swipe-direction":_,"data-expanded":!!(T||$&&P),style:{"--index":S,"--toasts-before":S,"--z-index":E.length-S,"--offset":`${O?Re:xo.current}px`,"--initial-height":$?"auto":`${Ot}px`,...M,...m.style},onDragEnd:()=>{Y(!1),k(null),So.current=null},onPointerDown:ve=>{ep||!bo||(st.current=new Date,lt(xo.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(Y(!0),So.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Ie,Ge,Gn;if(ce||!bo)return;So.current=null;let Kn=Number(((ve=hn.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xs=Number(((Ie=hn.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xi=new Date().getTime()-((Ge=st.current)==null?void 0:Ge.getTime()),Jn=g==="x"?Kn:xs,Ss=Math.abs(Jn)/xi;if(Math.abs(Jn)>=nV||Ss>.11){lt(xo.current),(Gn=m.onDismiss)==null||Gn.call(m,m),A(g==="x"?Kn>0?"right":"left":xs>0?"down":"up"),bs(),Be(!0),Et(!1);return}Y(!1),k(null)},onPointerMove:ve=>{var Ie,Ge,Gn,Kn;if(!So.current||!bo||((Ie=window.getSelection())==null?void 0:Ie.toString().length)>0)return;let xs=ve.clientY-So.current.y,xi=ve.clientX-So.current.x,Jn=(Ge=e.swipeDirections)!=null?Ge:sV(Q);!g&&(Math.abs(xi)>1||Math.abs(xs)>1)&&k(Math.abs(xi)>Math.abs(xs)?"x":"y");let Ss={x:0,y:0};g==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&xs<0||Jn.includes("bottom")&&xs>0)&&(Ss.y=xs):g==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&xi<0||Jn.includes("right")&&xi>0)&&(Ss.x=xi),(Math.abs(Ss.x)>0||Math.abs(Ss.y)>0)&&Et(!0),(Gn=hn.current)==null||Gn.style.setProperty("--swipe-amount-x",`${Ss.x}px`),(Kn=hn.current)==null||Kn.style.setProperty("--swipe-amount-y",`${Ss.y}px`)}},QM&&!m.jsx?H.createElement("button",{"aria-label":G,"data-disabled":ep,"data-close-button":!0,onClick:ep||!bo?()=>{}:()=>{var ve;bs(),(ve=m.onDismiss)==null||ve.call(m,m)},className:Qn(U==null?void 0:U.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=J==null?void 0:J.close)!=null?i:BF):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,rn||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:Qn(U==null?void 0:U.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||tD():null,m.type!=="loading"?m.icon||(J==null?void 0:J[rn])||MF(rn):null):null,H.createElement("div",{"data-content":"",className:Qn(U==null?void 0:U.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Qn(U==null?void 0:U.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:Qn(W,YM,U==null?void 0:U.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Pu(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:ve=>{var Ie,Ge;Pu(m.cancel)&&bo&&((Ge=(Ie=m.cancel).onClick)==null||Ge.call(Ie,ve),bs())},className:Qn(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Pu(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:ve=>{var Ie,Ge;Pu(m.action)&&((Ge=(Ie=m.action).onClick)==null||Ge.call(Ie,ve),!ve.defaultPrevented&&bs())},className:Qn(U==null?void 0:U.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Lx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function oV(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?ZF:XF;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var aV=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:b=QF,toastOptions:p,dir:x=Lx(),gap:y=tV,loadingIcon:w,icons:S,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T}=e,[C,j]=H.useState([]),N=H.useMemo(()=>Array.from(new Set([r].concat(C.filter(re=>re.position).map(re=>re.position)))),[C,r]),[M,I]=H.useState([]),[R,F]=H.useState(!1),[W,V]=H.useState(!1),[Q,X]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=H.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=H.useRef(null),J=H.useRef(!1),G=H.useCallback(re=>{j(g=>{var k;return(k=g.find(_=>_.id===re.id))!=null&&k.delete||sn.dismiss(re.id),g.filter(({id:_})=>_!==re.id)})},[]);return H.useEffect(()=>sn.subscribe(re=>{if(re.dismiss){j(g=>g.map(k=>k.id===re.id?{...k,delete:!0}:k));return}setTimeout(()=>{bC.flushSync(()=>{j(g=>{let k=g.findIndex(_=>_.id===re.id);return k!==-1?[...g.slice(0,k),{...g[k],...re},...g.slice(k+1)]:[re,...g]})})})}),[]),H.useEffect(()=>{if(d!=="system"){X(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:g})=>{X(g?"dark":"light")})}catch{re.addListener(({matches:k})=>{try{X(k?"dark":"light")}catch(_){console.error(_)}})}},[d]),H.useEffect(()=>{C.length<=1&&F(!1)},[C]),H.useEffect(()=>{let re=g=>{var k,_;s.every(A=>g[A]||g.code===A)&&(F(!0),(k=Z.current)==null||k.focus()),g.code==="Escape"&&(document.activeElement===Z.current||(_=Z.current)!=null&&_.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[s]),H.useEffect(()=>{if(Z.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,J.current=!1)}},[Z.current]),H.createElement("section",{ref:t,"aria-label":`${E} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((re,g)=>{var k;let[_,A]=re.split("-");return C.length?H.createElement("ol",{key:re,dir:x==="auto"?Lx():x,tabIndex:-1,ref:Z,className:a,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":_,"data-lifted":R&&C.length>1&&!i,"data-x-position":A,style:{"--front-toast-height":`${((k=M[0])==null?void 0:k.height)||0}px`,"--width":`${eV}px`,"--gap":`${y}px`,...m,...oV(l,c)},onBlur:P=>{J.current&&!P.currentTarget.contains(P.relatedTarget)&&(J.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||J.current||(J.current=!0,U.current=P.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{W||F(!1)},onDragEnd:()=>F(!1),onPointerDown:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},C.filter(P=>!P.position&&g===0||P.position===re).map((P,D)=>{var O,L;return H.createElement(iV,{key:P.id,icons:S,index:D,toast:P,defaultRichColors:h,duration:(O=p==null?void 0:p.duration)!=null?O:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(L=p==null?void 0:p.closeButton)!=null?L:o,interacting:W,position:re,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:G,toasts:C.filter(z=>z.position==P.position),heights:M.filter(z=>z.position==P.position),setHeights:I,expandByDefault:i,gap:y,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const lV=({...e})=>{const{theme:t="system"}=fj();return u.jsx(aV,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var cV=yy[" useId ".trim().toString()]||(()=>{}),uV=0;function Dr(e){const[t,n]=v.useState(cV());return yt(()=>{n(r=>r??String(uV++))},[e]),t?`radix-${t}`:""}const dV=["top","right","bottom","left"],ai=Math.min,vn=Math.max,uh=Math.round,Au=Math.floor,Lr=e=>({x:e,y:e}),hV={left:"right",right:"left",bottom:"top",top:"bottom"},fV={start:"end",end:"start"};function Dg(e,t,n){return vn(e,ai(t,n))}function fs(e,t){return typeof e=="function"?e(t):e}function ps(e){return e.split("-")[0]}function Qa(e){return e.split("-")[1]}function yw(e){return e==="x"?"y":"x"}function ww(e){return e==="y"?"height":"width"}const pV=new Set(["top","bottom"]);function Rr(e){return pV.has(ps(e))?"y":"x"}function bw(e){return yw(Rr(e))}function mV(e,t,n){n===void 0&&(n=!1);const r=Qa(e),s=bw(e),i=ww(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=dh(o)),[o,dh(o)]}function gV(e){const t=dh(e);return[Lg(e),t,Lg(t)]}function Lg(e){return e.replace(/start|end/g,t=>fV[t])}const $x=["left","right"],Fx=["right","left"],vV=["top","bottom"],yV=["bottom","top"];function wV(e,t,n){switch(e){case"top":case"bottom":return n?t?Fx:$x:t?$x:Fx;case"left":case"right":return t?vV:yV;default:return[]}}function bV(e,t,n,r){const s=Qa(e);let i=wV(ps(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Lg)))),i}function dh(e){return e.replace(/left|right|bottom|top/g,t=>hV[t])}function xV(e){return{top:0,right:0,bottom:0,left:0,...e}}function pj(e){return typeof e!="number"?xV(e):{top:e,right:e,bottom:e,left:e}}function hh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Vx(e,t,n){let{reference:r,floating:s}=e;const i=Rr(t),o=bw(t),a=ww(o),l=ps(t),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Qa(t)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const SV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Vx(c,r,l),f=r,m={},b=0;for(let p=0;p<a.length;p++){const{name:x,fn:y}=a[p],{x:w,y:S,data:E,reset:T}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=w??d,h=S??h,m={...m,[x]:{...m[x],...E}},T&&b<=50&&(b++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:d,y:h}=Vx(c,f,l)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function gc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=fs(t,e),b=pj(m),x=a[f?h==="floating"?"reference":"floating":h],y=hh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},T=hh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(y.top-T.top+b.top)/E.y,bottom:(T.bottom-y.bottom+b.bottom)/E.y,left:(y.left-T.left+b.left)/E.x,right:(T.right-y.right+b.right)/E.x}}const _V=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=fs(e,t)||{};if(c==null)return{};const h=pj(d),f={x:n,y:r},m=bw(s),b=ww(m),p=await o.getDimensions(c),x=m==="y",y=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",E=i.reference[b]+i.reference[m]-f[m]-i.floating[b],T=f[m]-i.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let j=C?C[S]:0;(!j||!await(o.isElement==null?void 0:o.isElement(C)))&&(j=a.floating[S]||i.floating[b]);const N=E/2-T/2,M=j/2-p[b]/2-1,I=ai(h[y],M),R=ai(h[w],M),F=I,W=j-p[b]-R,V=j/2-p[b]/2+N,Q=Dg(F,V,W),X=!l.arrow&&Qa(s)!=null&&V!==Q&&i.reference[b]/2-(V<F?I:R)-p[b]/2<0,Z=X?V<F?V-F:V-W:0;return{[m]:f[m]+Z,data:{[m]:Q,centerOffset:V-Q-Z,...X&&{alignmentOffset:Z}},reset:X}}}),EV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=fs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ps(s),w=Rr(a),S=ps(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=f||(S||!p?[dh(a)]:gV(a)),C=b!=="none";!f&&C&&T.push(...bV(a,p,b,E));const j=[a,...T],N=await gc(t,x),M=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&M.push(N[y]),h){const V=mV(s,o,E);M.push(N[V[0]],N[V[1]])}if(I=[...I,{placement:s,overflows:M}],!M.every(V=>V<=0)){var R,F;const V=(((R=i.flip)==null?void 0:R.index)||0)+1,Q=j[V];if(Q&&(!(h==="alignment"?w!==Rr(Q):!1)||I.every($=>$.overflows[0]>0&&Rr($.placement)===w)))return{data:{index:V,overflows:I},reset:{placement:Q}};let X=(F=I.filter(Z=>Z.overflows[0]<=0).sort((Z,$)=>Z.overflows[1]-$.overflows[1])[0])==null?void 0:F.placement;if(!X)switch(m){case"bestFit":{var W;const Z=(W=I.filter($=>{if(C){const U=Rr($.placement);return U===w||U==="y"}return!0}).map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,J)=>U+J,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:W[0];Z&&(X=Z);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function Ux(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bx(e){return dV.some(t=>e[t]>=0)}const kV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=fs(e,t);switch(r){case"referenceHidden":{const i=await gc(t,{...s,elementContext:"reference"}),o=Ux(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bx(o)}}}case"escaped":{const i=await gc(t,{...s,altBoundary:!0}),o=Ux(i,n.floating);return{data:{escapedOffsets:o,escaped:Bx(o)}}}default:return{}}}}},mj=new Set(["left","top"]);async function TV(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ps(n),a=Qa(n),l=Rr(n)==="y",c=mj.has(o)?-1:1,d=i&&l?-1:1,h=fs(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const CV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await TV(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},jV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...l}=fs(e,t),c={x:n,y:r},d=await gc(t,l),h=Rr(ps(s)),f=yw(h);let m=c[f],b=c[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=m+d[x],S=m-d[y];m=Dg(w,m,S)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=b+d[x],S=b-d[y];b=Dg(w,b,S)}const p=a.fn({...t,[f]:m,[h]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},PV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=fs(e,t),d={x:n,y:r},h=Rr(s),f=yw(h);let m=d[f],b=d[h];const p=fs(a,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const S=f==="y"?"height":"width",E=i.reference[f]-i.floating[S]+x.mainAxis,T=i.reference[f]+i.reference[S]-x.mainAxis;m<E?m=E:m>T&&(m=T)}if(c){var y,w;const S=f==="y"?"width":"height",E=mj.has(ps(s)),T=i.reference[h]-i.floating[S]+(E&&((y=o.offset)==null?void 0:y[h])||0)+(E?0:x.crossAxis),C=i.reference[h]+i.reference[S]+(E?0:((w=o.offset)==null?void 0:w[h])||0)-(E?x.crossAxis:0);b<T?b=T:b>C&&(b=C)}return{[f]:m,[h]:b}}}},AV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=fs(e,t),d=await gc(t,c),h=ps(s),f=Qa(s),m=Rr(s)==="y",{width:b,height:p}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const w=p-d.top-d.bottom,S=b-d.left-d.right,E=ai(p-d[x],w),T=ai(b-d[y],S),C=!t.middlewareData.shift;let j=E,N=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=w),C&&!f){const I=vn(d.left,0),R=vn(d.right,0),F=vn(d.top,0),W=vn(d.bottom,0);m?N=b-2*(I!==0||R!==0?I+R:vn(d.left,d.right)):j=p-2*(F!==0||W!==0?F+W:vn(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:j});const M=await o.getDimensions(a.floating);return b!==M.width||p!==M.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function Xa(e){return gj(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zr(e){var t;return(t=(gj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gj(e){return pf()?e instanceof Node||e instanceof _n(e).Node:!1}function yr(e){return pf()?e instanceof Element||e instanceof _n(e).Element:!1}function Ur(e){return pf()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function zx(e){return!pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}const NV=new Set(["inline","contents"]);function Jc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=wr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!NV.has(s)}const OV=new Set(["table","td","th"]);function RV(e){return OV.has(Xa(e))}const IV=[":popover-open",":modal"];function mf(e){return IV.some(t=>{try{return e.matches(t)}catch{return!1}})}const MV=["transform","translate","scale","rotate","perspective"],DV=["transform","translate","scale","rotate","perspective","filter"],LV=["paint","layout","strict","content"];function xw(e){const t=Sw(),n=yr(e)?wr(e):e;return MV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||DV.some(r=>(n.willChange||"").includes(r))||LV.some(r=>(n.contain||"").includes(r))}function $V(e){let t=li(e);for(;Ur(t)&&!Ma(t);){if(xw(t))return t;if(mf(t))return null;t=li(t)}return null}function Sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FV=new Set(["html","body","#document"]);function Ma(e){return FV.has(Xa(e))}function wr(e){return _n(e).getComputedStyle(e)}function gf(e){return yr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Xa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zx(e)&&e.host||zr(e);return zx(t)?t.host:t}function vj(e){const t=li(e);return Ma(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ur(t)&&Jc(t)?t:vj(t)}function vc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=vj(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=_n(s);if(i){const a=$g(o);return t.concat(o,o.visualViewport||[],Jc(s)?s:[],a&&n?vc(a):[])}return t.concat(s,vc(s,[],n))}function $g(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yj(e){const t=wr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ur(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=uh(n)!==i||uh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function _w(e){return yr(e)?e:e.contextElement}function la(e){const t=_w(e);if(!Ur(t))return Lr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=yj(t);let o=(i?uh(n.width):n.width)/r,a=(i?uh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const VV=Lr(0);function wj(e){const t=_n(e);return!Sw()||!t.visualViewport?VV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function UV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_n(e)?!1:t}function oo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=_w(e);let o=Lr(1);t&&(r?yr(r)&&(o=la(r)):o=la(e));const a=UV(i,n,r)?wj(i):Lr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=_n(i),m=r&&yr(r)?_n(r):r;let b=f,p=$g(b);for(;p&&r&&m!==b;){const x=la(p),y=p.getBoundingClientRect(),w=wr(p),S=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*x.x,E=y.top+(p.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=S,c+=E,b=_n(p),p=$g(b)}}return hh({width:d,height:h,x:l,y:c})}function Ew(e,t){const n=gf(e).scrollLeft;return t?t.left+n:oo(zr(e)).left+n}function bj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Ew(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function BV(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=zr(r),a=t?mf(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Lr(1);const d=Lr(0),h=Ur(r);if((h||!h&&!i)&&((Xa(r)!=="body"||Jc(o))&&(l=gf(r)),Ur(r))){const m=oo(r);c=la(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?bj(o,l,!0):Lr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function zV(e){return Array.from(e.getClientRects())}function qV(e){const t=zr(e),n=gf(e),r=e.ownerDocument.body,s=vn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=vn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ew(e);const a=-n.scrollTop;return wr(r).direction==="rtl"&&(o+=vn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function WV(e,t){const n=_n(e),r=zr(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Sw();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const HV=new Set(["absolute","fixed"]);function GV(e,t){const n=oo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Ur(e)?la(e):Lr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function qx(e,t,n){let r;if(t==="viewport")r=WV(e,n);else if(t==="document")r=qV(zr(e));else if(yr(t))r=GV(t,n);else{const s=wj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return hh(r)}function xj(e,t){const n=li(e);return n===t||!yr(n)||Ma(n)?!1:wr(n).position==="fixed"||xj(n,t)}function KV(e,t){const n=t.get(e);if(n)return n;let r=vc(e,[],!1).filter(a=>yr(a)&&Xa(a)!=="body"),s=null;const i=wr(e).position==="fixed";let o=i?li(e):e;for(;yr(o)&&!Ma(o);){const a=wr(o),l=xw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&HV.has(s.position)||Jc(o)&&!l&&xj(e,o))?r=r.filter(d=>d!==o):s=a,o=li(o)}return t.set(e,r),r}function JV(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?mf(t)?[]:KV(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=qx(t,d,s);return c.top=vn(h.top,c.top),c.right=ai(h.right,c.right),c.bottom=ai(h.bottom,c.bottom),c.left=vn(h.left,c.left),c},qx(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function YV(e){const{width:t,height:n}=yj(e);return{width:t,height:n}}function QV(e,t,n){const r=Ur(t),s=zr(t),i=n==="fixed",o=oo(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Lr(0);function c(){l.x=Ew(s)}if(r||!r&&!i)if((Xa(t)!=="body"||Jc(s))&&(a=gf(t)),r){const m=oo(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?bj(s,a):Lr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Rp(e){return wr(e).position==="static"}function Wx(e,t){if(!Ur(e)||wr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return zr(e)===n&&(n=n.ownerDocument.body),n}function Sj(e,t){const n=_n(e);if(mf(e))return n;if(!Ur(e)){let s=li(e);for(;s&&!Ma(s);){if(yr(s)&&!Rp(s))return s;s=li(s)}return n}let r=Wx(e,t);for(;r&&RV(r)&&Rp(r);)r=Wx(r,t);return r&&Ma(r)&&Rp(r)&&!xw(r)?n:r||$V(e)||n}const XV=async function(e){const t=this.getOffsetParent||Sj,n=this.getDimensions,r=await n(e.floating);return{reference:QV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZV(e){return wr(e).direction==="rtl"}const eU={convertOffsetParentRelativeRectToViewportRelativeRect:BV,getDocumentElement:zr,getClippingRect:JV,getOffsetParent:Sj,getElementRects:XV,getClientRects:zV,getDimensions:YV,getScale:la,isElement:yr,isRTL:ZV};function _j(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tU(e,t){let n=null,r;const s=zr(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=c;if(a||t(),!f||!m)return;const b=Au(h),p=Au(s.clientWidth-(d+f)),x=Au(s.clientHeight-(h+m)),y=Au(d),S={rootMargin:-b+"px "+-p+"px "+-x+"px "+-y+"px",threshold:vn(0,ai(1,l))||1};let E=!0;function T(C){const j=C[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!_j(c,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(T,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,S)}n.observe(e)}return o(!0),i}function nU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=_w(e),d=s||i?[...c?vc(c):[],...vc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=c&&a?tU(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let b,p=l?oo(e):null;l&&x();function x(){const y=oo(e);p&&!_j(p,y)&&n(),p=y,b=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const rU=CV,sU=jV,iU=EV,oU=AV,aU=kV,Hx=_V,lU=PV,cU=(e,t,n)=>{const r=new Map,s={platform:eU,...n},i={...s.platform,_c:r};return SV(e,t,{...s,platform:i})};var uU=typeof document<"u",dU=function(){},wd=uU?v.useLayoutEffect:dU;function fh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!fh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Ej(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gx(e,t){const n=Ej(e);return Math.round(t*n)/n}function Ip(e){const t=v.useRef(e);return wd(()=>{t.current=e}),t}function hU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,h]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);fh(f,r)||m(r);const[b,p]=v.useState(null),[x,y]=v.useState(null),w=v.useCallback($=>{$!==C.current&&(C.current=$,p($))},[]),S=v.useCallback($=>{$!==j.current&&(j.current=$,y($))},[]),E=i||b,T=o||x,C=v.useRef(null),j=v.useRef(null),N=v.useRef(d),M=l!=null,I=Ip(l),R=Ip(s),F=Ip(c),W=v.useCallback(()=>{if(!C.current||!j.current)return;const $={placement:t,strategy:n,middleware:f};R.current&&($.platform=R.current),cU(C.current,j.current,$).then(U=>{const J={...U,isPositioned:F.current!==!1};V.current&&!fh(N.current,J)&&(N.current=J,vo.flushSync(()=>{h(J)}))})},[f,t,n,R,F]);wd(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[c]);const V=v.useRef(!1);wd(()=>(V.current=!0,()=>{V.current=!1}),[]),wd(()=>{if(E&&(C.current=E),T&&(j.current=T),E&&T){if(I.current)return I.current(E,T,W);W()}},[E,T,W,I,M]);const Q=v.useMemo(()=>({reference:C,floating:j,setReference:w,setFloating:S}),[w,S]),X=v.useMemo(()=>({reference:E,floating:T}),[E,T]),Z=v.useMemo(()=>{const $={position:n,left:0,top:0};if(!X.floating)return $;const U=Gx(X.floating,d.x),J=Gx(X.floating,d.y);return a?{...$,transform:"translate("+U+"px, "+J+"px)",...Ej(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:J}},[n,a,X.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:W,refs:Q,elements:X,floatingStyles:Z}),[d,W,Q,X,Z])}const fU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Hx({element:r.current,padding:s}).fn(n):{}:r?Hx({element:r,padding:s}).fn(n):{}}}},pU=(e,t)=>({...rU(e),options:[e,t]}),mU=(e,t)=>({...sU(e),options:[e,t]}),gU=(e,t)=>({...lU(e),options:[e,t]}),vU=(e,t)=>({...iU(e),options:[e,t]}),yU=(e,t)=>({...oU(e),options:[e,t]}),wU=(e,t)=>({...aU(e),options:[e,t]}),bU=(e,t)=>({...fU(e),options:[e,t]});var xU="Arrow",kj=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return u.jsx(fe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});kj.displayName=xU;var SU=kj;function _U(e){const[t,n]=v.useState(void 0);return yt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var kw="Popper",[Tj,vf]=qn(kw),[EU,Cj]=Tj(kw),jj=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return u.jsx(EU,{scope:t,anchor:r,onAnchorChange:s,children:n})};jj.displayName=kw;var Pj="PopperAnchor",Aj=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Cj(Pj,n),o=v.useRef(null),a=Ee(t,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(fe.div,{...s,ref:a})});Aj.displayName=Pj;var Tw="PopperContent",[kU,TU]=Tj(Tw),Nj=v.forwardRef((e,t)=>{var P,D,O,L,z,Y;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,x=Cj(Tw,n),[y,w]=v.useState(null),S=Ee(t,ce=>w(ce)),[E,T]=v.useState(null),C=_U(E),j=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,M=r+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],F=R.length>0,W={padding:I,boundary:R.filter(jU),altBoundary:F},{refs:V,floatingStyles:Q,placement:X,isPositioned:Z,middlewareData:$}=hU({strategy:"fixed",placement:M,whileElementsMounted:(...ce)=>nU(...ce,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[pU({mainAxis:s+N,alignmentAxis:o}),l&&mU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?gU():void 0,...W}),l&&vU({...W}),yU({...W,apply:({elements:ce,rects:Be,availableWidth:wt,availableHeight:Et})=>{const{width:Re,height:lt}=Be.reference,Ot=ce.floating.style;Ot.setProperty("--radix-popper-available-width",`${wt}px`),Ot.setProperty("--radix-popper-available-height",`${Et}px`),Ot.setProperty("--radix-popper-anchor-width",`${Re}px`),Ot.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),E&&bU({element:E,padding:a}),PU({arrowWidth:j,arrowHeight:N}),f&&wU({strategy:"referenceHidden",...W})]}),[U,J]=Ij(X),G=gt(b);yt(()=>{Z&&(G==null||G())},[Z,G]);const re=(P=$.arrow)==null?void 0:P.x,g=(D=$.arrow)==null?void 0:D.y,k=((O=$.arrow)==null?void 0:O.centerOffset)!==0,[_,A]=v.useState();return yt(()=>{y&&A(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:Z?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_,"--radix-popper-transform-origin":[(L=$.transformOrigin)==null?void 0:L.x,(z=$.transformOrigin)==null?void 0:z.y].join(" "),...((Y=$.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(kU,{scope:n,placedSide:U,onArrowChange:T,arrowX:re,arrowY:g,shouldHideArrow:k,children:u.jsx(fe.div,{"data-side":U,"data-align":J,...p,ref:S,style:{...p.style,animation:Z?void 0:"none"}})})})});Nj.displayName=Tw;var Oj="PopperArrow",CU={top:"bottom",right:"left",bottom:"top",left:"right"},Rj=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=TU(Oj,r),o=CU[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(SU,{...s,ref:n,style:{...s.style,display:"block"}})})});Rj.displayName=Oj;function jU(e){return e!==null}var PU=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=Ij(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",p="";return c==="bottom"?(b=o?h:`${f}px`,p=`${-l}px`):c==="top"?(b=o?h:`${f}px`,p=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,p=o?h:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,p=o?h:`${m}px`),{data:{x:b,y:p}}}});function Ij(e){const[t,n="center"]=e.split("-");return[t,n]}var AU=jj,Mj=Aj,Dj=Nj,Lj=Rj,[yf,lY]=qn("Tooltip",[vf]),Cw=vf(),$j="TooltipProvider",NU=700,Kx="tooltip.open",[OU,Fj]=yf($j),Vj=e=>{const{__scopeTooltip:t,delayDuration:n=NU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(OU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};Vj.displayName=$j;var Uj="Tooltip",[cY,wf]=yf(Uj),Fg="TooltipTrigger",RU=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=wf(Fg,n),i=Fj(Fg,n),o=Cw(n),a=v.useRef(null),l=Ee(t,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(Mj,{asChild:!0,...o,children:u.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ie(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:ie(e.onBlur,s.onClose),onClick:ie(e.onClick,s.onClose)})})});RU.displayName=Fg;var IU="TooltipPortal",[uY,MU]=yf(IU,{forceMount:void 0}),Da="TooltipContent",Bj=v.forwardRef((e,t)=>{const n=MU(Da,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=wf(Da,e.__scopeTooltip);return u.jsx(Wn,{present:r||o.open,children:o.disableHoverableContent?u.jsx(zj,{side:s,...i,ref:t}):u.jsx(DU,{side:s,...i,ref:t})})}),DU=v.forwardRef((e,t)=>{const n=wf(Da,e.__scopeTooltip),r=Fj(Da,e.__scopeTooltip),s=v.useRef(null),i=Ee(t,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((b,p)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},w=UU(y,x.getBoundingClientRect()),S=BU(y,w),E=zU(p.getBoundingClientRect()),T=WU([...S,...E]);a(T),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const b=x=>m(x,d),p=x=>m(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",p)}}},[l,d,m,f]),v.useEffect(()=>{if(o){const b=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},w=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!qU(y,o);w?f():S&&(f(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,f]),u.jsx(zj,{...e,ref:i})}),[LU,$U]=yf(Uj,{isInside:!1}),FU=EC("TooltipContent"),zj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=wf(Da,n),c=Cw(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(Kx,d),()=>document.removeEventListener(Kx,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(Dj,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(FU,{children:r}),u.jsx(LU,{scope:n,isInside:!0,children:u.jsx(a$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Bj.displayName=Da;var qj="TooltipArrow",VU=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Cw(n);return $U(qj,n).isInside?null:u.jsx(Lj,{...s,...r,ref:t})});VU.displayName=qj;function UU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function BU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function zU(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function qU(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(s=!s)}return s}function WU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),HU(t)}function HU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var GU=Vj,Wj=Bj;const KU=GU,JU=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(Wj,{ref:r,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));JU.displayName=Wj.displayName;var bf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xf=typeof window>"u"||"Deno"in globalThis;function ir(){}function YU(e,t){return typeof e=="function"?e(t):e}function QU(e){return typeof e=="number"&&e>=0&&e!==1/0}function XU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vg(e,t){return typeof e=="function"?e(t):e}function ZU(e,t){return typeof e=="function"?e(t):e}function Jx(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==jw(o,t.options))return!1}else if(!wc(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Yx(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(yc(t.options.mutationKey)!==yc(i))return!1}else if(!wc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function jw(e,t){return((t==null?void 0:t.queryKeyHashFn)||yc)(e)}function yc(e){return JSON.stringify(e,(t,n)=>Ug(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function wc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>wc(e[n],t[n])):!1}function Hj(e,t){if(e===t)return e;const n=Qx(e)&&Qx(t);if(n||Ug(e)&&Ug(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=Hj(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function Qx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ug(e){if(!Xx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Xx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xx(e){return Object.prototype.toString.call(e)==="[object Object]"}function e4(e){return new Promise(t=>{setTimeout(t,e)})}function t4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Hj(e,t):t}function n4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function r4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Pw=Symbol();function Gj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Pw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bi,Vs,va,Z1,s4=(Z1=class extends bf{constructor(){super();Pe(this,Bi);Pe(this,Vs);Pe(this,va);we(this,va,t=>{if(!xf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Vs)||this.setEventListener(B(this,va))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Vs))==null||t.call(this),we(this,Vs,void 0))}setEventListener(t){var n;we(this,va,t),(n=B(this,Vs))==null||n.call(this),we(this,Vs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,Bi)!==t&&(we(this,Bi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Bi)=="boolean"?B(this,Bi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bi=new WeakMap,Vs=new WeakMap,va=new WeakMap,Z1),Kj=new s4,ya,Us,wa,ek,i4=(ek=class extends bf{constructor(){super();Pe(this,ya,!0);Pe(this,Us);Pe(this,wa);we(this,wa,t=>{if(!xf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Us)||this.setEventListener(B(this,wa))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Us))==null||t.call(this),we(this,Us,void 0))}setEventListener(t){var n;we(this,wa,t),(n=B(this,Us))==null||n.call(this),we(this,Us,t(this.setOnline.bind(this)))}setOnline(t){B(this,ya)!==t&&(we(this,ya,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,ya)}},ya=new WeakMap,Us=new WeakMap,wa=new WeakMap,ek),ph=new i4;function o4(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function a4(e){return Math.min(1e3*2**e,3e4)}function Jj(e){return(e??"online")==="online"?ph.isOnline():!0}var Yj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mp(e){return e instanceof Yj}function Qj(e){let t=!1,n=0,r=!1,s;const i=o4(),o=p=>{var x;r||(f(new Yj(p)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>Kj.isFocused()&&(e.networkMode==="always"||ph.isOnline())&&e.canRun(),d=()=>Jj(e.networkMode)&&e.canRun(),h=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),i.resolve(p))},f=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var x;s=y=>{(r||c())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var C;if(r)return;const w=e.retry??(xf?0:3),S=e.retryDelay??a4,E=typeof S=="function"?S(n,y):S,T=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!T){f(y);return}n++,(C=e.onFail)==null||C.call(e,n,y),e4(E).then(()=>c()?void 0:m()).then(()=>{t?f(y):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():m().then(b),i)}}var l4=e=>setTimeout(e,0);function c4(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=l4;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Kt=c4(),zi,tk,Xj=(tk=class{constructor(){Pe(this,zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QU(this.gcTime)&&we(this,zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xf?1/0:5*60*1e3))}clearGcTimeout(){B(this,zi)&&(clearTimeout(B(this,zi)),we(this,zi,void 0))}},zi=new WeakMap,tk),ba,qi,An,Wi,Dt,Fc,Hi,ar,Gr,nk,u4=(nk=class extends Xj{constructor(t){super();Pe(this,ar);Pe(this,ba);Pe(this,qi);Pe(this,An);Pe(this,Wi);Pe(this,Dt);Pe(this,Fc);Pe(this,Hi);we(this,Hi,!1),we(this,Fc,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,Wi,t.client),we(this,An,B(this,Wi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,ba,h4(this.options)),this.state=t.state??B(this,ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Dt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,Fc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,An).remove(this)}setData(t,n){const r=t4(this.state.data,t,this.options);return Rt(this,ar,Gr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Rt(this,ar,Gr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,Dt))==null?void 0:r.promise;return(s=B(this,Dt))==null||s.cancel(t),n?n.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,ba))}isActive(){return this.observers.some(t=>ZU(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Vg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!XU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Dt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Dt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,An).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Dt)&&(B(this,Hi)?B(this,Dt).cancel({revert:!0}):B(this,Dt).cancelRetry()),this.scheduleGc()),B(this,An).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rt(this,ar,Gr).call(this,{type:"invalidate"})}fetch(t,n){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Dt))return B(this,Dt).continueRetry(),B(this,Dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(we(this,Hi,!0),r.signal)})},i=()=>{const f=Gj(this.options,n),b=(()=>{const p={client:B(this,Wi),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return we(this,Hi,!1),this.options.persister?this.options.persister(f,b,this):f(b)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Wi),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),we(this,qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Rt(this,ar,Gr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,b,p,x;Mp(f)&&f.silent||Rt(this,ar,Gr).call(this,{type:"error",error:f}),Mp(f)||((b=(m=B(this,An).config).onError)==null||b.call(m,f,this),(x=(p=B(this,An).config).onSettled)==null||x.call(p,this.state.data,f,this)),this.scheduleGc()};return we(this,Dt,Qj({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,b,p,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(b=(m=B(this,An).config).onSuccess)==null||b.call(m,f,this),(x=(p=B(this,An).config).onSettled)==null||x.call(p,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Rt(this,ar,Gr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Rt(this,ar,Gr).call(this,{type:"pause"})},onContinue:()=>{Rt(this,ar,Gr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,Dt).start()}},ba=new WeakMap,qi=new WeakMap,An=new WeakMap,Wi=new WeakMap,Dt=new WeakMap,Fc=new WeakMap,Hi=new WeakMap,ar=new WeakSet,Gr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d4(r.data,this.options),fetchMeta:t.meta??null};case"success":return we(this,qi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Mp(s)&&s.revert&&B(this,qi)?{...B(this,qi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,An).notify({query:this,type:"updated",action:t})})},nk);function d4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function h4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Cr,rk,f4=(rk=class extends bf{constructor(t={}){super();Pe(this,Cr);this.config=t,we(this,Cr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??jw(s,n);let o=this.get(i);return o||(o=new u4({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,Cr).has(t.queryHash)||(B(this,Cr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Cr).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Cr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Cr).get(t)}getAll(){return[...B(this,Cr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jx(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Jx(t,r)):n}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cr=new WeakMap,rk),jr,Wt,Gi,Pr,Cs,sk,p4=(sk=class extends Xj{constructor(t){super();Pe(this,Pr);Pe(this,jr);Pe(this,Wt);Pe(this,Gi);this.mutationId=t.mutationId,we(this,Wt,t.mutationCache),we(this,jr,[]),this.state=t.state||m4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,jr).includes(t)||(B(this,jr).push(t),this.clearGcTimeout(),B(this,Wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,jr,B(this,jr).filter(n=>n!==t)),this.scheduleGc(),B(this,Wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,jr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Wt).remove(this))}continue(){var t;return((t=B(this,Gi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,c,d,h,f,m,b,p,x,y,w,S,E,T,C,j,N;const n=()=>{Rt(this,Pr,Cs).call(this,{type:"continue"})};we(this,Gi,Qj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,I)=>{Rt(this,Pr,Cs).call(this,{type:"failed",failureCount:M,error:I})},onPause:()=>{Rt(this,Pr,Cs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Wt).canRun(this)}));const r=this.state.status==="pending",s=!B(this,Gi).canStart();try{if(r)n();else{Rt(this,Pr,Cs).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=B(this,Wt).config).onMutate)==null?void 0:o.call(i,t,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));I!==this.state.context&&Rt(this,Pr,Cs).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const M=await B(this,Gi).start();return await((d=(c=B(this,Wt).config).onSuccess)==null?void 0:d.call(c,M,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,M,t,this.state.context)),await((b=(m=B(this,Wt).config).onSettled)==null?void 0:b.call(m,M,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,M,null,t,this.state.context)),Rt(this,Pr,Cs).call(this,{type:"success",data:M}),M}catch(M){try{throw await((w=(y=B(this,Wt).config).onError)==null?void 0:w.call(y,M,t,this.state.context,this)),await((E=(S=this.options).onError)==null?void 0:E.call(S,M,t,this.state.context)),await((C=(T=B(this,Wt).config).onSettled)==null?void 0:C.call(T,void 0,M,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,M,t,this.state.context)),M}finally{Rt(this,Pr,Cs).call(this,{type:"error",error:M})}}finally{B(this,Wt).runNext(this)}}},jr=new WeakMap,Wt=new WeakMap,Gi=new WeakMap,Pr=new WeakSet,Cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Kt.batch(()=>{B(this,jr).forEach(r=>{r.onMutationUpdate(t)}),B(this,Wt).notify({mutation:this,type:"updated",action:t})})},sk);function m4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var es,lr,Vc,ik,g4=(ik=class extends bf{constructor(t={}){super();Pe(this,es);Pe(this,lr);Pe(this,Vc);this.config=t,we(this,es,new Set),we(this,lr,new Map),we(this,Vc,0)}build(t,n,r){const s=new p4({mutationCache:this,mutationId:++cu(this,Vc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){B(this,es).add(t);const n=Nu(t);if(typeof n=="string"){const r=B(this,lr).get(n);r?r.push(t):B(this,lr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,es).delete(t)){const n=Nu(t);if(typeof n=="string"){const r=B(this,lr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&B(this,lr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Nu(t);if(typeof n=="string"){const r=B(this,lr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Nu(t);if(typeof n=="string"){const s=(r=B(this,lr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{B(this,es).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,es).clear(),B(this,lr).clear()})}getAll(){return Array.from(B(this,es))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Yx(n,r))}findAll(t={}){return this.getAll().filter(n=>Yx(t,n))}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(t.map(n=>n.continue().catch(ir))))}},es=new WeakMap,lr=new WeakMap,Vc=new WeakMap,ik);function Nu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Zx(e){return{onFetch:(t,n)=>{var d,h,f,m,b;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=Gj(t.options,t.fetchOptions),w=async(S,E,T)=>{if(p)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const j=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return x(R),R})(),N=await y(j),{maxPages:M}=t.options,I=T?r4:n4;return{pages:I(S.pages,N,M),pageParams:I(S.pageParams,E,M)}};if(s&&i.length){const S=s==="backward",E=S?v4:eS,T={pages:i,pageParams:o},C=E(r,T);a=await w(T,C,S)}else{const S=e??i.length;do{const E=l===0?o[0]??r.initialPageParam:eS(r,a);if(l>0&&E==null)break;a=await w(a,E),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function eS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function v4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var tt,Bs,zs,xa,Sa,qs,_a,Ea,ok,y4=(ok=class{constructor(e={}){Pe(this,tt);Pe(this,Bs);Pe(this,zs);Pe(this,xa);Pe(this,Sa);Pe(this,qs);Pe(this,_a);Pe(this,Ea);we(this,tt,e.queryCache||new f4),we(this,Bs,e.mutationCache||new g4),we(this,zs,e.defaultOptions||{}),we(this,xa,new Map),we(this,Sa,new Map),we(this,qs,0)}mount(){cu(this,qs)._++,B(this,qs)===1&&(we(this,_a,Kj.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,tt).onFocus())})),we(this,Ea,ph.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,tt).onOnline())})))}unmount(){var e,t;cu(this,qs)._--,B(this,qs)===0&&((e=B(this,_a))==null||e.call(this),we(this,_a,void 0),(t=B(this,Ea))==null||t.call(this),we(this,Ea,void 0))}isFetching(e){return B(this,tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,tt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,tt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return B(this,tt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,tt).get(r.queryHash),i=s==null?void 0:s.state.data,o=YU(t,i);if(o!==void 0)return B(this,tt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Kt.batch(()=>B(this,tt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,tt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,tt);Kt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,tt);return Kt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Kt.batch(()=>B(this,tt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ir).catch(ir)}invalidateQueries(e,t={}){return Kt.batch(()=>(B(this,tt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Kt.batch(()=>B(this,tt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ir)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ir)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,tt).build(this,t);return n.isStaleByTime(Vg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ir).catch(ir)}fetchInfiniteQuery(e){return e.behavior=Zx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ir).catch(ir)}ensureInfiniteQueryData(e){return e.behavior=Zx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ph.isOnline()?B(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,tt)}getMutationCache(){return B(this,Bs)}getDefaultOptions(){return B(this,zs)}setDefaultOptions(e){we(this,zs,e)}setQueryDefaults(e,t){B(this,xa).set(yc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,xa).values()],n={};return t.forEach(r=>{wc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){B(this,Sa).set(yc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Sa).values()],n={};return t.forEach(r=>{wc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,zs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=jw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,zs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,tt).clear(),B(this,Bs).clear()}},tt=new WeakMap,Bs=new WeakMap,zs=new WeakMap,xa=new WeakMap,Sa=new WeakMap,qs=new WeakMap,_a=new WeakMap,Ea=new WeakMap,ok),w4=v.createContext(void 0),b4=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(w4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const tS="popstate";function x4(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Bg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mh(s)}return _4(t,n,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S4(){return Math.random().toString(36).substr(2,8)}function nS(e,t){return{usr:e.state,key:e.key,idx:t}}function Bg(e,t,n,r){return n===void 0&&(n=null),bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Za(t):t,{state:n,key:t&&t.key||r||S4()})}function mh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Za(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Gs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(bc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Gs.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:a,location:p.location,delta:y})}function f(x,y){a=Gs.Push;let w=Bg(p.location,x,y);c=d()+1;let S=nS(w,c),E=p.createHref(w);try{o.pushState(S,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(E)}i&&l&&l({action:a,location:p.location,delta:1})}function m(x,y){a=Gs.Replace;let w=Bg(p.location,x,y);c=d();let S=nS(w,c),E=p.createHref(w);o.replaceState(S,"",E),i&&l&&l({action:a,location:p.location,delta:0})}function b(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:mh(x);return w=w.replace(/ $/,"%20"),at(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(tS,h),l=x,()=>{s.removeEventListener(tS,h),l=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return o.go(x)}};return p}var rS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rS||(rS={}));function E4(e,t,n){return n===void 0&&(n="/"),k4(e,t,n,!1)}function k4(e,t,n,r){let s=typeof t=="string"?Za(t):t,i=Aw(s.pathname||"/",n);if(i==null)return null;let o=eP(e);T4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=L4(i);a=M4(o[l],c,r)}return a}function eP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ri([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),eP(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:R4(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of tP(i.path))s(i,o,l)}),t}function tP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=tP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function T4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:I4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C4=/^:[\w-]+$/,j4=3,P4=2,A4=1,N4=10,O4=-2,sS=e=>e==="*";function R4(e,t){let n=e.split("/"),r=n.length;return n.some(sS)&&(r+=O4),t&&(r+=P4),n.filter(s=>!sS(s)).reduce((s,i)=>s+(C4.test(i)?j4:i===""?A4:N4),r)}function I4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function M4(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=iS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=iS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ri([i,h.pathname]),pathnameBase:U4(ri([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ri([i,h.pathnameBase]))}return o}function iS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=D4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const b=a[h];return m&&!b?c[f]=void 0:c[f]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function D4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function L4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Aw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Za(e):e;return{pathname:n?n.startsWith("/")?n:F4(n,t):t,search:B4(r),hash:z4(s)}}function F4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nw(e,t){let n=V4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ow(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Za(e):(s=bc({},e),at(!s.pathname||!s.pathname.includes("?"),Dp("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Dp("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Dp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=$4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ri=e=>e.join("/").replace(/\/\/+/g,"/"),U4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,z4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nP=["post","put","patch","delete"];new Set(nP);const W4=["get",...nP];new Set(W4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(this,arguments)}const Rw=v.createContext(null),H4=v.createContext(null),gi=v.createContext(null),Sf=v.createContext(null),qr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),rP=v.createContext(null);function G4(e,t){let{relative:n}=t===void 0?{}:t;el()||at(!1);let{basename:r,navigator:s}=v.useContext(gi),{hash:i,pathname:o,search:a}=iP(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ri([r,o])),s.createHref({pathname:l,search:a,hash:i})}function el(){return v.useContext(Sf)!=null}function vi(){return el()||at(!1),v.useContext(Sf).location}function sP(e){v.useContext(gi).static||v.useLayoutEffect(e)}function tl(){let{isDataRoute:e}=v.useContext(qr);return e?lB():K4()}function K4(){el()||at(!1);let e=v.useContext(Rw),{basename:t,future:n,navigator:r}=v.useContext(gi),{matches:s}=v.useContext(qr),{pathname:i}=vi(),o=JSON.stringify(Nw(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return sP(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Ow(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ri([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const J4=v.createContext(null);function Y4(e){let t=v.useContext(qr).outlet;return t&&v.createElement(J4.Provider,{value:e},t)}function Iw(){let{matches:e}=v.useContext(qr),t=e[e.length-1];return t?t.params:{}}function iP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(gi),{matches:s}=v.useContext(qr),{pathname:i}=vi(),o=JSON.stringify(Nw(s,r.v7_relativeSplatPath));return v.useMemo(()=>Ow(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Q4(e,t){return X4(e,t)}function X4(e,t,n,r){el()||at(!1);let{navigator:s}=v.useContext(gi),{matches:i}=v.useContext(qr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vi(),d;if(t){var h;let x=typeof t=="string"?Za(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||at(!1),d=x}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=E4(e,{pathname:m}),p=rB(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ri([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ri([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&p?v.createElement(Sf.Provider,{value:{location:xc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gs.Pop}},p):p}function Z4(){let e=aB(),t=q4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const eB=v.createElement(Z4,null);class tB extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(qr.Provider,{value:this.props.routeContext},v.createElement(rP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nB(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Rw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(qr.Provider,{value:t},r)}function rB(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||at(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,b=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,b=!1,p=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,p=h.route.errorElement||eB,l&&(c<0&&f===0?(b=!0,x=null):c===f&&(b=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let S;return m?S=p:b?S=x:h.route.Component?S=v.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,v.createElement(nB,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(tB,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var oP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oP||{}),gh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gh||{});function sB(e){let t=v.useContext(Rw);return t||at(!1),t}function iB(e){let t=v.useContext(H4);return t||at(!1),t}function oB(e){let t=v.useContext(qr);return t||at(!1),t}function aP(e){let t=oB(),n=t.matches[t.matches.length-1];return n.route.id||at(!1),n.route.id}function aB(){var e;let t=v.useContext(rP),n=iB(gh.UseRouteError),r=aP(gh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lB(){let{router:e}=sB(oP.UseNavigateStable),t=aP(gh.UseNavigateStable),n=v.useRef(!1);return sP(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,xc({fromRouteId:t},i)))},[e,t])}function cB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uB(e){let{to:t,replace:n,state:r,relative:s}=e;el()||at(!1);let{future:i,static:o}=v.useContext(gi),{matches:a}=v.useContext(qr),{pathname:l}=vi(),c=tl(),d=Ow(t,Nw(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function dB(e){return Y4(e.context)}function pn(e){at(!1)}function hB(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Gs.Pop,navigator:i,static:o=!1,future:a}=e;el()&&at(!1);let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:xc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Za(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:b="default"}=r,p=v.useMemo(()=>{let x=Aw(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:b},navigationType:s}},[l,d,h,f,m,b,s]);return p==null?null:v.createElement(gi.Provider,{value:c},v.createElement(Sf.Provider,{children:n,value:p}))}function oS(e){let{children:t,location:n}=e;return Q4(zg(t),n)}new Promise(()=>{});function zg(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,zg(r.props.children,i));return}r.type!==pn&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qg.apply(this,arguments)}function fB(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function pB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mB(e,t){return e.button===0&&(!t||t==="_self")&&!pB(e)}function Wg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function gB(e,t){let n=Wg(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const vB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yB="6";try{window.__reactRouterVersion=yB}catch{}const wB="startTransition",aS=yy[wB];function bB(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=x4({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&aS?aS(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>cB(r),[r]),v.createElement(hB,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const xB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,f=fB(t,vB),{basename:m}=v.useContext(gi),b,p=!1;if(typeof c=="string"&&SB.test(c)&&(b=c,xB))try{let S=new URL(window.location.href),E=c.startsWith("//")?new URL(S.protocol+c):new URL(c),T=Aw(E.pathname,m);E.origin===S.origin&&T!=null?c=T+E.search+E.hash:p=!0}catch{}let x=G4(c,{relative:s}),y=_B(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function w(S){r&&r(S),S.defaultPrevented||y(S)}return v.createElement("a",qg({},f,{href:b||x,onClick:p||i?r:w,ref:n,target:l}))});var lS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lS||(lS={}));var cS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cS||(cS={}));function _B(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=tl(),c=vi(),d=iP(e,{relative:o});return v.useCallback(h=>{if(mB(h,n)){h.preventDefault();let f=r!==void 0?r:mh(c)===mh(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function EB(e){let t=v.useRef(Wg(e)),n=v.useRef(!1),r=vi(),s=v.useMemo(()=>gB(r.search,n.current?null:t.current),[r.search]),i=tl(),o=v.useCallback((a,l)=>{const c=Wg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const Mw=ff("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?$2:"button";return u.jsx(o,{className:ae(Mw({variant:t,size:n,className:e})),ref:i,...s})});pe.displayName="Button";const Dw=v.createContext({});function Lw(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const $w=typeof window<"u",lP=$w?v.useLayoutEffect:v.useEffect,_f=v.createContext(null);function Fw(e,t){e.indexOf(t)===-1&&e.push(t)}function Vw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Br=(e,t,n)=>n>t?t:n<e?e:n;let Ef=()=>{},La=()=>{};const ms={},cP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function uP(e){return typeof e=="object"&&e!==null}const dP=e=>/^0[^.\s]+$/u.test(e);function Uw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fn=e=>e,kB=(e,t)=>n=>t(e(n)),Yc=(...e)=>e.reduce(kB),Sc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Bw{constructor(){this.subscriptions=[]}add(t){return Fw(this.subscriptions,t),()=>Vw(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $r=e=>e*1e3,Mn=e=>e/1e3;function hP(e,t){return t?e*(1e3/t):0}const fP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TB=1e-7,CB=12;function jB(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=fP(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>TB&&++a<CB);return o}function Qc(e,t,n,r){if(e===t&&n===r)return Fn;const s=i=>jB(i,0,1,e,n);return i=>i===0||i===1?i:fP(s(i),t,r)}const pP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mP=e=>t=>1-e(1-t),gP=Qc(.33,1.53,.69,.99),zw=mP(gP),vP=pP(zw),yP=e=>(e*=2)<1?.5*zw(e):.5*(2-Math.pow(2,-10*(e-1))),qw=e=>1-Math.sin(Math.acos(e)),wP=mP(qw),bP=pP(qw),PB=Qc(.42,0,1,1),AB=Qc(0,0,.58,1),xP=Qc(.42,0,.58,1),NB=e=>Array.isArray(e)&&typeof e[0]!="number",SP=e=>Array.isArray(e)&&typeof e[0]=="number",uS={linear:Fn,easeIn:PB,easeInOut:xP,easeOut:AB,circIn:qw,circInOut:bP,circOut:wP,backIn:zw,backInOut:vP,backOut:gP,anticipate:yP},OB=e=>typeof e=="string",dS=e=>{if(SP(e)){La(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return Qc(t,n,r,s)}else if(OB(e))return La(uS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),uS[e];return e},Ou=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],hS={value:null,addProjectionMetrics:null};function RB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&s?n:r;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&hS.value&&hS.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const IB=40;function _P(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ou.reduce((S,E)=>(S[E]=RB(i,t?E:void 0),S),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:m,postRender:b}=o,p=()=>{const S=ms.useManualTiming?s.timestamp:performance.now();n=!1,ms.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,IB),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),m.process(s),b.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Ou.reduce((S,E)=>{const T=o[E];return S[E]=(C,j=!1,N=!1)=>(n||x(),T.schedule(C,j,N)),S},{}),cancel:S=>{for(let E=0;E<Ou.length;E++)o[Ou[E]].cancel(S)},state:s,steps:o}}const{schedule:He,cancel:ci,state:Pt,steps:Lp}=_P(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let bd;function MB(){bd=void 0}const Xt={now:()=>(bd===void 0&&Xt.set(Pt.isProcessing||ms.useManualTiming?Pt.timestamp:performance.now()),bd),set:e=>{bd=e,queueMicrotask(MB)}},EP=e=>t=>typeof t=="string"&&t.startsWith(e),kP=EP("--"),DB=EP("var(--"),Ww=e=>DB(e)?LB.test(e.split("/*")[0].trim()):!1,LB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const nl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_c={...nl,transform:e=>Br(0,1,e)},Ru={...nl,default:1},ql=e=>Math.round(e*1e5)/1e5,Hw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $B(e){return e==null}const FB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gw=(e,t)=>n=>!!(typeof n=="string"&&FB.test(n)&&n.startsWith(e)||t&&!$B(n)&&Object.prototype.hasOwnProperty.call(n,t)),TP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Hw);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},VB=e=>Br(0,255,e),$p={...nl,transform:e=>Math.round(VB(e))},$i={test:Gw("rgb","red"),parse:TP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+$p.transform(e)+", "+$p.transform(t)+", "+$p.transform(n)+", "+ql(_c.transform(r))+")"};function UB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Hg={test:Gw("#"),parse:UB,transform:$i.transform},Xc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),js=Xc("deg"),Fr=Xc("%"),te=Xc("px"),BB=Xc("vh"),zB=Xc("vw"),pS={...Fr,parse:e=>Fr.parse(e)/100,transform:e=>Fr.transform(e*100)},Jo={test:Gw("hsl","hue"),parse:TP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fr.transform(ql(t))+", "+Fr.transform(ql(n))+", "+ql(_c.transform(r))+")"},ut={test:e=>$i.test(e)||Hg.test(e)||Jo.test(e),parse:e=>$i.test(e)?$i.parse(e):Jo.test(e)?Jo.parse(e):Hg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$i.transform(e):Jo.transform(e),getAnimatableNone:e=>{const t=ut.parse(e);return t.alpha=0,ut.transform(t)}},qB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Hw))==null?void 0:t.length)||0)+(((n=e.match(qB))==null?void 0:n.length)||0)>0}const CP="number",jP="color",HB="var",GB="var(",mS="${}",KB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ec(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(KB,l=>(ut.test(l)?(r.color.push(i),s.push(jP),n.push(ut.parse(l))):l.startsWith(GB)?(r.var.push(i),s.push(HB),n.push(l)):(r.number.push(i),s.push(CP),n.push(parseFloat(l))),++i,mS)).split(mS);return{values:n,split:a,indexes:r,types:s}}function PP(e){return Ec(e).values}function AP(e){const{split:t,types:n}=Ec(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===CP?i+=ql(s[o]):a===jP?i+=ut.transform(s[o]):i+=s[o]}return i}}const JB=e=>typeof e=="number"?0:ut.test(e)?ut.getAnimatableNone(e):e;function YB(e){const t=PP(e);return AP(e)(t.map(JB))}const ui={test:WB,parse:PP,createTransformer:AP,getAnimatableNone:YB};function Fp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function QB({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Fp(l,a,e+1/3),i=Fp(l,a,e),o=Fp(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function vh(e,t){return n=>n>0?t:e}const Xe=(e,t,n)=>e+(t-e)*n,Vp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},XB=[Hg,$i,Jo],ZB=e=>XB.find(t=>t.test(e));function gS(e){const t=ZB(e);if(Ef(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Jo&&(n=QB(n)),n}const vS=(e,t)=>{const n=gS(e),r=gS(t);if(!n||!r)return vh(e,t);const s={...n};return i=>(s.red=Vp(n.red,r.red,i),s.green=Vp(n.green,r.green,i),s.blue=Vp(n.blue,r.blue,i),s.alpha=Xe(n.alpha,r.alpha,i),$i.transform(s))},Gg=new Set(["none","hidden"]);function e3(e,t){return Gg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function t3(e,t){return n=>Xe(e,t,n)}function Kw(e){return typeof e=="number"?t3:typeof e=="string"?Ww(e)?vh:ut.test(e)?vS:s3:Array.isArray(e)?NP:typeof e=="object"?ut.test(e)?vS:n3:vh}function NP(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Kw(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function n3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Kw(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function r3(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const s3=(e,t)=>{const n=ui.createTransformer(t),r=Ec(e),s=Ec(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Gg.has(e)&&!s.values.length||Gg.has(t)&&!r.values.length?e3(e,t):Yc(NP(r3(r,s),s.values),n):(Ef(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),vh(e,t))};function OP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Xe(e,t,n):Kw(e)(e,t)}const i3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>He.update(t,n),stop:()=>ci(t),now:()=>Pt.isProcessing?Pt.timestamp:Xt.now()}},RP=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},yh=2e4;function Jw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<yh;)t+=n,r=e.next(t);return t>=yh?1/0:t}function o3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Jw(r),yh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Mn(s)}}const a3=5;function IP(e,t,n){const r=Math.max(t-a3,0);return hP(n-e(r),t-r)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function l3({duration:e=Ye.duration,bounce:t=Ye.bounce,velocity:n=Ye.velocity,mass:r=Ye.mass}){let s,i;Ef(e<=$r(Ye.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=Br(Ye.minDamping,Ye.maxDamping,o),e=Br(Ye.minDuration,Ye.maxDuration,Mn(e)),o<1?(s=c=>{const d=c*o,h=d*e,f=d-n,m=Kg(c,o),b=Math.exp(-h);return Up-f/m*b},i=c=>{const h=c*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-h),p=Kg(Math.pow(c,2),o);return(-s(c)+Up>0?-1:1)*((f-m)*b)/p}):(s=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-Up+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=u3(s,i,a);if(e=$r(e),isNaN(l))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const c3=12;function u3(e,t,n){let r=n;for(let s=1;s<c3;s++)r=r-e(r)/t(r);return r}function Kg(e,t){return e*Math.sqrt(1-t*t)}const d3=["duration","bounce"],h3=["stiffness","damping","mass"];function yS(e,t){return t.some(n=>e[n]!==void 0)}function f3(e){let t={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...e};if(!yS(e,h3)&&yS(e,d3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Br(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ye.mass,stiffness:s,damping:i}}else{const n=l3(e);t={...t,...n,mass:Ye.mass},t.isResolvedFromDuration=!0}return t}function wh(e=Ye.visualDuration,t=Ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=f3({...n,velocity:-Mn(n.velocity||0)}),b=f||0,p=c/(2*Math.sqrt(l*d)),x=o-i,y=Mn(Math.sqrt(l/d)),w=Math.abs(x)<5;r||(r=w?Ye.restSpeed.granular:Ye.restSpeed.default),s||(s=w?Ye.restDelta.granular:Ye.restDelta.default);let S;if(p<1){const T=Kg(y,p);S=C=>{const j=Math.exp(-p*y*C);return o-j*((b+p*y*x)/T*Math.sin(T*C)+x*Math.cos(T*C))}}else if(p===1)S=T=>o-Math.exp(-y*T)*(x+(b+y*x)*T);else{const T=y*Math.sqrt(p*p-1);S=C=>{const j=Math.exp(-p*y*C),N=Math.min(T*C,300);return o-j*((b+p*y*x)*Math.sinh(N)+T*x*Math.cosh(N))/T}}const E={calculatedDuration:m&&h||null,next:T=>{const C=S(T);if(m)a.done=T>=h;else{let j=T===0?b:0;p<1&&(j=T===0?$r(b):IP(S,T,C));const N=Math.abs(j)<=r,M=Math.abs(o-C)<=s;a.done=N&&M}return a.value=a.done?o:C,a},toString:()=>{const T=Math.min(Jw(E),yh),C=RP(j=>E.next(T*j).value,T,30);return T+"ms "+C},toTransition:()=>{}};return E}wh.applyToOptions=e=>{const t=o3(e,100,wh);return e.ease=t.ease,e.duration=$r(t.duration),e.type="keyframes",e};function Jg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=N=>a!==void 0&&N<a||l!==void 0&&N>l,b=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let p=n*t;const x=h+p,y=o===void 0?x:o(x);y!==x&&(p=y-h);const w=N=>-p*Math.exp(-N/r),S=N=>y+w(N),E=N=>{const M=w(N),I=S(N);f.done=Math.abs(M)<=c,f.value=f.done?y:I};let T,C;const j=N=>{m(f.value)&&(T=N,C=wh({keyframes:[f.value,b(f.value)],velocity:IP(S,N,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:N=>{let M=!1;return!C&&T===void 0&&(M=!0,E(N),j(N)),T!==void 0&&N>=T?C.next(N-T):(!M&&E(N),f)}}}function p3(e,t,n){const r=[],s=n||ms.mix||OP,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Fn:t;a=Yc(l,a)}r.push(a)}return r}function m3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(La(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=p3(t,r,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Sc(e[h],e[h+1],d);return a[h](f)};return n?d=>c(Br(e[0],e[i-1],d)):c}function g3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Sc(0,t,r);e.push(Xe(n,1,s))}}function v3(e){const t=[0];return g3(t,e.length-1),t}function y3(e,t){return e.map(n=>n*t)}function w3(e,t){return e.map(()=>t||xP).splice(0,e.length-1)}function Wl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=NB(r)?r.map(dS):dS(r),i={done:!1,value:t[0]},o=y3(n&&n.length===t.length?n:v3(t),e),a=m3(o,t,{ease:Array.isArray(s)?s:w3(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const b3=e=>e!==null;function Yw(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(b3),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const x3={decay:Jg,inertia:Jg,tween:Wl,keyframes:Wl,spring:wh};function MP(e){typeof e.type=="string"&&(e.type=x3[e.type])}class Qw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const S3=e=>e/100;class Xw extends Qw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Xt.now()&&this.tick(Xt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;MP(t);const{type:n=Wl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Wl;l!==Wl&&typeof a[0]!="number"&&(this.mixKeyframes=Yc(S3,OP(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Jw(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:b,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,E=r;if(h){const N=Math.min(this.currentTime,s)/a;let M=Math.floor(N),I=N%1;!I&&N>=1&&(I=1),I===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(f==="reverse"?(I=1-I,m&&(I-=m/a)):f==="mirror"&&(E=o)),S=Br(0,1,I)*a}const T=w?{done:!1,value:d[0]}:E.next(S);i&&(T.value=i(T.value));let{done:C}=T;!w&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&b!==Jg&&(T.value=Yw(d,this.options,x,this.speed)),p&&p(T.value),j&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return Mn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Mn(t)}get time(){return Mn(this.currentTime)}set time(t){var n;t=$r(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Xt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Mn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=i3,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function _3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fi=e=>e*180/Math.PI,Yg=e=>{const t=Fi(Math.atan2(e[1],e[0]));return Qg(t)},E3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Yg,rotateZ:Yg,skewX:e=>Fi(Math.atan(e[1])),skewY:e=>Fi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qg=e=>(e=e%360,e<0&&(e+=360),e),wS=Yg,bS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),k3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bS,scaleY:xS,scale:e=>(bS(e)+xS(e))/2,rotateX:e=>Qg(Fi(Math.atan2(e[6],e[5]))),rotateY:e=>Qg(Fi(Math.atan2(-e[2],e[0]))),rotateZ:wS,rotate:wS,skewX:e=>Fi(Math.atan(e[4])),skewY:e=>Fi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xg(e){return e.includes("scale")?1:0}function Zg(e,t){if(!e||e==="none")return Xg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=k3,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=E3,s=a}if(!s)return Xg(t);const i=r[t],o=s[1].split(",").map(C3);return typeof i=="function"?i(o):o[i]}const T3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Zg(n,t)};function C3(e){return parseFloat(e.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(rl),SS=e=>e===nl||e===te,j3=new Set(["x","y","z"]),P3=rl.filter(e=>!j3.has(e));function A3(e){const t=[];return P3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ks={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Zg(t,"x"),y:(e,{transform:t})=>Zg(t,"y")};Ks.translateX=Ks.x;Ks.translateY=Ks.y;const Qi=new Set;let ev=!1,tv=!1,nv=!1;function DP(){if(tv){const e=Array.from(Qi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=A3(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tv=!1,ev=!1,Qi.forEach(e=>e.complete(nv)),Qi.clear()}function LP(){Qi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tv=!0)})}function N3(){nv=!0,LP(),DP(),nv=!1}class Zw{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Qi.add(this),ev||(ev=!0,He.read(LP),He.resolveKeyframes(DP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}_3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qi.delete(this)}cancel(){this.state==="scheduled"&&(Qi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const O3=e=>e.startsWith("--");function R3(e,t,n){O3(t)?e.style.setProperty(t,n):e.style[t]=n}const I3=Uw(()=>window.ScrollTimeline!==void 0),M3={};function D3(e,t){const n=Uw(e);return()=>M3[t]??n()}const $P=D3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_S={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tl([0,.65,.55,1]),circOut:Tl([.55,0,1,.45]),backIn:Tl([.31,.01,.66,-.59]),backOut:Tl([.33,1.53,.69,.99])};function FP(e,t){if(e)return typeof e=="function"?$P()?RP(e,t):"ease-out":SP(e)?Tl(e):Array.isArray(e)?e.map(n=>FP(n,t)||_S.easeOut):_S[e]}function L3(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=FP(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function VP(e){return typeof e=="function"&&"applyToOptions"in e}function $3({type:e,...t}){return VP(e)&&$P()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class F3 extends Qw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,La(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=$3(t);this.animation=L3(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Yw(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):R3(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Mn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Mn(t)}get time(){return Mn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$r(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&I3()?(this.animation.timeline=t,Fn):n(this)}}const UP={anticipate:yP,backInOut:vP,circInOut:bP};function V3(e){return e in UP}function U3(e){typeof e.ease=="string"&&V3(e.ease)&&(e.ease=UP[e.ease])}const Bp=10;class B3 extends F3{constructor(t){U3(t),MP(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Xw({...o,autoplay:!1}),l=Math.max(Bp,Xt.now()-this.startTime),c=Br(0,Bp,l-Bp);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const ES=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ui.test(e)||e==="0")&&!e.startsWith("url("));function z3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function q3(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=ES(s,t),a=ES(i,t);return Ef(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:z3(e)||(n==="spring"||VP(n))&&r}function rv(e){e.duration=0,e.type="keyframes"}const W3=new Set(["opacity","clipPath","filter","transform"]),H3=Uw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function G3(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return H3()&&n&&W3.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const K3=40;class J3 extends Qw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var b;super(),this.stop=()=>{var p,x;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Xt.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Zw;this.keyframeResolver=new m(a,(p,x,y)=>this.onKeyframesResolved(p,x,f,!y),l,c,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Xt.now(),q3(t,i,o,a)||((ms.instantAnimations||!l)&&(d==null||d(Yw(t,r,n))),t[0]=t[t.length-1],rv(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>K3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&G3(f)?new B3({...f,element:f.motionValue.owner.current}):new Xw(f);m.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),N3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Y3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q3(e){const t=Y3.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const X3=4;function BP(e,t,n=1){La(n<=X3,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=Q3(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return cP(o)?parseFloat(o):o}return Ww(s)?BP(s,t,n+1):s}function e0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const zP=new Set(["width","height","top","left","right","bottom",...rl]),Z3={test:e=>e==="auto",parse:e=>e},qP=e=>t=>t.test(e),WP=[nl,te,Fr,js,zB,BB,Z3],kS=e=>WP.find(qP(e));function e5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||dP(e):!0}const t5=new Set(["brightness","contrast","saturate","opacity"]);function n5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Hw)||[];if(!r)return e;const s=n.replace(r,"");let i=t5.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const r5=/\b([a-z-]*)\(.*?\)/gu,sv={...ui,getAnimatableNone:e=>{const t=e.match(r5);return t?t.map(n5).join(" "):e}},TS={...nl,transform:Math.round},s5={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Ru,scaleX:Ru,scaleY:Ru,scaleZ:Ru,skew:js,skewX:js,skewY:js,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:_c,originX:pS,originY:pS,originZ:te},t0={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,inset:te,insetBlock:te,insetBlockStart:te,insetBlockEnd:te,insetInline:te,insetInlineStart:te,insetInlineEnd:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,paddingBlock:te,paddingBlockStart:te,paddingBlockEnd:te,paddingInline:te,paddingInlineStart:te,paddingInlineEnd:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,marginBlock:te,marginBlockStart:te,marginBlockEnd:te,marginInline:te,marginInlineStart:te,marginInlineEnd:te,backgroundPositionX:te,backgroundPositionY:te,...s5,zIndex:TS,fillOpacity:_c,strokeOpacity:_c,numOctaves:TS},i5={...t0,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:sv,WebkitFilter:sv},HP=e=>i5[e];function GP(e,t){let n=HP(e);return n!==sv&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const o5=new Set(["auto","none","0"]);function a5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!o5.has(i)&&Ec(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=GP(n,s)}class l5 extends Zw{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Ww(h))){const f=BP(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!zP.has(r)||t.length!==2)return;const[s,i]=t,o=kS(s),a=kS(i),l=fS(s),c=fS(i);if(l!==c&&Ks[r]){this.needsMeasurement=!0;return}if(o!==a)if(SS(o)&&SS(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Ks[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||e5(t[s]))&&r.push(s);r.length&&a5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ks[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ks[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function c5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const KP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function JP(e){return uP(e)&&"offsetHeight"in e}const CS=30,u5=e=>!isNaN(parseFloat(e));class d5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Xt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Xt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=u5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Bw);const r=this.events[t].add(n);return t==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CS);return hP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $a(e,t){return new d5(e,t)}const{schedule:n0,cancel:dY}=_P(queueMicrotask,!1),tr={x:!1,y:!1};function YP(){return tr.x||tr.y}function h5(e){return e==="x"||e==="y"?tr[e]?null:(tr[e]=!0,()=>{tr[e]=!1}):tr.x||tr.y?null:(tr.x=tr.y=!0,()=>{tr.x=tr.y=!1})}function QP(e,t){const n=c5(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function jS(e){return!(e.pointerType==="touch"||YP())}function f5(e,t,n={}){const[r,s,i]=QP(e,n),o=a=>{if(!jS(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{jS(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const XP=(e,t)=>t?e===t?!0:XP(e,t.parentElement):!1,r0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,p5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZP(e){return p5.has(e.tagName)||e.isContentEditable===!0}const xd=new WeakSet;function PS(e){return t=>{t.key==="Enter"&&e(t)}}function zp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const m5=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=PS(()=>{if(xd.has(n))return;zp(n,"down");const s=PS(()=>{zp(n,"up")}),i=()=>zp(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function AS(e){return r0(e)&&!YP()}function g5(e,t,n={}){const[r,s,i]=QP(e,n),o=a=>{const l=a.currentTarget;if(!AS(a))return;xd.add(l);const c=t(l,a),d=(m,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),xd.has(l)&&xd.delete(l),AS(m)&&typeof c=="function"&&c(m,{success:b})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||XP(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),JP(a)&&(a.addEventListener("focus",c=>m5(c,s)),!ZP(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function eA(e){return uP(e)&&"ownerSVGElement"in e}function v5(e){return eA(e)&&e.tagName==="svg"}const Vt=e=>!!(e&&e.getVelocity),y5=[...WP,ut,ui],w5=e=>y5.find(qP(e)),s0=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function NS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function b5(...e){return t=>{let n=!1;const r=e.map(s=>{const i=NS(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():NS(e[s],null)}}}}function x5(...e){return v.useCallback(b5(...e),e)}class S5 extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=JP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _5({children:e,isPresent:t,anchorX:n,root:r}){var d;const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(s0),l=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),c=x5(i,l);return v.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:b,right:p}=o.current;if(t||!i.current||!h||!f)return;const x=n==="left"?`left: ${b}`:`right: ${p}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),u.jsx(S5,{isPresent:t,childRef:i,sizeRef:o,children:v.cloneElement(e,{ref:c})})}const E5=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Lw(k5),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const b of c.values())if(!b)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(f={...f}),v.useMemo(()=>{c.forEach((m,b)=>c.set(b,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(_5,{isPresent:n,anchorX:a,root:l,children:e})),u.jsx(_f.Provider,{value:f,children:e})};function k5(){return new Map}function tA(e=!0){const t=v.useContext(_f);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=v.useId();v.useEffect(()=>{if(e)return s(i)},[e]);const o=v.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Iu=e=>e.key||"";function OS(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Fa=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=tA(o),h=v.useMemo(()=>OS(e),[e]),f=o&&!c?[]:h.map(Iu),m=v.useRef(!0),b=v.useRef(h),p=Lw(()=>new Map),x=v.useRef(new Set),[y,w]=v.useState(h),[S,E]=v.useState(h);lP(()=>{m.current=!1,b.current=h;for(let j=0;j<S.length;j++){const N=Iu(S[j]);f.includes(N)?(p.delete(N),x.current.delete(N)):p.get(N)!==!0&&p.set(N,!1)}},[S,f.length,f.join("-")]);const T=[];if(h!==y){let j=[...h];for(let N=0;N<S.length;N++){const M=S[N],I=Iu(M);f.includes(I)||(j.splice(N,0,M),T.push(M))}return i==="wait"&&T.length&&(j=T),E(OS(j)),w(h),null}const{forceRender:C}=v.useContext(Dw);return u.jsx(u.Fragment,{children:S.map(j=>{const N=Iu(j),M=o&&!c?!1:h===S||f.includes(N),I=()=>{if(x.current.has(N))return;if(x.current.add(N),p.has(N))p.set(N,!0);else return;let R=!0;p.forEach(F=>{F||(R=!1)}),R&&(C==null||C(),E(b.current),o&&(d==null||d()),r&&r())};return u.jsx(E5,{isPresent:M,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:M?void 0:I,anchorX:a,children:j},N)})})},nA=v.createContext({strict:!1}),RS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Va={};for(const e in RS)Va[e]={isEnabled:t=>RS[e].some(n=>!!t[n])};function T5(e){for(const t in e)Va[t]={...Va[t],...e[t]}}const C5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||C5.has(e)}let rA=e=>!bh(e);function j5(e){typeof e=="function"&&(rA=t=>t.startsWith("on")?!bh(t):e(t))}try{j5(require("@emotion/is-prop-valid").default)}catch{}function P5(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(rA(s)||n===!0&&bh(s)||!t&&!bh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const kf=v.createContext({});function Tf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function kc(e){return typeof e=="string"||Array.isArray(e)}const i0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o0=["initial",...i0];function Cf(e){return Tf(e.animate)||o0.some(t=>kc(e[t]))}function sA(e){return!!(Cf(e)||e.variants)}function A5(e,t){if(Cf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||kc(n)?n:void 0,animate:kc(r)?r:void 0}}return e.inherit!==!1?t:{}}function N5(e){const{initial:t,animate:n}=A5(e,v.useContext(kf));return v.useMemo(()=>({initial:t,animate:n}),[IS(t),IS(n)])}function IS(e){return Array.isArray(e)?e.join(" "):e}function MS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=MS(e,t.target.x),r=MS(e,t.target.y);return`${n}% ${r}%`}},O5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ui.parse(e);if(s.length>5)return r;const i=ui.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=Xe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},iv={borderRadius:{...wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wl,borderTopRightRadius:wl,borderBottomLeftRadius:wl,borderBottomRightRadius:wl,boxShadow:O5};function iA(e,{layout:t,layoutId:n}){return sl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!iv[e]||e==="opacity")}const R5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I5=rl.length;function M5(e,t,n){let r="",s=!0;for(let i=0;i<I5;i++){const o=rl[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=KP(a,t0[o]);if(!l){s=!1;const d=R5[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function a0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(sl.has(l)){o=!0;continue}else if(kP(l)){s[l]=c;continue}else{const d=KP(c,t0[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=M5(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const l0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oA(e,t,n){for(const r in t)!Vt(t[r])&&!iA(r,n)&&(e[r]=t[r])}function D5({transformTemplate:e},t){return v.useMemo(()=>{const n=l0();return a0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function L5(e,t){const n=e.style||{},r={};return oA(r,n,e),Object.assign(r,D5(e,t)),r}function $5(e,t){const n={},r=L5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const F5={offset:"stroke-dashoffset",array:"stroke-dasharray"},V5={offset:"strokeDashoffset",array:"strokeDasharray"};function U5(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?F5:V5;e[i.offset]=te.transform(-r);const o=te.transform(t),a=te.transform(n);e[i.array]=`${o} ${a}`}const B5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function aA(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(a0(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of B5)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&U5(h,s,i,o,!1)}const lA=()=>({...l0(),attrs:{}}),cA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function z5(e,t,n,r){const s=v.useMemo(()=>{const i=lA();return aA(i,t,cA(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};oA(i,e.style,e),s.style={...i,...s.style}}return s}const q5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c0(e){return typeof e!="string"||e.includes("-")?!1:!!(q5.indexOf(e)>-1||/[A-Z]/u.test(e))}function W5(e,t,n,{latestValues:r},s,i=!1,o){const l=(o??c0(e)?z5:$5)(t,r,s,e),c=P5(t,typeof e=="string",i),d=e!==v.Fragment?{...c,...l,ref:n}:{},{children:h}=t,f=v.useMemo(()=>Vt(h)?h.get():h,[h]);return v.createElement(e,{...d,children:f})}function DS(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function u0(e,t,n,r){if(typeof t=="function"){const[s,i]=DS(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=DS(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Sd(e){return Vt(e)?e.get():e}function H5({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:G5(n,r,s,e),renderState:t()}}function G5(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Sd(i[f]);let{initial:o,animate:a}=e;const l=Cf(e),c=sA(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Tf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const b=u0(e,f[m]);if(b){const{transitionEnd:p,transition:x,...y}=b;for(const w in y){let S=y[w];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(s[w]=S)}for(const w in p)s[w]=p[w]}}}return s}const uA=e=>(t,n)=>{const r=v.useContext(kf),s=v.useContext(_f),i=()=>H5(e,t,r,s);return n?i():Lw(i)};function d0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Vt(r[o])||t.style&&Vt(t.style[o])||iA(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const K5=uA({scrapeMotionValuesFromProps:d0,createRenderState:l0});function dA(e,t,n){const r=d0(e,t,n);for(const s in e)if(Vt(e[s])||Vt(t[s])){const i=rl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const J5=uA({scrapeMotionValuesFromProps:dA,createRenderState:lA}),Y5=Symbol.for("motionComponentSymbol");function Q5(e,t,n){const r=v.useRef(n);v.useInsertionEffect(()=>{r.current=n});const s=v.useRef(null);return v.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const h0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),X5="framerAppearId",hA="data-"+h0(X5),fA=v.createContext({});function Cl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Z5(e,t,n,r,s,i){var x,y;const{visualElement:o}=v.useContext(kf),a=v.useContext(nA),l=v.useContext(_f),c=v.useContext(s0).reducedMotion,d=v.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const h=d.current,f=v.useContext(fA);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&ez(d.current,n,s,f);const m=v.useRef(!1);v.useInsertionEffect(()=>{h&&m.current&&h.update(n,l)});const b=n[hA],p=v.useRef(!!b&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,b))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,b)));return lP(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,b)}),p.current=!1),h.enteringChildren=void 0)}),h}function ez(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pA(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Cl(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function pA(e){if(e)return e.options.allowProjection!==!1?e.projection:pA(e.parent)}function qp(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&T5(r);const i=n?n==="svg":c0(e),o=i?J5:K5;function a(c,d){let h;const f={...v.useContext(s0),...c,layoutId:tz(c)},{isStatic:m}=f,b=N5(c),p=o(c,m);if(!m&&$w){nz();const x=rz(f);h=x.MeasureLayout,b.visualElement=Z5(e,p,f,s,x.ProjectionNode,i)}return u.jsxs(kf.Provider,{value:b,children:[h&&b.visualElement?u.jsx(h,{visualElement:b.visualElement,...f}):null,W5(e,c,Q5(p,b.visualElement,d),p,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(a);return l[Y5]=e,l}function tz({layoutId:e}){const t=v.useContext(Dw).id;return t&&e!==void 0?t+"-"+e:e}function nz(e,t){v.useContext(nA).strict}function rz(e){const{drag:t,layout:n}=Va;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function sz(e,t){if(typeof Proxy>"u")return qp;const n=new Map,r=(i,o)=>qp(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,qp(o,void 0,e,t)),n.get(o))})}function mA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function iz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wp(e){return e===void 0||e===1}function ov({scale:e,scaleX:t,scaleY:n}){return!Wp(e)||!Wp(t)||!Wp(n)}function Ni(e){return ov(e)||gA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gA(e){return LS(e.x)||LS(e.y)}function LS(e){return e&&e!=="0%"}function xh(e,t,n){const r=e-n,s=t*r;return n+s}function $S(e,t,n,r,s){return s!==void 0&&(e=xh(e,s,r)),xh(e,n,r)+t}function av(e,t=0,n=1,r,s){e.min=$S(e.min,t,n,r,s),e.max=$S(e.max,t,n,r,s)}function vA(e,{x:t,y:n}){av(e.x,t.translate,t.scale,t.originPoint),av(e.y,n.translate,n.scale,n.originPoint)}const FS=.999999999999,VS=1.0000000000001;function az(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,vA(e,o)),r&&Ni(i.latestValues)&&Qo(e,i.latestValues))}t.x<VS&&t.x>FS&&(t.x=1),t.y<VS&&t.y>FS&&(t.y=1)}function Yo(e,t){e.min=e.min+t,e.max=e.max+t}function US(e,t,n,r,s=.5){const i=Xe(e.min,e.max,s);av(e,t,n,i,r)}function Qo(e,t){US(e.x,t.x,t.scaleX,t.scale,t.originX),US(e.y,t.y,t.scaleY,t.scale,t.originY)}function yA(e,t){return mA(oz(e.getBoundingClientRect(),t))}function lz(e,t,n){const r=yA(e,n),{scroll:s}=t;return s&&(Yo(r.x,s.offset.x),Yo(r.y,s.offset.y)),r}const BS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xo=()=>({x:BS(),y:BS()}),zS=()=>({min:0,max:0}),pt=()=>({x:zS(),y:zS()}),lv={current:null},wA={current:!1};function cz(){if(wA.current=!0,!!$w)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lv.current=e.matches;e.addEventListener("change",t),t()}else lv.current=!1}const uz=new WeakMap;function dz(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Vt(s))e.addValue(r,s);else if(Vt(i))e.addValue(r,$a(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,$a(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const qS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Xt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,He.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Cf(n),this.isVariantNode=sA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Vt(m)&&m.set(l[f])}}mount(t){var n;this.current=t,uz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(wA.current||cz(),this.shouldReduceMotion=lv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=sl.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Va){const n=Va[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qS.length;r++){const s=qS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=dz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=$a(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(cP(r)||dP(r))?r=parseFloat(r):!w5(r)&&ui.test(n)&&(r=GP(t,n)),this.setBaseTarget(t,Vt(r)?r.get():r)),Vt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=u0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Vt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Bw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){n0.render(this.render)}}class bA extends hz{constructor(){super(...arguments),this.KeyframeResolver=l5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xA(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function fz(e){return window.getComputedStyle(e)}class pz extends bA{constructor(){super(...arguments),this.type="html",this.renderInstance=xA}readValueFromInstance(t,n){var r;if(sl.has(n))return(r=this.projection)!=null&&r.isProjecting?Xg(n):T3(t,n);{const s=fz(t),i=(kP(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yA(t,n)}build(t,n,r){a0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return d0(t,n,r)}}const SA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mz(e,t,n,r){xA(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(SA.has(s)?s:h0(s),t.attrs[s])}class gz extends bA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sl.has(n)){const r=HP(n);return r&&r.default||0}return n=SA.has(n)?n:h0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return dA(t,n,r)}build(t,n,r){aA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){mz(t,n,r,s)}mount(t){this.isSVGTag=cA(t.tagName),super.mount(t)}}const vz=(e,t)=>t.isSVG??c0(e)?new gz(t):new pz(t,{allowProjection:e!==v.Fragment});function ca(e,t,n){const r=e.getProps();return u0(r,t,n!==void 0?n:r.custom,e)}const cv=e=>Array.isArray(e);function yz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$a(n))}function wz(e){return cv(e)?e[e.length-1]||0:e}function bz(e,t){const n=ca(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=wz(i[o]);yz(e,o,a)}}function xz(e){return!!(Vt(e)&&e.add)}function uv(e,t){const n=e.getValue("willChange");if(xz(n))return n.add(t);if(!n&&ms.WillChange){const r=new ms.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function _A(e){return e.props[hA]}const Sz=e=>e!==null;function _z(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Sz),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Ez={type:"spring",stiffness:500,damping:25,restSpeed:10},kz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tz={type:"keyframes",duration:.8},Cz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jz=(e,{keyframes:t})=>t.length>2?Tz:sl.has(e)?e.startsWith("scale")?kz(t[1]):Ez:Cz;function Pz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const f0=(e,t,n,r={},s,i)=>o=>{const a=e0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-$r(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Pz(a)||Object.assign(d,jz(e,d)),d.duration&&(d.duration=$r(d.duration)),d.repeatDelay&&(d.repeatDelay=$r(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(rv(d),d.delay===0&&(h=!0)),(ms.instantAnimations||ms.skipAnimations)&&(h=!0,rv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=_z(d.keyframes,a);if(f!==void 0){He.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new Xw(d):new J3(d)};function Az({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function EA(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||c&&Az(c,d))continue;const m={delay:n,...e0(i||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===b&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=_A(e);if(y){const w=window.MotionHandoffAnimation(y,d,He);w!==null&&(m.startTime=w,p=!0)}}uv(e,d),h.start(f0(d,h,f,e.shouldReduceMotion&&zP.has(d)?{type:!1}:m,e,p));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{He.update(()=>{o&&bz(e,o)})}),l}function kA(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function dv(e,t,n={}){var l;const r=ca(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(EA(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Nz(e,t,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function Nz(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(dv(l,t,{...o,delay:n+(typeof r=="function"?0:r)+kA(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Oz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>dv(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=dv(e,t,n);else{const s=typeof t=="function"?ca(e,t,n.custom):t;r=Promise.all(EA(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function TA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Rz=o0.length;function CA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?CA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Rz;n++){const r=o0[n],s=e.props[r];(kc(s)||s===!1)&&(t[r]=s)}return t}const Iz=[...i0].reverse(),Mz=i0.length;function Dz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Oz(e,n,r)))}function Lz(e){let t=Dz(e),n=WS(),r=!0;const s=l=>(c,d)=>{var f;const h=ca(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:b,...p}=h;c={...c,...p,...b}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=CA(e.parent)||{},h=[],f=new Set;let m={},b=1/0;for(let x=0;x<Mz;x++){const y=Iz[x],w=n[y],S=c[y]!==void 0?c[y]:d[y],E=kc(S),T=y===l?w.isActive:null;T===!1&&(b=x);let C=S===d[y]&&S!==c[y]&&E;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&T===null||!S&&!w.prevProp||Tf(S)||typeof S=="boolean")continue;const j=$z(w.prevProp,S);let N=j||y===l&&w.isActive&&!C&&E||x>b&&E,M=!1;const I=Array.isArray(S)?S:[S];let R=I.reduce(s(y),{});T===!1&&(R={});const{prevResolvedValues:F={}}=w,W={...F,...R},V=Z=>{N=!0,f.has(Z)&&(M=!0,f.delete(Z)),w.needsAnimating[Z]=!0;const $=e.getValue(Z);$&&($.liveStyle=!1)};for(const Z in W){const $=R[Z],U=F[Z];if(m.hasOwnProperty(Z))continue;let J=!1;cv($)&&cv(U)?J=!TA($,U):J=$!==U,J?$!=null?V(Z):f.add(Z):$!==void 0&&f.has(Z)?V(Z):w.protectedKeys[Z]=!0}w.prevProp=S,w.prevResolvedValues=R,w.isActive&&(m={...m,...R}),r&&e.blockInitialAnimation&&(N=!1);const Q=C&&j;N&&(!Q||M)&&h.push(...I.map(Z=>{const $={type:y};if(typeof Z=="string"&&r&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,J=ca(U,Z);if(U.enteringChildren&&J){const{delayChildren:G}=J.transition||{};$.delay=kA(U.enteringChildren,e,G)}}return{animation:Z,options:$}}))}if(f.size){const x={};if(typeof c.initial!="boolean"){const y=ca(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(x.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),x[y]=w??null}),h.push({animation:x})}let p=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=WS()}}}function $z(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!TA(t,e):!1}function Si(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WS(){return{animate:Si(!0),whileInView:Si(),whileHover:Si(),whileTap:Si(),whileDrag:Si(),whileFocus:Si(),exit:Si()}}class yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Fz extends yi{constructor(t){super(t),t.animationState||(t.animationState=Lz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Vz=0;class Uz extends yi{constructor(){super(...arguments),this.id=Vz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Bz={animation:{Feature:Fz},exit:{Feature:Uz}};function Tc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Zc(e){return{point:{x:e.pageX,y:e.pageY}}}const zz=e=>t=>r0(t)&&e(t,Zc(t));function Hl(e,t,n,r){return Tc(e,t,zz(n),r)}const jA=1e-4,qz=1-jA,Wz=1+jA,PA=.01,Hz=0-PA,Gz=0+PA;function Zt(e){return e.max-e.min}function Kz(e,t,n){return Math.abs(e-t)<=n}function HS(e,t,n,r=.5){e.origin=r,e.originPoint=Xe(t.min,t.max,e.origin),e.scale=Zt(n)/Zt(t),e.translate=Xe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qz&&e.scale<=Wz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Hz&&e.translate<=Gz||isNaN(e.translate))&&(e.translate=0)}function Gl(e,t,n,r){HS(e.x,t.x,n.x,r?r.originX:void 0),HS(e.y,t.y,n.y,r?r.originY:void 0)}function GS(e,t,n){e.min=n.min+t.min,e.max=e.min+Zt(t)}function Jz(e,t,n){GS(e.x,t.x,n.x),GS(e.y,t.y,n.y)}function KS(e,t,n){e.min=t.min-n.min,e.max=e.min+Zt(t)}function Sh(e,t,n){KS(e.x,t.x,n.x),KS(e.y,t.y,n.y)}function Pn(e){return[e("x"),e("y")]}const AA=({current:e})=>e?e.ownerDocument.defaultView:null,JS=(e,t)=>Math.abs(e-t);function Yz(e,t){const n=JS(e.x,t.x),r=JS(e.y,t.y);return Math.sqrt(n**2+r**2)}const YS=new Set(["auto","scroll"]);class NA{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Gp(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,p=Yz(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!p)return;const{point:x}=m,{timestamp:y}=Pt;this.history.push({...x,timestamp:y});const{onStart:w,onMove:S}=this.handlers;b||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,b)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Hp(b,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(m,b)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Gp(m.type==="pointercancel"?this.lastMoveEventInfo:Hp(b,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,w),x&&x(m,w)},!r0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Zc(t),c=Hp(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Pt;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,Gp(c,this.history)),this.removeListeners=Yc(Hl(this.contextWindow,"pointermove",this.handlePointerMove),Hl(this.contextWindow,"pointerup",this.handlePointerUp),Hl(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(YS.has(r.overflowX)||YS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),He.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ci(this.updatePoint)}}function Hp(e,t){return t?{point:t(e.point)}:e}function QS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gp({point:e},t){return{point:e,delta:QS(e,OA(t)),offset:QS(e,Qz(t)),velocity:Xz(t,.1)}}function Qz(e){return e[0]}function OA(e){return e[e.length-1]}function Xz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=OA(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>$r(t)));)n--;if(!r)return{x:0,y:0};const i=Mn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Xe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Xe(n,e,r.max):Math.min(e,n)),e}function XS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function eq(e,{top:t,left:n,bottom:r,right:s}){return{x:XS(e.x,n,s),y:XS(e.y,t,r)}}function ZS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function tq(e,t){return{x:ZS(e.x,t.x),y:ZS(e.y,t.y)}}function nq(e,t){let n=.5;const r=Zt(e),s=Zt(t);return s>r?n=Sc(t.min,t.max-r,e.min):r>s&&(n=Sc(e.min,e.max-s,t.min)),Br(0,1,n)}function rq(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const hv=.35;function sq(e=hv){return e===!1?e=0:e===!0&&(e=hv),{x:e_(e,"left","right"),y:e_(e,"top","bottom")}}function e_(e,t,n){return{min:t_(e,t),max:t_(e,n)}}function t_(e,t){return typeof e=="number"?e:e[t]||0}const iq=new WeakMap;class oq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(Zc(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:m,dragPropagation:b,onDragStart:p}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=h5(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Fr.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[y];E&&(w=Zt(E)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&He.postRender(()=>p(h,f)),uv(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:p,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(b&&this.currentDirection===null){this.currentDirection=aq(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),x&&x(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Pn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new NA(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:AA(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&He.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Mu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Zz(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Cl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=eq(r.layoutBox,t):this.constraints=!1,this.elastic=sq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Cl(t))return!1;const r=t.current;La(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=lz(r,s.root,this.visualElement.getTransformPagePoint());let o=tq(s.layout.layoutBox,i);if(n){const a=n(iz(o));this.hasMutatedConstraints=!!a,a&&(o=mA(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Pn(d=>{if(!Mu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return uv(this.visualElement,t),r.start(f0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Pn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Pn(n=>{const{drag:r}=this.getProps();if(!Mu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-Xe(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=nq({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pn(o=>{if(!Mu(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Xe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;iq.set(this.visualElement,this);const t=this.visualElement.current,n=Hl(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&!ZP(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Cl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),He.read(r);const o=Tc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=hv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Mu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function aq(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lq extends yi{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new oq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const n_=e=>(t,n)=>{e&&He.postRender(()=>e(t,n))};class cq extends yi{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new NA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:n_(t),onStart:n_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&He.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Hl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _d={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Kp=!1;class uq extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Kp&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_d.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Kp=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||He.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),n0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Kp=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RA(e){const[t,n]=tA(),r=v.useContext(Dw);return u.jsx(uq,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(fA),isPresent:t,safeToRemove:n})}function dq(e,t,n){const r=Vt(e)?e:$a(e);return r.start(f0("",r,t,n)),r.animation}const hq=(e,t)=>e.depth-t.depth;class fq{constructor(){this.children=[],this.isDirty=!1}add(t){Fw(this.children,t),this.isDirty=!0}remove(t){Vw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hq),this.isDirty=!1,this.children.forEach(t)}}function pq(e,t){const n=Xt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ci(r),e(i-t))};return He.setup(r,!0),()=>ci(r)}const IA=["TopLeft","TopRight","BottomLeft","BottomRight"],mq=IA.length,r_=e=>typeof e=="string"?parseFloat(e):e,s_=e=>typeof e=="number"||te.test(e);function gq(e,t,n,r,s,i){s?(e.opacity=Xe(0,n.opacity??1,vq(r)),e.opacityExit=Xe(t.opacity??1,0,yq(r))):i&&(e.opacity=Xe(t.opacity??1,n.opacity??1,r));for(let o=0;o<mq;o++){const a=`border${IA[o]}Radius`;let l=i_(t,a),c=i_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||s_(l)===s_(c)?(e[a]=Math.max(Xe(r_(l),r_(c),r),0),(Fr.test(c)||Fr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Xe(t.rotate||0,n.rotate||0,r))}function i_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vq=MA(0,.5,wP),yq=MA(.5,.95,Fn);function MA(e,t,n){return r=>r<e?0:r>t?1:n(Sc(e,t,r))}function o_(e,t){e.min=t.min,e.max=t.max}function Xn(e,t){o_(e.x,t.x),o_(e.y,t.y)}function a_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function l_(e,t,n,r,s){return e-=t,e=xh(e,1/n,r),s!==void 0&&(e=xh(e,1/s,r)),e}function wq(e,t=0,n=1,r=.5,s,i=e,o=e){if(Fr.test(t)&&(t=parseFloat(t),t=Xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Xe(i.min,i.max,r);e===i&&(a-=t),e.min=l_(e.min,t,n,a,s),e.max=l_(e.max,t,n,a,s)}function c_(e,t,[n,r,s],i,o){wq(e,t[n],t[r],t[s],t.scale,i,o)}const bq=["x","scaleX","originX"],xq=["y","scaleY","originY"];function u_(e,t,n,r){c_(e.x,t,bq,n?n.x:void 0,r?r.x:void 0),c_(e.y,t,xq,n?n.y:void 0,r?r.y:void 0)}function d_(e){return e.translate===0&&e.scale===1}function DA(e){return d_(e.x)&&d_(e.y)}function h_(e,t){return e.min===t.min&&e.max===t.max}function Sq(e,t){return h_(e.x,t.x)&&h_(e.y,t.y)}function f_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function LA(e,t){return f_(e.x,t.x)&&f_(e.y,t.y)}function p_(e){return Zt(e.x)/Zt(e.y)}function m_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _q{constructor(){this.members=[]}add(t){Fw(this.members,t),t.scheduleRender()}remove(t){if(Vw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Eq(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Jp=["","X","Y","Z"],kq=1e3;let Tq=0;function Yp(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function $A(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=_A(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&$A(r)}function FA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Tq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pq),this.nodes.forEach(Rq),this.nodes.forEach(Iq),this.nodes.forEach(Aq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Bw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=eA(o)&&!v5(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;He.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=pq(f,250),_d.hasAnimatedSinceResize&&(_d.hasAnimatedSinceResize=!1,this.nodes.forEach(y_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||Fq,{onLayoutAnimationStart:p,onLayoutAnimationComplete:x}=c.getProps(),y=!this.targetLayout||!LA(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...e0(b,"layout"),onPlay:p,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,w)}else h||y_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$A(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(g_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(v_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Oq),this.nodes.forEach(Cq),this.nodes.forEach(jq)):this.nodes.forEach(v_),this.clearAllSnapshots();const a=Xt.now();Pt.delta=Br(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Lp.update.process(Pt),Lp.preRender.process(Pt),Lp.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nq),this.sharedNodes.forEach(Dq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!DA(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ni(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Vq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return pt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Uq))){const{scroll:d}=this.root;d&&(Yo(a.x,d.offset.x),Yo(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=pt();if(Xn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Xn(a,o),Yo(a.x,h.offset.x),Yo(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=pt();Xn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ni(d.latestValues)&&Qo(l,d.latestValues)}return Ni(this.latestValues)&&Qo(l,this.latestValues),l}removeTransform(o){const a=pt();Xn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ni(c.latestValues))continue;ov(c.latestValues)&&c.updateSnapshot();const d=pt(),h=c.measurePageBox();Xn(d,h),u_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ni(this.latestValues)&&u_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Pt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),vA(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ov(this.parent.latestValues)||gA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Sh(this.relativeTargetOrigin,a,l),Xn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Xn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;az(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(a_(this.prevProjectionDelta.x,this.projectionDelta.x),a_(this.prevProjectionDelta.y,this.projectionDelta.y)),Gl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!m_(this.projectionDelta.x,this.prevProjectionDelta.x)||!m_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xo(),this.projectionDelta=Xo(),this.projectionDeltaWithTransform=Xo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=pt(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,p=m!==b,x=this.getStack(),y=!x||x.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some($q));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const T=E/1e3;w_(h.x,o.x,T),w_(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lq(this.relativeTarget,this.relativeTargetOrigin,f,T),S&&Sq(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=pt()),Xn(S,this.relativeTarget)),p&&(this.animationValues=d,gq(d,c,this.latestValues,T,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{_d.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$a(0)),this.currentAnimation=dq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&VA(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pt();const h=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Xn(a,l),Qo(a,d),Gl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _q),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Yp("z",o,c,this.animationValues);for(let d=0;d<Jp.length;d++)Yp(`rotate${Jp[d]}`,o,c,this.animationValues),Yp(`skew${Jp[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Sd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Sd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Eq(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in iv){if(d[b]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:y}=iv[b],w=h==="none"?d[b]:p(d[b],c);if(x){const S=x.length;for(let E=0;E<S;E++)o[x[E]]=w}else y?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=c===this?Sd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(g_),this.root.sharedNodes.clear()}}}function Cq(e){e.updateLayout()}function jq(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Pn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Zt(f);f.min=r[h].min,f.max=f.min+m}):VA(i,t.layoutBox,r)&&Pn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=Zt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Xo();Gl(a,r,t.layoutBox);const l=Xo();o?Gl(l,e.applyTransform(s,!0),t.measuredBox):Gl(l,r,t.layoutBox);const c=!DA(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const b=pt();Sh(b,t.layoutBox,f.layoutBox);const p=pt();Sh(p,r,m.layoutBox),LA(b,p)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Pq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Aq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Nq(e){e.clearSnapshot()}function g_(e){e.clearMeasurements()}function v_(e){e.isLayoutDirty=!1}function Oq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function y_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Rq(e){e.resolveTargetDelta()}function Iq(e){e.calcProjection()}function Mq(e){e.resetSkewAndRotation()}function Dq(e){e.removeLeadSnapshot()}function w_(e,t,n){e.translate=Xe(t.translate,0,n),e.scale=Xe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function b_(e,t,n,r){e.min=Xe(t.min,n.min,r),e.max=Xe(t.max,n.max,r)}function Lq(e,t,n,r){b_(e.x,t.x,n.x,r),b_(e.y,t.y,n.y,r)}function $q(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Fq={duration:.45,ease:[.4,0,.1,1]},x_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),S_=x_("applewebkit/")&&!x_("chrome/")?Math.round:Fn;function __(e){e.min=S_(e.min),e.max=S_(e.max)}function Vq(e){__(e.x),__(e.y)}function VA(e,t,n){return e==="position"||e==="preserve-aspect"&&!Kz(p_(t),p_(n),.2)}function Uq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Bq=FA({attachResizeListener:(e,t)=>Tc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qp={current:void 0},UA=FA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qp.current){const e=new Bq({});e.mount(window),e.setOptions({layoutScroll:!0}),Qp.current=e}return Qp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zq={pan:{Feature:cq},drag:{Feature:lq,ProjectionNode:UA,MeasureLayout:RA}};function E_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&He.postRender(()=>i(t,Zc(t)))}class qq extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=f5(t,(n,r)=>(E_(this.node,r,"Start"),s=>E_(this.node,s,"End"))))}unmount(){}}class Wq extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(Tc(this.node.current,"focus",()=>this.onFocus()),Tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&He.postRender(()=>i(t,Zc(t)))}class Hq extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=g5(t,(n,r)=>(k_(this.node,r,"Start"),(s,{success:i})=>k_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fv=new WeakMap,Xp=new WeakMap,Gq=e=>{const t=fv.get(e.target);t&&t(e)},Kq=e=>{e.forEach(Gq)};function Jq({root:e,...t}){const n=e||document;Xp.has(n)||Xp.set(n,{});const r=Xp.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Kq,{root:e,...t})),r[s]}function Yq(e,t,n){const r=Jq(t);return fv.set(e,n),r.observe(e),()=>{fv.delete(e),r.unobserve(e)}}const Qq={some:0,all:1};class Xq extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Qq[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return Yq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Zq(t,n))&&this.startObserver()}unmount(){}}function Zq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const eW={inView:{Feature:Xq},tap:{Feature:Hq},focus:{Feature:Wq},hover:{Feature:qq}},tW={layout:{ProjectionNode:UA,MeasureLayout:RA}},nW={...Bz,...eW,...zq,...tW},be=sz(nW,vz);function eu(){const{theme:e,setTheme:t}=fj();return u.jsxs(pe,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[u.jsx(be.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:u.jsx(z$,{className:"h-5 w-5"})}),u.jsx(be.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:u.jsx(D$,{className:"h-5 w-5"})}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const T_=[{icon:Yi,title:"Interview",description:"AI-powered voice conversations capture detailed insights from your team members"},{icon:hw,title:"Analyze",description:"Advanced AI synthesizes responses to identify patterns and opportunities"},{icon:ZC,title:"Insights",description:"Receive actionable recommendations for process improvements and automation"}];function rW(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(eu,{}),u.jsx(pe,{asChild:!0,children:u.jsx(an,{to:"/admin/login",children:"Admin Login"})})]})]})}),u.jsx("section",{className:"container flex min-h-screen flex-col items-center justify-center pt-16 text-center",children:u.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl",children:[u.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["AI-powered Discovery for"," ",u.jsx("span",{className:"text-accent",children:"consulting engagements"})]}),u.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Transform how you gather insights. Our voice-based AI conducts intelligent interviews with your team, analyzes responses, and delivers actionable recommendations for process improvement."}),u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:[u.jsx(pe,{asChild:!0,size:"lg",className:"gap-2",children:u.jsxs(an,{to:"/admin/login",children:["Get Started",u.jsx(mc,{className:"h-4 w-4"})]})}),u.jsx(pe,{asChild:!0,variant:"outline",size:"lg",children:u.jsx(an,{to:"/interview/demo",children:"Try Demo Interview"})})]})]})}),u.jsx("section",{className:"border-t bg-muted/30 py-24",children:u.jsxs("div",{className:"container",children:[u.jsxs(be.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How It Works"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to transform your discovery process"})]}),u.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:T_.map((e,t)=>u.jsxs(be.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[u.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-accent/10",children:u.jsx(e.icon,{className:"h-8 w-8 text-accent"})}),u.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[u.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs font-bold text-primary-foreground",children:t+1}),u.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e.title})]}),u.jsx("p",{className:"text-muted-foreground",children:e.description}),t<T_.length-1&&u.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:u.jsx(mc,{className:"h-6 w-6 text-muted-foreground/50"})})]},e.title))})]})}),u.jsx("footer",{className:"border-t py-8",children:u.jsx("div",{className:"container text-center text-sm text-muted-foreground",children:u.jsx("p",{children:" 2024 AgentFlow Discovery Tool. Built for consulting excellence."})})})]})}const Ne=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const Jt=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));Jt.displayName="CardHeader";const Yt=v.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Yt.displayName="CardTitle";const Vr=v.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));Vr.displayName="CardDescription";const Me=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));Me.displayName="CardContent";const sW=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));sW.displayName="CardFooter";var iW=v.createContext(void 0);function tu(e){const t=v.useContext(iW);return e||t||"ltr"}function pv(e,[t,n]){return Math.min(n,Math.max(t,e))}function oW(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var p0="ScrollArea",[BA,fY]=qn(p0),[aW,Hn]=BA(p0),zA=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=v.useState(null),[c,d]=v.useState(null),[h,f]=v.useState(null),[m,b]=v.useState(null),[p,x]=v.useState(null),[y,w]=v.useState(0),[S,E]=v.useState(0),[T,C]=v.useState(!1),[j,N]=v.useState(!1),M=Ee(t,R=>l(R)),I=tu(s);return u.jsx(aW,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:w,onCornerHeightChange:E,children:u.jsx(fe.div,{dir:I,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});zA.displayName=p0;var qA="ScrollAreaViewport",WA=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Hn(qA,n),a=v.useRef(null),l=Ee(t,a,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});WA.displayName=qA;var Wr="ScrollAreaScrollbar",m0=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hn(Wr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?u.jsx(lW,{...r,ref:t,forceMount:n}):s.type==="scroll"?u.jsx(cW,{...r,ref:t,forceMount:n}):s.type==="auto"?u.jsx(HA,{...r,ref:t,forceMount:n}):s.type==="always"?u.jsx(g0,{...r,ref:t}):null});m0.displayName=Wr;var lW=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hn(Wr,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(Wn,{present:n||i,children:u.jsx(HA,{"data-state":i?"visible":"hidden",...r,ref:t})})}),cW=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hn(Wr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Pf(()=>l("SCROLL_END"),100),[a,l]=oW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let h=c[d];const f=()=>{const m=c[d];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),u.jsx(Wn,{present:n||a!=="hidden",children:u.jsx(g0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ie(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ie(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),HA=v.forwardRef((e,t)=>{const n=Hn(Wr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=v.useState(!1),a=e.orientation==="horizontal",l=Pf(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return Ua(n.viewport,l),Ua(n.content,l),u.jsx(Wn,{present:r||i,children:u.jsx(g0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),g0=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Hn(Wr,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=QA(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return mW(f,o.current,a,m)}return n==="horizontal"?u.jsx(uW,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=C_(f,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?u.jsx(dW,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=C_(f,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),uW=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Hn(Wr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Ee(t,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(KA,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),ZA(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Eh(o.paddingLeft),paddingEnd:Eh(o.paddingRight)}})}})}),dW=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Hn(Wr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Ee(t,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(KA,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),ZA(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Eh(o.paddingTop),paddingEnd:Eh(o.paddingBottom)}})}})}),[hW,GA]=BA(Wr),KA=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...f}=e,m=Hn(Wr,n),[b,p]=v.useState(null),x=Ee(t,M=>p(M)),y=v.useRef(null),w=v.useRef(""),S=m.viewport,E=r.content-r.viewport,T=gt(d),C=gt(l),j=Pf(h,10);function N(M){if(y.current){const I=M.clientX-y.current.left,R=M.clientY-y.current.top;c({x:I,y:R})}}return v.useEffect(()=>{const M=I=>{const R=I.target;(b==null?void 0:b.contains(R))&&T(I,E)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[S,b,E,T]),v.useEffect(C,[r,C]),Ua(b,j),Ua(m.content,j),u.jsx(hW,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:gt(i),onThumbPointerUp:gt(o),onThumbPositionChange:C,onThumbPointerDown:gt(a),children:u.jsx(fe.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:ie(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),y.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(M))}),onPointerMove:ie(e.onPointerMove,N),onPointerUp:ie(e.onPointerUp,M=>{const I=M.target;I.hasPointerCapture(M.pointerId)&&I.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),_h="ScrollAreaThumb",JA=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=GA(_h,e.__scopeScrollArea);return u.jsx(Wn,{present:n||s.hasThumb,children:u.jsx(fW,{ref:t,...r})})}),fW=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Hn(_h,n),o=GA(_h,n),{onThumbPositionChange:a}=o,l=Ee(t,h=>o.onThumbChange(h)),c=v.useRef(void 0),d=Pf(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!c.current){const m=gW(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,a]),u.jsx(fe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ie(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),b=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:b,y:p})}),onPointerUp:ie(e.onPointerUp,o.onThumbPointerUp)})});JA.displayName=_h;var v0="ScrollAreaCorner",YA=v.forwardRef((e,t)=>{const n=Hn(v0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(pW,{...e,ref:t}):null});YA.displayName=v0;var pW=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Hn(v0,n),[i,o]=v.useState(0),[a,l]=v.useState(0),c=!!(i&&a);return Ua(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ua(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),c?u.jsx(fe.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Eh(e){return e?parseInt(e,10):0}function QA(e,t){const n=e/t;return isNaN(n)?0:n}function jf(e){const t=QA(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function mW(e,t,n,r="ltr"){const s=jf(n),i=s/2,o=t||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return XA([l,c],h)(e)}function C_(e,t,n="ltr"){const r=jf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=pv(e,l);return XA([0,o],[0,a])(c)}function XA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ZA(e,t){return e>0&&e<t}var gW=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Pf(e,t){const n=gt(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ua(e,t){const n=gt(t);yt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var eN=zA,vW=WA,yW=YA;const Af=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(eN,{ref:r,className:ae("relative overflow-hidden",e),...n,children:[u.jsx(vW,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(tN,{}),u.jsx(yW,{})]}));Af.displayName=eN.displayName;const tN=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(m0,{ref:r,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(JA,{className:"relative flex-1 rounded-full bg-border"})}));tN.displayName=m0.displayName;var nN={};function j_(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)!==-1)continue;l[c]=o[c]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(e)}function rN(e){var t=function(n,r){if(Ce(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Ce(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Ce(t)=="symbol"?t:t+""}function P_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rN(r.key),r)}}function jn(e,t,n){return t&&P_(e.prototype,t),n&&P_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nf(e,t){if(t&&(Ce(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function br(e){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(e)}function Cc(e,t){return Cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Cc(e,t)}function Of(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cc(e,t)}function Ar(e,t,n){return(t=rN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A_(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function me(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(l){A_(i,r,s,o,a,"next",l)}function a(l){A_(i,r,s,o,a,"throw",l)}o(void 0)})}}function N_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ut(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a,l,c=[],d=!0,h=!1;try{if(a=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=a.call(s)).done)&&(c.push(i.value),c.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return N_(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?N_(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O_,Du={exports:{}},mv=function(){if(O_)return Du.exports;O_=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,x,y){return Function.prototype.apply.call(p,x,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function s(){s.init.call(this)}Du.exports=s,Du.exports.once=function(p,x){return new Promise(function(y,w){function S(T){p.removeListener(x,E),w(T)}function E(){typeof p.removeListener=="function"&&p.removeListener("error",S),y([].slice.call(arguments))}b(p,x,E,{once:!0}),x!=="error"&&function(T,C,j){typeof T.on=="function"&&b(T,"error",C,j)}(p,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function a(p){return p._maxListeners===void 0?s.defaultMaxListeners:p._maxListeners}function l(p,x,y,w){var S,E,T,C;if(o(y),(E=p._events)===void 0?(E=p._events=Object.create(null),p._eventsCount=0):(E.newListener!==void 0&&(p.emit("newListener",x,y.listener?y.listener:y),E=p._events),T=E[x]),T===void 0)T=E[x]=y,++p._eventsCount;else if(typeof T=="function"?T=E[x]=w?[y,T]:[T,y]:w?T.unshift(y):T.push(y),(S=a(p))>0&&T.length>S&&!T.warned){T.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=p,j.type=x,j.count=T.length,C=j,console&&console.warn&&console.warn(C)}return p}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,x,y){var w={fired:!1,wrapFn:void 0,target:p,type:x,listener:y},S=c.bind(w);return S.listener=y,w.wrapFn=S,S}function h(p,x,y){var w=p._events;if(w===void 0)return[];var S=w[x];return S===void 0?[]:typeof S=="function"?y?[S.listener||S]:[S]:y?function(E){for(var T=new Array(E.length),C=0;C<T.length;++C)T[C]=E[C].listener||E[C];return T}(S):m(S,S.length)}function f(p){var x=this._events;if(x!==void 0){var y=x[p];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(p,x){for(var y=new Array(x),w=0;w<x;++w)y[w]=p[w];return y}function b(p,x,y,w){if(typeof p.on=="function")w.once?p.once(x,y):p.on(x,y);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(x,function S(E){w.once&&p.removeEventListener(x,S),y(E)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(p){for(var x=[],y=1;y<arguments.length;y++)x.push(arguments[y]);var w=p==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var E;if(x.length>0&&(E=x[0]),E instanceof Error)throw E;var T=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw T.context=E,T}var C=S[p];if(C===void 0)return!1;if(typeof C=="function")n(C,this,x);else{var j=C.length,N=m(C,j);for(y=0;y<j;++y)n(N[y],this,x)}return!0},s.prototype.addListener=function(p,x){return l(this,p,x,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(p,x){return l(this,p,x,!0)},s.prototype.once=function(p,x){return o(x),this.on(p,d(this,p,x)),this},s.prototype.prependOnceListener=function(p,x){return o(x),this.prependListener(p,d(this,p,x)),this},s.prototype.removeListener=function(p,x){var y,w,S,E,T;if(o(x),(w=this._events)===void 0)return this;if((y=w[p])===void 0)return this;if(y===x||y.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete w[p],w.removeListener&&this.emit("removeListener",p,y.listener||x));else if(typeof y!="function"){for(S=-1,E=y.length-1;E>=0;E--)if(y[E]===x||y[E].listener===x){T=y[E].listener,S=E;break}if(S<0)return this;S===0?y.shift():function(C,j){for(;j+1<C.length;j++)C[j]=C[j+1];C.pop()}(y,S),y.length===1&&(w[p]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",p,T||x)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(p){var x,y,w;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[p]),this;if(arguments.length===0){var S,E=Object.keys(y);for(w=0;w<E.length;++w)(S=E[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=y[p])=="function")this.removeListener(p,x);else if(x!==void 0)for(w=x.length-1;w>=0;w--)this.removeListener(p,x[w]);return this},s.prototype.listeners=function(p){return h(this,p,!0)},s.prototype.rawListeners=function(p){return h(this,p,!1)},s.listenerCount=function(p,x){return typeof p.listenerCount=="function"?p.listenerCount(x):f.call(p,x)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Du.exports}(),Lu=wW(mv),R_=Object.prototype.hasOwnProperty;function I_(e,t,n){for(n of e.keys())if(Gt(n,t))return n}function Gt(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Gt(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=I_(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=I_(t,s))||!Gt(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(R_.call(e,n)&&++r&&!R_.call(t,n)||!(n in t)||!Gt(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const bW={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},sN={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},it={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},qt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ps={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class q{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=q.getVersionPrecision(t),i=q.getVersionPrecision(n);let o=Math.max(s,i),a=0;const l=q.map([t,n],c=>{const d=o-q.getVersionPrecision(c),h=c+new Array(d+1).join(".0");return q.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return bW[t]}static getBrowserTypeByAlias(t){return sN[t]||""}}const Le=/version\/(\d+(\.?_?\d+)+)/i,xW=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=q.getFirstMatch(Le,e)||q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=q.getFirstMatch(Le,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:q.getFirstMatch(t,e),version:q.getSecondMatch(t,e)}}}];var SW=[{test:[/Roku\/DVP/],describe(e){const t=q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:qt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:qt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=q.getWindowsVersionName(t);return{name:qt.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:qt.iOS},n=q.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=q.getMacOSVersionName(t),r={name:qt.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:qt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=q.getAndroidVersionName(t),r={name:qt.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:qt.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||q.getFirstMatch(/\bbb(\d+)/i,e);return{name:qt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:qt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:qt.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:qt.Linux})},{test:[/CrOS/],describe:()=>({name:qt.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:qt.PlayStation4,version:t}}}],_W=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=q.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:it.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:it.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:it.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:it.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:it.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:it.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:it.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=q.getFirstMatch(/(ipod|iphone)/i,e);return{type:it.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:it.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:it.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:it.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:it.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:it.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:it.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:it.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:it.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:it.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:it.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:it.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:it.tv})}],EW=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Ps.Blink};const t=q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Ps.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Ps.Trident},n=q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Ps.Presto},n=q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Ps.Gecko},n=q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Ps.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Ps.WebKit},n=q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class M_{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=q.find(xW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=q.find(SW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=q.find(_W,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=q.find(EW,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return q.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(s[o]=a,i+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=q.find(o,c=>this.isOS(c));if(a){const c=this.satisfies(n[a]);if(c!==void 0)return c}const l=q.find(o,c=>this.isPlatform(c));if(l){const c=this.satisfies(n[l]);if(c!==void 0)return c}}if(i>0){const o=Object.keys(s),a=q.find(o,l=>this.isBrowser(l,!0));if(a!==void 0)return this.compareVersion(s[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=q.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(q.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class kW{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new M_(t,n)}static parse(t){return new M_(t).getResult()}static get BROWSER_MAP(){return sN}static get ENGINE_MAP(){return Ps}static get OS_MAP(){return qt}static get PLATFORMS_MAP(){return it}}function Rf(){return Date.now()+Math.random().toString()}function bl(){throw new Error("Method must be implemented in subclass")}function iN(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function kh(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:iN("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Th(e){try{new URL(e)}catch{return!1}return!0}const Ve=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Xi="8.55.0",Ae=globalThis;function Ch(e,t,n){const r=Ae,s=r.__SENTRY__=r.__SENTRY__||{},i=s[Xi]=s[Xi]||{};return i[e]||(i[e]=t())}const yo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gv=["debug","info","warn","error","log","assert","trace"],jh={};function nu(e){if(!("console"in Ae))return e();const t=Ae.console,n={},r=Object.keys(jh);r.forEach(s=>{const i=jh[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const ge=Ch("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return yo?gv.forEach(n=>{t[n]=(...r)=>{e&&nu(()=>{Ae.console[n](`Sentry Logger [${n}]:`,...r)})}}):gv.forEach(n=>{t[n]=()=>{}}),t}),Vi="?",D_=/\(error: (.*)\)/,L_=/captureMessage|captureException/;function $u(e){return e[e.length-1]||{}}const $_="<anonymous>";function di(e){try{return e&&typeof e=="function"&&e.name||$_}catch{return $_}}function F_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Ed={},V_={};function Zi(e,t){Ed[e]=Ed[e]||[],Ed[e].push(t)}function eo(e,t){if(!V_[e]){V_[e]=!0;try{t()}catch(n){yo&&ge.error(`Error while instrumenting ${e}`,n)}}}function gr(e,t){const n=e&&Ed[e];if(n)for(const r of n)try{r(t)}catch(s){yo&&ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${di(r)}
Error:`,s)}}let Zp=null;function TW(){Zp=Ae.onerror,Ae.onerror=function(e,t,n,r,s){return gr("error",{column:r,error:s,line:n,msg:e,url:t}),!!Zp&&Zp.apply(this,arguments)},Ae.onerror.__SENTRY_INSTRUMENTED__=!0}let em=null;function CW(){em=Ae.onunhandledrejection,Ae.onunhandledrejection=function(e){return gr("unhandledrejection",e),!em||em.apply(this,arguments)},Ae.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function If(){return y0(Ae),Ae}function y0(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Xi,t[Xi]=t[Xi]||{}}const oN=Object.prototype.toString;function w0(e){switch(oN.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ao(e,Error)}}function il(e,t){return oN.call(e)===`[object ${t}]`}function aN(e){return il(e,"ErrorEvent")}function U_(e){return il(e,"DOMError")}function rs(e){return il(e,"String")}function b0(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function vv(e){return e===null||b0(e)||typeof e!="object"&&typeof e!="function"}function Ba(e){return il(e,"Object")}function Mf(e){return typeof Event<"u"&&ao(e,Event)}function Df(e){return!!(e&&e.then&&typeof e.then=="function")}function ao(e,t){try{return e instanceof t}catch{return!1}}function lN(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const x0=Ae;function cN(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=jW(n,d),!(c==="html"||i>1&&o+s.length*l+c.length>=h));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function jW(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(x0.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&rs(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function ua(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function B_(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{lN(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function PW(e,t,n=!1){return!!rs(e)&&(il(t,"RegExp")?t.test(e):!!rs(t)&&(n?e===t:e.includes(t)))}function Fu(e,t=[],n=!1){return t.some(r=>PW(e,r,n))}function xn(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&uN(s,r);try{e[t]=s}catch{yo&&ge.log(`Failed to replace method "${t}" in object`,e)}}function lo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{yo&&ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function uN(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,lo(e,"__sentry_original__",t)}catch{}}function S0(e){return e.__sentry_original__}function dN(e){if(w0(e))return{message:e.message,name:e.name,stack:e.stack,...q_(e)};if(Mf(e)){const t={type:e.type,target:z_(e.target),currentTarget:z_(e.currentTarget),...q_(e)};return typeof CustomEvent<"u"&&ao(e,CustomEvent)&&(t.detail=e.detail),t}return e}function z_(e){try{return t=e,typeof Element<"u"&&ao(t,Element)?cN(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function q_(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Dn(e){return yv(e,new Map)}function yv(e,t){if(function(n){if(!Ba(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=yv(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(yv(s,t))}),r}return e}function ru(){return Date.now()/1e3}const as=function(){const{performance:e}=Ae;if(!e||!e.now)return ru;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function Vn(){const e=Ae,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function hN(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Is(e){const{message:t,event_id:n}=e;if(t)return t;const r=hN(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function wv(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function za(e,t){const n=hN(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function W_(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{lo(e,"__sentry_captured__",!0)}catch{}return!1}var Yr;function co(e){return new Rn(t=>{t(e)})}function Ph(e){return new Rn((t,n)=>{n(e)})}(()=>{const{performance:e}=Ae;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(i||a<t)&&s<=a&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Yr||(Yr={}));class Rn{constructor(t){Rn.prototype.__init.call(this),Rn.prototype.__init2.call(this),Rn.prototype.__init3.call(this),Rn.prototype.__init4.call(this),this._state=Yr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Rn((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Rn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(Yr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Yr.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===Yr.PENDING&&(Df(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Yr.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Yr.RESOLVED&&n[1](this._value),this._state===Yr.REJECTED&&n[2](this._value),n[0]=!0)})}}}function AW(e){const t=as(),n={sid:Vn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Dn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&qa(n,e),n}function qa(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||as(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Vn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function H_(){return Vn()}function bv(){return Vn().substring(16)}function Lf(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Lf(r[s],t[s],n-1));return r}const xv="_sentrySpan";function G_(e,t){t?lo(e,xv,t):delete e[xv]}function K_(e){return e[xv]}class _0{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:H_(),spanId:bv()}}clone(){const t=new _0;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,G_(t,K_(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&qa(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof hi?[n.getScopeData(),n.getRequestSession()]:Ba(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:l,level:c,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,G_(this,void 0),this._attachments=[],this.setPropagationContext({traceId:H_()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:ru(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:K_(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Lf(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:bv(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Vn();if(!this._client)return ge.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Vn();if(!this._client)return ge.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Vn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ge.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const hi=_0;class NW{constructor(t,n){let r,s;r=t||new hi,s=n||new hi,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Df(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Wa(){const e=y0(If());return e.stack=e.stack||new NW(Ch("defaultCurrentScope",()=>new hi),Ch("defaultIsolationScope",()=>new hi))}function OW(e){return Wa().withScope(e)}function RW(e,t){const n=Wa();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function J_(e){return Wa().withScope(()=>e(Wa().getIsolationScope()))}function E0(e){const t=y0(e);return t.acs?t.acs:{withIsolationScope:J_,withScope:OW,withSetScope:RW,withSetIsolationScope:(n,r)=>J_(r),getCurrentScope:()=>Wa().getScope(),getIsolationScope:()=>Wa().getIsolationScope()}}function wo(){return E0(If()).getCurrentScope()}function su(){return E0(If()).getIsolationScope()}function $t(){return wo().getClient()}function IW(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Dn({trace_id:n,span_id:r,parent_span_id:s})}function MW(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Dn(s));return n}const DW=/^sentry-/;function LW(e){const t=function(r){if(!(!r||!rs(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=Y_(i);return Object.entries(o).forEach(([a,l])=>{s[a]=l}),s},{}):Y_(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(DW)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function Y_(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let Q_=!1;function $W(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return Dn({parent_span_id:r?t:k0(e).parent_span_id,span_id:r?bv():t,trace_id:n})}function X_(e){return typeof e=="number"?Z_(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Z_(e.getTime()):as()}function Z_(e){return e>9999999999?e/1e3:e}function k0(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l}=e;return Dn({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:X_(s),timestamp:X_(o)||void 0,status:FW(l),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:MW(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function FW(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function fN(e){return e._sentryRootSpan||e}function VW(){Q_||(nu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Q_=!0)}const T0="production";function pN(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Dn({environment:n.environment||T0,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function UW(e){const t=$t();if(!t)return{};const n=fN(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&LW(i);if(o)return o;const a=pN(e.spanContext().traceId,t),l=k0(n),c=l.data||{},d=c["sentry.sample_rate"];d!=null&&(a.sample_rate=`${d}`);const h=c["sentry.source"],f=l.description;return h!=="url"&&f&&(a.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const b=$t(),p=b&&b.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(a.sampled=String(function(m){const{traceFlags:b}=m.spanContext();return b===1}(n))),t.emit("createDsc",a,n),a}const BW=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ah(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function eE(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function zW(e){const t=typeof e=="string"?function(n){const r=BW.exec(n);if(!r)return void nu(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",a="",l="",c=""]=r.slice(1);let d="",h=c;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return eE({host:a,pass:o,path:d,projectId:h,port:l,protocol:s,publicKey:i})}(e):eE(e);if(t&&function(n){if(!yo)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ge.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ge.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ge.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ge.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function Qr(e,t=100,n=1/0){try{return Sv("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function mN(e,t=3,n=102400){const r=Qr(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?mN(e,t-1,n):r;var s}function Sv(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(a){if(i)return!!o.has(a)||(o.add(a),!1);for(let l=0;l<o.length;l++)if(o[l]===a)return!0;return o.push(a),!1},function(a){if(i)o.delete(a);else for(let l=0;l<o.length;l++)if(o[l]===a){o.splice(l,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(m,b){try{if(m==="domain"&&b&&typeof b=="object"&&b._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&b===global)return"[Global]";if(typeof window<"u"&&b===window)return"[Window]";if(typeof document<"u"&&b===document)return"[Document]";if(lN(b))return"[VueViewModel]";if(Ba(p=b)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof b=="number"&&!Number.isFinite(b))return`[${b}]`;if(typeof b=="function")return`[Function: ${di(b)}]`;if(typeof b=="symbol")return`[${String(b)}]`;if(typeof b=="bigint")return`[BigInt: ${String(b)}]`;const x=function(y){const w=Object.getPrototypeOf(y);return w?w.constructor.name:"null prototype"}(b);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var p}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{return Sv("",c.toJSON(),l-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=dN(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const b=f[m];d[m]=Sv(m,b,l-1,r,s),h++}return o(t),d}function jc(e,t=[]){return[e,t]}function qW(e,t){const[n,r]=e;return[n,[...r,t]]}function tE(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function _v(e){return Ae.__SENTRY__&&Ae.__SENTRY__.encodePolyfill?Ae.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function WW(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[_v(r),i]:r.push(typeof i=="string"?_v(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(Qr(a))}s(l)}}return typeof r=="string"?r:function(i){const o=i.reduce((c,d)=>c+d.length,0),a=new Uint8Array(o);let l=0;for(const c of i)a.set(c,l),l+=c.length;return a}(r)}function HW(e){const t=typeof e.data=="string"?_v(e.data):e.data;return[Dn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const GW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function nE(e){return GW[e]}function gN(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function KW(e,t,n,r){const s=gN(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,l){l&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||l.name,a.sdk.version=a.sdk.version||l.version,a.sdk.integrations=[...a.sdk.integrations||[],...l.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...l.packages||[]])})(e,n&&n.sdk);const o=function(a,l,c,d){const h=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!c&&d&&{dsn:Ah(d)},...h&&{trace:Dn({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,jc(o,[[{type:i},e]])}function Ev(e,t,n,r=0){return new Rn((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);Ve&&o.id&&a===null&&ge.log(`Event processor "${o.id}" dropped event`),Df(a)?a.then(l=>Ev(e,l,n,r+1).then(s)).then(null,i):Ev(e,a,n,r+1).then(s).then(null,i)}})}let Vu,rE,tm;function JW(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,a){const{extra:l,tags:c,user:d,contexts:h,level:f,transactionName:m}=a,b=Dn(l);b&&Object.keys(b).length&&(o.extra={...b,...o.extra});const p=Dn(c);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const x=Dn(d);x&&Object.keys(x).length&&(o.user={...x,...o.user});const y=Dn(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,a){o.contexts={trace:$W(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:UW(a),...o.sdkProcessingMetadata};const l=fN(a),c=k0(l).description;c&&!o.transaction&&o.type==="transaction"&&(o.transaction=c)}(e,r),function(o,a){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const l=[...o.breadcrumbs||[],...a];o.breadcrumbs=l.length?l:void 0}(e,s),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,i)}function sE(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:b}=t;Uu(e,"extra",n),Uu(e,"tags",r),Uu(e,"user",s),Uu(e,"contexts",i),e.sdkProcessingMetadata=Lf(e.sdkProcessingMetadata,a,2),o&&(e.level=o),m&&(e.transactionName=m),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function Uu(e,t,n){e[t]=Lf(e[t],n,1)}function YW(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Vn(),timestamp:t.timestamp||ru()},c=n.integrations||e.integrations.map(b=>b.name);(function(b,p){const{environment:x,release:y,dist:w,maxValueLength:S=250}=p;b.environment=b.environment||x||T0,!b.release&&y&&(b.release=y),!b.dist&&w&&(b.dist=w),b.message&&(b.message=ua(b.message,S));const E=b.exception&&b.exception.values&&b.exception.values[0];E&&E.value&&(E.value=ua(E.value,S));const T=b.request;T&&T.url&&(T.url=ua(T.url,S))})(l,e),function(b,p){p.length>0&&(b.sdk=b.sdk||{},b.sdk.integrations=[...b.sdk.integrations||[],...p])}(l,c),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(b,p){const x=function(y){const w=Ae._sentryDebugIds;if(!w)return{};const S=Object.keys(w);return tm&&S.length===rE||(rE=S.length,tm=S.reduce((E,T)=>{Vu||(Vu={});const C=Vu[T];if(C)E[C[0]]=C[1];else{const j=y(T);for(let N=j.length-1;N>=0;N--){const M=j[N],I=M&&M.filename,R=w[T];if(I&&R){E[I]=R,Vu[T]=[I,R];break}}}return E},{})),tm}(p);try{b.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{x&&w.filename&&(w.debug_id=x[w.filename])})})}catch{}}(l,e.stackParser);const d=function(b,p){if(!p)return b;const x=b?b.clone():new hi;return x.update(p),x}(r,n.captureContext);n.mechanism&&za(l,n.mechanism);const h=s?s.getEventProcessors():[],f=Ch("globalScope",()=>new hi).getScopeData();i&&sE(f,i.getScopeData()),d&&sE(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),JW(l,f),Ev([...h,...f.eventProcessors],l,n).then(b=>(b&&function(p){const x={};try{p.exception.values.forEach(w=>{w.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?x[S.abs_path]=S.debug_id:S.filename&&(x[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(x).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const y=p.debug_meta.images;Object.entries(x).forEach(([w,S])=>{y.push({type:"sourcemap",code_file:w,debug_id:S})})}(b),typeof o=="number"&&o>0?function(p,x,y){if(!p)return null;const w={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(S=>({...S,...S.data&&{data:Qr(S.data,x,y)}}))},...p.user&&{user:Qr(p.user,x,y)},...p.contexts&&{contexts:Qr(p.contexts,x,y)},...p.extra&&{extra:Qr(p.extra,x,y)}};return p.contexts&&p.contexts.trace&&w.contexts&&(w.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(w.contexts.trace.data=Qr(p.contexts.trace.data,x,y))),p.spans&&(w.spans=p.spans.map(S=>({...S,...S.data&&{data:Qr(S.data,x,y)}}))),p.contexts&&p.contexts.flags&&w.contexts&&(w.contexts.flags=Qr(p.contexts.flags,3,y)),w}(b,o,a):b))}function iE(e,t){return wo().captureEvent(e,t)}function oE(e){const t=$t(),n=su(),r=wo(),{release:s,environment:i=T0}=t&&t.getOptions()||{},{userAgent:o}=Ae.navigator||{},a=AW({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&qa(l,{status:"exited"}),vN(),n.setSession(a),r.setSession(a),a}function vN(){const e=su(),t=wo(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),qa(r,i)}(n),yN(),e.setSession(),t.setSession()}function yN(){const e=su(),t=wo(),n=$t(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function aE(e=!1){e?vN():yN()}function QW(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const lE=[];function cE(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function uE(e,t,n){if(n[t.name])Ve&&ge.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,lE.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),lE.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}Ve&&ge.log(`Integration installed: ${t.name}`)}}class nr extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const dE="Not capturing exception because it's already been captured.";class XW{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=zW(t.dsn):Ve&&ge.warn("No DSN provided, client will not send events."),this._dsn){const r=QW(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&nu(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Vn();if(W_(t))return Ve&&ge.log(dE),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:Vn(),...r},o=b0(t)?t:String(t),a=vv(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(t,n,r){const s=Vn();if(n&&n.originalException&&W_(n.originalException))return Ve&&ge.log(dE),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?Ve&&ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),qa(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):co(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];uE(this,t,this._integrations),n||cE(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=KW(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=qW(r,HW(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const a=gN(i);return jc({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&s&&{dsn:Ah(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;Ve&&ge.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Ve&&ge.error("Error while sending envelope:",n),n)):(Ve&&ge.error("Transport disabled"),co({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&uE(n,i,s)}),s}(this,t),cE(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const a of i){const l=a.mechanism;if(l&&l.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(qa(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Rn(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=wo(),s=su()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),YW(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:IW(r),...a.contexts};const l=function(c,d){const h=d.getPropagationContext();return h.dsc||pN(h.traceId,c)}(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{Ve&&(s instanceof nr&&s.logLevel==="log"?ge.log(s.message):ge.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=fE(t),a=hE(t),l=t.type||"error",c=`before send for type \`${l}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const b=typeof m=="string"?parseFloat(m):m;if(!(typeof b!="number"||isNaN(b)||b<0||b>1))return b;Ve&&ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Ph(new nr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=l==="replay_event"?"replay":l,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new nr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const b=function(p,x,y,w){const{beforeSend:S,beforeSendTransaction:E,beforeSendSpan:T}=x;if(hE(y)&&S)return S(y,w);if(fE(y)){if(y.spans&&T){const C=[];for(const j of y.spans){const N=T(j);N?C.push(N):(VW(),p.recordDroppedEvent("before_send","span"))}y.spans=C}if(E){if(y.spans){const C=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:C}}return E(y,w)}}return y}(this,s,m,n);return function(p,x){const y=`${x} must return \`null\` or a valid event.`;if(Df(p))return p.then(w=>{if(!Ba(w)&&w!==null)throw new nr(y);return w},w=>{throw new nr(`${x} rejected with ${w}`)});if(!Ba(p)&&p!==null)throw new nr(y);return p}(b,c)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new nr(`${c} returned \`null\`, will not send event.`,"log")}const b=r&&r.getSession();if(!o&&b&&this._updateSessionFromEvent(b,m),o){const x=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const x="custom";m.transaction_info={...p,source:x}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof nr?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new nr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){Ve&&ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Ve&&ge.log("No outcomes to send"));if(!this._dsn)return void(Ve&&ge.log("No dsn provided, will not send outcomes"));Ve&&ge.log("Sending outcomes:",t);const n=(r=t,jc((s=this._options.tunnel&&Ah(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||ru(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function hE(e){return e.type===void 0}function fE(e){return e.type==="transaction"}function ZW(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return Ph(new nr("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new Rn((s,i)=>{let o=t.length;if(!o)return s(!0);const a=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(l=>{co(l).then(()=>{--o||(clearTimeout(a),s(!0))},i)})})}}}function e8(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,c,,,d]=a.split(":",5),h=parseInt(l,10),f=1e3*(isNaN(h)?60:h);if(c)for(const m of c.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[m]=r+f);else s.all=r+f}else o?s.all=r+function(a,l=Date.now()){const c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;const d=Date.parse(`${a}`);return isNaN(d)?6e4:d-l}(o,r):t===429&&(s.all=r+6e4);return s}function t8(e,t,n=ZW(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(tE(s,(l,c)=>{const d=nE(c);if(function(h,f,m=Date.now()){return function(b,p){return b[p]||b.all||0}(h,f)>m}(r,d)){const h=pE(l,c);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(l)}),i.length===0)return co({});const o=jc(s[0],i),a=l=>{tE(o,(c,d)=>{const h=pE(c,d);e.recordDroppedEvent(l,nE(d),h)})};return n.add(()=>t({body:WW(o)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&Ve&&ge.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=e8(r,l),l),l=>{throw a("network_error"),l})).then(l=>l,l=>{if(l instanceof nr)return Ve&&ge.error("Skipped sending event because buffer is full."),a("queue_overflow"),co({});throw l})},flush:s=>n.drain(s)}}function pE(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const n8=100;function _i(e,t){const n=$t(),r=su();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=n8}=n.getOptions();if(i<=0)return;const o={timestamp:ru(),...e},a=s?nu(()=>s(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let mE;const gE=new WeakMap,r8=()=>({name:"FunctionToString",setupOnce(){mE=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=S0(this),n=gE.has($t())&&t!==void 0?t:this;return mE.apply(n,e)}}catch{}},setup(e){gE.set(e,!0)}}),s8=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],i8=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:s8],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,a){return a.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Ve&&ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${Is(o)}`),!0):function(l,c){return l.type||!c||!c.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(l).some(d=>Fu(d,c))}(o,a.ignoreErrors)?(Ve&&ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Is(o)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(c=>c.stacktrace||c.type&&c.type!=="Error"||c.value)}(o)?(Ve&&ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Is(o)}`),!0):function(l,c){if(l.type!=="transaction"||!c||!c.length)return!1;const d=l.transaction;return!!d&&Fu(d,c)}(o,a.ignoreTransactions)?(Ve&&ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Is(o)}`),!0):function(l,c){if(!c||!c.length)return!1;const d=Bu(l);return!!d&&Fu(d,c)}(o,a.denyUrls)?(Ve&&ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Is(o)}.
Url: ${Bu(o)}`),!0):function(l,c){if(!c||!c.length)return!0;const d=Bu(l);return!d||Fu(d,c)}(o,a.allowUrls)?!1:(Ve&&ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Is(o)}.
Url: ${Bu(o)}`),!0)}(t,i)?null:t}});function Bu(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return Ve&&ge.error(`Cannot extract url for event ${Is(e)}`),null}}function o8(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&ao(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=kv(e,t,s,o.originalException,r,i.exception.values,a,0),c=n,l.map(d=>(d.value&&(d.value=ua(d.value,c)),d))))}function kv(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(ao(r[s],Error)){vE(o,a);const c=e(t,r[s]),d=l.length;yE(c,s,d,a),l=kv(e,t,n,r[s],s,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(ao(c,Error)){vE(o,a);const h=e(t,c),f=l.length;yE(h,`errors[${d}]`,f,a),l=kv(e,t,n,c,s,[h,...l],h,f)}}),l}function vE(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function yE(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function nm(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function a8(){"console"in Ae&&gv.forEach(function(e){e in Ae.console&&xn(Ae.console,e,function(t){return jh[e]=t,function(...n){gr("console",{args:n,level:e});const r=jh[e];r&&r.apply(Ae.console,n)}})})}function l8(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const c8=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,a=i.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!bE(s,i)||!wE(s,i))}(n,r)||function(s,i){const o=xE(i),a=xE(s);return!(!o||!a||o.type!==a.type||o.value!==a.value||!bE(s,i)||!wE(s,i))}(n,r)):!1}(t,e))return Ve&&ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function wE(e,t){let n=F_(e),r=F_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function bE(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function xE(e){return e.exception&&e.exception.values&&e.exception.values[0]}function SE(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const rm=Ae;function Tv(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function u8(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in rm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Tv(rm.fetch))return!0;let e=!1;const t=rm.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Tv(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){yo&&ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function d8(e,t){const n="fetch";Zi(n,e),eo(n,()=>function(r,s=!1){s&&!u8()||xn(Ae,"fetch",function(i){return function(...o){const a=new Error,{method:l,url:c}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,b]=h;return{url:_E(m),method:Cv(b,"method")?String(b.method).toUpperCase():"GET"}}const f=h[0];return{url:_E(f),method:Cv(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:l,url:c},startTimestamp:1e3*as(),virtualError:a};return r||gr("fetch",{...d}),i.apply(Ae,o).then(async h=>(r?r(h):gr("fetch",{...d,endTimestamp:1e3*as(),response:h}),h),h=>{throw gr("fetch",{...d,endTimestamp:1e3*as(),error:h}),w0(h)&&h.stack===void 0&&(h.stack=a.stack,lo(h,"framesToPop",1)),h})}})}(void 0,t))}function Cv(e,t){return!!e&&typeof e=="object"&&!!e[t]}function _E(e){return typeof e=="string"?e:e?Cv(e,"url")?e.url:e.toString?e.toString():"":""}const zu=Ae,St=Ae;let jv=0;function EE(){return jv>0}function Ha(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(S0(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>Ha(i,t));return e.apply(this,s)}catch(s){throw jv++,setTimeout(()=>{jv--}),function(...i){const o=E0(If());if(i.length===2){const[a,l]=i;return a?o.withSetScope(a,l):o.withScope(l)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(a=>(t.mechanism&&(wv(a,void 0),za(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),o=s,wo().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}uN(n,e),lo(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const $f=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function C0(e,t){const n=j0(e,t),r={type:p8(t),value:m8(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function h8(e,t,n,r){const s=$t(),i=s&&s.getOptions().normalizeDepth,o=function(c){for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d)){const h=c[d];if(h instanceof Error)return h}}(t),a={__serialized__:mN(t,i)};if(o)return{exception:{values:[C0(e,o)]},extra:a};const l={exception:{values:[{type:Mf(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:g8(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=j0(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function sm(e,t){return{exception:{values:[C0(e,t)]}}}function j0(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&f8.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const f8=/Minified React error #\d+;/i;function wN(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function p8(e){const t=e&&e.name;return!t&&wN(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function m8(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:wN(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Pv(e,t,n,r,s){let i;if(aN(t)&&t.error)return sm(e,t.error);if(U_(t)||il(t,"DOMException")){const o=t;if("stack"in t)i=sm(e,t);else{const a=o.name||(U_(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=Av(e,l,n,r),wv(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return w0(t)?sm(e,t):Ba(t)||Mf(t)?(i=h8(e,t,n,s),za(i,{synthetic:!0}),i):(i=Av(e,t,n,r),wv(i,`${t}`),za(i,{synthetic:!0}),i)}function Av(e,t,n,r){const s={};if(r&&n){const i=j0(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),za(s,{synthetic:!0})}if(b0(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function g8(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(dN(s));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=i)return ua(a,i);for(let l=o.length;l>0;l--){const c=o.slice(0,l).join(", ");if(!(c.length>i))return l===o.length?c:ua(c,i)}return""}(e),r=t?"promise rejection":"exception";return aN(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Mf(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class v8 extends XW{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${s}`,packages:i.map(l=>({name:`${o}:@sentry/${l}`,version:Xi})),version:Xi}),r._metadata=a})(n,"browser",["browser"],St.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&St.document&&St.document.addEventListener("visibilitychange",()=>{St.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const a=Pv(r,s,i&&i.syntheticException||void 0,o);return za(a),a.level="error",i&&i.event_id&&(a.event_id=i.event_id),co(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",a,l){const c=Av(s,i,a&&a.syntheticException||void 0,l);return c.level=o,a&&a.event_id&&(c.event_id=a.event_id),co(c)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void($f&&ge.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:Ah(o)}};return jc(a,[function(c){return[{type:"user_report"},c]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const y8=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Qt=Ae;let kE,im,om,qu;function w8(){if(!Qt.document)return;const e=gr.bind(null,"dom"),t=TE(e,!0);Qt.document.addEventListener("click",t,!1),Qt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Qt[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(xn(s,"addEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=c[o]=c[o]||{refCount:0};if(!d.handler){const h=TE(e);d.handler=h,i.call(this,o,h,l)}d.refCount++}catch{}return i.call(this,o,a,l)}}),xn(s,"removeEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},d=c[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,l),d.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,l)}}))})}function TE(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;lo(n,"_sentryCaptured",!0),r&&!r._sentryId&&lo(r,"_sentryId",Vn());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==im)return!1;try{if(!i.target||i.target._sentryId!==om)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),im=n.type,om=r?r._sentryId:void 0),clearTimeout(kE),kE=Qt.setTimeout(()=>{om=void 0,im=void 0},1e3)}}function bN(e){const t="history";Zi(t,e),eo(t,b8)}function b8(){if(!function(){const n=zu.chrome,r=n&&n.app&&n.app.runtime,s="history"in zu&&!!zu.history.pushState&&!!zu.history.replaceState;return!r&&s}())return;const e=Qt.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=qu,o=String(s);qu=o,gr("history",{from:i,to:o})}return n.apply(this,r)}}Qt.onpopstate=function(...n){const r=Qt.location.href,s=qu;if(qu=r,gr("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},xn(Qt.history,"pushState",t),xn(Qt.history,"replaceState",t)}const kd={};function CE(e){kd[e]=void 0}const jl="__sentry_xhr_v3__";function x8(){if(!Qt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*as(),o=rs(r[0])?r[0].toUpperCase():void 0,a=function(c){if(rs(c))return c;try{return c.toString()}catch{}}(r[1]);if(!o||!a)return t.apply(n,r);n[jl]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[jl];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}gr("xhr",{endTimestamp:1e3*as(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(c,d,h)=>(l(),c.apply(d,h))}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,d,h){const[f,m]=h,b=d[jl];return b&&rs(f)&&rs(m)&&(b.request_headers[f.toLowerCase()]=m),c.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[jl];return s?(r[0]!==void 0&&(s.body=r[0]),gr("xhr",{startTimestamp:1e3*as(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function S8(e,t=function(n){const r=kd[n];if(r)return r;let s=Qt[n];if(Tv(s))return kd[n]=s.bind(Qt);const i=Qt.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(s=a[n]),i.head.removeChild(o)}catch(o){y8&&ge.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(kd[n]=s.bind(Qt))}("fetch")){let n=0,r=0;return t8(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return CE("fetch"),Ph("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return CE("fetch"),n-=i,r--,Ph(a)}})}function am(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Vi:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const _8=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,E8=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,k8=/\((\S*)(?::(\d+))(?::(\d+))\)/,T8=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,C8=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,j8=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=D_.test(l)?l.replace(D_,"$1"):l;if(!c.match(/\S*Error: /)){for(const d of t){const h=d(c);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(a){if(!a.length)return[];const l=Array.from(a);return/sentryWrapped/.test($u(l).function||"")&&l.pop(),l.reverse(),L_.test($u(l).function||"")&&(l.pop(),L_.test($u(l).function||"")&&l.pop()),l.slice(0,50).map(c=>({...c,filename:c.filename||$u(l).filename,function:c.function||Vi}))}(i.slice(s))}}([30,e=>{const t=_8.exec(e);if(t){const[,r,s,i]=t;return am(r,Vi,+s,+i)}const n=E8.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=k8.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=jE(n[1]||Vi,n[2]);return am(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=T8.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=C8.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||Vi;return[r,n]=jE(r,n),am(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),jE=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Vi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},PE=1024,P8=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";Zi(i,s),eo(i,a8)}(function(s){return function(i){if($t()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:l8(i.level),message:B_(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${B_(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}_i(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if($t()!==s)return;let a,l,c=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>PE&&($f&&ge.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=PE),typeof c=="string"&&(c=[c]);try{const f=o.event,m=function(b){return!!b&&!!b.target}(f)?f.target:f;a=cN(m,{keyAttrs:c,maxStringLength:d}),l=function(b){if(!x0.HTMLElement)return null;let p=b;for(let x=0;x<5;x++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{a="<unknown>"}if(a.length===0)return;const h={category:`ui.${o.name}`,message:a};l&&(h.data={"ui.component_name":l}),_i(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),Zi("dom",r),eo("dom",w8)),t.xhr&&function(s){Zi("xhr",s),eo("xhr",x8)}(function(s){return function(i){if($t()!==s)return;const{startTimestamp:o,endTimestamp:a}=i,l=i.xhr[jl];if(!o||!a||!l)return;const{method:c,url:d,status_code:h,body:f}=l,m={method:c,url:d,status_code:h},b={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:a};_i({category:"xhr",data:m,type:"http",level:SE(h)},b)}}(n)),t.fetch&&d8(function(s){return function(i){if($t()!==s)return;const{startTimestamp:o,endTimestamp:a}=i;if(a&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)_i({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:a});else{const l=i.response,c={...i.fetchData,status_code:l&&l.status},d={input:i.args,response:l,startTimestamp:o,endTimestamp:a};_i({category:"fetch",data:c,type:"http",level:SE(c.status_code)},d)}}}(n)),t.history&&bN(function(s){return function(i){if($t()!==s)return;let o=i.from,a=i.to;const l=nm(St.location.href);let c=o?nm(o):void 0;const d=nm(a);c&&c.path||(c=l),l.protocol===d.protocol&&l.host===d.host&&(a=d.relative),l.protocol===c.protocol&&l.host===c.host&&(o=c.relative),_i({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){$t()===s&&_i({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Is(i)},{event:i})}}(n))}}},A8=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],N8=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&xn(St,"setTimeout",AE),t.setInterval&&xn(St,"setInterval",AE),t.requestAnimationFrame&&xn(St,"requestAnimationFrame",O8),t.XMLHttpRequest&&"XMLHttpRequest"in St&&xn(XMLHttpRequest.prototype,"send",R8);const n=t.eventTarget;n&&(Array.isArray(n)?n:A8).forEach(I8)}}};function AE(e){return function(...t){const n=t[0];return t[0]=Ha(n,{mechanism:{data:{function:di(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function O8(e){return function(t){return e.apply(this,[Ha(t,{mechanism:{data:{function:"requestAnimationFrame",handler:di(e)},handled:!1,type:"instrument"}})])}}function R8(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&xn(n,r,function(s){const i={mechanism:{data:{function:r,handler:di(s)},handled:!1,type:"instrument"}},o=S0(s);return o&&(i.mechanism.data.handler=di(o)),Ha(s,i)})}),e.apply(this,t)}}function I8(e){const t=St[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(xn(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ha(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:di(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Ha(i,{mechanism:{data:{function:"addEventListener",handler:di(i),target:e},handled:!1,type:"instrument"}}),o])}}),xn(n,"removeEventListener",function(r){return function(s,i,o){try{const a=i.__sentry_wrapped__;a&&r.call(this,s,a,o)}catch{}return r.call(this,s,i,o)}}))}const M8=()=>({name:"BrowserSession",setupOnce(){St.document!==void 0?(oE({ignoreDuration:!0}),aE(),bN(({from:e,to:t})=>{e!==void 0&&e!==t&&(oE({ignoreDuration:!0}),aE())})):$f&&ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),D8=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";Zi(i,s),eo(i,TW)})(s=>{const{stackParser:i,attachStacktrace:o}=OE();if($t()!==r||EE())return;const{msg:a,url:l,line:c,column:d,error:h}=s,f=function(m,b,p,x){const y=m.exception=m.exception||{},w=y.values=y.values||[],S=w[0]=w[0]||{},E=S.stacktrace=S.stacktrace||{},T=E.frames=E.frames||[],C=x,j=p,N=rs(b)&&b.length>0?b:function(){try{return x0.document.location.href}catch{return""}}();return T.length===0&&T.push({colno:C,filename:N,function:Vi,in_app:!0,lineno:j}),m}(Pv(i,h||a,void 0,o,!1),l,c,d);f.level="error",iE(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),NE("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";Zi(i,s),eo(i,CW)})(s=>{const{stackParser:i,attachStacktrace:o}=OE();if($t()!==r||EE())return;const a=function(c){if(vv(c))return c;try{if("reason"in c)return c.reason;if("detail"in c&&"reason"in c.detail)return c.detail.reason}catch{}return c}(s),l=vv(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:Pv(i,a,void 0,o,!0);l.level="error",iE(l,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),NE("onunhandledrejection"))}}};function NE(e){$f&&ge.log(`Global Handler attached: ${e}`)}function OE(){const e=$t();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const L8=()=>({name:"HttpContext",preprocessEvent(e){if(!St.navigator&&!St.location&&!St.document)return;const t=e.request&&e.request.url||St.location&&St.location.href,{referrer:n}=St.document||{},{userAgent:r}=St.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),$8=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();o8(C0,o.stackParser,o.maxValueLength,n,t,r,s)}}};var Nv="new",RE="loading",IE="loaded",Nh="joining-meeting",$s="joined-meeting",As="left-meeting",Kr="error",F8="blocked",V8="off",U8="sendable",B8="loading",z8="interrupted",xN="playable",Td="unknown",SN="full",q8="lobby",W8="none",_N="base",H8="*",G8="ejected",K8="nbf-room",J8="nbf-token",Y8="exp-room",Q8="exp-token",Ov="no-room",X8="meeting-full",EN="end-of-life",Z8="not-allowed",kN="connection-error",e6="cam-in-use",t6="mic-in-use",n6="cam-mic-in-use",r6="permissions",s6="undefined-mediadevices",i6="not-found",o6="constraints",a6="unknown",TN="iframe-ready-for-launch-config",CN="iframe-launch-config",jN="theme-updated",PN="loading",AN="load-attempt-failed",Rv="loaded",NN="started-camera",ON="camera-error",RN="joining-meeting",IN="joined-meeting",MN="left-meeting",DN="participant-joined",LN="participant-updated",$N="participant-left",FN="participant-counts-updated",VN="access-state-updated",UN="meeting-session-summary-updated",BN="meeting-session-state-updated",l6="meeting-session-data-error",zN="waiting-participant-added",qN="waiting-participant-updated",WN="waiting-participant-removed",HN="track-started",GN="track-stopped",KN="transcription-started",JN="transcription-stopped",YN="transcription-error",Iv="recording-started",Mv="recording-stopped",QN="recording-stats",XN="recording-error",ZN="recording-upload-completed",eO="recording-data",tO="app-message",nO="transcription-message",rO="remote-media-player-started",sO="remote-media-player-updated",iO="remote-media-player-stopped",oO="local-screen-share-started",aO="local-screen-share-stopped",lO="local-screen-share-canceled",cO="active-speaker-change",uO="active-speaker-mode-change",dO="network-quality-change",hO="network-connection",fO="cpu-load-change",pO="face-counts-updated",Pl="fullscreen",Al="exited-fullscreen",mO="live-streaming-started",gO="live-streaming-updated",vO="live-streaming-stopped",yO="live-streaming-error",wO="lang-updated",bO="receive-settings-updated",Dv="input-settings-updated",Lv="nonfatal-error",$v="error",lm=4096,ME=102400,cm="iframe-call-message",DE="local-screen-start",LE="daily-method-update-live-streaming-endpoints",Wu="transmit-log",ss="daily-custom-track",Cd={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},xO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Fv={PLAY:"play",PAUSE:"pause"},um=["jpg","png","jpeg"],c6="add-endpoints",u6="remove-endpoints",$E="sip-call-transfer";function zn(){return!Te()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Te(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function SO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function d6(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(uo(),Oh())||Te())}function FE(){if(Te()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Vv="none",h6="software",f6="hardware",p6=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?h6:f6:Vv}catch{return Vv}}();function _O(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Te()&&p6!==Vv&&(e?function(){return VE()?!1:["Chrome","Firefox"].includes(uo())}():function(){if(VE())return!1;var t=uo();if(t==="Safari"){var n=A0();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?P0().major>=77:t==="Firefox"?N0().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function EO(){if(Te()||kO()||typeof AudioWorkletNode>"u")return!1;switch(uo()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Oh();return e.major>17||e.major===17&&e.minor>=4}return!1}function dm(){return SO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=uo();if(!zn())return!0;switch(t){case"Chrome":return(e=P0()).major&&e.major>0&&e.major<75;case"Firefox":return(e=N0()).major<91;case"Safari":return(e=A0()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function kO(){return zn().match(/Linux; Android/)}function VE(){var e,t=zn(),n=t.match(/Mac/)&&(!Te()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!zn().match(/DailyAnd\//)||void 0}function uo(){if(typeof window<"u"){var e=zn();return TO()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||CO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Oh(){switch(uo()){case"Chrome":return P0();case"Safari":return A0();case"Firefox":return N0();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=zn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function P0(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=zn(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function TO(){return!!zn().match(/iPad|iPhone|iPod/i)&&SO()}function CO(){return zn().indexOf("AppleWebKit/605.1.15")>-1}function A0(){var e=0,t=0,n=0;if(typeof window<"u"){var r=zn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(TO()||CO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function N0(){var e=0,t=0;if(typeof window<"u"){var n=zn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var jO=function(){return jn(function e(){Cn(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){bl()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){bl()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){bl()}},{key:"sendMessageToDailyJs",value:function(e,t){bl()}},{key:"removeListener",value:function(e){bl()}}])}();function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){Ar(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PO=function(){return!!e})()}var m6=function(){function e(){var t,n,r,s;return Cn(this,e),n=this,r=br(r=e),(t=Nf(n,PO()?Reflect.construct(r,[],br(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return Of(e,jO),jn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var a=hm({},o.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var l=a.callbackStamp;s._messageCallbacks[l].call(r,a),delete s._messageCallbacks[l]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==cm||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var a=i.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=hm({},t);if(i.what=cm,i.from="module",i.callClientId=r,n){var o=Rf();this._messageCallbacks[o]=n,i.callbackStamp=o}var a=s?s.contentWindow:window,l=this._callMachineTargetOrigin(s);l&&a.postMessage(i,l)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=cm,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=hm({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AO=function(){return!!e})()}var g6=function(){function e(){var t,n,r,s;return Cn(this,e),n=this,r=br(r=e),t=Nf(n,AO()?Reflect.construct(r,[],br(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new mv.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new mv.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Of(e,jO),jn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,a=function(l){if(l.callClientId===r){if(l.callbackStamp&&o._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;o._messageCallbacks[c].call(s,l),delete o._messageCallbacks[c]}t.call(s,l)}};this._wrappedListeners[t]=a,n.addListener("message",a)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(l){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?BE(Object(d),!0).forEach(function(h){Ar(l,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):BE(Object(d)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(d,h))})}return l}({},t);if(o.callClientId=r,s){var a=Rf();this._messageCallbacks[a]=s,o.callbackStamp=a}n.emit("message",o)}}])}(),Uv="replace",Bv="shallow-merge",zE=[Uv,Bv],v6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?Uv:r;Cn(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return jn(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===Bv}},{key:"_validateMergeStrategy",value:function(t){if(!zE.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(zE,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Ce(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return l==null||l===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===Uv){var s=JSON.parse(r);Gt(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===Bv){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));Gt(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>ME)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(ME,"."))}}])}();function NO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!e})()}function zv(e){var t=typeof Map=="function"?new Map:void 0;return zv=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if(NO())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,i);var l=new(s.bind.apply(s,a));return o&&Cc(l,o.prototype),l}(n,arguments,br(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Cc(r,n)},zv(e)}function OO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OO=function(){return!!e})()}function qE(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var y6=function(){return jn(function e(t){Cn(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new w6(n,function(){r(!1)},function(i,o){o||qE(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),qE(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),w6=function(){return jn(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Cn(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new WE(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new WE(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),fm=function(){function e(){return Cn(this,e),t=this,r=arguments,n=br(n=e),Nf(t,OO()?Reflect.construct(n,r||[],br(t).constructor):n.apply(t,r));var t,n,r}return Of(e,zv(Error)),jn(e)}(),Rh=2e4,WE=function(){return jn(function t(n,r,s){Cn(this,t),this._loadAttemptImpl=Te()||!n.avoidEval?new b6(n,r,s):new x6(n,r,s)},[{key:"start",value:(e=me(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),b6=function(){return jn(function s(i,o,a){Cn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=a},[{key:"start",value:(r=me(function*(){var s=kh(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=me(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=me(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Rh," ms) when loading call object bundle ").concat(s),type:"timeout"})},Rh);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},a=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new fm;var l=yield this._getBundleCodeFromResponse(s,a);if(this.cancelled)throw new fm;Function('"use strict";'+l)(),this._iosCache&&this._iosCache.set(s,l,a.headers),this.succeeded=!0,this._successCallback()}catch(c){if(clearTimeout(this._networkTimeout),c instanceof fm||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(c),type:c.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=me(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),x6=function(){return jn(function e(t,n,r){Cn(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Rf(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=kh(this._dailyConfig);(typeof document>"u"?"undefined":Ce(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Rh," ms) when loading call object bundle ").concat(e),type:"timeout"})},Rh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Hu=function(e,t,n){return _6(e.local,t,n)===!0},S6=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},Zo=function(e,t,n,r){var s=E6(e,t,n,r);return s&&s.pendingTrack},_6=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},E6=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},k6=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function HE(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,a=["video","audio"];o<a.length;o++){var l=a[o],c=i==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),d=e.tracks[c];if(d){var h=e.local?S6(n,i,l):Zo(n,e.session_id,i,l);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function GE(e,t){try{var n=t.getState();for(var r in e.tracks)if(!T6(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?k6(n,r):Zo(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function T6(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function KE(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Hu(r,e.session_id,"cam-audio")){var o=Zo(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Hu(r,e.session_id,"cam-video")){var a=Zo(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&Hu(r,e.session_id,"screen-audio")){var l=Zo(r,e.session_id,"screen","audio");l&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===l.id?e.screenAudioTrack=l:l.muted||(e.screenAudioTrack=l))}if(e.screen&&Hu(r,e.session_id,"screen-video")){var c=Zo(r,e.session_id,"screen","video");c&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===c.id?e.screenVideoTrack=c:c.muted||(e.screenVideoTrack=c))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function C6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return JE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?JE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function JE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kr=new Map,da=null;function j6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return YE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?YE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function YE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tr=new Map,Kl=null;function P6(e){RO()?function(t){kr.has(t)||(kr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){kr.has(t)&&(kr.get(t).lastDevicesString=JSON.stringify(n),da||(da=function(){var r=me(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=C6(kr.keys());try{for(o.s();!(s=o.n()).done;){var a=s.value,l=JSON.stringify(i);l!==kr.get(a).lastDevicesString&&(kr.get(a).lastDevicesString=l,a(i))}}catch(c){o.e(c)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",da)))}).catch(function(){}))}(e):function(t){Tr.has(t)||(Tr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Tr.has(t)&&(Tr.get(t).lastDevicesString=JSON.stringify(n),Kl||(Kl=setInterval(me(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=j6(Tr.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=JSON.stringify(s);a!==Tr.get(o).lastDevicesString&&(Tr.get(o).lastDevicesString=a,o(s))}}catch(l){i.e(l)}finally{i.f()}}),3e3)))}))}(e)}function A6(e){RO()?function(t){kr.has(t)&&(kr.delete(t),kr.size===0&&da&&(navigator.mediaDevices.removeEventListener("devicechange",da),da=null))}(e):function(t){Tr.has(t)&&(Tr.delete(t),Tr.size===0&&Kl&&(clearInterval(Kl),Kl=null))}(e)}function RO(){var e;return Te()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var N6=new Set;function O6(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!N6.has(n.id)}(e)}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){Ar(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Nl=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),R6=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Jl=Object.values(Nl),XE=["v","a","sv","sa","cv","ca"];Object.freeze(Jl.reduce(function(e,t,n){return e[t]=XE[n],e},{})),Object.freeze(XE.reduce(function(e,t,n){return e[t]=Jl[n],e},{}));var I6=[Nl.VIDEO,Nl.AUDIO,Nl.SCREEN_VIDEO,Nl.SCREEN_AUDIO],ZE=Object.values(R6),e1=["p","s","t"];Object.freeze(ZE.reduce(function(e,t,n){return e[t]=e1[n],e},{})),Object.freeze(e1.reduce(function(e,t,n){return e[t]=ZE[n],e},{}));var IO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;Cn(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return jn(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof kt?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof kt?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof kt?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof kt&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof kt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof kt?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof kt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Ut(t,2),r=n[0],s=n[1];return[r,s instanceof kt?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Ut(t,2),r=n[0],s=n[1];return[r,s instanceof kt?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:kt.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:kt.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var a in s={},t.byParticipantId){var l=t.byParticipantId[a];s[a]=typeof l=="boolean"?l:kt.fromJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:kt.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:kt.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var a in s={},t.p){var l=t.p[a];s[a]=typeof l=="boolean"?l:kt.fromMinifiedJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Ce(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Ut(kt.validateJSONObject(t.base,!0),2),a=o[0],l=o[1];if(!a)return[!1,l]}else{if(Ce(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var c=0,d=Object.values(t[i]);c<d.length;c++){var h=d[c],f=Ut(kt.validateJSONObject(h),2),m=f[0],b=f[1];if(!m)return[!1,b]}}}return[!0]}}])}(),kt=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,a=t.customAudio;Cn(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=a}return jn(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Ts({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Ts({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Ts({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Ts({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Ts({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Ts({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Ts({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Ts({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Ce(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!Jl.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(I6.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Ce(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var a=0,l=Object.values(t[o]);a<l.length;a++)if(typeof l[a]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Jl.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Jl.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),M6=["result"],D6=["preserveIframe"];function t1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(n),!0).forEach(function(r){Ar(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MO=function(){return!!e})()}function n1(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return r1(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?r1(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ei={},s1="video",L6="voice",i1=Te()?{data:{}}:{data:{},topology:"none"},o1={present:0,hidden:0},DO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},pm=Object.keys(DO),a1=["state","volume","simulcastEncodings"],l1={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Ih={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},qv={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},ki={customIntegrations:{validate:qO,help:BO()},customTrayButtons:{validate:zO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Ih))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return WO(e,l1)},help:"reactNativeConfig should look like ".concat(JSON.stringify(l1),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return LO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:ss};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:ss};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Ce(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return $O(e,{allowAllParticipantsKey:!1})},help:UO({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!FO(e)&&(t._inputSettings||(t._inputSettings={}),VO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:Wv()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Gu={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Te()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in i)if(a==="custom"){if(!n.includes(i[a])&&!s(i[a],!0))return!1}else{var l=!o&&!r.includes(a),c=!n.includes(i[a]);if(l||c)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Te()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ut(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=n1(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(!a.includes(c))return!1}}catch(y){l.e(y)}finally{l.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Ut(IO.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,b=["participants","streaming","transcription"],p=n1(i);try{for(p.s();!(m=p.n()).done;){var x=m.value;if(!b.includes(x))return!1}}catch(y){p.e(y)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=me(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var $6=function(){function e(g){var k,_,A,P,D,O,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Cn(this,e),A=this,P=br(P=e),Ar(_=Nf(A,MO()?Reflect.construct(P,[],br(A).constructor):P.apply(A,D)),"startListeningForDeviceChanges",function(){P6(_.handleDeviceChange)}),Ar(_,"stopListeningForDeviceChanges",function(){A6(_.handleDeviceChange)}),Ar(_,"handleDeviceChange",function(Y){Y=Y.map(function(ce){return JSON.parse(JSON.stringify(ce))}),_.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Y})}),Ar(_,"handleNativeAppStateChange",function(){var Y=me(function*(ce){if(ce==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield _.destroy());var Be=ce==="active";_.disableReactNativeAutoDeviceManagement("video")||(Be?_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!0):(_.camUnmutedBeforeLosingNativeActiveState=_.localVideo(),_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!1)))});return function(ce){return Y.apply(this,arguments)}}()),Ar(_,"handleNativeAudioFocusChange",function(Y){_.disableReactNativeAutoDeviceManagement("audio")||(_._hasNativeAudioFocus=Y,_.toggleParticipantAudioBasedOnNativeAudioFocus(),_._hasNativeAudioFocus?_.micUnmutedBeforeLosingNativeAudioFocus&&_.setLocalAudio(!0):(_.micUnmutedBeforeLosingNativeAudioFocus=_.localAudio(),_.setLocalAudio(!1)))}),Ar(_,"handleNativeSystemScreenCaptureStop",function(){_.stopScreenShare()}),!dm()&&!Te())throw new Error("WebRTC not supported or suppressed");if(_.strictMode=L.strictMode===void 0||L.strictMode,_.allowMultipleCallInstances=(k=L.allowMultipleCallInstances)!==null&&k!==void 0&&k,Object.keys(Ei).length&&(_._logDuplicateInstanceAttempt(),!_.allowMultipleCallInstances)){if(_.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),_.callClientId=Rf(),Ei[(O=_).callClientId]=O,window._daily.instances[_.callClientId]={},_._sharedTracks={},window._daily.instances[_.callClientId].tracks=_._sharedTracks,L.dailyJsVersion=e.version(),_._iframe=g,_._callObjectMode=L.layout==="none"&&!_._iframe,_._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},L.showLocalVideo!==void 0?_._callObjectMode?console.error("showLocalVideo is not available in call object mode"):_._showLocalVideo=!!L.showLocalVideo:_._showLocalVideo=!0,L.showParticipantsBar!==void 0?_._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):_._showParticipantsBar=!!L.showParticipantsBar:_._showParticipantsBar=!0,L.customIntegrations!==void 0?_._callObjectMode?console.error("customIntegrations is not available in call object mode"):_._customIntegrations=L.customIntegrations:_._customIntegrations={},L.customTrayButtons!==void 0?_._callObjectMode?console.error("customTrayButtons is not available in call object mode"):_._customTrayButtons=L.customTrayButtons:_._customTrayButtons={},L.activeSpeakerMode!==void 0?_._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):_._activeSpeakerMode=!!L.activeSpeakerMode:_._activeSpeakerMode=!1,L.receiveSettings?_._callObjectMode?_._receiveSettings=L.receiveSettings:console.error("receiveSettings is only available in call object mode"):_._receiveSettings={},_.validateProperties(L),_.properties=le({},L),_._inputSettings||(_._inputSettings={}),_._callObjectLoader=_._callObjectMode?new y6(_.callClientId):null,_._callState=Nv,_._isPreparingToJoin=!1,_._accessState={access:Td},_._meetingSessionSummary={},_._finalSummaryOfPrevSession={},_._meetingSessionState=vm(i1,_._callObjectMode),_._nativeInCallAudioMode=s1,_._participants={},_._isScreenSharing=!1,_._participantCounts=o1,_._rmpPlayerState={},_._waitingParticipants={},_._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},_._activeSpeaker={},_._localAudioLevel=0,_._isLocalAudioLevelObserverRunning=!1,_._remoteParticipantsAudioLevel={},_._isRemoteParticipantsAudioLevelObserverRunning=!1,_._maxAppMessageSize=lm,_._messageChannel=Te()?new g6:new m6,_._iframe&&(_._iframe.requestFullscreen?_._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Pl}),_.sendMessageToCallMachine({action:Pl})):(_.emitDailyJSEvent({action:Al}),_.sendMessageToCallMachine({action:Al}))}):_._iframe.webkitRequestFullscreen&&_._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Pl}),_.sendMessageToCallMachine({action:Pl})):(_.emitDailyJSEvent({action:Al}),_.sendMessageToCallMachine({action:Al}))})),Te()){var z=_.nativeUtils();z.addAudioFocusChangeListener&&z.removeAudioFocusChangeListener&&z.addAppStateChangeListener&&z.removeAppStateChangeListener&&z.addSystemScreenCaptureStopListener&&z.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),_._hasNativeAudioFocus=!0,z.addAudioFocusChangeListener(_.handleNativeAudioFocusChange),z.addAppStateChangeListener(_.handleNativeAppStateChange),z.addSystemScreenCaptureStopListener(_.handleNativeSystemScreenCaptureStop)}return _._callObjectMode&&_.startListeningForDeviceChanges(),_._messageChannel.addListenerForMessagesFromCallMachine(_.handleMessageFromCallMachine,_.callClientId,_),_}return Of(e,Lu),jn(e,[{key:"destroy",value:(re=me(function*(){var g;try{yield this.leave()}catch{}var k=this._iframe;if(k){var _=k.parentElement;_&&_.removeChild(k)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Te()){var A=this.nativeUtils();A.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),A.removeAppStateChangeListener(this.handleNativeAppStateChange),A.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Ei[this.callClientId],!((g=window)===null||g===void 0||(g=g._daily)===null||g===void 0)&&g.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return re.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var k=g.bodyClass,_=g.cssFile,A=g.cssText;return ke(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(_),bodyClass:k,cssText:A}),this}},{key:"iframe",value:function(){return ke(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Zn(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Zn(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,k){for(var _ in k){if(!Gu[_])throw new Error("unrecognized updateParticipant property ".concat(_));if(Gu[_].validate&&!Gu[_].validate(k[_],this,this._participants[g]))throw new Error(Gu[_].help)}}},{key:"updateParticipant",value:function(g,k){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&k&&(this.validateParticipantProperties(g,k),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:k})),this}},{key:"updateParticipants",value:function(g){var k=this._participants.local&&this._participants.local.session_id;for(var _ in g)_===k&&(_="local"),_&&g[_]&&this.validateParticipantProperties(_,g[_]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(G=me(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Zn(this._callObjectMode,"updateWaitingParticipant()"),$e(this._callState,"updateWaitingParticipant()"),typeof k!="string"||Ce(_)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(A,P){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:k,updates:_},function(D){D.error&&P(D.error),D.id||P(new Error("unknown error in updateWaitingParticipant()")),A({id:D.id})})})}),function(){return G.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(J=me(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Zn(this._callObjectMode,"updateWaitingParticipants()"),$e(this._callState,"updateWaitingParticipants()"),Ce(k)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(_,A){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:k},function(P){P.error&&A(P.error),P.ids||A(new Error("unknown error in updateWaitingParticipants()")),_({ids:P.ids})})})}),function(){return J.apply(this,arguments)})},{key:"requestAccess",value:(U=me(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=k.access,A=_===void 0?{level:SN}:_,P=k.name,D=P===void 0?"":P;return Zn(this._callObjectMode,"requestAccess()"),$e(this._callState,"requestAccess()"),new Promise(function(O,L){g.sendMessageToCallMachine({action:"daily-method-request-access",access:A,name:D},function(z){z.error&&L(z.error),z.access||L(new Error("unknown error in requestAccess()")),O({access:z.access,granted:z.granted})})})}),function(){return U.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in k&&(Te()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),k={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),k={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:k}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:($=me(function*(g){var k=this,_=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,A=_!==void 0&&_;if(Zn(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ce(g)){case"string":return new Promise(function(P){k.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:A},function(D){P(D.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(g){return $.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Z=me(function*(g){var k=this;if(Zn(this._callObjectMode,"updateReceiveSettings()"),!$O(g,{allowAllParticipantsKey:!0}))throw new Error(UO({allowAllParticipantsKey:!0}));return $e(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(_){k.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},function(A){_({receiveSettings:A.receiveSettings})})})}),function(g){return Z.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,k){if(g){var _={};if(g.audio){var A,P,D;g.audio.settings&&(!Object.keys(g.audio.settings).length&&k||(_.audio={settings:le({},g.audio.settings)})),k&&(A=_.audio)!==null&&A!==void 0&&(A=A.settings)!==null&&A!==void 0&&A.customTrack&&(_.audio.settings={customTrack:this._sharedTracks.audioTrack});var O=((P=g.audio.processor)===null||P===void 0?void 0:P.type)==="none"&&((D=g.audio.processor)===null||D===void 0?void 0:D._isDefaultWhenNone);if(g.audio.processor&&!O){var L=le({},g.audio.processor);delete L._isDefaultWhenNone,_.audio=le(le({},_.audio),{},{processor:L})}}if(g.video){var z,Y,ce;g.video.settings&&(!Object.keys(g.video.settings).length&&k||(_.video={settings:le({},g.video.settings)})),k&&(z=_.video)!==null&&z!==void 0&&(z=z.settings)!==null&&z!==void 0&&z.customTrack&&(_.video.settings={customTrack:this._sharedTracks.videoTrack});var Be=((Y=g.video.processor)===null||Y===void 0?void 0:Y.type)==="none"&&((ce=g.video.processor)===null||ce===void 0?void 0:ce._isDefaultWhenNone);if(g.video.processor&&!Be){var wt=le({},g.video.processor);delete wt._isDefaultWhenNone,_.video=le(le({},_.video),{},{processor:wt})}}return _}}},{key:"getInputSettings",value:function(){var g=this;return ke(),new Promise(function(k){k(g._getInputSettings())})}},{key:"_getInputSettings",value:function(){var g,k,_,A,P,D,O={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=((_=this._inputSettings)===null||_===void 0?void 0:_.video)||O,k=((A=this._inputSettings)===null||A===void 0?void 0:A.audio)||O):(g=((P=this._preloadCache)===null||P===void 0||(P=P.inputSettings)===null||P===void 0?void 0:P.video)||O,k=((D=this._preloadCache)===null||D===void 0||(D=D.inputSettings)===null||D===void 0?void 0:D.audio)||O);var L={audio:k,video:g};return this._prepInputSettingsForSharing(L,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,k){var _=this._inputSettings||{},A={};if(g.video){var P,D,O;A.video={},g.video.settings?(A.video.settings={},k||g.video.settings.customTrack||(O=_.video)===null||O===void 0||!O.settings?A.video.settings=g.video.settings:A.video.settings=le(le({},_.video.settings),g.video.settings),Object.keys(A.video.settings).length||delete A.video.settings):(P=_.video)!==null&&P!==void 0&&P.settings&&(A.video.settings=_.video.settings),g.video.processor?A.video.processor=g.video.processor:(D=_.video)!==null&&D!==void 0&&D.processor&&(A.video.processor=_.video.processor)}else _.video&&(A.video=_.video);if(g.audio){var L,z,Y;A.audio={},g.audio.settings?(A.audio.settings={},k||g.audio.settings.customTrack||(Y=_.audio)===null||Y===void 0||!Y.settings?A.audio.settings=g.audio.settings:A.audio.settings=le(le({},_.audio.settings),g.audio.settings),Object.keys(A.audio.settings).length||delete A.audio.settings):(L=_.audio)!==null&&L!==void 0&&L.settings&&(A.audio.settings=_.audio.settings),g.audio.processor?A.audio.processor=g.audio.processor:(z=_.audio)!==null&&z!==void 0&&z.processor&&(A.audio.processor=_.audio.processor)}else _.audio&&(A.audio=_.audio);this._maybeUpdateInputSettings(A)}},{key:"_devicesFromInputSettings",value:function(g){var k,_,A=(g==null||(k=g.video)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,P=(g==null||(_=g.audio)===null||_===void 0||(_=_.settings)===null||_===void 0?void 0:_.deviceId)||null,D=this._preloadCache.outputDeviceId||null;return{camera:A?{deviceId:A}:{},mic:P?{deviceId:P}:{},speaker:D?{deviceId:D}:{}}}},{key:"updateInputSettings",value:(X=me(function*(g){var k=this;return ke(),FO(g)?g.video||g.audio?(VO(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise(function(_,A){k.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},function(P){if(P.error)A(P.error);else{if(P.returnPreloadCache)return k._updatePreloadCacheInputSettings(g,!0),void _(k._getInputSettings());k._maybeUpdateInputSettings(P.inputSettings),_(k._prepInputSettingsForSharing(P.inputSettings,!0))}})})):this._getInputSettings():(console.error(Wv()),Promise.reject(Wv()))}),function(g){return X.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var k=g.kbs,_=g.trackConstraints;if(ke(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:k,trackConstraints:_}),this}},{key:"getDailyLang",value:function(){var g=this;if(ke(),this._callMachineInitialized)return new Promise(function(k){g.sendMessageToCallMachine({action:"get-daily-lang"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}},{key:"setDailyLang",value:function(g){return ke(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[As,Kr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Q=me(function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),$e(this._callState,"getMeetingSession()"),new Promise(function(k){g.sendMessageToCallMachine({action:"get-meeting-session"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}),function(){return Q.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return $e(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Zn(this._callObjectMode,"setMeetingSessionData()"),$e(this._callState,"setMeetingSessionData");try{(function(_,A){new v6({data:_,mergeStrategy:A})})(g,k)}catch(_){throw console.error(_),_}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:k})}catch(_){throw new Error("Error setting meeting session data: ".concat(_))}}},{key:"setUserName",value:function(g,k){var _=this;return this.properties.userName=g,new Promise(function(A){_.sendMessageToCallMachine({action:"set-user-name",name:g??"",thisMeetingOnly:Te()||!!k&&!!k.thisMeetingOnly},function(P){delete P.action,delete P.callbackStamp,A(P)})})}},{key:"setUserData",value:(V=me(function*(g){var k=this;try{LO(g)}catch(_){throw console.error(_),_}if(this.properties.userData=g,this._callMachineInitialized)return new Promise(function(_){try{k.sendMessageToCallMachine({action:"set-user-data",userData:g},function(A){delete A.action,delete A.callbackStamp,_(A)})}catch(A){throw new Error("Error setting user data: ".concat(A))}})}),function(g){return V.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||typeof g!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var k=this;if(typeof AudioWorkletNode>"u"&&!Te())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(_,A){k.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},function(P){k._isLocalAudioLevelObserverRunning=!P.error,P.error?A({error:P.error}):_()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var k=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(_,A){k.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},function(P){k._isRemoteParticipantsAudioLevelObserverRunning=!P.error,P.error?A({error:P.error}):_()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(W=me(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Zn(this._callObjectMode,"startCamera()"),mm(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(k)}catch(_){return Promise.reject(_)}else{if(this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(k),this.properties=le(le({},this.properties),k)}return new Promise(function(_){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:Eo(g.properties,g.callClientId),preloadCache:Eo(g._preloadCache,g.callClientId)},function(A){_({camera:A.camera,mic:A.mic,speaker:A.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,k,_){if(_&&_.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(k&&k!=="music"&&k!=="speech"&&!(k instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(_&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(_))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return ke(),$e(this._callState,"startCustomTrack()"),this.validateCustomTrack(k.track,k.mode,k.trackName),new Promise(function(_,A){g._sharedTracks.customTrack=k.track,k.track=ss,g.sendMessageToCallMachine({action:"start-custom-track",properties:k},function(P){P.error?A({error:P.error}):_(P.mediaTag)})})}},{key:"stopCustomTrack",value:function(g){var k=this;return ke(),$e(this._callState,"stopCustomTrack()"),new Promise(function(_){k.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},function(A){_(A.mediaTag)})})}},{key:"setCamera",value:function(g){var k=this;return xl(),Ku(this._callMachineInitialized,"setCamera()"),new Promise(function(_){k.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},function(A){_({device:A.device})})})}},{key:"setAudioDevice",value:(F=me(function*(g){return xl(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(g){return F.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(_){g.sendMessageToCallMachine({action:"cycle-camera",properties:k},function(A){_({device:A.device})})})}},{key:"cycleMic",value:function(){var g=this;return ke(),new Promise(function(k){g.sendMessageToCallMachine({action:"cycle-mic"},function(_){k({device:_.device})})})}},{key:"getCameraFacingMode",value:function(){var g=this;return xl(),new Promise(function(k){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(_){k(_.facingMode)})})}},{key:"setInputDevicesAsync",value:(R=me(function*(g){var k=this,_=g.audioDeviceId,A=g.videoDeviceId,P=g.audioSource,D=g.videoSource;if(ke(),P!==void 0&&(_=P),D!==void 0&&(A=D),typeof _=="boolean"&&(this._setAllowLocalAudio(_),_=void 0),typeof A=="boolean"&&(this._setAllowLocalVideo(A),A=void 0),!_&&!A)return yield this.getInputDevices();var O={};return _&&(_ instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=_,_=ss,O.audio={settings:{customTrack:_}}):(delete this._sharedTracks.audioTrack,O.audio={settings:{deviceId:_}})),A&&(A instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=A,A=ss,O.video={settings:{customTrack:A}}):(delete this._sharedTracks.videoTrack,O.video={settings:{deviceId:A}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(O,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(L){k.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:_,videoDeviceId:A},function(z){if(delete z.action,delete z.callbackStamp,z.returnPreloadCache)return k._updatePreloadCacheInputSettings(O,!1),void L(k._devicesFromInputSettings(k._inputSettings));L(z)})})}),function(g){return R.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(I=me(function*(g){var k=this,_=g.outputDeviceId;if(ke(),!_||typeof _!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=_,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(A,P){k.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:_},function(D){if(delete D.action,delete D.callbackStamp,D.error){var O=new Error(D.error.message);return O.type=D.error.type,void P(O)}D.returnPreloadCache?A(k._devicesFromInputSettings(k._inputSettings)):A(D)})})}),function(g){return I.apply(this,arguments)})},{key:"getInputDevices",value:(M=me(function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(k){g.sendMessageToCallMachine({action:"get-input-devices"},function(_){_.returnPreloadCache?k(g._devicesFromInputSettings(g._inputSettings)):k({camera:_.camera,mic:_.mic,speaker:_.speaker})})})}),function(){return M.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return xl(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(xl(),[s1,L6].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&jd(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(N=me(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Zn(this._callObjectMode,"preAuth()"),mm(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(k)),!k.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(k),this.properties=le(le({},this.properties),k),new Promise(function(_,A){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:Eo(g.properties,g.callClientId),preloadCache:Eo(g._preloadCache,g.callClientId)},function(P){return P.error?A(P.error):P.access?(g._didPreAuth=!0,void _({access:P.access})):A(new Error("unknown error in preAuth()"))})})}),function(){return N.apply(this,arguments)})},{key:"load",value:(j=me(function*(g){var k=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=le(le({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(RE),this.emitDailyJSEvent({action:PN}),this._callObjectMode?new Promise(function(_,A){k._callObjectLoader.cancel();var P=Date.now();k._callObjectLoader.load(k.properties.dailyConfig,function(D){k._bundleLoadTime=D?"no-op":Date.now()-P,k._updateCallState(IE),D&&k.emitDailyJSEvent({action:Rv}),_()},function(D,O){if(k.emitDailyJSEvent({action:AN}),!O){k._updateCallState(Kr),k.resetMeetingDependentVars();var L={action:$v,errorMsg:D.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:D,bundleUrl:kh(k.properties.dailyConfig)}}};k._maybeSendToSentry(L),k.emitDailyJSEvent(L),A(D.msg)}})}):(this._iframe.src=iN(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(_,A){k._loadedCallback=function(P){k._callState!==Kr?(k._updateCallState(IE),(k.properties.cssFile||k.properties.cssText)&&k.loadCss(k.properties),_()):A(P)}}))}}),function(g){return j.apply(this,arguments)})},{key:"join",value:(C=me(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var _=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(k)}catch(A){return this.updateIsPreparingToJoin(!1),Promise.reject(A)}}else{if(_=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(k.url&&!this._callObjectMode&&k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(k.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(k),this.properties=le(le({},this.properties),k)}return k.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!k.showLocalVideo),k.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!k.showParticipantsBar),this._callState===$s||this._callState===Nh?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Nh,!1),this.emitDailyJSEvent({action:RN}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Eo(this.properties,this.callClientId),preloadCache:Eo(this._preloadCache,this.callClientId)}),new Promise(function(A,P){g._joinedCallback=function(D,O){if(g._callState!==Kr){if(g._updateCallState($s),D)for(var L in D){if(g._callObjectMode){var z=g._callMachine().store;HE(D[L],z),GE(D[L],z),KE(D[L],g._participants[L],z)}g._participants[L]=le({},D[L]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}_&&g.loadCss(g.properties),A(D)}else P(O)}}))}),function(){return C.apply(this,arguments)})},{key:"leave",value:(T=me(function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(k){g._callState===As||g._callState===Kr?k():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(As),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:As}),k()):(g._resolveLeave=k,g.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return T.apply(this,arguments)})},{key:"startScreenShare",value:(E=me(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ku(this._callMachineInitialized,"startScreenShare()"),k.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",k.screenVideoSendSettings),k.mediaStream&&(this._sharedTracks.screenMediaStream=k.mediaStream,k.mediaStream=ss),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var _=this.nativeUtils();if(yield _.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:Lv,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});_.setSystemScreenCaptureStartCallback(function(){_.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:DE,captureOptions:k})}),_.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:DE,captureOptions:k})}),function(){return E.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Ku(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=g.type;if(k&&k!=="cloud"&&k!=="raw-tracks"&&k!=="local")throw new Error("invalid type: ".concat(k,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(le({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,A=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:_,instanceId:A})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,A=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:_,instanceId:A})}},{key:"addLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:LE,endpointsOp:c6,endpoints:k,instanceId:_})}},{key:"removeLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:LE,endpointsOp:u6,endpoints:k,instanceId:_})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),kO()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw new Error("encodings must be an Array");if(!f1(g.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var A=0;A<g.length;A++){var P=g[A];for(var D in this._validateEncodingLayerHasValidProperties(P),P)if(pm.includes(D)){if(typeof P[D]!="number")throw new Error("".concat(D," must be a number"));if(k){var O=k[D],L=O.min,z=O.max;if(!f1(P[D],L,z))throw new Error("".concat(D," value not in range. valid range: ").concat(L," to ").concat(z))}}else if(!["active","scalabilityMode"].includes(D))throw new Error("Invalid key ".concat(D,", valid keys are:")+Object.values(pm));if(_&&!P.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=me(function*(g){var k=this,_=g.url,A=g.settings,P=A===void 0?{state:Fv.PLAY}:A;try{(function(D){if(typeof D!="string")throw new Error('url parameter must be "string" type')})(_),h1(P),function(D){for(var O in D)if(!a1.includes(O))throw new Error("Invalid key ".concat(O,", valid keys are: ").concat(a1));D.simulcastEncodings&&this.validateSimulcastEncodings(D.simulcastEncodings,DO,!0)}(P)}catch(D){throw console.error("invalid argument Error: ".concat(D)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),D}return new Promise(function(D,O){k.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:_,settings:P},function(L){L.error?O({error:L.error,errorMsg:L.errorMsg}):D({session_id:L.session_id,remoteMediaPlayerState:{state:L.state,settings:L.settings}})})})}),function(g){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=me(function*(g){var k=this;if(typeof g!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(_,A){k.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},function(P){P.error?A({error:P.error,errorMsg:P.errorMsg}):_()})})}),function(g){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=me(function*(g){var k=this,_=g.session_id,A=g.settings;try{h1(A)}catch(P){throw console.error("invalid argument Error: ".concat(P)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),P}return new Promise(function(P,D){k.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:_,settings:A},function(O){O.error?D({error:O.error,errorMsg:O.errorMsg}):P({session_id:O.session_id,remoteMediaPlayerState:{state:O.state,settings:O.settings}})})})}),function(g){return y.apply(this,arguments)})},{key:"startTranscription",value:function(g){$e(this._callState,"startTranscription()"),this.sendMessageToCallMachine(le({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if($e(this._callState,"updateTranscription()"),!g)throw new Error("updateTranscription Error: options is mandatory");if(Ce(g)!=="object")throw new Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(le({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if($e(this._callState,"stopTranscription()"),g&&Ce(g)!=="object")throw new Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(le({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(x=me(function*(g){var k=this;$e(this._callState,"startDialOut()");var _=function(O){if(O){if(!Array.isArray(O))throw new Error("Error starting dial out: audio codec must be an array");if(O.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");O.forEach(function(L){if(typeof L!="string")throw new Error("Error starting dial out: audio codec must be a string");if(L!=="OPUS"&&L!=="PCMU"&&L!=="PCMA"&&L!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!g.sipUri&&!g.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if(typeof g.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&typeof g.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(O){if(O&&(_(O.audio),O.video)){if(!Array.isArray(O.video))throw new Error("Error starting dial out: video codec must be an array");if(O.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");O.video.forEach(function(L){if(typeof L!="string")throw new Error("Error starting dial out: video codec must be a string");if(L!=="H264"&&L!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(g.codecs)}if(g.phoneNumber){if(typeof g.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&_(g.codecs.audio)}if(g.callerId){if(typeof g.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if(typeof g.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if(typeof g.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(c1(g),g.permissions&&g.permissions.canReceive){var A=Ut(IO.validateJSONObject(g.permissions.canReceive),2),P=A[0],D=A[1];if(!P)throw new Error(D)}if(g.provider){if(g.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(O,L){k.sendMessageToCallMachine(le({action:"dialout-start"},g),function(z){z.error?L(z.error):O(z)})})}),function(g){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var k=this;return $e(this._callState,"stopDialOut()"),new Promise(function(_,A){k.sendMessageToCallMachine(le({action:"dialout-stop"},g),function(P){P.error?A(P.error):_(P)})})}},{key:"sipCallTransfer",value:(p=me(function*(g){var k=this;if($e(this._callState,"sipCallTransfer()"),!g)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,d1(g,"sipCallTransfer"),c1(g),new Promise(function(_,A){k.sendMessageToCallMachine(le({action:$E},g),function(P){P.error?A(P.error):_(P)})})}),function(g){return p.apply(this,arguments)})},{key:"sipRefer",value:(b=me(function*(g){var k=this;if($e(this._callState,"sipRefer()"),!g)throw new Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,d1(g,"sipRefer"),new Promise(function(_,A){k.sendMessageToCallMachine(le({action:$E},g),function(P){P.error?A(P.error):_(P)})})}),function(g){return b.apply(this,arguments)})},{key:"sendDTMF",value:(m=me(function*(g){var k=this;return $e(this._callState,"sendDTMF()"),function(_){var A=_.sessionId,P=_.tones;if(!A||!P)throw new Error("sessionId and tones are mandatory parameter");if(typeof A!="string"||typeof P!="string")throw new Error("sessionId and tones should be of string type");if(P.length>20)throw new Error("tones string must be upto 20 characters");var D=/[^0-9A-D*#]/g,O=P.match(D);if(O&&O[0])throw new Error("".concat(O[0]," is not valid DTMF tone"))}(g),new Promise(function(_,A){k.sendMessageToCallMachine(le({action:"send-dtmf"},g),function(P){P.error?A(P.error):_(P)})})}),function(g){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==$s?Promise.resolve(le({stats:{latest:{}}},this._network)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-calc-stats"},function(_){k(le(le({},g._network),{},{stats:_.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=me(function*(){var g=this;if(gm(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}return new Promise(function(k,_){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(A){A.error?_(A.error):k(A.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!O6(g)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=me(function*(){var g=this;ke(),Zn(this._callObjectMode,"testCallQuality()"),Ku(this._callMachineInitialized,"testCallQuality()",null,!0),mm(this._callState,this._isPreparingToJoin,"testCallQuality()");var k=this._testCallAlreadyInProgress,_=function(P){k||(g._testCallInProgress=P)};if(_(!0),this.needsLoad())try{var A=this._callState;yield this.load(),this._callState=A}catch(P){return _(!1),Promise.reject(P)}return new Promise(function(P){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},function(D){var O=D.results,L=O.result,z=j_(O,M6);if(L==="failed"){var Y,ce=le({},z);(Y=z.error)!==null&&Y!==void 0&&Y.details?(z.error.details=JSON.parse(z.error.details),ce.error=le(le({},ce.error),{},{details:le({},ce.error.details)}),ce.error.details.duringTest="testCallQuality"):(ce.error=ce.error?le({},ce.error):{},ce.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(ce)}_(!1),P(le({result:L},z))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=me(function*(g){var k;Te()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),k=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),k=yield this.testCallQuality());var _={result:k.result,secondsElapsed:k.secondsElapsed};return k.data&&(_.data={maxRTT:k.data.maxRoundTripTime,packetLoss:k.data.avgRecvPacketLoss}),_}),function(g){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(c=me(function*(g){var k=this;if(gm(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(P){return Promise.reject(P)}var _=g.videoTrack,A=g.duration;if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=_,new Promise(function(P,D){k.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:A},function(O){O.error?D(O.error):P(O.results)})})}),function(g){return c.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Te()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(l=me(function*(g){var k=this;if(gm(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(_){return Promise.reject(_)}if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise(function(_,A){k.sendMessageToCallMachine({action:"test-network-connectivity"},function(P){P.error?A(P.error):_(P.results)})})}),function(g){return l.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise(function(k){g._callState===$s?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(_){k(_.cpuStats)}):k({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var k;if(!(((k=Object.keys(g))===null||k===void 0?void 0:k.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(pm))}},{key:"_validateVideoSendSettings",value:function(g,k){var _=g==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],A="Video send settings should be either an object or one of the supported presets: ".concat(_.join());if(typeof k=="string"){if(!_.includes(k))throw new Error(A)}else{if(Ce(k)!=="object")throw new Error(A);if(!k.maxQuality&&!k.encodings&&k.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(k.maxQuality&&["low","medium","high"].indexOf(k.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(k.encodings){var P=!1;switch(Object.keys(k.encodings).length){case 1:P=!k.encodings.low;break;case 2:P=!k.encodings.low||!k.encodings.medium;break;case 3:P=!k.encodings.low||!k.encodings.medium||!k.encodings.high;break;default:P=!0}if(P)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");k.encodings.low&&this._validateEncodingLayerHasValidProperties(k.encodings.low),k.encodings.medium&&this._validateEncodingLayerHasValidProperties(k.encodings.medium),k.encodings.high&&this._validateEncodingLayerHasValidProperties(k.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var k=this;if(!g||Object.keys(g).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(g).forEach(function(_){var A=Ut(_,2),P=A[0],D=A[1];k._validateVideoSendSettings(P,D)})}},{key:"updateSendSettings",value:function(g){var k=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(_,A){k.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},function(P){P.error?A(P.error):_(P.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return ke(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return ke(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return ke(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return $e(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(a=me(function*(){var g=this;if(this._callObjectMode){var k=yield navigator.mediaDevices.enumerateDevices();return uo()==="Firefox"&&Oh().major>115&&Oh().major<123&&(k=k.filter(function(_){return _.kind!=="audiooutput"})),{devices:k.map(function(_){var A=JSON.parse(JSON.stringify(_));if(!Te()&&_.kind==="videoinput"&&_.getCapabilities){var P,D=_.getCapabilities();A.facing=(D==null||(P=D.facingMode)===null||P===void 0?void 0:P.length)>=1?D.facingMode[0]:void 0}return A})}}return new Promise(function(_){g.sendMessageToCallMachine({action:"enumerate-devices"},function(A){_({devices:A.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if($e(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:k}),this}},{key:"addFakeParticipant",value:function(g){return ke(),$e(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(le({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return fn(this._callObjectMode,"setShowNamesMode()"),ke(),g&&g!=="always"&&g!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this)}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fn(this._callObjectMode,"setShowLocalVideo()"),ke(),$e(this._callState,"setShowLocalVideo()"),typeof g!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g,this)}},{key:"showLocalVideo",value:function(){return fn(this._callObjectMode,"showLocalVideo()"),ke(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fn(this._callObjectMode,"setShowParticipantsBar()"),ke(),$e(this._callState,"setShowParticipantsBar()"),typeof g!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g,this)}},{key:"showParticipantsBar",value:function(){return fn(this._callObjectMode,"showParticipantsBar()"),ke(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return ke(),fn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return ke(),fn(this._callObjectMode,"setCustomIntegrations()"),$e(this._callState,"setCustomIntegrations()"),qO(g)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g,this):this}},{key:"startCustomIntegrations",value:function(g){var k=this;if(ke(),fn(this._callObjectMode,"startCustomIntegrations()"),$e(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some(function(P){return typeof P!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,A=_.filter(function(P){return!(P in k._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:_}),this)}},{key:"stopCustomIntegrations",value:function(g){var k=this;if(ke(),fn(this._callObjectMode,"stopCustomIntegrations()"),$e(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some(function(P){return typeof P!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,A=_.filter(function(P){return!(P in k._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:_}),this)}},{key:"customTrayButtons",value:function(){return fn(this._callObjectMode,"customTrayButtons()"),ke(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return fn(this._callObjectMode,"updateCustomTrayButtons()"),ke(),$e(this._callState,"updateCustomTrayButtons()"),zO(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Ih))),this)}},{key:"theme",value:function(){return fn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var k=this;return fn(this._callObjectMode,"setTheme()"),new Promise(function(_,A){try{k.validateProperties({theme:g}),k.properties.theme=le({},g),k.sendMessageToCallMachine({action:"set-theme",theme:k.properties.theme});try{k.emitDailyJSEvent({action:jN,theme:k.properties.theme})}catch(P){console.log("could not emit 'theme-updated'",P)}_(k.properties.theme)}catch(P){A(P)}})}},{key:"requestFullscreen",value:(o=me(function*(){if(ke(),this._iframe&&!document.fullscreenElement&&FE())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){ke(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=me(function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-sidebar-view"},function(_){k(_.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this)}},{key:"room",value:(s=me(function*(){var g=this,k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,_=k===void 0||k;return this._accessState.access===Td||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(A){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:_},function(P){delete P.action,delete P.callbackStamp,A(P)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=me(function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(k){return console.error("geo lookup failed",k),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=me(function*(g){var k=this;return ke(),$e(this._callState,"setNetworkTopology()"),new Promise(function(_,A){k.sendMessageToCallMachine({action:"set-network-topology",opts:g},function(P){P.error?A({error:P.error}):_({workerId:P.workerId})})})}),function(g){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=me(function*(){var g=this;return new Promise(function(k,_){g.needsLoad()&&k({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},function(A){A.error?_({error:A.error}):k({topology:A.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(ke(),typeof g!="number"&&g!==!0&&g!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,k){return Lu.prototype.on.call(this,g,k)}},{key:"once",value:function(g,k){return Lu.prototype.once.call(this,g,k)}},{key:"off",value:function(g,k){return Lu.prototype.off.call(this,g,k)}},{key:"validateProperties",value:function(g){var k,_;if(g!=null&&(k=g.dailyConfig)!==null&&k!==void 0&&k.userMediaAudioConstraints){var A,P;Te()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var D=g.inputSettings||{};D.audio=((A=g.inputSettings)===null||A===void 0?void 0:A.audio)||{},D.audio.settings=((P=g.inputSettings)===null||P===void 0||(P=P.audio)===null||P===void 0?void 0:P.settings)||{},D.audio.settings=le(le({},D.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=D,delete g.dailyConfig.userMediaAudioConstraints}if(g!=null&&(_=g.dailyConfig)!==null&&_!==void 0&&_.userMediaVideoConstraints){var O,L;Te()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var z=g.inputSettings||{};z.video=((O=g.inputSettings)===null||O===void 0?void 0:O.video)||{},z.video.settings=((L=g.inputSettings)===null||L===void 0||(L=L.video)===null||L===void 0?void 0:L.settings)||{},z.video.settings=le(le({},z.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=z,delete g.dailyConfig.userMediaVideoConstraints}for(var Y in g)if(ki[Y]){if(ki[Y].validate&&!ki[Y].validate(g[Y],this))throw new Error("property '".concat(Y,"': ").concat(ki[Y].help))}else console.warn("Ignoring unrecognized property '".concat(Y,"'")),delete g[Y]}},{key:"assembleMeetingUrl",value:function(){var g,k,_=le(le({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(g=this.properties.dailyConfig)!==null&&g!==void 0&&g.proxyUrl?encodeURIComponent((k=this.properties.dailyConfig)===null||k===void 0?void 0:k.proxyUrl):void 0}),A=_.url.match(/\?/)?"&":"?";return _.url+A+Object.keys(ki).filter(function(P){return ki[P].queryString&&_[P]!==void 0}).map(function(P){return"".concat(ki[P].queryString,"=").concat(_[P])}).join("&")}},{key:"needsLoad",value:function(){return[Nv,RE,As,Kr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,k){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,k,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case TN:this.sendMessageToCallMachine(le({action:CN},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var k={action:Wu,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:kh(this.properties.dailyConfig)}};this.sendMessageToCallMachine(k),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case Rv:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case IN:var _,A=le({},g);delete A.internal,this._maxAppMessageSize=((_=g.internal)===null||_===void 0?void 0:_._maxAppMessageSize)||lm,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(A);break;case DN:case LN:if(this._callState===As)return;if(g.participant&&g.participant.session_id){var P=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var D=this._callMachine().store;HE(g.participant,D),GE(g.participant,D),KE(g.participant,this._participants[P],D)}try{this.maybeParticipantTracksStopped(this._participants[P],g.participant),this.maybeParticipantTracksStarted(this._participants[P],g.participant),this.maybeEventRecordingStopped(this._participants[P],g.participant),this.maybeEventRecordingStarted(this._participants[P],g.participant)}catch(rn){console.error("track events error",rn)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[P])||(this._participants[P]=le({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case $N:if(g.participant&&g.participant.session_id){var O=this._participants[g.participant.session_id];O&&this.maybeParticipantTracksStopped(O,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case FN:Gt(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case VN:var L={access:g.access};g.awaitingAccess&&(L.awaitingAccess=g.awaitingAccess),Gt(this._accessState,L)||(this._accessState=L,this.emitDailyJSEvent(g));break;case UN:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var z=le(le({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(z)}break;case $v:var Y;this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(Kr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var ce=j_(g,D6);ce!=null&&(Y=ce.error)!==null&&Y!==void 0&&Y.details&&(ce.error.details=JSON.parse(ce.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,ce),this._joinedCallback=null),this.emitDailyJSEvent(ce);break;case MN:this._callState!==Kr&&this._updateCallState(As),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case dO:var Be=g.state,wt=g.threshold,Et=g.quality,Re=Be.state,lt=Be.reasons;Re===this._network.networkState&&Gt(lt,this._network.networkStateReasons)&&wt===this._network.threshold&&Et===this._network.quality||(this._network.networkState=Re,this._network.networkStateReasons=lt,this._network.quality=Et,this._network.threshold=wt,g.networkState=Re,lt.length&&(g.networkStateReasons=lt),delete g.state,this.emitDailyJSEvent(g));break;case fO:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case pO:g&&g.faceCounts!==void 0&&this.emitDailyJSEvent(g);break;case cO:var Ot=g.activeSpeaker;this._activeSpeaker.peerId!==Ot.peerId&&(this._activeSpeaker.peerId=Ot.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var ue=g.show;this._showLocalVideo=ue,this.emitDailyJSEvent({action:g.action,show:ue});break;case uO:var se=g.enabled;this._activeSpeakerMode!==se&&(this._activeSpeakerMode=se,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case zN:case qN:case WN:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case bO:Gt(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case Dv:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":Gt(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case rO:var st=g.session_id;this._rmpPlayerState[st]=g.playerState,this.emitDailyJSEvent(g);break;case iO:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case sO:var hn=g.session_id,au=this._rmpPlayerState[hn];au&&this.compareEqualForRMPUpdateEvent(au,g.remoteMediaPlayerState)||(this._rmpPlayerState[hn]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case BN:var Xf=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=vm(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||Xf)&&this.emitDailyJSEvent(g);break;case oO:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case aO:case lO:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case Iv:case Mv:case QN:case XN:case ZN:case KN:case JN:case YN:case NN:case ON:case tO:case nO:case"test-completed":case hO:case eO:case mO:case gO:case vO:case yO:case Lv:case wO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,k){var _="record";g&&(k.local||k[_]!==!1||g[_]===k[_]||this.emitDailyJSEvent({action:Mv}))}},{key:"maybeEventRecordingStarted",value:function(g,k){var _="record";g&&(k.local||k[_]!==!0||g[_]===k[_]||this.emitDailyJSEvent({action:Iv}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==xN)}},{key:"_trackChanged",value:function(g,k){return(g==null?void 0:g.id)!==(k==null?void 0:k.id)}},{key:"maybeEventTrackStopped",value:function(g,k,_){var A,P,D=(A=k==null?void 0:k.tracks[g])!==null&&A!==void 0?A:null,O=(P=_==null?void 0:_.tracks[g])!==null&&P!==void 0?P:null,L=D==null?void 0:D.track;if(L){var z=this._trackStatePlayable(D),Y=this._trackStatePlayable(O),ce=this._trackChanged(L,O==null?void 0:O.track);z&&(Y&&!ce||this.emitDailyJSEvent({action:GN,track:L,participant:_??k,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,k,_){var A,P,D=(A=k==null?void 0:k.tracks[g])!==null&&A!==void 0?A:null,O=(P=_==null?void 0:_.tracks[g])!==null&&P!==void 0?P:null,L=O==null?void 0:O.track;if(L){var z=this._trackStatePlayable(D),Y=this._trackStatePlayable(O),ce=this._trackChanged(D==null?void 0:D.track,L);Y&&(z&&!ce||this.emitDailyJSEvent({action:HN,track:L,participant:_,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,k){if(g)for(var _ in g.tracks)this.maybeEventTrackStopped(_,g,k)}},{key:"maybeParticipantTracksStarted",value:function(g,k){if(k)for(var _ in k.tracks)this.maybeEventTrackStarted(_,g,k)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,k){var _,A;return g.state===k.state&&((_=g.settings)===null||_===void 0?void 0:_.volume)===((A=k.settings)===null||A===void 0?void 0:A.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(k){console.log("could not emit",g,k)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,k){return!!Gt(g,k)&&(!g.videoTrack||!k.videoTrack||g.videoTrack.id===k.videoTrack.id&&g.videoTrack.muted===k.videoTrack.muted&&g.videoTrack.enabled===k.videoTrack.enabled)&&(!g.audioTrack||!k.audioTrack||g.audioTrack.id===k.audioTrack.id&&g.audioTrack.muted===k.audioTrack.muted&&g.audioTrack.enabled===k.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Te()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||k!==this._isPreparingToJoin){var _=this._callState,A=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=k;var P=this._callState===$s;this.updateShowAndroidOngoingMeetingNotification(P);var D=jd(_,A),O=jd(this._callState,this._isPreparingToJoin);D!==O&&(this.updateKeepDeviceAwake(O),this.updateDeviceAudioMode(O),this.updateNoOpRecordingEnsuringBackgroundContinuity(O))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=o1,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Td},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=vm(i1,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=lm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){Te()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(Te()&&!this.disableReactNativeAutoDeviceManagement("audio")){var k=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(k)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(Te()&&this.nativeUtils().setShowOngoingMeetingNotification){var k,_,A,P;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var D=this.properties.reactNativeConfig.androidInCallNotification;k=D.title,_=D.subtitle,A=D.iconName,P=D.disableForCustomOverride}P&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,k,_,A,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){Te()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(Te()){var k=(g=this._callMachine())===null||g===void 0||(g=g.store)===null||g===void 0?void 0:g.getState();for(var _ in k==null?void 0:k.streams){var A=k.streams[_];A&&A.pendingTrack&&A.pendingTrack.kind==="audio"&&(A.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(g!==void 0){var k=document.createElement("a");return k.href=g,k.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(Ei)[0];if(this.needsLoad())if(g&&!g.needsLoad()){var k={action:Wu,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(k)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var _={action:Wu,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(_,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,k=Object.values(Ei);g<k.length;g++){var _=k[g];_._callMachineInitialized?(_.sendMessageToCallMachine({action:Wu,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),_._delayDuplicateInstanceLog=!1):_._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){var k,_,A,P;if(!((k=g.error)!==null&&k!==void 0&&k.type&&(![kN,EN,Ov].includes(g.error.type)||g.error.type===Ov&&g.error.msg.includes("deleted")))){var D=(_=this.properties)!==null&&_!==void 0&&_.url?new URL(this.properties.url):void 0,O="production";D&&D.host.includes(".staging.daily")&&(O="staging");var L,z,Y,ce,Be,wt=function(st){const hn=[i8(),r8(),N8(),P8(),D8(),$8(),c8(),L8()];return st.autoSessionTracking!==!1&&hn.push(M8()),hn}({}).filter(function(st){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(st.name)}),Et=new v8({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:S8,stackParser:j8,integrations:wt,environment:O}),Re=new hi;if(Re.setClient(Et),Et.init(),this.session_id&&Re.setExtra("sessionId",this.session_id),this.properties){var lt=le({},this.properties);lt.userName=lt.userName?"[Filtered]":void 0,lt.userData=lt.userData?"[Filtered]":void 0,lt.token=lt.token?"[Filtered]":void 0,Re.setExtra("properties",lt)}if(D){var Ot=D.searchParams.get("domain");if(!Ot){var ue=D.host.match(/(.*?)\./);Ot=ue&&ue[1]||""}Ot&&Re.setTag("domain",Ot)}g.error&&(Re.setTag("fatalErrorType",g.error.type),Re.setExtra("errorDetails",g.error.details),!((L=g.error.details)===null||L===void 0)&&L.uri&&Re.setTag("serverAddress",g.error.details.uri),!((z=g.error.details)===null||z===void 0)&&z.workerGroup&&Re.setTag("workerGroup",g.error.details.workerGroup),!((Y=g.error.details)===null||Y===void 0)&&Y.geoGroup&&Re.setTag("geoGroup",g.error.details.geoGroup),!((ce=g.error.details)===null||ce===void 0)&&ce.on&&Re.setTag("connectionAttempt",g.error.details.on),(Be=g.error.details)!==null&&Be!==void 0&&Be.bundleUrl&&(Re.setTag("bundleUrl",g.error.details.bundleUrl),Re.setTag("bundleError",g.error.details.sourceError.type))),Re.setTags({callMode:this._callObjectMode?Te()?"reactNative":(A=this.properties)!==null&&A!==void 0&&(A=A.dailyConfig)!==null&&A!==void 0&&(A=A.callMode)!==null&&A!==void 0&&A.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var se=((P=g.error)===null||P===void 0?void 0:P.msg)||g.errorMsg;Re.captureException(new Error(se))}}},{key:"_callMachine",value:function(){var g;return(g=window._daily)===null||g===void 0||(g=g.instances)===null||g===void 0||(g=g[this.callClientId])===null||g===void 0?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!Gt(this._inputSettings,g)){var k=this._getInputSettings();this._inputSettings=g;var _=this._getInputSettings();Gt(k,_)||this.emitDailyJSEvent({action:Dv,inputSettings:_})}}}],[{key:"supportedBrowser",value:function(){if(Te())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=kW.getParser(zn());return{supported:!!dm(),mobile:g.getPlatformType()==="mobile",name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!FE(),supportsScreenShare:!!d6(),supportsSfu:!!dm(),supportsVideoProcessing:_O(),supportsAudioProcessing:EO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.layout="none",new e(null,g)}},{key:"wrap",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ke(),!g||!g.contentWindow||typeof g.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return k.layout||(k.customLayout?k.layout="custom-v1":k.layout="browser"),new e(g,k)}},{key:"createFrame",value:function(g,k){var _,A;ke(),g&&k?(_=g,A=k):g&&g.append?(_=g,A={}):(_=document.body,A=g||{});var P=A.iframeStyle;P||(P=_===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var D=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?D.allow="microphone, camera":D.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",D.style.visibility="hidden",_.appendChild(D),D.style.visibility=null,Object.keys(P).forEach(function(O){return D.style[O]=P[O]}),A.layout||(A.customLayout?A.layout="custom-v1":A.layout="browser");try{return new e(D,A)}catch(O){throw _.removeChild(D),O}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ke();var k=document.createElement("iframe");return k.allow="microphone; camera; autoplay",k.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(k),g.layout||(g.layout="custom-v1"),e.wrap(k,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return g?Ei[g]:Object.values(Ei)[0]}}]);var t,n,r,s,i,o,a,l,c,d,h,f,m,b,p,x,y,w,S,E,T,C,j,N,M,I,R,F,W,V,Q,X,Z,$,U,J,G,re}();function c1(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Eo(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=ss;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function $e(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==$s){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function jd(e,t){return[Nh,$s].includes(e)||t}function mm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(jd(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function Ku(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function gm(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Zn(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function fn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function ke(){if(Te())throw new Error("This daily-js method is not currently supported in React Native")}function xl(){if(!Te())throw new Error("This daily-js method is only supported in React Native")}function LO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Gt(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function $O(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var l=Ut(a[o],2),c=l[0],d=l[1];if(!r(c)||!i(d))return!1}return!0}function FO(e){if(Ce(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ut(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Ce(i)!=="object")return!1;for(var o=0,a=Object.entries(i);o<a.length;o++){var l=Ut(a[o],2),c=l[0],d=l[1];switch(c){case"processor":if(!V6(d))return!1;break;case"settings":if(!u1(d))return!1;break;default:return!1}}break;case"audio":if(Ce(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Ut(f[h],2),b=m[0],p=m[1];switch(b){case"processor":if(!F6(p))return!1;break;case"settings":if(!u1(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function VO(e,t,n){var r,s=[];e.video&&e.video.processor&&(_O((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(EO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:ss}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:ss}):delete n.videoTrack)}function F6(e){if(Te())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Ce(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(xO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function V6(e){if(Te())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Ce(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Cd).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Ce(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Cd.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Cd.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Th(o.source))return o.type="url",!!function(c){var d=new URL(c),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return um.includes(f)}catch(b){return console.error("failed to deduce blob content type",b),!1}var m=h.split(".").at(-1).toLowerCase().trim();return um.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(um.join(", "),"]")),!1);return a=o.source,l=Number(a),isNaN(l)||!Number.isInteger(l)||l<=0||l>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var a,l}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function u1(e){return Ce(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function Wv(){var e=Object.values(Cd).join(" | "),t=Object.values(xO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function UO(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(_N).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function BO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(qv),".")}function zO(e){if(e&&Ce(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Ih),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Ut(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=Ut(i[s],2),a=o[0],l=o[1],c=Ih.id[a];if(!c)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Th(l))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(a," should be ").concat(c,". Got: ").concat(l)),!1;break;default:if(Ce(l)!==c)return console.error("customTrayButton ".concat(a," should be a ").concat(c,".")),!1}}return!0}function qO(e){if(!e||e&&Ce(e)!=="object"||Array.isArray(e))return console.error(BO()),!1;for(var t=function(h){return"".concat(h," should be ").concat(qv.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,s=Object.entries(e);r<s.length;r++){var i=Ut(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[i]);o<a.length;o++){var l=Ut(a[o],2),c=l[0],d=l[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(c)),!1;break;case"iconURL":if(!Th(d))return n(i,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!Th(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(c)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(c)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(c)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(c)),!1;break;default:if(!qv.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function WO(e,t){if(t===void 0)return!1;switch(Ce(t)){case"string":return Ce(e)===t;case"object":if(Ce(e)!=="object")return!1;for(var n in e)if(!WO(e[n],t[n]))return!1;return!0;default:return!1}}function d1(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function h1(e){if(Ce(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Fv).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Fv));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function f1(e,t,n){return!(typeof e!="number"||e<t||e>n)}function vm(e,t){return e&&!t&&delete e.data,e}const U6=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:SN,DAILY_ACCESS_LEVEL_LOBBY:q8,DAILY_ACCESS_LEVEL_NONE:W8,DAILY_ACCESS_UNKNOWN:Td,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:n6,DAILY_CAMERA_ERROR_CAM_IN_USE:e6,DAILY_CAMERA_ERROR_CONSTRAINTS:o6,DAILY_CAMERA_ERROR_MIC_IN_USE:t6,DAILY_CAMERA_ERROR_NOT_FOUND:i6,DAILY_CAMERA_ERROR_PERMISSIONS:r6,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:s6,DAILY_CAMERA_ERROR_UNKNOWN:a6,DAILY_EVENT_ACCESS_STATE_UPDATED:VN,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:cO,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:uO,DAILY_EVENT_APP_MSG:tO,DAILY_EVENT_CAMERA_ERROR:ON,DAILY_EVENT_CPU_LOAD_CHANGE:fO,DAILY_EVENT_ERROR:$v,DAILY_EVENT_EXIT_FULLSCREEN:Al,DAILY_EVENT_FACE_COUNTS_UPDATED:pO,DAILY_EVENT_FULLSCREEN:Pl,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:CN,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:TN,DAILY_EVENT_INPUT_SETTINGS_UPDATED:Dv,DAILY_EVENT_JOINED_MEETING:IN,DAILY_EVENT_JOINING_MEETING:RN,DAILY_EVENT_LANG_UPDATED:wO,DAILY_EVENT_LEFT_MEETING:MN,DAILY_EVENT_LIVE_STREAMING_ERROR:yO,DAILY_EVENT_LIVE_STREAMING_STARTED:mO,DAILY_EVENT_LIVE_STREAMING_STOPPED:vO,DAILY_EVENT_LIVE_STREAMING_UPDATED:gO,DAILY_EVENT_LOADED:Rv,DAILY_EVENT_LOADING:PN,DAILY_EVENT_LOAD_ATTEMPT_FAILED:AN,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:lO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:oO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:aO,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:l6,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:BN,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:UN,DAILY_EVENT_NETWORK_CONNECTION:hO,DAILY_EVENT_NETWORK_QUALITY_CHANGE:dO,DAILY_EVENT_NONFATAL_ERROR:Lv,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:FN,DAILY_EVENT_PARTICIPANT_JOINED:DN,DAILY_EVENT_PARTICIPANT_LEFT:$N,DAILY_EVENT_PARTICIPANT_UPDATED:LN,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:bO,DAILY_EVENT_RECORDING_DATA:eO,DAILY_EVENT_RECORDING_ERROR:XN,DAILY_EVENT_RECORDING_STARTED:Iv,DAILY_EVENT_RECORDING_STATS:QN,DAILY_EVENT_RECORDING_STOPPED:Mv,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:ZN,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:rO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:iO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:sO,DAILY_EVENT_STARTED_CAMERA:NN,DAILY_EVENT_THEME_UPDATED:jN,DAILY_EVENT_TRACK_STARTED:HN,DAILY_EVENT_TRACK_STOPPED:GN,DAILY_EVENT_TRANSCRIPTION_ERROR:YN,DAILY_EVENT_TRANSCRIPTION_MSG:nO,DAILY_EVENT_TRANSCRIPTION_STARTED:KN,DAILY_EVENT_TRANSCRIPTION_STOPPED:JN,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:zN,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:WN,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:qN,DAILY_FATAL_ERROR_CONNECTION:kN,DAILY_FATAL_ERROR_EJECTED:G8,DAILY_FATAL_ERROR_EOL:EN,DAILY_FATAL_ERROR_EXP_ROOM:Y8,DAILY_FATAL_ERROR_EXP_TOKEN:Q8,DAILY_FATAL_ERROR_MEETING_FULL:X8,DAILY_FATAL_ERROR_NBF_ROOM:K8,DAILY_FATAL_ERROR_NBF_TOKEN:J8,DAILY_FATAL_ERROR_NOT_ALLOWED:Z8,DAILY_FATAL_ERROR_NO_ROOM:Ov,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:H8,DAILY_RECEIVE_SETTINGS_BASE_KEY:_N,DAILY_STATE_ERROR:Kr,DAILY_STATE_JOINED:$s,DAILY_STATE_JOINING:Nh,DAILY_STATE_LEFT:As,DAILY_STATE_NEW:Nv,DAILY_TRACK_STATE_BLOCKED:F8,DAILY_TRACK_STATE_INTERRUPTED:z8,DAILY_TRACK_STATE_LOADING:B8,DAILY_TRACK_STATE_OFF:V8,DAILY_TRACK_STATE_PLAYABLE:xN,DAILY_TRACK_STATE_SENDABLE:U8,default:$6},Symbol.toStringTag,{value:"Module"})),B6=iD(U6);var O0={exports:{}},ha=typeof Reflect=="object"?Reflect:null,p1=ha&&typeof ha.apply=="function"?ha.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Pd;ha&&typeof ha.ownKeys=="function"?Pd=ha.ownKeys:Object.getOwnPropertySymbols?Pd=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Pd=function(t){return Object.getOwnPropertyNames(t)};function z6(e){console&&console.warn&&console.warn(e)}var HO=Number.isNaN||function(t){return t!==t};function De(){De.init.call(this)}O0.exports=De;O0.exports.once=G6;De.EventEmitter=De;De.prototype._events=void 0;De.prototype._eventsCount=0;De.prototype._maxListeners=void 0;var m1=10;function Ff(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(De,"defaultMaxListeners",{enumerable:!0,get:function(){return m1},set:function(e){if(typeof e!="number"||e<0||HO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");m1=e}});De.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};De.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||HO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function GO(e){return e._maxListeners===void 0?De.defaultMaxListeners:e._maxListeners}De.prototype.getMaxListeners=function(){return GO(this)};De.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[t];if(l===void 0)return!1;if(typeof l=="function")p1(l,this,n);else for(var c=l.length,d=XO(l,c),r=0;r<c;++r)p1(d[r],this,n);return!0};function KO(e,t,n,r){var s,i,o;if(Ff(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=GO(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,z6(a)}return e}De.prototype.addListener=function(t,n){return KO(this,t,n,!1)};De.prototype.on=De.prototype.addListener;De.prototype.prependListener=function(t,n){return KO(this,t,n,!0)};function q6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function JO(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=q6.bind(r);return s.listener=n,r.wrapFn=s,s}De.prototype.once=function(t,n){return Ff(n),this.on(t,JO(this,t,n)),this};De.prototype.prependOnceListener=function(t,n){return Ff(n),this.prependListener(t,JO(this,t,n)),this};De.prototype.removeListener=function(t,n){var r,s,i,o,a;if(Ff(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():W6(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};De.prototype.off=De.prototype.removeListener;De.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function YO(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?H6(s):XO(s,s.length)}De.prototype.listeners=function(t){return YO(this,t,!0)};De.prototype.rawListeners=function(t){return YO(this,t,!1)};De.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):QO.call(e,t)};De.prototype.listenerCount=QO;function QO(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}De.prototype.eventNames=function(){return this._eventsCount>0?Pd(this._events):[]};function XO(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function W6(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function H6(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function G6(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}ZO(e,t,i,{once:!0}),t!=="error"&&K6(e,s,{once:!0})})}function K6(e,t,n){typeof e.on=="function"&&ZO(e,"error",t,n)}function ZO(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var J6=O0.exports,Vf={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.Api=si.HttpClient=si.ContentType=void 0;var ee;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(ee||(si.ContentType=ee={}));class eR{constructor(t={}){ye(this,"baseUrl","https://api.vapi.ai");ye(this,"securityData",null);ye(this,"securityWorker");ye(this,"abortControllers",new Map);ye(this,"customFetch",(...t)=>fetch(...t));ye(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});ye(this,"setSecurityData",t=>{this.securityData=t});ye(this,"contentFormatters",{[ee.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ee.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ee.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[ee.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[ee.UrlEncoded]:t=>this.toQueryString(t)});ye(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});ye(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});ye(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:a,cancelToken:l,...c})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(c,d),f=i&&this.toQueryString(i),m=this.contentFormatters[s||ee.Json],b=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==ee.FormData?{"Content-Type":s}:{}},signal:(l?this.createAbortSignal(l):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const x=p;x.data=null,x.error=null;const y=b?p.clone():p,w=b?await y[b]().then(S=>(x.ok?x.data=S:x.error=S,x)).catch(S=>(x.error=S,x)):x;if(l&&this.abortControllers.delete(l),!p.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}si.HttpClient=eR;class Y6 extends eR{constructor(){super(...arguments);ye(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:ee.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});ye(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});ye(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s})});ye(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:ee.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});ye(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});ye(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:ee.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:ee.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:ee.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});ye(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:ee.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:ee.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});ye(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});ye(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:ee.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});ye(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});ye(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:ee.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:ee.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});ye(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});ye(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:ee.Json,...r})});ye(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s})});ye(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:ee.FormData,...r})});ye(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})})}}si.Api=Y6;Object.defineProperty(Vf,"__esModule",{value:!0});Vf.client=void 0;const Q6=si,X6=new Q6.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});Vf.client=X6;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.createSafeDailyConfig=Z6;ol.safeSetLocalAudio=eH;ol.safeSetInputDevicesAsync=tH;ol.createSafeDailyFactoryOptions=nH;function Z6(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function eH(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function tH(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function nH(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var tR=db&&db.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nN,"__esModule",{value:!0});const ym=tR(B6),rH=tR(J6),wm=Vf,Ti=ol;function zt(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function sH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function g1(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await sH(n,e),n}function v1(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function y1(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class iH extends rH.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class oH extends iH{constructor(n,r,s,i){super();ye(this,"started",!1);ye(this,"call",null);ye(this,"speakingTimeout",null);ye(this,"dailyCallConfig",{});ye(this,"dailyCallObject",{});ye(this,"hasEmittedCallEndedStatus",!1);wm.client.baseUrl=r??"https://api.vapi.ai",wm.client.setSecurityData(n),this.dailyCallConfig=(0,Ti.createSafeDailyConfig)(s),this.dailyCallObject=(0,Ti.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,a){var c,d,h,f,m,b,p;const l=Date.now();if(!n&&!s&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:zt(x),timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),y=(await wm.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:a==null?void 0:a.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((c=y==null?void 0:y.artifactPlan)==null?void 0:c.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,E=((b=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:b.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:E}});const T=Date.now();try{this.call=ym.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const R=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const F=Date.now()-T,W=zt(R);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:W,timestamp:new Date().toISOString()}),R}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var R;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((R=this.call)==null||R.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",R=>{var F;this.emit("error",{type:"daily-error",error:zt(R),timestamp:new Date().toISOString()}),S&&((F=this.call)==null||F.stopRecording())}),this.call.on("camera-error",R=>{this.emit("camera-error",{type:"camera-error",error:zt(R),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",R=>{this.emit("network-quality-change",R)}),this.call.on("network-connection",R=>{this.emit("network-connection",R)}),this.call.on("track-started",async R=>{var F,W,V;!R||!R.participant||(F=R.participant)!=null&&F.local||((W=R.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(R.track.kind==="video"&&this.emit("video",R.track),R.track.kind==="audio"&&await g1(R.track,R.participant.session_id),(V=this.call)==null||V.sendAppMessage("playable"))}),this.call.on("participant-joined",R=>{!R||!this.call||y1(R,this.call,S,E)}),this.call.on("participant-updated",R=>{R&&this.emit("daily-participant-updated",R.participant)}),this.call.on("participant-left",R=>{R&&v1(R.participant.session_id)});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const R=Date.now();await this.sleep(1e3);const F=Date.now()-R;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:F,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const j=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const R=Date.now()-j;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const F=Date.now()-j,W=zt(R);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:W,duration:F,timestamp:new Date().toISOString()}),R}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const R=new Date().getTime(),F=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-F;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const V=(new Date().getTime()-R)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:V}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:V})})}catch(W){const V=Date.now()-F,Q=zt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:V,timestamp:new Date().toISOString(),metadata:{error:Q.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:Q,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const R=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const F=Date.now()-N,W=zt(R);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:W,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",R=>{R&&this.handleRemoteParticipantsAudioLevel(R)}),this.call.on("app-message",R=>this.onAppMessage(R)),this.call.on("nonfatal-error",R=>{var F;(R==null?void 0:R.type)==="audio-processor-error"&&((F=this.call)==null||F.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ti.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const M=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const R=Date.now()-M;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const F=Date.now()-M,W=zt(R);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:W,timestamp:new Date().toISOString()})}const I=Date.now()-l;return this.emit("call-start-success",{totalDuration:I,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(x){const y=Date.now()-l,w=zt(x);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Ti.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Ti.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const a=s.createMediaStreamDestination();o.connect(a);const[l]=a.stream.getAudioTracks();await(0,Ti.safeSetInputDevicesAsync)(this.call,{audioSource:l})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,a,l,c,d,h,f,m,b,p,x;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((a=n==null?void 0:n.artifactPlan)==null?void 0:a.videoRecordingEnabled)??!1,w=((c=(l=n==null?void 0:n.assistant)==null?void 0:l.voice)==null?void 0:c.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:w}});const S=Date.now();this.call=ym.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const E=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var R;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((R=this.call)==null||R.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",R=>{var F;this.emit("error",{type:"daily-error",error:zt(R),timestamp:new Date().toISOString()}),y&&((F=this.call)==null||F.stopRecording())}),this.call.on("camera-error",R=>{this.emit("camera-error",{type:"camera-error",error:zt(R),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",R=>{this.emit("network-quality-change",R)}),this.call.on("network-connection",R=>{this.emit("network-connection",R)}),this.call.on("track-started",async R=>{var F,W,V;!R||!R.participant||(F=R.participant)!=null&&F.local||((W=R.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(R.track.kind==="video"&&this.emit("video",R.track),R.track.kind==="audio"&&await g1(R.track,R.participant.session_id),(V=this.call)==null||V.sendAppMessage("playable"))}),this.call.on("participant-joined",R=>{!R||!this.call||y1(R,this.call,y,w)}),this.call.on("participant-updated",R=>{R&&this.emit("daily-participant-updated",R.participant)}),this.call.on("participant-left",R=>{R&&v1(R.participant.session_id)}),this.call.on("remote-participants-audio-level",R=>{R&&this.handleRemoteParticipantsAudioLevel(R)}),this.call.on("app-message",R=>this.onAppMessage(R)),this.call.on("nonfatal-error",R=>{var F;(R==null?void 0:R.type)==="audio-processor-error"&&((F=this.call)==null||F.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ti.safeSetLocalAudio)(this.call,!0)}))});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const R=Date.now();await this.sleep(1e3);const F=Date.now()-R;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:F,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const j=Date.now()-C;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:j,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const R=Date.now(),F=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-R;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const V=(new Date().getTime()-F)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:V}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:V})})}catch(W){const V=Date.now()-R,Q=zt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:V,timestamp:new Date().toISOString(),metadata:{error:Q.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const R=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const F=Date.now()-N,W=zt(R);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:W.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const M=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const R=Date.now()-M;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const F=Date.now()-M,W=zt(R);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:W.message}})}const I=Date.now()-r;this.emit("call-start-success",{totalDuration:I,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const w=Date.now()-r,S=zt(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((b=n==null?void 0:n.artifactPlan)!=null&&b.videoRecordingEnabled),voiceProvider:((x=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=ym.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var aH=nN.default=oH;const lH=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function cH(e={}){const[t,n]=v.useState("idle"),[r,s]=v.useState([]),[i,o]=v.useState(!1),[a,l]=v.useState(0),c=v.useRef(null),d=v.useCallback(b=>{var p;n(b),(p=e.onStatusChange)==null||p.call(e,b)},[e]);v.useEffect(()=>{const b="4755e6d9-a32f-474b-a4e7-8d103fc571b5",p=new aH(b);return c.current=p,p.on("call-start",()=>{console.log("Vapi: Call started"),d("connected")}),p.on("call-end",()=>{var x;console.log("Vapi: Call ended"),d("ended"),(x=e.onCallEnd)==null||x.call(e,r)}),p.on("speech-start",()=>{d("speaking")}),p.on("speech-end",()=>{d("listening")}),p.on("message",x=>{if(x.type==="transcript"){const y={role:x.role,content:x.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(w=>{var S,E;if(x.transcriptType==="partial"&&w.length>0&&w[w.length-1].role===x.role){const T=[...w];return T[T.length-1]=y,(S=e.onTranscriptUpdate)==null||S.call(e,T),T}else if(x.transcriptType==="final"){const T=[...w,y];return(E=e.onTranscriptUpdate)==null||E.call(e,T),T}return w})}}),p.on("volume-level",x=>{l(x)}),p.on("error",x=>{var y;console.error("Vapi error:",x),d("error"),(y=e.onError)==null||y.call(e,new Error(x.message||"Vapi error"))}),()=>{p.stop()}},[]);const h=v.useCallback(async b=>{var p;if(!c.current){console.error("Vapi not initialized");return}d("connecting");try{await c.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:lH,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:b?`Hello ${b}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(x){console.error("Failed to start Vapi call:",x),d("error"),(p=e.onError)==null||p.call(e,x)}},[d,e]),f=v.useCallback(()=>{c.current&&(c.current.stop(),d("ended"))},[d]),m=v.useCallback(()=>{if(c.current){const b=!i;c.current.setMuted(b),o(b)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:a,startCall:h,endCall:f,toggleMute:m,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}const Ln=v.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ln.displayName="Input";var Or=function(){return Or=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Or.apply(this,arguments)};function al(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function uH(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function dH(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const hH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class R0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class fH extends R0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class w1 extends R0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class b1 extends R0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hv||(Hv={}));class pH{constructor(t,{headers:n={},customFetch:r,region:s=Hv.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=hH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return uH(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(f["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(f["Content-Type"]="application/json",p=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?p=JSON.stringify(c):p=c;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const y=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:p,signal:x}).catch(T=>{throw new fH(T)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new w1(y);if(!y.ok)throw new b1(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield y.json():S==="application/octet-stream"||S==="application/pdf"?E=yield y.blob():S==="text/event-stream"?E=y:S==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof b1||a instanceof w1?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var mH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},gH=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const p=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var b;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,d="OK")}catch{i.status===404&&p===""?(c=204,d="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&n.shouldThrowOnError)throw new mH(o)}return{error:o,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,d,h,f;const b=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",p=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${b}`,p&&(a+=` (${p})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},vH=class extends gH{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const x1=new RegExp("[,()]");var Io=class extends vH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&x1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&x1.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},yH=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Io({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Io({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Io({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Io({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Io({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},wH=class nR{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new nR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{l.searchParams.append(m,b)})):(a="POST",c=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Io({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class bH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xH="2.90.1",SH=`realtime-js/${xH}`,rR="1.0.0",_H="2.0.0",S1=rR,Gv=1e4,EH=1e3,kH=100;var Ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ms||(Ms={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ur||(ur={}));var Kv;(function(e){e.websocket="websocket"})(Kv||(Kv={}));var Ri;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ri||(Ri={}));class TH{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,l.length),b.setUint8(p++,a.length),b.setUint8(p++,o.length),b.setUint8(p++,c.length),b.setUint8(p++,h.length),b.setUint8(p++,n),Array.from(l,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(c,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(h,y=>b.setUint8(p++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+i));l=l+i;const h=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,b={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class sR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Fe||(Fe={}));const _1=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=CH(o,e,t,s),i),{}):{}},CH=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?iR(i,o):Jv(o)},iR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return NH(t,n)}switch(e){case Fe.bool:return jH(t);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return PH(t);case Fe.json:case Fe.jsonb:return AH(t);case Fe.timestamp:return OH(t);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Jv(t);default:return Jv(t)}},Jv=e=>e,jH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},PH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},NH=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>iR(t,a))}return e},OH=e=>typeof e=="string"?e.replace(" ","T"):e,oR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class bm{constructor(t,n,r={},s=Gv){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var E1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(E1||(E1={}));class Yl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Yl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);b.length>0&&(a[c]=b),p.length>0&&(l[c]=p)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(k1||(k1={}));var Ql;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ql||(Ql={}));var Xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xr||(Xr={}));class ea{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bm(this,ur.join,this.params,this.timeout),this.rejoinTimer=new sR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Yl(this),this.broadcastEndpointURL=oR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ql.PRESENCE]&&this.bindings[Ql.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Xr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Xr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Xr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,y=[];for(let w=0;w<x;w++){const S=p[w],{filter:{event:E,schema:T,table:C,filter:j}}=S,N=m&&m[w];if(N&&N.event===E&&ea.isFilterValueEqual(N.schema,T)&&ea.isFilterValueEqual(N.table,C)&&ea.isFilterValueEqual(N.filter,j))y.push(Object.assign(Object.assign({},S),{id:N.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(Xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Xr.SUBSCRIBED);return}}).receive("error",m=>{this.state=ft.errored,t==null||t(Xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ft.joined&&t===Ql.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new bm(this,ur.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kH){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=ur;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var b,p,x,y,w,S,E,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const C=m.id,j=(b=m.filter)===null||b===void 0?void 0:b.event;return C&&((p=n.ids)===null||p===void 0?void 0:p.includes(C))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((y=m.filter)===null||y===void 0)&&y.table)||m.filter.table===((w=n.data)===null||w===void 0?void 0:w.table))}else{const C=(E=(S=m==null?void 0:m.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:p,table:x,commit_timestamp:y,type:w,errors:S}=b;f=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(b))}m.callback(f,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ea.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ur.close,{},t)}_onError(t){this._on(ur.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=_1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=_1(t.columns,t.old_record)),n}}const xm=()=>{},Ju={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RH=[1e3,2e3,5e3,1e4],IH=1e4,MH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DH{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gv,this.transport=null,this.heartbeatIntervalMs=Ju.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xm,this.ref=0,this.reconnectTimer=null,this.vsn=S1,this.logger=xm,this.conn=null,this.sendBuffer=[],this.serializer=new TH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Kv.websocket}`,this.httpEndpoint=oR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Ri.Connecting;case Ms.open:return Ri.Open;case Ms.closing:return Ri.Closing;default:return Ri.Closed}}isConnected(){return this.connectionState()===Ri.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ea(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(EH,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ju.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ms.open||this.conn.readyState===Ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ur.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([MH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:SH};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ur.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ju.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,c,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Gv,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ju.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:xm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:S1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:b=>RH[b-1]||IH,this.vsn){case rR:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,p)=>p(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,p)=>p(JSON.parse(b));break;case _H:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Pc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function LH(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function $H(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function FH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=LH(e.baseUrl,r,s),l=await $H(e.auth),c=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!c.ok){const m=h?f:void 0,b=m==null?void 0:m.error;throw new Pc((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:c.status,headers:c.headers,data:f}}}}function Yu(e){return e.join("")}var VH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yu(e.namespace)}`}),!0}catch(t){if(t instanceof Pc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Pc&&n.status===409)return;throw n}}};function ko(e){return e.join("")}var UH=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ko(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Pc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Pc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},BH=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=FH({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new VH(this.client,t),this.tableOps=new UH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Uf=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var zH=class extends Uf{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yv=class extends Uf{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const I0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qH=()=>Response,Qv=e=>{if(Array.isArray(e))return e.map(n=>Qv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Qv(r)}),t},WH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HH=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function GH(e,t){if(Ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KH(e){var t=GH(e,"string");return Ac(t)=="symbol"?t:t+""}function JH(e,t,n){return(t=KH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){JH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Sm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},YH=async(e,t,n)=>{e instanceof await qH()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new zH(Sm(r),s,i))}).catch(r=>{t(new Yv(Sm(r),r))}):t(new Yv(Sm(e),e))},QH=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(WH(r)?(s.headers=he({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),he(he({},s),n))};async function iu(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,QH(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>YH(l,a,r))})}async function Nc(e,t,n,r){return iu(e,"GET",t,n,r)}async function or(e,t,n,r,s){return iu(e,"POST",t,r,s,n)}async function Xv(e,t,n,r,s){return iu(e,"PUT",t,r,s,n)}async function XH(e,t,n,r){return iu(e,"HEAD",t,he(he({},n),{},{noResolveJson:!0}),r)}async function M0(e,t,n,r,s){return iu(e,"DELETE",t,r,s,n)}var ZH=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};let aR;aR=Symbol.toStringTag;var e9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[aR]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZH(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}}};const t9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},C1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var n9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=I0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=he(he({},C1),r);let a=he(he({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=he(he({},a),r.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),h=await(e=="PUT"?Xv:or)(s.fetch,`${s.url}/object/${d}`,i,he({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=he({upsert:C1.upsert},r),d=he(he({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await Xv(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=he({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await or(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Uf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await or(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await or(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await or(r.fetch,`${r.url}/object/sign/${s}`,he({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await or(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>he(he({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Nc(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new e9(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Qv(await Nc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await XH(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Je(r)&&r instanceof Yv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await M0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=he(he(he({},t9),t),{},{prefix:e||""});return{data:await or(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=he({},e);return{data:await or(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const lR="2.90.1",cR={"X-Client-Info":`storage-js/${lR}`};var r9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=he(he({},cR),t),this.fetch=I0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Nc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Nc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await or(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Xv(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await M0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},s9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},cR),t),this.fetch=I0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await or(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Nc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await M0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!HH(e))throw new Uf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new BH({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const D0={"X-Client-Info":`storage-js/${lR}`,"Content-Type":"application/json"};var uR=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var _m=class extends uR{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},i9=class extends uR{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const L0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},j1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a9=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new _m(j1(i),r,o))}).catch(()=>{const i=r+"";t(new _m(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new _m(s.statusText||`HTTP ${r} error`,r,i))}}else t(new i9(j1(e),e))},l9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(o9(r)?(s.headers=he({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,he(he({},s),n)):s};async function c9(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,l9(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>a9(l,a,r))})}async function wn(e,t,n,r,s){return c9(e,"POST",t,r,s,n)}var u9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},D0),t),this.fetch=L0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await wn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await wn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}}},d9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},D0),t),this.fetch=L0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await wn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await wn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await wn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}},h9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=he(he({},D0),t),this.fetch=L0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await wn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}},f9=class extends h9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new p9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},p9=class extends u9{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new m9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},m9=class extends d9{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,he(he({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},g9=class extends r9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new n9(this.url,this.headers,e,this.fetch)}get vectors(){return new f9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new s9(this.url+"/iceberg",this.headers,this.fetch)}};const dR="2.90.1",Mo=30*1e3,Zv=3,Em=Zv*Mo,v9="http://localhost:9999",y9="supabase.auth.token",w9={"X-Client-Info":`gotrue-js/${dR}`},ey="X-Supabase-Api-Version",hR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x9=10*60*1e3;class Oc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class S9 extends Oc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _9(e){return oe(e)&&e.name==="AuthApiError"}class Ii extends Oc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class vs extends Oc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class mn extends vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E9(e){return oe(e)&&e.name==="AuthSessionMissingError"}class To extends vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qu extends vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xu extends vs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k9(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class P1 extends vs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class T9 extends vs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ty extends vs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function km(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class A1 extends vs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ny extends vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),N1=` 	
\r=`.split(""),C9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<N1.length;t+=1)e[N1[t].charCodeAt(0)]=-2;for(let t=0;t<Mh.length;t+=1)e[Mh[t].charCodeAt(0)]=t;return e})();function O1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Mh[r]),t.queuedBits-=6}}function fR(e,t,n){const r=C9[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function R1(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{A9(o,r,n)};for(let o=0;o<e.length;o+=1)fR(e.charCodeAt(o),s,i);return t.join("")}function j9(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function P9(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}j9(r,t)}}function A9(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function fa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)fR(e.charCodeAt(s),n,r);return new Uint8Array(t)}function N9(e){const t=[];return P9(e,n=>t.push(n)),new Uint8Array(t)}function Ui(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>O1(s,n,r)),O1(null,n,r),t.join("")}function O9(e){return Math.round(Date.now()/1e3)+e}function R9(){return Symbol("auth-callback")}const Ct=()=>typeof window<"u"&&typeof document<"u",Ci={tested:!1,writable:!1},pR=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ci.tested)return Ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ci.tested=!0,Ci.writable=!0}catch{Ci.tested=!0,Ci.writable=!1}return Ci.writable};function I9(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const mR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),M9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Do=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ji=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tt=async(e,t)=>{await e.removeItem(t)};class Bf{constructor(){this.promise=new Bf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bf.promiseConstructor=Promise;function Tm(e){const t=e.split(".");if(t.length!==3)throw new ny("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!b9.test(t[r]))throw new ny("JWT not in base64url format");return{header:JSON.parse(R1(t[0])),payload:JSON.parse(R1(t[1])),signature:fa(t[2]),raw:{header:t[0],payload:t[1]}}}async function D9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function L9(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function $9(e){return("0"+e.toString(16)).substr(-2)}function F9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,$9).join("")}async function V9(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function U9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await V9(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Co(e,t,n=!1){const r=F9();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Do(e,`${t}-code-verifier`,s);const i=await U9(r);return[i,r===i?"plain":"s256"]}const B9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function z9(e){const t=e.headers.get(ey);if(!t||!t.match(B9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function q9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function W9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(e){if(!H9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G9(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function I1(e){return JSON.parse(JSON.stringify(e))}const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K9=[502,503,504];async function M1(e){var t;if(!M9(e))throw new ty(Oi(e),0);if(K9.includes(e.status))throw new ty(Oi(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ii(Oi(i),i)}let r;const s=z9(e);if(s&&s.getTime()>=hR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new A1(Oi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new A1(Oi(n),e.status,n.weak_password.reasons);throw new S9(Oi(n),e.status||500,r)}const J9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function de(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ey]||(i[ey]=hR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Y9(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Y9(e,t,n,r,s,i){const o=J9(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new ty(Oi(l),0)}if(a.ok||await M1(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await M1(l)}}function er(e){var t;let n=null;Z9(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=O9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function D1(e){const t=er(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Q9(e){return{data:e,error:null}}function X9(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=al(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function L1(e){return e}function Z9(e){return e.access_token&&e.refresh_token&&e.expires_in}const jm=["global","local","others"];class eG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=mR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=jm[0]){if(jm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jm.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=al(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:X9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fs})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:L1});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(oe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){jo(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fs})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){jo(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){jo(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){jo(t.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){jo(t.userId),jo(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:L1});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(oe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function $1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Po={debug:!!(globalThis&&pR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tG extends gR{}async function nG(e,t,n){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Po.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function rG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function sG(e){return parseInt(e,16)}function iG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function oG(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=vR(e.address),b=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}y+=w}return`${x}
${y}`}class ct extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Dh extends ct{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function aG({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(yR(o)){if(i.rp.id!==o)return new ct({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lG({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(yR(r)){if(n.rpId!==r)return new ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uG=new cG;function dG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=al(e,["challenge","user","excludeCredentials"]),i=fa(t).buffer,o=Object.assign(Object.assign({},n),{id:fa(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:fa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function hG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=al(e,["challenge","allowCredentials"]),s=fa(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:fa(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function fG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ui(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ui(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ui(new Uint8Array(s.authenticatorData)),clientDataJSON:Ui(new Uint8Array(s.clientDataJSON)),signature:Ui(new Uint8Array(s.signature)),userHandle:s.userHandle?Ui(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function F1(){var e,t;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dh("Browser returned unexpected credential type",t)}:{data:null,error:new Dh("Empty credential response",t)}}catch(t){return{data:null,error:aG({error:t,options:e})}}}async function gG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dh("Browser returned unexpected credential type",t)}:{data:null,error:new Dh("Empty credential response",t)}}catch(t){return{data:null,error:lG({error:t,options:e})}}}const vG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Lh(a,o):r[i]=Lh(o)}else r[i]=o}return r}function wG(e,t){return Lh(vG,e,t||{})}function bG(e,t){return Lh(yG,e,t||{})}class xG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??uG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=wG(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await mG({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=bG(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await gG(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Oc("rpId is required for WebAuthn authentication")};try{if(!F1())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Oc("rpId is required for WebAuthn registration")};try{if(!F1())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in register",o)}}}}rG();const SG={url:v9,storageKey:y9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function V1(e,t,n){return await n()}const Ao={};class Rc{get jwks(){var t,n;return(n=(t=Ao[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ao[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ao[this.storageKey]=Object.assign(Object.assign({},Ao[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},SG),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Rc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Rc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ct()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new eG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=mR(i.fetch),this.lock=i.lock||V1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nG:this.lock=V1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:pR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$1(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ct()&&(n=I9(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ct()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),k9(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?this._returnResult({error:n}):this._returnResult({error:new Ii("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:er}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Co(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:er})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:er})}else throw new Qu("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:D1})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:D1})}else throw new Qu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new To;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,c,d,h,f;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:y,options:w}=t;let S;if(Ct())if(typeof x=="object")S=x;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")S=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),T=await S.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=vR(T[0]);let j=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const M=await S.request({method:"eth_chainId"});j=sG(M)}const N={domain:E.host,address:C,statement:y,uri:E.href,version:"1",chainId:j,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=oG(N),b=await S.request({method:"personal_sign",params:[iG(m),C]})}try{const{data:p,error:x}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:er});if(x)throw x;if(!p||!p.session||!p.user){const y=new To;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(oe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,i,o,a,l,c,d,h,f,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:w,options:S}=t;let E;if(Ct())if(typeof y=="object")E=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const T=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),w?{statement:w}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:x,error:y}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ui(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:er});if(y)throw y;if(!x||!x.session||!x.user){const w=new To;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(oe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new T9;const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:er});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new To;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:er}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new To;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Co(this.storage,this.storageKey));const{error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Qu("You must provide either an email or phone number.")}catch(a){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:er});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Co(this.storage,this.storageKey));const c=await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Q9});return!((i=c.data)===null||i===void 0)&&i.url&&Ct()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new mn;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Qu("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Em:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await ji(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Cm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=G9(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Fs})})}catch(n){if(oe(n))return E9(n)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Co(this.storage,this.storageKey));const{data:c,error:d}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Fs});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Tm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new mn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ct())throw new Xu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new P1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new P1("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Xu("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(_9(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=R9(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Co(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ct()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(oe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=t,h=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:er}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new To}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await L9(async s=>(s>0&&await D9(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:er})),(s,i)=>{const o=200*Math.pow(2,s);return i&&km(i)&&Date.now()+o-r<Mo})}catch(r){if(this._debug(n,"error",r),oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ji(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Do(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Cm()}else if(s&&!s.user&&!s.user){const o=await ji(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await Do(this.storage,this.storageKey,s)):s.user=Cm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Em;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Em}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),km(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new mn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),oe(i)){const o={data:null,error:i};return km(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Tt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Do(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=I1(s);await Do(this.storage,this.storageKey,i)}else{const s=I1(n);await Do(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mo}ms, refresh threshold is ${Zv} ticks`),s<=Zv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Co(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fG(t.webauthn.credential_response):pG(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dG(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:hG(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tm(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await de(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new mn});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new mn});const o=await de(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ct()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await de(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new mn})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await de(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mn})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+x9>s)return r;const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Tm(r);n!=null&&n.allowExpired||q9(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=W9(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,N9(`${a}.${l}`)))throw new ny("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}}Rc.nextInstanceID={};const _G=Rc,EG="2.90.1";let Ol="";typeof Deno<"u"?Ol="deno":typeof document<"u"?Ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ol="react-native":Ol="node";const kG={"X-Client-Info":`supabase-js-${Ol}/${EG}`},TG={headers:kG},CG={schema:"public"},jG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PG={};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function AG(e,t){if(Ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NG(e){var t=AG(e,"string");return Ic(t)=="symbol"?t:t+""}function OG(e,t,n){return(t=NG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(n),!0).forEach(function(r){OG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const RG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IG=()=>Headers,MG=(e,t,n)=>{const r=RG(n),s=IG();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,nt(nt({},o),{},{headers:c}))}};function DG(e){return e.endsWith("/")?e:e+"/"}function LG(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:nt(nt({},l),s),auth:nt(nt({},c),i),realtime:nt(nt({},d),o),storage:{},global:nt(nt(nt({},h),a),{},{headers:nt(nt({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function $G(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(DG(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var FG=class extends _G{constructor(e){super(e)}},VG=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=$G(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:CG,realtime:PG,auth:nt(nt({},jG),{},{storageKey:o}),global:TG},l=LG(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=MG(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(nt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new wH(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new g9(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new pH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FG({url:this.authUrl.href,headers:nt(nt({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new DH(this.realtimeUrl.href,nt(nt({},e),{},{params:nt(nt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const UG=(e,t,n)=>new VG(e,t,n);function BG(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}BG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zG="https://gsucaxeqzluzbmvonsmj.supabase.co",qG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",ht=UG(zG,qG);function WG(e={}){const[t,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=v.useRef(e.accessToken||null);v.useEffect(()=>{f.current=e.accessToken||null},[e.accessToken]);const m=async()=>{if(!f.current)throw new Error("No access token - session not started");const{data:w,error:S}=await ht.functions.invoke("deepgram-token",{body:{accessToken:f.current}});if(S)throw new Error(`Failed to get Deepgram token: ${S.message}`);if((w==null?void 0:w.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(w!=null&&w.key))throw new Error((w==null?void 0:w.error)||"No token returned from Deepgram");return w.key},b=v.useCallback(async()=>{var w;if(!t){l(null),s(""),o("");try{const S=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=S;const E=await m(),T=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true",["token",E]);c.current=T,T.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const C=new MediaRecorder(S,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});d.current=C,C.ondataavailable=j=>{j.data.size>0&&T.readyState===WebSocket.OPEN&&T.send(j.data)},C.start(250)},T.onmessage=C=>{var j,N,M,I;try{const R=JSON.parse(C.data);if((M=(N=(j=R.channel)==null?void 0:j.alternatives)==null?void 0:N[0])!=null&&M.transcript){const F=R.channel.alternatives[0].transcript;R.is_final?(s(W=>{var Q;const V=W?`${W} ${F}`:F;return(Q=e.onTranscript)==null||Q.call(e,V),V}),o("")):(o(F),(I=e.onInterimTranscript)==null||I.call(e,F))}}catch(R){console.error("Error parsing Deepgram message:",R)}},T.onerror=C=>{var N;console.error("Deepgram WebSocket error:",C);const j=new Error("WebSocket connection error");l(j),(N=e.onError)==null||N.call(e,j)},T.onclose=C=>{console.log("Deepgram WebSocket closed:",C.code,C.reason),n(!1)}}catch(S){console.error("Failed to start listening:",S);const E=S instanceof Error?S:new Error("Failed to start listening");l(E),(w=e.onError)==null||w.call(e,E),n(!1)}}},[t,e]),p=v.useCallback(()=>{d.current&&d.current.state!=="inactive"&&d.current.stop(),d.current=null,c.current&&c.current.close(),c.current=null,h.current&&h.current.getTracks().forEach(w=>w.stop()),h.current=null,n(!1),o("")},[]),x=v.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=v.useCallback(()=>{s(""),o("")},[]);return v.useEffect(()=>()=>{p()},[p]),{isListening:t,transcript:r,interimTranscript:i,error:a,startListening:b,stopListening:p,getFullTranscript:x,clearTranscript:y}}function HG(e={}){const[t,n]=v.useState([]),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(!1),c=v.useRef(null),d=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=v.useCallback(y=>{c.current=y},[]),f=v.useCallback(y=>{const w=y.map(S=>({role:S.role,content:S.content,timestamp:S.timestamp?new Date(S.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):d()}));n(w),l(!0)},[]),m=v.useCallback(async y=>{var w,S;o(null),s(!0);try{const{data:E,error:T}=await ht.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:y}});if(T)throw new Error(`Failed to start conversation: ${T.message}`);if(!(E!=null&&E.response))throw new Error("No response from chat service");const C={role:"assistant",content:E.response,timestamp:d()};n([C]),(w=e.onMessageReceived)==null||w.call(e,C)}catch(E){console.error("Error starting conversation:",E);const T=E instanceof Error?E:new Error("Failed to start conversation");o(T),(S=e.onError)==null||S.call(e,T)}finally{s(!1)}},[e]),b=v.useCallback(async y=>{var S,E,T,C;if(!y.trim())return;if(!c.current){const j=new Error("No access token - session not started");o(j),(S=e.onError)==null||S.call(e,j);return}o(null);const w={role:"user",content:y.trim(),timestamp:d()};n(j=>[...j,w]),s(!0);try{const{data:j,error:N}=await ht.functions.invoke("chat-interview",{body:{accessToken:c.current,message:y.trim()}});if(N)throw new Error(`Failed to send message: ${N.message}`);if((j==null?void 0:j.error)==="Invalid or expired session")throw(E=e.onSessionExpired)==null||E.call(e),new Error("Session expired. Please refresh the page to restart.");if(!(j!=null&&j.response))throw new Error("No response from chat service");const M={role:"assistant",content:j.response,timestamp:d()};n(I=>[...I,M]),(T=e.onMessageReceived)==null||T.call(e,M)}catch(j){console.error("Error sending message:",j);const N=j instanceof Error?j:new Error("Failed to send message");o(N),(C=e.onError)==null||C.call(e,N)}finally{s(!1)}},[e]),p=v.useCallback(()=>t,[t]),x=v.useCallback(()=>{n([]),c.current=null,o(null),s(!1),l(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:a,startConversation:m,sendMessage:b,getTranscript:p,resetConversation:x,setAccessToken:h,initializeMessages:f}}function GG({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s}){const[i,o]=v.useState(""),[a,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),{messages:h,isThinking:f,error:m,isResumed:b,startConversation:p,sendMessage:x,setAccessToken:y,initializeMessages:w}=HG({onMessageReceived:()=>{setTimeout(()=>{var V;(V=c.current)==null||V.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},100)},onSessionExpired:()=>{l(!0)}});v.useEffect(()=>{t&&y(t)},[t,y]);const{isListening:S,transcript:E,interimTranscript:T,error:C,startListening:j,stopListening:N,clearTranscript:M}=WG({accessToken:t,onTranscript:V=>{o(Q=>Q?`${Q} ${V}`:V)}});v.useEffect(()=>{n&&n.length>0?w(n):p(e)},[e,n,w,p]),v.useEffect(()=>{r==null||r(h)},[h,r]),v.useEffect(()=>{var V;(V=c.current)==null||V.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},[h]);const I=()=>{var Q;const V=i.trim();!V||f||(x(V),o(""),M(),(Q=d.current)==null||Q.focus())},R=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),I())},F=async()=>{S?N():await j()},W=i+(S&&T?` ${T}`:"");return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsx(Af,{className:"flex-1 p-4",ref:c,children:u.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[b&&h.length>0&&u.jsx(be.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),u.jsx(Fa,{initial:!1,children:h.map((V,Q)=>u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${V.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${V.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:V.content}),u.jsx("p",{className:`text-xs mt-1 ${V.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:V.timestamp})]})},Q))}),f&&u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:u.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),u.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),u.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})})]})}),a&&u.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(m||C)&&!a&&u.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(m==null?void 0:m.message)||(C==null?void 0:C.message)}),S&&u.jsx(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[u.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((V,Q)=>u.jsx(be.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:Q*.1},className:"w-1 bg-accent rounded-full"},Q))}),u.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),T&&u.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:T})]})}),u.jsx("div",{className:"border-t bg-background p-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pe,{type:"button",variant:S?"default":"outline",size:"icon",onClick:F,disabled:a||!t,className:`shrink-0 ${S?"bg-accent hover:bg-accent/90":""}`,title:a?"Session expired":t?S?"Stop listening":"Start voice input":"Session not ready",children:S?u.jsx(U$,{className:"h-4 w-4"}):u.jsx(Yi,{className:"h-4 w-4"})}),u.jsx(Ln,{ref:d,value:W,onChange:V=>o(V.target.value),onKeyDown:R,placeholder:a?"Session expired":S?"Speak now...":"Type your response or click the mic to speak...",disabled:f||a,className:"flex-1"}),u.jsx(pe,{type:"button",onClick:I,disabled:!i.trim()||f||a,size:"icon",className:"shrink-0",children:f?u.jsx(Ft,{className:"h-4 w-4 animate-spin"}):u.jsx(F$,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Press Enter to send, or click the microphone to speak your answer"})]})})]})}var Pm="focusScope.autoFocusOnMount",Am="focusScope.autoFocusOnUnmount",B1={bubbles:!1,cancelable:!0},KG="FocusScope",$0=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=v.useState(null),c=gt(s),d=gt(i),h=v.useRef(null),f=Ee(t,p=>l(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(S){if(m.paused||!a)return;const E=S.target;a.contains(E)?h.current=E:Ns(h.current,{select:!0})},x=function(S){if(m.paused||!a)return;const E=S.relatedTarget;E!==null&&(a.contains(E)||Ns(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const T of S)T.removedNodes.length>0&&Ns(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){q1.add(m);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(Pm,B1);a.addEventListener(Pm,c),a.dispatchEvent(y),y.defaultPrevented||(JG(eK(wR(a)),{select:!0}),document.activeElement===p&&Ns(a))}return()=>{a.removeEventListener(Pm,c),setTimeout(()=>{const y=new CustomEvent(Am,B1);a.addEventListener(Am,d),a.dispatchEvent(y),y.defaultPrevented||Ns(p??document.body,{select:!0}),a.removeEventListener(Am,d),q1.remove(m)},0)}}},[a,c,d,m]);const b=v.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const w=p.currentTarget,[S,E]=YG(w);S&&E?!p.shiftKey&&y===E?(p.preventDefault(),n&&Ns(S,{select:!0})):p.shiftKey&&y===S&&(p.preventDefault(),n&&Ns(E,{select:!0})):y===w&&p.preventDefault()}},[n,r,m.paused]);return u.jsx(fe.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});$0.displayName=KG;function JG(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function YG(e){const t=wR(e),n=z1(t,e),r=z1(t.reverse(),e);return[n,r]}function wR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function z1(e,t){for(const n of e)if(!QG(n,{upTo:t}))return n}function QG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XG(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XG(e)&&t&&e.select()}}var q1=ZG();function ZG(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=W1(e,t),e.unshift(t)},remove(t){var n;e=W1(e,t),(n=e[0])==null||n.resume()}}}function W1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function eK(e){return e.filter(t=>t.tagName!=="A")}var Nm=0;function bR(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H1()),document.body.insertAdjacentElement("beforeend",e[1]??H1()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nm--}},[])}function H1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ad="right-scroll-bar-position",Nd="width-before-scroll-bar",tK="with-scroll-bars-hidden",nK="--removed-body-scroll-bar-size";function Om(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function rK(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var sK=typeof window<"u"?v.useLayoutEffect:v.useEffect,G1=new WeakMap;function iK(e,t){var n=rK(null,function(r){return e.forEach(function(s){return Om(s,r)})});return sK(function(){var r=G1.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Om(a,null)}),i.forEach(function(a){s.has(a)||Om(a,o)})}G1.set(n,e)},[e]),n}function oK(e){return e}function aK(e,t){t===void 0&&(t=oK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function lK(e){e===void 0&&(e={});var t=aK(null);return t.options=Or({async:!0,ssr:!1},e),t}var xR=function(e){var t=e.sideCar,n=al(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Or({},n))};xR.isSideCarExport=!0;function cK(e,t){return e.useMedium(t),xR}var SR=lK(),Rm=function(){},zf=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:Rm,onWheelCapture:Rm,onTouchMoveCapture:Rm}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,E=al(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,C=iK([n,t]),j=Or(Or({},E),s);return v.createElement(v.Fragment,null,d&&v.createElement(T,{sideCar:SR,removeScrollBar:c,shards:h,noRelative:m,noIsolation:b,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?v.cloneElement(v.Children.only(a),Or(Or({},j),{ref:C})):v.createElement(w,Or({},j,{className:l,ref:C}),a))});zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zf.classNames={fullWidth:Nd,zeroRight:Ad};var uK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=uK();return t&&e.setAttribute("nonce",t),e}function hK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=dK())&&(hK(t,n),fK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mK=function(){var e=pK();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_R=function(){var e=mK(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},gK={left:0,top:0,right:0,gap:0},Im=function(e){return parseInt(e||"",10)||0},vK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Im(n),Im(r),Im(s)]},yK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gK;var t=vK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},wK=_R(),pa="data-scroll-locked",bK=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(tK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ad,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ad," .").concat(Ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nd," .").concat(Nd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(nK,": ").concat(a,`px;
  }
`)},K1=function(){var e=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(e)?e:0},xK=function(){v.useEffect(function(){return document.body.setAttribute(pa,(K1()+1).toString()),function(){var e=K1()-1;e<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,e.toString())}},[])},SK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;xK();var i=v.useMemo(function(){return yK(s)},[s]);return v.createElement(wK,{styles:bK(i,!t,s,n?"":"!important")})},ry=!1;if(typeof window<"u")try{var Zu=Object.defineProperty({},"passive",{get:function(){return ry=!0,!0}});window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{ry=!1}var No=ry?{passive:!1}:!1,_K=function(e){return e.tagName==="TEXTAREA"},ER=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!_K(e)&&n[t]==="visible")},EK=function(e){return ER(e,"overflowY")},kK=function(e){return ER(e,"overflowX")},J1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=kR(e,r);if(s){var i=TR(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},CK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kR=function(e,t){return e==="v"?EK(t):kK(t)},TR=function(e,t){return e==="v"?TK(t):CK(t)},jK=function(e,t){return e==="h"&&t==="rtl"?-1:1},PK=function(e,t,n,r,s){var i=jK(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=TR(e,a),b=m[0],p=m[1],x=m[2],y=p-x-i*b;(b||y)&&kR(e,a)&&(h+=y,f+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},ed=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Y1=function(e){return[e.deltaX,e.deltaY]},Q1=function(e){return e&&"current"in e?e.current:e},AK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},NK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OK=0,Oo=[];function RK(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(OK++)[0],i=v.useState(_R)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=dH([e.lockRef.current],(e.shards||[]).map(Q1),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=ed(p),w=n.current,S="deltaX"in p?p.deltaX:w[0]-y[0],E="deltaY"in p?p.deltaY:w[1]-y[1],T,C=p.target,j=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in p&&j==="h"&&C.type==="range")return!1;var N=J1(j,C);if(!N)return!0;if(N?T=j:(T=j==="v"?"h":"v",N=J1(j,C)),!N)return!1;if(!r.current&&"changedTouches"in p&&(S||E)&&(r.current=T),!T)return!0;var M=r.current||T;return PK(M,x,p,M==="h"?S:E,!0)},[]),l=v.useCallback(function(p){var x=p;if(!(!Oo.length||Oo[Oo.length-1]!==i)){var y="deltaY"in x?Y1(x):ed(x),w=t.current.filter(function(T){return T.name===x.type&&(T.target===x.target||x.target===T.shadowParent)&&AK(T.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(Q1).filter(Boolean).filter(function(T){return T.contains(x.target)}),E=S.length>0?a(x,S[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(p,x,y,w){var S={name:p,delta:x,target:y,should:w,shadowParent:IK(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),d=v.useCallback(function(p){n.current=ed(p),r.current=void 0},[]),h=v.useCallback(function(p){c(p.type,Y1(p),p.target,a(p,e.lockRef.current))},[]),f=v.useCallback(function(p){c(p.type,ed(p),p.target,a(p,e.lockRef.current))},[]);v.useEffect(function(){return Oo.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,No),document.addEventListener("touchmove",l,No),document.addEventListener("touchstart",d,No),function(){Oo=Oo.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,No),document.removeEventListener("touchmove",l,No),document.removeEventListener("touchstart",d,No)}},[]);var m=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:NK(s)}):null,m?v.createElement(SK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function IK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const MK=cK(SR,RK);var F0=v.forwardRef(function(e,t){return v.createElement(zf,Or({},e,{ref:t,sideCar:MK}))});F0.classNames=zf.classNames;var DK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ro=new WeakMap,td=new WeakMap,nd={},Mm=0,CR=function(e){return e&&(e.host||CR(e.parentNode))},LK=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=CR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},$K=function(e,t,n,r){var s=LK(t,Array.isArray(e)?e:[e]);nd[n]||(nd[n]=new WeakMap);var i=nd[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),b=m!==null&&m!=="false",p=(Ro.get(f)||0)+1,x=(i.get(f)||0)+1;Ro.set(f,p),i.set(f,x),o.push(f),p===1&&b&&td.set(f,!0),x===1&&f.setAttribute(n,"true"),b||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),a.clear(),Mm++,function(){o.forEach(function(h){var f=Ro.get(h)-1,m=i.get(h)-1;Ro.set(h,f),i.set(h,m),f||(td.has(h)||h.removeAttribute(r),td.delete(h)),m||h.removeAttribute(n)}),Mm--,Mm||(Ro=new WeakMap,Ro=new WeakMap,td=new WeakMap,nd={})}},jR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=DK(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),$K(r,s,n,"aria-hidden")):function(){return null}},qf="Dialog",[PR,AR]=qn(qf),[FK,xr]=PR(qf),NR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=v.useRef(null),l=v.useRef(null),[c,d]=hs({prop:r,defaultProp:s??!1,onChange:i,caller:qf});return u.jsx(FK,{scope:t,triggerRef:a,contentRef:l,contentId:Dr(),titleId:Dr(),descriptionId:Dr(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};NR.displayName=qf;var OR="DialogTrigger",RR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(OR,n),i=Ee(t,s.triggerRef);return u.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":B0(s.open),...r,ref:i,onClick:ie(e.onClick,s.onOpenToggle)})});RR.displayName=OR;var V0="DialogPortal",[VK,IR]=PR(V0,{forceMount:void 0}),MR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=xr(V0,t);return u.jsx(VK,{scope:t,forceMount:n,children:v.Children.map(r,o=>u.jsx(Wn,{present:n||i.open,children:u.jsx(uf,{asChild:!0,container:s,children:o})}))})};MR.displayName=V0;var $h="DialogOverlay",DR=v.forwardRef((e,t)=>{const n=IR($h,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=xr($h,e.__scopeDialog);return i.modal?u.jsx(Wn,{present:r||i.open,children:u.jsx(BK,{...s,ref:t})}):null});DR.displayName=$h;var UK=Oa("DialogOverlay.RemoveScroll"),BK=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr($h,n);return u.jsx(F0,{as:UK,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(fe.div,{"data-state":B0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ho="DialogContent",LR=v.forwardRef((e,t)=>{const n=IR(ho,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=xr(ho,e.__scopeDialog);return u.jsx(Wn,{present:r||i.open,children:i.modal?u.jsx(zK,{...s,ref:t}):u.jsx(qK,{...s,ref:t})})});LR.displayName=ho;var zK=v.forwardRef((e,t)=>{const n=xr(ho,e.__scopeDialog),r=v.useRef(null),s=Ee(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return jR(i)},[]),u.jsx($R,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,i=>i.preventDefault())})}),qK=v.forwardRef((e,t)=>{const n=xr(ho,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return u.jsx($R,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),$R=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=xr(ho,n),l=v.useRef(null),c=Ee(t,l);return bR(),u.jsxs(u.Fragment,{children:[u.jsx($0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Gc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":B0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(HK,{titleId:a.titleId}),u.jsx(KK,{contentRef:l,descriptionId:a.descriptionId})]})]})}),U0="DialogTitle",FR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(U0,n);return u.jsx(fe.h2,{id:s.titleId,...r,ref:t})});FR.displayName=U0;var VR="DialogDescription",UR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(VR,n);return u.jsx(fe.p,{id:s.descriptionId,...r,ref:t})});UR.displayName=VR;var BR="DialogClose",zR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(BR,n);return u.jsx(fe.button,{type:"button",...r,ref:t,onClick:ie(e.onClick,()=>s.onOpenChange(!1))})});zR.displayName=BR;function B0(e){return e?"open":"closed"}var qR="DialogTitleWarning",[WK,WR]=D2(qR,{contentName:ho,titleName:U0,docsSlug:"dialog"}),HK=({titleId:e})=>{const t=WR(qR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},GK="DialogDescriptionWarning",KK=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WR(GK).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},HR=NR,JK=RR,GR=MR,z0=DR,q0=LR,W0=FR,H0=UR,G0=zR,KR="AlertDialog",[YK,pY]=qn(KR,[AR]),ys=AR(),JR=e=>{const{__scopeAlertDialog:t,...n}=e,r=ys(t);return u.jsx(HR,{...r,...n,modal:!0})};JR.displayName=KR;var QK="AlertDialogTrigger",XK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ys(n);return u.jsx(JK,{...s,...r,ref:t})});XK.displayName=QK;var ZK="AlertDialogPortal",YR=e=>{const{__scopeAlertDialog:t,...n}=e,r=ys(t);return u.jsx(GR,{...r,...n})};YR.displayName=ZK;var e7="AlertDialogOverlay",QR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ys(n);return u.jsx(z0,{...s,...r,ref:t})});QR.displayName=e7;var ma="AlertDialogContent",[t7,n7]=YK(ma),r7=EC("AlertDialogContent"),XR=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=ys(n),o=v.useRef(null),a=Ee(t,o),l=v.useRef(null);return u.jsx(WK,{contentName:ma,titleName:ZR,docsSlug:"alert-dialog",children:u.jsx(t7,{scope:n,cancelRef:l,children:u.jsxs(q0,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ie(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(r7,{children:r}),u.jsx(i7,{contentRef:o})]})})})});XR.displayName=ma;var ZR="AlertDialogTitle",eI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ys(n);return u.jsx(W0,{...s,...r,ref:t})});eI.displayName=ZR;var tI="AlertDialogDescription",nI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ys(n);return u.jsx(H0,{...s,...r,ref:t})});nI.displayName=tI;var s7="AlertDialogAction",rI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ys(n);return u.jsx(G0,{...s,...r,ref:t})});rI.displayName=s7;var sI="AlertDialogCancel",iI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=n7(sI,n),i=ys(n),o=Ee(t,s);return u.jsx(G0,{...i,...r,ref:o})});iI.displayName=sI;var i7=({contentRef:e})=>{const t=`\`${ma}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ma}\` by passing a \`${tI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ma}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},o7=JR,a7=YR,oI=QR,aI=XR,lI=rI,cI=iI,uI=eI,dI=nI;const l7=o7,c7=a7,hI=v.forwardRef(({className:e,...t},n)=>u.jsx(oI,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));hI.displayName=oI.displayName;const fI=v.forwardRef(({className:e,...t},n)=>u.jsxs(c7,{children:[u.jsx(hI,{}),u.jsx(aI,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));fI.displayName=aI.displayName;const pI=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});pI.displayName="AlertDialogHeader";const mI=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mI.displayName="AlertDialogFooter";const gI=v.forwardRef(({className:e,...t},n)=>u.jsx(uI,{ref:n,className:ae("text-lg font-semibold",e),...t}));gI.displayName=uI.displayName;const vI=v.forwardRef(({className:e,...t},n)=>u.jsx(dI,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));vI.displayName=dI.displayName;const yI=v.forwardRef(({className:e,...t},n)=>u.jsx(lI,{ref:n,className:ae(Mw(),e),...t}));yI.displayName=lI.displayName;const wI=v.forwardRef(({className:e,...t},n)=>u.jsx(cI,{ref:n,className:ae(Mw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));wI.displayName=cI.displayName;const rd=!1;function u7(){const{token:e}=Iw(),[t]=EB(),[n,r]=v.useState("loading"),[s,i]=v.useState(null),[o,a]=v.useState(""),[l,c]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(null),[b,p]=v.useState(null),[x,y]=v.useState(null),[w,S]=v.useState(!1),[E,T]=v.useState(0),[C,j]=v.useState(0),[N,M]=v.useState(0),[I,R]=v.useState(!1),[F,W]=v.useState(!1),[V,Q]=v.useState(!1),{toast:X}=Hc(),Z=v.useRef([]),$=v.useRef(null);v.useEffect(()=>{const ue=t.get("mode");ue==="voice"&&!rd?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(ue==="chat"||ue==="voice"&&rd)&&i(ue)},[t]),v.useEffect(()=>{async function ue(){if(!e){r("invalid"),a("No interview token provided");return}try{const{data:se,error:st}=await ht.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(st){console.error("Failed to validate token:",st),r("invalid"),a("Unable to validate interview link. Please try again.");return}if(se!=null&&se.error){r("invalid"),a(se.error);return}if(!(se!=null&&se.interviewee)){r("invalid"),a("Interview not found");return}c(se.interviewee),h(se.org||null),r("before")}catch(se){console.error("Error loading interview:",se),r("invalid"),a("An unexpected error occurred. Please try again.")}}ue()},[e]);const{status:U,transcript:J,isMuted:G,volumeLevel:re,startCall:g,endCall:k,toggleMute:_,isConnected:A,isSpeaking:P,isListening:D}=cH({onStatusChange:ue=>{console.log("Vapi status:",ue),ue==="connected"||ue==="speaking"||ue==="listening"?r("during"):ue==="ended"?Et():ue==="error"&&r("error")},onError:ue=>{console.error("Vapi error:",ue),X({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:ue=>{Z.current=ue}});v.useEffect(()=>{let ue;return n==="during"&&A&&(ue=setInterval(()=>{T(se=>se+1)},1e3)),()=>clearInterval(ue)},[n,A]);const O=ue=>{const se=Math.floor(ue/60).toString().padStart(2,"0"),st=(ue%60).toString().padStart(2,"0");return`${se}:${st}`},L=async ue=>{if(!(!l||!e)){i(ue),r("during"),$.current=Date.now();try{const{data:se,error:st}=await ht.functions.invoke("start-interview",{body:{interviewToken:e}});if(st||!(se!=null&&se.accessToken))throw new Error((se==null?void 0:se.error)||(st==null?void 0:st.message)||"Failed to start interview");m(se.interviewId),p(se.accessToken),se.resumed&&se.transcript&&se.transcript.length>0&&(y(se.transcript),S(!0),console.log("[INFO] Resuming interview with",se.transcript.length,"messages"))}catch(se){console.error("Failed to start interview:",se),X({title:"Error",description:se instanceof Error?se.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),i(null)}}},z=ue=>{Z.current=ue},Y=()=>{Q(!0)},ce=()=>{Q(!1),Et()},Be=()=>{Q(!1),k()},wt=()=>{X({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},Et=async()=>{W(!0);const ue=$.current?Math.floor((Date.now()-$.current)/1e3):E;if(T(ue),b)try{const{data:se,error:st}=await ht.functions.invoke("complete-interview",{body:{accessToken:b,durationSeconds:ue}});(st||se!=null&&se.error)&&(console.error("Failed to complete interview:",st||(se==null?void 0:se.error)),X({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(se){console.error("Failed to complete interview:",se),X({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}W(!1),r("after")},Re=async ue=>{if(j(ue),b)try{await ht.functions.invoke("complete-interview",{body:{accessToken:b,rating:ue}})}catch(se){console.error("Failed to save rating:",se)}},lt=()=>{window.close()},Ot=()=>{r("before"),T(0)};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(eu,{}),!1]})]})}),u.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:u.jsxs(Fa,{mode:"wait",children:[n==="loading"&&u.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[u.jsx(Ft,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Ne,{className:"border-0 shadow-lg",children:u.jsxs(Me,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:u.jsx(Ra,{className:"h-10 w-10 text-destructive"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),u.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&l&&u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Ne,{className:"border-0 shadow-lg",children:u.jsxs(Me,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-accent/10",children:u.jsx(Yi,{className:"h-10 w-10 text-accent"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),u.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),u.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),u.jsx("p",{className:"font-semibold text-foreground",children:l.name}),l.role&&u.jsx("p",{className:"text-sm text-muted-foreground",children:l.role}),d&&u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.name})]}),u.jsxs("div",{className:"space-y-3",children:[rd,u.jsxs(pe,{size:"lg",variant:"default",onClick:()=>L("chat"),className:"w-full gap-2",children:[u.jsx(oh,{className:"h-5 w-5"}),"Text Chat"]})]}),u.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"Type your responses or use voice-to-text in your browser."}),u.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="during"&&s==="voice"&&u.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-8 inline-block",children:[A&&u.jsxs(u.Fragment,{children:[u.jsx(be.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),u.jsx(be.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),u.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${U==="connecting"?"bg-muted animate-pulse":P?"bg-accent":D?"bg-primary":"bg-muted"}`,children:G?u.jsx(Ax,{className:"h-12 w-12 text-white"}):u.jsx(Yi,{className:"h-12 w-12 text-white"})})]}),u.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:U==="connecting"?"Connecting...":P?"AI Speaking...":D?"Listening...":"Connected"}),u.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:O(E)}),A&&u.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((ue,se)=>u.jsx(be.div,{className:`w-1 rounded-full ${se<Math.floor(re*10)?"bg-accent":"bg-muted"}`,animate:{height:D?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:se*.05}},se))}),u.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[u.jsxs(pe,{variant:"outline",size:"lg",onClick:_,className:"gap-2",children:[G?u.jsx(Ax,{className:"h-5 w-5"}):u.jsx(ej,{className:"h-5 w-5"}),G?"Unmute":"Mute"]}),u.jsxs(pe,{variant:"outline",size:"lg",onClick:wt,className:"gap-2",children:[u.jsx(Nx,{className:"h-5 w-5"}),"Pause & Save"]}),u.jsx(pe,{variant:"outline",size:"lg",onClick:Y,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),u.jsxs(pe,{variant:"ghost",size:"sm",onClick:()=>R(!I),className:"mb-4",children:[I?"Hide":"Show"," Live Transcript"]}),u.jsx(Fa,{children:I&&J.length>0&&u.jsx(be.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:u.jsx(Ne,{className:"mx-auto max-w-xl",children:u.jsx(Af,{className:"h-48 p-4",children:u.jsx("div",{className:"space-y-3",children:J.map((ue,se)=>u.jsxs("div",{className:`text-sm ${ue.role==="assistant"?"text-accent":"text-foreground"}`,children:[u.jsx("span",{className:"font-medium",children:ue.role==="assistant"?"AI: ":"You: "}),ue.content]},se))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&u.jsx(be.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:u.jsxs(Ne,{className:"h-full border-0 shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(oh,{className:"h-5 w-5 text-accent"}),u.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(pe,{variant:"outline",size:"sm",onClick:wt,className:"gap-1",children:[u.jsx(Nx,{className:"h-4 w-4"}),"Pause & Save"]}),u.jsx(pe,{variant:"outline",size:"sm",onClick:Y,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),u.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:u.jsx(GG,{intervieweeName:l==null?void 0:l.name,accessToken:b,initialMessages:x||void 0,onTranscriptUpdate:z,onEnd:ce})})]})},"during-chat"),n==="after"&&u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Ne,{className:"border-0 shadow-lg",children:u.jsx(Me,{className:"p-8",children:F?u.jsxs(u.Fragment,{children:[u.jsx(Ft,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(be.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:u.jsx(XC,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),u.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),u.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",O(E)]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),u.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(ue=>u.jsx("button",{onClick:()=>Re(ue),onMouseEnter:()=>M(ue),onMouseLeave:()=>M(0),className:"transition-transform hover:scale-110",children:u.jsx(B$,{className:`h-8 w-8 transition-colors ${ue<=(N||C)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},ue))}),C>0&&u.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),u.jsx(pe,{size:"lg",onClick:lt,className:"w-full",children:"Close"})]})})})},"after"),n==="error"&&u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Ne,{className:"border-0 shadow-lg",children:u.jsxs(Me,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:u.jsx(Ra,{className:"h-10 w-10 text-destructive"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),u.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),u.jsx(pe,{size:"lg",onClick:Ot,className:"w-full",children:"Try Again"})]})})},"error")]})}),u.jsx(l7,{open:V,onOpenChange:Q,children:u.jsxs(fI,{children:[u.jsxs(pI,{children:[u.jsx(gI,{children:"Complete Interview?"}),u.jsxs(vI,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",u.jsx("br",{}),u.jsx("br",{}),"If you need to take a break, use ",u.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),u.jsxs(mI,{children:[u.jsx(wI,{children:"Cancel"}),u.jsx(yI,{onClick:s==="voice"?Be:ce,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})})]})}const d7=ff("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xt({className:e,variant:t,...n}){return u.jsx("div",{className:ae(d7({variant:t}),e),...n})}var Wf="Collapsible",[h7,bI]=qn(Wf),[f7,K0]=h7(Wf),xI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,c]=hs({prop:r,defaultProp:s??!1,onChange:o,caller:Wf});return u.jsx(f7,{scope:n,disabled:i,contentId:Dr(),open:l,onOpenToggle:v.useCallback(()=>c(d=>!d),[c]),children:u.jsx(fe.div,{"data-state":Y0(l),"data-disabled":i?"":void 0,...a,ref:t})})});xI.displayName=Wf;var SI="CollapsibleTrigger",_I=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=K0(SI,n);return u.jsx(fe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Y0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ie(e.onClick,s.onOpenToggle)})});_I.displayName=SI;var J0="CollapsibleContent",EI=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=K0(J0,e.__scopeCollapsible);return u.jsx(Wn,{present:n||s.open,children:({present:i})=>u.jsx(p7,{...r,ref:t,present:i})})});EI.displayName=J0;var p7=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=K0(J0,n),[a,l]=v.useState(r),c=v.useRef(null),d=Ee(t,c),h=v.useRef(0),f=h.current,m=v.useRef(0),b=m.current,p=o.open||a,x=v.useRef(p),y=v.useRef(void 0);return v.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),yt(()=>{const w=c.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();h.current=S.height,m.current=S.width,x.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),l(r)}},[o.open,r]),u.jsx(fe.div,{"data-state":Y0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function Y0(e){return e?"open":"closed"}var m7=xI,g7=_I,v7=EI,Sr="Accordion",y7=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Q0,w7,b7]=cf(Sr),[Hf,mY]=qn(Sr,[b7,bI]),X0=bI(),kI=H.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return u.jsx(Q0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(E7,{...i,ref:t}):u.jsx(_7,{...s,ref:t})})});kI.displayName=Sr;var[TI,x7]=Hf(Sr),[CI,S7]=Hf(Sr,{collapsible:!1}),_7=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=hs({prop:n,defaultProp:r??"",onChange:s,caller:Sr});return u.jsx(TI,{scope:e.__scopeAccordion,value:H.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:H.useCallback(()=>i&&l(""),[i,l]),children:u.jsx(CI,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(jI,{...o,ref:t})})})}),E7=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=hs({prop:n,defaultProp:r??[],onChange:s,caller:Sr}),l=H.useCallback(d=>a((h=[])=>[...h,d]),[a]),c=H.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return u.jsx(TI,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:u.jsx(CI,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(jI,{...i,ref:t})})})}),[k7,Gf]=Hf(Sr),jI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=H.useRef(null),l=Ee(a,t),c=w7(n),h=tu(s)==="ltr",f=ie(e.onKeyDown,m=>{var N;if(!y7.includes(m.key))return;const b=m.target,p=c().filter(M=>{var I;return!((I=M.ref.current)!=null&&I.disabled)}),x=p.findIndex(M=>M.ref.current===b),y=p.length;if(x===-1)return;m.preventDefault();let w=x;const S=0,E=y-1,T=()=>{w=x+1,w>E&&(w=S)},C=()=>{w=x-1,w<S&&(w=E)};switch(m.key){case"Home":w=S;break;case"End":w=E;break;case"ArrowRight":i==="horizontal"&&(h?T():C());break;case"ArrowDown":i==="vertical"&&T();break;case"ArrowLeft":i==="horizontal"&&(h?C():T());break;case"ArrowUp":i==="vertical"&&C();break}const j=w%y;(N=p[j].ref.current)==null||N.focus()});return u.jsx(k7,{scope:n,disabled:r,direction:s,orientation:i,children:u.jsx(Q0.Slot,{scope:n,children:u.jsx(fe.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),Fh="AccordionItem",[T7,Z0]=Hf(Fh),PI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Gf(Fh,n),o=x7(Fh,n),a=X0(n),l=Dr(),c=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return u.jsx(T7,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(m7,{"data-orientation":i.orientation,"data-state":MI(c),...a,...s,ref:t,disabled:d,open:c,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});PI.displayName=Fh;var AI="AccordionHeader",NI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Gf(Sr,n),i=Z0(AI,n);return u.jsx(fe.h3,{"data-orientation":s.orientation,"data-state":MI(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});NI.displayName=AI;var sy="AccordionTrigger",OI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Gf(Sr,n),i=Z0(sy,n),o=S7(sy,n),a=X0(n);return u.jsx(Q0.ItemSlot,{scope:n,children:u.jsx(g7,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});OI.displayName=sy;var RI="AccordionContent",II=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Gf(Sr,n),i=Z0(RI,n),o=X0(n);return u.jsx(v7,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});II.displayName=RI;function MI(e){return e?"open":"closed"}var C7=kI,j7=PI,P7=NI,DI=OI,LI=II;const iy=C7,Vh=v.forwardRef(({className:e,...t},n)=>u.jsx(j7,{ref:n,className:ae("border-b",e),...t}));Vh.displayName="AccordionItem";const Uh=v.forwardRef(({className:e,children:t,...n},r)=>u.jsx(P7,{className:"flex",children:u.jsxs(DI,{ref:r,className:ae("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(fw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Uh.displayName=DI.displayName;const Bh=v.forwardRef(({className:e,children:t,...n},r)=>u.jsx(LI,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:ae("pb-4 pt-0",e),children:t})}));Bh.displayName=LI.displayName;function A7({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return u.jsxs(xt,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function N7({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return u.jsxs(xt,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function O7({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return u.jsx(xt,{variant:"secondary",children:t[e]||e})}function R7(){const{token:e}=Iw(),[t,n]=v.useState("loading"),[r,s]=v.useState(""),[i,o]=v.useState(null);return v.useEffect(()=>{async function a(){if(!e){n("error"),s("No results token provided");return}try{const{data:l,error:c}=await ht.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(c){n("error"),s("Unable to load results. Please try again.");return}if(l!=null&&l.error){l.error.includes("still being generated")?n("pending"):(n("error"),s(l.error));return}o(l),n("success")}catch(l){console.error("Error loading results:",l),n("error"),s("An unexpected error occurred. Please try again.")}}a()},[e]),u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs(an,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsx(eu,{})]})}),u.jsxs("main",{className:"container py-8",children:[t==="loading"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ft,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsx(Ne,{className:"max-w-md text-center",children:u.jsxs(Me,{className:"pt-6",children:[u.jsx(sh,{className:"mx-auto mb-4 h-12 w-12 text-accent"}),u.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),u.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsx(Ne,{className:"max-w-md text-center",children:u.jsxs(Me,{className:"pt-6",children:[u.jsx(Ra,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),u.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),u.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&u.jsxs(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Discovery Analysis Results"}),u.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Prepared for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.org.name," | ",i.project.name]})]}),i.analysis.executiveSummary&&u.jsxs(Ne,{className:"border-accent/50 bg-accent/5",children:[u.jsx(Jt,{children:u.jsxs(Yt,{className:"flex items-center gap-2",children:[u.jsx(ah,{className:"h-5 w-5 text-accent"}),"Executive Summary"]})}),u.jsx(Me,{children:u.jsx("p",{className:"text-foreground leading-relaxed",children:i.analysis.executiveSummary})})]}),i.analysis.automationOpportunities.length>0&&u.jsxs("section",{children:[u.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[u.jsx(ZC,{className:"h-6 w-6 text-accent"}),u.jsx("h2",{className:"text-2xl font-semibold",children:"Automation Opportunities"})]}),u.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.analysis.automationOpportunities.map((a,l)=>u.jsxs(Ne,{className:"relative overflow-hidden",children:[u.jsxs(Jt,{className:"pb-2",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(O7,{category:a.category}),u.jsx(A7,{level:a.confidence}),u.jsx(N7,{level:a.estimated_impact})]}),u.jsx(Yt,{className:"mt-2 text-lg",children:a.title})]}),u.jsxs(Me,{className:"space-y-3",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),a.affected_workflows.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:a.affected_workflows.map((c,d)=>u.jsx(xt,{variant:"outline",className:"text-xs",children:c},d))})]}),a.prerequisites.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),u.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:a.prerequisites.slice(0,3).map((c,d)=>u.jsx("li",{children:c},d))})]})]})]},l))})]}),i.analysis.workflows.length>0&&u.jsxs("section",{children:[u.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[u.jsx(tj,{className:"h-6 w-6 text-accent"}),u.jsx("h2",{className:"text-2xl font-semibold",children:"Identified Workflows"})]}),u.jsx(iy,{type:"multiple",className:"space-y-2",children:i.analysis.workflows.map((a,l)=>{var c,d,h,f,m,b;return u.jsxs(Vh,{value:`workflow-${l}`,className:"rounded-lg border bg-card",children:[u.jsx(Uh,{className:"px-4 hover:no-underline",children:u.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium",children:a.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:a.owner})]}),u.jsx(xt,{variant:"outline",children:a.frequency})]})}),u.jsx(Bh,{className:"px-4 pb-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:a.description}),a.estimated_time&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(sh,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("span",{children:["Estimated time: ",a.estimated_time]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((c=a.components.triggers)==null?void 0:c.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Triggers"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.triggers.map((p,x)=>u.jsx("li",{children:p},x))})]}),((d=a.components.inputs)==null?void 0:d.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.inputs.map((p,x)=>u.jsx("li",{children:p},x))})]}),((h=a.components.outputs)==null?void 0:h.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Outputs"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.outputs.map((p,x)=>u.jsx("li",{children:p},x))})]}),((f=a.components.decisions)==null?void 0:f.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Decisions"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.decisions.map((p,x)=>u.jsx("li",{children:p},x))})]})]}),((m=a.systems_used)==null?void 0:m.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:a.systems_used.map((p,x)=>u.jsx(xt,{variant:"secondary",className:"text-xs",children:p},x))})]}),((b=a.pain_points)==null?void 0:b.length)>0&&u.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),u.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:a.pain_points.map((p,x)=>u.jsx("li",{children:p},x))})]})]})})]},l)})})]}),u.jsx(Ne,{className:"border-accent bg-gradient-to-r from-accent/10 to-accent/5",children:u.jsxs(Me,{className:"flex flex-col items-center py-8 text-center",children:[u.jsx(nj,{className:"mb-4 h-12 w-12 text-accent"}),u.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),u.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),u.jsx(pe,{size:"lg",className:"gap-2",asChild:!0,children:u.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[u.jsx(ih,{className:"h-5 w-5"}),"Contact AgentFlow",u.jsx(mc,{className:"h-4 w-4"})]})})]})}),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:u.jsxs("p",{children:["Analysis generated on"," ",new Date(i.analysis.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})]})]})}const $I=["hamish@goagentflow.com","stephen@goagentflow.com"],FI=v.createContext(void 0);function I7({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0),a=t!=null&&t.email?$I.includes(t.email.toLowerCase()):!1;v.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await ht.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:d}}=ht.auth.onAuthStateChange(async(h,f)=>{console.log("[Auth] State change:",h),s(f),n((f==null?void 0:f.user)??null),o(!1)});return()=>{d.unsubscribe()}},[]);const l=async()=>{try{await ht.auth.signOut(),n(null),s(null)}catch(c){throw console.error("Error signing out:",c),c}};return u.jsx(FI.Provider,{value:{user:t,session:r,isAdmin:a,loading:i,signOut:l},children:e})}function eb(){const e=v.useContext(FI);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function oy(e){return $I.includes(e.toLowerCase())}function M7(){const[e,t]=v.useState(""),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[o,a]=v.useState(null),l=tl(),{user:c,isAdmin:d,loading:h}=eb();v.useEffect(()=>{!h&&c&&d&&l("/admin/dashboard",{replace:!0})},[c,d,h,l]);const f=async m=>{if(m.preventDefault(),a(null),i(!0),!oy(e)){a("This email is not authorized for admin access."),i(!1);return}try{const{error:b}=await ht.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/admin/auth/callback`}});if(b)throw b;r(!0)}catch(b){console.error("Error sending magic link:",b),a(b instanceof Error?b.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx(Ft,{className:"h-8 w-8 animate-spin text-accent"})}):u.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[u.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[u.jsxs(an,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold",children:"AgentFlow"})]}),u.jsx(eu,{})]}),u.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:u.jsxs(Ne,{className:"w-full max-w-md",children:[u.jsxs(Jt,{className:"text-center",children:[u.jsx(Yt,{children:"Admin Login"}),u.jsx(Vr,{children:"Sign in with your email to access the dashboard"})]}),u.jsx(Me,{children:u.jsx(Fa,{mode:"wait",children:n?u.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[u.jsx(XC,{className:"mx-auto mb-4 h-12 w-12 text-green-500"}),u.jsx("p",{className:"font-medium",children:"Check your email!"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),u.jsx(pe,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):u.jsxs(be.form,{exit:{opacity:0},onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(ih,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(Ln,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:m=>{t(m.target.value),a(null)},className:"pl-9",required:!0,disabled:s})]}),o&&u.jsxs(be.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[u.jsx(Ra,{className:"h-4 w-4 flex-shrink-0"}),u.jsx("span",{children:o})]}),u.jsx(pe,{type:"submit",className:"w-full",disabled:s,children:s?u.jsxs(u.Fragment,{children:[u.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})})]})}function D7(){const[e,t]=v.useState(null),n=tl();return v.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:a}=await ht.auth.getSession();if(a)throw a;if(!o){const{error:l}=await ht.auth.exchangeCodeForSession(window.location.href);if(l)throw l;const{data:{session:c},error:d}=await ht.auth.getSession();if(d||!c)throw new Error("Failed to establish session");if(!((s=c.user)!=null&&s.email)||!oy(c.user.email))throw await ht.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!oy(o.user.email))throw await ht.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:u.jsx(Ne,{className:"max-w-md",children:u.jsxs(Me,{className:"pt-6 text-center",children:[u.jsx(Ra,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),u.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),u.jsx(pe,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ft,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}function ga({icon:e,label:t,value:n,className:r,iconClassName:s}){return u.jsx(be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:u.jsx(Ne,{className:ae("transition-shadow duration-200 hover:shadow-md",r),children:u.jsxs(Me,{className:"flex items-center gap-4 p-6",children:[u.jsx("div",{className:ae("flex h-12 w-12 items-center justify-center rounded-lg bg-accent/10",s),children:u.jsx(e,{className:"h-6 w-6 text-accent"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),u.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const zh=HR,L7=GR,VI=v.forwardRef(({className:e,...t},n)=>u.jsx(z0,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));VI.displayName=z0.displayName;const Mc=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(L7,{children:[u.jsx(VI,{}),u.jsxs(q0,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(G0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(pw,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mc.displayName=q0.displayName;const Dc=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Dc.displayName="DialogHeader";const qh=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qh.displayName="DialogFooter";const Lc=v.forwardRef(({className:e,...t},n)=>u.jsx(W0,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Lc.displayName=W0.displayName;const ay=v.forwardRef(({className:e,...t},n)=>u.jsx(H0,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));ay.displayName=H0.displayName;const $7=[{id:"1",speaker:"agent",content:"That's really helpful context about your reporting process. Can you tell me more about what triggers this workflow? How do you know it's time to generate these reports?",timestamp:"18:15"},{id:"2",speaker:"interviewee",content:"Usually it's a Slack message from my manager, or sometimes an email from the executive team. There's no set schedule really, it's quite ad-hoc which is part of the problem.",timestamp:"18:32"},{id:"3",speaker:"agent",content:"I see. So the trigger is essentially a request from stakeholders rather than a scheduled task. And when you receive that request, what's the first thing you do?",timestamp:"18:45"}];function F7({open:e,onClose:t,conversationId:n,intervieweeName:r,clientName:s,role:i}){const[o,a]=v.useState(!1),[l,c]=v.useState($7),[d,h]=v.useState("interviewee"),[f,m]=v.useState("18:52");return v.useEffect(()=>{if(!e)return;const b=setInterval(()=>{m(p=>{const[x,y]=p.split(":").map(Number),w=x*60+y+1,S=Math.floor(w/60).toString().padStart(2,"0"),E=(w%60).toString().padStart(2,"0");return`${S}:${E}`}),Math.random()>.7&&h(p=>p==="agent"?"interviewee":"agent")},1e3);return()=>clearInterval(b)},[e]),u.jsx(zh,{open:e,onOpenChange:b=>!b&&t(),children:u.jsxs(Mc,{className:"max-w-2xl",children:[u.jsx(Dc,{children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent/10",children:u.jsx(O$,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{children:[u.jsxs(Lc,{className:"flex items-center gap-2",children:["Listening to Interview",u.jsx(xt,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 animate-pulse",children:"LIVE"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"  ",s,"  ",i]})]})]})})}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?u.jsx(Yi,{className:"h-4 w-4 text-white"}):u.jsx(Np,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:d==="agent"?"AI Agent":r}),u.jsx("p",{className:"text-xs text-muted-foreground",children:d==="agent"?"Speaking":"Responding"})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx(sh,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"font-mono",children:f})]})]}),u.jsx(pe,{variant:"outline",size:"sm",onClick:()=>a(!o),className:"gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(W$,{className:"h-4 w-4"}),"Unmute"]}):u.jsxs(u.Fragment,{children:[u.jsx(ej,{className:"h-4 w-4"}),"Mute"]})})]}),u.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:[...Array(20)].map((b,p)=>u.jsx(be.div,{className:`w-1 rounded-full ${o?"bg-muted-foreground/30":"bg-accent"}`,animate:{height:o?8:[8,Math.random()*32+8,8]},transition:{duration:.5,repeat:1/0,delay:p*.05}},p))}),u.jsxs("div",{className:"rounded-lg border",children:[u.jsx("div",{className:"border-b bg-muted/50 px-4 py-2",children:u.jsx("p",{className:"text-sm font-medium",children:"Live Transcript"})}),u.jsx(Af,{className:"h-[250px]",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx(Fa,{children:l.map((b,p)=>u.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${b.speaker==="agent"?"":"flex-row-reverse"}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${b.speaker==="agent"?"bg-accent":"bg-primary"}`,children:b.speaker==="agent"?u.jsx(Yi,{className:"h-4 w-4 text-white"}):u.jsx(Np,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:`flex-1 ${b.speaker==="agent"?"":"text-right"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-medium",children:b.speaker==="agent"?"AI Agent":r}),u.jsx("span",{className:"text-xs text-muted-foreground",children:b.timestamp})]}),u.jsx("p",{className:`text-sm rounded-lg p-3 ${b.speaker==="agent"?"bg-accent/10 text-foreground":"bg-muted text-foreground"}`,children:b.content})]})]},b.id))}),u.jsxs(be.div,{initial:{opacity:0},animate:{opacity:1},className:`flex gap-3 ${d==="agent"?"":"flex-row-reverse"}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?u.jsx(Yi,{className:"h-4 w-4 text-white"}):u.jsx(Np,{className:"h-4 w-4 text-white"})}),u.jsx("div",{className:`flex-1 ${d==="agent"?"":"text-right"}`,children:u.jsxs("div",{className:`inline-flex items-center gap-1 rounded-lg p-3 ${d==="agent"?"bg-accent/10":"bg-muted"}`,children:[u.jsx(be.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0},className:"h-2 w-2 rounded-full bg-current"}),u.jsx(be.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.2},className:"h-2 w-2 rounded-full bg-current"}),u.jsx(be.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.4},className:"h-2 w-2 rounded-full bg-current"})]})})]})]})})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You are observing this conversation in listen-only mode. The interviewee is not aware you are listening."})]})})}function V7(){const[e,t]=v.useState(!0),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState({totalProjects:0,activeInterviews:0,completedInterviews:0}),[l,c]=v.useState(null),[d,h]=v.useState(!1);v.useEffect(()=>{f()},[]);async function f(){t(!0);const{data:b}=await ht.from("discovery_project").select(`
        *,
        org:org_id (*)
      `).order("created_at",{ascending:!1}).limit(5),{data:p}=await ht.from("discovery_interviewee").select(`
        *,
        project:project_id (name, org_id, org:org_id (name))
      `).order("created_at",{ascending:!1});if(b){const E=b.map(T=>{const C=(p==null?void 0:p.filter(j=>j.project_id===T.id))||[];return{...T,interviewee_count:C.length,completed_count:C.filter(j=>j.status==="completed").length}});r(E)}const x=(p==null?void 0:p.filter(E=>E.status==="pending"||E.status==="invited").slice(0,5).map(E=>{var T,C,j;return{id:E.id,name:E.name,role:E.role,status:E.status,project_name:((T=E.project)==null?void 0:T.name)||"Unknown",org_name:((j=(C=E.project)==null?void 0:C.org)==null?void 0:j.name)||"Unknown",project_id:E.project_id}}))||[];i(x);const y=(b==null?void 0:b.length)||0,w=(p==null?void 0:p.filter(E=>E.status==="completed").length)||0,S=(p==null?void 0:p.filter(E=>E.status==="in_progress").length)||0;a({totalProjects:y,activeInterviews:S,completedInterviews:w}),t(!1)}const m=()=>{h(!1),c(null)};return e?u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(Ft,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor interviews and manage discovery projects."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(pe,{variant:"outline",asChild:!0,children:u.jsx(an,{to:"/admin/projects",children:"View All Projects"})}),u.jsx(pe,{asChild:!0,children:u.jsxs(an,{to:"/admin/projects",children:[u.jsx(Ia,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})]}),u.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[u.jsx(ga,{icon:yd,label:"Total Projects",value:o.totalProjects}),u.jsx(ga,{icon:oh,label:"Active Interviews",value:o.activeInterviews}),u.jsx(ga,{icon:hw,label:"Completed Interviews",value:o.completedInterviews})]}),u.jsxs("div",{className:"mb-8 grid gap-6 lg:grid-cols-2",children:[u.jsxs(Ne,{children:[u.jsx(Jt,{className:"pb-3",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:u.jsx(yd,{className:"h-4 w-4 text-accent"})}),u.jsxs("div",{children:[u.jsx(Yt,{className:"text-lg",children:"Recent Projects"}),u.jsx(Vr,{children:"Your latest discovery projects"})]})]})})}),u.jsx(Me,{children:n.length>0?u.jsxs("div",{className:"space-y-3",children:[n.map((b,p)=>{var x;return u.jsx(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},children:u.jsxs(an,{to:`/admin/projects/${b.id}`,className:"flex items-center justify-between rounded-lg border bg-card p-4 hover:bg-muted/50 transition-colors",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:b.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[(x=b.org)==null?void 0:x.name,"  ",b.interviewee_count," interviewees"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx(xt,{variant:b.status==="active"?"default":"secondary",children:b.status}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b.completed_count,"/",b.interviewee_count," complete"]})]})]})},b.id)}),u.jsx(pe,{variant:"ghost",className:"w-full",asChild:!0,children:u.jsxs(an,{to:"/admin/projects",children:["View all projects",u.jsx(mc,{className:"ml-2 h-4 w-4"})]})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:u.jsx(yd,{className:"h-6 w-6 text-muted-foreground"})}),u.jsx("p",{className:"font-medium",children:"No projects yet"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first discovery project"}),u.jsx(pe,{asChild:!0,children:u.jsxs(an,{to:"/admin/projects",children:[u.jsx(Ia,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})})]}),u.jsxs(Ne,{children:[u.jsx(Jt,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:u.jsx(ah,{className:"h-4 w-4 text-accent"})}),u.jsxs("div",{children:[u.jsx(Yt,{className:"text-lg",children:"Pending Interviews"}),u.jsx(Vr,{children:"Interviews awaiting completion"})]})]})}),u.jsx(Me,{children:s.length>0?u.jsx("div",{className:"space-y-3",children:s.map((b,p)=>u.jsxs(be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center justify-between rounded-lg border p-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:b.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.org_name,"  ",b.role||"No role"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xt,{variant:"secondary",children:b.status}),u.jsx(pe,{size:"sm",variant:"outline",asChild:!0,children:u.jsx(an,{to:`/admin/projects/${b.project_id}`,children:"View"})})]})]},b.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:u.jsx(lh,{className:"h-6 w-6 text-muted-foreground"})}),u.jsx("p",{className:"font-medium",children:"No pending interviews"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"All interviews have been completed"})]})})]})]}),u.jsx(F7,{open:d,onClose:m,conversationId:"",intervieweeName:"",clientName:"",role:""})]})}const tb=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",e),...t})}));tb.displayName="Table";const nb=v.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",e),...t}));nb.displayName="TableHeader";const rb=v.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",e),...t}));rb.displayName="TableBody";const U7=v.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));U7.displayName="TableFooter";const $c=v.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:ae("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));$c.displayName="TableRow";const hr=v.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));hr.displayName="TableHead";const fr=v.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));fr.displayName="TableCell";const B7=v.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",e),...t}));B7.displayName="TableCaption";var z7="Label",UI=v.forwardRef((e,t)=>u.jsx(fe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));UI.displayName=z7;var BI=UI;const q7=ff("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),is=v.forwardRef(({className:e,...t},n)=>u.jsx(BI,{ref:n,className:ae(q7(),e),...t}));is.displayName=BI.displayName;function W7(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var H7=[" ","Enter","ArrowUp","ArrowDown"],G7=[" ","Enter"],fo="Select",[Kf,Jf,K7]=cf(fo),[ll,gY]=qn(fo,[K7,vf]),Yf=vf(),[J7,wi]=ll(fo),[Y7,Q7]=ll(fo),zI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:m,form:b}=e,p=Yf(t),[x,y]=v.useState(null),[w,S]=v.useState(null),[E,T]=v.useState(!1),C=tu(c),[j,N]=hs({prop:r,defaultProp:s??!1,onChange:i,caller:fo}),[M,I]=hs({prop:o,defaultProp:a,onChange:l,caller:fo}),R=v.useRef(null),F=x?b||!!x.closest("form"):!0,[W,V]=v.useState(new Set),Q=Array.from(W).map(X=>X.props.value).join(";");return u.jsx(AU,{...p,children:u.jsxs(J7,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Dr(),value:M,onValueChange:I,open:j,onOpenChange:N,dir:C,triggerPointerDownPosRef:R,disabled:f,children:[u.jsx(Kf.Provider,{scope:t,children:u.jsx(Y7,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(X=>{V(Z=>new Set(Z).add(X))},[]),onNativeOptionRemove:v.useCallback(X=>{V(Z=>{const $=new Set(Z);return $.delete(X),$})},[]),children:n})}),F?u.jsxs(fM,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:X=>I(X.target.value),disabled:f,form:b,children:[M===void 0?u.jsx("option",{value:""}):null,Array.from(W)]},Q):null]})})};zI.displayName=fo;var qI="SelectTrigger",WI=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Yf(n),o=wi(qI,n),a=o.disabled||r,l=Ee(t,o.onTriggerChange),c=Jf(n),d=v.useRef("touch"),[h,f,m]=mM(p=>{const x=c().filter(S=>!S.disabled),y=x.find(S=>S.value===o.value),w=gM(x,p,y);w!==void 0&&o.onValueChange(w.value)}),b=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return u.jsx(Mj,{asChild:!0,...i,children:u.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":pM(o.value)?"":void 0,...s,ref:l,onClick:ie(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&b(p)}),onPointerDown:ie(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:ie(s.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&H7.includes(p.key)&&(b(),p.preventDefault())})})})});WI.displayName=qI;var HI="SelectValue",GI=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=wi(HI,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Ee(t,l.onValueNodeChange);return yt(()=>{c(d)},[c,d]),u.jsx(fe.span,{...a,ref:h,style:{pointerEvents:"none"},children:pM(l.value)?u.jsx(u.Fragment,{children:o}):i})});GI.displayName=HI;var X7="SelectIcon",KI=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(fe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});KI.displayName=X7;var Z7="SelectPortal",JI=e=>u.jsx(uf,{asChild:!0,...e});JI.displayName=Z7;var po="SelectContent",YI=v.forwardRef((e,t)=>{const n=wi(po,e.__scopeSelect),[r,s]=v.useState();if(yt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?vo.createPortal(u.jsx(QI,{scope:e.__scopeSelect,children:u.jsx(Kf.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(XI,{...e,ref:t})});YI.displayName=po;var rr=10,[QI,bi]=ll(po),eJ="SelectContentImpl",tJ=Oa("SelectContent.RemoveScroll"),XI=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x,...y}=e,w=wi(po,n),[S,E]=v.useState(null),[T,C]=v.useState(null),j=Ee(t,P=>E(P)),[N,M]=v.useState(null),[I,R]=v.useState(null),F=Jf(n),[W,V]=v.useState(!1),Q=v.useRef(!1);v.useEffect(()=>{if(S)return jR(S)},[S]),bR();const X=v.useCallback(P=>{const[D,...O]=F().map(Y=>Y.ref.current),[L]=O.slice(-1),z=document.activeElement;for(const Y of P)if(Y===z||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===D&&T&&(T.scrollTop=0),Y===L&&T&&(T.scrollTop=T.scrollHeight),Y==null||Y.focus(),document.activeElement!==z))return},[F,T]),Z=v.useCallback(()=>X([N,S]),[X,N,S]);v.useEffect(()=>{W&&Z()},[W,Z]);const{onOpenChange:$,triggerPointerDownPosRef:U}=w;v.useEffect(()=>{if(S){let P={x:0,y:0};const D=L=>{var z,Y;P={x:Math.abs(Math.round(L.pageX)-(((z=U.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(L.pageY)-(((Y=U.current)==null?void 0:Y.y)??0))}},O=L=>{P.x<=10&&P.y<=10?L.preventDefault():S.contains(L.target)||$(!1),document.removeEventListener("pointermove",D),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",D),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",O,{capture:!0})}}},[S,$,U]),v.useEffect(()=>{const P=()=>$(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[$]);const[J,G]=mM(P=>{const D=F().filter(z=>!z.disabled),O=D.find(z=>z.ref.current===document.activeElement),L=gM(D,P,O);L&&setTimeout(()=>L.ref.current.focus())}),re=v.useCallback((P,D,O)=>{const L=!Q.current&&!O;(w.value!==void 0&&w.value===D||L)&&(M(P),L&&(Q.current=!0))},[w.value]),g=v.useCallback(()=>S==null?void 0:S.focus(),[S]),k=v.useCallback((P,D,O)=>{const L=!Q.current&&!O;(w.value!==void 0&&w.value===D||L)&&R(P)},[w.value]),_=r==="popper"?ly:ZI,A=_===ly?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return u.jsx(QI,{scope:n,content:S,viewport:T,onViewportChange:C,itemRefCallback:re,selectedItem:N,onItemLeave:g,itemTextRefCallback:k,focusSelectedItem:Z,selectedItemText:I,position:r,isPositioned:W,searchRef:J,children:u.jsx(F0,{as:tJ,allowPinchZoom:!0,children:u.jsx($0,{asChild:!0,trapped:w.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:ie(s,P=>{var D;(D=w.trigger)==null||D.focus({preventScroll:!0}),P.preventDefault()}),children:u.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(_,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:P=>P.preventDefault(),...y,...A,onPlaced:()=>V(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ie(y.onKeyDown,P=>{const D=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!D&&P.key.length===1&&G(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let L=F().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(P.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const z=P.target,Y=L.indexOf(z);L=L.slice(Y+1)}setTimeout(()=>X(L)),P.preventDefault()}})})})})})})});XI.displayName=eJ;var nJ="SelectItemAlignedPosition",ZI=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=wi(po,n),o=bi(po,n),[a,l]=v.useState(null),[c,d]=v.useState(null),h=Ee(t,j=>d(j)),f=Jf(n),m=v.useRef(!1),b=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=o,S=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&p&&x&&y){const j=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const z=I.left-N.left,Y=M.left-z,ce=j.left-Y,Be=j.width+ce,wt=Math.max(Be,N.width),Et=window.innerWidth-rr,Re=pv(Y,[rr,Math.max(rr,Et-wt)]);a.style.minWidth=Be+"px",a.style.left=Re+"px"}else{const z=N.right-I.right,Y=window.innerWidth-M.right-z,ce=window.innerWidth-j.right-Y,Be=j.width+ce,wt=Math.max(Be,N.width),Et=window.innerWidth-rr,Re=pv(Y,[rr,Math.max(rr,Et-wt)]);a.style.minWidth=Be+"px",a.style.right=Re+"px"}const R=f(),F=window.innerHeight-rr*2,W=p.scrollHeight,V=window.getComputedStyle(c),Q=parseInt(V.borderTopWidth,10),X=parseInt(V.paddingTop,10),Z=parseInt(V.borderBottomWidth,10),$=parseInt(V.paddingBottom,10),U=Q+X+W+$+Z,J=Math.min(x.offsetHeight*5,U),G=window.getComputedStyle(p),re=parseInt(G.paddingTop,10),g=parseInt(G.paddingBottom,10),k=j.top+j.height/2-rr,_=F-k,A=x.offsetHeight/2,P=x.offsetTop+A,D=Q+X+P,O=U-D;if(D<=k){const z=R.length>0&&x===R[R.length-1].ref.current;a.style.bottom="0px";const Y=c.clientHeight-p.offsetTop-p.offsetHeight,ce=Math.max(_,A+(z?g:0)+Y+Z),Be=D+ce;a.style.height=Be+"px"}else{const z=R.length>0&&x===R[0].ref.current;a.style.top="0px";const ce=Math.max(k,Q+p.offsetTop+(z?re:0)+A)+O;a.style.height=ce+"px",p.scrollTop=D-k+p.offsetTop}a.style.margin=`${rr}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,a,c,p,x,y,i.dir,r]);yt(()=>S(),[S]);const[E,T]=v.useState();yt(()=>{c&&T(window.getComputedStyle(c).zIndex)},[c]);const C=v.useCallback(j=>{j&&b.current===!0&&(S(),w==null||w(),b.current=!1)},[S,w]);return u.jsx(sJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:u.jsx(fe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ZI.displayName=nJ;var rJ="SelectPopperPosition",ly=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rr,...i}=e,o=Yf(n);return u.jsx(Dj,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ly.displayName=rJ;var[sJ,sb]=ll(po,{}),cy="SelectViewport",eM=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=bi(cy,n),o=sb(cy,n),a=Ee(t,i.onViewportChange),l=v.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Kf.Slot,{scope:n,children:u.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const b=window.innerHeight-rr*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<b){const w=y+m,S=Math.min(b,w),E=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});eM.displayName=cy;var tM="SelectGroup",[iJ,oJ]=ll(tM),aJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Dr();return u.jsx(iJ,{scope:n,id:s,children:u.jsx(fe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});aJ.displayName=tM;var nM="SelectLabel",rM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=oJ(nM,n);return u.jsx(fe.div,{id:s.id,...r,ref:t})});rM.displayName=nM;var Wh="SelectItem",[lJ,sM]=ll(Wh),iM=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=wi(Wh,n),l=bi(Wh,n),c=a.value===r,[d,h]=v.useState(i??""),[f,m]=v.useState(!1),b=Ee(t,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),p=Dr(),x=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(lJ,{scope:n,value:r,disabled:s,textId:p,isSelected:c,onItemTextChange:v.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(Kf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(fe.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:ie(o.onFocus,()=>m(!0)),onBlur:ie(o.onBlur,()=>m(!1)),onClick:ie(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ie(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ie(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ie(o.onPointerMove,w=>{var S;x.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ie(o.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(G7.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});iM.displayName=Wh;var Rl="SelectItemText",oM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=wi(Rl,n),a=bi(Rl,n),l=sM(Rl,n),c=Q7(Rl,n),[d,h]=v.useState(null),f=Ee(t,y=>h(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,b=v.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=c;return yt(()=>(p(b),()=>x(b)),[p,x,b]),u.jsxs(u.Fragment,{children:[u.jsx(fe.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vo.createPortal(i.children,o.valueNode):null]})});oM.displayName=Rl;var aM="SelectItemIndicator",lM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return sM(aM,n).isSelected?u.jsx(fe.span,{"aria-hidden":!0,...r,ref:t}):null});lM.displayName=aM;var uy="SelectScrollUpButton",cM=v.forwardRef((e,t)=>{const n=bi(uy,e.__scopeSelect),r=sb(uy,e.__scopeSelect),[s,i]=v.useState(!1),o=Ee(t,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(dM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});cM.displayName=uy;var dy="SelectScrollDownButton",uM=v.forwardRef((e,t)=>{const n=bi(dy,e.__scopeSelect),r=sb(dy,e.__scopeSelect),[s,i]=v.useState(!1),o=Ee(t,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(dM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uM.displayName=dy;var dM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=bi("SelectScrollButton",n),o=v.useRef(null),a=Jf(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),yt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{l()})})}),cJ="SelectSeparator",hM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(fe.div,{"aria-hidden":!0,...r,ref:t})});hM.displayName=cJ;var hy="SelectArrow",uJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Yf(n),i=wi(hy,n),o=bi(hy,n);return i.open&&o.position==="popper"?u.jsx(Lj,{...s,...r,ref:t}):null});uJ.displayName=hy;var dJ="SelectBubbleInput",fM=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),i=Ee(r,s),o=W7(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),u.jsx(fe.select,{...n,style:{...PC,...n.style},ref:i,defaultValue:t})});fM.displayName=dJ;function pM(e){return e===""||e===void 0}function mM(e){const t=gt(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gM(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=hJ(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function hJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var fJ=zI,vM=WI,pJ=GI,mJ=KI,gJ=JI,yM=YI,vJ=eM,wM=rM,bM=iM,yJ=oM,wJ=lM,xM=cM,SM=uM,_M=hM;const bJ=fJ,xJ=pJ,EM=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(vM,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(mJ,{asChild:!0,children:u.jsx(fw,{className:"h-4 w-4 opacity-50"})})]}));EM.displayName=vM.displayName;const kM=v.forwardRef(({className:e,...t},n)=>u.jsx(xM,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(A$,{className:"h-4 w-4"})}));kM.displayName=xM.displayName;const TM=v.forwardRef(({className:e,...t},n)=>u.jsx(SM,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(fw,{className:"h-4 w-4"})}));TM.displayName=SM.displayName;const CM=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>u.jsx(gJ,{children:u.jsxs(yM,{ref:s,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(kM,{}),u.jsx(vJ,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(TM,{})]})}));CM.displayName=yM.displayName;const SJ=v.forwardRef(({className:e,...t},n)=>u.jsx(wM,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));SJ.displayName=wM.displayName;const jM=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(bM,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(wJ,{children:u.jsx(Rg,{className:"h-4 w-4"})})}),u.jsx(yJ,{children:t})]}));jM.displayName=bM.displayName;const _J=v.forwardRef(({className:e,...t},n)=>u.jsx(_M,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));_J.displayName=_M.displayName;const EJ="e4e0bfb1baa318d89644193708f23b3042256ae413555b5f7105c8bb5ec78e3f";async function ws(e,t={}){const{data:n,error:r}=await ht.functions.invoke("admin-api",{body:{action:e,...t},headers:{"x-admin-key":EJ}});return r?(console.error(`Admin API error (${e}):`,r),{data:null,error:r.message}):n!=null&&n.error?{data:null,error:n.error}:{data:n,error:null}}async function kJ(){const{data:e,error:t}=await ws("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function TJ(e){const{data:t,error:n}=await ws("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function CJ(e,t){const{data:n,error:r}=await ws("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function jJ(e,t,n,r,s){const{data:i,error:o}=await ws("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s});return o||!i?{interviewee:null,error:o}:{interviewee:i.interviewee,error:null}}async function PJ(e){const{error:t}=await ws("markIntervieweeInvited",{intervieweeId:e});return{error:t}}async function AJ(){const{data:e,error:t}=await ws("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function NJ(e){const{data:t,error:n}=await ws("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}async function OJ(e){const{data:t,error:n}=await ws("getProjectAnalysis",{projectId:e});return n||!t?{analysis:null,interviewCount:0,error:n}:{analysis:t.analysis,interviewCount:t.interviewCount,error:null}}async function RJ(e){const{data:t,error:n}=await ws("triggerAnalysis",{projectId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}function IJ(){var M;const[e,t]=v.useState(""),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[d,h]=v.useState(""),[f,m]=v.useState(""),[b,p]=v.useState(""),[x,y]=v.useState(!1),[w,S]=v.useState(!1),{toast:E}=Hc();v.useEffect(()=>{T()},[]);async function T(){a(!0);const[I,R]=await Promise.all([kJ(),AJ()]);I.projects&&r(I.projects),R.orgs&&i(R.orgs),a(!1)}const C=n.filter(I=>{var R,F;return I.name.toLowerCase().includes(e.toLowerCase())||((F=(R=I.org)==null?void 0:R.name)==null?void 0:F.toLowerCase().includes(e.toLowerCase()))}),j=async()=>{var V;S(!0);let I=f;if(x&&b){const{org:Q,error:X}=await NJ(b);if(X||!Q){E({title:"Error",description:X||"Failed to create client",variant:"destructive"}),S(!1);return}I=Q.id}if(!I){E({title:"Error",description:"Please select or create a client",variant:"destructive"}),S(!1);return}const R=d||`Discovery - ${x?b:(V=s.find(Q=>Q.id===I))==null?void 0:V.name}`,{project:F,error:W}=await CJ(I,R);if(W||!F){E({title:"Error",description:W||"Failed to create project",variant:"destructive"}),S(!1);return}E({title:"Project created!",description:`${R} has been created.`}),h(""),m(""),p(""),y(!1),c(!1),S(!1),T()},N=I=>{const R={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},F=R[I]||R.setup;return u.jsx(xt,{className:F.className,children:F.label})};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),u.jsxs(pe,{onClick:()=>c(!0),children:[u.jsx(Ia,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),u.jsxs("div",{className:"mb-4 max-w-sm relative",children:[u.jsx($$,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(Ln,{placeholder:"Search projects...",value:e,onChange:I=>t(I.target.value),className:"pl-9"})]}),o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(Ft,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):C.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(yd,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),u.jsxs(pe,{onClick:()=>c(!0),children:[u.jsx(Ia,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):u.jsx("div",{className:"rounded-lg border",children:u.jsxs(tb,{children:[u.jsx(nb,{children:u.jsxs($c,{children:[u.jsx(hr,{children:"Project Name"}),u.jsx(hr,{children:"Client"}),u.jsx(hr,{children:"Status"}),u.jsx(hr,{children:"Created"}),u.jsx(hr,{})]})}),u.jsx(rb,{children:C.map(I=>{var R;return u.jsxs($c,{className:"cursor-pointer hover:bg-muted/50",children:[u.jsx(fr,{className:"font-medium",children:I.name}),u.jsx(fr,{children:((R=I.org)==null?void 0:R.name)||"Unknown"}),u.jsx(fr,{children:N(I.status)}),u.jsx(fr,{children:new Date(I.created_at).toLocaleDateString()}),u.jsx(fr,{children:u.jsx(pe,{variant:"ghost",size:"sm",asChild:!0,children:u.jsx(an,{to:`/admin/projects/${I.id}`,children:"View"})})})]},I.id)})})]})}),u.jsx(zh,{open:l,onOpenChange:c,children:u.jsxs(Mc,{children:[u.jsx(Dc,{children:u.jsx(Lc,{children:"New Discovery Project"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(is,{children:"Client *"}),x?u.jsxs("div",{className:"space-y-2 mt-1",children:[u.jsx(Ln,{value:b,onChange:I=>p(I.target.value),placeholder:"Enter client name"}),u.jsx(pe,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),p("")},children:"Select existing client instead"})]}):u.jsxs("div",{className:"space-y-2 mt-1",children:[u.jsxs(bJ,{value:f,onValueChange:m,children:[u.jsx(EM,{children:u.jsx(xJ,{placeholder:"Select a client..."})}),u.jsx(CM,{children:s.map(I=>u.jsx(jM,{value:I.id,children:I.name},I.id))})]}),u.jsx(pe,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),u.jsxs("div",{children:[u.jsx(is,{children:"Project Name (optional)"}),u.jsx(Ln,{value:d,onChange:I=>h(I.target.value),placeholder:`Discovery - ${x?b||"Client Name":((M=s.find(I=>I.id===f))==null?void 0:M.name)||"Client Name"}`,className:"mt-1"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),u.jsxs(qh,{children:[u.jsx(pe,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsxs(pe,{onClick:j,disabled:w||!f&&!b,children:[w?u.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var Dm="rovingFocusGroup.onEntryFocus",MJ={bubbles:!1,cancelable:!0},ou="RovingFocusGroup",[fy,PM,DJ]=cf(ou),[LJ,AM]=qn(ou,[DJ]),[$J,FJ]=LJ(ou),NM=v.forwardRef((e,t)=>u.jsx(fy.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(fy.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(VJ,{...e,ref:t})})}));NM.displayName=ou;var VJ=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),m=Ee(t,f),b=tu(i),[p,x]=hs({prop:o,defaultProp:a??null,onChange:l,caller:ou}),[y,w]=v.useState(!1),S=gt(c),E=PM(n),T=v.useRef(!1),[C,j]=v.useState(0);return v.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(Dm,S),()=>N.removeEventListener(Dm,S)},[S]),u.jsx($J,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(N=>x(N),[x]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>j(N=>N-1),[]),children:u.jsx(fe.div,{tabIndex:y||C===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:ie(e.onMouseDown,()=>{T.current=!0}),onFocus:ie(e.onFocus,N=>{const M=!T.current;if(N.target===N.currentTarget&&M&&!y){const I=new CustomEvent(Dm,MJ);if(N.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=E().filter(X=>X.focusable),F=R.find(X=>X.active),W=R.find(X=>X.id===p),Q=[F,W,...R].filter(Boolean).map(X=>X.ref.current);IM(Q,d)}}T.current=!1}),onBlur:ie(e.onBlur,()=>w(!1))})})}),OM="RovingFocusGroupItem",RM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=Dr(),c=i||l,d=FJ(OM,n),h=d.currentTabStopId===c,f=PM(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=d;return v.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),u.jsx(fy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ie(e.onMouseDown,x=>{r?d.onItemFocus(c):x.preventDefault()}),onFocus:ie(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ie(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=zJ(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const E=S.indexOf(x.currentTarget);S=d.loop?qJ(S,E+1):S.slice(E+1)}setTimeout(()=>IM(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});RM.displayName=OM;var UJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zJ(e,t,n){const r=BJ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return UJ[r]}function IM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function qJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WJ=NM,HJ=RM,Qf="Tabs",[GJ,vY]=qn(Qf,[AM]),MM=AM(),[KJ,ib]=GJ(Qf),DM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,d=tu(a),[h,f]=hs({prop:r,onChange:s,defaultProp:i??"",caller:Qf});return u.jsx(KJ,{scope:n,baseId:Dr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:u.jsx(fe.div,{dir:d,"data-orientation":o,...c,ref:t})})});DM.displayName=Qf;var LM="TabsList",$M=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=ib(LM,n),o=MM(n);return u.jsx(WJ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(fe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});$M.displayName=LM;var FM="TabsTrigger",VM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=ib(FM,n),a=MM(n),l=zM(o.baseId,r),c=qM(o.baseId,r),d=r===o.value;return u.jsx(HJ,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:ie(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ie(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ie(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});VM.displayName=FM;var UM="TabsContent",BM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=ib(UM,n),l=zM(a.baseId,r),c=qM(a.baseId,r),d=r===a.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),u.jsx(Wn,{present:s||d,children:({present:f})=>u.jsx(fe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});BM.displayName=UM;function zM(e,t){return`${e}-trigger-${t}`}function qM(e,t){return`${e}-content-${t}`}var JJ=DM,WM=$M,HM=VM,GM=BM;const YJ=JJ,KM=v.forwardRef(({className:e,...t},n)=>u.jsx(WM,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));KM.displayName=WM.displayName;const Od=v.forwardRef(({className:e,...t},n)=>u.jsx(HM,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Od.displayName=HM.displayName;const Rd=v.forwardRef(({className:e,...t},n)=>u.jsx(GM,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rd.displayName=GM.displayName;function QJ(){var D;const{id:e}=Iw(),[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState([]),[a,l]=v.useState(!0),[c,d]=v.useState(!1),[h,f]=v.useState(!1),[m,b]=v.useState(null),[p,x]=v.useState(null),[y,w]=v.useState({name:"",email:"",role:""}),[S,E]=v.useState(!1),[T,C]=v.useState(null),[j,N]=v.useState(!1),[M,I]=v.useState(!1),{toast:R}=Hc();v.useEffect(()=>{F()},[e]);async function F(){if(!e)return;l(!0);const{project:O,org:L,interviewees:z,error:Y}=await TJ(e);if(Y){R({title:"Error",description:Y,variant:"destructive"}),l(!1);return}n(O),s(L),o(z),l(!1)}const W=O=>`${window.location.origin}/interview/${O}`,V=O=>{navigator.clipboard.writeText(W(O.interview_token)),x(O.id),R({title:"Link copied!"}),setTimeout(()=>x(null),2e3)},Q=async()=>{if(!t||!y.name||!y.email)return;E(!0);const{interviewee:O,error:L}=await jJ(t.id,t.org_id,y.name,y.email,y.role||void 0);if(L||!O){R({title:"Error",description:L||"Failed to add interviewee",variant:"destructive"}),E(!1);return}R({title:"Interviewee added!",description:`${y.name} has been added to the project.`}),w({name:"",email:"",role:""}),d(!1),E(!1),b(O),f(!0),F()},X=async O=>{await PJ(O.id),R({title:"Marked as invited"}),F()},Z=async()=>{if(!e)return;N(!0);const{analysis:O,error:L}=await OJ(e);L?R({title:"Error loading analysis",description:L,variant:"destructive"}):C(O),N(!1)},$=async()=>{if(!e)return;I(!0);const{success:O,error:L}=await RJ(e);L?R({title:"Error generating analysis",description:L,variant:"destructive"}):(R({title:"Analysis generated!",description:"The analysis has been updated."}),Z()),I(!1)},U=O=>{b(O),f(!0)},J=O=>{O==="analysis"&&!T&&!j&&Z()},G=T==null?void 0:T.raw_output,re=O=>{const L={high:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return u.jsx(xt,{className:L[O]||L.medium,children:O})},g=O=>{const L={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return u.jsxs(xt,{className:L[O]||L.medium,children:[O," impact"]})},k=O=>({triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy/Rule-Based",document:"Document Workflows",glue_work:"Glue Work",research:"Repetitive Research"})[O]||O,_=O=>{const L={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},z=L[O]||L.pending;return u.jsx(xt,{className:z.className,children:z.label})};if(a)return u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(Ft,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!t)return u.jsx("div",{className:"p-6",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const A=i.filter(O=>O.status==="completed").length,P=i.filter(O=>O.status==="pending"||O.status==="invited").length;return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h1",{className:"text-2xl font-bold",children:t.name}),u.jsxs("p",{className:"text-muted-foreground",children:[r==null?void 0:r.name,"  Created ",new Date(t.created_at).toLocaleDateString()]})]}),u.jsxs(YJ,{defaultValue:"interviewees",className:"mt-6",onValueChange:J,children:[u.jsxs(KM,{className:"mb-6",children:[u.jsx(Od,{value:"interviewees",children:"Interviewees"}),u.jsx(Od,{value:"overview",children:"Overview"}),u.jsx(Od,{value:"analysis",disabled:A===0,children:"Analysis"})]}),u.jsx(Rd,{value:"overview",children:u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsx(ga,{icon:lh,label:"Total Interviewees",value:i.length}),u.jsx(ga,{icon:oh,label:"Completed",value:A}),u.jsx(ga,{icon:hw,label:"Pending",value:P})]})}),u.jsxs(Rd,{value:"interviewees",children:[u.jsx("div",{className:"mb-4 flex justify-end",children:u.jsxs(pe,{onClick:()=>d(!0),children:[u.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),i.length===0?u.jsx(Ne,{children:u.jsxs(Me,{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(lh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),u.jsxs(pe,{onClick:()=>d(!0),children:[u.jsx(Ia,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})}):u.jsx("div",{className:"rounded-lg border",children:u.jsxs(tb,{children:[u.jsx(nb,{children:u.jsxs($c,{children:[u.jsx(hr,{children:"Name"}),u.jsx(hr,{children:"Role"}),u.jsx(hr,{children:"Email"}),u.jsx(hr,{children:"Status"}),u.jsx(hr,{children:"Actions"})]})}),u.jsx(rb,{children:i.map(O=>u.jsxs($c,{children:[u.jsx(fr,{className:"font-medium",children:O.name}),u.jsx(fr,{children:O.role||"-"}),u.jsx(fr,{children:O.email}),u.jsx(fr,{children:_(O.status)}),u.jsx(fr,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>V(O),title:"Copy interview link",children:p===O.id?u.jsx(Rg,{className:"h-4 w-4"}):u.jsx(jx,{className:"h-4 w-4"})}),O.status==="pending"&&u.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>U(O),title:"Send invite",children:u.jsx(ih,{className:"h-4 w-4"})})]})})]},O.id))})]})})]}),u.jsx(Rd,{value:"analysis",children:j?u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(Ft,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated ",T.generated_at?new Date(T.generated_at).toLocaleString():"recently"]})}),u.jsxs(pe,{variant:"outline",size:"sm",onClick:$,disabled:M,children:[M?u.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(L$,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]}),(G==null?void 0:G.summary)&&u.jsxs(Ne,{children:[u.jsx(Jt,{children:u.jsxs(Yt,{className:"flex items-center gap-2",children:[u.jsx(q$,{className:"h-5 w-5"}),"Executive Summary"]})}),u.jsxs(Me,{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:G.summary.overall_assessment}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold",children:G.summary.total_workflows_identified||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Workflows Identified"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold",children:G.summary.total_automation_opportunities||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Automation Opportunities"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:G.summary.high_confidence_opportunities||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]}),G.summary.key_themes&&G.summary.key_themes.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Key Themes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:G.summary.key_themes.map((O,L)=>u.jsx(xt,{variant:"secondary",children:O},L))})]}),G.summary.recommended_priorities&&G.summary.recommended_priorities.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Recommended Priorities"}),u.jsx("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:G.summary.recommended_priorities.map((O,L)=>u.jsx("li",{children:O},L))})]})]})]}),(G==null?void 0:G.automation_opportunities)&&G.automation_opportunities.length>0&&u.jsxs(Ne,{children:[u.jsxs(Jt,{children:[u.jsxs(Yt,{className:"flex items-center gap-2",children:[u.jsx(nj,{className:"h-5 w-5"}),"Automation Opportunities"]}),u.jsx(Vr,{children:"Identified areas where AI or automation could add value"})]}),u.jsx(Me,{children:u.jsx(iy,{type:"single",collapsible:!0,className:"w-full",children:G.automation_opportunities.map((O,L)=>u.jsxs(Vh,{value:`opp-${L}`,children:[u.jsx(Uh,{className:"hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("span",{className:"font-medium",children:O.title}),u.jsxs("div",{className:"flex items-center gap-2",children:[re(O.confidence),g(O.estimated_impact)]})]})}),u.jsxs(Bh,{className:"space-y-4 pt-2",children:[u.jsx("p",{className:"text-muted-foreground",children:O.description}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx(xt,{variant:"outline",className:"mb-2",children:k(O.category)}),O.confidence_reasoning&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.jsx("strong",{children:"Confidence:"})," ",O.confidence_reasoning]}),O.impact_reasoning&&u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u.jsx("strong",{children:"Impact:"})," ",O.impact_reasoning]})]}),u.jsxs("div",{className:"space-y-2",children:[O.affected_workflows&&O.affected_workflows.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Affected Workflows"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:O.affected_workflows.join(", ")})]}),O.affected_people&&O.affected_people.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Who Benefits"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:O.affected_people.join(", ")})]})]})]}),O.prerequisites&&O.prerequisites.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Prerequisites"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:O.prerequisites.map((z,Y)=>u.jsx("li",{children:z},Y))})]}),O.risks&&O.risks.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Risks"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:O.risks.map((z,Y)=>u.jsx("li",{children:z},Y))})]})]})]},L))})})]}),((D=G==null?void 0:G.workflow_map)==null?void 0:D.workflows)&&G.workflow_map.workflows.length>0&&u.jsxs(Ne,{children:[u.jsxs(Jt,{children:[u.jsxs(Yt,{className:"flex items-center gap-2",children:[u.jsx(tj,{className:"h-5 w-5"}),"Identified Workflows"]}),u.jsx(Vr,{children:"Workflows discovered during the interviews"})]}),u.jsx(Me,{children:u.jsx(iy,{type:"single",collapsible:!0,className:"w-full",children:G.workflow_map.workflows.map((O,L)=>u.jsxs(Vh,{value:`workflow-${L}`,children:[u.jsx(Uh,{className:"hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("span",{className:"font-medium",children:O.name}),O.frequency&&u.jsxs(xt,{variant:"outline",className:"flex items-center gap-1",children:[u.jsx(sh,{className:"h-3 w-3"}),O.frequency]})]})}),u.jsxs(Bh,{className:"space-y-4 pt-2",children:[u.jsx("p",{className:"text-muted-foreground",children:O.description}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[O.owner&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Owner"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:O.owner})]}),O.estimated_time&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Typical Duration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:O.estimated_time})]}),O.systems_used&&O.systems_used.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Systems Used"}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:O.systems_used.map((z,Y)=>u.jsx(xt,{variant:"secondary",className:"text-xs",children:z},Y))})]})]}),O.components&&u.jsxs("div",{className:"space-y-2 text-sm",children:[O.components.triggers&&O.components.triggers.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Triggers:"})," ",O.components.triggers.join(", ")]}),O.components.outputs&&O.components.outputs.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Outputs:"})," ",O.components.outputs.join(", ")]})]})]}),O.pain_points&&O.pain_points.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Pain Points"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:O.pain_points.map((z,Y)=>u.jsx("li",{children:z},Y))})]})]})]},L))})})]}),(G==null?void 0:G.technical_questions)&&G.technical_questions.length>0&&u.jsxs(Ne,{children:[u.jsxs(Jt,{children:[u.jsxs(Yt,{className:"flex items-center gap-2",children:[u.jsx(N$,{className:"h-5 w-5"}),"Technical Questions"]}),u.jsx(Vr,{children:"Questions that need answers before proceeding"})]}),u.jsx(Me,{children:u.jsx("div",{className:"space-y-4",children:G.technical_questions.map((O,L)=>u.jsxs("div",{className:"border-l-2 border-muted-foreground/20 pl-4 py-2",children:[u.jsx("p",{className:"font-medium",children:O.question}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:O.context}),O.suggested_stakeholder&&u.jsxs("p",{className:"text-sm mt-2",children:[u.jsx("span",{className:"text-muted-foreground",children:"Ask:"})," ",u.jsx(xt,{variant:"outline",children:O.suggested_stakeholder})]})]},L))})})]}),(G==null?void 0:G.follow_up_suggestions)&&G.follow_up_suggestions.length>0&&u.jsxs(Ne,{children:[u.jsx(Jt,{children:u.jsxs(Yt,{className:"flex items-center gap-2",children:[u.jsx(mc,{className:"h-5 w-5"}),"Suggested Follow-ups"]})}),u.jsx(Me,{children:u.jsx("div",{className:"space-y-3",children:G.follow_up_suggestions.map((O,L)=>u.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:O.description}),re(O.priority)]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:O.reason}),O.suggested_participants&&O.suggested_participants.length>0&&u.jsxs("p",{className:"text-sm mt-1",children:[u.jsx("span",{className:"text-muted-foreground",children:"Participants:"})," ",O.suggested_participants.join(", ")]})]})},L))})})]}),(G==null?void 0:G.gaps_and_uncertainties)&&G.gaps_and_uncertainties.length>0&&u.jsxs(Ne,{children:[u.jsx(Jt,{children:u.jsxs(Yt,{className:"flex items-center gap-2",children:[u.jsx(Ra,{className:"h-5 w-5"}),"Gaps & Uncertainties"]})}),u.jsx(Me,{children:u.jsx("div",{className:"space-y-3",children:G.gaps_and_uncertainties.map((O,L)=>u.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-4 py-2",children:[u.jsx("p",{className:"font-medium",children:O.description}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u.jsx("strong",{children:"Impact:"})," ",O.impact]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.jsx("strong",{children:"Resolution:"})," ",O.suggested_resolution]})]},L))})})]})]}):u.jsx(Ne,{children:u.jsxs(Me,{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(ah,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No analysis yet"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Generate an analysis based on ",A," completed interview",A!==1?"s":"","."]}),u.jsxs(pe,{onClick:$,disabled:M,children:[M?u.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(ah,{className:"mr-2 h-4 w-4"}),"Generate Analysis"]})]})})})]}),u.jsx(zh,{open:c,onOpenChange:d,children:u.jsxs(Mc,{children:[u.jsxs(Dc,{children:[u.jsx(Lc,{children:"Add Interviewee"}),u.jsx(ay,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(is,{children:"Name *"}),u.jsx(Ln,{value:y.name,onChange:O=>w({...y,name:O.target.value}),placeholder:"John Smith",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(is,{children:"Email *"}),u.jsx(Ln,{type:"email",value:y.email,onChange:O=>w({...y,email:O.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(is,{children:"Role (optional)"}),u.jsx(Ln,{value:y.role,onChange:O=>w({...y,role:O.target.value}),placeholder:"Operations Manager",className:"mt-1"})]})]}),u.jsxs(qh,{children:[u.jsx(pe,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),u.jsxs(pe,{onClick:Q,disabled:S||!y.name||!y.email,children:[S?u.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})}),u.jsx(zh,{open:h,onOpenChange:f,children:u.jsxs(Mc,{className:"sm:max-w-lg",children:[u.jsxs(Dc,{children:[u.jsx(Lc,{children:"Send Interview Invite"}),u.jsxs(ay,{children:["Choose how to invite ",m==null?void 0:m.name," to their interview session."]})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(is,{className:"text-sm font-medium",children:"Interview Link"}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[u.jsx(Ln,{readOnly:!0,value:m?W(m.interview_token):"",className:"font-mono text-sm"}),u.jsx(pe,{variant:"outline",size:"icon",onClick:()=>m&&V(m),children:p===(m==null?void 0:m.id)?u.jsx(Rg,{className:"h-4 w-4"}):u.jsx(jx,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 14 days"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Ne,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{m&&(V(m),X(m))},children:u.jsxs(Me,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:u.jsx(P$,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),u.jsx(Px,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsx(Ne,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{if(m){const O=encodeURIComponent("Your AgentFlow Discovery Interview"),L=encodeURIComponent(`Hi ${m.name},

You've been invited to participate in a Discovery session.

Click the link below to start your interview when you're ready:
${W(m.interview_token)}

The conversation typically takes 20-30 minutes.

Best regards`);window.open(`mailto:${m.email}?subject=${O}&body=${L}`),X(m)}},children:u.jsxs(Me,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:u.jsx(ih,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Open in Email Client"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),u.jsx(Px,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),u.jsx(qh,{children:u.jsx(pe,{variant:"outline",onClick:()=>f(!1),children:"Done"})})]})})]})}function XJ(){const{toast:e}=Hc(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),u.jsxs("div",{className:"max-w-2xl space-y-6",children:[u.jsxs(Ne,{children:[u.jsxs(Jt,{children:[u.jsx(Yt,{children:"Voice Platform"}),u.jsx(Vr,{children:"Configure your Vapi integration"})]}),u.jsxs(Me,{children:[u.jsx(is,{htmlFor:"vapi",children:"Vapi API Key"}),u.jsx(Ln,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),u.jsxs(Ne,{children:[u.jsxs(Jt,{children:[u.jsx(Yt,{children:"LLM"}),u.jsx(Vr,{children:"Configure your AI provider"})]}),u.jsxs(Me,{children:[u.jsx(is,{htmlFor:"anthropic",children:"Anthropic API Key"}),u.jsx(Ln,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),u.jsxs(Ne,{children:[u.jsxs(Jt,{children:[u.jsx(Yt,{children:"Admin Users"}),u.jsx(Vr,{children:"Manage who can access this dashboard"})]}),u.jsxs(Me,{children:[u.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"admin@example.com"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),u.jsx(pe,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),u.jsx(pe,{onClick:t,children:"Save Settings"})]})]})}const ZJ=[{icon:R$,label:"Dashboard",href:"/admin/dashboard"},{icon:lh,label:"Projects",href:"/admin/projects"},{icon:V$,label:"Settings",href:"/admin/settings"}];function X1({isOpen:e,onClose:t,isMobile:n}){const r=vi(),s=tl(),{user:i,signOut:o}=eb(),a=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(d){console.error("Sign out error:",d)}},l=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",c=u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[u.jsxs(an,{to:"/admin/dashboard",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),n&&u.jsx(pe,{variant:"ghost",size:"icon",onClick:t,children:u.jsx(pw,{className:"h-5 w-5"})})]}),u.jsx("nav",{className:"flex-1 space-y-1 p-4",children:ZJ.map(d=>{const h=r.pathname===d.href||d.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return u.jsxs(an,{to:d.href,onClick:n?t:void 0,className:ae("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[u.jsx(d.icon,{className:"h-5 w-5"}),d.label,h&&u.jsx(be.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},d.href)})}),u.jsx("div",{className:"border-t p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:l})}),u.jsxs("div",{className:"flex-1 truncate",children:[u.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),u.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),u.jsx(pe,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:u.jsx(I$,{className:"h-4 w-4"})})]})})]});return n?u.jsx(Fa,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),u.jsx(be.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:c})]})}):u.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:c})}function eY({onMenuClick:e,title:t}){return u.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(pe,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[u.jsx(M$,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&u.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(eu,{})})]})}function tY(){const[e,t]=v.useState(!1),{user:n,isAdmin:r,loading:s}=eb();return s?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx(Ft,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?u.jsx(uB,{to:"/admin/login",replace:!0}):u.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[u.jsx(X1,{isOpen:!0,onClose:()=>{},isMobile:!1}),u.jsx(X1,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),u.jsxs("div",{className:"flex flex-1 flex-col",children:[u.jsx(eY,{onMenuClick:()=>t(!0)}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsx(dB,{})})]})]})}const nY=()=>{const e=vi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},rY=new y4,sY=()=>u.jsx(b4,{client:rY,children:u.jsx(AF,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:u.jsxs(KU,{children:[u.jsx(CF,{}),u.jsx(lV,{}),u.jsx(bB,{basename:"/discovery",children:u.jsxs(oS,{children:[u.jsx(pn,{path:"/",element:u.jsx(rW,{})}),u.jsx(pn,{path:"/interview/:token",element:u.jsx(u7,{})}),u.jsx(pn,{path:"/results/:token",element:u.jsx(R7,{})}),u.jsx(pn,{path:"/admin/*",element:u.jsx(I7,{children:u.jsxs(oS,{children:[u.jsx(pn,{path:"login",element:u.jsx(M7,{})}),u.jsx(pn,{path:"auth/callback",element:u.jsx(D7,{})}),u.jsxs(pn,{element:u.jsx(tY,{}),children:[u.jsx(pn,{path:"dashboard",element:u.jsx(V7,{})}),u.jsx(pn,{path:"projects",element:u.jsx(IJ,{})}),u.jsx(pn,{path:"projects/:id",element:u.jsx(QJ,{})}),u.jsx(pn,{path:"settings",element:u.jsx(XJ,{})})]})]})})}),u.jsx(pn,{path:"*",element:u.jsx(nY,{})})]})})]})})});xC(document.getElementById("root")).render(u.jsx(sY,{}));
