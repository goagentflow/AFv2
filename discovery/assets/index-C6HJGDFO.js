var hD=Object.defineProperty;var _x=e=>{throw TypeError(e)};var fD=(e,t,n)=>t in e?hD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xe=(e,t,n)=>fD(e,typeof t!="symbol"?t+"":t,n),fp=(e,t,n)=>t.has(e)||_x("Cannot "+n);var B=(e,t,n)=>(fp(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?_x("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),be=(e,t,n,r)=>(fp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Lt=(e,t,n)=>(fp(e,t,"access private method"),n);var mu=(e,t,n,r)=>({set _(s){be(e,t,s,n)},get _(){return B(e,t,r)}});function pD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var yk={exports:{}},Kh={},wk={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),gD=Symbol.for("react.portal"),vD=Symbol.for("react.fragment"),yD=Symbol.for("react.strict_mode"),wD=Symbol.for("react.profiler"),xD=Symbol.for("react.provider"),bD=Symbol.for("react.context"),SD=Symbol.for("react.forward_ref"),_D=Symbol.for("react.suspense"),ED=Symbol.for("react.memo"),kD=Symbol.for("react.lazy"),kx=Symbol.iterator;function CD(e){return e===null||typeof e!="object"?null:(e=kx&&e[kx]||e["@@iterator"],typeof e=="function"?e:null)}var xk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bk=Object.assign,Sk={};function Ya(e,t,n){this.props=e,this.context=t,this.refs=Sk,this.updater=n||xk}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ya.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _k(){}_k.prototype=Ya.prototype;function ky(e,t,n){this.props=e,this.context=t,this.refs=Sk,this.updater=n||xk}var Cy=ky.prototype=new _k;Cy.constructor=ky;bk(Cy,Ya.prototype);Cy.isPureReactComponent=!0;var Cx=Array.isArray,Ek=Object.prototype.hasOwnProperty,Ty={current:null},kk={key:!0,ref:!0,__self:!0,__source:!0};function Ck(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ek.call(t,r)&&!kk.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hc,type:e,key:i,ref:o,props:s,_owner:Ty.current}}function TD(e,t){return{$$typeof:Hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hc}function jD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tx=/\/+/g;function pp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jD(""+e.key):t.toString(36)}function hd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hc:case gD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+pp(o,0):r,Cx(s)?(n="",e!=null&&(n=e.replace(Tx,"$&/")+"/"),hd(s,t,n,"",function(u){return u})):s!=null&&(jy(s)&&(s=TD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tx,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Cx(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+pp(i,a);o+=hd(i,t,n,l,s)}else if(l=CD(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+pp(i,a++),o+=hd(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gu(e,t,n){if(e==null)return e;var r=[],s=0;return hd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function AD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},fd={transition:null},PD={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:fd,ReactCurrentOwner:Ty};function Tk(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:gu,forEach:function(e,t,n){gu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gu(e,function(){t++}),t},toArray:function(e){return gu(e,function(t){return t})||[]},only:function(e){if(!jy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=Ya;ke.Fragment=vD;ke.Profiler=wD;ke.PureComponent=ky;ke.StrictMode=yD;ke.Suspense=_D;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PD;ke.act=Tk;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bk({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ty.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Ek.call(t,l)&&!kk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hc,type:e.type,key:s,ref:i,props:r,_owner:o}};ke.createContext=function(e){return e={$$typeof:bD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xD,_context:e},e.Consumer=e};ke.createElement=Ck;ke.createFactory=function(e){var t=Ck.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:SD,render:e}};ke.isValidElement=jy;ke.lazy=function(e){return{$$typeof:kD,_payload:{_status:-1,_result:e},_init:AD}};ke.memo=function(e,t){return{$$typeof:ED,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=fd.transition;fd.transition={};try{e()}finally{fd.transition=t}};ke.unstable_act=Tk;ke.useCallback=function(e,t){return on.current.useCallback(e,t)};ke.useContext=function(e){return on.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return on.current.useDeferredValue(e)};ke.useEffect=function(e,t){return on.current.useEffect(e,t)};ke.useId=function(){return on.current.useId()};ke.useImperativeHandle=function(e,t,n){return on.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return on.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return on.current.useReducer(e,t,n)};ke.useRef=function(e){return on.current.useRef(e)};ke.useState=function(e){return on.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return on.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return on.current.useTransition()};ke.version="18.3.1";wk.exports=ke;var v=wk.exports;const H=vk(v),Ay=pD({__proto__:null,default:H},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=v,OD=Symbol.for("react.element"),RD=Symbol.for("react.fragment"),ID=Object.prototype.hasOwnProperty,MD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DD={key:!0,ref:!0,__self:!0,__source:!0};function jk(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ID.call(t,r)&&!DD.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:OD,type:e,key:i,ref:o,props:s,_owner:MD.current}}Kh.Fragment=RD;Kh.jsx=jk;Kh.jsxs=jk;yk.exports=Kh;var c=yk.exports,Ak={exports:{}},jn={},Pk={exports:{}},Nk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var K=D.length;D.push(F);e:for(;0<K;){var ie=K-1>>>1,te=D[ie];if(0<s(te,F))D[ie]=F,D[K]=te,K=ie;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],K=D.pop();if(K!==F){D[0]=K;e:for(var ie=0,te=D.length,g=te>>>1;ie<g;){var k=2*(ie+1)-1,E=D[k],P=k+1,A=D[P];if(0>s(E,K))P<te&&0>s(A,E)?(D[ie]=A,D[P]=K,ie=P):(D[ie]=E,D[k]=K,ie=k);else if(P<te&&0>s(A,K))D[ie]=A,D[P]=K,ie=P;else break e}}return F}function s(D,F){var K=D.sortIndex-F.sortIndex;return K!==0?K:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,b=!1,p=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=D)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function _(D){if(p=!1,x(D),!b)if(n(l)!==null)b=!0,Y(C);else{var F=n(u);F!==null&&Q(_,F.startTime-D)}}function C(D,F){b=!1,p&&(p=!1,y(N),N=-1),m=!0;var K=f;try{for(x(F),h=n(l);h!==null&&(!(h.expirationTime>F)||D&&!O());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var te=ie(h.expirationTime<=F);F=e.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),x(F)}else r(l);h=n(l)}if(h!==null)var g=!0;else{var k=n(u);k!==null&&Q(_,k.startTime-F),g=!1}return g}finally{h=null,f=K,m=!1}}var T=!1,j=null,N=-1,I=5,R=-1;function O(){return!(e.unstable_now()-R<I)}function $(){if(j!==null){var D=e.unstable_now();R=D;var F=!0;try{F=j(!0,D)}finally{F?W():(T=!1,j=null)}}else T=!1}var W;if(typeof w=="function")W=function(){w($)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,J=L.port2;L.port1.onmessage=$,W=function(){J.postMessage(null)}}else W=function(){S($,0)};function Y(D){j=D,T||(T=!0,W())}function Q(D,F){N=S(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,Y(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var K=f;f=F;try{return D()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=f;f=D;try{return F()}finally{f=K}},e.unstable_scheduleCallback=function(D,F,K){var ie=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,D={id:d++,callback:F,priorityLevel:D,startTime:K,expirationTime:te,sortIndex:-1},K>ie?(D.sortIndex=K,t(u,D),n(l)===null&&D===n(u)&&(p?(y(N),N=-1):p=!0,Q(_,K-ie))):(D.sortIndex=te,t(l,D),b||m||(b=!0,Y(C))),D},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(D){var F=f;return function(){var K=f;f=F;try{return D.apply(this,arguments)}finally{f=K}}}})(Nk);Pk.exports=Nk;var LD=Pk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D=v,Tn=LD;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ok=new Set,oc={};function vo(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(oc[e]=t,e=0;e<t.length;e++)Ok.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=Object.prototype.hasOwnProperty,FD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jx={},Ax={};function VD(e){return Km.call(Ax,e)?!0:Km.call(jx,e)?!1:FD.test(e)?Ax[e]=!0:(jx[e]=!0,!1)}function UD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BD(e,t,n,r){if(t===null||typeof t>"u"||UD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function an(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dt[e]=new an(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dt[t]=new an(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dt[e]=new an(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dt[e]=new an(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dt[e]=new an(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dt[e]=new an(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dt[e]=new an(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dt[e]=new an(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dt[e]=new an(e,5,!1,e.toLowerCase(),null,!1,!1)});var Py=/[\-:]([a-z])/g;function Ny(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Py,Ny);Dt[t]=new an(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Py,Ny);Dt[t]=new an(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Py,Ny);Dt[t]=new an(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dt[e]=new an(e,1,!1,e.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dt[e]=new an(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oy(e,t,n,r){var s=Dt.hasOwnProperty(t)?Dt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BD(t,n,s,r)&&(n=null),r||s===null?VD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vs=$D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),Rk=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Qm=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),Mk=Symbol.for("react.offscreen"),Px=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=Px&&e[Px]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,mp;function jl(e){if(mp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mp=t&&t[1]||""}return`
`+mp+e}var gp=!1;function vp(e,t){if(!e||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jl(e):""}function zD(e){switch(e.tag){case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return e=vp(e.type,!1),e;case 11:return e=vp(e.type.render,!1),e;case 1:return e=vp(e.type,!0),e;default:return""}}function Xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case Uo:return"Portal";case Jm:return"Profiler";case Ry:return"StrictMode";case Ym:return"Suspense";case Qm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ik:return(e.displayName||"Context")+".Consumer";case Rk:return(e._context.displayName||"Context")+".Provider";case Iy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case My:return t=e.displayName||null,t!==null?t:Xm(e.type)||"Memo";case Os:t=e._payload,e=e._init;try{return Xm(e(t))}catch{}}return null}function qD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(t);case 8:return t===Ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WD(e){var t=Dk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yu(e){e._valueTracker||(e._valueTracker=WD(e))}function Lk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zm(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Nx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $k(e,t){t=t.checked,t!=null&&Oy(e,"checked",t,!1)}function eg(e,t){$k(e,t);var n=ii(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tg(e,t.type,n):t.hasOwnProperty("defaultValue")&&tg(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ox(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tg(e,t,n){(t!=="number"||Bd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Al=Array.isArray;function ia(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ii(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ng(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Al(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ii(n)}}function Fk(e,t){var n=ii(t.value),r=ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ix(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wu,Uk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ac(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HD=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(e){HD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ul[t]=Ul[e]})});function Bk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ul.hasOwnProperty(e)&&Ul[e]?(""+t).trim():t+"px"}function zk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Bk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var GD=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(e,t){if(t){if(GD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function ig(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var og=null;function Dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ag=null,oa=null,aa=null;function Mx(e){if(e=Jc(e)){if(typeof ag!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Zh(t),ag(e.stateNode,e.type,t))}}function qk(e){oa?aa?aa.push(e):aa=[e]:oa=e}function Wk(){if(oa){var e=oa,t=aa;if(aa=oa=null,Mx(e),t)for(e=0;e<t.length;e++)Mx(t[e])}}function Hk(e,t){return e(t)}function Gk(){}var yp=!1;function Kk(e,t,n){if(yp)return e(t,n);yp=!0;try{return Hk(e,t,n)}finally{yp=!1,(oa!==null||aa!==null)&&(Gk(),Wk())}}function lc(e,t){var n=e.stateNode;if(n===null)return null;var r=Zh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var lg=!1;if(us)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){lg=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{lg=!1}function KD(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Bl=!1,zd=null,qd=!1,cg=null,JD={onError:function(e){Bl=!0,zd=e}};function YD(e,t,n,r,s,i,o,a,l){Bl=!1,zd=null,KD.apply(JD,arguments)}function QD(e,t,n,r,s,i,o,a,l){if(YD.apply(this,arguments),Bl){if(Bl){var u=zd;Bl=!1,zd=null}else throw Error(G(198));qd||(qd=!0,cg=u)}}function yo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dx(e){if(yo(e)!==e)throw Error(G(188))}function XD(e){var t=e.alternate;if(!t){if(t=yo(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Dx(s),e;if(i===r)return Dx(s),t;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function Yk(e){return e=XD(e),e!==null?Qk(e):null}function Qk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qk(e);if(t!==null)return t;e=e.sibling}return null}var Xk=Tn.unstable_scheduleCallback,Lx=Tn.unstable_cancelCallback,ZD=Tn.unstable_shouldYield,eL=Tn.unstable_requestPaint,ct=Tn.unstable_now,tL=Tn.unstable_getCurrentPriorityLevel,Ly=Tn.unstable_ImmediatePriority,Zk=Tn.unstable_UserBlockingPriority,Wd=Tn.unstable_NormalPriority,nL=Tn.unstable_LowPriority,eC=Tn.unstable_IdlePriority,Jh=null,Dr=null;function rL(e){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Jh,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:oL,sL=Math.log,iL=Math.LN2;function oL(e){return e>>>=0,e===0?32:31-(sL(e)/iL|0)|0}var xu=64,bu=4194304;function Pl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Pl(a):(i&=o,i!==0&&(r=Pl(i)))}else o=n&~s,o!==0?r=Pl(o):i!==0&&(r=Pl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mr(t),s=1<<n,r|=e[n],t&=~s;return r}function aL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=aL(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ug(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tC(){var e=xu;return xu<<=1,!(xu&4194240)&&(xu=64),e}function wp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=n}function cL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function $y(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var De=0;function nC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var rC,Fy,sC,iC,oC,dg=!1,Su=[],Js=null,Ys=null,Qs=null,cc=new Map,uc=new Map,Ds=[],uL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $x(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(t.pointerId)}}function vl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Jc(t),t!==null&&Fy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dL(e,t,n,r,s){switch(t){case"focusin":return Js=vl(Js,e,t,n,r,s),!0;case"dragenter":return Ys=vl(Ys,e,t,n,r,s),!0;case"mouseover":return Qs=vl(Qs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return cc.set(i,vl(cc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,uc.set(i,vl(uc.get(i)||null,e,t,n,r,s)),!0}return!1}function aC(e){var t=Mi(e.target);if(t!==null){var n=yo(t);if(n!==null){if(t=n.tag,t===13){if(t=Jk(n),t!==null){e.blockedOn=t,oC(e.priority,function(){sC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);og=r,n.target.dispatchEvent(r),og=null}else return t=Jc(n),t!==null&&Fy(t),e.blockedOn=n,!1;t.shift()}return!0}function Fx(e,t,n){pd(e)&&n.delete(t)}function hL(){dg=!1,Js!==null&&pd(Js)&&(Js=null),Ys!==null&&pd(Ys)&&(Ys=null),Qs!==null&&pd(Qs)&&(Qs=null),cc.forEach(Fx),uc.forEach(Fx)}function yl(e,t){e.blockedOn===t&&(e.blockedOn=null,dg||(dg=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,hL)))}function dc(e){function t(s){return yl(s,e)}if(0<Su.length){yl(Su[0],e);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&yl(Js,e),Ys!==null&&yl(Ys,e),Qs!==null&&yl(Qs,e),cc.forEach(t),uc.forEach(t),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)aC(n),n.blockedOn===null&&Ds.shift()}var la=vs.ReactCurrentBatchConfig,Gd=!0;function fL(e,t,n,r){var s=De,i=la.transition;la.transition=null;try{De=1,Vy(e,t,n,r)}finally{De=s,la.transition=i}}function pL(e,t,n,r){var s=De,i=la.transition;la.transition=null;try{De=4,Vy(e,t,n,r)}finally{De=s,la.transition=i}}function Vy(e,t,n,r){if(Gd){var s=hg(e,t,n,r);if(s===null)Ap(e,t,r,Kd,n),$x(e,r);else if(dL(s,e,t,n,r))r.stopPropagation();else if($x(e,r),t&4&&-1<uL.indexOf(e)){for(;s!==null;){var i=Jc(s);if(i!==null&&rC(i),i=hg(e,t,n,r),i===null&&Ap(e,t,r,Kd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ap(e,t,r,null,n)}}var Kd=null;function hg(e,t,n,r){if(Kd=null,e=Dy(r),e=Mi(e),e!==null)if(t=yo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kd=e,null}function lC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tL()){case Ly:return 1;case Zk:return 4;case Wd:case nL:return 16;case eC:return 536870912;default:return 16}default:return 16}}var Ws=null,Uy=null,md=null;function cC(){if(md)return md;var e,t=Uy,n=t.length,r,s="value"in Ws?Ws.value:Ws.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return md=s.slice(e,1<r?1-r:void 0)}function gd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _u(){return!0}function Vx(){return!1}function An(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_u:Vx,this.isPropagationStopped=Vx,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),t}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},By=An(Qa),Kc=rt({},Qa,{view:0,detail:0}),mL=An(Kc),xp,bp,wl,Yh=rt({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wl&&(wl&&e.type==="mousemove"?(xp=e.screenX-wl.screenX,bp=e.screenY-wl.screenY):bp=xp=0,wl=e),xp)},movementY:function(e){return"movementY"in e?e.movementY:bp}}),Ux=An(Yh),gL=rt({},Yh,{dataTransfer:0}),vL=An(gL),yL=rt({},Kc,{relatedTarget:0}),Sp=An(yL),wL=rt({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),xL=An(wL),bL=rt({},Qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SL=An(bL),_L=rt({},Qa,{data:0}),Bx=An(_L),EL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CL[e])?!!t[e]:!1}function zy(){return TL}var jL=rt({},Kc,{key:function(e){if(e.key){var t=EL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(e){return e.type==="keypress"?gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AL=An(jL),PL=rt({},Yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=An(PL),NL=rt({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),OL=An(NL),RL=rt({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),IL=An(RL),ML=rt({},Yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DL=An(ML),LL=[9,13,27,32],qy=us&&"CompositionEvent"in window,zl=null;us&&"documentMode"in document&&(zl=document.documentMode);var $L=us&&"TextEvent"in window&&!zl,uC=us&&(!qy||zl&&8<zl&&11>=zl),qx=" ",Wx=!1;function dC(e,t){switch(e){case"keyup":return LL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function FL(e,t){switch(e){case"compositionend":return hC(t);case"keypress":return t.which!==32?null:(Wx=!0,qx);case"textInput":return e=t.data,e===qx&&Wx?null:e;default:return null}}function VL(e,t){if(zo)return e==="compositionend"||!qy&&dC(e,t)?(e=cC(),md=Uy=Ws=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uC&&t.locale!=="ko"?null:t.data;default:return null}}var UL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UL[e.type]:t==="textarea"}function fC(e,t,n,r){qk(r),t=Jd(t,"onChange"),0<t.length&&(n=new By("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ql=null,hc=null;function BL(e){EC(e,0)}function Qh(e){var t=Ho(e);if(Lk(t))return e}function zL(e,t){if(e==="change")return t}var pC=!1;if(us){var _p;if(us){var Ep="oninput"in document;if(!Ep){var Gx=document.createElement("div");Gx.setAttribute("oninput","return;"),Ep=typeof Gx.oninput=="function"}_p=Ep}else _p=!1;pC=_p&&(!document.documentMode||9<document.documentMode)}function Kx(){ql&&(ql.detachEvent("onpropertychange",mC),hc=ql=null)}function mC(e){if(e.propertyName==="value"&&Qh(hc)){var t=[];fC(t,hc,e,Dy(e)),Kk(BL,t)}}function qL(e,t,n){e==="focusin"?(Kx(),ql=t,hc=n,ql.attachEvent("onpropertychange",mC)):e==="focusout"&&Kx()}function WL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qh(hc)}function HL(e,t){if(e==="click")return Qh(t)}function GL(e,t){if(e==="input"||e==="change")return Qh(t)}function KL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wr=typeof Object.is=="function"?Object.is:KL;function fc(e,t){if(wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Km.call(t,s)||!wr(e[s],t[s]))return!1}return!0}function Jx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yx(e,t){var n=Jx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jx(n)}}function gC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vC(){for(var e=window,t=Bd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bd(e.document)}return t}function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JL(e){var t=vC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gC(n.ownerDocument.documentElement,n)){if(r!==null&&Wy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Yx(n,i);var o=Yx(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YL=us&&"documentMode"in document&&11>=document.documentMode,qo=null,fg=null,Wl=null,pg=!1;function Qx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pg||qo==null||qo!==Bd(r)||(r=qo,"selectionStart"in r&&Wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wl&&fc(Wl,r)||(Wl=r,r=Jd(fg,"onSelect"),0<r.length&&(t=new By("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qo)))}function Eu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wo={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},kp={},yC={};us&&(yC=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Xh(e){if(kp[e])return kp[e];if(!Wo[e])return e;var t=Wo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in yC)return kp[e]=t[n];return e}var wC=Xh("animationend"),xC=Xh("animationiteration"),bC=Xh("animationstart"),SC=Xh("transitionend"),_C=new Map,Xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){_C.set(e,t),vo(t,[e])}for(var Cp=0;Cp<Xx.length;Cp++){var Tp=Xx[Cp],QL=Tp.toLowerCase(),XL=Tp[0].toUpperCase()+Tp.slice(1);fi(QL,"on"+XL)}fi(wC,"onAnimationEnd");fi(xC,"onAnimationIteration");fi(bC,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(SC,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Zx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,QD(r,t,void 0,e),e.currentTarget=null}function EC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Zx(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Zx(s,a,u),i=l}}}if(qd)throw e=cg,qd=!1,cg=null,e}function He(e,t){var n=t[wg];n===void 0&&(n=t[wg]=new Set);var r=e+"__bubble";n.has(r)||(kC(t,e,2,!1),n.add(r))}function jp(e,t,n){var r=0;t&&(r|=4),kC(n,e,r,t)}var ku="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[ku]){e[ku]=!0,Ok.forEach(function(n){n!=="selectionchange"&&(ZL.has(n)||jp(n,!1,e),jp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ku]||(t[ku]=!0,jp("selectionchange",!1,t))}}function kC(e,t,n,r){switch(lC(t)){case 1:var s=fL;break;case 4:s=pL;break;default:s=Vy}n=s.bind(null,t,n,e),s=void 0,!lg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ap(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Kk(function(){var u=i,d=Dy(n),h=[];e:{var f=_C.get(e);if(f!==void 0){var m=By,b=e;switch(e){case"keypress":if(gd(n)===0)break e;case"keydown":case"keyup":m=AL;break;case"focusin":b="focus",m=Sp;break;case"focusout":b="blur",m=Sp;break;case"beforeblur":case"afterblur":m=Sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OL;break;case wC:case xC:case bC:m=xL;break;case SC:m=IL;break;case"scroll":m=mL;break;case"wheel":m=DL;break;case"copy":case"cut":case"paste":m=SL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zx}var p=(t&4)!==0,S=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=u,x;w!==null;){x=w;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=lc(w,y),_!=null&&p.push(mc(w,_,x)))),S)break;w=w.return}0<p.length&&(f=new m(f,b,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==og&&(b=n.relatedTarget||n.fromElement)&&(Mi(b)||b[ds]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?Mi(b):null,b!==null&&(S=yo(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(p=Ux,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=zx,_="onPointerLeave",y="onPointerEnter",w="pointer"),S=m==null?f:Ho(m),x=b==null?f:Ho(b),f=new p(_,w+"leave",m,n,d),f.target=S,f.relatedTarget=x,_=null,Mi(d)===u&&(p=new p(y,w+"enter",b,n,d),p.target=x,p.relatedTarget=S,_=p),S=_,m&&b)t:{for(p=m,y=b,w=0,x=p;x;x=To(x))w++;for(x=0,_=y;_;_=To(_))x++;for(;0<w-x;)p=To(p),w--;for(;0<x-w;)y=To(y),x--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=To(p),y=To(y)}p=null}else p=null;m!==null&&eb(h,f,m,p,!1),b!==null&&S!==null&&eb(h,S,b,p,!0)}}e:{if(f=u?Ho(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=zL;else if(Hx(f))if(pC)C=GL;else{C=WL;var T=qL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=HL);if(C&&(C=C(e,u))){fC(h,C,n,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&tg(f,"number",f.value)}switch(T=u?Ho(u):window,e){case"focusin":(Hx(T)||T.contentEditable==="true")&&(qo=T,fg=u,Wl=null);break;case"focusout":Wl=fg=qo=null;break;case"mousedown":pg=!0;break;case"contextmenu":case"mouseup":case"dragend":pg=!1,Qx(h,n,d);break;case"selectionchange":if(YL)break;case"keydown":case"keyup":Qx(h,n,d)}var j;if(qy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else zo?dC(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(uC&&n.locale!=="ko"&&(zo||N!=="onCompositionStart"?N==="onCompositionEnd"&&zo&&(j=cC()):(Ws=d,Uy="value"in Ws?Ws.value:Ws.textContent,zo=!0)),T=Jd(u,N),0<T.length&&(N=new Bx(N,e,null,n,d),h.push({event:N,listeners:T}),j?N.data=j:(j=hC(n),j!==null&&(N.data=j)))),(j=$L?FL(e,n):VL(e,n))&&(u=Jd(u,"onBeforeInput"),0<u.length&&(d=new Bx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}EC(h,t)})}function mc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=lc(e,n),i!=null&&r.unshift(mc(e,i,s)),i=lc(e,t),i!=null&&r.push(mc(e,i,s))),e=e.return}return r}function To(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function eb(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=lc(n,i),l!=null&&o.unshift(mc(n,l,a))):s||(l=lc(n,i),l!=null&&o.push(mc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var e2=/\r\n?/g,t2=/\u0000|\uFFFD/g;function tb(e){return(typeof e=="string"?e:""+e).replace(e2,`
`).replace(t2,"")}function Cu(e,t,n){if(t=tb(t),tb(e)!==t&&n)throw Error(G(425))}function Yd(){}var mg=null,gg=null;function vg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yg=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(e){return nb.resolve(null).then(e).catch(s2)}:yg;function s2(e){setTimeout(function(){throw e})}function Pp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),dc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dc(t)}function Xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Xa,gc="__reactProps$"+Xa,ds="__reactContainer$"+Xa,wg="__reactEvents$"+Xa,i2="__reactListeners$"+Xa,o2="__reactHandles$"+Xa;function Mi(e){var t=e[Rr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ds]||n[Rr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rb(e);e!==null;){if(n=e[Rr])return n;e=rb(e)}return t}e=n,n=e.parentNode}return null}function Jc(e){return e=e[Rr]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Zh(e){return e[gc]||null}var xg=[],Go=-1;function pi(e){return{current:e}}function Ge(e){0>Go||(e.current=xg[Go],xg[Go]=null,Go--)}function ze(e,t){Go++,xg[Go]=e.current,e.current=t}var oi={},Ht=pi(oi),hn=pi(!1),no=oi;function Pa(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function fn(e){return e=e.childContextTypes,e!=null}function Qd(){Ge(hn),Ge(Ht)}function sb(e,t,n){if(Ht.current!==oi)throw Error(G(168));ze(Ht,t),ze(hn,n)}function CC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,qD(e)||"Unknown",s));return rt({},n,r)}function Xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,no=Ht.current,ze(Ht,e),ze(hn,hn.current),!0}function ib(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=CC(e,t,no),r.__reactInternalMemoizedMergedChildContext=e,Ge(hn),Ge(Ht),ze(Ht,e)):Ge(hn),ze(hn,n)}var ns=null,ef=!1,Np=!1;function TC(e){ns===null?ns=[e]:ns.push(e)}function a2(e){ef=!0,TC(e)}function mi(){if(!Np&&ns!==null){Np=!0;var e=0,t=De;try{var n=ns;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ns=null,ef=!1}catch(s){throw ns!==null&&(ns=ns.slice(e+1)),Xk(Ly,mi),s}finally{De=t,Np=!1}}return null}var Ko=[],Jo=0,Zd=null,eh=0,In=[],Mn=0,ro=null,ss=1,is="";function Ai(e,t){Ko[Jo++]=eh,Ko[Jo++]=Zd,Zd=e,eh=t}function jC(e,t,n){In[Mn++]=ss,In[Mn++]=is,In[Mn++]=ro,ro=e;var r=ss;e=is;var s=32-mr(r)-1;r&=~(1<<s),n+=1;var i=32-mr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ss=1<<32-mr(t)+s|n<<s|r,is=i+e}else ss=1<<i|n<<s|r,is=e}function Hy(e){e.return!==null&&(Ai(e,1),jC(e,1,0))}function Gy(e){for(;e===Zd;)Zd=Ko[--Jo],Ko[Jo]=null,eh=Ko[--Jo],Ko[Jo]=null;for(;e===ro;)ro=In[--Mn],In[Mn]=null,is=In[--Mn],In[Mn]=null,ss=In[--Mn],In[Mn]=null}var kn=null,_n=null,Ye=!1,pr=null;function AC(e,t){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ob(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,_n=Xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ro!==null?{id:ss,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,_n=null,!0):!1;default:return!1}}function bg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sg(e){if(Ye){var t=_n;if(t){var n=t;if(!ob(e,t)){if(bg(e))throw Error(G(418));t=Xs(n.nextSibling);var r=kn;t&&ob(e,t)?AC(r,n):(e.flags=e.flags&-4097|2,Ye=!1,kn=e)}}else{if(bg(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ye=!1,kn=e}}}function ab(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function Tu(e){if(e!==kn)return!1;if(!Ye)return ab(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vg(e.type,e.memoizedProps)),t&&(t=_n)){if(bg(e))throw PC(),Error(G(418));for(;t;)AC(e,t),t=Xs(t.nextSibling)}if(ab(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=Xs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=kn?Xs(e.stateNode.nextSibling):null;return!0}function PC(){for(var e=_n;e;)e=Xs(e.nextSibling)}function Na(){_n=kn=null,Ye=!1}function Ky(e){pr===null?pr=[e]:pr.push(e)}var l2=vs.ReactCurrentBatchConfig;function xl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function ju(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lb(e){var t=e._init;return t(e._payload)}function NC(e){function t(y,w){if(e){var x=y.deletions;x===null?(y.deletions=[w],y.flags|=16):x.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ni(y,w),y.index=0,y.sibling=null,y}function i(y,w,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<w?(y.flags|=2,w):x):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,x,_){return w===null||w.tag!==6?(w=$p(x,y.mode,_),w.return=y,w):(w=s(w,x),w.return=y,w)}function l(y,w,x,_){var C=x.type;return C===Bo?d(y,w,x.props.children,_,x.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Os&&lb(C)===w.type)?(_=s(w,x.props),_.ref=xl(y,w,x),_.return=y,_):(_=_d(x.type,x.key,x.props,null,y.mode,_),_.ref=xl(y,w,x),_.return=y,_)}function u(y,w,x,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Fp(x,y.mode,_),w.return=y,w):(w=s(w,x.children||[]),w.return=y,w)}function d(y,w,x,_,C){return w===null||w.tag!==7?(w=Ji(x,y.mode,_,C),w.return=y,w):(w=s(w,x),w.return=y,w)}function h(y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$p(""+w,y.mode,x),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vu:return x=_d(w.type,w.key,w.props,null,y.mode,x),x.ref=xl(y,null,w),x.return=y,x;case Uo:return w=Fp(w,y.mode,x),w.return=y,w;case Os:var _=w._init;return h(y,_(w._payload),x)}if(Al(w)||ml(w))return w=Ji(w,y.mode,x,null),w.return=y,w;ju(y,w)}return null}function f(y,w,x,_){var C=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(y,w,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vu:return x.key===C?l(y,w,x,_):null;case Uo:return x.key===C?u(y,w,x,_):null;case Os:return C=x._init,f(y,w,C(x._payload),_)}if(Al(x)||ml(x))return C!==null?null:d(y,w,x,_,null);ju(y,x)}return null}function m(y,w,x,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,a(w,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vu:return y=y.get(_.key===null?x:_.key)||null,l(w,y,_,C);case Uo:return y=y.get(_.key===null?x:_.key)||null,u(w,y,_,C);case Os:var T=_._init;return m(y,w,x,T(_._payload),C)}if(Al(_)||ml(_))return y=y.get(x)||null,d(w,y,_,C,null);ju(w,_)}return null}function b(y,w,x,_){for(var C=null,T=null,j=w,N=w=0,I=null;j!==null&&N<x.length;N++){j.index>N?(I=j,j=null):I=j.sibling;var R=f(y,j,x[N],_);if(R===null){j===null&&(j=I);break}e&&j&&R.alternate===null&&t(y,j),w=i(R,w,N),T===null?C=R:T.sibling=R,T=R,j=I}if(N===x.length)return n(y,j),Ye&&Ai(y,N),C;if(j===null){for(;N<x.length;N++)j=h(y,x[N],_),j!==null&&(w=i(j,w,N),T===null?C=j:T.sibling=j,T=j);return Ye&&Ai(y,N),C}for(j=r(y,j);N<x.length;N++)I=m(j,y,N,x[N],_),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?N:I.key),w=i(I,w,N),T===null?C=I:T.sibling=I,T=I);return e&&j.forEach(function(O){return t(y,O)}),Ye&&Ai(y,N),C}function p(y,w,x,_){var C=ml(x);if(typeof C!="function")throw Error(G(150));if(x=C.call(x),x==null)throw Error(G(151));for(var T=C=null,j=w,N=w=0,I=null,R=x.next();j!==null&&!R.done;N++,R=x.next()){j.index>N?(I=j,j=null):I=j.sibling;var O=f(y,j,R.value,_);if(O===null){j===null&&(j=I);break}e&&j&&O.alternate===null&&t(y,j),w=i(O,w,N),T===null?C=O:T.sibling=O,T=O,j=I}if(R.done)return n(y,j),Ye&&Ai(y,N),C;if(j===null){for(;!R.done;N++,R=x.next())R=h(y,R.value,_),R!==null&&(w=i(R,w,N),T===null?C=R:T.sibling=R,T=R);return Ye&&Ai(y,N),C}for(j=r(y,j);!R.done;N++,R=x.next())R=m(j,y,N,R.value,_),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?N:R.key),w=i(R,w,N),T===null?C=R:T.sibling=R,T=R);return e&&j.forEach(function($){return t(y,$)}),Ye&&Ai(y,N),C}function S(y,w,x,_){if(typeof x=="object"&&x!==null&&x.type===Bo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vu:e:{for(var C=x.key,T=w;T!==null;){if(T.key===C){if(C=x.type,C===Bo){if(T.tag===7){n(y,T.sibling),w=s(T,x.props.children),w.return=y,y=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Os&&lb(C)===T.type){n(y,T.sibling),w=s(T,x.props),w.ref=xl(y,T,x),w.return=y,y=w;break e}n(y,T);break}else t(y,T);T=T.sibling}x.type===Bo?(w=Ji(x.props.children,y.mode,_,x.key),w.return=y,y=w):(_=_d(x.type,x.key,x.props,null,y.mode,_),_.ref=xl(y,w,x),_.return=y,y=_)}return o(y);case Uo:e:{for(T=x.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(y,w.sibling),w=s(w,x.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Fp(x,y.mode,_),w.return=y,y=w}return o(y);case Os:return T=x._init,S(y,w,T(x._payload),_)}if(Al(x))return b(y,w,x,_);if(ml(x))return p(y,w,x,_);ju(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,x),w.return=y,y=w):(n(y,w),w=$p(x,y.mode,_),w.return=y,y=w),o(y)):n(y,w)}return S}var Oa=NC(!0),OC=NC(!1),th=pi(null),nh=null,Yo=null,Jy=null;function Yy(){Jy=Yo=nh=null}function Qy(e){var t=th.current;Ge(th),e._currentValue=t}function _g(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ca(e,t){nh=e,Jy=Yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(Jy!==e)if(e={context:e,memoizedValue:t,next:null},Yo===null){if(nh===null)throw Error(G(308));Yo=e,nh.dependencies={lanes:0,firstContext:e}}else Yo=Yo.next=e;return t}var Di=null;function Xy(e){Di===null?Di=[e]:Di.push(e)}function RC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xy(t)):(n.next=s.next,s.next=n),t.interleaved=n,hs(e,r)}function hs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rs=!1;function Zy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,hs(e,n)}return s=r.interleaved,s===null?(t.next=t,Xy(r)):(t.next=s.next,s.next=t),r.interleaved=t,hs(e,n)}function vd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$y(e,n)}}function cb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rh(e,t,n,r){var s=e.updateQueue;Rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,p=a;switch(f=t,m=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){h=b.call(m,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,f=typeof b=="function"?b.call(m,h,f):b,f==null)break e;h=rt({},h,f);break e;case 2:Rs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);io|=o,e.lanes=o,e.memoizedState=h}}function ub(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Yc={},Lr=pi(Yc),vc=pi(Yc),yc=pi(Yc);function Li(e){if(e===Yc)throw Error(G(174));return e}function ew(e,t){switch(ze(yc,t),ze(vc,e),ze(Lr,Yc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rg(t,e)}Ge(Lr),ze(Lr,t)}function Ra(){Ge(Lr),Ge(vc),Ge(yc)}function MC(e){Li(yc.current);var t=Li(Lr.current),n=rg(t,e.type);t!==n&&(ze(vc,e),ze(Lr,n))}function tw(e){vc.current===e&&(Ge(Lr),Ge(vc))}var Ze=pi(0);function sh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Op=[];function nw(){for(var e=0;e<Op.length;e++)Op[e]._workInProgressVersionPrimary=null;Op.length=0}var yd=vs.ReactCurrentDispatcher,Rp=vs.ReactCurrentBatchConfig,so=0,nt=null,wt=null,kt=null,ih=!1,Hl=!1,wc=0,c2=0;function $t(){throw Error(G(321))}function rw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wr(e[n],t[n]))return!1;return!0}function sw(e,t,n,r,s,i){if(so=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yd.current=e===null||e.memoizedState===null?f2:p2,e=n(r,s),Hl){i=0;do{if(Hl=!1,wc=0,25<=i)throw Error(G(301));i+=1,kt=wt=null,t.updateQueue=null,yd.current=m2,e=n(r,s)}while(Hl)}if(yd.current=oh,t=wt!==null&&wt.next!==null,so=0,kt=wt=nt=null,ih=!1,t)throw Error(G(300));return e}function iw(){var e=wc!==0;return wc=0,e}function Cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?nt.memoizedState=kt=e:kt=kt.next=e,kt}function qn(){if(wt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=kt===null?nt.memoizedState:kt.next;if(t!==null)kt=t,wt=e;else{if(e===null)throw Error(G(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},kt===null?nt.memoizedState=kt=e:kt=kt.next=e}return kt}function xc(e,t){return typeof t=="function"?t(e):t}function Ip(e){var t=qn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((so&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,nt.lanes|=d,io|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,wr(r,t.memoizedState)||(dn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,nt.lanes|=i,io|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mp(e){var t=qn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);wr(i,t.memoizedState)||(dn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function DC(){}function LC(e,t){var n=nt,r=qn(),s=t(),i=!wr(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,ow(VC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,bc(9,FC.bind(null,n,r,s,t),void 0,null),Tt===null)throw Error(G(349));so&30||$C(n,t,s)}return s}function $C(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function FC(e,t,n,r){t.value=n,t.getSnapshot=r,UC(t)&&BC(e)}function VC(e,t,n){return n(function(){UC(t)&&BC(e)})}function UC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wr(e,n)}catch{return!0}}function BC(e){var t=hs(e,1);t!==null&&gr(t,e,1,-1)}function db(e){var t=Cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=h2.bind(null,nt,e),[t.memoizedState,e]}function bc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zC(){return qn().memoizedState}function wd(e,t,n,r){var s=Cr();nt.flags|=e,s.memoizedState=bc(1|t,n,void 0,r===void 0?null:r)}function tf(e,t,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&rw(r,o.deps)){s.memoizedState=bc(t,n,i,r);return}}nt.flags|=e,s.memoizedState=bc(1|t,n,i,r)}function hb(e,t){return wd(8390656,8,e,t)}function ow(e,t){return tf(2048,8,e,t)}function qC(e,t){return tf(4,2,e,t)}function WC(e,t){return tf(4,4,e,t)}function HC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GC(e,t,n){return n=n!=null?n.concat([e]):null,tf(4,4,HC.bind(null,t,e),n)}function aw(){}function KC(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function JC(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function YC(e,t,n){return so&21?(wr(n,t)||(n=tC(),nt.lanes|=n,io|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=n)}function u2(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=Rp.transition;Rp.transition={};try{e(!1),t()}finally{De=n,Rp.transition=r}}function QC(){return qn().memoizedState}function d2(e,t,n){var r=ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XC(e))ZC(t,n);else if(n=RC(e,t,n,r),n!==null){var s=nn();gr(n,e,r,s),eT(n,t,r)}}function h2(e,t,n){var r=ti(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XC(e))ZC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wr(a,o)){var l=t.interleaved;l===null?(s.next=s,Xy(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=RC(e,t,s,r),n!==null&&(s=nn(),gr(n,e,r,s),eT(n,t,r))}}function XC(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function ZC(e,t){Hl=ih=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$y(e,n)}}var oh={readContext:zn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},f2={readContext:zn,useCallback:function(e,t){return Cr().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:hb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wd(4194308,4,HC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return wd(4,2,e,t)},useMemo:function(e,t){var n=Cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d2.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=Cr();return e={current:e},t.memoizedState=e},useState:db,useDebugValue:aw,useDeferredValue:function(e){return Cr().memoizedState=e},useTransition:function(){var e=db(!1),t=e[0];return e=u2.bind(null,e[1]),Cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,s=Cr();if(Ye){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Tt===null)throw Error(G(349));so&30||$C(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,hb(VC.bind(null,r,i,e),[e]),r.flags|=2048,bc(9,FC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Cr(),t=Tt.identifierPrefix;if(Ye){var n=is,r=ss;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p2={readContext:zn,useCallback:KC,useContext:zn,useEffect:ow,useImperativeHandle:GC,useInsertionEffect:qC,useLayoutEffect:WC,useMemo:JC,useReducer:Ip,useRef:zC,useState:function(){return Ip(xc)},useDebugValue:aw,useDeferredValue:function(e){var t=qn();return YC(t,wt.memoizedState,e)},useTransition:function(){var e=Ip(xc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:DC,useSyncExternalStore:LC,useId:QC,unstable_isNewReconciler:!1},m2={readContext:zn,useCallback:KC,useContext:zn,useEffect:ow,useImperativeHandle:GC,useInsertionEffect:qC,useLayoutEffect:WC,useMemo:JC,useReducer:Mp,useRef:zC,useState:function(){return Mp(xc)},useDebugValue:aw,useDeferredValue:function(e){var t=qn();return wt===null?t.memoizedState=e:YC(t,wt.memoizedState,e)},useTransition:function(){var e=Mp(xc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:DC,useSyncExternalStore:LC,useId:QC,unstable_isNewReconciler:!1};function ar(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nf={isMounted:function(e){return(e=e._reactInternals)?yo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nn(),s=ti(e),i=ls(r,s);i.payload=t,n!=null&&(i.callback=n),t=Zs(e,i,s),t!==null&&(gr(t,e,s,r),vd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nn(),s=ti(e),i=ls(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Zs(e,i,s),t!==null&&(gr(t,e,s,r),vd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nn(),r=ti(e),s=ls(n,r);s.tag=2,t!=null&&(s.callback=t),t=Zs(e,s,r),t!==null&&(gr(t,e,r,n),vd(t,e,r))}};function fb(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!fc(n,r)||!fc(s,i):!0}function tT(e,t,n){var r=!1,s=oi,i=t.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=fn(t)?no:Ht.current,r=t.contextTypes,i=(r=r!=null)?Pa(e,s):oi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function pb(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nf.enqueueReplaceState(t,t.state,null)}function kg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=fn(t)?no:Ht.current,s.context=Pa(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Eg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&nf.enqueueReplaceState(s,s.state,null),rh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ia(e,t){try{var n="",r=t;do n+=zD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Dp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g2=typeof WeakMap=="function"?WeakMap:Map;function nT(e,t,n){n=ls(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lh||(lh=!0,Dg=r),Cg(e,t)},n}function rT(e,t,n){n=ls(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Cg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cg(e,t),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function mb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=P2.bind(null,e,t,n),t.then(e,e))}function gb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ls(-1,1),t.tag=2,Zs(n,t,1))),n.lanes|=1),e)}var v2=vs.ReactCurrentOwner,dn=!1;function Yt(e,t,n,r){t.child=e===null?OC(t,null,n,r):Oa(t,e.child,n,r)}function yb(e,t,n,r,s){n=n.render;var i=t.ref;return ca(t,s),r=sw(e,t,n,r,i,s),n=iw(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fs(e,t,s)):(Ye&&n&&Hy(t),t.flags|=1,Yt(e,t,r,s),t.child)}function wb(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!mw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,sT(e,t,i,r,s)):(e=_d(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fc,n(o,r)&&e.ref===t.ref)return fs(e,t,s)}return t.flags|=1,e=ni(i,r),e.ref=t.ref,e.return=t,t.child=e}function sT(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(fc(i,r)&&e.ref===t.ref)if(dn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,fs(e,t,s)}return Tg(e,t,n,r,s)}function iT(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Xo,wn),wn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Xo,wn),wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(Xo,wn),wn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ze(Xo,wn),wn|=r;return Yt(e,t,s,n),t.child}function oT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tg(e,t,n,r,s){var i=fn(n)?no:Ht.current;return i=Pa(t,i),ca(t,s),n=sw(e,t,n,r,i,s),r=iw(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fs(e,t,s)):(Ye&&r&&Hy(t),t.flags|=1,Yt(e,t,n,s),t.child)}function xb(e,t,n,r,s){if(fn(n)){var i=!0;Xd(t)}else i=!1;if(ca(t,s),t.stateNode===null)xd(e,t),tT(t,n,r),kg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=fn(n)?no:Ht.current,u=Pa(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&pb(t,o,r,u),Rs=!1;var f=t.memoizedState;o.state=f,rh(t,r,o,s),l=t.memoizedState,a!==r||f!==l||hn.current||Rs?(typeof d=="function"&&(Eg(t,n,d,r),l=t.memoizedState),(a=Rs||fb(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,IC(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ar(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=fn(n)?no:Ht.current,l=Pa(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&pb(t,o,r,l),Rs=!1,f=t.memoizedState,o.state=f,rh(t,r,o,s);var b=t.memoizedState;a!==h||f!==b||hn.current||Rs?(typeof m=="function"&&(Eg(t,n,m,r),b=t.memoizedState),(u=Rs||fb(t,n,u,r,f,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return jg(e,t,n,r,i,s)}function jg(e,t,n,r,s,i){oT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&ib(t,n,!1),fs(e,t,i);r=t.stateNode,v2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Oa(t,e.child,null,i),t.child=Oa(t,null,a,i)):Yt(e,t,a,i),t.memoizedState=r.state,s&&ib(t,n,!0),t.child}function aT(e){var t=e.stateNode;t.pendingContext?sb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sb(e,t.context,!1),ew(e,t.containerInfo)}function bb(e,t,n,r,s){return Na(),Ky(s),t.flags|=256,Yt(e,t,n,r),t.child}var Ag={dehydrated:null,treeContext:null,retryLane:0};function Pg(e){return{baseLanes:e,cachePool:null,transitions:null}}function lT(e,t,n){var r=t.pendingProps,s=Ze.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Ze,s&1),e===null)return Sg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=of(o,r,0,null),e=Ji(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pg(n),t.memoizedState=Ag,e):lw(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return y2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ni(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ni(a,i):(i=Ji(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Pg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ag,r}return i=e.child,e=i.sibling,r=ni(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function lw(e,t){return t=of({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Au(e,t,n,r){return r!==null&&Ky(r),Oa(t,e.child,null,n),e=lw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Dp(Error(G(422))),Au(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=of({mode:"visible",children:r.children},s,0,null),i=Ji(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Oa(t,e.child,null,o),t.child.memoizedState=Pg(o),t.memoizedState=Ag,i);if(!(t.mode&1))return Au(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Dp(i,r,void 0),Au(e,t,o,r)}if(a=(o&e.childLanes)!==0,dn||a){if(r=Tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hs(e,s),gr(r,e,s,-1))}return pw(),r=Dp(Error(G(421))),Au(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=N2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,_n=Xs(s.nextSibling),kn=t,Ye=!0,pr=null,e!==null&&(In[Mn++]=ss,In[Mn++]=is,In[Mn++]=ro,ss=e.id,is=e.overflow,ro=t),t=lw(t,r.children),t.flags|=4096,t)}function Sb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_g(e.return,t,n)}function Lp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cT(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sb(e,n,t);else if(e.tag===19)Sb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&sh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Lp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Lp(t,!0,n,null,i);break;case"together":Lp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),io|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w2(e,t,n){switch(t.tag){case 3:aT(t),Na();break;case 5:MC(t);break;case 1:fn(t.type)&&Xd(t);break;case 4:ew(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(th,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?lT(e,t,n):(ze(Ze,Ze.current&1),e=fs(e,t,n),e!==null?e.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return cT(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,iT(e,t,n)}return fs(e,t,n)}var uT,Ng,dT,hT;uT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};dT=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Li(Lr.current);var i=null;switch(n){case"input":s=Zm(e,s),r=Zm(e,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=ng(e,s),r=ng(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yd)}sg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};hT=function(e,t,n,r){n!==r&&(t.flags|=4)};function bl(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x2(e,t,n){var r=t.pendingProps;switch(Gy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return fn(t.type)&&Qd(),Ft(t),null;case 3:return r=t.stateNode,Ra(),Ge(hn),Ge(Ht),nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pr!==null&&(Fg(pr),pr=null))),Ng(e,t),Ft(t),null;case 5:tw(t);var s=Li(yc.current);if(n=t.type,e!==null&&t.stateNode!=null)dT(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Ft(t),null}if(e=Li(Lr.current),Tu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rr]=t,r[gc]=i,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<Nl.length;s++)He(Nl[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Nx(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Rx(r,i),He("invalid",r)}sg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Cu(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Cu(r.textContent,a,e),s=["children",""+a]):oc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":yu(r),Ox(r,i,!0);break;case"textarea":yu(r),Ix(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rr]=t,e[gc]=r,uT(e,t,!1,!1),t.stateNode=e;e:{switch(o=ig(n,r),n){case"dialog":He("cancel",e),He("close",e),s=r;break;case"iframe":case"object":case"embed":He("load",e),s=r;break;case"video":case"audio":for(s=0;s<Nl.length;s++)He(Nl[s],e);s=r;break;case"source":He("error",e),s=r;break;case"img":case"image":case"link":He("error",e),He("load",e),s=r;break;case"details":He("toggle",e),s=r;break;case"input":Nx(e,r),s=Zm(e,r),He("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),He("invalid",e);break;case"textarea":Rx(e,r),s=ng(e,r),He("invalid",e);break;default:s=r}sg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?zk(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uk(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ac(e,l):typeof l=="number"&&ac(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",e):l!=null&&Oy(e,i,l,o))}switch(n){case"input":yu(e),Ox(e,r,!1);break;case"textarea":yu(e),Ix(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ii(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ia(e,!!r.multiple,i,!1):r.defaultValue!=null&&ia(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)hT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=Li(yc.current),Li(Lr.current),Tu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rr]=t,(i=r.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:Cu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=t,t.stateNode=r}return Ft(t),null;case 13:if(Ge(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&_n!==null&&t.mode&1&&!(t.flags&128))PC(),Na(),t.flags|=98560,i=!1;else if(i=Tu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Rr]=t}else Na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),i=!1}else pr!==null&&(Fg(pr),pr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?bt===0&&(bt=3):pw())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return Ra(),Ng(e,t),e===null&&pc(t.stateNode.containerInfo),Ft(t),null;case 10:return Qy(t.type._context),Ft(t),null;case 17:return fn(t.type)&&Qd(),Ft(t),null;case 19:if(Ge(Ze),i=t.memoizedState,i===null)return Ft(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)bl(i,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sh(e),o!==null){for(t.flags|=128,bl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Ze,Ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&ct()>Ma&&(t.flags|=128,r=!0,bl(i,!1),t.lanes=4194304)}else{if(!r)if(e=sh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Ft(t),null}else 2*ct()-i.renderingStartTime>Ma&&n!==1073741824&&(t.flags|=128,r=!0,bl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ct(),t.sibling=null,n=Ze.current,ze(Ze,r?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return fw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wn&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function b2(e,t){switch(Gy(t),t.tag){case 1:return fn(t.type)&&Qd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ra(),Ge(hn),Ge(Ht),nw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tw(t),null;case 13:if(Ge(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ze),null;case 4:return Ra(),null;case 10:return Qy(t.type._context),null;case 22:case 23:return fw(),null;case 24:return null;default:return null}}var Pu=!1,Bt=!1,S2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function Og(e,t,n){try{n()}catch(r){ot(e,t,r)}}var _b=!1;function _2(e,t){if(mg=Gd,e=vC(),Wy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gg={focusedElem:e,selectionRange:n},Gd=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,S=b.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:ar(t.type,p),S);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){ot(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return b=_b,_b=!1,b}function Gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Og(t,n,i)}s=s.next}while(s!==r)}}function rf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fT(e){var t=e.alternate;t!==null&&(e.alternate=null,fT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[gc],delete t[wg],delete t[i2],delete t[o2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pT(e){return e.tag===5||e.tag===3||e.tag===4}function Eb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ig(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yd));else if(r!==4&&(e=e.child,e!==null))for(Ig(e,t,n),e=e.sibling;e!==null;)Ig(e,t,n),e=e.sibling}function Mg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Mg(e,t,n),e=e.sibling;e!==null;)Mg(e,t,n),e=e.sibling}var Nt=null,hr=!1;function _s(e,t,n){for(n=n.child;n!==null;)mT(e,t,n),n=n.sibling}function mT(e,t,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Jh,n)}catch{}switch(n.tag){case 5:Bt||Qo(n,t);case 6:var r=Nt,s=hr;Nt=null,_s(e,t,n),Nt=r,hr=s,Nt!==null&&(hr?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(hr?(e=Nt,n=n.stateNode,e.nodeType===8?Pp(e.parentNode,n):e.nodeType===1&&Pp(e,n),dc(e)):Pp(Nt,n.stateNode));break;case 4:r=Nt,s=hr,Nt=n.stateNode.containerInfo,hr=!0,_s(e,t,n),Nt=r,hr=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Og(n,t,o),s=s.next}while(s!==r)}_s(e,t,n);break;case 1:if(!Bt&&(Qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,t,a)}_s(e,t,n);break;case 21:_s(e,t,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,_s(e,t,n),Bt=r):_s(e,t,n);break;default:_s(e,t,n)}}function kb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new S2),t.forEach(function(r){var s=O2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nt=a.stateNode,hr=!1;break e;case 3:Nt=a.stateNode.containerInfo,hr=!0;break e;case 4:Nt=a.stateNode.containerInfo,hr=!0;break e}a=a.return}if(Nt===null)throw Error(G(160));mT(i,o,s),Nt=null,hr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ot(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gT(t,e),t=t.sibling}function gT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(t,e),kr(e),r&4){try{Gl(3,e,e.return),rf(3,e)}catch(p){ot(e,e.return,p)}try{Gl(5,e,e.return)}catch(p){ot(e,e.return,p)}}break;case 1:Zn(t,e),kr(e),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(Zn(t,e),kr(e),r&512&&n!==null&&Qo(n,n.return),e.flags&32){var s=e.stateNode;try{ac(s,"")}catch(p){ot(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$k(s,i),ig(a,o);var u=ig(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?zk(s,h):d==="dangerouslySetInnerHTML"?Uk(s,h):d==="children"?ac(s,h):Oy(s,d,h,u)}switch(a){case"input":eg(s,i);break;case"textarea":Fk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ia(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ia(s,!!i.multiple,i.defaultValue,!0):ia(s,!!i.multiple,i.multiple?[]:"",!1))}s[gc]=i}catch(p){ot(e,e.return,p)}}break;case 6:if(Zn(t,e),kr(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){ot(e,e.return,p)}}break;case 3:if(Zn(t,e),kr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dc(t.containerInfo)}catch(p){ot(e,e.return,p)}break;case 4:Zn(t,e),kr(e);break;case 13:Zn(t,e),kr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dw=ct())),r&4&&kb(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Bt=(u=Bt)||d,Zn(t,e),Bt=u):Zn(t,e),kr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(h=ne=d;ne!==null;){switch(f=ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:Gl(4,f,f.return);break;case 1:Qo(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){ot(r,n,p)}}break;case 5:Qo(f,f.return);break;case 22:if(f.memoizedState!==null){Tb(h);continue}}m!==null?(m.return=f,ne=m):Tb(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Bk("display",o))}catch(p){ot(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){ot(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zn(t,e),kr(e),r&4&&kb(e);break;case 21:break;default:Zn(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pT(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ac(s,""),r.flags&=-33);var i=Eb(e);Mg(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Eb(e);Ig(e,a,o);break;default:throw Error(G(161))}}catch(l){ot(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E2(e,t,n){ne=e,vT(e)}function vT(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Pu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Pu;var u=Bt;if(Pu=o,(Bt=l)&&!u)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?jb(s):l!==null?(l.return=o,ne=l):jb(s);for(;i!==null;)ne=i,vT(i),i=i.sibling;ne=s,Pu=a,Bt=u}Cb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Cb(e)}}function Cb(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||rf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ar(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ub(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ub(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Bt||t.flags&512&&Rg(t)}catch(f){ot(t,t.return,f)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Tb(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function jb(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rf(4,t)}catch(l){ot(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ot(t,s,l)}}var i=t.return;try{Rg(t)}catch(l){ot(t,i,l)}break;case 5:var o=t.return;try{Rg(t)}catch(l){ot(t,o,l)}}}catch(l){ot(t,t.return,l)}if(t===e){ne=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ne=a;break}ne=t.return}}var k2=Math.ceil,ah=vs.ReactCurrentDispatcher,cw=vs.ReactCurrentOwner,Vn=vs.ReactCurrentBatchConfig,Pe=0,Tt=null,mt=null,Mt=0,wn=0,Xo=pi(0),bt=0,Sc=null,io=0,sf=0,uw=0,Kl=null,un=null,dw=0,Ma=1/0,Xr=null,lh=!1,Dg=null,ei=null,Nu=!1,Hs=null,ch=0,Jl=0,Lg=null,bd=-1,Sd=0;function nn(){return Pe&6?ct():bd!==-1?bd:bd=ct()}function ti(e){return e.mode&1?Pe&2&&Mt!==0?Mt&-Mt:l2.transition!==null?(Sd===0&&(Sd=tC()),Sd):(e=De,e!==0||(e=window.event,e=e===void 0?16:lC(e.type)),e):1}function gr(e,t,n,r){if(50<Jl)throw Jl=0,Lg=null,Error(G(185));Gc(e,n,r),(!(Pe&2)||e!==Tt)&&(e===Tt&&(!(Pe&2)&&(sf|=n),bt===4&&Ls(e,Mt)),pn(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Ma=ct()+500,ef&&mi()))}function pn(e,t){var n=e.callbackNode;lL(e,t);var r=Hd(e,e===Tt?Mt:0);if(r===0)n!==null&&Lx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lx(n),t===1)e.tag===0?a2(Ab.bind(null,e)):TC(Ab.bind(null,e)),r2(function(){!(Pe&6)&&mi()}),n=null;else{switch(nC(r)){case 1:n=Ly;break;case 4:n=Zk;break;case 16:n=Wd;break;case 536870912:n=eC;break;default:n=Wd}n=kT(n,yT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function yT(e,t){if(bd=-1,Sd=0,Pe&6)throw Error(G(327));var n=e.callbackNode;if(ua()&&e.callbackNode!==n)return null;var r=Hd(e,e===Tt?Mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uh(e,r);else{t=r;var s=Pe;Pe|=2;var i=xT();(Tt!==e||Mt!==t)&&(Xr=null,Ma=ct()+500,Ki(e,t));do try{j2();break}catch(a){wT(e,a)}while(!0);Yy(),ah.current=i,Pe=s,mt!==null?t=0:(Tt=null,Mt=0,t=bt)}if(t!==0){if(t===2&&(s=ug(e),s!==0&&(r=s,t=$g(e,s))),t===1)throw n=Sc,Ki(e,0),Ls(e,r),pn(e,ct()),n;if(t===6)Ls(e,r);else{if(s=e.current.alternate,!(r&30)&&!C2(s)&&(t=uh(e,r),t===2&&(i=ug(e),i!==0&&(r=i,t=$g(e,i))),t===1))throw n=Sc,Ki(e,0),Ls(e,r),pn(e,ct()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Pi(e,un,Xr);break;case 3:if(Ls(e,r),(r&130023424)===r&&(t=dw+500-ct(),10<t)){if(Hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yg(Pi.bind(null,e,un,Xr),t);break}Pi(e,un,Xr);break;case 4:if(Ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-mr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k2(r/1960))-r,10<r){e.timeoutHandle=yg(Pi.bind(null,e,un,Xr),r);break}Pi(e,un,Xr);break;case 5:Pi(e,un,Xr);break;default:throw Error(G(329))}}}return pn(e,ct()),e.callbackNode===n?yT.bind(null,e):null}function $g(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(Ki(e,t).flags|=256),e=uh(e,t),e!==2&&(t=un,un=n,t!==null&&Fg(t)),e}function Fg(e){un===null?un=e:un.push.apply(un,e)}function C2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~uw,t&=~sf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mr(t),r=1<<n;e[n]=-1,t&=~r}}function Ab(e){if(Pe&6)throw Error(G(327));ua();var t=Hd(e,0);if(!(t&1))return pn(e,ct()),null;var n=uh(e,t);if(e.tag!==0&&n===2){var r=ug(e);r!==0&&(t=r,n=$g(e,r))}if(n===1)throw n=Sc,Ki(e,0),Ls(e,t),pn(e,ct()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pi(e,un,Xr),pn(e,ct()),null}function hw(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Ma=ct()+500,ef&&mi())}}function oo(e){Hs!==null&&Hs.tag===0&&!(Pe&6)&&ua();var t=Pe;Pe|=1;var n=Vn.transition,r=De;try{if(Vn.transition=null,De=1,e)return e()}finally{De=r,Vn.transition=n,Pe=t,!(Pe&6)&&mi()}}function fw(){wn=Xo.current,Ge(Xo)}function Ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n2(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(Gy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qd();break;case 3:Ra(),Ge(hn),Ge(Ht),nw();break;case 5:tw(r);break;case 4:Ra();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:Qy(r.type._context);break;case 22:case 23:fw()}n=n.return}if(Tt=e,mt=e=ni(e.current,null),Mt=wn=t,bt=0,Sc=null,uw=sf=io=0,un=Kl=null,Di!==null){for(t=0;t<Di.length;t++)if(n=Di[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Di=null}return e}function wT(e,t){do{var n=mt;try{if(Yy(),yd.current=oh,ih){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ih=!1}if(so=0,kt=wt=nt=null,Hl=!1,wc=0,cw.current=null,n===null||n.return===null){bt=1,Sc=t,mt=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gb(o);if(m!==null){m.flags&=-257,vb(m,o,a,i,t),m.mode&1&&mb(i,u,t),t=m,l=u;var b=t.updateQueue;if(b===null){var p=new Set;p.add(l),t.updateQueue=p}else b.add(l);break e}else{if(!(t&1)){mb(i,u,t),pw();break e}l=Error(G(426))}}else if(Ye&&a.mode&1){var S=gb(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vb(S,o,a,i,t),Ky(Ia(l,a));break e}}i=l=Ia(l,a),bt!==4&&(bt=2),Kl===null?Kl=[i]:Kl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=nT(i,l,t);cb(i,y);break e;case 1:a=l;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ei===null||!ei.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=rT(i,a,t);cb(i,_);break e}}i=i.return}while(i!==null)}ST(n)}catch(C){t=C,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function xT(){var e=ah.current;return ah.current=oh,e===null?oh:e}function pw(){(bt===0||bt===3||bt===2)&&(bt=4),Tt===null||!(io&268435455)&&!(sf&268435455)||Ls(Tt,Mt)}function uh(e,t){var n=Pe;Pe|=2;var r=xT();(Tt!==e||Mt!==t)&&(Xr=null,Ki(e,t));do try{T2();break}catch(s){wT(e,s)}while(!0);if(Yy(),Pe=n,ah.current=r,mt!==null)throw Error(G(261));return Tt=null,Mt=0,bt}function T2(){for(;mt!==null;)bT(mt)}function j2(){for(;mt!==null&&!ZD();)bT(mt)}function bT(e){var t=ET(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?ST(e):mt=t,cw.current=null}function ST(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b2(n,t),n!==null){n.flags&=32767,mt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,mt=null;return}}else if(n=x2(n,t,wn),n!==null){mt=n;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);bt===0&&(bt=5)}function Pi(e,t,n){var r=De,s=Vn.transition;try{Vn.transition=null,De=1,A2(e,t,n,r)}finally{Vn.transition=s,De=r}return null}function A2(e,t,n,r){do ua();while(Hs!==null);if(Pe&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cL(e,i),e===Tt&&(mt=Tt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nu||(Nu=!0,kT(Wd,function(){return ua(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=De;De=1;var a=Pe;Pe|=4,cw.current=null,_2(e,n),gT(n,e),JL(gg),Gd=!!mg,gg=mg=null,e.current=n,E2(n),eL(),Pe=a,De=o,Vn.transition=i}else e.current=n;if(Nu&&(Nu=!1,Hs=e,ch=s),i=e.pendingLanes,i===0&&(ei=null),rL(n.stateNode),pn(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lh)throw lh=!1,e=Dg,Dg=null,e;return ch&1&&e.tag!==0&&ua(),i=e.pendingLanes,i&1?e===Lg?Jl++:(Jl=0,Lg=e):Jl=0,mi(),null}function ua(){if(Hs!==null){var e=nC(ch),t=Vn.transition,n=De;try{if(Vn.transition=null,De=16>e?16:e,Hs===null)var r=!1;else{if(e=Hs,Hs=null,ch=0,Pe&6)throw Error(G(331));var s=Pe;for(Pe|=4,ne=e.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Gl(8,d,i)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var f=d.sibling,m=d.return;if(fT(d),d===u){ne=null;break}if(f!==null){f.return=m,ne=f;break}ne=m}}}var b=i.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var S=p.sibling;p.sibling=null,p=S}while(p!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ne=y;break e}ne=i.return}}var w=e.current;for(ne=w;ne!==null;){o=ne;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ne=x;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(C){ot(a,a.return,C)}if(a===o){ne=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ne=_;break e}ne=a.return}}if(Pe=s,mi(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Jh,e)}catch{}r=!0}return r}finally{De=n,Vn.transition=t}}return!1}function Pb(e,t,n){t=Ia(n,t),t=nT(e,t,1),e=Zs(e,t,1),t=nn(),e!==null&&(Gc(e,1,t),pn(e,t))}function ot(e,t,n){if(e.tag===3)Pb(e,e,n);else for(;t!==null;){if(t.tag===3){Pb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=Ia(n,e),e=rT(t,e,1),t=Zs(t,e,1),e=nn(),t!==null&&(Gc(t,1,e),pn(t,e));break}}t=t.return}}function P2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&n,Tt===e&&(Mt&n)===n&&(bt===4||bt===3&&(Mt&130023424)===Mt&&500>ct()-dw?Ki(e,0):uw|=n),pn(e,t)}function _T(e,t){t===0&&(e.mode&1?(t=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):t=1);var n=nn();e=hs(e,t),e!==null&&(Gc(e,t,n),pn(e,n))}function N2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_T(e,n)}function O2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),_T(e,n)}var ET;ET=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hn.current)dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dn=!1,w2(e,t,n);dn=!!(e.flags&131072)}else dn=!1,Ye&&t.flags&1048576&&jC(t,eh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xd(e,t),e=t.pendingProps;var s=Pa(t,Ht.current);ca(t,n),s=sw(null,t,r,e,s,n);var i=iw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(r)?(i=!0,Xd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zy(t),s.updater=nf,t.stateNode=s,s._reactInternals=t,kg(t,r,e,n),t=jg(null,t,r,!0,i,n)):(t.tag=0,Ye&&i&&Hy(t),Yt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=I2(r),e=ar(r,e),s){case 0:t=Tg(null,t,r,e,n);break e;case 1:t=xb(null,t,r,e,n);break e;case 11:t=yb(null,t,r,e,n);break e;case 14:t=wb(null,t,r,ar(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ar(r,s),Tg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ar(r,s),xb(e,t,r,s,n);case 3:e:{if(aT(t),e===null)throw Error(G(387));r=t.pendingProps,i=t.memoizedState,s=i.element,IC(e,t),rh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ia(Error(G(423)),t),t=bb(e,t,r,n,s);break e}else if(r!==s){s=Ia(Error(G(424)),t),t=bb(e,t,r,n,s);break e}else for(_n=Xs(t.stateNode.containerInfo.firstChild),kn=t,Ye=!0,pr=null,n=OC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===s){t=fs(e,t,n);break e}Yt(e,t,r,n)}t=t.child}return t;case 5:return MC(t),e===null&&Sg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,vg(r,s)?o=null:i!==null&&vg(r,i)&&(t.flags|=32),oT(e,t),Yt(e,t,o,n),t.child;case 6:return e===null&&Sg(t),null;case 13:return lT(e,t,n);case 4:return ew(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Oa(t,null,r,n):Yt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ar(r,s),yb(e,t,r,s,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ze(th,r._currentValue),r._currentValue=o,i!==null)if(wr(i.value,o)){if(i.children===s.children&&!hn.current){t=fs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ls(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_g(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_g(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ca(t,n),s=zn(s),r=r(s),t.flags|=1,Yt(e,t,r,n),t.child;case 14:return r=t.type,s=ar(r,t.pendingProps),s=ar(r.type,s),wb(e,t,r,s,n);case 15:return sT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ar(r,s),xd(e,t),t.tag=1,fn(r)?(e=!0,Xd(t)):e=!1,ca(t,n),tT(t,r,s),kg(t,r,s,n),jg(null,t,r,!0,e,n);case 19:return cT(e,t,n);case 22:return iT(e,t,n)}throw Error(G(156,t.tag))};function kT(e,t){return Xk(e,t)}function R2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,n,r){return new R2(e,t,n,r)}function mw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I2(e){if(typeof e=="function")return mw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Iy)return 11;if(e===My)return 14}return 2}function ni(e,t){var n=e.alternate;return n===null?(n=Ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _d(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")mw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bo:return Ji(n.children,s,i,t);case Ry:o=8,s|=8;break;case Jm:return e=Ln(12,n,t,s|2),e.elementType=Jm,e.lanes=i,e;case Ym:return e=Ln(13,n,t,s),e.elementType=Ym,e.lanes=i,e;case Qm:return e=Ln(19,n,t,s),e.elementType=Qm,e.lanes=i,e;case Mk:return of(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rk:o=10;break e;case Ik:o=9;break e;case Iy:o=11;break e;case My:o=14;break e;case Os:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Ln(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ji(e,t,n,r){return e=Ln(7,e,r,t),e.lanes=n,e}function of(e,t,n,r){return e=Ln(22,e,r,t),e.elementType=Mk,e.lanes=n,e.stateNode={isHidden:!1},e}function $p(e,t,n){return e=Ln(6,e,null,t),e.lanes=n,e}function Fp(e,t,n){return t=Ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wp(0),this.expirationTimes=wp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gw(e,t,n,r,s,i,o,a,l){return e=new M2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ln(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zy(i),e}function D2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function CT(e){if(!e)return oi;e=e._reactInternals;e:{if(yo(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(fn(n))return CC(e,n,t)}return t}function TT(e,t,n,r,s,i,o,a,l){return e=gw(n,r,!0,e,s,i,o,a,l),e.context=CT(null),n=e.current,r=nn(),s=ti(n),i=ls(r,s),i.callback=t??null,Zs(n,i,s),e.current.lanes=s,Gc(e,s,r),pn(e,r),e}function af(e,t,n,r){var s=t.current,i=nn(),o=ti(s);return n=CT(n),t.context===null?t.context=n:t.pendingContext=n,t=ls(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zs(s,t,o),e!==null&&(gr(e,s,o,i),vd(e,s,o)),o}function dh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vw(e,t){Nb(e,t),(e=e.alternate)&&Nb(e,t)}function L2(){return null}var jT=typeof reportError=="function"?reportError:function(e){console.error(e)};function yw(e){this._internalRoot=e}lf.prototype.render=yw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));af(e,t,null,null)};lf.prototype.unmount=yw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oo(function(){af(null,e,null,null)}),t[ds]=null}};function lf(e){this._internalRoot=e}lf.prototype.unstable_scheduleHydration=function(e){if(e){var t=iC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ds.length&&t!==0&&t<Ds[n].priority;n++);Ds.splice(n,0,e),n===0&&aC(e)}};function ww(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function $2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=dh(o);i.call(u)}}var o=TT(t,r,e,0,null,!1,!1,"",Ob);return e._reactRootContainer=o,e[ds]=o.current,pc(e.nodeType===8?e.parentNode:e),oo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=dh(l);a.call(u)}}var l=gw(e,0,!1,null,null,!1,!1,"",Ob);return e._reactRootContainer=l,e[ds]=l.current,pc(e.nodeType===8?e.parentNode:e),oo(function(){af(t,l,n,r)}),l}function uf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=dh(o);a.call(l)}}af(t,o,e,s)}else o=$2(n,t,e,s,r);return dh(o)}rC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pl(t.pendingLanes);n!==0&&($y(t,n|1),pn(t,ct()),!(Pe&6)&&(Ma=ct()+500,mi()))}break;case 13:oo(function(){var r=hs(e,1);if(r!==null){var s=nn();gr(r,e,1,s)}}),vw(e,1)}};Fy=function(e){if(e.tag===13){var t=hs(e,134217728);if(t!==null){var n=nn();gr(t,e,134217728,n)}vw(e,134217728)}};sC=function(e){if(e.tag===13){var t=ti(e),n=hs(e,t);if(n!==null){var r=nn();gr(n,e,t,r)}vw(e,t)}};iC=function(){return De};oC=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};ag=function(e,t,n){switch(t){case"input":if(eg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Zh(r);if(!s)throw Error(G(90));Lk(r),eg(r,s)}}}break;case"textarea":Fk(e,n);break;case"select":t=n.value,t!=null&&ia(e,!!n.multiple,t,!1)}};Hk=hw;Gk=oo;var F2={usingClientEntryPoint:!1,Events:[Jc,Ho,Zh,qk,Wk,hw]},Sl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V2={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yk(e),e===null?null:e.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||L2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Jh=Ou.inject(V2),Dr=Ou}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F2;jn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ww(t))throw Error(G(200));return D2(e,t,null,n)};jn.createRoot=function(e,t){if(!ww(e))throw Error(G(299));var n=!1,r="",s=jT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gw(e,1,!1,null,null,n,!1,r,s),e[ds]=t.current,pc(e.nodeType===8?e.parentNode:e),new yw(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Yk(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return oo(e)};jn.hydrate=function(e,t,n){if(!cf(t))throw Error(G(200));return uf(null,e,t,!0,n)};jn.hydrateRoot=function(e,t,n){if(!ww(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=jT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=TT(t,null,e,1,n??null,s,!1,i,o),e[ds]=t.current,pc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new lf(t)};jn.render=function(e,t,n){if(!cf(t))throw Error(G(200));return uf(null,e,t,!1,n)};jn.unmountComponentAtNode=function(e){if(!cf(e))throw Error(G(40));return e._reactRootContainer?(oo(function(){uf(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};jn.unstable_batchedUpdates=hw;jn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!cf(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return uf(e,t,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function AT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AT)}catch(e){console.error(e)}}AT(),Ak.exports=jn;var wo=Ak.exports;const PT=vk(wo);var NT,Rb=wo;NT=Rb.createRoot,Rb.hydrateRoot;const U2=1,B2=1e6;let Vp=0;function z2(){return Vp=(Vp+1)%Number.MAX_SAFE_INTEGER,Vp.toString()}const Up=new Map,Ib=e=>{if(Up.has(e))return;const t=setTimeout(()=>{Up.delete(e),Yl({type:"REMOVE_TOAST",toastId:e})},B2);Up.set(e,t)},q2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,U2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ib(n):e.toasts.forEach(r=>{Ib(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ed=[];let kd={toasts:[]};function Yl(e){kd=q2(kd,e),Ed.forEach(t=>{t(kd)})}function W2({...e}){const t=z2(),n=s=>Yl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Yl({type:"DISMISS_TOAST",toastId:t});return Yl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Qc(){const[e,t]=v.useState(kd);return v.useEffect(()=>(Ed.push(t),()=>{const n=Ed.indexOf(t);n>-1&&Ed.splice(n,1)}),[e]),{...e,toast:W2,dismiss:n=>Yl({type:"DISMISS_TOAST",toastId:n})}}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Mb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function OT(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Mb(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Mb(e[s],null)}}}}function Ce(...e){return v.useCallback(OT(...e),e)}function H2(e,t){const n=v.createContext(t),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Hn(e,t=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:m,...b}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,S=v.useMemo(()=>b,Object.values(b));return c.jsx(p.Provider,{value:S,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[l])||a,b=v.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,G2(s,...t)]}function G2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Da(e){const t=J2(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(Y2);if(l){const u=l.props.children,d=a.map(h=>h===l?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return c.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var K2=Da("Slot");function J2(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=X2(s),a=Q2(i,s.props);return s.type!==v.Fragment&&(a.ref=r?OT(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RT=Symbol("radix.slottable");function IT(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=RT,t}function Y2(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RT}function Q2(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function X2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function df(e){const t=e+"CollectionProvider",[n,r]=Hn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:S,children:y}=p,w=H.useRef(null),x=H.useRef(new Map).current;return c.jsx(s,{scope:S,itemMap:x,collectionRef:w,children:y})};o.displayName=t;const a=e+"CollectionSlot",l=Da(a),u=H.forwardRef((p,S)=>{const{scope:y,children:w}=p,x=i(a,y),_=Ce(S,x.collectionRef);return c.jsx(l,{ref:_,children:w})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Da(d),m=H.forwardRef((p,S)=>{const{scope:y,children:w,...x}=p,_=H.useRef(null),C=Ce(S,_),T=i(d,y);return H.useEffect(()=>(T.itemMap.set(_,{ref:_,...x}),()=>void T.itemMap.delete(_))),c.jsx(f,{[h]:"",ref:C,children:w})});m.displayName=d;function b(p){const S=i(e+"CollectionConsumer",p);return H.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((T,j)=>x.indexOf(T.ref.current)-x.indexOf(j.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},b,r]}var Z2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=Z2.reduce((e,t)=>{const n=Da(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function MT(e,t){e&&wo.flushSync(()=>e.dispatchEvent(t))}function xt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function e$(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var t$="DismissableLayer",Vg="dismissableLayer.update",n$="dismissableLayer.pointerDownOutside",r$="dismissableLayer.focusOutside",Db,DT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=v.useContext(DT),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),b=Ce(t,j=>h(j)),p=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(S),w=d?p.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,C=i$(j=>{const N=j.target,I=[...u.branches].some(R=>R.contains(N));!_||I||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},f),T=o$(j=>{const N=j.target;[...u.branches].some(R=>R.contains(N))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},f);return e$(j=>{w===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Db=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Lb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Db)}},[d,f,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Lb())},[d,u]),v.useEffect(()=>{const j=()=>m({});return document.addEventListener(Vg,j),()=>document.removeEventListener(Vg,j)},[]),c.jsx(me.div,{...l,ref:b,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,C.onPointerDownCapture)})});Xc.displayName=t$;var s$="DismissableLayerBranch",LT=v.forwardRef((e,t)=>{const n=v.useContext(DT),r=v.useRef(null),s=Ce(t,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(me.div,{...e,ref:s})});LT.displayName=s$;function i$(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){$T(n$,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function o$(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&$T(r$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Lb(){const e=new CustomEvent(Vg);document.dispatchEvent(e)}function $T(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?MT(s,i):s.dispatchEvent(i)}var a$=Xc,l$=LT,Et=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},c$="Portal",hf=v.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=v.useState(!1);Et(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?PT.createPortal(c.jsx(me.div,{...r,ref:t}),o):null});hf.displayName=c$;function u$(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Gn=e=>{const{present:t,children:n}=e,r=d$(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Ce(r.ref,h$(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Gn.displayName="Presence";function d$(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[a,l]=u$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Ru(r.current);i.current=a==="mounted"?u:"none"},[a]),Et(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,m=Ru(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=Ru(r.current).includes(m.animationName);if(m.target===t&&p&&(l("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},f=m=>{m.target===t&&(i.current=Ru(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ru(e){return(e==null?void 0:e.animationName)||"none"}function h$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var f$=Ay[" useInsertionEffect ".trim().toString()]||Et;function zr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=p$({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=v.useCallback(d=>{var h;if(a){const f=m$(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,e,i,o]);return[l,u]}function p$({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),i=v.useRef(t);return f$(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function m$(e){return typeof e=="function"}var FT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),g$="VisuallyHidden",ff=v.forwardRef((e,t)=>c.jsx(me.span,{...e,ref:t,style:{...FT,...e.style}}));ff.displayName=g$;var v$=ff,xw="ToastProvider",[bw,y$,w$]=df("Toast"),[VT,LY]=Hn("Toast",[w$]),[x$,pf]=VT(xw),UT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xw}\`. Expected non-empty \`string\`.`),c.jsx(bw.Provider,{scope:t,children:c.jsx(x$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};UT.displayName=xw;var BT="ToastViewport",b$=["F8"],Ug="toast.viewportPause",Bg="toast.viewportResume",zT=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=b$,label:s="Notifications ({hotkey})",...i}=e,o=pf(BT,n),a=y$(n),l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=Ce(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const S=y=>{var x;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),v.useEffect(()=>{const S=l.current,y=h.current;if(b&&S&&y){const w=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(Ug);y.dispatchEvent(T),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(Bg);y.dispatchEvent(T),o.isClosePausedRef.current=!1}},_=T=>{!S.contains(T.relatedTarget)&&x()},C=()=>{S.contains(document.activeElement)||x()};return S.addEventListener("focusin",w),S.addEventListener("focusout",_),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",_),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[b,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:S})=>{const w=a().map(x=>{const _=x.ref.current,C=[_,...I$(_)];return S==="forwards"?C:C.reverse()});return(S==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const S=h.current;if(S){const y=w=>{var C,T,j;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const N=document.activeElement,I=w.shiftKey;if(w.target===S&&I){(C=u.current)==null||C.focus();return}const $=p({tabbingDirection:I?"backwards":"forwards"}),W=$.findIndex(L=>L===N);Bp($.slice(W+1))?w.preventDefault():I?(T=u.current)==null||T.focus():(j=d.current)==null||j.focus()}};return S.addEventListener("keydown",y),()=>S.removeEventListener("keydown",y)}},[a,p]),c.jsxs(l$,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&c.jsx(zg,{ref:u,onFocusFromOutsideViewport:()=>{const S=p({tabbingDirection:"forwards"});Bp(S)}}),c.jsx(bw.Slot,{scope:n,children:c.jsx(me.ol,{tabIndex:-1,...i,ref:f})}),b&&c.jsx(zg,{ref:d,onFocusFromOutsideViewport:()=>{const S=p({tabbingDirection:"backwards"});Bp(S)}})]})});zT.displayName=BT;var qT="ToastFocusProxy",zg=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=pf(qT,n);return c.jsx(ff,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});zg.displayName=qT;var Zc="Toast",S$="toast.swipeStart",_$="toast.swipeMove",E$="toast.swipeCancel",k$="toast.swipeEnd",WT=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=zr({prop:r,defaultProp:s??!0,onChange:i,caller:Zc});return c.jsx(Gn,{present:n||a,children:c.jsx(j$,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:xt(e.onPause),onResume:xt(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});WT.displayName=Zc;var[C$,T$]=VT(Zc,{onClose(){}}),j$=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...b}=e,p=pf(Zc,n),[S,y]=v.useState(null),w=Ce(t,L=>y(L)),x=v.useRef(null),_=v.useRef(null),C=s||p.duration,T=v.useRef(0),j=v.useRef(C),N=v.useRef(0),{onToastAdd:I,onToastRemove:R}=p,O=xt(()=>{var J;(S==null?void 0:S.contains(document.activeElement))&&((J=p.viewport)==null||J.focus()),o()}),$=v.useCallback(L=>{!L||L===1/0||(window.clearTimeout(N.current),T.current=new Date().getTime(),N.current=window.setTimeout(O,L))},[O]);v.useEffect(()=>{const L=p.viewport;if(L){const J=()=>{$(j.current),u==null||u()},Y=()=>{const Q=new Date().getTime()-T.current;j.current=j.current-Q,window.clearTimeout(N.current),l==null||l()};return L.addEventListener(Ug,Y),L.addEventListener(Bg,J),()=>{L.removeEventListener(Ug,Y),L.removeEventListener(Bg,J)}}},[p.viewport,C,l,u,$]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&$(C)},[i,C,p.isClosePausedRef,$]),v.useEffect(()=>(I(),()=>R()),[I,R]);const W=v.useMemo(()=>S?XT(S):null,[S]);return p.viewport?c.jsxs(c.Fragment,{children:[W&&c.jsx(A$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),c.jsx(C$,{scope:n,onClose:O,children:wo.createPortal(c.jsx(bw.ItemSlot,{scope:n,children:c.jsx(a$,{asChild:!0,onEscapeKeyDown:oe(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:oe(e.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:oe(e.onPointerMove,L=>{if(!x.current)return;const J=L.clientX-x.current.x,Y=L.clientY-x.current.y,Q=!!_.current,D=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=D?F(0,J):0,ie=D?0:F(0,Y),te=L.pointerType==="touch"?10:2,g={x:K,y:ie},k={originalEvent:L,delta:g};Q?(_.current=g,Iu(_$,h,k,{discrete:!1})):$b(g,p.swipeDirection,te)?(_.current=g,Iu(S$,d,k,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(J)>te||Math.abs(Y)>te)&&(x.current=null)}),onPointerUp:oe(e.onPointerUp,L=>{const J=_.current,Y=L.target;if(Y.hasPointerCapture(L.pointerId)&&Y.releasePointerCapture(L.pointerId),_.current=null,x.current=null,J){const Q=L.currentTarget,D={originalEvent:L,delta:J};$b(J,p.swipeDirection,p.swipeThreshold)?Iu(k$,m,D,{discrete:!0}):Iu(E$,f,D,{discrete:!0}),Q.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),A$=e=>{const{__scopeToast:t,children:n,...r}=e,s=pf(Zc,t),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return O$(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(hf,{asChild:!0,children:c.jsx(ff,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},P$="ToastTitle",HT=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(me.div,{...r,ref:t})});HT.displayName=P$;var N$="ToastDescription",GT=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(me.div,{...r,ref:t})});GT.displayName=N$;var KT="ToastAction",JT=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(QT,{altText:n,asChild:!0,children:c.jsx(Sw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${KT}\`. Expected non-empty \`string\`.`),null)});JT.displayName=KT;var YT="ToastClose",Sw=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=T$(YT,n);return c.jsx(QT,{asChild:!0,children:c.jsx(me.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,s.onClose)})})});Sw.displayName=YT;var QT=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return c.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function XT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),R$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...XT(r))}}),t}function Iu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?MT(s,i):s.dispatchEvent(i)}var $b=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function O$(e=()=>{}){const t=xt(e);Et(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function R$(e){return e.nodeType===e.ELEMENT_NODE}function I$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Bp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var M$=UT,ZT=zT,ej=WT,tj=HT,nj=GT,rj=JT,sj=Sw;function ij(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ij(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function oj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ij(e))&&(r&&(r+=" "),r+=t);return r}const Fb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Vb=oj,mf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Vb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=Fb(d)||Fb(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(b=>{let[p,S]=b;return Array.isArray(S)?S.includes({...i,...a}[p]):{...i,...a}[p]===S})?[...u,h,f]:u},[]);return Vb(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...L$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:aj("lucide",s),...a},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement($$,{ref:i,iconNode:t,className:aj(`lucide-${D$(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=ye("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=ye("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ye("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=ye("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=ye("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ye("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Aw="-",rF=e=>{const t=iF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Aw);return a[0]===""&&a.length!==1&&a.shift(),dj(a,t)||sF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},dj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?dj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Aw);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},zb=/^\[(.+)\]$/,sF=e=>{if(zb.test(e)){const t=zb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},iF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return aF(Object.entries(e.classGroups),n).forEach(([i,o])=>{Wg(o,r,i,t)}),r},Wg=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:qb(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(oF(s)){Wg(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Wg(o,qb(t,i),n,r)})})},qb=(e,t)=>{let n=e;return t.split(Aw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oF=e=>e.isThemeGetter,aF=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,lF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},hj="!",cF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let u=0,d=0,h;for(let S=0;S<a.length;S++){let y=a[S];if(u===0){if(y===s&&(r||a.slice(S,S+i)===t)){l.push(a.slice(d,S)),d=S+i;continue}if(y==="/"){h=S;continue}}y==="["?u++:y==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(hj),b=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},uF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dF=e=>({cache:lF(e.cacheSize),parseClassName:cF(e),...rF(e)}),hF=/\s+/,fF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(hF);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let b=!!m,p=r(b?f.substring(0,m):f);if(!p){if(!b){a=u+(a.length>0?" "+a:a);continue}if(p=r(f),!p){a=u+(a.length>0?" "+a:a);continue}b=!1}const S=uF(d).join(":"),y=h?S+hj:S,w=y+p;if(i.includes(w))continue;i.push(w);const x=s(p,b);for(let _=0;_<x.length;++_){const C=x[_];i.push(y+C)}a=u+(a.length>0?" "+a:a)}return a};function pF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=fj(t))&&(r&&(r+=" "),r+=n);return r}const fj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=fj(e[r]))&&(n&&(n+=" "),n+=t);return n};function mF(e,...t){let n,r,s,i=o;function o(l){const u=t.reduce((d,h)=>h(d),e());return n=dF(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=fF(l,n);return s(l,d),d}return function(){return i(pF.apply(null,arguments))}}const We=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},pj=/^\[(?:([a-z-]+):)?(.+)\]$/i,gF=/^\d+\/\d+$/,vF=new Set(["px","full","screen"]),yF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=e=>da(e)||vF.has(e)||gF.test(e),Es=e=>Za(e,"length",PF),da=e=>!!e&&!Number.isNaN(Number(e)),zp=e=>Za(e,"number",da),_l=e=>!!e&&Number.isInteger(Number(e)),_F=e=>e.endsWith("%")&&da(e.slice(0,-1)),Ee=e=>pj.test(e),ks=e=>yF.test(e),EF=new Set(["length","size","percentage"]),kF=e=>Za(e,EF,mj),CF=e=>Za(e,"position",mj),TF=new Set(["image","url"]),jF=e=>Za(e,TF,OF),AF=e=>Za(e,"",NF),El=()=>!0,Za=(e,t,n)=>{const r=pj.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},PF=e=>wF.test(e)&&!xF.test(e),mj=()=>!1,NF=e=>bF.test(e),OF=e=>SF.test(e),RF=()=>{const e=We("colors"),t=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),d=We("hueRotate"),h=We("invert"),f=We("gap"),m=We("gradientColorStops"),b=We("gradientColorStopPositions"),p=We("inset"),S=We("margin"),y=We("opacity"),w=We("padding"),x=We("saturate"),_=We("scale"),C=We("sepia"),T=We("skew"),j=We("space"),N=We("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ee,t],$=()=>[Ee,t],W=()=>["",Jr,Es],L=()=>["auto",da,Ee],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ee],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[da,Ee];return{cacheSize:500,separator:":",theme:{colors:[El],spacing:[Jr,Es],blur:["none","",ks,Ee],brightness:ie(),borderColor:[e],borderRadius:["none","","full",ks,Ee],borderSpacing:$(),borderWidth:W(),contrast:ie(),grayscale:F(),hueRotate:ie(),invert:F(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[_F,Es],inset:O(),margin:O(),opacity:ie(),padding:$(),saturate:ie(),scale:ie(),sepia:F(),skew:ie(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Ee]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_l,Ee]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",_l,Ee]}],"grid-cols":[{"grid-cols":[El]}],"col-start-end":[{col:["auto",{span:["full",_l,Ee]},Ee]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[El]}],"row-start-end":[{row:["auto",{span:[_l,Ee]},Ee]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zp]}],"font-family":[{font:[El]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",da,zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,Es]}],"underline-offset":[{"underline-offset":["auto",Jr,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),CF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Jr,Ee]}],"outline-w":[{outline:[Jr,Es]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Jr,Es]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ks,AF]}],"shadow-color":[{shadow:[El]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ks,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[_l,Ee]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jr,Es,zp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IF=mF(RF);function se(...e){return IF(oj(e))}const MF=M$,gj=v.forwardRef(({className:e,...t},n)=>c.jsx(ZT,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gj.displayName=ZT.displayName;const DF=mf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vj=v.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(ej,{ref:r,className:se(DF({variant:t}),e),...n}));vj.displayName=ej.displayName;const LF=v.forwardRef(({className:e,...t},n)=>c.jsx(rj,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));LF.displayName=rj.displayName;const yj=v.forwardRef(({className:e,...t},n)=>c.jsx(sj,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(Tw,{className:"h-4 w-4"})}));yj.displayName=sj.displayName;const wj=v.forwardRef(({className:e,...t},n)=>c.jsx(tj,{ref:n,className:se("text-sm font-semibold",e),...t}));wj.displayName=tj.displayName;const xj=v.forwardRef(({className:e,...t},n)=>c.jsx(nj,{ref:n,className:se("text-sm opacity-90",e),...t}));xj.displayName=nj.displayName;function $F(){const{toasts:e}=Qc();return c.jsxs(MF,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return c.jsxs(vj,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(wj,{children:n}),r&&c.jsx(xj,{children:r})]}),s,c.jsx(yj,{})]},t)}),c.jsx(gj,{})]})}var gh=["light","dark"],Pw="(prefers-color-scheme: dark)",FF=typeof window>"u",Nw=v.createContext(void 0),VF={setTheme:e=>{},themes:[]},bj=()=>{var e;return(e=v.useContext(Nw))!=null?e:VF},UF=e=>v.useContext(Nw)?e.children:v.createElement(zF,{...e}),BF=["light","dark"],zF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=BF,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:d})=>{let[h,f]=v.useState(()=>Wb(s,o)),[m,b]=v.useState(()=>Wb(s)),p=l?Object.values(l):i,S=v.useCallback(_=>{let C=_;if(!C)return;_==="system"&&n&&(C=Hb());let T=l?l[C]:C,j=t?WF():null,N=document.documentElement;if(a==="class"?(N.classList.remove(...p),T&&N.classList.add(T)):T?N.setAttribute(a,T):N.removeAttribute(a),r){let I=gh.includes(o)?o:null,R=gh.includes(C)?C:I;N.style.colorScheme=R}j==null||j()},[]),y=v.useCallback(_=>{let C=typeof _=="function"?_(_):_;f(C);try{localStorage.setItem(s,C)}catch{}},[e]),w=v.useCallback(_=>{let C=Hb(_);b(C),h==="system"&&n&&!e&&S("system")},[h,e]);v.useEffect(()=>{let _=window.matchMedia(Pw);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),v.useEffect(()=>{let _=C=>{if(C.key!==s)return;let T=C.newValue||o;y(T)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),v.useEffect(()=>{S(e??h)},[e,h]);let x=v.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,y,e,m,n,i]);return v.createElement(Nw.Provider,{value:x},v.createElement(qF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:u,attrs:p,nonce:d}),u)},qF=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?gh.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(b,p=!1,S=!0)=>{let y=o?o[b]:b,w=p?b+"|| ''":`'${y}'`,x="";return s&&S&&!p&&gh.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),n==="class"?p||y?x+=`c.add(${w})`:x+="null":y&&(x+=`d[s](n,${w})`),x},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Pw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),Wb=(e,t)=>{if(FF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},WF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Hb=e=>(e||(e=window.matchMedia(Pw)),e.matches?"dark":"light"),HF=e=>{switch(e){case"success":return JF;case"info":return QF;case"warning":return YF;case"error":return XF;default:return null}},GF=Array(12).fill(0),KF=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},GF.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ZF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),e4=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Hg=1,t4=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Hg++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],H.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(r4(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Hg++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cn=new t4,n4=(e,t)=>{let n=(t==null?void 0:t.id)||Hg++;return cn.addToast({title:e,...t,id:n}),n},r4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",s4=n4,i4=()=>cn.toasts,o4=()=>cn.getActiveToasts();Object.assign(s4,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:i4,getToasts:o4});function a4(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}a4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mu(e){return e.label!==void 0}var l4=3,c4="32px",u4="16px",Gb=4e3,d4=356,h4=14,f4=20,p4=200;function er(...e){return e.filter(Boolean).join(" ")}function m4(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var g4=e=>{var t,n,r,s,i,o,a,l,u,d,h;let{invert:f,toast:m,unstyled:b,interacting:p,setHeights:S,visibleToasts:y,heights:w,index:x,toasts:_,expanded:C,removeToast:T,defaultRichColors:j,closeButton:N,style:I,cancelButtonStyle:R,actionButtonStyle:O,className:$="",descriptionClassName:W="",duration:L,position:J,gap:Y,loadingIcon:Q,expandByDefault:D,classNames:F,icons:K,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:te}=e,[g,k]=H.useState(null),[E,P]=H.useState(null),[A,M]=H.useState(!1),[U,V]=H.useState(!1),[q,X]=H.useState(!1),[ce,Me]=H.useState(!1),[ht,he]=H.useState(!1),[_e,qe]=H.useState(0),[gt,de]=H.useState(0),re=H.useRef(m.duration||L||Gb),at=H.useRef(null),gn=H.useRef(null),fu=x===0,up=x+1<=y,ln=m.type,Eo=m.dismissible!==!1,iD=m.className||"",oD=m.descriptionClassName||"",pu=H.useMemo(()=>w.findIndex(we=>we.toastId===m.id)||0,[w,m.id]),aD=H.useMemo(()=>{var we;return(we=m.closeButton)!=null?we:N},[m.closeButton,N]),wx=H.useMemo(()=>m.duration||L||Gb,[m.duration,L]),dp=H.useRef(0),ko=H.useRef(0),xx=H.useRef(0),Co=H.useRef(null),[lD,cD]=J.split("-"),bx=H.useMemo(()=>w.reduce((we,Le,Je)=>Je>=pu?we:we+Le.height,0),[w,pu]),Sx=e4(),uD=m.invert||f,hp=ln==="loading";ko.current=H.useMemo(()=>pu*Y+bx,[pu,bx]),H.useEffect(()=>{re.current=wx},[wx]),H.useEffect(()=>{M(!0)},[]),H.useEffect(()=>{let we=gn.current;if(we){let Le=we.getBoundingClientRect().height;return de(Le),S(Je=>[{toastId:m.id,height:Le,position:m.position},...Je]),()=>S(Je=>Je.filter(Yn=>Yn.toastId!==m.id))}},[S,m.id]),H.useLayoutEffect(()=>{if(!A)return;let we=gn.current,Le=we.style.height;we.style.height="auto";let Je=we.getBoundingClientRect().height;we.style.height=Le,de(Je),S(Yn=>Yn.find(Qn=>Qn.toastId===m.id)?Yn.map(Qn=>Qn.toastId===m.id?{...Qn,height:Je}:Qn):[{toastId:m.id,height:Je,position:m.position},...Yn])},[A,m.title,m.description,S,m.id]);let xs=H.useCallback(()=>{V(!0),qe(ko.current),S(we=>we.filter(Le=>Le.toastId!==m.id)),setTimeout(()=>{T(m)},p4)},[m,T,S,ko]);H.useEffect(()=>{if(m.promise&&ln==="loading"||m.duration===1/0||m.type==="loading")return;let we;return C||p||te&&Sx?(()=>{if(xx.current<dp.current){let Le=new Date().getTime()-dp.current;re.current=re.current-Le}xx.current=new Date().getTime()})():re.current!==1/0&&(dp.current=new Date().getTime(),we=setTimeout(()=>{var Le;(Le=m.onAutoClose)==null||Le.call(m,m),xs()},re.current)),()=>clearTimeout(we)},[C,p,m,ln,te,Sx,xs]),H.useEffect(()=>{m.delete&&xs()},[xs,m.delete]);function dD(){var we,Le,Je;return K!=null&&K.loading?H.createElement("div",{className:er(F==null?void 0:F.loader,(we=m==null?void 0:m.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":ln==="loading"},K.loading):Q?H.createElement("div",{className:er(F==null?void 0:F.loader,(Le=m==null?void 0:m.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":ln==="loading"},Q):H.createElement(KF,{className:er(F==null?void 0:F.loader,(Je=m==null?void 0:m.classNames)==null?void 0:Je.loader),visible:ln==="loading"})}return H.createElement("li",{tabIndex:0,ref:gn,className:er($,iD,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[ln],(n=m==null?void 0:m.classNames)==null?void 0:n[ln]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":A,"data-promise":!!m.promise,"data-swiped":ht,"data-removed":U,"data-visible":up,"data-y-position":lD,"data-x-position":cD,"data-index":x,"data-front":fu,"data-swiping":q,"data-dismissible":Eo,"data-type":ln,"data-invert":uD,"data-swipe-out":ce,"data-swipe-direction":E,"data-expanded":!!(C||D&&A),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${U?_e:ko.current}px`,"--initial-height":D?"auto":`${gt}px`,...I,...m.style},onDragEnd:()=>{X(!1),k(null),Co.current=null},onPointerDown:we=>{hp||!Eo||(at.current=new Date,qe(ko.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(X(!0),Co.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Le,Je,Yn;if(ce||!Eo)return;Co.current=null;let Qn=Number(((we=gn.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bs=Number(((Le=gn.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bi=new Date().getTime()-((Je=at.current)==null?void 0:Je.getTime()),Xn=g==="x"?Qn:bs,Ss=Math.abs(Xn)/bi;if(Math.abs(Xn)>=f4||Ss>.11){qe(ko.current),(Yn=m.onDismiss)==null||Yn.call(m,m),P(g==="x"?Qn>0?"right":"left":bs>0?"down":"up"),xs(),Me(!0),he(!1);return}X(!1),k(null)},onPointerMove:we=>{var Le,Je,Yn,Qn;if(!Co.current||!Eo||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;let bs=we.clientY-Co.current.y,bi=we.clientX-Co.current.x,Xn=(Je=e.swipeDirections)!=null?Je:m4(J);!g&&(Math.abs(bi)>1||Math.abs(bs)>1)&&k(Math.abs(bi)>Math.abs(bs)?"x":"y");let Ss={x:0,y:0};g==="y"?(Xn.includes("top")||Xn.includes("bottom"))&&(Xn.includes("top")&&bs<0||Xn.includes("bottom")&&bs>0)&&(Ss.y=bs):g==="x"&&(Xn.includes("left")||Xn.includes("right"))&&(Xn.includes("left")&&bi<0||Xn.includes("right")&&bi>0)&&(Ss.x=bi),(Math.abs(Ss.x)>0||Math.abs(Ss.y)>0)&&he(!0),(Yn=gn.current)==null||Yn.style.setProperty("--swipe-amount-x",`${Ss.x}px`),(Qn=gn.current)==null||Qn.style.setProperty("--swipe-amount-y",`${Ss.y}px`)}},aD&&!m.jsx?H.createElement("button",{"aria-label":ie,"data-disabled":hp,"data-close-button":!0,onClick:hp||!Eo?()=>{}:()=>{var we;xs(),(we=m.onDismiss)==null||we.call(m,m)},className:er(F==null?void 0:F.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:ZF):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,ln||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:er(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||dD():null,m.type!=="loading"?m.icon||(K==null?void 0:K[ln])||HF(ln):null):null,H.createElement("div",{"data-content":"",className:er(F==null?void 0:F.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:er(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:er(W,oD,F==null?void 0:F.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Mu(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:we=>{var Le,Je;Mu(m.cancel)&&Eo&&((Je=(Le=m.cancel).onClick)==null||Je.call(Le,we),xs())},className:er(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Mu(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:we=>{var Le,Je;Mu(m.action)&&((Je=(Le=m.action).onClick)==null||Je.call(Le,we),!we.defaultPrevented&&xs())},className:er(F==null?void 0:F.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Kb(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function v4(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?u4:c4;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var y4=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:b=l4,toastOptions:p,dir:S=Kb(),gap:y=h4,loadingIcon:w,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[T,j]=H.useState([]),N=H.useMemo(()=>Array.from(new Set([r].concat(T.filter(te=>te.position).map(te=>te.position)))),[T,r]),[I,R]=H.useState([]),[O,$]=H.useState(!1),[W,L]=H.useState(!1),[J,Y]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=H.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=H.useRef(null),K=H.useRef(!1),ie=H.useCallback(te=>{j(g=>{var k;return(k=g.find(E=>E.id===te.id))!=null&&k.delete||cn.dismiss(te.id),g.filter(({id:E})=>E!==te.id)})},[]);return H.useEffect(()=>cn.subscribe(te=>{if(te.dismiss){j(g=>g.map(k=>k.id===te.id?{...k,delete:!0}:k));return}setTimeout(()=>{PT.flushSync(()=>{j(g=>{let k=g.findIndex(E=>E.id===te.id);return k!==-1?[...g.slice(0,k),{...g[k],...te},...g.slice(k+1)]:[te,...g]})})})}),[]),H.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:g})=>{Y(g?"dark":"light")})}catch{te.addListener(({matches:k})=>{try{Y(k?"dark":"light")}catch(E){console.error(E)}})}},[d]),H.useEffect(()=>{T.length<=1&&$(!1)},[T]),H.useEffect(()=>{let te=g=>{var k,E;s.every(P=>g[P]||g.code===P)&&($(!0),(k=Q.current)==null||k.focus()),g.code==="Escape"&&(document.activeElement===Q.current||(E=Q.current)!=null&&E.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[s]),H.useEffect(()=>{if(Q.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,K.current=!1)}},[Q.current]),H.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((te,g)=>{var k;let[E,P]=te.split("-");return T.length?H.createElement("ol",{key:te,dir:S==="auto"?Kb():S,tabIndex:-1,ref:Q,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":E,"data-lifted":O&&T.length>1&&!i,"data-x-position":P,style:{"--front-toast-height":`${((k=I[0])==null?void 0:k.height)||0}px`,"--width":`${d4}px`,"--gap":`${y}px`,...m,...v4(l,u)},onBlur:A=>{K.current&&!A.currentTarget.contains(A.relatedTarget)&&(K.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||K.current||(K.current=!0,F.current=A.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{W||$(!1)},onDragEnd:()=>$(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},T.filter(A=>!A.position&&g===0||A.position===te).map((A,M)=>{var U,V;return H.createElement(g4,{key:A.id,icons:x,index:M,toast:A,defaultRichColors:h,duration:(U=p==null?void 0:p.duration)!=null?U:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(V=p==null?void 0:p.closeButton)!=null?V:o,interacting:W,position:te,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ie,toasts:T.filter(q=>q.position==A.position),heights:I.filter(q=>q.position==A.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const w4=({...e})=>{const{theme:t="system"}=bj();return c.jsx(y4,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var x4=Ay[" useId ".trim().toString()]||(()=>{}),b4=0;function vr(e){const[t,n]=v.useState(x4());return Et(()=>{n(r=>r??String(b4++))},[e]),t?`radix-${t}`:""}const S4=["top","right","bottom","left"],ai=Math.min,xn=Math.max,vh=Math.round,Du=Math.floor,$r=e=>({x:e,y:e}),_4={left:"right",right:"left",bottom:"top",top:"bottom"},E4={start:"end",end:"start"};function Gg(e,t,n){return xn(e,ai(t,n))}function ps(e,t){return typeof e=="function"?e(t):e}function ms(e){return e.split("-")[0]}function el(e){return e.split("-")[1]}function Ow(e){return e==="x"?"y":"x"}function Rw(e){return e==="y"?"height":"width"}const k4=new Set(["top","bottom"]);function Mr(e){return k4.has(ms(e))?"y":"x"}function Iw(e){return Ow(Mr(e))}function C4(e,t,n){n===void 0&&(n=!1);const r=el(e),s=Iw(e),i=Rw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=yh(o)),[o,yh(o)]}function T4(e){const t=yh(e);return[Kg(e),t,Kg(t)]}function Kg(e){return e.replace(/start|end/g,t=>E4[t])}const Jb=["left","right"],Yb=["right","left"],j4=["top","bottom"],A4=["bottom","top"];function P4(e,t,n){switch(e){case"top":case"bottom":return n?t?Yb:Jb:t?Jb:Yb;case"left":case"right":return t?j4:A4;default:return[]}}function N4(e,t,n,r){const s=el(e);let i=P4(ms(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Kg)))),i}function yh(e){return e.replace(/left|right|bottom|top/g,t=>_4[t])}function O4(e){return{top:0,right:0,bottom:0,left:0,...e}}function Sj(e){return typeof e!="number"?O4(e):{top:e,right:e,bottom:e,left:e}}function wh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Qb(e,t,n){let{reference:r,floating:s}=e;const i=Mr(t),o=Iw(t),a=Rw(o),l=ms(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(el(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const R4=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Qb(u,r,l),f=r,m={},b=0;for(let p=0;p<a.length;p++){const{name:S,fn:y}=a[p],{x:w,y:x,data:_,reset:C}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,h=x??h,m={...m,[S]:{...m[S],..._}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=Qb(u,f,l)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Ec(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=ps(t,e),b=Sj(m),S=a[f?h==="floating"?"reference":"floating":h],y=wh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=wh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:l}):w);return{top:(y.top-C.top+b.top)/_.y,bottom:(C.bottom-y.bottom+b.bottom)/_.y,left:(y.left-C.left+b.left)/_.x,right:(C.right-y.right+b.right)/_.x}}const I4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=ps(e,t)||{};if(u==null)return{};const h=Sj(d),f={x:n,y:r},m=Iw(s),b=Rw(m),p=await o.getDimensions(u),S=m==="y",y=S?"top":"left",w=S?"bottom":"right",x=S?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[m]-f[m]-i.floating[b],C=f[m]-i.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=T?T[x]:0;(!j||!await(o.isElement==null?void 0:o.isElement(T)))&&(j=a.floating[x]||i.floating[b]);const N=_/2-C/2,I=j/2-p[b]/2-1,R=ai(h[y],I),O=ai(h[w],I),$=R,W=j-p[b]-O,L=j/2-p[b]/2+N,J=Gg($,L,W),Y=!l.arrow&&el(s)!=null&&L!==J&&i.reference[b]/2-(L<$?R:O)-p[b]/2<0,Q=Y?L<$?L-$:L-W:0;return{[m]:f[m]+Q,data:{[m]:J,centerOffset:L-J-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),M4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...S}=ps(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ms(s),w=Mr(a),x=ms(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=f||(x||!p?[yh(a)]:T4(a)),T=b!=="none";!f&&T&&C.push(...N4(a,p,b,_));const j=[a,...C],N=await Ec(t,S),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(N[y]),h){const L=C4(s,o,_);I.push(N[L[0]],N[L[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(L=>L<=0)){var O,$;const L=(((O=i.flip)==null?void 0:O.index)||0)+1,J=j[L];if(J&&(!(h==="alignment"?w!==Mr(J):!1)||R.every(D=>D.overflows[0]>0&&Mr(D.placement)===w)))return{data:{index:L,overflows:R},reset:{placement:J}};let Y=($=R.filter(Q=>Q.overflows[0]<=0).sort((Q,D)=>Q.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!Y)switch(m){case"bestFit":{var W;const Q=(W=R.filter(D=>{if(T){const F=Mr(D.placement);return F===w||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:W[0];Q&&(Y=Q);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function Xb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zb(e){return S4.some(t=>e[t]>=0)}const D4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ps(e,t);switch(r){case"referenceHidden":{const i=await Ec(t,{...s,elementContext:"reference"}),o=Xb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Zb(o)}}}case"escaped":{const i=await Ec(t,{...s,altBoundary:!0}),o=Xb(i,n.floating);return{data:{escapedOffsets:o,escaped:Zb(o)}}}default:return{}}}}},_j=new Set(["left","top"]);async function L4(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ms(n),a=el(n),l=Mr(n)==="y",u=_j.has(o)?-1:1,d=i&&l?-1:1,h=ps(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const $4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await L4(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},F4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:y,y:w}=S;return{x:y,y:w}}},...l}=ps(e,t),u={x:n,y:r},d=await Ec(t,l),h=Mr(ms(s)),f=Ow(h);let m=u[f],b=u[h];if(i){const S=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=m+d[S],x=m-d[y];m=Gg(w,m,x)}if(o){const S=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=b+d[S],x=b-d[y];b=Gg(w,b,x)}const p=a.fn({...t,[f]:m,[h]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},V4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ps(e,t),d={x:n,y:r},h=Mr(s),f=Ow(h);let m=d[f],b=d[h];const p=ps(a,t),S=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const x=f==="y"?"height":"width",_=i.reference[f]-i.floating[x]+S.mainAxis,C=i.reference[f]+i.reference[x]-S.mainAxis;m<_?m=_:m>C&&(m=C)}if(u){var y,w;const x=f==="y"?"width":"height",_=_j.has(ms(s)),C=i.reference[h]-i.floating[x]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:S.crossAxis),T=i.reference[h]+i.reference[x]+(_?0:((w=o.offset)==null?void 0:w[h])||0)-(_?S.crossAxis:0);b<C?b=C:b>T&&(b=T)}return{[f]:m,[h]:b}}}},U4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...u}=ps(e,t),d=await Ec(t,u),h=ms(s),f=el(s),m=Mr(s)==="y",{width:b,height:p}=i.floating;let S,y;h==="top"||h==="bottom"?(S=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,S=f==="end"?"top":"bottom");const w=p-d.top-d.bottom,x=b-d.left-d.right,_=ai(p-d[S],w),C=ai(b-d[y],x),T=!t.middlewareData.shift;let j=_,N=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=w),T&&!f){const R=xn(d.left,0),O=xn(d.right,0),$=xn(d.top,0),W=xn(d.bottom,0);m?N=b-2*(R!==0||O!==0?R+O:xn(d.left,d.right)):j=p-2*($!==0||W!==0?$+W:xn(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:j});const I=await o.getDimensions(a.floating);return b!==I.width||p!==I.height?{reset:{rects:!0}}:{}}}};function yf(){return typeof window<"u"}function tl(e){return Ej(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hr(e){var t;return(t=(Ej(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ej(e){return yf()?e instanceof Node||e instanceof Cn(e).Node:!1}function xr(e){return yf()?e instanceof Element||e instanceof Cn(e).Element:!1}function qr(e){return yf()?e instanceof HTMLElement||e instanceof Cn(e).HTMLElement:!1}function eS(e){return!yf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}const B4=new Set(["inline","contents"]);function tu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!B4.has(s)}const z4=new Set(["table","td","th"]);function q4(e){return z4.has(tl(e))}const W4=[":popover-open",":modal"];function wf(e){return W4.some(t=>{try{return e.matches(t)}catch{return!1}})}const H4=["transform","translate","scale","rotate","perspective"],G4=["transform","translate","scale","rotate","perspective","filter"],K4=["paint","layout","strict","content"];function Mw(e){const t=Dw(),n=xr(e)?br(e):e;return H4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||G4.some(r=>(n.willChange||"").includes(r))||K4.some(r=>(n.contain||"").includes(r))}function J4(e){let t=li(e);for(;qr(t)&&!$a(t);){if(Mw(t))return t;if(wf(t))return null;t=li(t)}return null}function Dw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Y4=new Set(["html","body","#document"]);function $a(e){return Y4.has(tl(e))}function br(e){return Cn(e).getComputedStyle(e)}function xf(e){return xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(tl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eS(e)&&e.host||Hr(e);return eS(t)?t.host:t}function kj(e){const t=li(e);return $a(t)?e.ownerDocument?e.ownerDocument.body:e.body:qr(t)&&tu(t)?t:kj(t)}function kc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=kj(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Cn(s);if(i){const a=Jg(o);return t.concat(o,o.visualViewport||[],tu(s)?s:[],a&&n?kc(a):[])}return t.concat(s,kc(s,[],n))}function Jg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cj(e){const t=br(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=qr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=vh(n)!==i||vh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Lw(e){return xr(e)?e:e.contextElement}function ha(e){const t=Lw(e);if(!qr(t))return $r(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Cj(t);let o=(i?vh(n.width):n.width)/r,a=(i?vh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Q4=$r(0);function Tj(e){const t=Cn(e);return!Dw()||!t.visualViewport?Q4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function X4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function ao(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Lw(e);let o=$r(1);t&&(r?xr(r)&&(o=ha(r)):o=ha(e));const a=X4(i,n,r)?Tj(i):$r(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Cn(i),m=r&&xr(r)?Cn(r):r;let b=f,p=Jg(b);for(;p&&r&&m!==b;){const S=ha(p),y=p.getBoundingClientRect(),w=br(p),x=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*S.x,_=y.top+(p.clientTop+parseFloat(w.paddingTop))*S.y;l*=S.x,u*=S.y,d*=S.x,h*=S.y,l+=x,u+=_,b=Cn(p),p=Jg(b)}}return wh({width:d,height:h,x:l,y:u})}function $w(e,t){const n=xf(e).scrollLeft;return t?t.left+n:ao(Hr(e)).left+n}function jj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:$w(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function Z4(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Hr(r),a=t?wf(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=$r(1);const d=$r(0),h=qr(r);if((h||!h&&!i)&&((tl(r)!=="body"||tu(o))&&(l=xf(r)),qr(r))){const m=ao(r);u=ha(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?jj(o,l,!0):$r(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function eV(e){return Array.from(e.getClientRects())}function tV(e){const t=Hr(e),n=xf(e),r=e.ownerDocument.body,s=xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+$w(e);const a=-n.scrollTop;return br(r).direction==="rtl"&&(o+=xn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function nV(e,t){const n=Cn(e),r=Hr(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Dw();(!u||u&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const rV=new Set(["absolute","fixed"]);function sV(e,t){const n=ao(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=qr(e)?ha(e):$r(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function tS(e,t,n){let r;if(t==="viewport")r=nV(e,n);else if(t==="document")r=tV(Hr(e));else if(xr(t))r=sV(t,n);else{const s=Tj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return wh(r)}function Aj(e,t){const n=li(e);return n===t||!xr(n)||$a(n)?!1:br(n).position==="fixed"||Aj(n,t)}function iV(e,t){const n=t.get(e);if(n)return n;let r=kc(e,[],!1).filter(a=>xr(a)&&tl(a)!=="body"),s=null;const i=br(e).position==="fixed";let o=i?li(e):e;for(;xr(o)&&!$a(o);){const a=br(o),l=Mw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&rV.has(s.position)||tu(o)&&!l&&Aj(e,o))?r=r.filter(d=>d!==o):s=a,o=li(o)}return t.set(e,r),r}function oV(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?wf(t)?[]:iV(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=tS(t,d,s);return u.top=xn(h.top,u.top),u.right=ai(h.right,u.right),u.bottom=ai(h.bottom,u.bottom),u.left=xn(h.left,u.left),u},tS(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aV(e){const{width:t,height:n}=Cj(e);return{width:t,height:n}}function lV(e,t,n){const r=qr(t),s=Hr(t),i=n==="fixed",o=ao(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=$r(0);function u(){l.x=$w(s)}if(r||!r&&!i)if((tl(t)!=="body"||tu(s))&&(a=xf(t)),r){const m=ao(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?jj(s,a):$r(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function qp(e){return br(e).position==="static"}function nS(e,t){if(!qr(e)||br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hr(e)===n&&(n=n.ownerDocument.body),n}function Pj(e,t){const n=Cn(e);if(wf(e))return n;if(!qr(e)){let s=li(e);for(;s&&!$a(s);){if(xr(s)&&!qp(s))return s;s=li(s)}return n}let r=nS(e,t);for(;r&&q4(r)&&qp(r);)r=nS(r,t);return r&&$a(r)&&qp(r)&&!Mw(r)?n:r||J4(e)||n}const cV=async function(e){const t=this.getOffsetParent||Pj,n=this.getDimensions,r=await n(e.floating);return{reference:lV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uV(e){return br(e).direction==="rtl"}const dV={convertOffsetParentRelativeRectToViewportRelativeRect:Z4,getDocumentElement:Hr,getClippingRect:oV,getOffsetParent:Pj,getElementRects:cV,getClientRects:eV,getDimensions:aV,getScale:ha,isElement:xr,isRTL:uV};function Nj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hV(e,t){let n=null,r;const s=Hr(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||t(),!f||!m)return;const b=Du(h),p=Du(s.clientWidth-(d+f)),S=Du(s.clientHeight-(h+m)),y=Du(d),x={rootMargin:-b+"px "+-p+"px "+-S+"px "+-y+"px",threshold:xn(0,ai(1,l))||1};let _=!0;function C(T){const j=T[0].intersectionRatio;if(j!==l){if(!_)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!Nj(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(e)}return o(!0),i}function fV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Lw(e),d=s||i?[...u?kc(u):[],...kc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&a?hV(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let b,p=l?ao(e):null;l&&S();function S(){const y=ao(e);p&&!Nj(p,y)&&n(),p=y,b=requestAnimationFrame(S)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const pV=$4,mV=F4,gV=M4,vV=U4,yV=D4,rS=I4,wV=V4,xV=(e,t,n)=>{const r=new Map,s={platform:dV,...n},i={...s.platform,_c:r};return R4(e,t,{...s,platform:i})};var bV=typeof document<"u",SV=function(){},Td=bV?v.useLayoutEffect:SV;function xh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!xh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Oj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sS(e,t){const n=Oj(e);return Math.round(t*n)/n}function Wp(e){const t=v.useRef(e);return Td(()=>{t.current=e}),t}function _V(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);xh(f,r)||m(r);const[b,p]=v.useState(null),[S,y]=v.useState(null),w=v.useCallback(D=>{D!==T.current&&(T.current=D,p(D))},[]),x=v.useCallback(D=>{D!==j.current&&(j.current=D,y(D))},[]),_=i||b,C=o||S,T=v.useRef(null),j=v.useRef(null),N=v.useRef(d),I=l!=null,R=Wp(l),O=Wp(s),$=Wp(u),W=v.useCallback(()=>{if(!T.current||!j.current)return;const D={placement:t,strategy:n,middleware:f};O.current&&(D.platform=O.current),xV(T.current,j.current,D).then(F=>{const K={...F,isPositioned:$.current!==!1};L.current&&!xh(N.current,K)&&(N.current=K,wo.flushSync(()=>{h(K)}))})},[f,t,n,O,$]);Td(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const L=v.useRef(!1);Td(()=>(L.current=!0,()=>{L.current=!1}),[]),Td(()=>{if(_&&(T.current=_),C&&(j.current=C),_&&C){if(R.current)return R.current(_,C,W);W()}},[_,C,W,R,I]);const J=v.useMemo(()=>({reference:T,floating:j,setReference:w,setFloating:x}),[w,x]),Y=v.useMemo(()=>({reference:_,floating:C}),[_,C]),Q=v.useMemo(()=>{const D={position:n,left:0,top:0};if(!Y.floating)return D;const F=sS(Y.floating,d.x),K=sS(Y.floating,d.y);return a?{...D,transform:"translate("+F+"px, "+K+"px)",...Oj(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:K}},[n,a,Y.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:W,refs:J,elements:Y,floatingStyles:Q}),[d,W,J,Y,Q])}const EV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?rS({element:r.current,padding:s}).fn(n):{}:r?rS({element:r,padding:s}).fn(n):{}}}},kV=(e,t)=>({...pV(e),options:[e,t]}),CV=(e,t)=>({...mV(e),options:[e,t]}),TV=(e,t)=>({...wV(e),options:[e,t]}),jV=(e,t)=>({...gV(e),options:[e,t]}),AV=(e,t)=>({...vV(e),options:[e,t]}),PV=(e,t)=>({...yV(e),options:[e,t]}),NV=(e,t)=>({...EV(e),options:[e,t]});var OV="Arrow",Rj=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return c.jsx(me.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rj.displayName=OV;var RV=Rj;function IV(e){const[t,n]=v.useState(void 0);return Et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Fw="Popper",[Ij,bf]=Hn(Fw),[MV,Mj]=Ij(Fw),Dj=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return c.jsx(MV,{scope:t,anchor:r,onAnchorChange:s,children:n})};Dj.displayName=Fw;var Lj="PopperAnchor",$j=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Mj(Lj,n),o=v.useRef(null),a=Ce(t,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(me.div,{...s,ref:a})});$j.displayName=Lj;var Vw="PopperContent",[DV,LV]=Ij(Vw),Fj=v.forwardRef((e,t)=>{var A,M,U,V,q,X;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,S=Mj(Vw,n),[y,w]=v.useState(null),x=Ce(t,ce=>w(ce)),[_,C]=v.useState(null),T=IV(_),j=(T==null?void 0:T.width)??0,N=(T==null?void 0:T.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],$=O.length>0,W={padding:R,boundary:O.filter(FV),altBoundary:$},{refs:L,floatingStyles:J,placement:Y,isPositioned:Q,middlewareData:D}=_V({strategy:"fixed",placement:I,whileElementsMounted:(...ce)=>fV(...ce,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[kV({mainAxis:s+N,alignmentAxis:o}),l&&CV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?TV():void 0,...W}),l&&jV({...W}),AV({...W,apply:({elements:ce,rects:Me,availableWidth:ht,availableHeight:he})=>{const{width:_e,height:qe}=Me.reference,gt=ce.floating.style;gt.setProperty("--radix-popper-available-width",`${ht}px`),gt.setProperty("--radix-popper-available-height",`${he}px`),gt.setProperty("--radix-popper-anchor-width",`${_e}px`),gt.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),_&&NV({element:_,padding:a}),VV({arrowWidth:j,arrowHeight:N}),f&&PV({strategy:"referenceHidden",...W})]}),[F,K]=Bj(Y),ie=xt(b);Et(()=>{Q&&(ie==null||ie())},[Q,ie]);const te=(A=D.arrow)==null?void 0:A.x,g=(M=D.arrow)==null?void 0:M.y,k=((U=D.arrow)==null?void 0:U.centerOffset)!==0,[E,P]=v.useState();return Et(()=>{y&&P(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:Q?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(V=D.transformOrigin)==null?void 0:V.x,(q=D.transformOrigin)==null?void 0:q.y].join(" "),...((X=D.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(DV,{scope:n,placedSide:F,onArrowChange:C,arrowX:te,arrowY:g,shouldHideArrow:k,children:c.jsx(me.div,{"data-side":F,"data-align":K,...p,ref:x,style:{...p.style,animation:Q?void 0:"none"}})})})});Fj.displayName=Vw;var Vj="PopperArrow",$V={top:"bottom",right:"left",bottom:"top",left:"right"},Uj=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=LV(Vj,r),o=$V[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(RV,{...s,ref:n,style:{...s.style,display:"block"}})})});Uj.displayName=Vj;function FV(e){return e!==null}var VV=e=>({name:"transformOrigin",options:e,fn(t){var S,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=Bj(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",p="";return u==="bottom"?(b=o?h:`${f}px`,p=`${-l}px`):u==="top"?(b=o?h:`${f}px`,p=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,p=o?h:`${m}px`):u==="left"&&(b=`${r.floating.width+l}px`,p=o?h:`${m}px`),{data:{x:b,y:p}}}});function Bj(e){const[t,n="center"]=e.split("-");return[t,n]}var zj=Dj,qj=$j,Wj=Fj,Hj=Uj,[Sf,FY]=Hn("Tooltip",[bf]),_f=bf(),Gj="TooltipProvider",UV=700,Yg="tooltip.open",[BV,Uw]=Sf(Gj),Kj=e=>{const{__scopeTooltip:t,delayDuration:n=UV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(BV,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Kj.displayName=Gj;var Cc="Tooltip",[zV,Ef]=Sf(Cc),Jj=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=Uw(Cc,e.__scopeTooltip),u=_f(t),[d,h]=v.useState(null),f=vr(),m=v.useRef(0),b=o??l.disableHoverableContent,p=a??l.delayDuration,S=v.useRef(!1),[y,w]=zr({prop:r,defaultProp:s??!1,onChange:j=>{j?(l.onOpen(),document.dispatchEvent(new CustomEvent(Yg))):l.onClose(),i==null||i(j)},caller:Cc}),x=v.useMemo(()=>y?S.current?"delayed-open":"instant-open":"closed",[y]),_=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,S.current=!1,w(!0)},[w]),C=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),T=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{S.current=!0,w(!0),m.current=0},p)},[p,w]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(zj,{...u,children:c.jsx(zV,{scope:t,contentId:f,open:y,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayedRef.current?T():_()},[l.isOpenDelayedRef,T,_]),onTriggerLeave:v.useCallback(()=>{b?C():(window.clearTimeout(m.current),m.current=0)},[C,b]),onOpen:_,onClose:C,disableHoverableContent:b,children:n})})};Jj.displayName=Cc;var Qg="TooltipTrigger",Yj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ef(Qg,n),i=Uw(Qg,n),o=_f(n),a=v.useRef(null),l=Ce(t,a,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(qj,{asChild:!0,...o,children:c.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:oe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:oe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(e.onBlur,s.onClose),onClick:oe(e.onClick,s.onClose)})})});Yj.displayName=Qg;var qV="TooltipPortal",[VY,WV]=Sf(qV,{forceMount:void 0}),Fa="TooltipContent",Qj=v.forwardRef((e,t)=>{const n=WV(Fa,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Ef(Fa,e.__scopeTooltip);return c.jsx(Gn,{present:r||o.open,children:o.disableHoverableContent?c.jsx(Xj,{side:s,...i,ref:t}):c.jsx(HV,{side:s,...i,ref:t})})}),HV=v.forwardRef((e,t)=>{const n=Ef(Fa,e.__scopeTooltip),r=Uw(Fa,e.__scopeTooltip),s=v.useRef(null),i=Ce(t,s),[o,a]=v.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((b,p)=>{const S=b.currentTarget,y={x:b.clientX,y:b.clientY},w=QV(y,S.getBoundingClientRect()),x=XV(y,w),_=ZV(p.getBoundingClientRect()),C=tU([...x,..._]);a(C),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const b=S=>m(S,d),p=S=>m(S,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",p)}}},[l,d,m,f]),v.useEffect(()=>{if(o){const b=p=>{const S=p.target,y={x:p.clientX,y:p.clientY},w=(l==null?void 0:l.contains(S))||(d==null?void 0:d.contains(S)),x=!eU(y,o);w?f():x&&(f(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,u,f]),c.jsx(Xj,{...e,ref:i})}),[GV,KV]=Sf(Cc,{isInside:!1}),JV=IT("TooltipContent"),Xj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Ef(Fa,n),u=_f(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(Yg,d),()=>document.removeEventListener(Yg,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(Wj,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(JV,{children:r}),c.jsx(GV,{scope:n,isInside:!0,children:c.jsx(v$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Qj.displayName=Fa;var Zj="TooltipArrow",YV=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=_f(n);return KV(Zj,n).isInside?null:c.jsx(Hj,{...s,...r,ref:t})});YV.displayName=Zj;function QV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function XV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ZV(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function eU(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function tU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),nU(t)}function nU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var rU=Kj,sU=Jj,iU=Yj,eA=Qj;const Xg=rU,Lu=sU,$u=iU,Ol=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(eA,{ref:r,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ol.displayName=eA.displayName;var kf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cf=typeof window>"u"||"Deno"in globalThis;function lr(){}function oU(e,t){return typeof e=="function"?e(t):e}function aU(e){return typeof e=="number"&&e>=0&&e!==1/0}function lU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zg(e,t){return typeof e=="function"?e(t):e}function cU(e,t){return typeof e=="function"?e(t):e}function iS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Bw(o,t.options))return!1}else if(!jc(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function oS(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Tc(t.options.mutationKey)!==Tc(i))return!1}else if(!jc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Bw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Tc)(e)}function Tc(e){return JSON.stringify(e,(t,n)=>ev(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function jc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>jc(e[n],t[n])):!1}function tA(e,t){if(e===t)return e;const n=aS(e)&&aS(t);if(n||ev(e)&&ev(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,u++):(a[h]=tA(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&u++)}return s===o&&u===s?e:a}return t}function aS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ev(e){if(!lS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lS(e){return Object.prototype.toString.call(e)==="[object Object]"}function uU(e){return new Promise(t=>{setTimeout(t,e)})}function dU(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?tA(e,t):t}function hU(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function fU(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var zw=Symbol();function nA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bi,Vs,ba,ck,pU=(ck=class extends kf{constructor(){super();Ne(this,Bi);Ne(this,Vs);Ne(this,ba);be(this,ba,t=>{if(!Cf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Vs)||this.setEventListener(B(this,ba))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Vs))==null||t.call(this),be(this,Vs,void 0))}setEventListener(t){var n;be(this,ba,t),(n=B(this,Vs))==null||n.call(this),be(this,Vs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,Bi)!==t&&(be(this,Bi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Bi)=="boolean"?B(this,Bi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bi=new WeakMap,Vs=new WeakMap,ba=new WeakMap,ck),rA=new pU,Sa,Us,_a,uk,mU=(uk=class extends kf{constructor(){super();Ne(this,Sa,!0);Ne(this,Us);Ne(this,_a);be(this,_a,t=>{if(!Cf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Us)||this.setEventListener(B(this,_a))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Us))==null||t.call(this),be(this,Us,void 0))}setEventListener(t){var n;be(this,_a,t),(n=B(this,Us))==null||n.call(this),be(this,Us,t(this.setOnline.bind(this)))}setOnline(t){B(this,Sa)!==t&&(be(this,Sa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,Sa)}},Sa=new WeakMap,Us=new WeakMap,_a=new WeakMap,uk),bh=new mU;function gU(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function vU(e){return Math.min(1e3*2**e,3e4)}function sA(e){return(e??"online")==="online"?bh.isOnline():!0}var iA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Hp(e){return e instanceof iA}function oA(e){let t=!1,n=0,r=!1,s;const i=gU(),o=p=>{var S;r||(f(new iA(p)),(S=e.abort)==null||S.call(e))},a=()=>{t=!0},l=()=>{t=!1},u=()=>rA.isFocused()&&(e.networkMode==="always"||bh.isOnline())&&e.canRun(),d=()=>sA(e.networkMode)&&e.canRun(),h=p=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,p),s==null||s(),i.resolve(p))},f=p=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var S;s=y=>{(r||u())&&p(y)},(S=e.onPause)==null||S.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const S=n===0?e.initialPromise:void 0;try{p=S??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var T;if(r)return;const w=e.retry??(Cf?0:3),x=e.retryDelay??vU,_=typeof x=="function"?x(n,y):x,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!C){f(y);return}n++,(T=e.onFail)==null||T.call(e,n,y),uU(_).then(()=>u()?void 0:m()).then(()=>{t?f(y):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():m().then(b),i)}}var yU=e=>setTimeout(e,0);function wU(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=yU;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Xt=wU(),zi,dk,aA=(dk=class{constructor(){Ne(this,zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aU(this.gcTime)&&be(this,zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Cf?1/0:5*60*1e3))}clearGcTimeout(){B(this,zi)&&(clearTimeout(B(this,zi)),be(this,zi,void 0))}},zi=new WeakMap,dk),Ea,qi,Rn,Wi,Ut,qc,Hi,ur,Yr,hk,xU=(hk=class extends aA{constructor(t){super();Ne(this,ur);Ne(this,Ea);Ne(this,qi);Ne(this,Rn);Ne(this,Wi);Ne(this,Ut);Ne(this,qc);Ne(this,Hi);be(this,Hi,!1),be(this,qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,Wi,t.client),be(this,Rn,B(this,Wi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,Ea,SU(this.options)),this.state=t.state??B(this,Ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Ut))==null?void 0:t.promise}setOptions(t){this.options={...B(this,qc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Rn).remove(this)}setData(t,n){const r=dU(this.state.data,t,this.options);return Lt(this,ur,Yr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Lt(this,ur,Yr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,Ut))==null?void 0:r.promise;return(s=B(this,Ut))==null||s.cancel(t),n?n.then(lr).catch(lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Ea))}isActive(){return this.observers.some(t=>cU(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!lU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Rn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Ut)&&(B(this,Hi)?B(this,Ut).cancel({revert:!0}):B(this,Ut).cancelRetry()),this.scheduleGc()),B(this,Rn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,ur,Yr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Ut))return B(this,Ut).continueRetry(),B(this,Ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,Hi,!0),r.signal)})},i=()=>{const f=nA(this.options,n),b=(()=>{const p={client:B(this,Wi),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return be(this,Hi,!1),this.options.persister?this.options.persister(f,b,this):f(b)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Wi),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),be(this,qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Lt(this,ur,Yr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,b,p,S;Hp(f)&&f.silent||Lt(this,ur,Yr).call(this,{type:"error",error:f}),Hp(f)||((b=(m=B(this,Rn).config).onError)==null||b.call(m,f,this),(S=(p=B(this,Rn).config).onSettled)==null||S.call(p,this.state.data,f,this)),this.scheduleGc()};return be(this,Ut,oA({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,b,p,S;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(b=(m=B(this,Rn).config).onSuccess)==null||b.call(m,f,this),(S=(p=B(this,Rn).config).onSettled)==null||S.call(p,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Lt(this,ur,Yr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Lt(this,ur,Yr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,ur,Yr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,Ut).start()}},Ea=new WeakMap,qi=new WeakMap,Rn=new WeakMap,Wi=new WeakMap,Ut=new WeakMap,qc=new WeakMap,Hi=new WeakMap,ur=new WeakSet,Yr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bU(r.data,this.options),fetchMeta:t.meta??null};case"success":return be(this,qi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Hp(s)&&s.revert&&B(this,qi)?{...B(this,qi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,Rn).notify({query:this,type:"updated",action:t})})},hk);function bU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function SU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ar,fk,_U=(fk=class extends kf{constructor(t={}){super();Ne(this,Ar);this.config=t,be(this,Ar,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Bw(s,n);let o=this.get(i);return o||(o=new xU({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,Ar).has(t.queryHash)||(B(this,Ar).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Ar).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Ar).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Ar).get(t)}getAll(){return[...B(this,Ar).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>iS(t,r)):n}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ar=new WeakMap,fk),Pr,Jt,Gi,Nr,Ts,pk,EU=(pk=class extends aA{constructor(t){super();Ne(this,Nr);Ne(this,Pr);Ne(this,Jt);Ne(this,Gi);this.mutationId=t.mutationId,be(this,Jt,t.mutationCache),be(this,Pr,[]),this.state=t.state||kU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Pr).includes(t)||(B(this,Pr).push(t),this.clearGcTimeout(),B(this,Jt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,Pr,B(this,Pr).filter(n=>n!==t)),this.scheduleGc(),B(this,Jt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Pr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Jt).remove(this))}continue(){var t;return((t=B(this,Gi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,u,d,h,f,m,b,p,S,y,w,x,_,C,T,j,N;const n=()=>{Lt(this,Nr,Ts).call(this,{type:"continue"})};be(this,Gi,oA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{Lt(this,Nr,Ts).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{Lt(this,Nr,Ts).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Jt).canRun(this)}));const r=this.state.status==="pending",s=!B(this,Gi).canStart();try{if(r)n();else{Lt(this,Nr,Ts).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=B(this,Jt).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));R!==this.state.context&&Lt(this,Nr,Ts).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const I=await B(this,Gi).start();return await((d=(u=B(this,Jt).config).onSuccess)==null?void 0:d.call(u,I,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,I,t,this.state.context)),await((b=(m=B(this,Jt).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this)),await((S=(p=this.options).onSettled)==null?void 0:S.call(p,I,null,t,this.state.context)),Lt(this,Nr,Ts).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(y=B(this,Jt).config).onError)==null?void 0:w.call(y,I,t,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,I,t,this.state.context)),await((T=(C=B(this,Jt).config).onSettled)==null?void 0:T.call(C,void 0,I,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,I,t,this.state.context)),I}finally{Lt(this,Nr,Ts).call(this,{type:"error",error:I})}}finally{B(this,Jt).runNext(this)}}},Pr=new WeakMap,Jt=new WeakMap,Gi=new WeakMap,Nr=new WeakSet,Ts=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xt.batch(()=>{B(this,Pr).forEach(r=>{r.onMutationUpdate(t)}),B(this,Jt).notify({mutation:this,type:"updated",action:t})})},pk);function kU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rs,dr,Wc,mk,CU=(mk=class extends kf{constructor(t={}){super();Ne(this,rs);Ne(this,dr);Ne(this,Wc);this.config=t,be(this,rs,new Set),be(this,dr,new Map),be(this,Wc,0)}build(t,n,r){const s=new EU({mutationCache:this,mutationId:++mu(this,Wc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){B(this,rs).add(t);const n=Fu(t);if(typeof n=="string"){const r=B(this,dr).get(n);r?r.push(t):B(this,dr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,rs).delete(t)){const n=Fu(t);if(typeof n=="string"){const r=B(this,dr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&B(this,dr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Fu(t);if(typeof n=="string"){const r=B(this,dr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Fu(t);if(typeof n=="string"){const s=(r=B(this,dr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{B(this,rs).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,rs).clear(),B(this,dr).clear()})}getAll(){return Array.from(B(this,rs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>oS(n,r))}findAll(t={}){return this.getAll().filter(n=>oS(t,n))}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(lr))))}},rs=new WeakMap,dr=new WeakMap,Wc=new WeakMap,mk);function Fu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function cS(e){return{onFetch:(t,n)=>{var d,h,f,m,b;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const S=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=nA(t.options,t.fetchOptions),w=async(x,_,C)=>{if(p)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const j=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return S(O),O})(),N=await y(j),{maxPages:I}=t.options,R=C?fU:hU;return{pages:R(x.pages,N,I),pageParams:R(x.pageParams,_,I)}};if(s&&i.length){const x=s==="backward",_=x?TU:uS,C={pages:i,pageParams:o},T=_(r,C);a=await w(C,T,x)}else{const x=e??i.length;do{const _=l===0?o[0]??r.initialPageParam:uS(r,a);if(l>0&&_==null)break;a=await w(a,_),l++}while(l<x)}return a};t.options.persister?t.fetchFn=()=>{var p,S;return(S=(p=t.options).persister)==null?void 0:S.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function uS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function TU(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var st,Bs,zs,ka,Ca,qs,Ta,ja,gk,jU=(gk=class{constructor(e={}){Ne(this,st);Ne(this,Bs);Ne(this,zs);Ne(this,ka);Ne(this,Ca);Ne(this,qs);Ne(this,Ta);Ne(this,ja);be(this,st,e.queryCache||new _U),be(this,Bs,e.mutationCache||new CU),be(this,zs,e.defaultOptions||{}),be(this,ka,new Map),be(this,Ca,new Map),be(this,qs,0)}mount(){mu(this,qs)._++,B(this,qs)===1&&(be(this,Ta,rA.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,st).onFocus())})),be(this,ja,bh.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,st).onOnline())})))}unmount(){var e,t;mu(this,qs)._--,B(this,qs)===0&&((e=B(this,Ta))==null||e.call(this),be(this,Ta,void 0),(t=B(this,ja))==null||t.call(this),be(this,ja,void 0))}isFetching(e){return B(this,st).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,st).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,st).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return B(this,st).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,st).get(r.queryHash),i=s==null?void 0:s.state.data,o=oU(t,i);if(o!==void 0)return B(this,st).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Xt.batch(()=>B(this,st).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,st).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,st);Xt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,st);return Xt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Xt.batch(()=>B(this,st).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(lr).catch(lr)}invalidateQueries(e,t={}){return Xt.batch(()=>(B(this,st).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Xt.batch(()=>B(this,st).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(lr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,st).build(this,t);return n.isStaleByTime(Zg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(lr).catch(lr)}fetchInfiniteQuery(e){return e.behavior=cS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(lr).catch(lr)}ensureInfiniteQueryData(e){return e.behavior=cS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bh.isOnline()?B(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,st)}getMutationCache(){return B(this,Bs)}getDefaultOptions(){return B(this,zs)}setDefaultOptions(e){be(this,zs,e)}setQueryDefaults(e,t){B(this,ka).set(Tc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,ka).values()],n={};return t.forEach(r=>{jc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){B(this,Ca).set(Tc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Ca).values()],n={};return t.forEach(r=>{jc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,zs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===zw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,zs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,st).clear(),B(this,Bs).clear()}},st=new WeakMap,Bs=new WeakMap,zs=new WeakMap,ka=new WeakMap,Ca=new WeakMap,qs=new WeakMap,Ta=new WeakMap,ja=new WeakMap,gk),AU=v.createContext(void 0),PU=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(AU.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const dS="popstate";function NU(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return tv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sh(s)}return RU(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OU(){return Math.random().toString(36).substr(2,8)}function hS(e,t){return{usr:e.state,key:e.key,idx:t}}function tv(e,t,n,r){return n===void 0&&(n=null),Ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nl(t):t,{state:n,key:t&&t.key||r||OU()})}function Sh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function RU(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Gs.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ac({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Gs.Pop;let S=d(),y=S==null?null:S-u;u=S,l&&l({action:a,location:p.location,delta:y})}function f(S,y){a=Gs.Push;let w=tv(p.location,S,y);u=d()+1;let x=hS(w,u),_=p.createHref(w);try{o.pushState(x,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}i&&l&&l({action:a,location:p.location,delta:1})}function m(S,y){a=Gs.Replace;let w=tv(p.location,S,y);u=d();let x=hS(w,u),_=p.createHref(w);o.replaceState(x,"",_),i&&l&&l({action:a,location:p.location,delta:0})}function b(S){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof S=="string"?S:Sh(S);return w=w.replace(/ $/,"%20"),dt(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return a},get location(){return e(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(dS,h),l=S,()=>{s.removeEventListener(dS,h),l=null}},createHref(S){return t(s,S)},createURL:b,encodeLocation(S){let y=b(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(S){return o.go(S)}};return p}var fS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fS||(fS={}));function IU(e,t,n){return n===void 0&&(n="/"),MU(e,t,n,!1)}function MU(e,t,n,r){let s=typeof t=="string"?nl(t):t,i=qw(s.pathname||"/",n);if(i==null)return null;let o=cA(e);DU(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=GU(i);a=WU(o[l],u,r)}return a}function cA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ri([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cA(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zU(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of uA(i.path))s(i,o,l)}),t}function uA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function DU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LU=/^:[\w-]+$/,$U=3,FU=2,VU=1,UU=10,BU=-2,pS=e=>e==="*";function zU(e,t){let n=e.split("/"),r=n.length;return n.some(pS)&&(r+=BU),t&&(r+=FU),n.filter(s=>!pS(s)).reduce((s,i)=>s+(LU.test(i)?$U:i===""?VU:UU),r)}function qU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function WU(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=mS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=mS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ri([i,h.pathname]),pathnameBase:QU(ri([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ri([i,h.pathnameBase]))}return o}function mS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=HU(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const b=a[h];return m&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function HU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function GU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function KU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?nl(e):e;return{pathname:n?n.startsWith("/")?n:JU(n,t):t,search:XU(r),hash:ZU(s)}}function JU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ww(e,t){let n=YU(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hw(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=nl(e):(s=Ac({},e),dt(!s.pathname||!s.pathname.includes("?"),Gp("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),Gp("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),Gp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=KU(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const ri=e=>e.join("/").replace(/\/\/+/g,"/"),QU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dA=["post","put","patch","delete"];new Set(dA);const tB=["get",...dA];new Set(tB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc.apply(this,arguments)}const Gw=v.createContext(null),nB=v.createContext(null),gi=v.createContext(null),Tf=v.createContext(null),Gr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),hA=v.createContext(null);function rB(e,t){let{relative:n}=t===void 0?{}:t;rl()||dt(!1);let{basename:r,navigator:s}=v.useContext(gi),{hash:i,pathname:o,search:a}=pA(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ri([r,o])),s.createHref({pathname:l,search:a,hash:i})}function rl(){return v.useContext(Tf)!=null}function vi(){return rl()||dt(!1),v.useContext(Tf).location}function fA(e){v.useContext(gi).static||v.useLayoutEffect(e)}function xo(){let{isDataRoute:e}=v.useContext(Gr);return e?yB():sB()}function sB(){rl()||dt(!1);let e=v.useContext(Gw),{basename:t,future:n,navigator:r}=v.useContext(gi),{matches:s}=v.useContext(Gr),{pathname:i}=vi(),o=JSON.stringify(Ww(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return fA(()=>{a.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Hw(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ri([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const iB=v.createContext(null);function oB(e){let t=v.useContext(Gr).outlet;return t&&v.createElement(iB.Provider,{value:e},t)}function Kw(){let{matches:e}=v.useContext(Gr),t=e[e.length-1];return t?t.params:{}}function pA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(gi),{matches:s}=v.useContext(Gr),{pathname:i}=vi(),o=JSON.stringify(Ww(s,r.v7_relativeSplatPath));return v.useMemo(()=>Hw(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function aB(e,t){return lB(e,t)}function lB(e,t,n,r){rl()||dt(!1);let{navigator:s}=v.useContext(gi),{matches:i}=v.useContext(Gr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=vi(),d;if(t){var h;let S=typeof t=="string"?nl(t):t;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||dt(!1),d=S}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=IU(e,{pathname:m}),p=fB(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:ri([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:ri([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return t&&p?v.createElement(Tf.Provider,{value:{location:Pc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gs.Pop}},p):p}function cB(){let e=vB(),t=eB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const uB=v.createElement(cB,null);class dB extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Gr.Provider,{value:this.props.routeContext},v.createElement(hA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hB(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Gw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gr.Provider,{value:t},r)}function fB(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||dt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,b=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,b=!1,p=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,p=h.route.errorElement||uB,l&&(u<0&&f===0?(b=!0,S=null):u===f&&(b=!0,S=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let x;return m?x=p:b?x=S:h.route.Component?x=v.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,v.createElement(hB,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(dB,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var mA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mA||{}),_h=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_h||{});function pB(e){let t=v.useContext(Gw);return t||dt(!1),t}function mB(e){let t=v.useContext(nB);return t||dt(!1),t}function gB(e){let t=v.useContext(Gr);return t||dt(!1),t}function gA(e){let t=gB(),n=t.matches[t.matches.length-1];return n.route.id||dt(!1),n.route.id}function vB(){var e;let t=v.useContext(hA),n=mB(_h.UseRouteError),r=gA(_h.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function yB(){let{router:e}=pB(mA.UseNavigateStable),t=gA(_h.UseNavigateStable),n=v.useRef(!1);return fA(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Pc({fromRouteId:t},i)))},[e,t])}function wB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xB(e){let{to:t,replace:n,state:r,relative:s}=e;rl()||dt(!1);let{future:i,static:o}=v.useContext(gi),{matches:a}=v.useContext(Gr),{pathname:l}=vi(),u=xo(),d=Hw(t,Ww(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function bB(e){return oB(e.context)}function Vt(e){dt(!1)}function SB(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Gs.Pop,navigator:i,static:o=!1,future:a}=e;rl()&&dt(!1);let l=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Pc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=nl(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:b="default"}=r,p=v.useMemo(()=>{let S=qw(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:b},navigationType:s}},[l,d,h,f,m,b,s]);return p==null?null:v.createElement(gi.Provider,{value:u},v.createElement(Tf.Provider,{children:n,value:p}))}function gS(e){let{children:t,location:n}=e;return aB(nv(t),n)}new Promise(()=>{});function nv(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,nv(r.props.children,i));return}r.type!==Vt&&dt(!1),!r.props.index||!r.props.children||dt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function _B(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function EB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kB(e,t){return e.button===0&&(!t||t==="_self")&&!EB(e)}function sv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function CB(e,t){let n=sv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const TB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jB="6";try{window.__reactRouterVersion=jB}catch{}const AB="startTransition",vS=Ay[AB];function PB(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=NU({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=v.useCallback(h=>{u&&vS?vS(()=>l(h)):l(h)},[l,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>wB(r),[r]),v.createElement(SB,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const NB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=t,f=_B(t,TB),{basename:m}=v.useContext(gi),b,p=!1;if(typeof u=="string"&&OB.test(u)&&(b=u,NB))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),C=qw(_.pathname,m);_.origin===x.origin&&C!=null?u=C+_.search+_.hash:p=!0}catch{}let S=rB(u,{relative:s}),y=RB(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function w(x){r&&r(x),x.defaultPrevented||y(x)}return v.createElement("a",rv({},f,{href:b||S,onClick:p||i?r:w,ref:n,target:l}))});var yS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yS||(yS={}));var wS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wS||(wS={}));function RB(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=xo(),u=vi(),d=pA(e,{relative:o});return v.useCallback(h=>{if(kB(h,n)){h.preventDefault();let f=r!==void 0?r:Sh(u)===Sh(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,e,i,o,a])}function IB(e){let t=v.useRef(sv(e)),n=v.useRef(!1),r=vi(),s=v.useMemo(()=>CB(r.search,n.current?null:t.current),[r.search]),i=xo(),o=v.useCallback((a,l)=>{const u=sv(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const Jw=mf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?K2:"button";return c.jsx(o,{className:se(Jw({variant:t,size:n,className:e})),ref:i,...s})});ue.displayName="Button";const Yw=v.createContext({});function Qw(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xw=typeof window<"u",vA=Xw?v.useLayoutEffect:v.useEffect,jf=v.createContext(null);function Zw(e,t){e.indexOf(t)===-1&&e.push(t)}function e0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wr=(e,t,n)=>n>t?t:n<e?e:n;let Af=()=>{},Va=()=>{};const gs={},yA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function wA(e){return typeof e=="object"&&e!==null}const xA=e=>/^0[^.\s]+$/u.test(e);function t0(e){let t;return()=>(t===void 0&&(t=e()),t)}const Un=e=>e,MB=(e,t)=>n=>t(e(n)),nu=(...e)=>e.reduce(MB),Nc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class n0{constructor(){this.subscriptions=[]}add(t){return Zw(this.subscriptions,t),()=>e0(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fr=e=>e*1e3,$n=e=>e/1e3;function bA(e,t){return t?e*(1e3/t):0}const SA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,DB=1e-7,LB=12;function $B(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=SA(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>DB&&++a<LB);return o}function ru(e,t,n,r){if(e===t&&n===r)return Un;const s=i=>$B(i,0,1,e,n);return i=>i===0||i===1?i:SA(s(i),t,r)}const _A=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,EA=e=>t=>1-e(1-t),kA=ru(.33,1.53,.69,.99),r0=EA(kA),CA=_A(r0),TA=e=>(e*=2)<1?.5*r0(e):.5*(2-Math.pow(2,-10*(e-1))),s0=e=>1-Math.sin(Math.acos(e)),jA=EA(s0),AA=_A(s0),FB=ru(.42,0,1,1),VB=ru(0,0,.58,1),PA=ru(.42,0,.58,1),UB=e=>Array.isArray(e)&&typeof e[0]!="number",NA=e=>Array.isArray(e)&&typeof e[0]=="number",xS={linear:Un,easeIn:FB,easeInOut:PA,easeOut:VB,circIn:s0,circInOut:AA,circOut:jA,backIn:r0,backInOut:CA,backOut:kA,anticipate:TA},BB=e=>typeof e=="string",bS=e=>{if(NA(e)){Va(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return ru(t,n,r,s)}else if(BB(e))return Va(xS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),xS[e];return e},Vu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],SS={value:null,addProjectionMetrics:null};function zB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&s?n:r;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&SS.value&&SS.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const qB=40;function OA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Vu.reduce((x,_)=>(x[_]=zB(i,t?_:void 0),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:b}=o,p=()=>{const x=gs.useManualTiming?s.timestamp:performance.now();n=!1,gs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,qB),1)),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),b.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},S=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Vu.reduce((x,_)=>{const C=o[_];return x[_]=(T,j=!1,N=!1)=>(n||S(),C.schedule(T,j,N)),x},{}),cancel:x=>{for(let _=0;_<Vu.length;_++)o[Vu[_]].cancel(x)},state:s,steps:o}}const{schedule:Ke,cancel:ci,state:Ot,steps:Kp}=OA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let jd;function WB(){jd=void 0}const en={now:()=>(jd===void 0&&en.set(Ot.isProcessing||gs.useManualTiming?Ot.timestamp:performance.now()),jd),set:e=>{jd=e,queueMicrotask(WB)}},RA=e=>t=>typeof t=="string"&&t.startsWith(e),IA=RA("--"),HB=RA("var(--"),i0=e=>HB(e)?GB.test(e.split("/*")[0].trim()):!1,GB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function _S(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const sl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Oc={...sl,transform:e=>Wr(0,1,e)},Uu={...sl,default:1},Xl=e=>Math.round(e*1e5)/1e5,o0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KB(e){return e==null}const JB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a0=(e,t)=>n=>!!(typeof n=="string"&&JB.test(n)&&n.startsWith(e)||t&&!KB(n)&&Object.prototype.hasOwnProperty.call(n,t)),MA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(o0);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},YB=e=>Wr(0,255,e),Jp={...sl,transform:e=>Math.round(YB(e))},$i={test:a0("rgb","red"),parse:MA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Jp.transform(e)+", "+Jp.transform(t)+", "+Jp.transform(n)+", "+Xl(Oc.transform(r))+")"};function QB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const iv={test:a0("#"),parse:QB,transform:$i.transform},su=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),js=su("deg"),Vr=su("%"),ee=su("px"),XB=su("vh"),ZB=su("vw"),ES={...Vr,parse:e=>Vr.parse(e)/100,transform:e=>Vr.transform(e*100)},Zo={test:a0("hsl","hue"),parse:MA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Vr.transform(Xl(t))+", "+Vr.transform(Xl(n))+", "+Xl(Oc.transform(r))+")"},pt={test:e=>$i.test(e)||iv.test(e)||Zo.test(e),parse:e=>$i.test(e)?$i.parse(e):Zo.test(e)?Zo.parse(e):iv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$i.transform(e):Zo.transform(e),getAnimatableNone:e=>{const t=pt.parse(e);return t.alpha=0,pt.transform(t)}},e3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(o0))==null?void 0:t.length)||0)+(((n=e.match(e3))==null?void 0:n.length)||0)>0}const DA="number",LA="color",n3="var",r3="var(",kS="${}",s3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(s3,l=>(pt.test(l)?(r.color.push(i),s.push(LA),n.push(pt.parse(l))):l.startsWith(r3)?(r.var.push(i),s.push(n3),n.push(l)):(r.number.push(i),s.push(DA),n.push(parseFloat(l))),++i,kS)).split(kS);return{values:n,split:a,indexes:r,types:s}}function $A(e){return Rc(e).values}function FA(e){const{split:t,types:n}=Rc(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===DA?i+=Xl(s[o]):a===LA?i+=pt.transform(s[o]):i+=s[o]}return i}}const i3=e=>typeof e=="number"?0:pt.test(e)?pt.getAnimatableNone(e):e;function o3(e){const t=$A(e);return FA(e)(t.map(i3))}const ui={test:t3,parse:$A,createTransformer:FA,getAnimatableNone:o3};function Yp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function a3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Yp(l,a,e+1/3),i=Yp(l,a,e),o=Yp(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Eh(e,t){return n=>n>0?t:e}const tt=(e,t,n)=>e+(t-e)*n,Qp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},l3=[iv,$i,Zo],c3=e=>l3.find(t=>t.test(e));function CS(e){const t=c3(e);if(Af(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Zo&&(n=a3(n)),n}const TS=(e,t)=>{const n=CS(e),r=CS(t);if(!n||!r)return Eh(e,t);const s={...n};return i=>(s.red=Qp(n.red,r.red,i),s.green=Qp(n.green,r.green,i),s.blue=Qp(n.blue,r.blue,i),s.alpha=tt(n.alpha,r.alpha,i),$i.transform(s))},ov=new Set(["none","hidden"]);function u3(e,t){return ov.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function d3(e,t){return n=>tt(e,t,n)}function l0(e){return typeof e=="number"?d3:typeof e=="string"?i0(e)?Eh:pt.test(e)?TS:p3:Array.isArray(e)?VA:typeof e=="object"?pt.test(e)?TS:h3:Eh}function VA(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>l0(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function h3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=l0(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function f3(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const p3=(e,t)=>{const n=ui.createTransformer(t),r=Rc(e),s=Rc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ov.has(e)&&!s.values.length||ov.has(t)&&!r.values.length?u3(e,t):nu(VA(f3(r,s),s.values),n):(Af(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Eh(e,t))};function UA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tt(e,t,n):l0(e)(e,t)}const m3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ke.update(t,n),stop:()=>ci(t),now:()=>Ot.isProcessing?Ot.timestamp:en.now()}},BA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kh=2e4;function c0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<kh;)t+=n,r=e.next(t);return t>=kh?1/0:t}function g3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(c0(r),kh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:$n(s)}}const v3=5;function zA(e,t,n){const r=Math.max(t-v3,0);return bA(n-e(r),t-r)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xp=.001;function y3({duration:e=Xe.duration,bounce:t=Xe.bounce,velocity:n=Xe.velocity,mass:r=Xe.mass}){let s,i;Af(e<=Fr(Xe.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=Wr(Xe.minDamping,Xe.maxDamping,o),e=Wr(Xe.minDuration,Xe.maxDuration,$n(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,m=av(u,o),b=Math.exp(-h);return Xp-f/m*b},i=u=>{const h=u*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-h),p=av(Math.pow(u,2),o);return(-s(u)+Xp>0?-1:1)*((f-m)*b)/p}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Xp+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=x3(s,i,a);if(e=Fr(e),isNaN(l))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const w3=12;function x3(e,t,n){let r=n;for(let s=1;s<w3;s++)r=r-e(r)/t(r);return r}function av(e,t){return e*Math.sqrt(1-t*t)}const b3=["duration","bounce"],S3=["stiffness","damping","mass"];function jS(e,t){return t.some(n=>e[n]!==void 0)}function _3(e){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...e};if(!jS(e,S3)&&jS(e,b3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Wr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Xe.mass,stiffness:s,damping:i}}else{const n=y3(e);t={...t,...n,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function Ch(e=Xe.visualDuration,t=Xe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=_3({...n,velocity:-$n(n.velocity||0)}),b=f||0,p=u/(2*Math.sqrt(l*d)),S=o-i,y=$n(Math.sqrt(l/d)),w=Math.abs(S)<5;r||(r=w?Xe.restSpeed.granular:Xe.restSpeed.default),s||(s=w?Xe.restDelta.granular:Xe.restDelta.default);let x;if(p<1){const C=av(y,p);x=T=>{const j=Math.exp(-p*y*T);return o-j*((b+p*y*S)/C*Math.sin(C*T)+S*Math.cos(C*T))}}else if(p===1)x=C=>o-Math.exp(-y*C)*(S+(b+y*S)*C);else{const C=y*Math.sqrt(p*p-1);x=T=>{const j=Math.exp(-p*y*T),N=Math.min(C*T,300);return o-j*((b+p*y*S)*Math.sinh(N)+C*S*Math.cosh(N))/C}}const _={calculatedDuration:m&&h||null,next:C=>{const T=x(C);if(m)a.done=C>=h;else{let j=C===0?b:0;p<1&&(j=C===0?Fr(b):zA(x,C,T));const N=Math.abs(j)<=r,I=Math.abs(o-T)<=s;a.done=N&&I}return a.value=a.done?o:T,a},toString:()=>{const C=Math.min(c0(_),kh),T=BA(j=>_.next(C*j).value,C,30);return C+"ms "+T},toTransition:()=>{}};return _}Ch.applyToOptions=e=>{const t=g3(e,100,Ch);return e.ease=t.ease,e.duration=Fr(t.duration),e.type="keyframes",e};function lv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=N=>a!==void 0&&N<a||l!==void 0&&N>l,b=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let p=n*t;const S=h+p,y=o===void 0?S:o(S);y!==S&&(p=y-h);const w=N=>-p*Math.exp(-N/r),x=N=>y+w(N),_=N=>{const I=w(N),R=x(N);f.done=Math.abs(I)<=u,f.value=f.done?y:R};let C,T;const j=N=>{m(f.value)&&(C=N,T=Ch({keyframes:[f.value,b(f.value)],velocity:zA(x,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:N=>{let I=!1;return!T&&C===void 0&&(I=!0,_(N),j(N)),C!==void 0&&N>=C?T.next(N-C):(!I&&_(N),f)}}}function E3(e,t,n){const r=[],s=n||gs.mix||UA,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Un:t;a=nu(l,a)}r.push(a)}return r}function k3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Va(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=E3(t,r,s),l=a.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Nc(e[h],e[h+1],d);return a[h](f)};return n?d=>u(Wr(e[0],e[i-1],d)):u}function C3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Nc(0,t,r);e.push(tt(n,1,s))}}function T3(e){const t=[0];return C3(t,e.length-1),t}function j3(e,t){return e.map(n=>n*t)}function A3(e,t){return e.map(()=>t||PA).splice(0,e.length-1)}function Zl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=UB(r)?r.map(bS):bS(r),i={done:!1,value:t[0]},o=j3(n&&n.length===t.length?n:T3(t),e),a=k3(o,t,{ease:Array.isArray(s)?s:A3(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const P3=e=>e!==null;function u0(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(P3),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const N3={decay:lv,inertia:lv,tween:Zl,keyframes:Zl,spring:Ch};function qA(e){typeof e.type=="string"&&(e.type=N3[e.type])}class d0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const O3=e=>e/100;class h0 extends d0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==en.now()&&this.tick(en.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qA(t);const{type:n=Zl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Zl;l!==Zl&&typeof a[0]!="number"&&(this.mixKeyframes=nu(O3,UA(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=c0(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:b,onUpdate:p,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,_=r;if(h){const N=Math.min(this.currentTime,s)/a;let I=Math.floor(N),R=N%1;!R&&N>=1&&(R=1),R===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(_=o)),x=Wr(0,1,R)*a}const C=w?{done:!1,value:d[0]}:_.next(x);i&&(C.value=i(C.value));let{done:T}=C;!w&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return j&&b!==lv&&(C.value=u0(d,this.options,S,this.speed)),p&&p(C.value),j&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$n(t)}get time(){return $n(this.currentTime)}set time(t){var n;t=Fr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(en.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$n(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=m3,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(en.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function R3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fi=e=>e*180/Math.PI,cv=e=>{const t=Fi(Math.atan2(e[1],e[0]));return uv(t)},I3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cv,rotateZ:cv,skewX:e=>Fi(Math.atan(e[1])),skewY:e=>Fi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},uv=e=>(e=e%360,e<0&&(e+=360),e),AS=cv,PS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),NS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),M3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PS,scaleY:NS,scale:e=>(PS(e)+NS(e))/2,rotateX:e=>uv(Fi(Math.atan2(e[6],e[5]))),rotateY:e=>uv(Fi(Math.atan2(-e[2],e[0]))),rotateZ:AS,rotate:AS,skewX:e=>Fi(Math.atan(e[4])),skewY:e=>Fi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dv(e){return e.includes("scale")?1:0}function hv(e,t){if(!e||e==="none")return dv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=M3,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=I3,s=a}if(!s)return dv(t);const i=r[t],o=s[1].split(",").map(L3);return typeof i=="function"?i(o):o[i]}const D3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hv(n,t)};function L3(e){return parseFloat(e.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(il),OS=e=>e===sl||e===ee,$3=new Set(["x","y","z"]),F3=il.filter(e=>!$3.has(e));function V3(e){const t=[];return F3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ks={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hv(t,"x"),y:(e,{transform:t})=>hv(t,"y")};Ks.translateX=Ks.x;Ks.translateY=Ks.y;const Xi=new Set;let fv=!1,pv=!1,mv=!1;function WA(){if(pv){const e=Array.from(Xi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=V3(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pv=!1,fv=!1,Xi.forEach(e=>e.complete(mv)),Xi.clear()}function HA(){Xi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pv=!0)})}function U3(){mv=!0,HA(),WA(),mv=!1}class f0{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xi.add(this),fv||(fv=!0,Ke.read(HA),Ke.resolveKeyframes(WA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}R3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xi.delete(this)}cancel(){this.state==="scheduled"&&(Xi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B3=e=>e.startsWith("--");function z3(e,t,n){B3(t)?e.style.setProperty(t,n):e.style[t]=n}const q3=t0(()=>window.ScrollTimeline!==void 0),W3={};function H3(e,t){const n=t0(e);return()=>W3[t]??n()}const GA=H3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,RS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rl([0,.65,.55,1]),circOut:Rl([.55,0,1,.45]),backIn:Rl([.31,.01,.66,-.59]),backOut:Rl([.33,1.53,.69,.99])};function KA(e,t){if(e)return typeof e=="function"?GA()?BA(e,t):"ease-out":NA(e)?Rl(e):Array.isArray(e)?e.map(n=>KA(n,t)||RS.easeOut):RS[e]}function G3(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[t]:n};l&&(d.offset=l);const h=KA(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function JA(e){return typeof e=="function"&&"applyToOptions"in e}function K3({type:e,...t}){return JA(e)&&GA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class J3 extends d0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Va(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=K3(t);this.animation=G3(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=u0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):z3(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return $n(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$n(t)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Fr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&q3()?(this.animation.timeline=t,Un):n(this)}}const YA={anticipate:TA,backInOut:CA,circInOut:AA};function Y3(e){return e in YA}function Q3(e){typeof e.ease=="string"&&Y3(e.ease)&&(e.ease=YA[e.ease])}const Zp=10;class X3 extends J3{constructor(t){Q3(t),qA(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new h0({...o,autoplay:!1}),l=Math.max(Zp,en.now()-this.startTime),u=Wr(0,Zp,l-Zp);n.setWithVelocity(a.sample(Math.max(0,l-u)).value,a.sample(l).value,u),a.stop()}}const IS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ui.test(e)||e==="0")&&!e.startsWith("url("));function Z3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function e5(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=IS(s,t),a=IS(i,t);return Af(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:Z3(e)||(n==="spring"||JA(n))&&r}function gv(e){e.duration=0,e.type="keyframes"}const t5=new Set(["opacity","clipPath","filter","transform"]),n5=t0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function r5(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return n5()&&n&&t5.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const s5=40;class i5 extends d0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var b;super(),this.stop=()=>{var p,S;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=en.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||f0;this.keyframeResolver=new m(a,(p,S,y)=>this.onKeyframesResolved(p,S,f,!y),l,u,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=en.now(),e5(t,i,o,a)||((gs.instantAnimations||!l)&&(d==null||d(u0(t,r,n))),t[0]=t[t.length-1],gv(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>s5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&r5(f)?new X3({...f,element:f.motionValue.owner.current}):new h0(f);m.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),U3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const o5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a5(e){const t=o5.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const l5=4;function QA(e,t,n=1){Va(n<=l5,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=a5(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return yA(o)?parseFloat(o):o}return i0(s)?QA(s,t,n+1):s}function p0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const XA=new Set(["width","height","top","left","right","bottom",...il]),c5={test:e=>e==="auto",parse:e=>e},ZA=e=>t=>t.test(e),eP=[sl,ee,Vr,js,ZB,XB,c5],MS=e=>eP.find(ZA(e));function u5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xA(e):!0}const d5=new Set(["brightness","contrast","saturate","opacity"]);function h5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(o0)||[];if(!r)return e;const s=n.replace(r,"");let i=d5.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const f5=/\b([a-z-]*)\(.*?\)/gu,vv={...ui,getAnimatableNone:e=>{const t=e.match(f5);return t?t.map(h5).join(" "):e}},DS={...sl,transform:Math.round},p5={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Uu,scaleX:Uu,scaleY:Uu,scaleZ:Uu,skew:js,skewX:js,skewY:js,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Oc,originX:ES,originY:ES,originZ:ee},m0={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,inset:ee,insetBlock:ee,insetBlockStart:ee,insetBlockEnd:ee,insetInline:ee,insetInlineStart:ee,insetInlineEnd:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,paddingBlock:ee,paddingBlockStart:ee,paddingBlockEnd:ee,paddingInline:ee,paddingInlineStart:ee,paddingInlineEnd:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,marginBlock:ee,marginBlockStart:ee,marginBlockEnd:ee,marginInline:ee,marginInlineStart:ee,marginInlineEnd:ee,backgroundPositionX:ee,backgroundPositionY:ee,...p5,zIndex:DS,fillOpacity:Oc,strokeOpacity:Oc,numOctaves:DS},m5={...m0,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:vv,WebkitFilter:vv},tP=e=>m5[e];function nP(e,t){let n=tP(e);return n!==vv&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const g5=new Set(["auto","none","0"]);function v5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!g5.has(i)&&Rc(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=nP(n,s)}class y5 extends f0{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),i0(h))){const f=QA(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!XA.has(r)||t.length!==2)return;const[s,i]=t,o=MS(s),a=MS(i),l=_S(s),u=_S(i);if(l!==u&&Ks[r]){this.needsMeasurement=!0;return}if(o!==a)if(OS(o)&&OS(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Ks[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||u5(t[s]))&&r.push(s);r.length&&v5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ks[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ks[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function w5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const rP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function sP(e){return wA(e)&&"offsetHeight"in e}const LS=30,x5=e=>!isNaN(parseFloat(e));class b5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=en.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=en.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new n0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=en.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>LS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LS);return bA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ua(e,t){return new b5(e,t)}const{schedule:g0,cancel:UY}=OA(queueMicrotask,!1),sr={x:!1,y:!1};function iP(){return sr.x||sr.y}function S5(e){return e==="x"||e==="y"?sr[e]?null:(sr[e]=!0,()=>{sr[e]=!1}):sr.x||sr.y?null:(sr.x=sr.y=!0,()=>{sr.x=sr.y=!1})}function oP(e,t){const n=w5(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function $S(e){return!(e.pointerType==="touch"||iP())}function _5(e,t,n={}){const[r,s,i]=oP(e,n),o=a=>{if(!$S(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const d=h=>{$S(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const aP=(e,t)=>t?e===t?!0:aP(e,t.parentElement):!1,v0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,E5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lP(e){return E5.has(e.tagName)||e.isContentEditable===!0}const Ad=new WeakSet;function FS(e){return t=>{t.key==="Enter"&&e(t)}}function em(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const k5=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=FS(()=>{if(Ad.has(n))return;em(n,"down");const s=FS(()=>{em(n,"up")}),i=()=>em(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function VS(e){return v0(e)&&!iP()}function C5(e,t,n={}){const[r,s,i]=oP(e,n),o=a=>{const l=a.currentTarget;if(!VS(a))return;Ad.add(l);const u=t(l,a),d=(m,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ad.has(l)&&Ad.delete(l),VS(m)&&typeof u=="function"&&u(m,{success:b})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||aP(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),sP(a)&&(a.addEventListener("focus",u=>k5(u,s)),!lP(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function cP(e){return wA(e)&&"ownerSVGElement"in e}function T5(e){return cP(e)&&e.tagName==="svg"}const qt=e=>!!(e&&e.getVelocity),j5=[...eP,pt,ui],A5=e=>j5.find(ZA(e)),y0=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function US(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function P5(...e){return t=>{let n=!1;const r=e.map(s=>{const i=US(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():US(e[s],null)}}}}function N5(...e){return v.useCallback(P5(...e),e)}class O5 extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=sP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function R5({children:e,isPresent:t,anchorX:n,root:r}){var d;const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(y0),l=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=N5(i,l);return v.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:b,right:p}=o.current;if(t||!i.current||!h||!f)return;const S=n==="left"?`left: ${b}`:`right: ${p}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${S}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),c.jsx(O5,{isPresent:t,childRef:i,sizeRef:o,children:v.cloneElement(e,{ref:u})})}const I5=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=Qw(M5),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const b of u.values())if(!b)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return i&&h&&(f={...f}),v.useMemo(()=>{u.forEach((m,b)=>u.set(b,!1))},[n]),v.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(R5,{isPresent:n,anchorX:a,root:l,children:e})),c.jsx(jf.Provider,{value:f,children:e})};function M5(){return new Map}function uP(e=!0){const t=v.useContext(jf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=v.useId();v.useEffect(()=>{if(e)return s(i)},[e]);const o=v.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Bu=e=>e.key||"";function BS(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Ba=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,d]=uP(o),h=v.useMemo(()=>BS(e),[e]),f=o&&!u?[]:h.map(Bu),m=v.useRef(!0),b=v.useRef(h),p=Qw(()=>new Map),S=v.useRef(new Set),[y,w]=v.useState(h),[x,_]=v.useState(h);vA(()=>{m.current=!1,b.current=h;for(let j=0;j<x.length;j++){const N=Bu(x[j]);f.includes(N)?(p.delete(N),S.current.delete(N)):p.get(N)!==!0&&p.set(N,!1)}},[x,f.length,f.join("-")]);const C=[];if(h!==y){let j=[...h];for(let N=0;N<x.length;N++){const I=x[N],R=Bu(I);f.includes(R)||(j.splice(N,0,I),C.push(I))}return i==="wait"&&C.length&&(j=C),_(BS(j)),w(h),null}const{forceRender:T}=v.useContext(Yw);return c.jsx(c.Fragment,{children:x.map(j=>{const N=Bu(j),I=o&&!u?!1:h===x||f.includes(N),R=()=>{if(S.current.has(N))return;if(S.current.add(N),p.has(N))p.set(N,!0);else return;let O=!0;p.forEach($=>{$||(O=!1)}),O&&(T==null||T(),_(b.current),o&&(d==null||d()),r&&r())};return c.jsx(I5,{isPresent:I,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:I?void 0:R,anchorX:a,children:j},N)})})},dP=v.createContext({strict:!1}),zS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},za={};for(const e in zS)za[e]={isEnabled:t=>zS[e].some(n=>!!t[n])};function D5(e){for(const t in e)za[t]={...za[t],...e[t]}}const L5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Th(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||L5.has(e)}let hP=e=>!Th(e);function $5(e){typeof e=="function"&&(hP=t=>t.startsWith("on")?!Th(t):e(t))}try{$5(require("@emotion/is-prop-valid").default)}catch{}function F5(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(hP(s)||n===!0&&Th(s)||!t&&!Th(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Pf=v.createContext({});function Nf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ic(e){return typeof e=="string"||Array.isArray(e)}const w0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x0=["initial",...w0];function Of(e){return Nf(e.animate)||x0.some(t=>Ic(e[t]))}function fP(e){return!!(Of(e)||e.variants)}function V5(e,t){if(Of(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ic(n)?n:void 0,animate:Ic(r)?r:void 0}}return e.inherit!==!1?t:{}}function U5(e){const{initial:t,animate:n}=V5(e,v.useContext(Pf));return v.useMemo(()=>({initial:t,animate:n}),[qS(t),qS(n)])}function qS(e){return Array.isArray(e)?e.join(" "):e}function WS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=WS(e,t.target.x),r=WS(e,t.target.y);return`${n}% ${r}%`}},B5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ui.parse(e);if(s.length>5)return r;const i=ui.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=tt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},yv={borderRadius:{...kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kl,borderTopRightRadius:kl,borderBottomLeftRadius:kl,borderBottomRightRadius:kl,boxShadow:B5};function pP(e,{layout:t,layoutId:n}){return ol.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yv[e]||e==="opacity")}const z5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q5=il.length;function W5(e,t,n){let r="",s=!0;for(let i=0;i<q5;i++){const o=il[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=rP(a,m0[o]);if(!l){s=!1;const d=z5[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function b0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(ol.has(l)){o=!0;continue}else if(IA(l)){s[l]=u;continue}else{const d=rP(u,m0[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=W5(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const S0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mP(e,t,n){for(const r in t)!qt(t[r])&&!pP(r,n)&&(e[r]=t[r])}function H5({transformTemplate:e},t){return v.useMemo(()=>{const n=S0();return b0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function G5(e,t){const n=e.style||{},r={};return mP(r,n,e),Object.assign(r,H5(e,t)),r}function K5(e,t){const n={},r=G5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const J5={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y5={offset:"strokeDashoffset",array:"strokeDasharray"};function Q5(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?J5:Y5;e[i.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[i.array]=`${o} ${a}`}const X5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function gP(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,d){if(b0(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of X5)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Q5(h,s,i,o,!1)}const vP=()=>({...S0(),attrs:{}}),yP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Z5(e,t,n,r){const s=v.useMemo(()=>{const i=vP();return gP(i,t,yP(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};mP(i,e.style,e),s.style={...i,...s.style}}return s}const ez=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _0(e){return typeof e!="string"||e.includes("-")?!1:!!(ez.indexOf(e)>-1||/[A-Z]/u.test(e))}function tz(e,t,n,{latestValues:r},s,i=!1,o){const l=(o??_0(e)?Z5:K5)(t,r,s,e),u=F5(t,typeof e=="string",i),d=e!==v.Fragment?{...u,...l,ref:n}:{},{children:h}=t,f=v.useMemo(()=>qt(h)?h.get():h,[h]);return v.createElement(e,{...d,children:f})}function HS(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function E0(e,t,n,r){if(typeof t=="function"){const[s,i]=HS(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=HS(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Pd(e){return qt(e)?e.get():e}function nz({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:rz(n,r,s,e),renderState:t()}}function rz(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Pd(i[f]);let{initial:o,animate:a}=e;const l=Of(e),u=fP(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Nf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const b=E0(e,f[m]);if(b){const{transitionEnd:p,transition:S,...y}=b;for(const w in y){let x=y[w];if(Array.isArray(x)){const _=d?x.length-1:0;x=x[_]}x!==null&&(s[w]=x)}for(const w in p)s[w]=p[w]}}}return s}const wP=e=>(t,n)=>{const r=v.useContext(Pf),s=v.useContext(jf),i=()=>nz(e,t,r,s);return n?i():Qw(i)};function k0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(qt(r[o])||t.style&&qt(t.style[o])||pP(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const sz=wP({scrapeMotionValuesFromProps:k0,createRenderState:S0});function xP(e,t,n){const r=k0(e,t,n);for(const s in e)if(qt(e[s])||qt(t[s])){const i=il.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const iz=wP({scrapeMotionValuesFromProps:xP,createRenderState:vP}),oz=Symbol.for("motionComponentSymbol");function az(e,t,n){const r=v.useRef(n);v.useInsertionEffect(()=>{r.current=n});const s=v.useRef(null);return v.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const C0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lz="framerAppearId",bP="data-"+C0(lz),SP=v.createContext({});function Il(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cz(e,t,n,r,s,i){var S,y;const{visualElement:o}=v.useContext(Pf),a=v.useContext(dP),l=v.useContext(jf),u=v.useContext(y0).reducedMotion,d=v.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const h=d.current,f=v.useContext(SP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&uz(d.current,n,s,f);const m=v.useRef(!1);v.useInsertionEffect(()=>{h&&m.current&&h.update(n,l)});const b=n[bP],p=v.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,b)));return vA(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,b)}),p.current=!1),h.enteringChildren=void 0)}),h}function uz(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_P(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Il(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function _P(e){if(e)return e.options.allowProjection!==!1?e.projection:_P(e.parent)}function tm(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&D5(r);const i=n?n==="svg":_0(e),o=i?iz:sz;function a(u,d){let h;const f={...v.useContext(y0),...u,layoutId:dz(u)},{isStatic:m}=f,b=U5(u),p=o(u,m);if(!m&&Xw){hz();const S=fz(f);h=S.MeasureLayout,b.visualElement=cz(e,p,f,s,S.ProjectionNode,i)}return c.jsxs(Pf.Provider,{value:b,children:[h&&b.visualElement?c.jsx(h,{visualElement:b.visualElement,...f}):null,tz(e,u,az(p,b.visualElement,d),p,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(a);return l[oz]=e,l}function dz({layoutId:e}){const t=v.useContext(Yw).id;return t&&e!==void 0?t+"-"+e:e}function hz(e,t){v.useContext(dP).strict}function fz(e){const{drag:t,layout:n}=za;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function pz(e,t){if(typeof Proxy>"u")return tm;const n=new Map,r=(i,o)=>tm(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,tm(o,void 0,e,t)),n.get(o))})}function EP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function mz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nm(e){return e===void 0||e===1}function wv({scale:e,scaleX:t,scaleY:n}){return!nm(e)||!nm(t)||!nm(n)}function Ni(e){return wv(e)||kP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kP(e){return GS(e.x)||GS(e.y)}function GS(e){return e&&e!=="0%"}function jh(e,t,n){const r=e-n,s=t*r;return n+s}function KS(e,t,n,r,s){return s!==void 0&&(e=jh(e,s,r)),jh(e,n,r)+t}function xv(e,t=0,n=1,r,s){e.min=KS(e.min,t,n,r,s),e.max=KS(e.max,t,n,r,s)}function CP(e,{x:t,y:n}){xv(e.x,t.translate,t.scale,t.originPoint),xv(e.y,n.translate,n.scale,n.originPoint)}const JS=.999999999999,YS=1.0000000000001;function vz(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ta(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,CP(e,o)),r&&Ni(i.latestValues)&&ta(e,i.latestValues))}t.x<YS&&t.x>JS&&(t.x=1),t.y<YS&&t.y>JS&&(t.y=1)}function ea(e,t){e.min=e.min+t,e.max=e.max+t}function QS(e,t,n,r,s=.5){const i=tt(e.min,e.max,s);xv(e,t,n,i,r)}function ta(e,t){QS(e.x,t.x,t.scaleX,t.scale,t.originX),QS(e.y,t.y,t.scaleY,t.scale,t.originY)}function TP(e,t){return EP(gz(e.getBoundingClientRect(),t))}function yz(e,t,n){const r=TP(e,n),{scroll:s}=t;return s&&(ea(r.x,s.offset.x),ea(r.y,s.offset.y)),r}const XS=()=>({translate:0,scale:1,origin:0,originPoint:0}),na=()=>({x:XS(),y:XS()}),ZS=()=>({min:0,max:0}),yt=()=>({x:ZS(),y:ZS()}),bv={current:null},jP={current:!1};function wz(){if(jP.current=!0,!!Xw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bv.current=e.matches;e.addEventListener("change",t),t()}else bv.current=!1}const xz=new WeakMap;function bz(e,t,n){for(const r in t){const s=t[r],i=n[r];if(qt(s))e.addValue(r,s);else if(qt(i))e.addValue(r,Ua(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ua(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const e_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=f0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=en.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ke.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Of(n),this.isVariantNode=fP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&qt(m)&&m.set(l[f])}}mount(t){var n;this.current=t,xz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(jP.current||wz(),this.shouldReduceMotion=bv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ol.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in za){const n=za[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<e_.length;r++){const s=e_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=bz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ua(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(yA(r)||xA(r))?r=parseFloat(r):!A5(r)&&ui.test(n)&&(r=nP(t,n)),this.setBaseTarget(t,qt(r)?r.get():r)),qt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=E0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new n0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){g0.render(this.render)}}class AP extends Sz{constructor(){super(...arguments),this.KeyframeResolver=y5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PP(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function _z(e){return window.getComputedStyle(e)}class Ez extends AP{constructor(){super(...arguments),this.type="html",this.renderInstance=PP}readValueFromInstance(t,n){var r;if(ol.has(n))return(r=this.projection)!=null&&r.isProjecting?dv(n):D3(t,n);{const s=_z(t),i=(IA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return TP(t,n)}build(t,n,r){b0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return k0(t,n,r)}}const NP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kz(e,t,n,r){PP(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(NP.has(s)?s:C0(s),t.attrs[s])}class Cz extends AP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ol.has(n)){const r=tP(n);return r&&r.default||0}return n=NP.has(n)?n:C0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return xP(t,n,r)}build(t,n,r){gP(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){kz(t,n,r,s)}mount(t){this.isSVGTag=yP(t.tagName),super.mount(t)}}const Tz=(e,t)=>t.isSVG??_0(e)?new Cz(t):new Ez(t,{allowProjection:e!==v.Fragment});function fa(e,t,n){const r=e.getProps();return E0(r,t,n!==void 0?n:r.custom,e)}const Sv=e=>Array.isArray(e);function jz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ua(n))}function Az(e){return Sv(e)?e[e.length-1]||0:e}function Pz(e,t){const n=fa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Az(i[o]);jz(e,o,a)}}function Nz(e){return!!(qt(e)&&e.add)}function _v(e,t){const n=e.getValue("willChange");if(Nz(n))return n.add(t);if(!n&&gs.WillChange){const r=new gs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function OP(e){return e.props[bP]}const Oz=e=>e!==null;function Rz(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Oz),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Iz={type:"spring",stiffness:500,damping:25,restSpeed:10},Mz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Dz={type:"keyframes",duration:.8},Lz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$z=(e,{keyframes:t})=>t.length>2?Dz:ol.has(e)?e.startsWith("scale")?Mz(t[1]):Iz:Lz;function Fz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const T0=(e,t,n,r={},s,i)=>o=>{const a=p0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Fr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Fz(a)||Object.assign(d,$z(e,d)),d.duration&&(d.duration=Fr(d.duration)),d.repeatDelay&&(d.repeatDelay=Fr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(gv(d),d.delay===0&&(h=!0)),(gs.instantAnimations||gs.skipAnimations)&&(h=!0,gv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=Rz(d.keyframes,a);if(f!==void 0){Ke.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new h0(d):new i5(d)};function Vz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function RP(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||u&&Vz(u,d))continue;const m={delay:n,...p0(i||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===b&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=OP(e);if(y){const w=window.MotionHandoffAnimation(y,d,Ke);w!==null&&(m.startTime=w,p=!0)}}_v(e,d),h.start(T0(d,h,f,e.shouldReduceMotion&&XA.has(d)?{type:!1}:m,e,p));const S=h.animation;S&&l.push(S)}return o&&Promise.all(l).then(()=>{Ke.update(()=>{o&&Pz(e,o)})}),l}function IP(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Ev(e,t,n={}){var l;const r=fa(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(RP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Uz(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,d]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function Uz(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ev(l,t,{...o,delay:n+(typeof r=="function"?0:r)+IP(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Bz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Ev(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Ev(e,t,n);else{const s=typeof t=="function"?fa(e,t,n.custom):t;r=Promise.all(RP(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function MP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const zz=x0.length;function DP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<zz;n++){const r=x0[n],s=e.props[r];(Ic(s)||s===!1)&&(t[r]=s)}return t}const qz=[...w0].reverse(),Wz=w0.length;function Hz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Bz(e,n,r)))}function Gz(e){let t=Hz(e),n=t_(),r=!0;const s=l=>(u,d)=>{var f;const h=fa(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:b,...p}=h;u={...u,...p,...b}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=DP(e.parent)||{},h=[],f=new Set;let m={},b=1/0;for(let S=0;S<Wz;S++){const y=qz[S],w=n[y],x=u[y]!==void 0?u[y]:d[y],_=Ic(x),C=y===l?w.isActive:null;C===!1&&(b=S);let T=x===d[y]&&x!==u[y]&&_;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&C===null||!x&&!w.prevProp||Nf(x)||typeof x=="boolean")continue;const j=Kz(w.prevProp,x);let N=j||y===l&&w.isActive&&!T&&_||S>b&&_,I=!1;const R=Array.isArray(x)?x:[x];let O=R.reduce(s(y),{});C===!1&&(O={});const{prevResolvedValues:$={}}=w,W={...$,...O},L=Q=>{N=!0,f.has(Q)&&(I=!0,f.delete(Q)),w.needsAnimating[Q]=!0;const D=e.getValue(Q);D&&(D.liveStyle=!1)};for(const Q in W){const D=O[Q],F=$[Q];if(m.hasOwnProperty(Q))continue;let K=!1;Sv(D)&&Sv(F)?K=!MP(D,F):K=D!==F,K?D!=null?L(Q):f.add(Q):D!==void 0&&f.has(Q)?L(Q):w.protectedKeys[Q]=!0}w.prevProp=x,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(N=!1);const J=T&&j;N&&(!J||I)&&h.push(...R.map(Q=>{const D={type:y};if(typeof Q=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,K=fa(F,Q);if(F.enteringChildren&&K){const{delayChildren:ie}=K.transition||{};D.delay=IP(F.enteringChildren,e,ie)}}return{animation:Q,options:D}}))}if(f.size){const S={};if(typeof u.initial!="boolean"){const y=fa(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(S.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),x=e.getValue(y);x&&(x.liveStyle=!0),S[y]=w??null}),h.push({animation:S})}let p=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=t_()}}}function Kz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MP(t,e):!1}function Si(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function t_(){return{animate:Si(!0),whileInView:Si(),whileHover:Si(),whileTap:Si(),whileDrag:Si(),whileFocus:Si(),exit:Si()}}class yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Jz extends yi{constructor(t){super(t),t.animationState||(t.animationState=Gz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Yz=0;class Qz extends yi{constructor(){super(...arguments),this.id=Yz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Xz={animation:{Feature:Jz},exit:{Feature:Qz}};function Mc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function iu(e){return{point:{x:e.pageX,y:e.pageY}}}const Zz=e=>t=>v0(t)&&e(t,iu(t));function ec(e,t,n,r){return Mc(e,t,Zz(n),r)}const LP=1e-4,e8=1-LP,t8=1+LP,$P=.01,n8=0-$P,r8=0+$P;function tn(e){return e.max-e.min}function s8(e,t,n){return Math.abs(e-t)<=n}function n_(e,t,n,r=.5){e.origin=r,e.originPoint=tt(t.min,t.max,e.origin),e.scale=tn(n)/tn(t),e.translate=tt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=e8&&e.scale<=t8||isNaN(e.scale))&&(e.scale=1),(e.translate>=n8&&e.translate<=r8||isNaN(e.translate))&&(e.translate=0)}function tc(e,t,n,r){n_(e.x,t.x,n.x,r?r.originX:void 0),n_(e.y,t.y,n.y,r?r.originY:void 0)}function r_(e,t,n){e.min=n.min+t.min,e.max=e.min+tn(t)}function i8(e,t,n){r_(e.x,t.x,n.x),r_(e.y,t.y,n.y)}function s_(e,t,n){e.min=t.min-n.min,e.max=e.min+tn(t)}function Ah(e,t,n){s_(e.x,t.x,n.x),s_(e.y,t.y,n.y)}function On(e){return[e("x"),e("y")]}const FP=({current:e})=>e?e.ownerDocument.defaultView:null,i_=(e,t)=>Math.abs(e-t);function o8(e,t){const n=i_(e.x,t.x),r=i_(e.y,t.y);return Math.sqrt(n**2+r**2)}const o_=new Set(["auto","scroll"]);class VP{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=sm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,p=o8(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!p)return;const{point:S}=m,{timestamp:y}=Ot;this.history.push({...S,timestamp:y});const{onStart:w,onMove:x}=this.handlers;b||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,b)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=rm(b,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(m,b)=>{this.end();const{onEnd:p,onSessionEnd:S,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=sm(m.type==="pointercancel"?this.lastMoveEventInfo:rm(b,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,w),S&&S(m,w)},!v0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=iu(t),u=rm(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Ot;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,sm(u,this.history)),this.removeListeners=nu(ec(this.contextWindow,"pointermove",this.handlePointerMove),ec(this.contextWindow,"pointerup",this.handlePointerUp),ec(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(o_.has(r.overflowX)||o_.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Ke.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ci(this.updatePoint)}}function rm(e,t){return t?{point:t(e.point)}:e}function a_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sm({point:e},t){return{point:e,delta:a_(e,UP(t)),offset:a_(e,a8(t)),velocity:l8(t,.1)}}function a8(e){return e[0]}function UP(e){return e[e.length-1]}function l8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=UP(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Fr(t)));)n--;if(!r)return{x:0,y:0};const i=$n(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function c8(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?tt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?tt(n,e,r.max):Math.min(e,n)),e}function l_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function u8(e,{top:t,left:n,bottom:r,right:s}){return{x:l_(e.x,n,s),y:l_(e.y,t,r)}}function c_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function d8(e,t){return{x:c_(e.x,t.x),y:c_(e.y,t.y)}}function h8(e,t){let n=.5;const r=tn(e),s=tn(t);return s>r?n=Nc(t.min,t.max-r,e.min):r>s&&(n=Nc(e.min,e.max-s,t.min)),Wr(0,1,n)}function f8(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kv=.35;function p8(e=kv){return e===!1?e=0:e===!0&&(e=kv),{x:u_(e,"left","right"),y:u_(e,"top","bottom")}}function u_(e,t,n){return{min:d_(e,t),max:d_(e,n)}}function d_(e,t){return typeof e=="number"?e:e[t]||0}const m8=new WeakMap;class g8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(iu(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:m,dragPropagation:b,onDragStart:p}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S5(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Vr.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[y];_&&(w=tn(_)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&Ke.postRender(()=>p(h,f)),_v(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:p,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(b&&this.currentDirection===null){this.currentDirection=v8(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),S&&S(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>On(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new VP(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:FP(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ke.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!zu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=c8(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Il(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=u8(r.layoutBox,t):this.constraints=!1,this.elastic=p8(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&On(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=f8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Il(t))return!1;const r=t.current;Va(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=yz(r,s.root,this.visualElement.getTransformPagePoint());let o=d8(s.layout.layoutBox,i);if(n){const a=n(mz(o));this.hasMutatedConstraints=!!a,a&&(o=EP(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=On(d=>{if(!zu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return _v(this.visualElement,t),r.start(T0(t,r,0,n,this.visualElement,!1))}stopAnimation(){On(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){On(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){On(n=>{const{drag:r}=this.getProps();if(!zu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-tt(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Il(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};On(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=h8({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(o=>{if(!zu(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(tt(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;m8.set(this.visualElement,this);const t=this.visualElement.current,n=ec(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!lP(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Il(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ke.read(r);const o=Mc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(On(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=kv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function zu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function v8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class y8 extends yi{constructor(t){super(t),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new g8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const h_=e=>(t,n)=>{e&&Ke.postRender(()=>e(t,n))};class w8 extends yi{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(t){this.session=new VP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:h_(t),onStart:h_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ke.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ec(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let im=!1;class x8 extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),im&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,im=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ke.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),g0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;im=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function BP(e){const[t,n]=uP(),r=v.useContext(Yw);return c.jsx(x8,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(SP),isPresent:t,safeToRemove:n})}function b8(e,t,n){const r=qt(e)?e:Ua(e);return r.start(T0("",r,t,n)),r.animation}const S8=(e,t)=>e.depth-t.depth;class _8{constructor(){this.children=[],this.isDirty=!1}add(t){Zw(this.children,t),this.isDirty=!0}remove(t){e0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(S8),this.isDirty=!1,this.children.forEach(t)}}function E8(e,t){const n=en.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ci(r),e(i-t))};return Ke.setup(r,!0),()=>ci(r)}const zP=["TopLeft","TopRight","BottomLeft","BottomRight"],k8=zP.length,f_=e=>typeof e=="string"?parseFloat(e):e,p_=e=>typeof e=="number"||ee.test(e);function C8(e,t,n,r,s,i){s?(e.opacity=tt(0,n.opacity??1,T8(r)),e.opacityExit=tt(t.opacity??1,0,j8(r))):i&&(e.opacity=tt(t.opacity??1,n.opacity??1,r));for(let o=0;o<k8;o++){const a=`border${zP[o]}Radius`;let l=m_(t,a),u=m_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||p_(l)===p_(u)?(e[a]=Math.max(tt(f_(l),f_(u),r),0),(Vr.test(u)||Vr.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=tt(t.rotate||0,n.rotate||0,r))}function m_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const T8=qP(0,.5,jA),j8=qP(.5,.95,Un);function qP(e,t,n){return r=>r<e?0:r>t?1:n(Nc(e,t,r))}function g_(e,t){e.min=t.min,e.max=t.max}function tr(e,t){g_(e.x,t.x),g_(e.y,t.y)}function v_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y_(e,t,n,r,s){return e-=t,e=jh(e,1/n,r),s!==void 0&&(e=jh(e,1/s,r)),e}function A8(e,t=0,n=1,r=.5,s,i=e,o=e){if(Vr.test(t)&&(t=parseFloat(t),t=tt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=tt(i.min,i.max,r);e===i&&(a-=t),e.min=y_(e.min,t,n,a,s),e.max=y_(e.max,t,n,a,s)}function w_(e,t,[n,r,s],i,o){A8(e,t[n],t[r],t[s],t.scale,i,o)}const P8=["x","scaleX","originX"],N8=["y","scaleY","originY"];function x_(e,t,n,r){w_(e.x,t,P8,n?n.x:void 0,r?r.x:void 0),w_(e.y,t,N8,n?n.y:void 0,r?r.y:void 0)}function b_(e){return e.translate===0&&e.scale===1}function WP(e){return b_(e.x)&&b_(e.y)}function S_(e,t){return e.min===t.min&&e.max===t.max}function O8(e,t){return S_(e.x,t.x)&&S_(e.y,t.y)}function __(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HP(e,t){return __(e.x,t.x)&&__(e.y,t.y)}function E_(e){return tn(e.x)/tn(e.y)}function k_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class R8{constructor(){this.members=[]}add(t){Zw(this.members,t),t.scheduleRender()}remove(t){if(e0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function I8(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const om=["","X","Y","Z"],M8=1e3;let D8=0;function am(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function GP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=OP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&GP(r)}function KP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=D8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(F8),this.nodes.forEach(z8),this.nodes.forEach(q8),this.nodes.forEach(V8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new _8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new n0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=cP(o)&&!T5(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ke.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=E8(f,250),Nd.hasAnimatedSinceResize&&(Nd.hasAnimatedSinceResize=!1,this.nodes.forEach(j_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||J8,{onLayoutAnimationStart:p,onLayoutAnimationComplete:S}=u.getProps(),y=!this.targetLayout||!HP(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...p0(b,"layout"),onPlay:p,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,w)}else h||j_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(W8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(T_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(B8),this.nodes.forEach(L8),this.nodes.forEach($8)):this.nodes.forEach(T_),this.clearAllSnapshots();const a=en.now();Ot.delta=Wr(0,1e3/60,a-Ot.timestamp),Ot.timestamp=a,Ot.isProcessing=!0,Kp.update.process(Ot),Kp.preRender.process(Ot),Kp.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(U8),this.sharedNodes.forEach(H8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!WP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ni(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Y8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return yt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Q8))){const{scroll:d}=this.root;d&&(ea(a.x,d.offset.x),ea(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=yt();if(tr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&tr(a,o),ea(a.x,h.offset.x),ea(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=yt();tr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ta(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ni(d.latestValues)&&ta(l,d.latestValues)}return Ni(this.latestValues)&&ta(l,this.latestValues),l}removeTransform(o){const a=yt();tr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ni(u.latestValues))continue;wv(u.latestValues)&&u.updateSnapshot();const d=yt(),h=u.measurePageBox();tr(d,h),x_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ni(this.latestValues)&&x_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Ot.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),CP(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wv(this.parent.latestValues)||kP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Ah(this.relativeTargetOrigin,a,l),tr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;tr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;vz(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=yt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v_(this.prevProjectionDelta.x,this.projectionDelta.x),v_(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!k_(this.projectionDelta.x,this.prevProjectionDelta.x)||!k_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=na(),this.projectionDelta=na(),this.projectionDeltaWithTransform=na()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=yt(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,p=m!==b,S=this.getStack(),y=!S||S.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(K8));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const C=_/1e3;A_(h.x,o.x,C),A_(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ah(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G8(this.relativeTarget,this.relativeTargetOrigin,f,C),x&&O8(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=yt()),tr(x,this.relativeTarget)),p&&(this.animationValues=d,C8(d,u,this.latestValues,C,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ua(0)),this.currentAnimation=b8(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&JP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||yt();const h=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}tr(a,l),ta(a,d),tc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new R8),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&am("z",o,u,this.animationValues);for(let d=0;d<om.length;d++)am(`rotate${om[d]}`,o,u,this.animationValues),am(`skew${om[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Pd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Pd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=I8(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in yv){if(d[b]===void 0)continue;const{correct:p,applyTo:S,isCSSVariable:y}=yv[b],w=h==="none"?d[b]:p(d[b],u);if(S){const x=S.length;for(let _=0;_<x;_++)o[S[_]]=w}else y?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=u===this?Pd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(C_),this.root.sharedNodes.clear()}}}function L8(e){e.updateLayout()}function $8(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?On(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=tn(f);f.min=r[h].min,f.max=f.min+m}):JP(i,t.layoutBox,r)&&On(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=tn(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=na();tc(a,r,t.layoutBox);const l=na();o?tc(l,e.applyTransform(s,!0),t.measuredBox):tc(l,r,t.layoutBox);const u=!WP(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const b=yt();Ah(b,t.layoutBox,f.layoutBox);const p=yt();Ah(p,r,m.layoutBox),HP(b,p)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function F8(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function V8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function U8(e){e.clearSnapshot()}function C_(e){e.clearMeasurements()}function T_(e){e.isLayoutDirty=!1}function B8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function j_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function z8(e){e.resolveTargetDelta()}function q8(e){e.calcProjection()}function W8(e){e.resetSkewAndRotation()}function H8(e){e.removeLeadSnapshot()}function A_(e,t,n){e.translate=tt(t.translate,0,n),e.scale=tt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function P_(e,t,n,r){e.min=tt(t.min,n.min,r),e.max=tt(t.max,n.max,r)}function G8(e,t,n,r){P_(e.x,t.x,n.x,r),P_(e.y,t.y,n.y,r)}function K8(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const J8={duration:.45,ease:[.4,0,.1,1]},N_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),O_=N_("applewebkit/")&&!N_("chrome/")?Math.round:Un;function R_(e){e.min=O_(e.min),e.max=O_(e.max)}function Y8(e){R_(e.x),R_(e.y)}function JP(e,t,n){return e==="position"||e==="preserve-aspect"&&!s8(E_(t),E_(n),.2)}function Q8(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const X8=KP({attachResizeListener:(e,t)=>Mc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lm={current:void 0},YP=KP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lm.current){const e=new X8({});e.mount(window),e.setOptions({layoutScroll:!0}),lm.current=e}return lm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Z8={pan:{Feature:w8},drag:{Feature:y8,ProjectionNode:YP,MeasureLayout:BP}};function I_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ke.postRender(()=>i(t,iu(t)))}class eq extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=_5(t,(n,r)=>(I_(this.node,r,"Start"),s=>I_(this.node,s,"End"))))}unmount(){}}class tq extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nu(Mc(this.node.current,"focus",()=>this.onFocus()),Mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function M_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ke.postRender(()=>i(t,iu(t)))}class nq extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=C5(t,(n,r)=>(M_(this.node,r,"Start"),(s,{success:i})=>M_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cv=new WeakMap,cm=new WeakMap,rq=e=>{const t=Cv.get(e.target);t&&t(e)},sq=e=>{e.forEach(rq)};function iq({root:e,...t}){const n=e||document;cm.has(n)||cm.set(n,{});const r=cm.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(sq,{root:e,...t})),r[s]}function oq(e,t,n){const r=iq(t);return Cv.set(e,n),r.observe(e),()=>{Cv.delete(e),r.unobserve(e)}}const aq={some:0,all:1};class lq extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:aq[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return oq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(cq(t,n))&&this.startObserver()}unmount(){}}function cq({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const uq={inView:{Feature:lq},tap:{Feature:nq},focus:{Feature:tq},hover:{Feature:eq}},dq={layout:{ProjectionNode:YP,MeasureLayout:BP}},hq={...Xz,...uq,...Z8,...dq},Se=pz(hq,Tz);function al(){const{theme:e,setTheme:t}=bj();return c.jsxs(ue,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[c.jsx(Se.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:c.jsx(eF,{className:"h-5 w-5"})}),c.jsx(Se.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:c.jsx(G$,{className:"h-5 w-5"})}),c.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const D_=[{icon:Yi,title:"Interview",description:"AI-powered voice conversations capture detailed insights from your team members"},{icon:_w,title:"Analyze",description:"Advanced AI synthesizes responses to identify patterns and opportunities"},{icon:lj,title:"Insights",description:"Receive actionable recommendations for process improvements and automation"}];function fq(){return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:c.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:c.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(al,{}),c.jsx(ue,{asChild:!0,children:c.jsx(et,{to:"/admin/login",children:"Admin Login"})})]})]})}),c.jsx("section",{className:"container flex min-h-screen flex-col items-center justify-center pt-16 text-center",children:c.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl",children:[c.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["AI-powered Discovery for"," ",c.jsx("span",{className:"text-accent",children:"consulting engagements"})]}),c.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Transform how you gather insights. Our voice-based AI conducts intelligent interviews with your team, analyzes responses, and delivers actionable recommendations for process improvement."}),c.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:[c.jsx(ue,{asChild:!0,size:"lg",className:"gap-2",children:c.jsxs(et,{to:"/admin/login",children:["Get Started",c.jsx(_c,{className:"h-4 w-4"})]})}),c.jsx(ue,{asChild:!0,variant:"outline",size:"lg",children:c.jsx(et,{to:"/interview/demo",children:"Try Demo Interview"})})]})]})}),c.jsx("section",{className:"border-t bg-muted/30 py-24",children:c.jsxs("div",{className:"container",children:[c.jsxs(Se.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-16 text-center",children:[c.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How It Works"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to transform your discovery process"})]}),c.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:D_.map((e,t)=>c.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[c.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-accent/10",children:c.jsx(e.icon,{className:"h-8 w-8 text-accent"})}),c.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[c.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs font-bold text-primary-foreground",children:t+1}),c.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e.title})]}),c.jsx("p",{className:"text-muted-foreground",children:e.description}),t<D_.length-1&&c.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:c.jsx(_c,{className:"h-6 w-6 text-muted-foreground/50"})})]},e.title))})]})}),c.jsx("footer",{className:"border-t py-8",children:c.jsxs("div",{className:"container",children:[c.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[c.jsx(et,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),c.jsx("span",{className:"text-muted-foreground/50",children:"|"}),c.jsx(et,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),c.jsx("span",{className:"text-muted-foreground/50",children:"|"}),c.jsx(et,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),c.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})})]})}const Oe=v.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Oe.displayName="Card";const rn=v.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));rn.displayName="CardHeader";const sn=v.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));sn.displayName="CardTitle";const Ur=v.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Ur.displayName="CardDescription";const Ie=v.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const pq=v.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));pq.displayName="CardFooter";var mq=v.createContext(void 0);function ou(e){const t=v.useContext(mq);return e||t||"ltr"}function Tv(e,[t,n]){return Math.min(n,Math.max(t,e))}function gq(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var j0="ScrollArea",[QP,zY]=Hn(j0),[vq,Kn]=QP(j0),XP=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=v.useState(null),[u,d]=v.useState(null),[h,f]=v.useState(null),[m,b]=v.useState(null),[p,S]=v.useState(null),[y,w]=v.useState(0),[x,_]=v.useState(0),[C,T]=v.useState(!1),[j,N]=v.useState(!1),I=Ce(t,O=>l(O)),R=ou(s);return c.jsx(vq,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:p,onScrollbarYChange:S,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:w,onCornerHeightChange:_,children:c.jsx(me.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});XP.displayName=j0;var ZP="ScrollAreaViewport",eN=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Kn(ZP,n),a=v.useRef(null),l=Ce(t,a,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(me.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});eN.displayName=ZP;var Kr="ScrollAreaScrollbar",A0=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Kr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?c.jsx(yq,{...r,ref:t,forceMount:n}):s.type==="scroll"?c.jsx(wq,{...r,ref:t,forceMount:n}):s.type==="auto"?c.jsx(tN,{...r,ref:t,forceMount:n}):s.type==="always"?c.jsx(P0,{...r,ref:t}):null});A0.displayName=Kr;var yq=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Kr,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(Gn,{present:n||i,children:c.jsx(tN,{"data-state":i?"visible":"hidden",...r,ref:t})})}),wq=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Kr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=If(()=>l("SCROLL_END"),100),[a,l]=gq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(l("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),c.jsx(Gn,{present:n||a!=="hidden",children:c.jsx(P0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),tN=v.forwardRef((e,t)=>{const n=Kn(Kr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=v.useState(!1),a=e.orientation==="horizontal",l=If(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return qa(n.viewport,l),qa(n.content,l),c.jsx(Gn,{present:r||i,children:c.jsx(P0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),P0=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Kn(Kr,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=oN(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return kq(f,o.current,a,m)}return n==="horizontal"?c.jsx(xq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=L_(f,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?c.jsx(bq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=L_(f,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),xq=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Kn(Kr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),u=Ce(t,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(rN,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),lN(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Nh(o.paddingLeft),paddingEnd:Nh(o.paddingRight)}})}})}),bq=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Kn(Kr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),u=Ce(t,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx(rN,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),lN(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Nh(o.paddingTop),paddingEnd:Nh(o.paddingBottom)}})}})}),[Sq,nN]=QP(Kr),rN=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Kn(Kr,n),[b,p]=v.useState(null),S=Ce(t,I=>p(I)),y=v.useRef(null),w=v.useRef(""),x=m.viewport,_=r.content-r.viewport,C=xt(d),T=xt(l),j=If(h,10);function N(I){if(y.current){const R=I.clientX-y.current.left,O=I.clientY-y.current.top;u({x:R,y:O})}}return v.useEffect(()=>{const I=R=>{const O=R.target;(b==null?void 0:b.contains(O))&&C(R,_)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[x,b,_,C]),v.useEffect(T,[r,T]),qa(b,j),qa(m.content,j),c.jsx(Sq,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:xt(i),onThumbPointerUp:xt(o),onThumbPositionChange:T,onThumbPointerDown:xt(a),children:c.jsx(me.div,{...f,ref:S,style:{position:"absolute",...f.style},onPointerDown:oe(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(I))}),onPointerMove:oe(e.onPointerMove,N),onPointerUp:oe(e.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Ph="ScrollAreaThumb",sN=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=nN(Ph,e.__scopeScrollArea);return c.jsx(Gn,{present:n||s.hasThumb,children:c.jsx(_q,{ref:t,...r})})}),_q=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Kn(Ph,n),o=nN(Ph,n),{onThumbPositionChange:a}=o,l=Ce(t,h=>o.onThumbChange(h)),u=v.useRef(void 0),d=If(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=Cq(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,a]),c.jsx(me.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),b=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:b,y:p})}),onPointerUp:oe(e.onPointerUp,o.onThumbPointerUp)})});sN.displayName=Ph;var N0="ScrollAreaCorner",iN=v.forwardRef((e,t)=>{const n=Kn(N0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(Eq,{...e,ref:t}):null});iN.displayName=N0;var Eq=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Kn(N0,n),[i,o]=v.useState(0),[a,l]=v.useState(0),u=!!(i&&a);return qa(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),qa(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?c.jsx(me.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Nh(e){return e?parseInt(e,10):0}function oN(e,t){const n=e/t;return isNaN(n)?0:n}function Rf(e){const t=oN(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function kq(e,t,n,r="ltr"){const s=Rf(n),i=s/2,o=t||i,a=s-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return aN([l,u],h)(e)}function L_(e,t,n="ltr"){const r=Rf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],u=Tv(e,l);return aN([0,o],[0,a])(u)}function aN(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function lN(e,t){return e>0&&e<t}var Cq=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function If(e,t){const n=xt(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function qa(e,t){const n=xt(t);Et(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var cN=XP,Tq=eN,jq=iN;const Mf=v.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(cN,{ref:r,className:se("relative overflow-hidden",e),...n,children:[c.jsx(Tq,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(uN,{}),c.jsx(jq,{})]}));Mf.displayName=cN.displayName;const uN=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>c.jsx(A0,{ref:r,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:c.jsx(sN,{className:"relative flex-1 rounded-full bg-border"})}));uN.displayName=A0.displayName;var dN={};function $_(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var l={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(a.indexOf(u)!==-1)continue;l[u]=o[u]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(e)}function hN(e){var t=function(n,r){if(Ae(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Ae(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Ae(t)=="symbol"?t:t+""}function F_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hN(r.key),r)}}function Nn(e,t,n){return t&&F_(e.prototype,t),n&&F_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Df(e,t){if(t&&(Ae(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(e)}function Dc(e,t){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Dc(e,t)}function Lf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}function Or(e,t,n){return(t=hN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V_(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,s)}function ge(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(l){V_(i,r,s,o,a,"next",l)}function a(l){V_(i,r,s,o,a,"throw",l)}o(void 0)})}}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a,l,u=[],d=!0,h=!1;try{if(a=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=a.call(s)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return U_(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?U_(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Aq(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B_,qu={exports:{}},jv=function(){if(B_)return qu.exports;B_=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,S,y){return Function.prototype.apply.call(p,S,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function s(){s.init.call(this)}qu.exports=s,qu.exports.once=function(p,S){return new Promise(function(y,w){function x(C){p.removeListener(S,_),w(C)}function _(){typeof p.removeListener=="function"&&p.removeListener("error",x),y([].slice.call(arguments))}b(p,S,_,{once:!0}),S!=="error"&&function(C,T,j){typeof C.on=="function"&&b(C,"error",T,j)}(p,x,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function a(p){return p._maxListeners===void 0?s.defaultMaxListeners:p._maxListeners}function l(p,S,y,w){var x,_,C,T;if(o(y),(_=p._events)===void 0?(_=p._events=Object.create(null),p._eventsCount=0):(_.newListener!==void 0&&(p.emit("newListener",S,y.listener?y.listener:y),_=p._events),C=_[S]),C===void 0)C=_[S]=y,++p._eventsCount;else if(typeof C=="function"?C=_[S]=w?[y,C]:[C,y]:w?C.unshift(y):C.push(y),(x=a(p))>0&&C.length>x&&!C.warned){C.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=p,j.type=S,j.count=C.length,T=j,console&&console.warn&&console.warn(T)}return p}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,S,y){var w={fired:!1,wrapFn:void 0,target:p,type:S,listener:y},x=u.bind(w);return x.listener=y,w.wrapFn=x,x}function h(p,S,y){var w=p._events;if(w===void 0)return[];var x=w[S];return x===void 0?[]:typeof x=="function"?y?[x.listener||x]:[x]:y?function(_){for(var C=new Array(_.length),T=0;T<C.length;++T)C[T]=_[T].listener||_[T];return C}(x):m(x,x.length)}function f(p){var S=this._events;if(S!==void 0){var y=S[p];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(p,S){for(var y=new Array(S),w=0;w<S;++w)y[w]=p[w];return y}function b(p,S,y,w){if(typeof p.on=="function")w.once?p.once(S,y):p.on(S,y);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(S,function x(_){w.once&&p.removeEventListener(S,x),y(_)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(p){for(var S=[],y=1;y<arguments.length;y++)S.push(arguments[y]);var w=p==="error",x=this._events;if(x!==void 0)w=w&&x.error===void 0;else if(!w)return!1;if(w){var _;if(S.length>0&&(_=S[0]),_ instanceof Error)throw _;var C=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw C.context=_,C}var T=x[p];if(T===void 0)return!1;if(typeof T=="function")n(T,this,S);else{var j=T.length,N=m(T,j);for(y=0;y<j;++y)n(N[y],this,S)}return!0},s.prototype.addListener=function(p,S){return l(this,p,S,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(p,S){return l(this,p,S,!0)},s.prototype.once=function(p,S){return o(S),this.on(p,d(this,p,S)),this},s.prototype.prependOnceListener=function(p,S){return o(S),this.prependListener(p,d(this,p,S)),this},s.prototype.removeListener=function(p,S){var y,w,x,_,C;if(o(S),(w=this._events)===void 0)return this;if((y=w[p])===void 0)return this;if(y===S||y.listener===S)--this._eventsCount==0?this._events=Object.create(null):(delete w[p],w.removeListener&&this.emit("removeListener",p,y.listener||S));else if(typeof y!="function"){for(x=-1,_=y.length-1;_>=0;_--)if(y[_]===S||y[_].listener===S){C=y[_].listener,x=_;break}if(x<0)return this;x===0?y.shift():function(T,j){for(;j+1<T.length;j++)T[j]=T[j+1];T.pop()}(y,x),y.length===1&&(w[p]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",p,C||S)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(p){var S,y,w;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[p]),this;if(arguments.length===0){var x,_=Object.keys(y);for(w=0;w<_.length;++w)(x=_[w])!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(S=y[p])=="function")this.removeListener(p,S);else if(S!==void 0)for(w=S.length-1;w>=0;w--)this.removeListener(p,S[w]);return this},s.prototype.listeners=function(p){return h(this,p,!0)},s.prototype.rawListeners=function(p){return h(this,p,!1)},s.listenerCount=function(p,S){return typeof p.listenerCount=="function"?p.listenerCount(S):f.call(p,S)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},qu.exports}(),Wu=Aq(jv),z_=Object.prototype.hasOwnProperty;function q_(e,t,n){for(n of e.keys())if(Qt(n,t))return n}function Qt(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Qt(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=q_(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=q_(t,s))||!Qt(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(z_.call(e,n)&&++r&&!z_.call(t,n)||!(n in t)||!Qt(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const Pq={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},fN={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},lt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Kt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},As={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class z{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=z.getVersionPrecision(t),i=z.getVersionPrecision(n);let o=Math.max(s,i),a=0;const l=z.map([t,n],u=>{const d=o-z.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return z.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return Pq[t]}static getBrowserTypeByAlias(t){return fN[t]||""}}const Fe=/version\/(\d+(\.?_?\d+)+)/i,Nq=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=z.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=z.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=z.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=z.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=z.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=z.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=z.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=z.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=z.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=z.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=z.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=z.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=z.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=z.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=z.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=z.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=z.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=z.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=z.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=z.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=z.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=z.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=z.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=z.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=z.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=z.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=z.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:z.getFirstMatch(t,e),version:z.getSecondMatch(t,e)}}}];var Oq=[{test:[/Roku\/DVP/],describe(e){const t=z.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Kt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=z.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Kt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=z.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=z.getWindowsVersionName(t);return{name:Kt.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Kt.iOS},n=z.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=z.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=z.getMacOSVersionName(t),r={name:Kt.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=z.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Kt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=z.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=z.getAndroidVersionName(t),r={name:Kt.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=z.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Kt.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=z.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||z.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||z.getFirstMatch(/\bbb(\d+)/i,e);return{name:Kt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=z.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Kt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=z.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Kt.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Kt.Linux})},{test:[/CrOS/],describe:()=>({name:Kt.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=z.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Kt.PlayStation4,version:t}}}],Rq=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=z.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:lt.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:lt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:lt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:lt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:lt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:lt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:lt.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=z.getFirstMatch(/(ipod|iphone)/i,e);return{type:lt.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:lt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:lt.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:lt.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:lt.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:lt.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:lt.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:lt.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:lt.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:lt.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:lt.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:lt.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:lt.tv})}],Iq=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:As.Blink};const t=z.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:As.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:As.Trident},n=z.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:As.Presto},n=z.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:As.Gecko},n=z.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:As.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:As.WebKit},n=z.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class W_{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=z.find(Nq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=z.find(Oq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=z.find(Rq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=z.find(Iq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return z.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(s[o]=a,i+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=z.find(o,u=>this.isOS(u));if(a){const u=this.satisfies(n[a]);if(u!==void 0)return u}const l=z.find(o,u=>this.isPlatform(u));if(l){const u=this.satisfies(n[l]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(s),a=z.find(o,l=>this.isBrowser(l,!0));if(a!==void 0)return this.compareVersion(s[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=z.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(z.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Mq{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new W_(t,n)}static parse(t){return new W_(t).getResult()}static get BROWSER_MAP(){return fN}static get ENGINE_MAP(){return As}static get OS_MAP(){return Kt}static get PLATFORMS_MAP(){return lt}}function $f(){return Date.now()+Math.random().toString()}function Cl(){throw new Error("Method must be implemented in subclass")}function pN(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Oh(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:pN("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Rh(e){try{new URL(e)}catch{return!1}return!0}const Be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zi="8.55.0",Re=globalThis;function Ih(e,t,n){const r=Re,s=r.__SENTRY__=r.__SENTRY__||{},i=s[Zi]=s[Zi]||{};return i[e]||(i[e]=t())}const bo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Av=["debug","info","warn","error","log","assert","trace"],Mh={};function au(e){if(!("console"in Re))return e();const t=Re.console,n={},r=Object.keys(Mh);r.forEach(s=>{const i=Mh[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const ve=Ih("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return bo?Av.forEach(n=>{t[n]=(...r)=>{e&&au(()=>{Re.console[n](`Sentry Logger [${n}]:`,...r)})}}):Av.forEach(n=>{t[n]=()=>{}}),t}),Vi="?",H_=/\(error: (.*)\)/,G_=/captureMessage|captureException/;function Hu(e){return e[e.length-1]||{}}const K_="<anonymous>";function di(e){try{return e&&typeof e=="function"&&e.name||K_}catch{return K_}}function J_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Od={},Y_={};function eo(e,t){Od[e]=Od[e]||[],Od[e].push(t)}function to(e,t){if(!Y_[e]){Y_[e]=!0;try{t()}catch(n){bo&&ve.error(`Error while instrumenting ${e}`,n)}}}function yr(e,t){const n=e&&Od[e];if(n)for(const r of n)try{r(t)}catch(s){bo&&ve.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${di(r)}
Error:`,s)}}let um=null;function Dq(){um=Re.onerror,Re.onerror=function(e,t,n,r,s){return yr("error",{column:r,error:s,line:n,msg:e,url:t}),!!um&&um.apply(this,arguments)},Re.onerror.__SENTRY_INSTRUMENTED__=!0}let dm=null;function Lq(){dm=Re.onunhandledrejection,Re.onunhandledrejection=function(e){return yr("unhandledrejection",e),!dm||dm.apply(this,arguments)},Re.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Ff(){return O0(Re),Re}function O0(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Zi,t[Zi]=t[Zi]||{}}const mN=Object.prototype.toString;function R0(e){switch(mN.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return lo(e,Error)}}function ll(e,t){return mN.call(e)===`[object ${t}]`}function gN(e){return ll(e,"ErrorEvent")}function Q_(e){return ll(e,"DOMError")}function os(e){return ll(e,"String")}function I0(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Pv(e){return e===null||I0(e)||typeof e!="object"&&typeof e!="function"}function Wa(e){return ll(e,"Object")}function Vf(e){return typeof Event<"u"&&lo(e,Event)}function Uf(e){return!!(e&&e.then&&typeof e.then=="function")}function lo(e,t){try{return e instanceof t}catch{return!1}}function vN(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const M0=Re;function yN(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=$q(n,d),!(u==="html"||i>1&&o+s.length*l+u.length>=h));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function $q(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(M0.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&os(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function pa(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function X_(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{vN(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Fq(e,t,n=!1){return!!os(e)&&(ll(t,"RegExp")?t.test(e):!!os(t)&&(n?e===t:e.includes(t)))}function Gu(e,t=[],n=!1){return t.some(r=>Fq(e,r,n))}function En(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&wN(s,r);try{e[t]=s}catch{bo&&ve.log(`Failed to replace method "${t}" in object`,e)}}function co(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{bo&&ve.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function wN(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,co(e,"__sentry_original__",t)}catch{}}function D0(e){return e.__sentry_original__}function xN(e){if(R0(e))return{message:e.message,name:e.name,stack:e.stack,...e1(e)};if(Vf(e)){const t={type:e.type,target:Z_(e.target),currentTarget:Z_(e.currentTarget),...e1(e)};return typeof CustomEvent<"u"&&lo(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Z_(e){try{return t=e,typeof Element<"u"&&lo(t,Element)?yN(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function e1(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Fn(e){return Nv(e,new Map)}function Nv(e,t){if(function(n){if(!Wa(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=Nv(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Nv(s,t))}),r}return e}function lu(){return Date.now()/1e3}const cs=function(){const{performance:e}=Re;if(!e||!e.now)return lu;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function Bn(){const e=Re,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function bN(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Is(e){const{message:t,event_id:n}=e;if(t)return t;const r=bN(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ov(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ha(e,t){const n=bN(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function t1(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{co(e,"__sentry_captured__",!0)}catch{}return!1}var Zr;function uo(e){return new Dn(t=>{t(e)})}function Dh(e){return new Dn((t,n)=>{n(e)})}(()=>{const{performance:e}=Re;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(i||a<t)&&s<=a&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Zr||(Zr={}));class Dn{constructor(t){Dn.prototype.__init.call(this),Dn.prototype.__init2.call(this),Dn.prototype.__init3.call(this),Dn.prototype.__init4.call(this),this._state=Zr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Dn((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Dn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(Zr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Zr.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===Zr.PENDING&&(Uf(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Zr.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Zr.RESOLVED&&n[1](this._value),this._state===Zr.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Vq(e){const t=cs(),n={sid:Bn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Fn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&Ga(n,e),n}function Ga(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||cs(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Bn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function n1(){return Bn()}function Rv(){return Bn().substring(16)}function Bf(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Bf(r[s],t[s],n-1));return r}const Iv="_sentrySpan";function r1(e,t){t?co(e,Iv,t):delete e[Iv]}function s1(e){return e[Iv]}class L0{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:n1(),spanId:Rv()}}clone(){const t=new L0;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,r1(t,s1(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ga(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof hi?[n.getScopeData(),n.getRequestSession()]:Wa(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:l,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,r1(this,void 0),this._attachments=[],this.setPropagationContext({traceId:n1()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:lu(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:s1(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Bf(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Rv(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Bn();if(!this._client)return ve.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Bn();if(!this._client)return ve.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Bn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ve.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const hi=L0;class Uq{constructor(t,n){let r,s;r=t||new hi,s=n||new hi,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Uf(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Ka(){const e=O0(Ff());return e.stack=e.stack||new Uq(Ih("defaultCurrentScope",()=>new hi),Ih("defaultIsolationScope",()=>new hi))}function Bq(e){return Ka().withScope(e)}function zq(e,t){const n=Ka();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function i1(e){return Ka().withScope(()=>e(Ka().getIsolationScope()))}function $0(e){const t=O0(e);return t.acs?t.acs:{withIsolationScope:i1,withScope:Bq,withSetScope:zq,withSetIsolationScope:(n,r)=>i1(r),getCurrentScope:()=>Ka().getScope(),getIsolationScope:()=>Ka().getIsolationScope()}}function So(){return $0(Ff()).getCurrentScope()}function cu(){return $0(Ff()).getIsolationScope()}function zt(){return So().getClient()}function qq(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Fn({trace_id:n,span_id:r,parent_span_id:s})}function Wq(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Fn(s));return n}const Hq=/^sentry-/;function Gq(e){const t=function(r){if(!(!r||!os(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=o1(i);return Object.entries(o).forEach(([a,l])=>{s[a]=l}),s},{}):o1(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(Hq)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function o1(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let a1=!1;function Kq(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return Fn({parent_span_id:r?t:F0(e).parent_span_id,span_id:r?Rv():t,trace_id:n})}function l1(e){return typeof e=="number"?c1(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?c1(e.getTime()):cs()}function c1(e){return e>9999999999?e/1e3:e}function F0(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l}=e;return Fn({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:l1(s),timestamp:l1(o)||void 0,status:Jq(l),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:Wq(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Jq(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function SN(e){return e._sentryRootSpan||e}function Yq(){a1||(au(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),a1=!0)}const V0="production";function _N(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Fn({environment:n.environment||V0,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Qq(e){const t=zt();if(!t)return{};const n=SN(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&Gq(i);if(o)return o;const a=_N(e.spanContext().traceId,t),l=F0(n),u=l.data||{},d=u["sentry.sample_rate"];d!=null&&(a.sample_rate=`${d}`);const h=u["sentry.source"],f=l.description;return h!=="url"&&f&&(a.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const b=zt(),p=b&&b.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(a.sampled=String(function(m){const{traceFlags:b}=m.spanContext();return b===1}(n))),t.emit("createDsc",a,n),a}const Xq=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Lh(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function u1(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Zq(e){const t=typeof e=="string"?function(n){const r=Xq.exec(n);if(!r)return void au(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",a="",l="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return u1({host:a,pass:o,path:d,projectId:h,port:l,protocol:s,publicKey:i})}(e):u1(e);if(t&&function(n){if(!bo)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ve.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ve.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ve.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ve.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function es(e,t=100,n=1/0){try{return Mv("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function EN(e,t=3,n=102400){const r=es(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?EN(e,t-1,n):r;var s}function Mv(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(a){if(i)return!!o.has(a)||(o.add(a),!1);for(let l=0;l<o.length;l++)if(o[l]===a)return!0;return o.push(a),!1},function(a){if(i)o.delete(a);else for(let l=0;l<o.length;l++)if(o[l]===a){o.splice(l,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(m,b){try{if(m==="domain"&&b&&typeof b=="object"&&b._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&b===global)return"[Global]";if(typeof window<"u"&&b===window)return"[Window]";if(typeof document<"u"&&b===document)return"[Document]";if(vN(b))return"[VueViewModel]";if(Wa(p=b)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof b=="number"&&!Number.isFinite(b))return`[${b}]`;if(typeof b=="function")return`[Function: ${di(b)}]`;if(typeof b=="symbol")return`[${String(b)}]`;if(typeof b=="bigint")return`[BigInt: ${String(b)}]`;const S=function(y){const w=Object.getPrototypeOf(y);return w?w.constructor.name:"null prototype"}(b);return/^HTML(\w*)Element$/.test(S)?`[HTMLElement: ${S}]`:`[object ${S}]`}catch(S){return`**non-serializable** (${S})`}var p}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return Mv("",u.toJSON(),l-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=xN(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const b=f[m];d[m]=Mv(m,b,l-1,r,s),h++}return o(t),d}function Lc(e,t=[]){return[e,t]}function eW(e,t){const[n,r]=e;return[n,[...r,t]]}function d1(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function Dv(e){return Re.__SENTRY__&&Re.__SENTRY__.encodePolyfill?Re.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function tW(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Dv(r),i]:r.push(typeof i=="string"?Dv(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(es(a))}s(l)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),a=new Uint8Array(o);let l=0;for(const u of i)a.set(u,l),l+=u.length;return a}(r)}function nW(e){const t=typeof e.data=="string"?Dv(e.data):e.data;return[Fn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const rW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function h1(e){return rW[e]}function kN(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function sW(e,t,n,r){const s=kN(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,l){l&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||l.name,a.sdk.version=a.sdk.version||l.version,a.sdk.integrations=[...a.sdk.integrations||[],...l.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...l.packages||[]])})(e,n&&n.sdk);const o=function(a,l,u,d){const h=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!u&&d&&{dsn:Lh(d)},...h&&{trace:Fn({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,Lc(o,[[{type:i},e]])}function Lv(e,t,n,r=0){return new Dn((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);Be&&o.id&&a===null&&ve.log(`Event processor "${o.id}" dropped event`),Uf(a)?a.then(l=>Lv(e,l,n,r+1).then(s)).then(null,i):Lv(e,a,n,r+1).then(s).then(null,i)}})}let Ku,f1,hm;function iW(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,a){const{extra:l,tags:u,user:d,contexts:h,level:f,transactionName:m}=a,b=Fn(l);b&&Object.keys(b).length&&(o.extra={...b,...o.extra});const p=Fn(u);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const S=Fn(d);S&&Object.keys(S).length&&(o.user={...S,...o.user});const y=Fn(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,a){o.contexts={trace:Kq(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:Qq(a),...o.sdkProcessingMetadata};const l=SN(a),u=F0(l).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,a){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const l=[...o.breadcrumbs||[],...a];o.breadcrumbs=l.length?l:void 0}(e,s),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,i)}function p1(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:b}=t;Ju(e,"extra",n),Ju(e,"tags",r),Ju(e,"user",s),Ju(e,"contexts",i),e.sdkProcessingMetadata=Bf(e.sdkProcessingMetadata,a,2),o&&(e.level=o),m&&(e.transactionName=m),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function Ju(e,t,n){e[t]=Bf(e[t],n,1)}function oW(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Bn(),timestamp:t.timestamp||lu()},u=n.integrations||e.integrations.map(b=>b.name);(function(b,p){const{environment:S,release:y,dist:w,maxValueLength:x=250}=p;b.environment=b.environment||S||V0,!b.release&&y&&(b.release=y),!b.dist&&w&&(b.dist=w),b.message&&(b.message=pa(b.message,x));const _=b.exception&&b.exception.values&&b.exception.values[0];_&&_.value&&(_.value=pa(_.value,x));const C=b.request;C&&C.url&&(C.url=pa(C.url,x))})(l,e),function(b,p){p.length>0&&(b.sdk=b.sdk||{},b.sdk.integrations=[...b.sdk.integrations||[],...p])}(l,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(b,p){const S=function(y){const w=Re._sentryDebugIds;if(!w)return{};const x=Object.keys(w);return hm&&x.length===f1||(f1=x.length,hm=x.reduce((_,C)=>{Ku||(Ku={});const T=Ku[C];if(T)_[T[0]]=T[1];else{const j=y(C);for(let N=j.length-1;N>=0;N--){const I=j[N],R=I&&I.filename,O=w[C];if(R&&O){_[R]=O,Ku[C]=[R,O];break}}}return _},{})),hm}(p);try{b.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{S&&w.filename&&(w.debug_id=S[w.filename])})})}catch{}}(l,e.stackParser);const d=function(b,p){if(!p)return b;const S=b?b.clone():new hi;return S.update(p),S}(r,n.captureContext);n.mechanism&&Ha(l,n.mechanism);const h=s?s.getEventProcessors():[],f=Ih("globalScope",()=>new hi).getScopeData();i&&p1(f,i.getScopeData()),d&&p1(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),iW(l,f),Lv([...h,...f.eventProcessors],l,n).then(b=>(b&&function(p){const S={};try{p.exception.values.forEach(w=>{w.stacktrace.frames.forEach(x=>{x.debug_id&&(x.abs_path?S[x.abs_path]=x.debug_id:x.filename&&(S[x.filename]=x.debug_id),delete x.debug_id)})})}catch{}if(Object.keys(S).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const y=p.debug_meta.images;Object.entries(S).forEach(([w,x])=>{y.push({type:"sourcemap",code_file:w,debug_id:x})})}(b),typeof o=="number"&&o>0?function(p,S,y){if(!p)return null;const w={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(x=>({...x,...x.data&&{data:es(x.data,S,y)}}))},...p.user&&{user:es(p.user,S,y)},...p.contexts&&{contexts:es(p.contexts,S,y)},...p.extra&&{extra:es(p.extra,S,y)}};return p.contexts&&p.contexts.trace&&w.contexts&&(w.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(w.contexts.trace.data=es(p.contexts.trace.data,S,y))),p.spans&&(w.spans=p.spans.map(x=>({...x,...x.data&&{data:es(x.data,S,y)}}))),p.contexts&&p.contexts.flags&&w.contexts&&(w.contexts.flags=es(p.contexts.flags,3,y)),w}(b,o,a):b))}function m1(e,t){return So().captureEvent(e,t)}function g1(e){const t=zt(),n=cu(),r=So(),{release:s,environment:i=V0}=t&&t.getOptions()||{},{userAgent:o}=Re.navigator||{},a=Vq({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Ga(l,{status:"exited"}),CN(),n.setSession(a),r.setSession(a),a}function CN(){const e=cu(),t=So(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),Ga(r,i)}(n),TN(),e.setSession(),t.setSession()}function TN(){const e=cu(),t=So(),n=zt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function v1(e=!1){e?CN():TN()}function aW(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const y1=[];function w1(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function x1(e,t,n){if(n[t.name])Be&&ve.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,y1.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),y1.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}Be&&ve.log(`Integration installed: ${t.name}`)}}class ir extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const b1="Not capturing exception because it's already been captured.";class lW{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Zq(t.dsn):Be&&ve.warn("No DSN provided, client will not send events."),this._dsn){const r=aW(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&au(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Bn();if(t1(t))return Be&&ve.log(b1),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:Bn(),...r},o=I0(t)?t:String(t),a=Pv(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(t,n,r){const s=Bn();if(n&&n.originalException&&t1(n.originalException))return Be&&ve.log(b1),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?Be&&ve.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ga(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):uo(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];x1(this,t,this._integrations),n||w1(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=sW(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=eW(r,nW(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const a=kN(i);return Lc({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&s&&{dsn:Lh(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;Be&&ve.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Be&&ve.error("Error while sending envelope:",n),n)):(Be&&ve.error("Transport disabled"),uo({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&x1(n,i,s)}),s}(this,t),w1(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const a of i){const l=a.mechanism;if(l&&l.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Ga(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Dn(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=So(),s=cu()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),oW(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:qq(r),...a.contexts};const l=function(u,d){const h=d.getPropagationContext();return h.dsc||_N(h.traceId,u)}(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{Be&&(s instanceof ir&&s.logLevel==="log"?ve.log(s.message):ve.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=_1(t),a=S1(t),l=t.type||"error",u=`before send for type \`${l}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const b=typeof m=="string"?parseFloat(m):m;if(!(typeof b!="number"||isNaN(b)||b<0||b>1))return b;Be&&ve.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Dh(new ir(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=l==="replay_event"?"replay":l,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new ir("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const b=function(p,S,y,w){const{beforeSend:x,beforeSendTransaction:_,beforeSendSpan:C}=S;if(S1(y)&&x)return x(y,w);if(_1(y)){if(y.spans&&C){const T=[];for(const j of y.spans){const N=C(j);N?T.push(N):(Yq(),p.recordDroppedEvent("before_send","span"))}y.spans=T}if(_){if(y.spans){const T=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return _(y,w)}}return y}(this,s,m,n);return function(p,S){const y=`${S} must return \`null\` or a valid event.`;if(Uf(p))return p.then(w=>{if(!Wa(w)&&w!==null)throw new ir(y);return w},w=>{throw new ir(`${S} rejected with ${w}`)});if(!Wa(p)&&p!==null)throw new ir(y);return p}(b,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw new ir(`${u} returned \`null\`, will not send event.`,"log")}const b=r&&r.getSession();if(!o&&b&&this._updateSessionFromEvent(b,m),o){const S=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);S>0&&this.recordDroppedEvent("before_send","span",S)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const S="custom";m.transaction_info={...p,source:S}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof ir?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new ir(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){Be&&ve.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Be&&ve.log("No outcomes to send"));if(!this._dsn)return void(Be&&ve.log("No dsn provided, will not send outcomes"));Be&&ve.log("Sending outcomes:",t);const n=(r=t,Lc((s=this._options.tunnel&&Lh(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||lu(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function S1(e){return e.type===void 0}function _1(e){return e.type==="transaction"}function cW(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return Dh(new ir("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new Dn((s,i)=>{let o=t.length;if(!o)return s(!0);const a=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(l=>{uo(l).then(()=>{--o||(clearTimeout(a),s(!0))},i)})})}}}function uW(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,u,,,d]=a.split(":",5),h=parseInt(l,10),f=1e3*(isNaN(h)?60:h);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[m]=r+f);else s.all=r+f}else o?s.all=r+function(a,l=Date.now()){const u=parseInt(`${a}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${a}`);return isNaN(d)?6e4:d-l}(o,r):t===429&&(s.all=r+6e4);return s}function dW(e,t,n=cW(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(d1(s,(l,u)=>{const d=h1(u);if(function(h,f,m=Date.now()){return function(b,p){return b[p]||b.all||0}(h,f)>m}(r,d)){const h=E1(l,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(l)}),i.length===0)return uo({});const o=Lc(s[0],i),a=l=>{d1(o,(u,d)=>{const h=E1(u,d);e.recordDroppedEvent(l,h1(d),h)})};return n.add(()=>t({body:tW(o)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&Be&&ve.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=uW(r,l),l),l=>{throw a("network_error"),l})).then(l=>l,l=>{if(l instanceof ir)return Be&&ve.error("Skipped sending event because buffer is full."),a("queue_overflow"),uo({});throw l})},flush:s=>n.drain(s)}}function E1(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const hW=100;function _i(e,t){const n=zt(),r=cu();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=hW}=n.getOptions();if(i<=0)return;const o={timestamp:lu(),...e},a=s?au(()=>s(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let k1;const C1=new WeakMap,fW=()=>({name:"FunctionToString",setupOnce(){k1=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=D0(this),n=C1.has(zt())&&t!==void 0?t:this;return k1.apply(n,e)}}catch{}},setup(e){C1.set(e,!0)}}),pW=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],mW=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:pW],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,a){return a.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Be&&ve.warn(`Event dropped due to being internal Sentry Error.
Event: ${Is(o)}`),!0):function(l,u){return l.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(l).some(d=>Gu(d,u))}(o,a.ignoreErrors)?(Be&&ve.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Is(o)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(Be&&ve.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Is(o)}`),!0):function(l,u){if(l.type!=="transaction"||!u||!u.length)return!1;const d=l.transaction;return!!d&&Gu(d,u)}(o,a.ignoreTransactions)?(Be&&ve.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Is(o)}`),!0):function(l,u){if(!u||!u.length)return!1;const d=Yu(l);return!!d&&Gu(d,u)}(o,a.denyUrls)?(Be&&ve.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Is(o)}.
Url: ${Yu(o)}`),!0):function(l,u){if(!u||!u.length)return!0;const d=Yu(l);return!d||Gu(d,u)}(o,a.allowUrls)?!1:(Be&&ve.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Is(o)}.
Url: ${Yu(o)}`),!0)}(t,i)?null:t}});function Yu(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return Be&&ve.error(`Cannot extract url for event ${Is(e)}`),null}}function gW(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&lo(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,u;a&&(i.exception.values=(l=$v(e,t,s,o.originalException,r,i.exception.values,a,0),u=n,l.map(d=>(d.value&&(d.value=pa(d.value,u)),d))))}function $v(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(lo(r[s],Error)){T1(o,a);const u=e(t,r[s]),d=l.length;j1(u,s,d,a),l=$v(e,t,n,r[s],s,[u,...l],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(lo(u,Error)){T1(o,a);const h=e(t,u),f=l.length;j1(h,`errors[${d}]`,f,a),l=$v(e,t,n,u,s,[h,...l],h,f)}}),l}function T1(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function j1(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function fm(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function vW(){"console"in Re&&Av.forEach(function(e){e in Re.console&&En(Re.console,e,function(t){return Mh[e]=t,function(...n){yr("console",{args:n,level:e});const r=Mh[e];r&&r.apply(Re.console,n)}})})}function yW(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const wW=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,a=i.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!P1(s,i)||!A1(s,i))}(n,r)||function(s,i){const o=N1(i),a=N1(s);return!(!o||!a||o.type!==a.type||o.value!==a.value||!P1(s,i)||!A1(s,i))}(n,r)):!1}(t,e))return Be&&ve.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function A1(e,t){let n=J_(e),r=J_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function P1(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function N1(e){return e.exception&&e.exception.values&&e.exception.values[0]}function O1(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const pm=Re;function Fv(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function xW(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in pm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Fv(pm.fetch))return!0;let e=!1;const t=pm.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Fv(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){bo&&ve.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function bW(e,t){const n="fetch";eo(n,e),to(n,()=>function(r,s=!1){s&&!xW()||En(Re,"fetch",function(i){return function(...o){const a=new Error,{method:l,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,b]=h;return{url:R1(m),method:Vv(b,"method")?String(b.method).toUpperCase():"GET"}}const f=h[0];return{url:R1(f),method:Vv(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:l,url:u},startTimestamp:1e3*cs(),virtualError:a};return r||yr("fetch",{...d}),i.apply(Re,o).then(async h=>(r?r(h):yr("fetch",{...d,endTimestamp:1e3*cs(),response:h}),h),h=>{throw yr("fetch",{...d,endTimestamp:1e3*cs(),error:h}),R0(h)&&h.stack===void 0&&(h.stack=a.stack,co(h,"framesToPop",1)),h})}})}(void 0,t))}function Vv(e,t){return!!e&&typeof e=="object"&&!!e[t]}function R1(e){return typeof e=="string"?e:e?Vv(e,"url")?e.url:e.toString?e.toString():"":""}const Qu=Re,Ct=Re;let Uv=0;function I1(){return Uv>0}function Ja(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(D0(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>Ja(i,t));return e.apply(this,s)}catch(s){throw Uv++,setTimeout(()=>{Uv--}),function(...i){const o=$0(Ff());if(i.length===2){const[a,l]=i;return a?o.withSetScope(a,l):o.withScope(l)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(a=>(t.mechanism&&(Ov(a,void 0),Ha(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),o=s,So().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}wN(n,e),co(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const zf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function U0(e,t){const n=B0(e,t),r={type:EW(t),value:kW(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function SW(e,t,n,r){const s=zt(),i=s&&s.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),a={__serialized__:EN(t,i)};if(o)return{exception:{values:[U0(e,o)]},extra:a};const l={exception:{values:[{type:Vf(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:CW(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=B0(e,n);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function mm(e,t){return{exception:{values:[U0(e,t)]}}}function B0(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&_W.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const _W=/Minified React error #\d+;/i;function jN(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function EW(e){const t=e&&e.name;return!t&&jN(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function kW(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:jN(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Bv(e,t,n,r,s){let i;if(gN(t)&&t.error)return mm(e,t.error);if(Q_(t)||ll(t,"DOMException")){const o=t;if("stack"in t)i=mm(e,t);else{const a=o.name||(Q_(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=zv(e,l,n,r),Ov(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return R0(t)?mm(e,t):Wa(t)||Vf(t)?(i=SW(e,t,n,s),Ha(i,{synthetic:!0}),i):(i=zv(e,t,n,r),Ov(i,`${t}`),Ha(i,{synthetic:!0}),i)}function zv(e,t,n,r){const s={};if(r&&n){const i=B0(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ha(s,{synthetic:!0})}if(I0(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function CW(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(xN(s));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=i)return pa(a,i);for(let l=o.length;l>0;l--){const u=o.slice(0,l).join(", ");if(!(u.length>i))return l===o.length?u:pa(u,i)}return""}(e),r=t?"promise rejection":"exception";return gN(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Vf(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class TW extends lW{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${s}`,packages:i.map(l=>({name:`${o}:@sentry/${l}`,version:Zi})),version:Zi}),r._metadata=a})(n,"browser",["browser"],Ct.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&Ct.document&&Ct.document.addEventListener("visibilitychange",()=>{Ct.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const a=Bv(r,s,i&&i.syntheticException||void 0,o);return Ha(a),a.level="error",i&&i.event_id&&(a.event_id=i.event_id),uo(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",a,l){const u=zv(s,i,a&&a.syntheticException||void 0,l);return u.level=o,a&&a.event_id&&(u.event_id=a.event_id),uo(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(zf&&ve.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:Lh(o)}};return Lc(a,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const jW=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zt=Re;let M1,gm,vm,Xu;function AW(){if(!Zt.document)return;const e=yr.bind(null,"dom"),t=D1(e,!0);Zt.document.addEventListener("click",t,!1),Zt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Zt[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(En(s,"addEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=D1(e);d.handler=h,i.call(this,o,h,l)}d.refCount++}catch{}return i.call(this,o,a,l)}}),En(s,"removeEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,l),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,l)}}))})}function D1(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;co(n,"_sentryCaptured",!0),r&&!r._sentryId&&co(r,"_sentryId",Bn());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==gm)return!1;try{if(!i.target||i.target._sentryId!==vm)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),gm=n.type,vm=r?r._sentryId:void 0),clearTimeout(M1),M1=Zt.setTimeout(()=>{vm=void 0,gm=void 0},1e3)}}function AN(e){const t="history";eo(t,e),to(t,PW)}function PW(){if(!function(){const n=Qu.chrome,r=n&&n.app&&n.app.runtime,s="history"in Qu&&!!Qu.history.pushState&&!!Qu.history.replaceState;return!r&&s}())return;const e=Zt.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Xu,o=String(s);Xu=o,yr("history",{from:i,to:o})}return n.apply(this,r)}}Zt.onpopstate=function(...n){const r=Zt.location.href,s=Xu;if(Xu=r,yr("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},En(Zt.history,"pushState",t),En(Zt.history,"replaceState",t)}const Rd={};function L1(e){Rd[e]=void 0}const Ml="__sentry_xhr_v3__";function NW(){if(!Zt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*cs(),o=os(r[0])?r[0].toUpperCase():void 0,a=function(u){if(os(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!a)return t.apply(n,r);n[Ml]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[Ml];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}yr("xhr",{endTimestamp:1e3*cs(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(l(),u.apply(d,h))}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,m]=h,b=d[Ml];return b&&os(f)&&os(m)&&(b.request_headers[f.toLowerCase()]=m),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Ml];return s?(r[0]!==void 0&&(s.body=r[0]),yr("xhr",{startTimestamp:1e3*cs(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function OW(e,t=function(n){const r=Rd[n];if(r)return r;let s=Zt[n];if(Fv(s))return Rd[n]=s.bind(Zt);const i=Zt.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(s=a[n]),i.head.removeChild(o)}catch(o){jW&&ve.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(Rd[n]=s.bind(Zt))}("fetch")){let n=0,r=0;return dW(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return L1("fetch"),Dh("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return L1("fetch"),n-=i,r--,Dh(a)}})}function ym(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Vi:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const RW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,IW=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,MW=/\((\S*)(?::(\d+))(?::(\d+))\)/,DW=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,LW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$W=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const u=H_.test(l)?l.replace(H_,"$1"):l;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(a){if(!a.length)return[];const l=Array.from(a);return/sentryWrapped/.test(Hu(l).function||"")&&l.pop(),l.reverse(),G_.test(Hu(l).function||"")&&(l.pop(),G_.test(Hu(l).function||"")&&l.pop()),l.slice(0,50).map(u=>({...u,filename:u.filename||Hu(l).filename,function:u.function||Vi}))}(i.slice(s))}}([30,e=>{const t=RW.exec(e);if(t){const[,r,s,i]=t;return ym(r,Vi,+s,+i)}const n=IW.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=MW.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=$1(n[1]||Vi,n[2]);return ym(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=DW.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=LW.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||Vi;return[r,n]=$1(r,n),ym(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),$1=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Vi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},F1=1024,FW=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";eo(i,s),to(i,vW)}(function(s){return function(i){if(zt()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:yW(i.level),message:X_(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${X_(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}_i(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if(zt()!==s)return;let a,l,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>F1&&(zf&&ve.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=F1),typeof u=="string"&&(u=[u]);try{const f=o.event,m=function(b){return!!b&&!!b.target}(f)?f.target:f;a=yN(m,{keyAttrs:u,maxStringLength:d}),l=function(b){if(!M0.HTMLElement)return null;let p=b;for(let S=0;S<5;S++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{a="<unknown>"}if(a.length===0)return;const h={category:`ui.${o.name}`,message:a};l&&(h.data={"ui.component_name":l}),_i(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),eo("dom",r),to("dom",AW)),t.xhr&&function(s){eo("xhr",s),to("xhr",NW)}(function(s){return function(i){if(zt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i,l=i.xhr[Ml];if(!o||!a||!l)return;const{method:u,url:d,status_code:h,body:f}=l,m={method:u,url:d,status_code:h},b={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:a};_i({category:"xhr",data:m,type:"http",level:O1(h)},b)}}(n)),t.fetch&&bW(function(s){return function(i){if(zt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i;if(a&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)_i({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:a});else{const l=i.response,u={...i.fetchData,status_code:l&&l.status},d={input:i.args,response:l,startTimestamp:o,endTimestamp:a};_i({category:"fetch",data:u,type:"http",level:O1(u.status_code)},d)}}}(n)),t.history&&AN(function(s){return function(i){if(zt()!==s)return;let o=i.from,a=i.to;const l=fm(Ct.location.href);let u=o?fm(o):void 0;const d=fm(a);u&&u.path||(u=l),l.protocol===d.protocol&&l.host===d.host&&(a=d.relative),l.protocol===u.protocol&&l.host===u.host&&(o=u.relative),_i({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){zt()===s&&_i({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Is(i)},{event:i})}}(n))}}},VW=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],UW=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&En(Ct,"setTimeout",V1),t.setInterval&&En(Ct,"setInterval",V1),t.requestAnimationFrame&&En(Ct,"requestAnimationFrame",BW),t.XMLHttpRequest&&"XMLHttpRequest"in Ct&&En(XMLHttpRequest.prototype,"send",zW);const n=t.eventTarget;n&&(Array.isArray(n)?n:VW).forEach(qW)}}};function V1(e){return function(...t){const n=t[0];return t[0]=Ja(n,{mechanism:{data:{function:di(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function BW(e){return function(t){return e.apply(this,[Ja(t,{mechanism:{data:{function:"requestAnimationFrame",handler:di(e)},handled:!1,type:"instrument"}})])}}function zW(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&En(n,r,function(s){const i={mechanism:{data:{function:r,handler:di(s)},handled:!1,type:"instrument"}},o=D0(s);return o&&(i.mechanism.data.handler=di(o)),Ja(s,i)})}),e.apply(this,t)}}function qW(e){const t=Ct[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(En(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ja(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:di(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Ja(i,{mechanism:{data:{function:"addEventListener",handler:di(i),target:e},handled:!1,type:"instrument"}}),o])}}),En(n,"removeEventListener",function(r){return function(s,i,o){try{const a=i.__sentry_wrapped__;a&&r.call(this,s,a,o)}catch{}return r.call(this,s,i,o)}}))}const WW=()=>({name:"BrowserSession",setupOnce(){Ct.document!==void 0?(g1({ignoreDuration:!0}),v1(),AN(({from:e,to:t})=>{e!==void 0&&e!==t&&(g1({ignoreDuration:!0}),v1())})):zf&&ve.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),HW=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";eo(i,s),to(i,Dq)})(s=>{const{stackParser:i,attachStacktrace:o}=B1();if(zt()!==r||I1())return;const{msg:a,url:l,line:u,column:d,error:h}=s,f=function(m,b,p,S){const y=m.exception=m.exception||{},w=y.values=y.values||[],x=w[0]=w[0]||{},_=x.stacktrace=x.stacktrace||{},C=_.frames=_.frames||[],T=S,j=p,N=os(b)&&b.length>0?b:function(){try{return M0.document.location.href}catch{return""}}();return C.length===0&&C.push({colno:T,filename:N,function:Vi,in_app:!0,lineno:j}),m}(Bv(i,h||a,void 0,o,!1),l,u,d);f.level="error",m1(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),U1("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";eo(i,s),to(i,Lq)})(s=>{const{stackParser:i,attachStacktrace:o}=B1();if(zt()!==r||I1())return;const a=function(u){if(Pv(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),l=Pv(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:Bv(i,a,void 0,o,!0);l.level="error",m1(l,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),U1("onunhandledrejection"))}}};function U1(e){zf&&ve.log(`Global Handler attached: ${e}`)}function B1(){const e=zt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const GW=()=>({name:"HttpContext",preprocessEvent(e){if(!Ct.navigator&&!Ct.location&&!Ct.document)return;const t=e.request&&e.request.url||Ct.location&&Ct.location.href,{referrer:n}=Ct.document||{},{userAgent:r}=Ct.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),KW=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();gW(U0,o.stackParser,o.maxValueLength,n,t,r,s)}}};var qv="new",z1="loading",q1="loaded",$h="joining-meeting",$s="joined-meeting",Ps="left-meeting",Qr="error",JW="blocked",YW="off",QW="sendable",XW="loading",ZW="interrupted",PN="playable",Id="unknown",NN="full",e6="lobby",t6="none",ON="base",n6="*",r6="ejected",s6="nbf-room",i6="nbf-token",o6="exp-room",a6="exp-token",Wv="no-room",l6="meeting-full",RN="end-of-life",c6="not-allowed",IN="connection-error",u6="cam-in-use",d6="mic-in-use",h6="cam-mic-in-use",f6="permissions",p6="undefined-mediadevices",m6="not-found",g6="constraints",v6="unknown",MN="iframe-ready-for-launch-config",DN="iframe-launch-config",LN="theme-updated",$N="loading",FN="load-attempt-failed",Hv="loaded",VN="started-camera",UN="camera-error",BN="joining-meeting",zN="joined-meeting",qN="left-meeting",WN="participant-joined",HN="participant-updated",GN="participant-left",KN="participant-counts-updated",JN="access-state-updated",YN="meeting-session-summary-updated",QN="meeting-session-state-updated",y6="meeting-session-data-error",XN="waiting-participant-added",ZN="waiting-participant-updated",eO="waiting-participant-removed",tO="track-started",nO="track-stopped",rO="transcription-started",sO="transcription-stopped",iO="transcription-error",Gv="recording-started",Kv="recording-stopped",oO="recording-stats",aO="recording-error",lO="recording-upload-completed",cO="recording-data",uO="app-message",dO="transcription-message",hO="remote-media-player-started",fO="remote-media-player-updated",pO="remote-media-player-stopped",mO="local-screen-share-started",gO="local-screen-share-stopped",vO="local-screen-share-canceled",yO="active-speaker-change",wO="active-speaker-mode-change",xO="network-quality-change",bO="network-connection",SO="cpu-load-change",_O="face-counts-updated",Dl="fullscreen",Ll="exited-fullscreen",EO="live-streaming-started",kO="live-streaming-updated",CO="live-streaming-stopped",TO="live-streaming-error",jO="lang-updated",AO="receive-settings-updated",Jv="input-settings-updated",Yv="nonfatal-error",Qv="error",wm=4096,W1=102400,xm="iframe-call-message",H1="local-screen-start",G1="daily-method-update-live-streaming-endpoints",Zu="transmit-log",as="daily-custom-track",Md={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},PO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Xv={PLAY:"play",PAUSE:"pause"},bm=["jpg","png","jpeg"],w6="add-endpoints",x6="remove-endpoints",K1="sip-call-transfer";function Wn(){return!je()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function je(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function NO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function b6(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(ho(),Fh())||je())}function J1(){if(je()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Zv="none",S6="software",_6="hardware",E6=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?S6:_6:Zv}catch{return Zv}}();function OO(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!je()&&E6!==Zv&&(e?function(){return Y1()?!1:["Chrome","Firefox"].includes(ho())}():function(){if(Y1())return!1;var t=ho();if(t==="Safari"){var n=q0();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?z0().major>=77:t==="Firefox"?W0().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function RO(){if(je()||IO()||typeof AudioWorkletNode>"u")return!1;switch(ho()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Fh();return e.major>17||e.major===17&&e.minor>=4}return!1}function Sm(){return NO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=ho();if(!Wn())return!0;switch(t){case"Chrome":return(e=z0()).major&&e.major>0&&e.major<75;case"Firefox":return(e=W0()).major<91;case"Safari":return(e=q0()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function IO(){return Wn().match(/Linux; Android/)}function Y1(){var e,t=Wn(),n=t.match(/Mac/)&&(!je()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!Wn().match(/DailyAnd\//)||void 0}function ho(){if(typeof window<"u"){var e=Wn();return MO()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||DO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Fh(){switch(ho()){case"Chrome":return z0();case"Safari":return q0();case"Firefox":return W0();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Wn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function z0(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=Wn(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function MO(){return!!Wn().match(/iPad|iPhone|iPod/i)&&NO()}function DO(){return Wn().indexOf("AppleWebKit/605.1.15")>-1}function q0(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Wn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(MO()||DO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function W0(){var e=0,t=0;if(typeof window<"u"){var n=Wn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var LO=function(){return Nn(function e(){Pn(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){Cl()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){Cl()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){Cl()}},{key:"sendMessageToDailyJs",value:function(e,t){Cl()}},{key:"removeListener",value:function(e){Cl()}}])}();function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}var k6=function(){function e(){var t,n,r,s;return Pn(this,e),n=this,r=Sr(r=e),(t=Df(n,$O()?Reflect.construct(r,[],Sr(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return Lf(e,LO),Nn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var a=_m({},o.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var l=a.callbackStamp;s._messageCallbacks[l].call(r,a),delete s._messageCallbacks[l]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==xm||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var a=i.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=_m({},t);if(i.what=xm,i.from="module",i.callClientId=r,n){var o=$f();this._messageCallbacks[o]=n,i.callbackStamp=o}var a=s?s.contentWindow:window,l=this._callMachineTargetOrigin(s);l&&a.postMessage(i,l)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=xm,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=_m({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function X1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}var C6=function(){function e(){var t,n,r,s;return Pn(this,e),n=this,r=Sr(r=e),t=Df(n,FO()?Reflect.construct(r,[],Sr(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new jv.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new jv.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Lf(e,LO),Nn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,a=function(l){if(l.callClientId===r){if(l.callbackStamp&&o._messageCallbacks[l.callbackStamp]){var u=l.callbackStamp;o._messageCallbacks[u].call(s,l),delete o._messageCallbacks[u]}t.call(s,l)}};this._wrappedListeners[t]=a,n.addListener("message",a)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(l){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?X1(Object(d),!0).forEach(function(h){Or(l,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):X1(Object(d)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(d,h))})}return l}({},t);if(o.callClientId=r,s){var a=$f();this._messageCallbacks[a]=s,o.callbackStamp=a}n.emit("message",o)}}])}(),ey="replace",ty="shallow-merge",Z1=[ey,ty],T6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?ey:r;Pn(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return Nn(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===ty}},{key:"_validateMergeStrategy",value:function(t){if(!Z1.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Z1,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Ae(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return l==null||l===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===ey){var s=JSON.parse(r);Qt(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===ty){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));Qt(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>W1)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(W1,"."))}}])}();function VO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!e})()}function ny(e){var t=typeof Map=="function"?new Map:void 0;return ny=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if(VO())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,i);var l=new(s.bind.apply(s,a));return o&&Dc(l,o.prototype),l}(n,arguments,Sr(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Dc(r,n)},ny(e)}function UO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UO=function(){return!!e})()}function eE(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var j6=function(){return Nn(function e(t){Pn(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new A6(n,function(){r(!1)},function(i,o){o||eE(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),eE(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),A6=function(){return Nn(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Pn(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new tE(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new tE(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),Em=function(){function e(){return Pn(this,e),t=this,r=arguments,n=Sr(n=e),Df(t,UO()?Reflect.construct(n,r||[],Sr(t).constructor):n.apply(t,r));var t,n,r}return Lf(e,ny(Error)),Nn(e)}(),Vh=2e4,tE=function(){return Nn(function t(n,r,s){Pn(this,t),this._loadAttemptImpl=je()||!n.avoidEval?new P6(n,r,s):new N6(n,r,s)},[{key:"start",value:(e=ge(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),P6=function(){return Nn(function s(i,o,a){Pn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=a},[{key:"start",value:(r=ge(function*(){var s=Oh(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=ge(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=ge(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Vh," ms) when loading call object bundle ").concat(s),type:"timeout"})},Vh);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},a=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Em;var l=yield this._getBundleCodeFromResponse(s,a);if(this.cancelled)throw new Em;Function('"use strict";'+l)(),this._iosCache&&this._iosCache.set(s,l,a.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof Em||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=ge(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),N6=function(){return Nn(function e(t,n,r){Pn(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=$f(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Oh(this._dailyConfig);(typeof document>"u"?"undefined":Ae(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Vh," ms) when loading call object bundle ").concat(e),type:"timeout"})},Vh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),ed=function(e,t,n){return R6(e.local,t,n)===!0},O6=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},ra=function(e,t,n,r){var s=I6(e,t,n,r);return s&&s.pendingTrack},R6=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},I6=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},M6=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function nE(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,a=["video","audio"];o<a.length;o++){var l=a[o],u=i==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),d=e.tracks[u];if(d){var h=e.local?O6(n,i,l):ra(n,e.session_id,i,l);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function rE(e,t){try{var n=t.getState();for(var r in e.tracks)if(!D6(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?M6(n,r):ra(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function D6(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function sE(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&ed(r,e.session_id,"cam-audio")){var o=ra(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&ed(r,e.session_id,"cam-video")){var a=ra(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&ed(r,e.session_id,"screen-audio")){var l=ra(r,e.session_id,"screen","audio");l&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===l.id?e.screenAudioTrack=l:l.muted||(e.screenAudioTrack=l))}if(e.screen&&ed(r,e.session_id,"screen-video")){var u=ra(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function L6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,u){if(l){if(typeof l=="string")return iE(l,u);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?iE(l,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function iE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tr=new Map,ma=null;function $6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,u){if(l){if(typeof l=="string")return oE(l,u);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?oE(l,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function oE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jr=new Map,nc=null;function F6(e){BO()?function(t){Tr.has(t)||(Tr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Tr.has(t)&&(Tr.get(t).lastDevicesString=JSON.stringify(n),ma||(ma=function(){var r=ge(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=L6(Tr.keys());try{for(o.s();!(s=o.n()).done;){var a=s.value,l=JSON.stringify(i);l!==Tr.get(a).lastDevicesString&&(Tr.get(a).lastDevicesString=l,a(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",ma)))}).catch(function(){}))}(e):function(t){jr.has(t)||(jr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){jr.has(t)&&(jr.get(t).lastDevicesString=JSON.stringify(n),nc||(nc=setInterval(ge(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=$6(jr.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=JSON.stringify(s);a!==jr.get(o).lastDevicesString&&(jr.get(o).lastDevicesString=a,o(s))}}catch(l){i.e(l)}finally{i.f()}}),3e3)))}))}(e)}function V6(e){BO()?function(t){Tr.has(t)&&(Tr.delete(t),Tr.size===0&&ma&&(navigator.mediaDevices.removeEventListener("devicechange",ma),ma=null))}(e):function(t){jr.has(t)&&(jr.delete(t),jr.size===0&&nc&&(clearInterval(nc),nc=null))}(e)}function BO(){var e;return je()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var U6=new Set;function B6(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!U6.has(n.id)}(e)}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $l=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),z6=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),rc=Object.values($l),lE=["v","a","sv","sa","cv","ca"];Object.freeze(rc.reduce(function(e,t,n){return e[t]=lE[n],e},{})),Object.freeze(lE.reduce(function(e,t,n){return e[t]=rc[n],e},{}));var q6=[$l.VIDEO,$l.AUDIO,$l.SCREEN_VIDEO,$l.SCREEN_AUDIO],cE=Object.values(z6),uE=["p","s","t"];Object.freeze(cE.reduce(function(e,t,n){return e[t]=uE[n],e},{})),Object.freeze(uE.reduce(function(e,t,n){return e[t]=cE[n],e},{}));var zO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;Pn(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return Nn(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof jt?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof jt?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof jt?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof jt&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof jt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof jt?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof jt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Wt(t,2),r=n[0],s=n[1];return[r,s instanceof jt?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Wt(t,2),r=n[0],s=n[1];return[r,s instanceof jt?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:jt.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:jt.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var a in s={},t.byParticipantId){var l=t.byParticipantId[a];s[a]=typeof l=="boolean"?l:jt.fromJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:jt.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:jt.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var a in s={},t.p){var l=t.p[a];s[a]=typeof l=="boolean"?l:jt.fromMinifiedJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Ae(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Wt(jt.validateJSONObject(t.base,!0),2),a=o[0],l=o[1];if(!a)return[!1,l]}else{if(Ae(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=Wt(jt.validateJSONObject(h),2),m=f[0],b=f[1];if(!m)return[!1,b]}}}return[!0]}}])}(),jt=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,a=t.customAudio;Pn(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=a}return Nn(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Cs({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Cs({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Cs({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Cs({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Cs({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Cs({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Cs({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Cs({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Ae(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!rc.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(q6.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Ae(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var a=0,l=Object.values(t[o]);a<l.length;a++)if(typeof l[a]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==rc.length?[!1,'canReceive "base" permission must specify all media types: '.concat(rc.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),W6=["result"],H6=["preserveIframe"];function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qO=function(){return!!e})()}function hE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,u){if(l){if(typeof l=="string")return fE(l,u);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?fE(l,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function fE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ei={},pE="video",G6="voice",mE=je()?{data:{}}:{data:{},topology:"none"},gE={present:0,hidden:0},WO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},km=Object.keys(WO),vE=["state","volume","simulcastEncodings"],yE={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Uh={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},ry={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},ki={customIntegrations:{validate:ZO,help:QO()},customTrayButtons:{validate:XO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Uh))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return eR(e,yE)},help:"reactNativeConfig should look like ".concat(JSON.stringify(yE),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return HO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:as};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:as};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Ae(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return GO(e,{allowAllParticipantsKey:!1})},help:YO({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!KO(e)&&(t._inputSettings||(t._inputSettings={}),JO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:sy()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},td={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!je()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in i)if(a==="custom"){if(!n.includes(i[a])&&!s(i[a],!0))return!1}else{var l=!o&&!r.includes(a),u=!n.includes(i[a]);if(l||u)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(je()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Wt(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=hE(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(!a.includes(u))return!1}}catch(y){l.e(y)}finally{l.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Wt(zO.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,b=["participants","streaming","transcription"],p=hE(i);try{for(p.s();!(m=p.n()).done;){var S=m.value;if(!b.includes(S))return!1}}catch(y){p.e(y)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=ge(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var K6=function(){function e(g){var k,E,P,A,M,U,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pn(this,e),P=this,A=Sr(A=e),Or(E=Df(P,qO()?Reflect.construct(A,[],Sr(P).constructor):A.apply(P,M)),"startListeningForDeviceChanges",function(){F6(E.handleDeviceChange)}),Or(E,"stopListeningForDeviceChanges",function(){V6(E.handleDeviceChange)}),Or(E,"handleDeviceChange",function(X){X=X.map(function(ce){return JSON.parse(JSON.stringify(ce))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:X})}),Or(E,"handleNativeAppStateChange",function(){var X=ge(function*(ce){if(ce==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Me=ce==="active";E.disableReactNativeAutoDeviceManagement("video")||(Me?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(ce){return X.apply(this,arguments)}}()),Or(E,"handleNativeAudioFocusChange",function(X){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=X,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),Or(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!Sm()&&!je())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=V.strictMode===void 0||V.strictMode,E.allowMultipleCallInstances=(k=V.allowMultipleCallInstances)!==null&&k!==void 0&&k,Object.keys(Ei).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=$f(),Ei[(U=E).callClientId]=U,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,V.dailyJsVersion=e.version(),E._iframe=g,E._callObjectMode=V.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},V.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!V.showLocalVideo:E._showLocalVideo=!0,V.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!V.showParticipantsBar:E._showParticipantsBar=!0,V.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=V.customIntegrations:E._customIntegrations={},V.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=V.customTrayButtons:E._customTrayButtons={},V.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!V.activeSpeakerMode:E._activeSpeakerMode=!1,V.receiveSettings?E._callObjectMode?E._receiveSettings=V.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(V),E.properties=le({},V),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new j6(E.callClientId):null,E._callState=qv,E._isPreparingToJoin=!1,E._accessState={access:Id},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=jm(mE,E._callObjectMode),E._nativeInCallAudioMode=pE,E._participants={},E._isScreenSharing=!1,E._participantCounts=gE,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=wm,E._messageChannel=je()?new C6:new k6,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Dl}),E.sendMessageToCallMachine({action:Dl})):(E.emitDailyJSEvent({action:Ll}),E.sendMessageToCallMachine({action:Ll}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Dl}),E.sendMessageToCallMachine({action:Dl})):(E.emitDailyJSEvent({action:Ll}),E.sendMessageToCallMachine({action:Ll}))})),je()){var q=E.nativeUtils();q.addAudioFocusChangeListener&&q.removeAudioFocusChangeListener&&q.addAppStateChangeListener&&q.removeAppStateChangeListener&&q.addSystemScreenCaptureStopListener&&q.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,q.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),q.addAppStateChangeListener(E.handleNativeAppStateChange),q.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return Lf(e,Wu),Nn(e,[{key:"destroy",value:(te=ge(function*(){var g;try{yield this.leave()}catch{}var k=this._iframe;if(k){var E=k.parentElement;E&&E.removeChild(k)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),je()){var P=this.nativeUtils();P.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),P.removeAppStateChangeListener(this.handleNativeAppStateChange),P.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Ei[this.callClientId],!((g=window)===null||g===void 0||(g=g._daily)===null||g===void 0)&&g.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return te.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var k=g.bodyClass,E=g.cssFile,P=g.cssText;return Te(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:k,cssText:P}),this}},{key:"iframe",value:function(){return Te(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return nr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return nr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,k){for(var E in k){if(!td[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(td[E].validate&&!td[E].validate(k[E],this,this._participants[g]))throw new Error(td[E].help)}}},{key:"updateParticipant",value:function(g,k){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&k&&(this.validateParticipantProperties(g,k),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:k})),this}},{key:"updateParticipants",value:function(g){var k=this._participants.local&&this._participants.local.session_id;for(var E in g)E===k&&(E="local"),E&&g[E]&&this.validateParticipantProperties(E,g[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(ie=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(nr(this._callObjectMode,"updateWaitingParticipant()"),Ve(this._callState,"updateWaitingParticipant()"),typeof k!="string"||Ae(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(P,A){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:k,updates:E},function(M){M.error&&A(M.error),M.id||A(new Error("unknown error in updateWaitingParticipant()")),P({id:M.id})})})}),function(){return ie.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(K=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(nr(this._callObjectMode,"updateWaitingParticipants()"),Ve(this._callState,"updateWaitingParticipants()"),Ae(k)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,P){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:k},function(A){A.error&&P(A.error),A.ids||P(new Error("unknown error in updateWaitingParticipants()")),E({ids:A.ids})})})}),function(){return K.apply(this,arguments)})},{key:"requestAccess",value:(F=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=k.access,P=E===void 0?{level:NN}:E,A=k.name,M=A===void 0?"":A;return nr(this._callObjectMode,"requestAccess()"),Ve(this._callState,"requestAccess()"),new Promise(function(U,V){g.sendMessageToCallMachine({action:"daily-method-request-access",access:P,name:M},function(q){q.error&&V(q.error),q.access||V(new Error("unknown error in requestAccess()")),U({access:q.access,granted:q.granted})})})}),function(){return F.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in k&&(je()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),k={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),k={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:k}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:(D=ge(function*(g){var k=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,P=E!==void 0&&E;if(nr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ae(g)){case"string":return new Promise(function(A){k.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:P},function(M){A(M.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(g){return D.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Q=ge(function*(g){var k=this;if(nr(this._callObjectMode,"updateReceiveSettings()"),!GO(g,{allowAllParticipantsKey:!0}))throw new Error(YO({allowAllParticipantsKey:!0}));return Ve(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){k.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},function(P){E({receiveSettings:P.receiveSettings})})})}),function(g){return Q.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,k){if(g){var E={};if(g.audio){var P,A,M;g.audio.settings&&(!Object.keys(g.audio.settings).length&&k||(E.audio={settings:le({},g.audio.settings)})),k&&(P=E.audio)!==null&&P!==void 0&&(P=P.settings)!==null&&P!==void 0&&P.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var U=((A=g.audio.processor)===null||A===void 0?void 0:A.type)==="none"&&((M=g.audio.processor)===null||M===void 0?void 0:M._isDefaultWhenNone);if(g.audio.processor&&!U){var V=le({},g.audio.processor);delete V._isDefaultWhenNone,E.audio=le(le({},E.audio),{},{processor:V})}}if(g.video){var q,X,ce;g.video.settings&&(!Object.keys(g.video.settings).length&&k||(E.video={settings:le({},g.video.settings)})),k&&(q=E.video)!==null&&q!==void 0&&(q=q.settings)!==null&&q!==void 0&&q.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Me=((X=g.video.processor)===null||X===void 0?void 0:X.type)==="none"&&((ce=g.video.processor)===null||ce===void 0?void 0:ce._isDefaultWhenNone);if(g.video.processor&&!Me){var ht=le({},g.video.processor);delete ht._isDefaultWhenNone,E.video=le(le({},E.video),{},{processor:ht})}}return E}}},{key:"getInputSettings",value:function(){var g=this;return Te(),new Promise(function(k){k(g._getInputSettings())})}},{key:"_getInputSettings",value:function(){var g,k,E,P,A,M,U={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||U,k=((P=this._inputSettings)===null||P===void 0?void 0:P.audio)||U):(g=((A=this._preloadCache)===null||A===void 0||(A=A.inputSettings)===null||A===void 0?void 0:A.video)||U,k=((M=this._preloadCache)===null||M===void 0||(M=M.inputSettings)===null||M===void 0?void 0:M.audio)||U);var V={audio:k,video:g};return this._prepInputSettingsForSharing(V,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,k){var E=this._inputSettings||{},P={};if(g.video){var A,M,U;P.video={},g.video.settings?(P.video.settings={},k||g.video.settings.customTrack||(U=E.video)===null||U===void 0||!U.settings?P.video.settings=g.video.settings:P.video.settings=le(le({},E.video.settings),g.video.settings),Object.keys(P.video.settings).length||delete P.video.settings):(A=E.video)!==null&&A!==void 0&&A.settings&&(P.video.settings=E.video.settings),g.video.processor?P.video.processor=g.video.processor:(M=E.video)!==null&&M!==void 0&&M.processor&&(P.video.processor=E.video.processor)}else E.video&&(P.video=E.video);if(g.audio){var V,q,X;P.audio={},g.audio.settings?(P.audio.settings={},k||g.audio.settings.customTrack||(X=E.audio)===null||X===void 0||!X.settings?P.audio.settings=g.audio.settings:P.audio.settings=le(le({},E.audio.settings),g.audio.settings),Object.keys(P.audio.settings).length||delete P.audio.settings):(V=E.audio)!==null&&V!==void 0&&V.settings&&(P.audio.settings=E.audio.settings),g.audio.processor?P.audio.processor=g.audio.processor:(q=E.audio)!==null&&q!==void 0&&q.processor&&(P.audio.processor=E.audio.processor)}else E.audio&&(P.audio=E.audio);this._maybeUpdateInputSettings(P)}},{key:"_devicesFromInputSettings",value:function(g){var k,E,P=(g==null||(k=g.video)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,A=(g==null||(E=g.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,M=this._preloadCache.outputDeviceId||null;return{camera:P?{deviceId:P}:{},mic:A?{deviceId:A}:{},speaker:M?{deviceId:M}:{}}}},{key:"updateInputSettings",value:(Y=ge(function*(g){var k=this;return Te(),KO(g)?g.video||g.audio?(JO(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise(function(E,P){k.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},function(A){if(A.error)P(A.error);else{if(A.returnPreloadCache)return k._updatePreloadCacheInputSettings(g,!0),void E(k._getInputSettings());k._maybeUpdateInputSettings(A.inputSettings),E(k._prepInputSettingsForSharing(A.inputSettings,!0))}})})):this._getInputSettings():(console.error(sy()),Promise.reject(sy()))}),function(g){return Y.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var k=g.kbs,E=g.trackConstraints;if(Te(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:k,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var g=this;if(Te(),this._callMachineInitialized)return new Promise(function(k){g.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,k(E)})})}},{key:"setDailyLang",value:function(g){return Te(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[Ps,Qr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(J=ge(function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ve(this._callState,"getMeetingSession()"),new Promise(function(k){g.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,k(E)})})}),function(){return J.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ve(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";nr(this._callObjectMode,"setMeetingSessionData()"),Ve(this._callState,"setMeetingSessionData");try{(function(E,P){new T6({data:E,mergeStrategy:P})})(g,k)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:k})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(g,k){var E=this;return this.properties.userName=g,new Promise(function(P){E.sendMessageToCallMachine({action:"set-user-name",name:g??"",thisMeetingOnly:je()||!!k&&!!k.thisMeetingOnly},function(A){delete A.action,delete A.callbackStamp,P(A)})})}},{key:"setUserData",value:(L=ge(function*(g){var k=this;try{HO(g)}catch(E){throw console.error(E),E}if(this.properties.userData=g,this._callMachineInitialized)return new Promise(function(E){try{k.sendMessageToCallMachine({action:"set-user-data",userData:g},function(P){delete P.action,delete P.callbackStamp,E(P)})}catch(P){throw new Error("Error setting user data: ".concat(P))}})}),function(g){return L.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||typeof g!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var k=this;if(typeof AudioWorkletNode>"u"&&!je())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,P){k.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},function(A){k._isLocalAudioLevelObserverRunning=!A.error,A.error?P({error:A.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var k=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,P){k.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},function(A){k._isRemoteParticipantsAudioLevelObserverRunning=!A.error,A.error?P({error:A.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(W=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(nr(this._callObjectMode,"startCamera()"),Cm(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(k)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(k),this.properties=le(le({},this.properties),k)}return new Promise(function(E){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:jo(g.properties,g.callClientId),preloadCache:jo(g._preloadCache,g.callClientId)},function(P){E({camera:P.camera,mic:P.mic,speaker:P.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,k,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(k&&k!=="music"&&k!=="speech"&&!(k instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Te(),Ve(this._callState,"startCustomTrack()"),this.validateCustomTrack(k.track,k.mode,k.trackName),new Promise(function(E,P){g._sharedTracks.customTrack=k.track,k.track=as,g.sendMessageToCallMachine({action:"start-custom-track",properties:k},function(A){A.error?P({error:A.error}):E(A.mediaTag)})})}},{key:"stopCustomTrack",value:function(g){var k=this;return Te(),Ve(this._callState,"stopCustomTrack()"),new Promise(function(E){k.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},function(P){E(P.mediaTag)})})}},{key:"setCamera",value:function(g){var k=this;return Tl(),nd(this._callMachineInitialized,"setCamera()"),new Promise(function(E){k.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},function(P){E({device:P.device})})})}},{key:"setAudioDevice",value:($=ge(function*(g){return Tl(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(g){return $.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){g.sendMessageToCallMachine({action:"cycle-camera",properties:k},function(P){E({device:P.device})})})}},{key:"cycleMic",value:function(){var g=this;return Te(),new Promise(function(k){g.sendMessageToCallMachine({action:"cycle-mic"},function(E){k({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var g=this;return Tl(),new Promise(function(k){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){k(E.facingMode)})})}},{key:"setInputDevicesAsync",value:(O=ge(function*(g){var k=this,E=g.audioDeviceId,P=g.videoDeviceId,A=g.audioSource,M=g.videoSource;if(Te(),A!==void 0&&(E=A),M!==void 0&&(P=M),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof P=="boolean"&&(this._setAllowLocalVideo(P),P=void 0),!E&&!P)return yield this.getInputDevices();var U={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=as,U.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,U.audio={settings:{deviceId:E}})),P&&(P instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=P,P=as,U.video={settings:{customTrack:P}}):(delete this._sharedTracks.videoTrack,U.video={settings:{deviceId:P}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(U,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(V){k.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:P},function(q){if(delete q.action,delete q.callbackStamp,q.returnPreloadCache)return k._updatePreloadCacheInputSettings(U,!1),void V(k._devicesFromInputSettings(k._inputSettings));V(q)})})}),function(g){return O.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=ge(function*(g){var k=this,E=g.outputDeviceId;if(Te(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P,A){k.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(M){if(delete M.action,delete M.callbackStamp,M.error){var U=new Error(M.error.message);return U.type=M.error.type,void A(U)}M.returnPreloadCache?P(k._devicesFromInputSettings(k._inputSettings)):P(M)})})}),function(g){return R.apply(this,arguments)})},{key:"getInputDevices",value:(I=ge(function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(k){g.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?k(g._devicesFromInputSettings(g._inputSettings)):k({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return I.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Tl(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(Tl(),[pE,G6].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&Dd(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(N=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(nr(this._callObjectMode,"preAuth()"),Cm(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(k)),!k.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(k),this.properties=le(le({},this.properties),k),new Promise(function(E,P){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:jo(g.properties,g.callClientId),preloadCache:jo(g._preloadCache,g.callClientId)},function(A){return A.error?P(A.error):A.access?(g._didPreAuth=!0,void E({access:A.access})):P(new Error("unknown error in preAuth()"))})})}),function(){return N.apply(this,arguments)})},{key:"load",value:(j=ge(function*(g){var k=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=le(le({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(z1),this.emitDailyJSEvent({action:$N}),this._callObjectMode?new Promise(function(E,P){k._callObjectLoader.cancel();var A=Date.now();k._callObjectLoader.load(k.properties.dailyConfig,function(M){k._bundleLoadTime=M?"no-op":Date.now()-A,k._updateCallState(q1),M&&k.emitDailyJSEvent({action:Hv}),E()},function(M,U){if(k.emitDailyJSEvent({action:FN}),!U){k._updateCallState(Qr),k.resetMeetingDependentVars();var V={action:Qv,errorMsg:M.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:M,bundleUrl:Oh(k.properties.dailyConfig)}}};k._maybeSendToSentry(V),k.emitDailyJSEvent(V),P(M.msg)}})}):(this._iframe.src=pN(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,P){k._loadedCallback=function(A){k._callState!==Qr?(k._updateCallState(q1),(k.properties.cssFile||k.properties.cssText)&&k.loadCss(k.properties),E()):P(A)}}))}}),function(g){return j.apply(this,arguments)})},{key:"join",value:(T=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(k)}catch(P){return this.updateIsPreparingToJoin(!1),Promise.reject(P)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(k.url&&!this._callObjectMode&&k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(k.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(k),this.properties=le(le({},this.properties),k)}return k.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!k.showLocalVideo),k.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!k.showParticipantsBar),this._callState===$s||this._callState===$h?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState($h,!1),this.emitDailyJSEvent({action:BN}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:jo(this.properties,this.callClientId),preloadCache:jo(this._preloadCache,this.callClientId)}),new Promise(function(P,A){g._joinedCallback=function(M,U){if(g._callState!==Qr){if(g._updateCallState($s),M)for(var V in M){if(g._callObjectMode){var q=g._callMachine().store;nE(M[V],q),rE(M[V],q),sE(M[V],g._participants[V],q)}g._participants[V]=le({},M[V]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&g.loadCss(g.properties),P(M)}else A(U)}}))}),function(){return T.apply(this,arguments)})},{key:"leave",value:(C=ge(function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(k){g._callState===Ps||g._callState===Qr?k():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(Ps),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:Ps}),k()):(g._resolveLeave=k,g.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return C.apply(this,arguments)})},{key:"startScreenShare",value:(_=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(nd(this._callMachineInitialized,"startScreenShare()"),k.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",k.screenVideoSendSettings),k.mediaStream&&(this._sharedTracks.screenMediaStream=k.mediaStream,k.mediaStream=as),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:Yv,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:H1,captureOptions:k})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:H1,captureOptions:k})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){nd(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=g.type;if(k&&k!=="cloud"&&k!=="raw-tracks"&&k!=="local")throw new Error("invalid type: ".concat(k,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(le({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var k=g.layout,E=k===void 0?{preset:"default"}:k,P=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:P})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var k=g.layout,E=k===void 0?{preset:"default"}:k,P=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:P})}},{key:"addLiveStreamingEndpoints",value:function(g){var k=g.endpoints,E=g.instanceId;this.sendMessageToCallMachine({action:G1,endpointsOp:w6,endpoints:k,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(g){var k=g.endpoints,E=g.instanceId;this.sendMessageToCallMachine({action:G1,endpointsOp:x6,endpoints:k,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),IO()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw new Error("encodings must be an Array");if(!_E(g.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var P=0;P<g.length;P++){var A=g[P];for(var M in this._validateEncodingLayerHasValidProperties(A),A)if(km.includes(M)){if(typeof A[M]!="number")throw new Error("".concat(M," must be a number"));if(k){var U=k[M],V=U.min,q=U.max;if(!_E(A[M],V,q))throw new Error("".concat(M," value not in range. valid range: ").concat(V," to ").concat(q))}}else if(!["active","scalabilityMode"].includes(M))throw new Error("Invalid key ".concat(M,", valid keys are:")+Object.values(km));if(E&&!A.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(x=ge(function*(g){var k=this,E=g.url,P=g.settings,A=P===void 0?{state:Xv.PLAY}:P;try{(function(M){if(typeof M!="string")throw new Error('url parameter must be "string" type')})(E),SE(A),function(M){for(var U in M)if(!vE.includes(U))throw new Error("Invalid key ".concat(U,", valid keys are: ").concat(vE));M.simulcastEncodings&&this.validateSimulcastEncodings(M.simulcastEncodings,WO,!0)}(A)}catch(M){throw console.error("invalid argument Error: ".concat(M)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),M}return new Promise(function(M,U){k.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:A},function(V){V.error?U({error:V.error,errorMsg:V.errorMsg}):M({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(g){return x.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=ge(function*(g){var k=this;if(typeof g!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,P){k.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},function(A){A.error?P({error:A.error,errorMsg:A.errorMsg}):E()})})}),function(g){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=ge(function*(g){var k=this,E=g.session_id,P=g.settings;try{SE(P)}catch(A){throw console.error("invalid argument Error: ".concat(A)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),A}return new Promise(function(A,M){k.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:P},function(U){U.error?M({error:U.error,errorMsg:U.errorMsg}):A({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(g){return y.apply(this,arguments)})},{key:"startTranscription",value:function(g){Ve(this._callState,"startTranscription()"),this.sendMessageToCallMachine(le({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if(Ve(this._callState,"updateTranscription()"),!g)throw new Error("updateTranscription Error: options is mandatory");if(Ae(g)!=="object")throw new Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(le({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if(Ve(this._callState,"stopTranscription()"),g&&Ae(g)!=="object")throw new Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(le({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(S=ge(function*(g){var k=this;Ve(this._callState,"startDialOut()");var E=function(U){if(U){if(!Array.isArray(U))throw new Error("Error starting dial out: audio codec must be an array");if(U.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");U.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: audio codec must be a string");if(V!=="OPUS"&&V!=="PCMU"&&V!=="PCMA"&&V!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!g.sipUri&&!g.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if(typeof g.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&typeof g.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(U){if(U&&(E(U.audio),U.video)){if(!Array.isArray(U.video))throw new Error("Error starting dial out: video codec must be an array");if(U.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");U.video.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: video codec must be a string");if(V!=="H264"&&V!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(g.codecs)}if(g.phoneNumber){if(typeof g.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&E(g.codecs.audio)}if(g.callerId){if(typeof g.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if(typeof g.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if(typeof g.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(wE(g),g.permissions&&g.permissions.canReceive){var P=Wt(zO.validateJSONObject(g.permissions.canReceive),2),A=P[0],M=P[1];if(!A)throw new Error(M)}if(g.provider){if(g.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(U,V){k.sendMessageToCallMachine(le({action:"dialout-start"},g),function(q){q.error?V(q.error):U(q)})})}),function(g){return S.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var k=this;return Ve(this._callState,"stopDialOut()"),new Promise(function(E,P){k.sendMessageToCallMachine(le({action:"dialout-stop"},g),function(A){A.error?P(A.error):E(A)})})}},{key:"sipCallTransfer",value:(p=ge(function*(g){var k=this;if(Ve(this._callState,"sipCallTransfer()"),!g)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,bE(g,"sipCallTransfer"),wE(g),new Promise(function(E,P){k.sendMessageToCallMachine(le({action:K1},g),function(A){A.error?P(A.error):E(A)})})}),function(g){return p.apply(this,arguments)})},{key:"sipRefer",value:(b=ge(function*(g){var k=this;if(Ve(this._callState,"sipRefer()"),!g)throw new Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,bE(g,"sipRefer"),new Promise(function(E,P){k.sendMessageToCallMachine(le({action:K1},g),function(A){A.error?P(A.error):E(A)})})}),function(g){return b.apply(this,arguments)})},{key:"sendDTMF",value:(m=ge(function*(g){var k=this;return Ve(this._callState,"sendDTMF()"),function(E){var P=E.sessionId,A=E.tones;if(!P||!A)throw new Error("sessionId and tones are mandatory parameter");if(typeof P!="string"||typeof A!="string")throw new Error("sessionId and tones should be of string type");if(A.length>20)throw new Error("tones string must be upto 20 characters");var M=/[^0-9A-D*#]/g,U=A.match(M);if(U&&U[0])throw new Error("".concat(U[0]," is not valid DTMF tone"))}(g),new Promise(function(E,P){k.sendMessageToCallMachine(le({action:"send-dtmf"},g),function(A){A.error?P(A.error):E(A)})})}),function(g){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==$s?Promise.resolve(le({stats:{latest:{}}},this._network)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-calc-stats"},function(E){k(le(le({},g._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=ge(function*(){var g=this;if(Tm(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}return new Promise(function(k,E){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(P){P.error?E(P.error):k(P.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!B6(g)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=ge(function*(){var g=this;Te(),nr(this._callObjectMode,"testCallQuality()"),nd(this._callMachineInitialized,"testCallQuality()",null,!0),Cm(this._callState,this._isPreparingToJoin,"testCallQuality()");var k=this._testCallAlreadyInProgress,E=function(A){k||(g._testCallInProgress=A)};if(E(!0),this.needsLoad())try{var P=this._callState;yield this.load(),this._callState=P}catch(A){return E(!1),Promise.reject(A)}return new Promise(function(A){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},function(M){var U=M.results,V=U.result,q=$_(U,W6);if(V==="failed"){var X,ce=le({},q);(X=q.error)!==null&&X!==void 0&&X.details?(q.error.details=JSON.parse(q.error.details),ce.error=le(le({},ce.error),{},{details:le({},ce.error.details)}),ce.error.details.duringTest="testCallQuality"):(ce.error=ce.error?le({},ce.error):{},ce.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(ce)}E(!1),A(le({result:V},q))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=ge(function*(g){var k;je()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),k=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),k=yield this.testCallQuality());var E={result:k.result,secondsElapsed:k.secondsElapsed};return k.data&&(E.data={maxRTT:k.data.maxRoundTripTime,packetLoss:k.data.avgRecvPacketLoss}),E}),function(g){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=ge(function*(g){var k=this;if(Tm(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(A){return Promise.reject(A)}var E=g.videoTrack,P=g.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(A,M){k.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:P},function(U){U.error?M(U.error):A(U.results)})})}),function(g){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){je()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(l=ge(function*(g){var k=this;if(Tm(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise(function(E,P){k.sendMessageToCallMachine({action:"test-network-connectivity"},function(A){A.error?P(A.error):E(A.results)})})}),function(g){return l.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise(function(k){g._callState===$s?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){k(E.cpuStats)}):k({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var k;if(!(((k=Object.keys(g))===null||k===void 0?void 0:k.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(km))}},{key:"_validateVideoSendSettings",value:function(g,k){var E=g==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],P="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof k=="string"){if(!E.includes(k))throw new Error(P)}else{if(Ae(k)!=="object")throw new Error(P);if(!k.maxQuality&&!k.encodings&&k.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(k.maxQuality&&["low","medium","high"].indexOf(k.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(k.encodings){var A=!1;switch(Object.keys(k.encodings).length){case 1:A=!k.encodings.low;break;case 2:A=!k.encodings.low||!k.encodings.medium;break;case 3:A=!k.encodings.low||!k.encodings.medium||!k.encodings.high;break;default:A=!0}if(A)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");k.encodings.low&&this._validateEncodingLayerHasValidProperties(k.encodings.low),k.encodings.medium&&this._validateEncodingLayerHasValidProperties(k.encodings.medium),k.encodings.high&&this._validateEncodingLayerHasValidProperties(k.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var k=this;if(!g||Object.keys(g).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(g).forEach(function(E){var P=Wt(E,2),A=P[0],M=P[1];k._validateVideoSendSettings(A,M)})}},{key:"updateSendSettings",value:function(g){var k=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,P){k.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},function(A){A.error?P(A.error):E(A.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Te(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return Te(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return Te(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return Ve(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(a=ge(function*(){var g=this;if(this._callObjectMode){var k=yield navigator.mediaDevices.enumerateDevices();return ho()==="Firefox"&&Fh().major>115&&Fh().major<123&&(k=k.filter(function(E){return E.kind!=="audiooutput"})),{devices:k.map(function(E){var P=JSON.parse(JSON.stringify(E));if(!je()&&E.kind==="videoinput"&&E.getCapabilities){var A,M=E.getCapabilities();P.facing=(M==null||(A=M.facingMode)===null||A===void 0?void 0:A.length)>=1?M.facingMode[0]:void 0}return P})}}return new Promise(function(E){g.sendMessageToCallMachine({action:"enumerate-devices"},function(P){E({devices:P.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ve(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:k}),this}},{key:"addFakeParticipant",value:function(g){return Te(),Ve(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(le({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return vn(this._callObjectMode,"setShowNamesMode()"),Te(),g&&g!=="always"&&g!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this)}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return vn(this._callObjectMode,"setShowLocalVideo()"),Te(),Ve(this._callState,"setShowLocalVideo()"),typeof g!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g,this)}},{key:"showLocalVideo",value:function(){return vn(this._callObjectMode,"showLocalVideo()"),Te(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return vn(this._callObjectMode,"setShowParticipantsBar()"),Te(),Ve(this._callState,"setShowParticipantsBar()"),typeof g!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g,this)}},{key:"showParticipantsBar",value:function(){return vn(this._callObjectMode,"showParticipantsBar()"),Te(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Te(),vn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return Te(),vn(this._callObjectMode,"setCustomIntegrations()"),Ve(this._callState,"setCustomIntegrations()"),ZO(g)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g,this):this}},{key:"startCustomIntegrations",value:function(g){var k=this;if(Te(),vn(this._callObjectMode,"startCustomIntegrations()"),Ve(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some(function(A){return typeof A!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof g=="string"?[g]:g,P=E.filter(function(A){return!(A in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(g){var k=this;if(Te(),vn(this._callObjectMode,"stopCustomIntegrations()"),Ve(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some(function(A){return typeof A!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof g=="string"?[g]:g,P=E.filter(function(A){return!(A in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return vn(this._callObjectMode,"customTrayButtons()"),Te(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return vn(this._callObjectMode,"updateCustomTrayButtons()"),Te(),Ve(this._callState,"updateCustomTrayButtons()"),XO(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Uh))),this)}},{key:"theme",value:function(){return vn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var k=this;return vn(this._callObjectMode,"setTheme()"),new Promise(function(E,P){try{k.validateProperties({theme:g}),k.properties.theme=le({},g),k.sendMessageToCallMachine({action:"set-theme",theme:k.properties.theme});try{k.emitDailyJSEvent({action:LN,theme:k.properties.theme})}catch(A){console.log("could not emit 'theme-updated'",A)}E(k.properties.theme)}catch(A){P(A)}})}},{key:"requestFullscreen",value:(o=ge(function*(){if(Te(),this._iframe&&!document.fullscreenElement&&J1())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Te(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=ge(function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){k(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this)}},{key:"room",value:(s=ge(function*(){var g=this,k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=k===void 0||k;return this._accessState.access===Id||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(P){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(A){delete A.action,delete A.callbackStamp,P(A)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=ge(function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(k){return console.error("geo lookup failed",k),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=ge(function*(g){var k=this;return Te(),Ve(this._callState,"setNetworkTopology()"),new Promise(function(E,P){k.sendMessageToCallMachine({action:"set-network-topology",opts:g},function(A){A.error?P({error:A.error}):E({workerId:A.workerId})})})}),function(g){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=ge(function*(){var g=this;return new Promise(function(k,E){g.needsLoad()&&k({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},function(P){P.error?E({error:P.error}):k({topology:P.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(Te(),typeof g!="number"&&g!==!0&&g!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,k){return Wu.prototype.on.call(this,g,k)}},{key:"once",value:function(g,k){return Wu.prototype.once.call(this,g,k)}},{key:"off",value:function(g,k){return Wu.prototype.off.call(this,g,k)}},{key:"validateProperties",value:function(g){var k,E;if(g!=null&&(k=g.dailyConfig)!==null&&k!==void 0&&k.userMediaAudioConstraints){var P,A;je()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var M=g.inputSettings||{};M.audio=((P=g.inputSettings)===null||P===void 0?void 0:P.audio)||{},M.audio.settings=((A=g.inputSettings)===null||A===void 0||(A=A.audio)===null||A===void 0?void 0:A.settings)||{},M.audio.settings=le(le({},M.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=M,delete g.dailyConfig.userMediaAudioConstraints}if(g!=null&&(E=g.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var U,V;je()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var q=g.inputSettings||{};q.video=((U=g.inputSettings)===null||U===void 0?void 0:U.video)||{},q.video.settings=((V=g.inputSettings)===null||V===void 0||(V=V.video)===null||V===void 0?void 0:V.settings)||{},q.video.settings=le(le({},q.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=q,delete g.dailyConfig.userMediaVideoConstraints}for(var X in g)if(ki[X]){if(ki[X].validate&&!ki[X].validate(g[X],this))throw new Error("property '".concat(X,"': ").concat(ki[X].help))}else console.warn("Ignoring unrecognized property '".concat(X,"'")),delete g[X]}},{key:"assembleMeetingUrl",value:function(){var g,k,E=le(le({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(g=this.properties.dailyConfig)!==null&&g!==void 0&&g.proxyUrl?encodeURIComponent((k=this.properties.dailyConfig)===null||k===void 0?void 0:k.proxyUrl):void 0}),P=E.url.match(/\?/)?"&":"?";return E.url+P+Object.keys(ki).filter(function(A){return ki[A].queryString&&E[A]!==void 0}).map(function(A){return"".concat(ki[A].queryString,"=").concat(E[A])}).join("&")}},{key:"needsLoad",value:function(){return[qv,z1,Ps,Qr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,k){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,k,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case MN:this.sendMessageToCallMachine(le({action:DN},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var k={action:Zu,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Oh(this.properties.dailyConfig)}};this.sendMessageToCallMachine(k),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case Hv:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case zN:var E,P=le({},g);delete P.internal,this._maxAppMessageSize=((E=g.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||wm,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(P);break;case WN:case HN:if(this._callState===Ps)return;if(g.participant&&g.participant.session_id){var A=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var M=this._callMachine().store;nE(g.participant,M),rE(g.participant,M),sE(g.participant,this._participants[A],M)}try{this.maybeParticipantTracksStopped(this._participants[A],g.participant),this.maybeParticipantTracksStarted(this._participants[A],g.participant),this.maybeEventRecordingStopped(this._participants[A],g.participant),this.maybeEventRecordingStarted(this._participants[A],g.participant)}catch(ln){console.error("track events error",ln)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[A])||(this._participants[A]=le({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case GN:if(g.participant&&g.participant.session_id){var U=this._participants[g.participant.session_id];U&&this.maybeParticipantTracksStopped(U,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case KN:Qt(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case JN:var V={access:g.access};g.awaitingAccess&&(V.awaitingAccess=g.awaitingAccess),Qt(this._accessState,V)||(this._accessState=V,this.emitDailyJSEvent(g));break;case YN:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var q=le(le({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(q)}break;case Qv:var X;this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(Qr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var ce=$_(g,H6);ce!=null&&(X=ce.error)!==null&&X!==void 0&&X.details&&(ce.error.details=JSON.parse(ce.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,ce),this._joinedCallback=null),this.emitDailyJSEvent(ce);break;case qN:this._callState!==Qr&&this._updateCallState(Ps),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case xO:var Me=g.state,ht=g.threshold,he=g.quality,_e=Me.state,qe=Me.reasons;_e===this._network.networkState&&Qt(qe,this._network.networkStateReasons)&&ht===this._network.threshold&&he===this._network.quality||(this._network.networkState=_e,this._network.networkStateReasons=qe,this._network.quality=he,this._network.threshold=ht,g.networkState=_e,qe.length&&(g.networkStateReasons=qe),delete g.state,this.emitDailyJSEvent(g));break;case SO:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case _O:g&&g.faceCounts!==void 0&&this.emitDailyJSEvent(g);break;case yO:var gt=g.activeSpeaker;this._activeSpeaker.peerId!==gt.peerId&&(this._activeSpeaker.peerId=gt.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var de=g.show;this._showLocalVideo=de,this.emitDailyJSEvent({action:g.action,show:de});break;case wO:var re=g.enabled;this._activeSpeakerMode!==re&&(this._activeSpeakerMode=re,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case XN:case ZN:case eO:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case AO:Qt(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case Jv:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":Qt(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case hO:var at=g.session_id;this._rmpPlayerState[at]=g.playerState,this.emitDailyJSEvent(g);break;case pO:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case fO:var gn=g.session_id,fu=this._rmpPlayerState[gn];fu&&this.compareEqualForRMPUpdateEvent(fu,g.remoteMediaPlayerState)||(this._rmpPlayerState[gn]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case QN:var up=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=jm(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||up)&&this.emitDailyJSEvent(g);break;case mO:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case gO:case vO:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case Gv:case Kv:case oO:case aO:case lO:case rO:case sO:case iO:case VN:case UN:case uO:case dO:case"test-completed":case bO:case cO:case EO:case kO:case CO:case TO:case Yv:case jO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,k){var E="record";g&&(k.local||k[E]!==!1||g[E]===k[E]||this.emitDailyJSEvent({action:Kv}))}},{key:"maybeEventRecordingStarted",value:function(g,k){var E="record";g&&(k.local||k[E]!==!0||g[E]===k[E]||this.emitDailyJSEvent({action:Gv}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==PN)}},{key:"_trackChanged",value:function(g,k){return(g==null?void 0:g.id)!==(k==null?void 0:k.id)}},{key:"maybeEventTrackStopped",value:function(g,k,E){var P,A,M=(P=k==null?void 0:k.tracks[g])!==null&&P!==void 0?P:null,U=(A=E==null?void 0:E.tracks[g])!==null&&A!==void 0?A:null,V=M==null?void 0:M.track;if(V){var q=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ce=this._trackChanged(V,U==null?void 0:U.track);q&&(X&&!ce||this.emitDailyJSEvent({action:nO,track:V,participant:E??k,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,k,E){var P,A,M=(P=k==null?void 0:k.tracks[g])!==null&&P!==void 0?P:null,U=(A=E==null?void 0:E.tracks[g])!==null&&A!==void 0?A:null,V=U==null?void 0:U.track;if(V){var q=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ce=this._trackChanged(M==null?void 0:M.track,V);X&&(q&&!ce||this.emitDailyJSEvent({action:tO,track:V,participant:E,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,k){if(g)for(var E in g.tracks)this.maybeEventTrackStopped(E,g,k)}},{key:"maybeParticipantTracksStarted",value:function(g,k){if(k)for(var E in k.tracks)this.maybeEventTrackStarted(E,g,k)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,k){var E,P;return g.state===k.state&&((E=g.settings)===null||E===void 0?void 0:E.volume)===((P=k.settings)===null||P===void 0?void 0:P.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(k){console.log("could not emit",g,k)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,k){return!!Qt(g,k)&&(!g.videoTrack||!k.videoTrack||g.videoTrack.id===k.videoTrack.id&&g.videoTrack.muted===k.videoTrack.muted&&g.videoTrack.enabled===k.videoTrack.enabled)&&(!g.audioTrack||!k.audioTrack||g.audioTrack.id===k.audioTrack.id&&g.audioTrack.muted===k.audioTrack.muted&&g.audioTrack.enabled===k.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return je()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||k!==this._isPreparingToJoin){var E=this._callState,P=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=k;var A=this._callState===$s;this.updateShowAndroidOngoingMeetingNotification(A);var M=Dd(E,P),U=Dd(this._callState,this._isPreparingToJoin);M!==U&&(this.updateKeepDeviceAwake(U),this.updateDeviceAudioMode(U),this.updateNoOpRecordingEnsuringBackgroundContinuity(U))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=gE,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Id},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=jm(mE,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=wm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){je()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(je()&&!this.disableReactNativeAutoDeviceManagement("audio")){var k=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(k)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(je()&&this.nativeUtils().setShowOngoingMeetingNotification){var k,E,P,A;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var M=this.properties.reactNativeConfig.androidInCallNotification;k=M.title,E=M.subtitle,P=M.iconName,A=M.disableForCustomOverride}A&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,k,E,P,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){je()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(je()){var k=(g=this._callMachine())===null||g===void 0||(g=g.store)===null||g===void 0?void 0:g.getState();for(var E in k==null?void 0:k.streams){var P=k.streams[E];P&&P.pendingTrack&&P.pendingTrack.kind==="audio"&&(P.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(g!==void 0){var k=document.createElement("a");return k.href=g,k.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(Ei)[0];if(this.needsLoad())if(g&&!g.needsLoad()){var k={action:Zu,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(k)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:Zu,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,k=Object.values(Ei);g<k.length;g++){var E=k[g];E._callMachineInitialized?(E.sendMessageToCallMachine({action:Zu,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){var k,E,P,A;if(!((k=g.error)!==null&&k!==void 0&&k.type&&(![IN,RN,Wv].includes(g.error.type)||g.error.type===Wv&&g.error.msg.includes("deleted")))){var M=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,U="production";M&&M.host.includes(".staging.daily")&&(U="staging");var V,q,X,ce,Me,ht=function(at){const gn=[mW(),fW(),UW(),FW(),HW(),KW(),wW(),GW()];return at.autoSessionTracking!==!1&&gn.push(WW()),gn}({}).filter(function(at){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(at.name)}),he=new TW({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:OW,stackParser:$W,integrations:ht,environment:U}),_e=new hi;if(_e.setClient(he),he.init(),this.session_id&&_e.setExtra("sessionId",this.session_id),this.properties){var qe=le({},this.properties);qe.userName=qe.userName?"[Filtered]":void 0,qe.userData=qe.userData?"[Filtered]":void 0,qe.token=qe.token?"[Filtered]":void 0,_e.setExtra("properties",qe)}if(M){var gt=M.searchParams.get("domain");if(!gt){var de=M.host.match(/(.*?)\./);gt=de&&de[1]||""}gt&&_e.setTag("domain",gt)}g.error&&(_e.setTag("fatalErrorType",g.error.type),_e.setExtra("errorDetails",g.error.details),!((V=g.error.details)===null||V===void 0)&&V.uri&&_e.setTag("serverAddress",g.error.details.uri),!((q=g.error.details)===null||q===void 0)&&q.workerGroup&&_e.setTag("workerGroup",g.error.details.workerGroup),!((X=g.error.details)===null||X===void 0)&&X.geoGroup&&_e.setTag("geoGroup",g.error.details.geoGroup),!((ce=g.error.details)===null||ce===void 0)&&ce.on&&_e.setTag("connectionAttempt",g.error.details.on),(Me=g.error.details)!==null&&Me!==void 0&&Me.bundleUrl&&(_e.setTag("bundleUrl",g.error.details.bundleUrl),_e.setTag("bundleError",g.error.details.sourceError.type))),_e.setTags({callMode:this._callObjectMode?je()?"reactNative":(P=this.properties)!==null&&P!==void 0&&(P=P.dailyConfig)!==null&&P!==void 0&&(P=P.callMode)!==null&&P!==void 0&&P.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var re=((A=g.error)===null||A===void 0?void 0:A.msg)||g.errorMsg;_e.captureException(new Error(re))}}},{key:"_callMachine",value:function(){var g;return(g=window._daily)===null||g===void 0||(g=g.instances)===null||g===void 0||(g=g[this.callClientId])===null||g===void 0?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!Qt(this._inputSettings,g)){var k=this._getInputSettings();this._inputSettings=g;var E=this._getInputSettings();Qt(k,E)||this.emitDailyJSEvent({action:Jv,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(je())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=Mq.getParser(Wn());return{supported:!!Sm(),mobile:g.getPlatformType()==="mobile",name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!J1(),supportsScreenShare:!!b6(),supportsSfu:!!Sm(),supportsVideoProcessing:OO(),supportsAudioProcessing:RO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.layout="none",new e(null,g)}},{key:"wrap",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Te(),!g||!g.contentWindow||typeof g.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return k.layout||(k.customLayout?k.layout="custom-v1":k.layout="browser"),new e(g,k)}},{key:"createFrame",value:function(g,k){var E,P;Te(),g&&k?(E=g,P=k):g&&g.append?(E=g,P={}):(E=document.body,P=g||{});var A=P.iframeStyle;A||(A=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var M=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?M.allow="microphone, camera":M.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",M.style.visibility="hidden",E.appendChild(M),M.style.visibility=null,Object.keys(A).forEach(function(U){return M.style[U]=A[U]}),P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser");try{return new e(M,P)}catch(U){throw E.removeChild(M),U}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te();var k=document.createElement("iframe");return k.allow="microphone; camera; autoplay",k.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(k),g.layout||(g.layout="custom-v1"),e.wrap(k,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return g?Ei[g]:Object.values(Ei)[0]}}]);var t,n,r,s,i,o,a,l,u,d,h,f,m,b,p,S,y,w,x,_,C,T,j,N,I,R,O,$,W,L,J,Y,Q,D,F,K,ie,te}();function wE(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function jo(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=as;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Ve(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==$s){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function Dd(e,t){return[$h,$s].includes(e)||t}function Cm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(Dd(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function nd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Tm(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function nr(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function vn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Te(){if(je())throw new Error("This daily-js method is not currently supported in React Native")}function Tl(){if(!je())throw new Error("This daily-js method is only supported in React Native")}function HO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Qt(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function GO(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var l=Wt(a[o],2),u=l[0],d=l[1];if(!r(u)||!i(d))return!1}return!0}function KO(e){if(Ae(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Wt(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Ae(i)!=="object")return!1;for(var o=0,a=Object.entries(i);o<a.length;o++){var l=Wt(a[o],2),u=l[0],d=l[1];switch(u){case"processor":if(!Y6(d))return!1;break;case"settings":if(!xE(d))return!1;break;default:return!1}}break;case"audio":if(Ae(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Wt(f[h],2),b=m[0],p=m[1];switch(b){case"processor":if(!J6(p))return!1;break;case"settings":if(!xE(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function JO(e,t,n){var r,s=[];e.video&&e.video.processor&&(OO((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(RO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:as}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:as}):delete n.videoTrack)}function J6(e){if(je())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Ae(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(PO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function Y6(e){if(je())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Ae(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Md).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Ae(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Md.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Md.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Rh(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return bm.includes(f)}catch(b){return console.error("failed to deduce blob content type",b),!1}var m=h.split(".").at(-1).toLowerCase().trim();return bm.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(bm.join(", "),"]")),!1);return a=o.source,l=Number(a),isNaN(l)||!Number.isInteger(l)||l<=0||l>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var a,l}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function xE(e){return Ae(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function sy(){var e=Object.values(Md).join(" | "),t=Object.values(PO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function YO(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(ON).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function QO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(ry),".")}function XO(e){if(e&&Ae(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Uh),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Wt(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=Wt(i[s],2),a=o[0],l=o[1],u=Uh.id[a];if(!u)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Rh(l))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(a," should be ").concat(u,". Got: ").concat(l)),!1;break;default:if(Ae(l)!==u)return console.error("customTrayButton ".concat(a," should be a ").concat(u,".")),!1}}return!0}function ZO(e){if(!e||e&&Ae(e)!=="object"||Array.isArray(e))return console.error(QO()),!1;for(var t=function(h){return"".concat(h," should be ").concat(ry.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,s=Object.entries(e);r<s.length;r++){var i=Wt(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[i]);o<a.length;o++){var l=Wt(a[o],2),u=l[0],d=l[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!Rh(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!Rh(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!ry.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function eR(e,t){if(t===void 0)return!1;switch(Ae(t)){case"string":return Ae(e)===t;case"object":if(Ae(e)!=="object")return!1;for(var n in e)if(!eR(e[n],t[n]))return!1;return!0;default:return!1}}function bE(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function SE(e){if(Ae(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Xv).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Xv));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function _E(e,t,n){return!(typeof e!="number"||e<t||e>n)}function jm(e,t){return e&&!t&&delete e.data,e}const Q6=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:NN,DAILY_ACCESS_LEVEL_LOBBY:e6,DAILY_ACCESS_LEVEL_NONE:t6,DAILY_ACCESS_UNKNOWN:Id,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:h6,DAILY_CAMERA_ERROR_CAM_IN_USE:u6,DAILY_CAMERA_ERROR_CONSTRAINTS:g6,DAILY_CAMERA_ERROR_MIC_IN_USE:d6,DAILY_CAMERA_ERROR_NOT_FOUND:m6,DAILY_CAMERA_ERROR_PERMISSIONS:f6,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:p6,DAILY_CAMERA_ERROR_UNKNOWN:v6,DAILY_EVENT_ACCESS_STATE_UPDATED:JN,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:yO,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:wO,DAILY_EVENT_APP_MSG:uO,DAILY_EVENT_CAMERA_ERROR:UN,DAILY_EVENT_CPU_LOAD_CHANGE:SO,DAILY_EVENT_ERROR:Qv,DAILY_EVENT_EXIT_FULLSCREEN:Ll,DAILY_EVENT_FACE_COUNTS_UPDATED:_O,DAILY_EVENT_FULLSCREEN:Dl,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:DN,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:MN,DAILY_EVENT_INPUT_SETTINGS_UPDATED:Jv,DAILY_EVENT_JOINED_MEETING:zN,DAILY_EVENT_JOINING_MEETING:BN,DAILY_EVENT_LANG_UPDATED:jO,DAILY_EVENT_LEFT_MEETING:qN,DAILY_EVENT_LIVE_STREAMING_ERROR:TO,DAILY_EVENT_LIVE_STREAMING_STARTED:EO,DAILY_EVENT_LIVE_STREAMING_STOPPED:CO,DAILY_EVENT_LIVE_STREAMING_UPDATED:kO,DAILY_EVENT_LOADED:Hv,DAILY_EVENT_LOADING:$N,DAILY_EVENT_LOAD_ATTEMPT_FAILED:FN,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:vO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:mO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:gO,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:y6,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:QN,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:YN,DAILY_EVENT_NETWORK_CONNECTION:bO,DAILY_EVENT_NETWORK_QUALITY_CHANGE:xO,DAILY_EVENT_NONFATAL_ERROR:Yv,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:KN,DAILY_EVENT_PARTICIPANT_JOINED:WN,DAILY_EVENT_PARTICIPANT_LEFT:GN,DAILY_EVENT_PARTICIPANT_UPDATED:HN,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:AO,DAILY_EVENT_RECORDING_DATA:cO,DAILY_EVENT_RECORDING_ERROR:aO,DAILY_EVENT_RECORDING_STARTED:Gv,DAILY_EVENT_RECORDING_STATS:oO,DAILY_EVENT_RECORDING_STOPPED:Kv,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:lO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:hO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:pO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:fO,DAILY_EVENT_STARTED_CAMERA:VN,DAILY_EVENT_THEME_UPDATED:LN,DAILY_EVENT_TRACK_STARTED:tO,DAILY_EVENT_TRACK_STOPPED:nO,DAILY_EVENT_TRANSCRIPTION_ERROR:iO,DAILY_EVENT_TRANSCRIPTION_MSG:dO,DAILY_EVENT_TRANSCRIPTION_STARTED:rO,DAILY_EVENT_TRANSCRIPTION_STOPPED:sO,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:XN,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:eO,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:ZN,DAILY_FATAL_ERROR_CONNECTION:IN,DAILY_FATAL_ERROR_EJECTED:r6,DAILY_FATAL_ERROR_EOL:RN,DAILY_FATAL_ERROR_EXP_ROOM:o6,DAILY_FATAL_ERROR_EXP_TOKEN:a6,DAILY_FATAL_ERROR_MEETING_FULL:l6,DAILY_FATAL_ERROR_NBF_ROOM:s6,DAILY_FATAL_ERROR_NBF_TOKEN:i6,DAILY_FATAL_ERROR_NOT_ALLOWED:c6,DAILY_FATAL_ERROR_NO_ROOM:Wv,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:n6,DAILY_RECEIVE_SETTINGS_BASE_KEY:ON,DAILY_STATE_ERROR:Qr,DAILY_STATE_JOINED:$s,DAILY_STATE_JOINING:$h,DAILY_STATE_LEFT:Ps,DAILY_STATE_NEW:qv,DAILY_TRACK_STATE_BLOCKED:JW,DAILY_TRACK_STATE_INTERRUPTED:ZW,DAILY_TRACK_STATE_LOADING:XW,DAILY_TRACK_STATE_OFF:YW,DAILY_TRACK_STATE_PLAYABLE:PN,DAILY_TRACK_STATE_SENDABLE:QW,default:K6},Symbol.toStringTag,{value:"Module"})),X6=mD(Q6);var H0={exports:{}},ga=typeof Reflect=="object"?Reflect:null,EE=ga&&typeof ga.apply=="function"?ga.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Ld;ga&&typeof ga.ownKeys=="function"?Ld=ga.ownKeys:Object.getOwnPropertySymbols?Ld=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ld=function(t){return Object.getOwnPropertyNames(t)};function Z6(e){console&&console.warn&&console.warn(e)}var tR=Number.isNaN||function(t){return t!==t};function $e(){$e.init.call(this)}H0.exports=$e;H0.exports.once=rH;$e.EventEmitter=$e;$e.prototype._events=void 0;$e.prototype._eventsCount=0;$e.prototype._maxListeners=void 0;var kE=10;function qf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty($e,"defaultMaxListeners",{enumerable:!0,get:function(){return kE},set:function(e){if(typeof e!="number"||e<0||tR(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");kE=e}});$e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$e.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||tR(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function nR(e){return e._maxListeners===void 0?$e.defaultMaxListeners:e._maxListeners}$e.prototype.getMaxListeners=function(){return nR(this)};$e.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[t];if(l===void 0)return!1;if(typeof l=="function")EE(l,this,n);else for(var u=l.length,d=aR(l,u),r=0;r<u;++r)EE(d[r],this,n);return!0};function rR(e,t,n,r){var s,i,o;if(qf(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=nR(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,Z6(a)}return e}$e.prototype.addListener=function(t,n){return rR(this,t,n,!1)};$e.prototype.on=$e.prototype.addListener;$e.prototype.prependListener=function(t,n){return rR(this,t,n,!0)};function eH(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function sR(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=eH.bind(r);return s.listener=n,r.wrapFn=s,s}$e.prototype.once=function(t,n){return qf(n),this.on(t,sR(this,t,n)),this};$e.prototype.prependOnceListener=function(t,n){return qf(n),this.prependListener(t,sR(this,t,n)),this};$e.prototype.removeListener=function(t,n){var r,s,i,o,a;if(qf(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():tH(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};$e.prototype.off=$e.prototype.removeListener;$e.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function iR(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?nH(s):aR(s,s.length)}$e.prototype.listeners=function(t){return iR(this,t,!0)};$e.prototype.rawListeners=function(t){return iR(this,t,!1)};$e.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):oR.call(e,t)};$e.prototype.listenerCount=oR;function oR(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}$e.prototype.eventNames=function(){return this._eventsCount>0?Ld(this._events):[]};function aR(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function tH(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function nH(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function rH(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}lR(e,t,i,{once:!0}),t!=="error"&&sH(e,s,{once:!0})})}function sH(e,t,n){typeof e.on=="function"&&lR(e,"error",t,n)}function lR(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var iH=H0.exports,Wf={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.Api=si.HttpClient=si.ContentType=void 0;var Z;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(Z||(si.ContentType=Z={}));class cR{constructor(t={}){xe(this,"baseUrl","https://api.vapi.ai");xe(this,"securityData",null);xe(this,"securityWorker");xe(this,"abortControllers",new Map);xe(this,"customFetch",(...t)=>fetch(...t));xe(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});xe(this,"setSecurityData",t=>{this.securityData=t});xe(this,"contentFormatters",{[Z.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[Z.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[Z.UrlEncoded]:t=>this.toQueryString(t)});xe(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});xe(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});xe(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:a,cancelToken:l,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),m=this.contentFormatters[s||Z.Json],b=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==Z.FormData?{"Content-Type":s}:{}},signal:(l?this.createAbortSignal(l):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const S=p;S.data=null,S.error=null;const y=b?p.clone():p,w=b?await y[b]().then(x=>(S.ok?S.data=x:S.error=x,S)).catch(x=>(S.error=x,S)):S;if(l&&this.abortControllers.delete(l),!p.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}si.HttpClient=cR;class oH extends cR{constructor(){super(...arguments);xe(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});xe(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});xe(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s})});xe(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:Z.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});xe(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:Z.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});xe(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:Z.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:Z.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});xe(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:Z.Json,...r})});xe(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s})});xe(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:Z.FormData,...r})});xe(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})})}}si.Api=oH;Object.defineProperty(Wf,"__esModule",{value:!0});Wf.client=void 0;const aH=si,lH=new aH.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});Wf.client=lH;var cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.createSafeDailyConfig=cH;cl.safeSetLocalAudio=uH;cl.safeSetInputDevicesAsync=dH;cl.createSafeDailyFactoryOptions=hH;function cH(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function uH(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function dH(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function hH(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var uR=Ex&&Ex.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dN,"__esModule",{value:!0});const Am=uR(X6),fH=uR(iH),Pm=Wf,Ci=cl;function Gt(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function pH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function CE(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await pH(n,e),n}function TE(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function jE(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class mH extends fH.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class gH extends mH{constructor(n,r,s,i){super();xe(this,"started",!1);xe(this,"call",null);xe(this,"speakingTimeout",null);xe(this,"dailyCallConfig",{});xe(this,"dailyCallObject",{});xe(this,"hasEmittedCallEndedStatus",!1);Pm.client.baseUrl=r??"https://api.vapi.ai",Pm.client.setSecurityData(n),this.dailyCallConfig=(0,Ci.createSafeDailyConfig)(s),this.dailyCallObject=(0,Ci.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,a){var u,d,h,f,m,b,p;const l=Date.now();if(!n&&!s&&!i){const S=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:Gt(S),timestamp:new Date().toISOString()}),S}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const S=Date.now(),y=(await Pm.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:a==null?void 0:a.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-S;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((u=y==null?void 0:y.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const x=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,_=((b=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:b.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??x,isVideoRecordingEnabled:x,isVideoEnabled:_}});const C=Date.now();try{this.call=Am.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??x,dailyConfig:this.dailyCallConfig});const O=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-C,W=Gt(O);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:W,timestamp:new Date().toISOString()}),O}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),x&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var $;this.emit("error",{type:"daily-error",error:Gt(O),timestamp:new Date().toISOString()}),x&&(($=this.call)==null||$.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:Gt(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var $,W,L;!O||!O.participant||($=O.participant)!=null&&$.local||((W=O.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await CE(O.track,O.participant.session_id),(L=this.call)==null||L.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||jE(O,this.call,x,_)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&TE(O.participant.session_id)});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const O=Date.now();await this.sleep(1e3);const $=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:$,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const j=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const O=Date.now()-j;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-j,W=Gt(O);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:W,duration:$,timestamp:new Date().toISOString()}),O}if(x){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=new Date().getTime(),$=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-$;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const L=(new Date().getTime()-O)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:L}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:L})})}catch(W){const L=Date.now()-$,J=Gt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:J.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:J,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-N,W=Gt(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:W,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var $;(O==null?void 0:O.type)==="audio-processor-error"&&(($=this.call)==null||$.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ci.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-I,W=Gt(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:W,timestamp:new Date().toISOString()})}const R=Date.now()-l;return this.emit("call-start-success",{totalDuration:R,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(S){const y=Date.now()-l,w=Gt(S);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Ci.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Ci.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const a=s.createMediaStreamDestination();o.connect(a);const[l]=a.stream.getAudioTracks();await(0,Ci.safeSetInputDevicesAsync)(this.call,{audioSource:l})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,a,l,u,d,h,f,m,b,p,S;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((a=n==null?void 0:n.artifactPlan)==null?void 0:a.videoRecordingEnabled)??!1,w=((u=(l=n==null?void 0:n.assistant)==null?void 0:l.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:w}});const x=Date.now();this.call=Am.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const _=Date.now()-x;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:_,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var $;this.emit("error",{type:"daily-error",error:Gt(O),timestamp:new Date().toISOString()}),y&&(($=this.call)==null||$.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:Gt(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var $,W,L;!O||!O.participant||($=O.participant)!=null&&$.local||((W=O.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await CE(O.track,O.participant.session_id),(L=this.call)==null||L.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||jE(O,this.call,y,w)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&TE(O.participant.session_id)}),this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var $;(O==null?void 0:O.type)==="audio-processor-error"&&(($=this.call)==null||$.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ci.safeSetLocalAudio)(this.call,!0)}))});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const O=Date.now();await this.sleep(1e3);const $=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:$,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const T=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const j=Date.now()-T;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:j,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now(),$=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-O;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const L=(new Date().getTime()-$)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:L}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:L})})}catch(W){const L=Date.now()-O,J=Gt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:J.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-N,W=Gt(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-I,W=Gt(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}})}const R=Date.now()-r;this.emit("call-start-success",{totalDuration:R,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const w=Date.now()-r,x=Gt(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:x.message,errorStack:x.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:x,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((b=n==null?void 0:n.artifactPlan)!=null&&b.videoRecordingEnabled),voiceProvider:((S=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:S.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=Am.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var vH=dN.default=gH;const yH=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function wH(e={}){const[t,n]=v.useState("idle"),[r,s]=v.useState([]),[i,o]=v.useState(!1),[a,l]=v.useState(0),u=v.useRef(null),d=v.useCallback(b=>{var p;n(b),(p=e.onStatusChange)==null||p.call(e,b)},[e]);v.useEffect(()=>{const b="4755e6d9-a32f-474b-a4e7-8d103fc571b5",p=new vH(b);return u.current=p,p.on("call-start",()=>{console.log("Vapi: Call started"),d("connected")}),p.on("call-end",()=>{var S;console.log("Vapi: Call ended"),d("ended"),(S=e.onCallEnd)==null||S.call(e,r)}),p.on("speech-start",()=>{d("speaking")}),p.on("speech-end",()=>{d("listening")}),p.on("message",S=>{if(S.type==="transcript"){const y={role:S.role,content:S.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(w=>{var x,_;if(S.transcriptType==="partial"&&w.length>0&&w[w.length-1].role===S.role){const C=[...w];return C[C.length-1]=y,(x=e.onTranscriptUpdate)==null||x.call(e,C),C}else if(S.transcriptType==="final"){const C=[...w,y];return(_=e.onTranscriptUpdate)==null||_.call(e,C),C}return w})}}),p.on("volume-level",S=>{l(S)}),p.on("error",S=>{var y;console.error("Vapi error:",S),d("error"),(y=e.onError)==null||y.call(e,new Error(S.message||"Vapi error"))}),()=>{p.stop()}},[]);const h=v.useCallback(async b=>{var p;if(!u.current){console.error("Vapi not initialized");return}d("connecting");try{await u.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:yH,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:b?`Hello ${b}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(S){console.error("Failed to start Vapi call:",S),d("error"),(p=e.onError)==null||p.call(e,S)}},[d,e]),f=v.useCallback(()=>{u.current&&(u.current.stop(),d("ended"))},[d]),m=v.useCallback(()=>{if(u.current){const b=!i;u.current.setMuted(b),o(b)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:a,startCall:h,endCall:f,toggleMute:m,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}const mn=v.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));mn.displayName="Input";var Ir=function(){return Ir=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ir.apply(this,arguments)};function ul(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function xH(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function bH(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const SH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class G0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class _H extends G0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class AE extends G0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class PE extends G0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var iy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(iy||(iy={}));class EH{constructor(t,{headers:n={},customFetch:r,region:s=iy.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=SH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xH(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(f["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(f["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let S=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(S=o.signal,d.addEventListener("abort",()=>o.abort())):S=o.signal);const y=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:p,signal:S}).catch(C=>{throw new _H(C)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new AE(y);if(!y.ok)throw new PE(y);let x=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield y.json():x==="application/octet-stream"||x==="application/pdf"?_=yield y.blob():x==="text/event-stream"?_=y:x==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof PE||a instanceof AE?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var kH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},CH=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const p=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&S&&S.length>1&&(l=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var b;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new kH(o)}return{error:o,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,d,h,f;const b=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",p=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${b}`,p&&(a+=` (${p})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},TH=class extends CH{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const NE=new RegExp("[,()]");var $o=class extends TH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&NE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&NE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},jH=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new $o({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new $o({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new $o({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new $o({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new $o({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},AH=class dR{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",u=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{l.searchParams.append(m,b)})):(a="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new $o({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class PH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const NH="2.90.1",OH=`realtime-js/${NH}`,hR="1.0.0",RH="2.0.0",OE=hR,oy=1e4,IH=1e3,MH=100;var Ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ms||(Ms={}));var vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vt||(vt={}));var fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fr||(fr={}));var ay;(function(e){e.websocket="websocket"})(ay||(ay={}));var Ri;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ri||(Ri={}));class DH{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,l.length),b.setUint8(p++,a.length),b.setUint8(p++,o.length),b.setUint8(p++,u.length),b.setUint8(p++,h.length),b.setUint8(p++,n),Array.from(l,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(u,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(h,y=>b.setUint8(p++,y.charCodeAt(0)));var S=new Uint8Array(m.byteLength+r.byteLength);return S.set(new Uint8Array(m),0),S.set(new Uint8Array(r),m.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+i));l=l+i;const h=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,b={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class fR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ue||(Ue={}));const RE=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=LH(o,e,t,s),i),{}):{}},LH=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?pR(i,o):ly(o)},pR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return UH(t,n)}switch(e){case Ue.bool:return $H(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return FH(t);case Ue.json:case Ue.jsonb:return VH(t);case Ue.timestamp:return BH(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return ly(t);default:return ly(t)}},ly=e=>e,$H=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},UH=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>pR(t,a))}return e},BH=e=>typeof e=="string"?e.replace(" ","T"):e,mR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nm{constructor(t,n,r={},s=oy){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var IE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(IE||(IE={}));class sc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=sc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=sc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(S=>S.presence_ref),m=h.map(S=>S.presence_ref),b=d.filter(S=>m.indexOf(S.presence_ref)<0),p=h.filter(S=>f.indexOf(S.presence_ref)<0);b.length>0&&(a[u]=b),p.length>0&&(l[u]=p)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ME;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ME||(ME={}));var ic;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ic||(ic={}));var ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class sa{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nm(this,fr.join,this.params,this.timeout),this.rejoinTimer=new fR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new sc(this),this.broadcastEndpointURL=mR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ic.PRESENCE]&&this.bindings[ic.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ts.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(ts.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,S=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,y=[];for(let w=0;w<S;w++){const x=p[w],{filter:{event:_,schema:C,table:T,filter:j}}=x,N=m&&m[w];if(N&&N.event===_&&sa.isFilterValueEqual(N.schema,C)&&sa.isFilterValueEqual(N.table,T)&&sa.isFilterValueEqual(N.filter,j))y.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=vt.errored,t==null||t(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ts.SUBSCRIBED);return}}).receive("error",m=>{this.state=vt.errored,t==null||t(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===vt.joined&&t===ic.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Nm(this,fr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MH){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=fr;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,S;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(p=m.filter)===null||p===void 0?void 0:p.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var b,p,S,y,w,x,_,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const T=m.id,j=(b=m.filter)===null||b===void 0?void 0:b.event;return T&&((p=n.ids)===null||p===void 0?void 0:p.includes(T))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((y=m.filter)===null||y===void 0)&&y.table)||m.filter.table===((w=n.data)===null||w===void 0?void 0:w.table))}else{const T=(_=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return T==="*"||T===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:p,table:S,commit_timestamp:y,type:w,errors:x}=b;f=Object.assign(Object.assign({},{schema:p,table:S,commit_timestamp:y,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(b))}m.callback(f,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&sa.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fr.close,{},t)}_onError(t){this._on(fr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=RE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=RE(t.columns,t.old_record)),n}}const Om=()=>{},rd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zH=[1e3,2e3,5e3,1e4],qH=1e4,WH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HH{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oy,this.transport=null,this.heartbeatIntervalMs=rd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Om,this.ref=0,this.reconnectTimer=null,this.vsn=OE,this.logger=Om,this.conn=null,this.sendBuffer=[],this.serializer=new DH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ay.websocket}`,this.httpEndpoint=mR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=PH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Ri.Connecting;case Ms.open:return Ri.Open;case Ms.closing:return Ri.Closing;default:return Ri.Closed}}isConnected(){return this.connectionState()===Ri.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new sa(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IH,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},rd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ms.open||this.conn.readyState===Ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([WH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:OH};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(fr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:oy,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:rd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Om,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:OE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>zH[b-1]||qH,this.vsn){case hR:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,p)=>p(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,p)=>p(JSON.parse(b));break;case RH:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var $c=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function GH(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function KH(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=GH(e.baseUrl,r,s),l=await KH(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,b=m==null?void 0:m.error;throw new $c((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function sd(e){return e.join("")}var YH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:sd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sd(e.namespace)}`}),!0}catch(t){if(t instanceof $c&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof $c&&n.status===409)return;throw n}}};function Ao(e){return e.join("")}var QH=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ao(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ao(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ao(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ao(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ao(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ao(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof $c&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof $c&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},XH=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JH({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new YH(this.client,t),this.tableOps=new QH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Hf=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ZH=class extends Hf{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cy=class extends Hf{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const K0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),e9=()=>Response,uy=e=>{if(Array.isArray(e))return e.map(n=>uy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=uy(r)}),t},t9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},n9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function r9(e,t){if(Fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9(e){var t=r9(e,"string");return Fc(t)=="symbol"?t:t+""}function i9(e,t,n){return(t=s9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(n),!0).forEach(function(r){i9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Rm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},o9=async(e,t,n)=>{e instanceof await e9()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new ZH(Rm(r),s,i))}).catch(r=>{t(new cy(Rm(r),r))}):t(new cy(Rm(e),e))},a9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(t9(r)?(s.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),pe(pe({},s),n))};async function uu(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,a9(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>o9(l,a,r))})}async function Vc(e,t,n,r){return uu(e,"GET",t,n,r)}async function cr(e,t,n,r,s){return uu(e,"POST",t,r,s,n)}async function dy(e,t,n,r,s){return uu(e,"PUT",t,r,s,n)}async function l9(e,t,n,r){return uu(e,"HEAD",t,pe(pe({},n),{},{noResolveJson:!0}),r)}async function J0(e,t,n,r,s){return uu(e,"DELETE",t,r,s,n)}var c9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};let gR;gR=Symbol.toStringTag;var u9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[gR]="BlobDownloadBuilder",this.promise=null}asStream(){return new c9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};const d9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var h9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=K0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=pe(pe({},LE),r);let a=pe(pe({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=pe(pe({},a),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?dy:cr)(s.fetch,`${s.url}/object/${d}`,i,pe({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=pe({upsert:LE.upsert},r),d=pe(pe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await dy(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=pe({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await cr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Hf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await cr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await cr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await cr(r.fetch,`${r.url}/object/sign/${s}`,pe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await cr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>pe(pe({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Vc(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new u9(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:uy(await Vc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await l9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof cy){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await J0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=pe(pe(pe({},d9),t),{},{prefix:e||""});return{data:await cr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=pe({},e);return{data:await cr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const vR="2.90.1",yR={"X-Client-Info":`storage-js/${vR}`};var f9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=pe(pe({},yR),t),this.fetch=K0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Vc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Vc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await cr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await dy(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await cr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await J0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},p9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},yR),t),this.fetch=K0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await cr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Vc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await J0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!n9(e))throw new Hf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new XH({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Y0={"X-Client-Info":`storage-js/${vR}`,"Content-Type":"application/json"};var wR=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Im=class extends wR{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},m9=class extends wR{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Q0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),g9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$E=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v9=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Im($E(i),r,o))}).catch(()=>{const i=r+"";t(new Im(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Im(s.statusText||`HTTP ${r} error`,r,i))}}else t(new m9($E(e),e))},y9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(g9(r)?(s.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,pe(pe({},s),n)):s};async function w9(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,y9(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>v9(l,a,r))})}async function Sn(e,t,n,r,s){return w9(e,"POST",t,r,s,n)}var x9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},Y0),t),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}},b9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},Y0),t),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Sn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},S9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},Y0),t),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},_9=class extends S9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new E9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},E9=class extends x9{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new k9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},k9=class extends b9{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},C9=class extends f9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new h9(this.url,this.headers,e,this.fetch)}get vectors(){return new _9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new p9(this.url+"/iceberg",this.headers,this.fetch)}};const xR="2.90.1",Fo=30*1e3,hy=3,Mm=hy*Fo,T9="http://localhost:9999",j9="supabase.auth.token",A9={"X-Client-Info":`gotrue-js/${xR}`},fy="X-Supabase-Api-Version",bR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N9=10*60*1e3;class Uc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class O9 extends Uc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function R9(e){return ae(e)&&e.name==="AuthApiError"}class Ii extends Uc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ys extends Uc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class yn extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I9(e){return ae(e)&&e.name==="AuthSessionMissingError"}class Po extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class id extends ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class od extends ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M9(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class FE extends ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D9 extends ys{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class py extends ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Dm(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class VE extends ys{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class my extends ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UE=` 	
\r=`.split(""),L9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UE.length;t+=1)e[UE[t].charCodeAt(0)]=-2;for(let t=0;t<Bh.length;t+=1)e[Bh[t].charCodeAt(0)]=t;return e})();function BE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bh[r]),t.queuedBits-=6}}function SR(e,t,n){const r=L9[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zE(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{V9(o,r,n)};for(let o=0;o<e.length;o+=1)SR(e.charCodeAt(o),s,i);return t.join("")}function $9(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function F9(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$9(r,t)}}function V9(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function va(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)SR(e.charCodeAt(s),n,r);return new Uint8Array(t)}function U9(e){const t=[];return F9(e,n=>t.push(n)),new Uint8Array(t)}function Ui(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>BE(s,n,r)),BE(null,n,r),t.join("")}function B9(e){return Math.round(Date.now()/1e3)+e}function z9(){return Symbol("auth-callback")}const Pt=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},_R=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function q9(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ER=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ji=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},At=async(e,t)=>{await e.removeItem(t)};class Gf{constructor(){this.promise=new Gf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Gf.promiseConstructor=Promise;function Lm(e){const t=e.split(".");if(t.length!==3)throw new my("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!P9.test(t[r]))throw new my("JWT not in base64url format");return{header:JSON.parse(zE(t[0])),payload:JSON.parse(zE(t[1])),signature:va(t[2]),raw:{header:t[0],payload:t[1]}}}async function H9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function G9(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function K9(e){return("0"+e.toString(16)).substr(-2)}function J9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,K9).join("")}async function Y9(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Q9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Y9(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(e,t,n=!1){const r=J9();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Vo(e,`${t}-code-verifier`,s);const i=await Q9(r);return[i,r===i?"plain":"s256"]}const X9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z9(e){const t=e.headers.get(fy);if(!t||!t.match(X9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oo(e){if(!nG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rG(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function qE(e){return JSON.parse(JSON.stringify(e))}const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sG=[502,503,504];async function WE(e){var t;if(!W9(e))throw new py(Oi(e),0);if(sG.includes(e.status))throw new py(Oi(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ii(Oi(i),i)}let r;const s=Z9(e);if(s&&s.getTime()>=bR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new VE(Oi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new VE(Oi(n),e.status,n.weak_password.reasons);throw new O9(Oi(n),e.status||500,r)}const iG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function fe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[fy]||(i[fy]=bR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await oG(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function oG(e,t,n,r,s,i){const o=iG(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new py(Oi(l),0)}if(a.ok||await WE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await WE(l)}}function rr(e){var t;let n=null;cG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=B9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function HE(e){const t=rr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aG(e){return{data:e,error:null}}function lG(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=ul(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function GE(e){return e}function cG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fm=["global","local","others"];class uG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ER(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Fm[0]){if(Fm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fm.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ul(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fs})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:GE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);u[`${S}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Oo(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fs})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Oo(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Oo(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Oo(t.userId);try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Oo(t.userId),Oo(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:GE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);u[`${S}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ae(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function KE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ro={debug:!!(globalThis&&_R()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dG extends kR{}async function hG(e,t,n){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ro.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function fG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function CR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pG(e){return parseInt(e,16)}function mG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function gG(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=CR(e.address),b=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);w+=`
- ${x}`}y+=w}return`${S}
${y}`}class ft extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class zh extends ft{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function vG({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(TR(o)){if(i.rp.id!==o)return new ft({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yG({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(TR(r)){if(n.rpId!==r)return new ft({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const xG=new wG;function bG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=ul(e,["challenge","user","excludeCredentials"]),i=va(t).buffer,o=Object.assign(Object.assign({},n),{id:va(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:va(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function SG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ul(e,["challenge","allowCredentials"]),s=va(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:va(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function _G(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ui(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ui(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function EG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ui(new Uint8Array(s.authenticatorData)),clientDataJSON:Ui(new Uint8Array(s.clientDataJSON)),signature:Ui(new Uint8Array(s.signature)),userHandle:s.userHandle?Ui(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function JE(){var e,t;return!!(Pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function kG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zh("Browser returned unexpected credential type",t)}:{data:null,error:new zh("Empty credential response",t)}}catch(t){return{data:null,error:vG({error:t,options:e})}}}async function CG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zh("Browser returned unexpected credential type",t)}:{data:null,error:new zh("Empty credential response",t)}}catch(t){return{data:null,error:yG({error:t,options:e})}}}const TG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=qh(a,o):r[i]=qh(o)}else r[i]=o}return r}function AG(e,t){return qh(TG,e,t||{})}function PG(e,t){return qh(jG,e,t||{})}class NG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??xG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=AG(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await kG({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=PG(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await CG(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Uc("rpId is required for WebAuthn authentication")};try{if(!JE())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Uc("rpId is required for WebAuthn registration")};try{if(!JE())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in register",o)}}}}fG();const OG={url:T9,storageKey:j9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function YE(e,t,n){return await n()}const Io={};class Bc{get jwks(){var t,n;return(n=(t=Io[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Io[this.storageKey]=Object.assign(Object.assign({},Io[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Io[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Io[this.storageKey]=Object.assign(Object.assign({},Io[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},OG),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Bc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Bc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ER(i.fetch),this.lock=i.lock||YE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hG:this.lock=YE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new NG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_R()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=KE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=KE(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Pt()&&(n=q9(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Pt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),M9(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new Ii("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:rr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await No(this.storage,this.storageKey)),i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:rr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rr})}else throw new id("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await At(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await At(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:HE})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:HE})}else throw new id("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Po;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,d,h,f;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:S,statement:y,options:w}=t;let x;if(Pt())if(typeof S=="object")x=S;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")x=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=S}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),C=await x.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=CR(C[0]);let j=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const I=await x.request({method:"eth_chainId"});j=pG(I)}const N={domain:_.host,address:T,statement:y,uri:_.href,version:"1",chainId:j,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=gG(N),b=await x.request({method:"personal_sign",params:[mG(m),T]})}try{const{data:p,error:S}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:rr});if(S)throw S;if(!p||!p.session||!p.user){const y=new Po;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:S})}catch(p){if(ae(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,d,h,f,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:S,wallet:y,statement:w,options:x}=t;let _;if(Pt())if(typeof y=="object")_=y;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const C=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let j;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")j=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)j=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=T}}try{const{data:S,error:y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ui(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:rr});if(y)throw y;if(!S||!S.session||!S.user){const w=new Po;return this._returnResult({data:{user:null,session:null},error:w})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:y})}catch(S){if(ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new D9;const{data:i,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:rr});if(await At(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Po;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await At(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rr}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Po;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await No(this.storage,this.storageKey));const{error:h}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new id("You must provide either an email or phone number.")}catch(a){if(await At(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await No(this.storage,this.storageKey));const u=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:aG});return!((i=u.data)===null||i===void 0)&&i.url&&Pt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await At(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new yn;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new id("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Mm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await ji(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$m()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=rG(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Fs})})}catch(n){if(ae(n))return I9(n)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new yn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await No(this.storage,this.storageKey));const{data:u,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Fs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await At(this.storage,`${this.storageKey}-code-verifier`),ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Lm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new yn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Pt())throw new od("No browser detected.");if(t.error||t.error_description||t.error_code)throw new od(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new FE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new FE("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new od("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Fo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);const{data:p,error:S}=await this._getUser(i);if(S)throw S;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(R9(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=z9(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await No(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await At(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Pt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=t,h=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rr}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Po}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await At(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await G9(async s=>(s>0&&await H9(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Dm(i)&&Date.now()+o-r<Fo})}catch(r){if(this._debug(n,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Pt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ji(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Vo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$m()}else if(s&&!s.user&&!s.user){const o=await ji(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await At(this.storage,this.storageKey+"-user"),await Vo(this.storage,this.storageKey,s)):s.user=$m()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Mm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Mm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Dm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ae(i)){const o={data:null,error:i};return Dm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await At(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Vo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=qE(s);await Vo(this.storage,this.storageKey,i)}else{const s=qE(n);await Vo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Fo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fo}ms, refresh threshold is ${hy} ticks`),s<=hy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await No(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?_G(t.webauthn.credential_response):EG(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:bG(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:SG(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Lm(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new yn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yn});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yn});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new yn})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+N9>s)return r;const{data:i,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Lm(r);n!=null&&n.allowExpired||eG(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=tG(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,U9(`${a}.${l}`)))throw new my("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}Bc.nextInstanceID={};const RG=Bc,IG="2.90.1";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const MG={"X-Client-Info":`supabase-js-${Fl}/${IG}`},DG={headers:MG},LG={schema:"public"},$G={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FG={};function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function VG(e,t){if(zc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UG(e){var t=VG(e,"string");return zc(t)=="symbol"?t:t+""}function BG(e,t,n){return(t=UG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){BG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const zG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qG=()=>Headers,WG=(e,t,n)=>{const r=zG(n),s=qG();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,it(it({},o),{},{headers:u}))}};function HG(e){return e.endsWith("/")?e:e+"/"}function GG(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:it(it({},l),s),auth:it(it({},u),i),realtime:it(it({},d),o),storage:{},global:it(it(it({},h),a),{},{headers:it(it({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function KG(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(HG(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var JG=class extends RG{constructor(e){super(e)}},YG=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=KG(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:LG,realtime:FG,auth:it(it({},$G),{},{storageKey:o}),global:DG},l=GG(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=WG(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(it({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new AH(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new C9(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new EH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JG({url:this.authUrl.href,headers:it(it({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new HH(this.realtimeUrl.href,it(it({},e),{},{params:it(it({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const QG=(e,t,n)=>new YG(e,t,n);function XG(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}XG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZG="https://gsucaxeqzluzbmvonsmj.supabase.co",eK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",ut=QG(ZG,eK);function tK(e={}){const[t,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=v.useRef(e.accessToken||null);v.useEffect(()=>{f.current=e.accessToken||null},[e.accessToken]);const m=async()=>{if(!f.current)throw new Error("No access token - session not started");const{data:w,error:x}=await ut.functions.invoke("deepgram-token",{body:{accessToken:f.current}});if(x)throw new Error(`Failed to get Deepgram token: ${x.message}`);if((w==null?void 0:w.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(w!=null&&w.key))throw new Error((w==null?void 0:w.error)||"No token returned from Deepgram");return w.key},b=v.useCallback(async()=>{var w;if(!t){l(null),s(""),o("");try{const x=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=x;const _=await m(),C=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true&mip_opt_out=true",["token",_]);u.current=C,C.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const T=new MediaRecorder(x,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});d.current=T,T.ondataavailable=j=>{j.data.size>0&&C.readyState===WebSocket.OPEN&&C.send(j.data)},T.start(250)},C.onmessage=T=>{var j,N,I,R;try{const O=JSON.parse(T.data);if((I=(N=(j=O.channel)==null?void 0:j.alternatives)==null?void 0:N[0])!=null&&I.transcript){const $=O.channel.alternatives[0].transcript;O.is_final?(s(W=>{var J;const L=W?`${W} ${$}`:$;return(J=e.onTranscript)==null||J.call(e,L),L}),o("")):(o($),(R=e.onInterimTranscript)==null||R.call(e,$))}}catch(O){console.error("Error parsing Deepgram message:",O)}},C.onerror=T=>{var N;console.error("Deepgram WebSocket error:",T);const j=new Error("WebSocket connection error");l(j),(N=e.onError)==null||N.call(e,j)},C.onclose=T=>{console.log("Deepgram WebSocket closed:",T.code,T.reason),n(!1)}}catch(x){console.error("Failed to start listening:",x);const _=x instanceof Error?x:new Error("Failed to start listening");l(_),(w=e.onError)==null||w.call(e,_),n(!1)}}},[t,e]),p=v.useCallback(()=>{d.current&&d.current.state!=="inactive"&&d.current.stop(),d.current=null,u.current&&u.current.close(),u.current=null,h.current&&h.current.getTracks().forEach(w=>w.stop()),h.current=null,n(!1),o("")},[]),S=v.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=v.useCallback(()=>{s(""),o("")},[]);return v.useEffect(()=>()=>{p()},[p]),{isListening:t,transcript:r,interimTranscript:i,error:a,startListening:b,stopListening:p,getFullTranscript:S,clearTranscript:y}}function nK(e={}){const[t,n]=v.useState([]),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(!1),u=v.useRef(null),d=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=v.useCallback(y=>{u.current=y},[]),f=v.useCallback(y=>{const w=y.map(x=>({role:x.role,content:x.content,timestamp:x.timestamp?new Date(x.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):d()}));n(w),l(!0)},[]),m=v.useCallback(async y=>{var w,x;o(null),s(!0);try{const{data:_,error:C}=await ut.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:y}});if(C)throw new Error(`Failed to start conversation: ${C.message}`);if(!(_!=null&&_.response))throw new Error("No response from chat service");const T={role:"assistant",content:_.response,timestamp:d()};n([T]),(w=e.onMessageReceived)==null||w.call(e,T)}catch(_){console.error("Error starting conversation:",_);const C=_ instanceof Error?_:new Error("Failed to start conversation");o(C),(x=e.onError)==null||x.call(e,C)}finally{s(!1)}},[e]),b=v.useCallback(async y=>{var x,_,C,T;if(!y.trim())return;if(!u.current){const j=new Error("No access token - session not started");o(j),(x=e.onError)==null||x.call(e,j);return}o(null);const w={role:"user",content:y.trim(),timestamp:d()};n(j=>[...j,w]),s(!0);try{const{data:j,error:N}=await ut.functions.invoke("chat-interview",{body:{accessToken:u.current,message:y.trim()}});if(N)throw new Error(`Failed to send message: ${N.message}`);if((j==null?void 0:j.error)==="Invalid or expired session")throw(_=e.onSessionExpired)==null||_.call(e),new Error("Session expired. Please refresh the page to restart.");if(!(j!=null&&j.response))throw new Error("No response from chat service");const I={role:"assistant",content:j.response,timestamp:d()};n(R=>[...R,I]),(C=e.onMessageReceived)==null||C.call(e,I)}catch(j){console.error("Error sending message:",j);const N=j instanceof Error?j:new Error("Failed to send message");o(N),(T=e.onError)==null||T.call(e,N)}finally{s(!1)}},[e]),p=v.useCallback(()=>t,[t]),S=v.useCallback(()=>{n([]),u.current=null,o(null),s(!1),l(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:a,startConversation:m,sendMessage:b,getTranscript:p,resetConversation:S,setAccessToken:h,initializeMessages:f}}function rK({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s}){const[i,o]=v.useState(""),[a,l]=v.useState(!1),u=v.useRef(null),d=v.useRef(null),{messages:h,isThinking:f,error:m,isResumed:b,startConversation:p,sendMessage:S,setAccessToken:y,initializeMessages:w}=nK({onMessageReceived:()=>{setTimeout(()=>{var L;(L=u.current)==null||L.scrollTo({top:u.current.scrollHeight,behavior:"smooth"})},100)},onSessionExpired:()=>{l(!0)}});v.useEffect(()=>{t&&y(t)},[t,y]);const{isListening:x,transcript:_,interimTranscript:C,error:T,startListening:j,stopListening:N,clearTranscript:I}=tK({accessToken:t,onTranscript:L=>{o(J=>J?`${J} ${L}`:L)}});v.useEffect(()=>{n&&n.length>0?w(n):p(e)},[e,n,w,p]),v.useEffect(()=>{r==null||r(h)},[h,r]),v.useEffect(()=>{var L;(L=u.current)==null||L.scrollTo({top:u.current.scrollHeight,behavior:"smooth"})},[h]);const R=()=>{var J;const L=i.trim();!L||f||(S(L),o(""),I(),(J=d.current)==null||J.focus())},O=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),R())},$=async()=>{x?N():await j()},W=i+(x&&C?` ${C}`:"");return c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsx(Mf,{className:"flex-1 p-4",ref:u,children:c.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[b&&h.length>0&&c.jsx(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:c.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),c.jsx(Ba,{initial:!1,children:h.map((L,J)=>c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${L.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:L.content}),c.jsx("p",{className:`text-xs mt-1 ${L.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:L.timestamp})]})},J))}),f&&c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:c.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),c.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),c.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})})]})}),a&&c.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(m||T)&&!a&&c.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(m==null?void 0:m.message)||(T==null?void 0:T.message)}),x&&c.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[c.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((L,J)=>c.jsx(Se.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:J*.1},className:"w-1 bg-accent rounded-full"},J))}),c.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),C&&c.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:C})]})}),c.jsx("div",{className:"border-t bg-background p-4",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ue,{type:"button",variant:x?"default":"outline",size:"icon",onClick:$,disabled:a||!t,className:`shrink-0 ${x?"bg-accent hover:bg-accent/90":""}`,title:a?"Session expired":t?x?"Stop listening":"Start voice input":"Session not ready",children:x?c.jsx(X$,{className:"h-4 w-4"}):c.jsx(Yi,{className:"h-4 w-4"})}),c.jsx(mn,{ref:d,value:W,onChange:L=>o(L.target.value),onKeyDown:O,placeholder:a?"Session expired":x?"Speak now...":"Type your response or click the mic to speak...",disabled:f||a,className:"flex-1"}),c.jsx(ue,{type:"button",onClick:R,disabled:!i.trim()||f||a,size:"icon",className:"shrink-0",children:f?c.jsx(St,{className:"h-4 w-4 animate-spin"}):c.jsx(J$,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Press Enter to send, or click the microphone to speak your answer"})]})})]})}var Vm="focusScope.autoFocusOnMount",Um="focusScope.autoFocusOnUnmount",XE={bubbles:!1,cancelable:!0},sK="FocusScope",X0=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=v.useState(null),u=xt(s),d=xt(i),h=v.useRef(null),f=Ce(t,p=>l(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(x){if(m.paused||!a)return;const _=x.target;a.contains(_)?h.current=_:Ns(h.current,{select:!0})},S=function(x){if(m.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||Ns(h.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const C of x)C.removedNodes.length>0&&Ns(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",S);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",S),w.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){ek.add(m);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(Vm,XE);a.addEventListener(Vm,u),a.dispatchEvent(y),y.defaultPrevented||(iK(uK(jR(a)),{select:!0}),document.activeElement===p&&Ns(a))}return()=>{a.removeEventListener(Vm,u),setTimeout(()=>{const y=new CustomEvent(Um,XE);a.addEventListener(Um,d),a.dispatchEvent(y),y.defaultPrevented||Ns(p??document.body,{select:!0}),a.removeEventListener(Um,d),ek.remove(m)},0)}}},[a,u,d,m]);const b=v.useCallback(p=>{if(!n&&!r||m.paused)return;const S=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(S&&y){const w=p.currentTarget,[x,_]=oK(w);x&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&Ns(x,{select:!0})):p.shiftKey&&y===x&&(p.preventDefault(),n&&Ns(_,{select:!0})):y===w&&p.preventDefault()}},[n,r,m.paused]);return c.jsx(me.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});X0.displayName=sK;function iK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function oK(e){const t=jR(e),n=ZE(t,e),r=ZE(t.reverse(),e);return[n,r]}function jR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ZE(e,t){for(const n of e)if(!aK(n,{upTo:t}))return n}function aK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lK(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lK(e)&&t&&e.select()}}var ek=cK();function cK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tk(e,t),e.unshift(t)},remove(t){var n;e=tk(e,t),(n=e[0])==null||n.resume()}}}function tk(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function uK(e){return e.filter(t=>t.tagName!=="A")}var Bm=0;function AR(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nk()),document.body.insertAdjacentElement("beforeend",e[1]??nk()),Bm++,()=>{Bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bm--}},[])}function nk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $d="right-scroll-bar-position",Fd="width-before-scroll-bar",dK="with-scroll-bars-hidden",hK="--removed-body-scroll-bar-size";function zm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fK(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var pK=typeof window<"u"?v.useLayoutEffect:v.useEffect,rk=new WeakMap;function mK(e,t){var n=fK(null,function(r){return e.forEach(function(s){return zm(s,r)})});return pK(function(){var r=rk.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||zm(a,null)}),i.forEach(function(a){s.has(a)||zm(a,o)})}rk.set(n,e)},[e]),n}function gK(e){return e}function vK(e,t){t===void 0&&(t=gK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function yK(e){e===void 0&&(e={});var t=vK(null);return t.options=Ir({async:!0,ssr:!1},e),t}var PR=function(e){var t=e.sideCar,n=ul(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Ir({},n))};PR.isSideCarExport=!0;function wK(e,t){return e.useMedium(t),PR}var NR=yK(),qm=function(){},Kf=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:qm,onWheelCapture:qm,onTouchMoveCapture:qm}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,S=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,x=e.gapMode,_=ul(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,T=mK([n,t]),j=Ir(Ir({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(C,{sideCar:NR,removeScrollBar:u,shards:h,noRelative:m,noIsolation:b,inert:p,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:x}),o?v.cloneElement(v.Children.only(a),Ir(Ir({},j),{ref:T})):v.createElement(w,Ir({},j,{className:l,ref:T}),a))});Kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kf.classNames={fullWidth:Fd,zeroRight:$d};var xK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xK();return t&&e.setAttribute("nonce",t),e}function SK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _K(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bK())&&(SK(t,n),_K(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kK=function(){var e=EK();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},OR=function(){var e=kK(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},CK={left:0,top:0,right:0,gap:0},Wm=function(e){return parseInt(e||"",10)||0},TK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Wm(n),Wm(r),Wm(s)]},jK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CK;var t=TK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},AK=OR(),ya="data-scroll-locked",PK=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ya,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($d,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($d," .").concat($d,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ya,`] {
    `).concat(hK,": ").concat(a,`px;
  }
`)},sk=function(){var e=parseInt(document.body.getAttribute(ya)||"0",10);return isFinite(e)?e:0},NK=function(){v.useEffect(function(){return document.body.setAttribute(ya,(sk()+1).toString()),function(){var e=sk()-1;e<=0?document.body.removeAttribute(ya):document.body.setAttribute(ya,e.toString())}},[])},OK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;NK();var i=v.useMemo(function(){return jK(s)},[s]);return v.createElement(AK,{styles:PK(i,!t,s,n?"":"!important")})},gy=!1;if(typeof window<"u")try{var ad=Object.defineProperty({},"passive",{get:function(){return gy=!0,!0}});window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{gy=!1}var Mo=gy?{passive:!1}:!1,RK=function(e){return e.tagName==="TEXTAREA"},RR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!RK(e)&&n[t]==="visible")},IK=function(e){return RR(e,"overflowY")},MK=function(e){return RR(e,"overflowX")},ik=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=IR(e,r);if(s){var i=MR(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},LK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},IR=function(e,t){return e==="v"?IK(t):MK(t)},MR=function(e,t){return e==="v"?DK(t):LK(t)},$K=function(e,t){return e==="h"&&t==="rtl"?-1:1},FK=function(e,t,n,r,s){var i=$K(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=MR(e,a),b=m[0],p=m[1],S=m[2],y=p-S-i*b;(b||y)&&IR(e,a)&&(h+=y,f+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},ld=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ok=function(e){return[e.deltaX,e.deltaY]},ak=function(e){return e&&"current"in e?e.current:e},VK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BK=0,Do=[];function zK(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(BK++)[0],i=v.useState(OR)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=bH([e.lockRef.current],(e.shards||[]).map(ak),!0).filter(Boolean);return p.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(p,S){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=ld(p),w=n.current,x="deltaX"in p?p.deltaX:w[0]-y[0],_="deltaY"in p?p.deltaY:w[1]-y[1],C,T=p.target,j=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&T.type==="range")return!1;var N=ik(j,T);if(!N)return!0;if(N?C=j:(C=j==="v"?"h":"v",N=ik(j,T)),!N)return!1;if(!r.current&&"changedTouches"in p&&(x||_)&&(r.current=C),!C)return!0;var I=r.current||C;return FK(I,S,p,I==="h"?x:_,!0)},[]),l=v.useCallback(function(p){var S=p;if(!(!Do.length||Do[Do.length-1]!==i)){var y="deltaY"in S?ok(S):ld(S),w=t.current.filter(function(C){return C.name===S.type&&(C.target===S.target||S.target===C.shadowParent)&&VK(C.delta,y)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var x=(o.current.shards||[]).map(ak).filter(Boolean).filter(function(C){return C.contains(S.target)}),_=x.length>0?a(S,x[0]):!o.current.noIsolation;_&&S.cancelable&&S.preventDefault()}}},[]),u=v.useCallback(function(p,S,y,w){var x={name:p,delta:S,target:y,should:w,shadowParent:qK(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=v.useCallback(function(p){n.current=ld(p),r.current=void 0},[]),h=v.useCallback(function(p){u(p.type,ok(p),p.target,a(p,e.lockRef.current))},[]),f=v.useCallback(function(p){u(p.type,ld(p),p.target,a(p,e.lockRef.current))},[]);v.useEffect(function(){return Do.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Mo),document.addEventListener("touchmove",l,Mo),document.addEventListener("touchstart",d,Mo),function(){Do=Do.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Mo),document.removeEventListener("touchmove",l,Mo),document.removeEventListener("touchstart",d,Mo)}},[]);var m=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:UK(s)}):null,m?v.createElement(OK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WK=wK(NR,zK);var Z0=v.forwardRef(function(e,t){return v.createElement(Kf,Ir({},e,{ref:t,sideCar:WK}))});Z0.classNames=Kf.classNames;var HK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lo=new WeakMap,cd=new WeakMap,ud={},Hm=0,DR=function(e){return e&&(e.host||DR(e.parentNode))},GK=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=DR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},KK=function(e,t,n,r){var s=GK(t,Array.isArray(e)?e:[e]);ud[n]||(ud[n]=new WeakMap);var i=ud[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),b=m!==null&&m!=="false",p=(Lo.get(f)||0)+1,S=(i.get(f)||0)+1;Lo.set(f,p),i.set(f,S),o.push(f),p===1&&b&&cd.set(f,!0),S===1&&f.setAttribute(n,"true"),b||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),a.clear(),Hm++,function(){o.forEach(function(h){var f=Lo.get(h)-1,m=i.get(h)-1;Lo.set(h,f),i.set(h,m),f||(cd.has(h)||h.removeAttribute(r),cd.delete(h)),m||h.removeAttribute(n)}),Hm--,Hm||(Lo=new WeakMap,Lo=new WeakMap,cd=new WeakMap,ud={})}},LR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=HK(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),KK(r,s,n,"aria-hidden")):function(){return null}},Jf="Dialog",[$R,FR]=Hn(Jf),[JK,_r]=$R(Jf),VR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=v.useRef(null),l=v.useRef(null),[u,d]=zr({prop:r,defaultProp:s??!1,onChange:i,caller:Jf});return c.jsx(JK,{scope:t,triggerRef:a,contentRef:l,contentId:vr(),titleId:vr(),descriptionId:vr(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};VR.displayName=Jf;var UR="DialogTrigger",BR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(UR,n),i=Ce(t,s.triggerRef);return c.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nx(s.open),...r,ref:i,onClick:oe(e.onClick,s.onOpenToggle)})});BR.displayName=UR;var ex="DialogPortal",[YK,zR]=$R(ex,{forceMount:void 0}),qR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=_r(ex,t);return c.jsx(YK,{scope:t,forceMount:n,children:v.Children.map(r,o=>c.jsx(Gn,{present:n||i.open,children:c.jsx(hf,{asChild:!0,container:s,children:o})}))})};qR.displayName=ex;var Wh="DialogOverlay",WR=v.forwardRef((e,t)=>{const n=zR(Wh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=_r(Wh,e.__scopeDialog);return i.modal?c.jsx(Gn,{present:r||i.open,children:c.jsx(XK,{...s,ref:t})}):null});WR.displayName=Wh;var QK=Da("DialogOverlay.RemoveScroll"),XK=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(Wh,n);return c.jsx(Z0,{as:QK,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(me.div,{"data-state":nx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),fo="DialogContent",HR=v.forwardRef((e,t)=>{const n=zR(fo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=_r(fo,e.__scopeDialog);return c.jsx(Gn,{present:r||i.open,children:i.modal?c.jsx(ZK,{...s,ref:t}):c.jsx(e7,{...s,ref:t})})});HR.displayName=fo;var ZK=v.forwardRef((e,t)=>{const n=_r(fo,e.__scopeDialog),r=v.useRef(null),s=Ce(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return LR(i)},[]),c.jsx(GR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),e7=v.forwardRef((e,t)=>{const n=_r(fo,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return c.jsx(GR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),GR=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=_r(fo,n),l=v.useRef(null),u=Ce(t,l);return AR(),c.jsxs(c.Fragment,{children:[c.jsx(X0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Xc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":nx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(n7,{titleId:a.titleId}),c.jsx(s7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),tx="DialogTitle",KR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(tx,n);return c.jsx(me.h2,{id:s.titleId,...r,ref:t})});KR.displayName=tx;var JR="DialogDescription",YR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(JR,n);return c.jsx(me.p,{id:s.descriptionId,...r,ref:t})});YR.displayName=JR;var QR="DialogClose",XR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=_r(QR,n);return c.jsx(me.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});XR.displayName=QR;function nx(e){return e?"open":"closed"}var ZR="DialogTitleWarning",[t7,eI]=H2(ZR,{contentName:fo,titleName:tx,docsSlug:"dialog"}),n7=({titleId:e})=>{const t=eI(ZR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},r7="DialogDescriptionWarning",s7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eI(r7).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},tI=VR,i7=BR,nI=qR,rx=WR,sx=HR,ix=KR,ox=YR,ax=XR,rI="AlertDialog",[o7,qY]=Hn(rI,[FR]),ws=FR(),sI=e=>{const{__scopeAlertDialog:t,...n}=e,r=ws(t);return c.jsx(tI,{...r,...n,modal:!0})};sI.displayName=rI;var a7="AlertDialogTrigger",l7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return c.jsx(i7,{...s,...r,ref:t})});l7.displayName=a7;var c7="AlertDialogPortal",iI=e=>{const{__scopeAlertDialog:t,...n}=e,r=ws(t);return c.jsx(nI,{...r,...n})};iI.displayName=c7;var u7="AlertDialogOverlay",oI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return c.jsx(rx,{...s,...r,ref:t})});oI.displayName=u7;var wa="AlertDialogContent",[d7,h7]=o7(wa),f7=IT("AlertDialogContent"),aI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=ws(n),o=v.useRef(null),a=Ce(t,o),l=v.useRef(null);return c.jsx(t7,{contentName:wa,titleName:lI,docsSlug:"alert-dialog",children:c.jsx(d7,{scope:n,cancelRef:l,children:c.jsxs(sx,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:oe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(f7,{children:r}),c.jsx(m7,{contentRef:o})]})})})});aI.displayName=wa;var lI="AlertDialogTitle",cI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return c.jsx(ix,{...s,...r,ref:t})});cI.displayName=lI;var uI="AlertDialogDescription",dI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return c.jsx(ox,{...s,...r,ref:t})});dI.displayName=uI;var p7="AlertDialogAction",hI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return c.jsx(ax,{...s,...r,ref:t})});hI.displayName=p7;var fI="AlertDialogCancel",pI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=h7(fI,n),i=ws(n),o=Ce(t,s);return c.jsx(ax,{...i,...r,ref:o})});pI.displayName=fI;var m7=({contentRef:e})=>{const t=`\`${wa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wa}\` by passing a \`${uI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},g7=sI,v7=iI,mI=oI,gI=aI,vI=hI,yI=pI,wI=cI,xI=dI;const y7=g7,w7=v7,bI=v.forwardRef(({className:e,...t},n)=>c.jsx(mI,{className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));bI.displayName=mI.displayName;const SI=v.forwardRef(({className:e,...t},n)=>c.jsxs(w7,{children:[c.jsx(bI,{}),c.jsx(gI,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));SI.displayName=gI.displayName;const _I=({className:e,...t})=>c.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});_I.displayName="AlertDialogHeader";const EI=({className:e,...t})=>c.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});EI.displayName="AlertDialogFooter";const kI=v.forwardRef(({className:e,...t},n)=>c.jsx(wI,{ref:n,className:se("text-lg font-semibold",e),...t}));kI.displayName=wI.displayName;const CI=v.forwardRef(({className:e,...t},n)=>c.jsx(xI,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));CI.displayName=xI.displayName;const TI=v.forwardRef(({className:e,...t},n)=>c.jsx(vI,{ref:n,className:se(Jw(),e),...t}));TI.displayName=vI.displayName;const jI=v.forwardRef(({className:e,...t},n)=>c.jsx(yI,{ref:n,className:se(Jw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));jI.displayName=yI.displayName;const dd=!1;function x7(){const{token:e}=Kw(),[t]=IB(),[n,r]=v.useState("loading"),[s,i]=v.useState(null),[o,a]=v.useState(""),[l,u]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(null),[b,p]=v.useState(null),[S,y]=v.useState(null),[w,x]=v.useState(!1),[_,C]=v.useState(0),[T,j]=v.useState(0),[N,I]=v.useState(0),[R,O]=v.useState(!1),[$,W]=v.useState(!1),[L,J]=v.useState(!1),{toast:Y}=Qc(),Q=v.useRef([]),D=v.useRef(null);v.useEffect(()=>{const de=t.get("mode");de==="voice"&&!dd?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(de==="chat"||de==="voice"&&dd)&&i(de)},[t]),v.useEffect(()=>{async function de(){if(!e){r("invalid"),a("No interview token provided");return}try{const{data:re,error:at}=await ut.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(at){console.error("Failed to validate token:",at),r("invalid"),a("Unable to validate interview link. Please try again.");return}if(re!=null&&re.error){r("invalid"),a(re.error);return}if(!(re!=null&&re.interviewee)){r("invalid"),a("Interview not found");return}u(re.interviewee),h(re.org||null),r("before")}catch(re){console.error("Error loading interview:",re),r("invalid"),a("An unexpected error occurred. Please try again.")}}de()},[e]);const{status:F,transcript:K,isMuted:ie,volumeLevel:te,startCall:g,endCall:k,toggleMute:E,isConnected:P,isSpeaking:A,isListening:M}=wH({onStatusChange:de=>{console.log("Vapi status:",de),de==="connected"||de==="speaking"||de==="listening"?r("during"):de==="ended"?he():de==="error"&&r("error")},onError:de=>{console.error("Vapi error:",de),Y({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:de=>{Q.current=de}});v.useEffect(()=>{let de;return n==="during"&&P&&(de=setInterval(()=>{C(re=>re+1)},1e3)),()=>clearInterval(de)},[n,P]);const U=de=>{const re=Math.floor(de/60).toString().padStart(2,"0"),at=(de%60).toString().padStart(2,"0");return`${re}:${at}`},V=async de=>{if(!(!l||!e)){i(de),r("during"),D.current=Date.now();try{const{data:re,error:at}=await ut.functions.invoke("start-interview",{body:{interviewToken:e}});if(at||!(re!=null&&re.accessToken))throw new Error((re==null?void 0:re.error)||(at==null?void 0:at.message)||"Failed to start interview");m(re.interviewId),p(re.accessToken),re.resumed&&re.transcript&&re.transcript.length>0&&(y(re.transcript),x(!0),console.log("[INFO] Resuming interview with",re.transcript.length,"messages"))}catch(re){console.error("Failed to start interview:",re),Y({title:"Error",description:re instanceof Error?re.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),i(null)}}},q=de=>{Q.current=de},X=()=>{J(!0)},ce=()=>{J(!1),he()},Me=()=>{J(!1),k()},ht=()=>{Y({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},he=async()=>{W(!0);const de=D.current?Math.floor((Date.now()-D.current)/1e3):_;if(C(de),b)try{const{data:re,error:at}=await ut.functions.invoke("complete-interview",{body:{accessToken:b,durationSeconds:de}});(at||re!=null&&re.error)&&(console.error("Failed to complete interview:",at||(re==null?void 0:re.error)),Y({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(re){console.error("Failed to complete interview:",re),Y({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}W(!1),r("after")},_e=async de=>{if(j(de),b)try{await ut.functions.invoke("complete-interview",{body:{accessToken:b,rating:de}})}catch(re){console.error("Failed to save rating:",re)}},qe=()=>{window.close()},gt=()=>{r("before"),C(0)};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:c.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:c.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(al,{}),!1]})]})}),c.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:c.jsxs(Ba,{mode:"wait",children:[n==="loading"&&c.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[c.jsx(St,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:c.jsx(Oe,{className:"border-0 shadow-lg",children:c.jsxs(Ie,{className:"p-8",children:[c.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:c.jsx(La,{className:"h-10 w-10 text-destructive"})}),c.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),c.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&l&&c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:c.jsx(Oe,{className:"border-0 shadow-lg",children:c.jsxs(Ie,{className:"p-8",children:[c.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-accent/10",children:c.jsx(Yi,{className:"h-10 w-10 text-accent"})}),c.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),c.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),c.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),c.jsx("p",{className:"font-semibold text-foreground",children:l.name}),l.role&&c.jsx("p",{className:"text-sm text-muted-foreground",children:l.role}),d&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.name})]}),c.jsxs("div",{className:"space-y-3",children:[dd,c.jsxs(ue,{size:"lg",variant:"default",onClick:()=>V("chat"),className:"w-full gap-2",children:[c.jsx(ph,{className:"h-5 w-5"}),"Text Chat"]})]}),c.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"Type your responses or use voice-to-text in your browser."}),c.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="during"&&s==="voice"&&c.jsx(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"relative mb-8 inline-block",children:[P&&c.jsxs(c.Fragment,{children:[c.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),c.jsx(Se.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),c.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${F==="connecting"?"bg-muted animate-pulse":A?"bg-accent":M?"bg-primary":"bg-muted"}`,children:ie?c.jsx(Ub,{className:"h-12 w-12 text-white"}):c.jsx(Yi,{className:"h-12 w-12 text-white"})})]}),c.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:F==="connecting"?"Connecting...":A?"AI Speaking...":M?"Listening...":"Connected"}),c.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:U(_)}),P&&c.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((de,re)=>c.jsx(Se.div,{className:`w-1 rounded-full ${re<Math.floor(te*10)?"bg-accent":"bg-muted"}`,animate:{height:M?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:re*.05}},re))}),c.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[c.jsxs(ue,{variant:"outline",size:"lg",onClick:E,className:"gap-2",children:[ie?c.jsx(Ub,{className:"h-5 w-5"}):c.jsx(cj,{className:"h-5 w-5"}),ie?"Unmute":"Mute"]}),c.jsxs(ue,{variant:"outline",size:"lg",onClick:ht,className:"gap-2",children:[c.jsx(Bb,{className:"h-5 w-5"}),"Pause & Save"]}),c.jsx(ue,{variant:"outline",size:"lg",onClick:X,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),c.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>O(!R),className:"mb-4",children:[R?"Hide":"Show"," Live Transcript"]}),c.jsx(Ba,{children:R&&K.length>0&&c.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:c.jsx(Oe,{className:"mx-auto max-w-xl",children:c.jsx(Mf,{className:"h-48 p-4",children:c.jsx("div",{className:"space-y-3",children:K.map((de,re)=>c.jsxs("div",{className:`text-sm ${de.role==="assistant"?"text-accent":"text-foreground"}`,children:[c.jsx("span",{className:"font-medium",children:de.role==="assistant"?"AI: ":"You: "}),de.content]},re))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&c.jsx(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:c.jsxs(Oe,{className:"h-full border-0 shadow-lg overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ph,{className:"h-5 w-5 text-accent"}),c.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ue,{variant:"outline",size:"sm",onClick:ht,className:"gap-1",children:[c.jsx(Bb,{className:"h-4 w-4"}),"Pause & Save"]}),c.jsx(ue,{variant:"outline",size:"sm",onClick:X,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),c.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:c.jsx(rK,{intervieweeName:l==null?void 0:l.name,accessToken:b,initialMessages:S||void 0,onTranscriptUpdate:q,onEnd:ce})})]})},"during-chat"),n==="after"&&c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:c.jsx(Oe,{className:"border-0 shadow-lg",children:c.jsx(Ie,{className:"p-8",children:$?c.jsxs(c.Fragment,{children:[c.jsx(St,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:c.jsx(kw,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),c.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),c.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),c.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",U(_)]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),c.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(de=>c.jsx("button",{onClick:()=>_e(de),onMouseEnter:()=>I(de),onMouseLeave:()=>I(0),className:"transition-transform hover:scale-110",children:c.jsx(Z$,{className:`h-8 w-8 transition-colors ${de<=(N||T)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},de))}),T>0&&c.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),c.jsx(ue,{size:"lg",onClick:qe,className:"w-full",children:"Close"})]})})})},"after"),n==="error"&&c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:c.jsx(Oe,{className:"border-0 shadow-lg",children:c.jsxs(Ie,{className:"p-8",children:[c.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:c.jsx(La,{className:"h-10 w-10 text-destructive"})}),c.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),c.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),c.jsx(ue,{size:"lg",onClick:gt,className:"w-full",children:"Try Again"})]})})},"error")]})}),c.jsx(y7,{open:L,onOpenChange:J,children:c.jsxs(SI,{children:[c.jsxs(_I,{children:[c.jsx(kI,{children:"Complete Interview?"}),c.jsxs(CI,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",c.jsx("br",{}),c.jsx("br",{}),"If you need to take a break, use ",c.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),c.jsxs(EI,{children:[c.jsx(jI,{children:"Cancel"}),c.jsx(TI,{onClick:s==="voice"?Me:ce,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})})]})}const b7=mf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _t({className:e,variant:t,...n}){return c.jsx("div",{className:se(b7({variant:t}),e),...n})}var Yf="Collapsible",[S7,AI]=Hn(Yf),[_7,lx]=S7(Yf),PI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,u]=zr({prop:r,defaultProp:s??!1,onChange:o,caller:Yf});return c.jsx(_7,{scope:n,disabled:i,contentId:vr(),open:l,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:c.jsx(me.div,{"data-state":ux(l),"data-disabled":i?"":void 0,...a,ref:t})})});PI.displayName=Yf;var NI="CollapsibleTrigger",OI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=lx(NI,n);return c.jsx(me.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":ux(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:oe(e.onClick,s.onOpenToggle)})});OI.displayName=NI;var cx="CollapsibleContent",RI=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=lx(cx,e.__scopeCollapsible);return c.jsx(Gn,{present:n||s.open,children:({present:i})=>c.jsx(E7,{...r,ref:t,present:i})})});RI.displayName=cx;var E7=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=lx(cx,n),[a,l]=v.useState(r),u=v.useRef(null),d=Ce(t,u),h=v.useRef(0),f=h.current,m=v.useRef(0),b=m.current,p=o.open||a,S=v.useRef(p),y=v.useRef(void 0);return v.useEffect(()=>{const w=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(w)},[]),Et(()=>{const w=u.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const x=w.getBoundingClientRect();h.current=x.height,m.current=x.width,S.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),l(r)}},[o.open,r]),c.jsx(me.div,{"data-state":ux(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function ux(e){return e?"open":"closed"}var k7=PI,C7=OI,T7=RI,Er="Accordion",j7=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[dx,A7,P7]=df(Er),[Qf,WY]=Hn(Er,[P7,AI]),hx=AI(),II=H.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return c.jsx(dx.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?c.jsx(I7,{...i,ref:t}):c.jsx(R7,{...s,ref:t})})});II.displayName=Er;var[MI,N7]=Qf(Er),[DI,O7]=Qf(Er,{collapsible:!1}),R7=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=zr({prop:n,defaultProp:r??"",onChange:s,caller:Er});return c.jsx(MI,{scope:e.__scopeAccordion,value:H.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:H.useCallback(()=>i&&l(""),[i,l]),children:c.jsx(DI,{scope:e.__scopeAccordion,collapsible:i,children:c.jsx(LI,{...o,ref:t})})})}),I7=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=zr({prop:n,defaultProp:r??[],onChange:s,caller:Er}),l=H.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=H.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return c.jsx(MI,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:u,children:c.jsx(DI,{scope:e.__scopeAccordion,collapsible:!0,children:c.jsx(LI,{...i,ref:t})})})}),[M7,Xf]=Qf(Er),LI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=H.useRef(null),l=Ce(a,t),u=A7(n),h=ou(s)==="ltr",f=oe(e.onKeyDown,m=>{var N;if(!j7.includes(m.key))return;const b=m.target,p=u().filter(I=>{var R;return!((R=I.ref.current)!=null&&R.disabled)}),S=p.findIndex(I=>I.ref.current===b),y=p.length;if(S===-1)return;m.preventDefault();let w=S;const x=0,_=y-1,C=()=>{w=S+1,w>_&&(w=x)},T=()=>{w=S-1,w<x&&(w=_)};switch(m.key){case"Home":w=x;break;case"End":w=_;break;case"ArrowRight":i==="horizontal"&&(h?C():T());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(h?T():C());break;case"ArrowUp":i==="vertical"&&T();break}const j=w%y;(N=p[j].ref.current)==null||N.focus()});return c.jsx(M7,{scope:n,disabled:r,direction:s,orientation:i,children:c.jsx(dx.Slot,{scope:n,children:c.jsx(me.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),Hh="AccordionItem",[D7,fx]=Qf(Hh),$I=H.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Xf(Hh,n),o=N7(Hh,n),a=hx(n),l=vr(),u=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return c.jsx(D7,{scope:n,open:u,disabled:d,triggerId:l,children:c.jsx(k7,{"data-orientation":i.orientation,"data-state":qI(u),...a,...s,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});$I.displayName=Hh;var FI="AccordionHeader",VI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Xf(Er,n),i=fx(FI,n);return c.jsx(me.h3,{"data-orientation":s.orientation,"data-state":qI(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});VI.displayName=FI;var vy="AccordionTrigger",UI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Xf(Er,n),i=fx(vy,n),o=O7(vy,n),a=hx(n);return c.jsx(dx.ItemSlot,{scope:n,children:c.jsx(C7,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});UI.displayName=vy;var BI="AccordionContent",zI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Xf(Er,n),i=fx(BI,n),o=hx(n);return c.jsx(T7,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});zI.displayName=BI;function qI(e){return e?"open":"closed"}var L7=II,$7=$I,F7=VI,WI=UI,HI=zI;const px=L7,Zf=v.forwardRef(({className:e,...t},n)=>c.jsx($7,{ref:n,className:se("border-b",e),...t}));Zf.displayName="AccordionItem";const ep=v.forwardRef(({className:e,children:t,...n},r)=>c.jsx(F7,{className:"flex",children:c.jsxs(WI,{ref:r,className:se("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,c.jsx(Ew,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ep.displayName=WI.displayName;const tp=v.forwardRef(({className:e,children:t,...n},r)=>c.jsx(HI,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:se("pb-4 pt-0",e),children:t})}));tp.displayName=HI.displayName;function V7({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return c.jsxs(_t,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function U7({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return c.jsxs(_t,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function B7({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return c.jsx(_t,{variant:"secondary",children:t[e]||e})}function z7(){const{token:e}=Kw(),[t,n]=v.useState("loading"),[r,s]=v.useState(""),[i,o]=v.useState(null);return v.useEffect(()=>{async function a(){if(!e){n("error"),s("No results token provided");return}try{const{data:l,error:u}=await ut.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(u){n("error"),s("Unable to load results. Please try again.");return}if(l!=null&&l.error){l.error.includes("still being generated")?n("pending"):(n("error"),s(l.error));return}o(l),n("success")}catch(l){console.error("Error loading results:",l),n("error"),s("An unexpected error occurred. Please try again.")}}a()},[e]),c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:c.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[c.jsxs(et,{to:"/",className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:c.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),c.jsx(al,{})]})}),c.jsxs("main",{className:"container py-8",children:[t==="loading"&&c.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(St,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&c.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:c.jsx(Oe,{className:"max-w-md text-center",children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx(hh,{className:"mx-auto mb-4 h-12 w-12 text-accent"}),c.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),c.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&c.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:c.jsx(Oe,{className:"max-w-md text-center",children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx(La,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),c.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),c.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&c.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Your Discovery Insights"}),c.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Personalised for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:i.org.name})]}),i.analysis.executiveSummary&&c.jsxs(Oe,{className:"border-accent/50 bg-accent/5",children:[c.jsx(rn,{children:c.jsxs(sn,{className:"flex items-center gap-2",children:[c.jsx(mh,{className:"h-5 w-5 text-accent"}),"Executive Summary"]})}),c.jsx(Ie,{children:c.jsx("p",{className:"text-foreground leading-relaxed",children:i.analysis.executiveSummary})})]}),i.analysis.automationOpportunities.length>0&&c.jsxs("section",{children:[c.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[c.jsx(lj,{className:"h-6 w-6 text-accent"}),c.jsx("h2",{className:"text-2xl font-semibold",children:"Opportunities For You"})]}),c.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.analysis.automationOpportunities.map((a,l)=>c.jsxs(Oe,{className:"relative overflow-hidden",children:[c.jsxs(rn,{className:"pb-2",children:[c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(B7,{category:a.category}),c.jsx(V7,{level:a.confidence}),c.jsx(U7,{level:a.estimated_impact})]}),c.jsx(sn,{className:"mt-2 text-lg",children:a.title})]}),c.jsxs(Ie,{className:"space-y-3",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),a.affected_workflows.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),c.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:a.affected_workflows.map((u,d)=>c.jsx(_t,{variant:"outline",className:"text-xs",children:u},d))})]}),a.prerequisites.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),c.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:a.prerequisites.slice(0,3).map((u,d)=>c.jsx("li",{children:u},d))})]})]})]},l))})]}),i.analysis.workflows.length>0&&c.jsxs("section",{children:[c.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[c.jsx(uj,{className:"h-6 w-6 text-accent"}),c.jsx("h2",{className:"text-2xl font-semibold",children:"Your Workflows"})]}),c.jsx(px,{type:"multiple",className:"space-y-2",children:i.analysis.workflows.map((a,l)=>{var u,d,h,f,m,b,p,S;return c.jsxs(Zf,{value:`workflow-${l}`,className:"rounded-lg border bg-card",children:[c.jsx(ep,{className:"px-4 hover:no-underline",children:c.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-medium",children:a.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:a.owner})]}),c.jsx(_t,{variant:"outline",children:a.frequency})]})}),c.jsx(tp,{className:"px-4 pb-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:a.description}),a.estimated_time&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(hh,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{children:["Estimated time: ",a.estimated_time]})]}),c.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[c.jsx("p",{className:"mb-3 text-sm font-medium",children:"SIMPLE Breakdown"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((u=a.components.triggers)==null?void 0:u.length)>0&&c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Signal (Triggers)"}),c.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.triggers.map((y,w)=>c.jsx("li",{children:y},w))})]}),((d=a.components.inputs)==null?void 0:d.length)>0&&c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),c.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.inputs.map((y,w)=>c.jsx("li",{children:y},w))})]}),((h=a.components.transformations)==null?void 0:h.length)>0&&c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Make (Work Done)"}),c.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.transformations.map((y,w)=>c.jsx("li",{children:y},w))})]}),((f=a.components.decisions)==null?void 0:f.length)>0&&c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Pick (Decisions)"}),c.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.decisions.map((y,w)=>c.jsx("li",{children:y},w))})]}),((m=a.components.outputs)==null?void 0:m.length)>0&&c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Land (Outputs)"}),c.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.outputs.map((y,w)=>c.jsx("li",{children:y},w))})]}),((b=a.components.checks)==null?void 0:b.length)>0&&c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Examine (Quality Checks)"}),c.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.checks.map((y,w)=>c.jsx("li",{children:y},w))})]})]})]}),((p=a.systems_used)==null?void 0:p.length)>0&&c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:a.systems_used.map((y,w)=>c.jsx(_t,{variant:"secondary",className:"text-xs",children:y},w))})]}),((S=a.pain_points)==null?void 0:S.length)>0&&c.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[c.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),c.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:a.pain_points.map((y,w)=>c.jsx("li",{children:y},w))})]})]})})]},l)})})]}),c.jsx(Oe,{className:"border-accent bg-gradient-to-r from-accent/10 to-accent/5",children:c.jsxs(Ie,{className:"flex flex-col items-center py-8 text-center",children:[c.jsx(jw,{className:"mb-4 h-12 w-12 text-accent"}),c.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),c.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),c.jsx(ue,{size:"lg",className:"gap-2",asChild:!0,children:c.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[c.jsx(eu,{className:"h-5 w-5"}),"Contact AgentFlow",c.jsx(_c,{className:"h-4 w-4"})]})})]})}),c.jsx("div",{className:"text-center text-sm text-muted-foreground",children:c.jsxs("p",{children:["Analysis generated on"," ",new Date(i.analysis.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})]})]})}function mx({children:e,title:t,lastUpdated:n}){return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:c.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[c.jsxs(et,{to:"/",className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:c.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),c.jsx(al,{})]})}),c.jsx("main",{className:"container max-w-3xl pb-16 pt-24",children:c.jsxs("article",{className:"prose prose-slate dark:prose-invert max-w-none",children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:t}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",n]}),c.jsx("hr",{className:"my-6"}),e]})}),c.jsx("footer",{className:"border-t py-8",children:c.jsxs("div",{className:"container max-w-3xl",children:[c.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[c.jsx(et,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),c.jsx("span",{className:"text-muted-foreground/50",children:"|"}),c.jsx(et,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),c.jsx("span",{className:"text-muted-foreground/50",children:"|"}),c.jsx(et,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),c.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Contact: ",c.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"hover:text-foreground transition-colors",children:"hamish@goagentflow.com"})]}),c.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})})]})}function q7(){return c.jsxs(mx,{title:"Privacy Notice - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Who we are"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd provides the AgentFlow Discovery Tool. If you are an interviewee, your organisation is the controller of your interview data and AgentFlow Ltd acts as its processor. The admin portal is for AgentFlow staff only; clients do not receive admin access unless separately agreed."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Contact"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["Privacy contact: ",c.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"If you are an interviewee"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation determines the lawful basis for processing your interview data. AgentFlow Ltd processes your data only on your organisation's instructions. To exercise your rights, contact your organisation or the person who invited you to take part. If you contact AgentFlow Ltd, we will route your request to your organisation."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"What we collect"}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Identity and work details:"})," name, work email, role, organisation/project identifiers."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Interview responses:"})," text responses, timestamps, and ratings you choose to provide."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Audio data if voice mode is enabled:"})," recordings and transcripts."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Analysis outputs:"})," generated from interviews."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Technical and security data:"})," IP address, device/browser details, access logs."]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"How we use your data and lawful bases"}),c.jsx("p",{className:"text-muted-foreground mb-2",children:c.jsx("strong",{children:"Interviewees (on behalf of your organisation):"})}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsx("li",{children:"Provide the interview experience and generate analysis outputs."}),c.jsx("li",{children:"Maintain the security and integrity of the service."})]}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation typically relies on legitimate interests or performance of a contract (such as an employment or contractor relationship). If audio recording is enabled, we will request your explicit consent before capturing audio."}),c.jsx("p",{className:"text-muted-foreground mb-2",children:c.jsx("strong",{children:"AgentFlow staff (internal users):"})}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsx("li",{children:"Create and manage projects and interviewees (employment or contractor relationship)."}),c.jsx("li",{children:"Provide support and maintain service security (legitimate interests)."}),c.jsx("li",{children:"Meet legal obligations (legal obligation)."})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"AI processing and automated decisions"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"We use AI to analyse interview responses and generate summaries and recommendations. Outputs are advisory and are not used for solely automated decision-making."}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not use your data to train AI models. Our sub-processors are contractually prohibited from using your data for model training, and we have implemented technical controls to enforce this (e.g., opt-out parameters on speech-to-text APIs)."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Sharing and sub-processors"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["We use trusted service providers to host and operate the service. A current list is available at:"," ",c.jsx(et,{to:"/subprocessors",className:"text-accent hover:underline",children:"Sub-processors"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"International transfers"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Some service providers are outside the UK. We use UK-approved safeguards (UK IDTA or UK Addendum to SCCs) and conduct transfer impact assessments where required."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Retention"}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsx("li",{children:"Interview data and analysis outputs: 12 months."}),c.jsx("li",{children:"Results links: 30 days."}),c.jsx("li",{children:"Interview links: 7 days."}),c.jsx("li",{children:"Security and audit logs: 12 months."}),c.jsx("li",{children:"Backups: 30 days."})]}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"After these periods, data is deleted or anonymised."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Security"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"We apply appropriate technical and organisational measures to protect personal data, including access controls, encryption in transit, and logging."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Your rights"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["You have rights to access, correct, erase, restrict, object, and port your data. Interviewees should contact their organisation or the person who invited them. AgentFlow staff should use internal HR/contact channels or email ",c.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"}),"."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Complaints"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["You may complain to the UK Information Commissioner's Office (ICO):"," ",c.jsx("a",{href:"https://ico.org.uk/",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"https://ico.org.uk/"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Children"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"This service is intended for adults in a professional context and is not designed for use by children."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Changes"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"We may update this notice from time to time. The latest version will be published at this URL."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Cookies"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"We use essential cookies or local storage needed to run the service (such as authentication and security). If we add non-essential analytics, we will request consent where required."})]})]})}function W7(){return c.jsxs(mx,{title:"Terms of Service - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"1. About these Terms"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:'These Terms govern access to and use of the AgentFlow Discovery Tool (the "Service") by the business or organisation that purchases or uses the Service (the "Client"). If you are an interviewee, you are not a party to these Terms; your participation is governed by your organisation. The admin portal is for AgentFlow staff only and is not made available to clients unless separately agreed.'})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"2. Definitions"}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:'"Client Data"'})," means information submitted to or collected by the Service on behalf of the Client, including interview responses and analysis outputs."]}),c.jsxs("li",{children:[c.jsx("strong",{children:'"Interviewee"'})," means a person invited by the Client to participate in an interview."]}),c.jsxs("li",{children:[c.jsx("strong",{children:'"Order Form"'})," means the document or agreement describing pricing and scope, if applicable."]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"3. The Service"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"The Service provides AI-assisted interviews and analysis to help clients identify workflow and automation opportunities. The Service may be in beta and features may change or be discontinued."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"4. Client responsibilities"}),c.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client will:"}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsx("li",{children:"Ensure it has the right to provide Client Data and to ask Interviewees to participate."}),c.jsx("li",{children:"Provide required privacy notices to Interviewees."}),c.jsx("li",{children:"Use the Service in compliance with applicable laws."}),c.jsx("li",{children:"Ensure Interviewees do not submit special category data unless explicitly agreed in writing."}),c.jsx("li",{children:"Not attempt to access the admin portal and ensure only Interviewees access the interview interface."})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"5. Acceptable use"}),c.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client and Interviewees must not:"}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsx("li",{children:"Use the Service for unlawful purposes."}),c.jsx("li",{children:"Provide sensitive personal data (health, union membership, criminal records, financial account numbers) unless agreed in writing."}),c.jsx("li",{children:"Attempt to reverse engineer or interfere with the Service."})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"6. Data protection"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["The parties will enter into a data processing agreement (DPA) consistent with UK GDPR Article 28. AgentFlow Ltd processes Client Data only on the Client's instructions. The Client is the controller of Client Data; AgentFlow Ltd is the processor. The Privacy Notice is available at"," ",c.jsx(et,{to:"/privacy",className:"text-accent hover:underline",children:"Privacy Policy"}),"."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"7. AI outputs and no reliance"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"AI-generated outputs are provided for informational purposes only. The Client is responsible for verifying outputs and for any decisions made using the outputs. Outputs must not be used as the sole basis for employment or other decisions affecting individuals."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"8. Security"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd applies reasonable technical and organisational measures to protect the Service and Client Data. No method of transmission or storage is completely secure; the Client acknowledges this risk."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"9. Fees and payment"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Fees, if any, are set out in the Order Form. Unless otherwise stated, fees are non-refundable."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"10. Intellectual property"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd retains all rights in the Service. The Client retains ownership of Client Data. AgentFlow Ltd may use aggregated and anonymised data for service improvement and analytics."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"11. Confidentiality"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Each party will protect the other party's confidential information using reasonable care and will use it only for the purposes of the Service."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"12. Warranties and disclaimers"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:'The Service is provided "as is." To the extent permitted by law, AgentFlow Ltd disclaims all warranties, including fitness for a particular purpose and non-infringement.'})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"13. Limitation of liability"}),c.jsx("p",{className:"text-muted-foreground mb-2",children:"To the extent permitted by law:"}),c.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[c.jsx("li",{children:"Neither party is liable for indirect, incidental, or consequential damages."}),c.jsx("li",{children:"AgentFlow Ltd's total liability arising from the Service is limited to the fees paid by the Client in the 12 months before the event giving rise to the claim."})]}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Nothing limits liability for death or personal injury caused by negligence, fraud, or other liability that cannot be excluded by law."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"14. Indemnity"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"The Client will indemnify AgentFlow Ltd against claims arising from Client Data, Client instructions, or use of the Service in violation of these Terms."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"15. Term and termination"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms start when the Client first uses the Service and continue until terminated. Either party may terminate for material breach with 30 days' notice if the breach is not remedied. On termination, AgentFlow Ltd will delete or return Client Data in accordance with the DPA."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"16. Changes"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd may update these Terms by posting a new version at this URL."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"17. Governing law"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms are governed by the laws of England and Wales. The courts of England and Wales have exclusive jurisdiction."})]})]})}const np=v.forwardRef(({className:e,...t},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));np.displayName="Table";const rp=v.forwardRef(({className:e,...t},n)=>c.jsx("thead",{ref:n,className:se("[&_tr]:border-b",e),...t}));rp.displayName="TableHeader";const sp=v.forwardRef(({className:e,...t},n)=>c.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));sp.displayName="TableBody";const H7=v.forwardRef(({className:e,...t},n)=>c.jsx("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));H7.displayName="TableFooter";const po=v.forwardRef(({className:e,...t},n)=>c.jsx("tr",{ref:n,className:se("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));po.displayName="TableRow";const Rt=v.forwardRef(({className:e,...t},n)=>c.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Rt.displayName="TableHead";const It=v.forwardRef(({className:e,...t},n)=>c.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));It.displayName="TableCell";const G7=v.forwardRef(({className:e,...t},n)=>c.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));G7.displayName="TableCaption";const K7=[{provider:"Supabase",purpose:"Hosting, database, auth, edge functions",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (database)"},{provider:"Anthropic",purpose:"AI model processing",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (commercial API terms)"},{provider:"Deepgram",purpose:"Speech-to-text (if enabled)",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (mip_opt_out=true)"},{provider:"Resend",purpose:"Transactional email",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (email)"},{provider:"Google Cloud (Cloud Run)",purpose:"App hosting",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (infrastructure)"}];function J7(){return c.jsxs(mx,{title:"Sub-processor List - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[c.jsxs("section",{children:[c.jsx("p",{className:"text-muted-foreground mb-6",children:"The following third-party service providers are used to host and operate the AgentFlow Discovery Tool. We have appropriate data processing agreements in place with each provider."}),c.jsx("div",{className:"overflow-x-auto rounded-lg border",children:c.jsxs(np,{children:[c.jsx(rp,{children:c.jsxs(po,{children:[c.jsx(Rt,{className:"font-semibold",children:"Provider"}),c.jsx(Rt,{className:"font-semibold",children:"Purpose"}),c.jsx(Rt,{className:"font-semibold",children:"Data Location"}),c.jsx(Rt,{className:"font-semibold",children:"Safeguards"}),c.jsx(Rt,{className:"font-semibold",children:"Training Excluded"})]})}),c.jsx(sp,{children:K7.map(e=>c.jsxs(po,{children:[c.jsx(It,{className:"font-medium",children:e.provider}),c.jsx(It,{children:e.purpose}),c.jsx(It,{children:e.location}),c.jsx(It,{children:e.safeguards}),c.jsx(It,{children:e.trainingExcluded.startsWith("Yes")?c.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[c.jsx(kw,{className:"h-4 w-4"}),e.trainingExcluded]}):e.trainingExcluded})]},e.provider))})]})})]}),c.jsxs("section",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"AI Model Training Policy"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not permit our sub-processors to use your data for AI model training. Where applicable, we have implemented technical opt-outs (e.g., Deepgram's Model Improvement Program opt-out) and rely on contractual terms (e.g., Anthropic's commercial API terms) to enforce this."})]}),c.jsxs("section",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Changes to this list"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"We will notify clients of material changes to this list in advance where required by contract."})]})]})}const GI=["hamish@goagentflow.com","stephen@goagentflow.com"],KI=v.createContext(void 0);function Y7({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0),a=t!=null&&t.email?GI.includes(t.email.toLowerCase()):!1;v.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await ut.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:d}}=ut.auth.onAuthStateChange(async(h,f)=>{console.log("[Auth] State change:",h),s(f),n((f==null?void 0:f.user)??null),o(!1)});return()=>{d.unsubscribe()}},[]);const l=async()=>{try{await ut.auth.signOut(),n(null),s(null)}catch(u){throw console.error("Error signing out:",u),u}};return c.jsx(KI.Provider,{value:{user:t,session:r,isAdmin:a,loading:i,signOut:l},children:e})}function gx(){const e=v.useContext(KI);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function yy(e){return GI.includes(e.toLowerCase())}function Q7(){const[e,t]=v.useState(""),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[o,a]=v.useState(null),l=xo(),{user:u,isAdmin:d,loading:h}=gx();v.useEffect(()=>{!h&&u&&d&&l("/admin/dashboard",{replace:!0})},[u,d,h,l]);const f=async m=>{if(m.preventDefault(),a(null),i(!0),!yy(e)){a("This email is not authorized for admin access."),i(!1);return}try{const{error:b}=await ut.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/discovery/admin/auth/callback`}});if(b)throw b;r(!0)}catch(b){console.error("Error sending magic link:",b),a(b instanceof Error?b.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:c.jsx(St,{className:"h-8 w-8 animate-spin text-accent"})}):c.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[c.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[c.jsxs(et,{to:"/",className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:c.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),c.jsx("span",{className:"text-lg font-semibold",children:"AgentFlow"})]}),c.jsx(al,{})]}),c.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:c.jsxs(Oe,{className:"w-full max-w-md",children:[c.jsxs(rn,{className:"text-center",children:[c.jsx(sn,{children:"Admin Login"}),c.jsx(Ur,{children:"Sign in with your email to access the dashboard"})]}),c.jsx(Ie,{children:c.jsx(Ba,{mode:"wait",children:n?c.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[c.jsx(kw,{className:"mx-auto mb-4 h-12 w-12 text-green-500"}),c.jsx("p",{className:"font-medium",children:"Check your email!"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),c.jsx(ue,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):c.jsxs(Se.form,{exit:{opacity:0},onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(eu,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(mn,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:m=>{t(m.target.value),a(null)},className:"pl-9",required:!0,disabled:s})]}),o&&c.jsxs(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[c.jsx(La,{className:"h-4 w-4 flex-shrink-0"}),c.jsx("span",{children:o})]}),c.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?c.jsxs(c.Fragment,{children:[c.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})})]})}function X7(){const[e,t]=v.useState(null),n=xo();return v.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:a}=await ut.auth.getSession();if(a)throw a;if(!o){const{error:l}=await ut.auth.exchangeCodeForSession(window.location.href);if(l)throw l;const{data:{session:u},error:d}=await ut.auth.getSession();if(d||!u)throw new Error("Failed to establish session");if(!((s=u.user)!=null&&s.email)||!yy(u.user.email))throw await ut.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!yy(o.user.email))throw await ut.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:c.jsx(Oe,{className:"max-w-md",children:c.jsxs(Ie,{className:"pt-6 text-center",children:[c.jsx(La,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),c.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),c.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),c.jsx(ue,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center",children:[c.jsx(St,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),c.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}function xa({icon:e,label:t,value:n,className:r,iconClassName:s}){return c.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:c.jsx(Oe,{className:se("transition-shadow duration-200 hover:shadow-md",r),children:c.jsxs(Ie,{className:"flex items-center gap-4 p-6",children:[c.jsx("div",{className:se("flex h-12 w-12 items-center justify-center rounded-lg bg-accent/10",s),children:c.jsx(e,{className:"h-6 w-6 text-accent"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const dl=tI,Z7=nI,JI=v.forwardRef(({className:e,...t},n)=>c.jsx(rx,{ref:n,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));JI.displayName=rx.displayName;const _o=v.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(Z7,{children:[c.jsx(JI,{}),c.jsxs(sx,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(ax,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(Tw,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_o.displayName=sx.displayName;const hl=({className:e,...t})=>c.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hl.displayName="DialogHeader";const du=({className:e,...t})=>c.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});du.displayName="DialogFooter";const fl=v.forwardRef(({className:e,...t},n)=>c.jsx(ix,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));fl.displayName=ix.displayName;const ip=v.forwardRef(({className:e,...t},n)=>c.jsx(ox,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));ip.displayName=ox.displayName;const eJ=[{id:"1",speaker:"agent",content:"That's really helpful context about your reporting process. Can you tell me more about what triggers this workflow? How do you know it's time to generate these reports?",timestamp:"18:15"},{id:"2",speaker:"interviewee",content:"Usually it's a Slack message from my manager, or sometimes an email from the executive team. There's no set schedule really, it's quite ad-hoc which is part of the problem.",timestamp:"18:32"},{id:"3",speaker:"agent",content:"I see. So the trigger is essentially a request from stakeholders rather than a scheduled task. And when you receive that request, what's the first thing you do?",timestamp:"18:45"}];function tJ({open:e,onClose:t,conversationId:n,intervieweeName:r,clientName:s,role:i}){const[o,a]=v.useState(!1),[l,u]=v.useState(eJ),[d,h]=v.useState("interviewee"),[f,m]=v.useState("18:52");return v.useEffect(()=>{if(!e)return;const b=setInterval(()=>{m(p=>{const[S,y]=p.split(":").map(Number),w=S*60+y+1,x=Math.floor(w/60).toString().padStart(2,"0"),_=(w%60).toString().padStart(2,"0");return`${x}:${_}`}),Math.random()>.7&&h(p=>p==="agent"?"interviewee":"agent")},1e3);return()=>clearInterval(b)},[e]),c.jsx(dl,{open:e,onOpenChange:b=>!b&&t(),children:c.jsxs(_o,{className:"max-w-2xl",children:[c.jsx(hl,{children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent/10",children:c.jsx(z$,{className:"h-5 w-5 text-accent"})}),c.jsxs("div",{children:[c.jsxs(fl,{className:"flex items-center gap-2",children:["Listening to Interview",c.jsx(_t,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 animate-pulse",children:"LIVE"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"  ",s,"  ",i]})]})]})})}),c.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?c.jsx(Yi,{className:"h-4 w-4 text-white"}):c.jsx(Cd,{className:"h-4 w-4 text-white"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:d==="agent"?"AI Agent":r}),c.jsx("p",{className:"text-xs text-muted-foreground",children:d==="agent"?"Speaking":"Responding"})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx(hh,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"font-mono",children:f})]})]}),c.jsx(ue,{variant:"outline",size:"sm",onClick:()=>a(!o),className:"gap-2",children:o?c.jsxs(c.Fragment,{children:[c.jsx(nF,{className:"h-4 w-4"}),"Unmute"]}):c.jsxs(c.Fragment,{children:[c.jsx(cj,{className:"h-4 w-4"}),"Mute"]})})]}),c.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:[...Array(20)].map((b,p)=>c.jsx(Se.div,{className:`w-1 rounded-full ${o?"bg-muted-foreground/30":"bg-accent"}`,animate:{height:o?8:[8,Math.random()*32+8,8]},transition:{duration:.5,repeat:1/0,delay:p*.05}},p))}),c.jsxs("div",{className:"rounded-lg border",children:[c.jsx("div",{className:"border-b bg-muted/50 px-4 py-2",children:c.jsx("p",{className:"text-sm font-medium",children:"Live Transcript"})}),c.jsx(Mf,{className:"h-[250px]",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx(Ba,{children:l.map((b,p)=>c.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${b.speaker==="agent"?"":"flex-row-reverse"}`,children:[c.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${b.speaker==="agent"?"bg-accent":"bg-primary"}`,children:b.speaker==="agent"?c.jsx(Yi,{className:"h-4 w-4 text-white"}):c.jsx(Cd,{className:"h-4 w-4 text-white"})}),c.jsxs("div",{className:`flex-1 ${b.speaker==="agent"?"":"text-right"}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-xs font-medium",children:b.speaker==="agent"?"AI Agent":r}),c.jsx("span",{className:"text-xs text-muted-foreground",children:b.timestamp})]}),c.jsx("p",{className:`text-sm rounded-lg p-3 ${b.speaker==="agent"?"bg-accent/10 text-foreground":"bg-muted text-foreground"}`,children:b.content})]})]},b.id))}),c.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},className:`flex gap-3 ${d==="agent"?"":"flex-row-reverse"}`,children:[c.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?c.jsx(Yi,{className:"h-4 w-4 text-white"}):c.jsx(Cd,{className:"h-4 w-4 text-white"})}),c.jsx("div",{className:`flex-1 ${d==="agent"?"":"text-right"}`,children:c.jsxs("div",{className:`inline-flex items-center gap-1 rounded-lg p-3 ${d==="agent"?"bg-accent/10":"bg-muted"}`,children:[c.jsx(Se.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0},className:"h-2 w-2 rounded-full bg-current"}),c.jsx(Se.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.2},className:"h-2 w-2 rounded-full bg-current"}),c.jsx(Se.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.4},className:"h-2 w-2 rounded-full bg-current"})]})})]})]})})]}),c.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You are observing this conversation in listen-only mode. The interviewee is not aware you are listening."})]})})}function nJ(){const[e,t]=v.useState(!0),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState({totalProjects:0,activeInterviews:0,completedInterviews:0}),[l,u]=v.useState(null),[d,h]=v.useState(!1);v.useEffect(()=>{f()},[]);async function f(){t(!0);const{data:b}=await ut.from("discovery_project").select(`
        *,
        org:org_id (*)
      `).order("created_at",{ascending:!1}).limit(5),{data:p}=await ut.from("discovery_interviewee").select(`
        *,
        project:project_id (name, org_id, org:org_id (name))
      `).order("created_at",{ascending:!1});if(b){const _=b.map(C=>{const T=(p==null?void 0:p.filter(j=>j.project_id===C.id))||[];return{...C,interviewee_count:T.length,completed_count:T.filter(j=>j.status==="completed").length}});r(_)}const S=(p==null?void 0:p.filter(_=>_.status==="pending"||_.status==="invited").slice(0,5).map(_=>{var C,T,j;return{id:_.id,name:_.name,role:_.role,status:_.status,project_name:((C=_.project)==null?void 0:C.name)||"Unknown",org_name:((j=(T=_.project)==null?void 0:T.org)==null?void 0:j.name)||"Unknown",project_id:_.project_id}}))||[];i(S);const y=(b==null?void 0:b.length)||0,w=(p==null?void 0:p.filter(_=>_.status==="completed").length)||0,x=(p==null?void 0:p.filter(_=>_.status==="in_progress").length)||0;a({totalProjects:y,activeInterviews:x,completedInterviews:w}),t(!1)}const m=()=>{h(!1),u(null)};return e?c.jsx("div",{className:"flex items-center justify-center p-12",children:c.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Center"}),c.jsx("p",{className:"text-muted-foreground",children:"Monitor interviews and manage discovery projects."})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ue,{variant:"outline",asChild:!0,children:c.jsx(et,{to:"/admin/projects",children:"View All Projects"})}),c.jsx(ue,{asChild:!0,children:c.jsxs(et,{to:"/admin/projects",children:[c.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})]}),c.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[c.jsx(xa,{icon:Ql,label:"Total Projects",value:o.totalProjects}),c.jsx(xa,{icon:ph,label:"Active Interviews",value:o.activeInterviews}),c.jsx(xa,{icon:_w,label:"Completed Interviews",value:o.completedInterviews})]}),c.jsxs("div",{className:"mb-8 grid gap-6 lg:grid-cols-2",children:[c.jsxs(Oe,{children:[c.jsx(rn,{className:"pb-3",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:c.jsx(Ql,{className:"h-4 w-4 text-accent"})}),c.jsxs("div",{children:[c.jsx(sn,{className:"text-lg",children:"Recent Projects"}),c.jsx(Ur,{children:"Your latest discovery projects"})]})]})})}),c.jsx(Ie,{children:n.length>0?c.jsxs("div",{className:"space-y-3",children:[n.map((b,p)=>{var S;return c.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},children:c.jsxs(et,{to:`/admin/projects/${b.id}`,className:"flex items-center justify-between rounded-lg border bg-card p-4 hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:b.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[(S=b.org)==null?void 0:S.name,"  ",b.interviewee_count," interviewees"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx(_t,{variant:b.status==="active"?"default":"secondary",children:b.status}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b.completed_count,"/",b.interviewee_count," complete"]})]})]})},b.id)}),c.jsx(ue,{variant:"ghost",className:"w-full",asChild:!0,children:c.jsxs(et,{to:"/admin/projects",children:["View all projects",c.jsx(_c,{className:"ml-2 h-4 w-4"})]})})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:c.jsx(Ql,{className:"h-6 w-6 text-muted-foreground"})}),c.jsx("p",{className:"font-medium",children:"No projects yet"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first discovery project"}),c.jsx(ue,{asChild:!0,children:c.jsxs(et,{to:"/admin/projects",children:[c.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})})]}),c.jsxs(Oe,{children:[c.jsx(rn,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:c.jsx(mh,{className:"h-4 w-4 text-accent"})}),c.jsxs("div",{children:[c.jsx(sn,{className:"text-lg",children:"Pending Interviews"}),c.jsx(Ur,{children:"Interviews awaiting completion"})]})]})}),c.jsx(Ie,{children:s.length>0?c.jsx("div",{className:"space-y-3",children:s.map((b,p)=>c.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center justify-between rounded-lg border p-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:b.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.org_name,"  ",b.role||"No role"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_t,{variant:"secondary",children:b.status}),c.jsx(ue,{size:"sm",variant:"outline",asChild:!0,children:c.jsx(et,{to:`/admin/projects/${b.project_id}`,children:"View"})})]})]},b.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:c.jsx(vf,{className:"h-6 w-6 text-muted-foreground"})}),c.jsx("p",{className:"font-medium",children:"No pending interviews"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"All interviews have been completed"})]})})]})]}),c.jsx(tJ,{open:d,onClose:m,conversationId:"",intervieweeName:"",clientName:"",role:""})]})}var rJ="Label",YI=v.forwardRef((e,t)=>c.jsx(me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YI.displayName=rJ;var QI=YI;const sJ=mf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Br=v.forwardRef(({className:e,...t},n)=>c.jsx(QI,{ref:n,className:se(sJ(),e),...t}));Br.displayName=QI.displayName;function iJ(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var oJ=[" ","Enter","ArrowUp","ArrowDown"],aJ=[" ","Enter"],mo="Select",[op,ap,lJ]=df(mo),[pl,HY]=Hn(mo,[lJ,bf]),lp=bf(),[cJ,wi]=pl(mo),[uJ,dJ]=pl(mo),XI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:b}=e,p=lp(t),[S,y]=v.useState(null),[w,x]=v.useState(null),[_,C]=v.useState(!1),T=ou(u),[j,N]=zr({prop:r,defaultProp:s??!1,onChange:i,caller:mo}),[I,R]=zr({prop:o,defaultProp:a,onChange:l,caller:mo}),O=v.useRef(null),$=S?b||!!S.closest("form"):!0,[W,L]=v.useState(new Set),J=Array.from(W).map(Y=>Y.props.value).join(";");return c.jsx(zj,{...p,children:c.jsxs(cJ,{required:m,scope:t,trigger:S,onTriggerChange:y,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:vr(),value:I,onValueChange:R,open:j,onOpenChange:N,dir:T,triggerPointerDownPosRef:O,disabled:f,children:[c.jsx(op.Provider,{scope:t,children:c.jsx(uJ,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(Y=>{L(Q=>new Set(Q).add(Y))},[]),onNativeOptionRemove:v.useCallback(Y=>{L(Q=>{const D=new Set(Q);return D.delete(Y),D})},[]),children:n})}),$?c.jsxs(SM,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:Y=>R(Y.target.value),disabled:f,form:b,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(W)]},J):null]})})};XI.displayName=mo;var ZI="SelectTrigger",eM=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=lp(n),o=wi(ZI,n),a=o.disabled||r,l=Ce(t,o.onTriggerChange),u=ap(n),d=v.useRef("touch"),[h,f,m]=EM(p=>{const S=u().filter(x=>!x.disabled),y=S.find(x=>x.value===o.value),w=kM(S,p,y);w!==void 0&&o.onValueChange(w.value)}),b=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx(qj,{asChild:!0,...i,children:c.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_M(o.value)?"":void 0,...s,ref:l,onClick:oe(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&b(p)}),onPointerDown:oe(s.onPointerDown,p=>{d.current=p.pointerType;const S=p.target;S.hasPointerCapture(p.pointerId)&&S.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:oe(s.onKeyDown,p=>{const S=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(S&&p.key===" ")&&oJ.includes(p.key)&&(b(),p.preventDefault())})})})});eM.displayName=ZI;var tM="SelectValue",nM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=wi(tM,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=Ce(t,l.onValueNodeChange);return Et(()=>{u(d)},[u,d]),c.jsx(me.span,{...a,ref:h,style:{pointerEvents:"none"},children:_M(l.value)?c.jsx(c.Fragment,{children:o}):i})});nM.displayName=tM;var hJ="SelectIcon",rM=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(me.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});rM.displayName=hJ;var fJ="SelectPortal",sM=e=>c.jsx(hf,{asChild:!0,...e});sM.displayName=fJ;var go="SelectContent",iM=v.forwardRef((e,t)=>{const n=wi(go,e.__scopeSelect),[r,s]=v.useState();if(Et(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?wo.createPortal(c.jsx(oM,{scope:e.__scopeSelect,children:c.jsx(op.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),i):null}return c.jsx(aM,{...e,ref:t})});iM.displayName=go;var or=10,[oM,xi]=pl(go),pJ="SelectContentImpl",mJ=Da("SelectContent.RemoveScroll"),aM=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:S,...y}=e,w=wi(go,n),[x,_]=v.useState(null),[C,T]=v.useState(null),j=Ce(t,A=>_(A)),[N,I]=v.useState(null),[R,O]=v.useState(null),$=ap(n),[W,L]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(x)return LR(x)},[x]),AR();const Y=v.useCallback(A=>{const[M,...U]=$().map(X=>X.ref.current),[V]=U.slice(-1),q=document.activeElement;for(const X of A)if(X===q||(X==null||X.scrollIntoView({block:"nearest"}),X===M&&C&&(C.scrollTop=0),X===V&&C&&(C.scrollTop=C.scrollHeight),X==null||X.focus(),document.activeElement!==q))return},[$,C]),Q=v.useCallback(()=>Y([N,x]),[Y,N,x]);v.useEffect(()=>{W&&Q()},[W,Q]);const{onOpenChange:D,triggerPointerDownPosRef:F}=w;v.useEffect(()=>{if(x){let A={x:0,y:0};const M=V=>{var q,X;A={x:Math.abs(Math.round(V.pageX)-(((q=F.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(V.pageY)-(((X=F.current)==null?void 0:X.y)??0))}},U=V=>{A.x<=10&&A.y<=10?V.preventDefault():x.contains(V.target)||D(!1),document.removeEventListener("pointermove",M),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",U,{capture:!0})}}},[x,D,F]),v.useEffect(()=>{const A=()=>D(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[D]);const[K,ie]=EM(A=>{const M=$().filter(q=>!q.disabled),U=M.find(q=>q.ref.current===document.activeElement),V=kM(M,A,U);V&&setTimeout(()=>V.ref.current.focus())}),te=v.useCallback((A,M,U)=>{const V=!J.current&&!U;(w.value!==void 0&&w.value===M||V)&&(I(A),V&&(J.current=!0))},[w.value]),g=v.useCallback(()=>x==null?void 0:x.focus(),[x]),k=v.useCallback((A,M,U)=>{const V=!J.current&&!U;(w.value!==void 0&&w.value===M||V)&&O(A)},[w.value]),E=r==="popper"?wy:lM,P=E===wy?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:S}:{};return c.jsx(oM,{scope:n,content:x,viewport:C,onViewportChange:T,itemRefCallback:te,selectedItem:N,onItemLeave:g,itemTextRefCallback:k,focusSelectedItem:Q,selectedItemText:R,position:r,isPositioned:W,searchRef:K,children:c.jsx(Z0,{as:mJ,allowPinchZoom:!0,children:c.jsx(X0,{asChild:!0,trapped:w.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:oe(s,A=>{var M;(M=w.trigger)==null||M.focus({preventScroll:!0}),A.preventDefault()}),children:c.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(E,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:A=>A.preventDefault(),...y,...P,onPlaced:()=>L(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:oe(y.onKeyDown,A=>{const M=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!M&&A.key.length===1&&ie(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let V=$().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(A.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const q=A.target,X=V.indexOf(q);V=V.slice(X+1)}setTimeout(()=>Y(V)),A.preventDefault()}})})})})})})});aM.displayName=pJ;var gJ="SelectItemAlignedPosition",lM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=wi(go,n),o=xi(go,n),[a,l]=v.useState(null),[u,d]=v.useState(null),h=Ce(t,j=>d(j)),f=ap(n),m=v.useRef(!1),b=v.useRef(!0),{viewport:p,selectedItem:S,selectedItemText:y,focusSelectedItem:w}=o,x=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&p&&S&&y){const j=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(i.dir!=="rtl"){const q=R.left-N.left,X=I.left-q,ce=j.left-X,Me=j.width+ce,ht=Math.max(Me,N.width),he=window.innerWidth-or,_e=Tv(X,[or,Math.max(or,he-ht)]);a.style.minWidth=Me+"px",a.style.left=_e+"px"}else{const q=N.right-R.right,X=window.innerWidth-I.right-q,ce=window.innerWidth-j.right-X,Me=j.width+ce,ht=Math.max(Me,N.width),he=window.innerWidth-or,_e=Tv(X,[or,Math.max(or,he-ht)]);a.style.minWidth=Me+"px",a.style.right=_e+"px"}const O=f(),$=window.innerHeight-or*2,W=p.scrollHeight,L=window.getComputedStyle(u),J=parseInt(L.borderTopWidth,10),Y=parseInt(L.paddingTop,10),Q=parseInt(L.borderBottomWidth,10),D=parseInt(L.paddingBottom,10),F=J+Y+W+D+Q,K=Math.min(S.offsetHeight*5,F),ie=window.getComputedStyle(p),te=parseInt(ie.paddingTop,10),g=parseInt(ie.paddingBottom,10),k=j.top+j.height/2-or,E=$-k,P=S.offsetHeight/2,A=S.offsetTop+P,M=J+Y+A,U=F-M;if(M<=k){const q=O.length>0&&S===O[O.length-1].ref.current;a.style.bottom="0px";const X=u.clientHeight-p.offsetTop-p.offsetHeight,ce=Math.max(E,P+(q?g:0)+X+Q),Me=M+ce;a.style.height=Me+"px"}else{const q=O.length>0&&S===O[0].ref.current;a.style.top="0px";const ce=Math.max(k,J+p.offsetTop+(q?te:0)+P)+U;a.style.height=ce+"px",p.scrollTop=M-k+p.offsetTop}a.style.margin=`${or}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,a,u,p,S,y,i.dir,r]);Et(()=>x(),[x]);const[_,C]=v.useState();Et(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const T=v.useCallback(j=>{j&&b.current===!0&&(x(),w==null||w(),b.current=!1)},[x,w]);return c.jsx(yJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(me.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lM.displayName=gJ;var vJ="SelectPopperPosition",wy=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=or,...i}=e,o=lp(n);return c.jsx(Wj,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wy.displayName=vJ;var[yJ,vx]=pl(go,{}),xy="SelectViewport",cM=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=xi(xy,n),o=vx(xy,n),a=Ce(t,i.onViewportChange),l=v.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(op.Slot,{scope:n,children:c.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const b=window.innerHeight-or*2,p=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),y=Math.max(p,S);if(y<b){const w=y+m,x=Math.min(b,w),_=w-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});cM.displayName=xy;var uM="SelectGroup",[wJ,xJ]=pl(uM),bJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vr();return c.jsx(wJ,{scope:n,id:s,children:c.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:t})})});bJ.displayName=uM;var dM="SelectLabel",hM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=xJ(dM,n);return c.jsx(me.div,{id:s.id,...r,ref:t})});hM.displayName=dM;var Gh="SelectItem",[SJ,fM]=pl(Gh),pM=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=wi(Gh,n),l=xi(Gh,n),u=a.value===r,[d,h]=v.useState(i??""),[f,m]=v.useState(!1),b=Ce(t,w=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,w,r,s)}),p=vr(),S=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(SJ,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(w=>{h(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(op.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(me.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:oe(o.onFocus,()=>m(!0)),onBlur:oe(o.onBlur,()=>m(!1)),onClick:oe(o.onClick,()=>{S.current!=="mouse"&&y()}),onPointerUp:oe(o.onPointerUp,()=>{S.current==="mouse"&&y()}),onPointerDown:oe(o.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:oe(o.onPointerMove,w=>{var x;S.current=w.pointerType,s?(x=l.onItemLeave)==null||x.call(l):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:oe(o.onKeyDown,w=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(aJ.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});pM.displayName=Gh;var Vl="SelectItemText",mM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=wi(Vl,n),a=xi(Vl,n),l=fM(Vl,n),u=dJ(Vl,n),[d,h]=v.useState(null),f=Ce(t,y=>h(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,b=v.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:S}=u;return Et(()=>(p(b),()=>S(b)),[p,S,b]),c.jsxs(c.Fragment,{children:[c.jsx(me.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wo.createPortal(i.children,o.valueNode):null]})});mM.displayName=Vl;var gM="SelectItemIndicator",vM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return fM(gM,n).isSelected?c.jsx(me.span,{"aria-hidden":!0,...r,ref:t}):null});vM.displayName=gM;var by="SelectScrollUpButton",yM=v.forwardRef((e,t)=>{const n=xi(by,e.__scopeSelect),r=vx(by,e.__scopeSelect),[s,i]=v.useState(!1),o=Ce(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(xM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});yM.displayName=by;var Sy="SelectScrollDownButton",wM=v.forwardRef((e,t)=>{const n=xi(Sy,e.__scopeSelect),r=vx(Sy,e.__scopeSelect),[s,i]=v.useState(!1),o=Ce(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(xM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});wM.displayName=Sy;var xM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=xi("SelectScrollButton",n),o=v.useRef(null),a=ap(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Et(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{l()})})}),_J="SelectSeparator",bM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(me.div,{"aria-hidden":!0,...r,ref:t})});bM.displayName=_J;var _y="SelectArrow",EJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=lp(n),i=wi(_y,n),o=xi(_y,n);return i.open&&o.position==="popper"?c.jsx(Hj,{...s,...r,ref:t}):null});EJ.displayName=_y;var kJ="SelectBubbleInput",SM=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),i=Ce(r,s),o=iJ(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),c.jsx(me.select,{...n,style:{...FT,...n.style},ref:i,defaultValue:t})});SM.displayName=kJ;function _M(e){return e===""||e===void 0}function EM(e){const t=xt(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function kM(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=CJ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function CJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var TJ=XI,CM=eM,jJ=nM,AJ=rM,PJ=sM,TM=iM,NJ=cM,jM=hM,AM=pM,OJ=mM,RJ=vM,PM=yM,NM=wM,OM=bM;const IJ=TJ,MJ=jJ,RM=v.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(CM,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(AJ,{asChild:!0,children:c.jsx(Ew,{className:"h-4 w-4 opacity-50"})})]}));RM.displayName=CM.displayName;const IM=v.forwardRef(({className:e,...t},n)=>c.jsx(PM,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(U$,{className:"h-4 w-4"})}));IM.displayName=PM.displayName;const MM=v.forwardRef(({className:e,...t},n)=>c.jsx(NM,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Ew,{className:"h-4 w-4"})}));MM.displayName=NM.displayName;const DM=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>c.jsx(PJ,{children:c.jsxs(TM,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(IM,{}),c.jsx(NJ,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(MM,{})]})}));DM.displayName=TM.displayName;const DJ=v.forwardRef(({className:e,...t},n)=>c.jsx(jM,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));DJ.displayName=jM.displayName;const LM=v.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(AM,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(RJ,{children:c.jsx(gf,{className:"h-4 w-4"})})}),c.jsx(OJ,{children:t})]}));LM.displayName=AM.displayName;const LJ=v.forwardRef(({className:e,...t},n)=>c.jsx(OM,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));LJ.displayName=OM.displayName;async function Jn(e,t={}){const{data:{session:n},error:r}=await ut.auth.getSession();if(r||!n)return console.error("No active session for admin API call"),{data:null,error:"Not authenticated"};const{data:s,error:i}=await ut.functions.invoke("admin-api",{body:{action:e,...t}});return i?(console.error(`Admin API error (${e}):`,i),{data:null,error:i.message}):s!=null&&s.error?{data:null,error:s.error}:{data:s,error:null}}async function $J(){const{data:e,error:t}=await Jn("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function FJ(e){const{data:t,error:n}=await Jn("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function VJ(e,t){const{data:n,error:r}=await Jn("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function UJ(e,t,n,r,s){const{data:i,error:o}=await Jn("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s});return o||!i?{interviewee:null,error:o}:{interviewee:i.interviewee,error:null}}async function BJ(e){const{error:t}=await Jn("markIntervieweeInvited",{intervieweeId:e});return{error:t}}async function zJ(){const{data:e,error:t}=await Jn("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function qJ(e){const{data:t,error:n}=await Jn("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}async function WJ(e){const{data:t,error:n}=await Jn("getProjectAnalysis",{projectId:e});return n||!t?{analysis:null,interviewCount:0,error:n}:{analysis:t.analysis,interviewCount:t.interviewCount,error:null}}async function HJ(e){const{data:t,error:n}=await Jn("triggerAnalysis",{projectId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function GJ(e){const{data:t,error:n}=await Jn("triggerIndividualAnalysis",{intervieweeId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function KJ(e){const{data:t,error:n}=await Jn("getIntervieweeResultsLink",{intervieweeId:e});return n||!t?{resultsToken:null,intervieweeName:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,error:null}}async function JJ(e){const{data:t,error:n}=await Jn("globalSearch",{query:e});return n||!t?{results:{interviewees:[],projects:[],orgs:[]},error:n}:{results:t,error:null}}function YJ(){var I;const[e,t]=v.useState(""),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(!0),[l,u]=v.useState(!1),[d,h]=v.useState(""),[f,m]=v.useState(""),[b,p]=v.useState(""),[S,y]=v.useState(!1),[w,x]=v.useState(!1),{toast:_}=Qc();v.useEffect(()=>{C()},[]);async function C(){a(!0);const[R,O]=await Promise.all([$J(),zJ()]);R.projects&&r(R.projects),O.orgs&&i(O.orgs),a(!1)}const T=n.filter(R=>{var O,$;return R.name.toLowerCase().includes(e.toLowerCase())||(($=(O=R.org)==null?void 0:O.name)==null?void 0:$.toLowerCase().includes(e.toLowerCase()))}),j=async()=>{var L;x(!0);let R=f;if(S&&b){const{org:J,error:Y}=await qJ(b);if(Y||!J){_({title:"Error",description:Y||"Failed to create client",variant:"destructive"}),x(!1);return}R=J.id}if(!R){_({title:"Error",description:"Please select or create a client",variant:"destructive"}),x(!1);return}const O=d||`Discovery - ${S?b:(L=s.find(J=>J.id===R))==null?void 0:L.name}`,{project:$,error:W}=await VJ(R,O);if(W||!$){_({title:"Error",description:W||"Failed to create project",variant:"destructive"}),x(!1);return}_({title:"Project created!",description:`${O} has been created.`}),h(""),m(""),p(""),y(!1),u(!1),x(!1),C()},N=R=>{const O={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},$=O[R]||O.setup;return c.jsx(_t,{className:$.className,children:$.label})};return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),c.jsxs(ue,{onClick:()=>u(!0),children:[c.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),c.jsxs("div",{className:"mb-4 max-w-sm relative",children:[c.jsx(Cw,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(mn,{placeholder:"Search projects...",value:e,onChange:R=>t(R.target.value),className:"pl-9"})]}),o?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx(Ql,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),c.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),c.jsxs(ue,{onClick:()=>u(!0),children:[c.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):c.jsx("div",{className:"rounded-lg border",children:c.jsxs(np,{children:[c.jsx(rp,{children:c.jsxs(po,{children:[c.jsx(Rt,{children:"Project Name"}),c.jsx(Rt,{children:"Client"}),c.jsx(Rt,{children:"Status"}),c.jsx(Rt,{children:"Created"}),c.jsx(Rt,{})]})}),c.jsx(sp,{children:T.map(R=>{var O;return c.jsxs(po,{className:"cursor-pointer hover:bg-muted/50",children:[c.jsx(It,{className:"font-medium",children:R.name}),c.jsx(It,{children:((O=R.org)==null?void 0:O.name)||"Unknown"}),c.jsx(It,{children:N(R.status)}),c.jsx(It,{children:new Date(R.created_at).toLocaleDateString()}),c.jsx(It,{children:c.jsx(ue,{variant:"ghost",size:"sm",asChild:!0,children:c.jsx(et,{to:`/admin/projects/${R.id}`,children:"View"})})})]},R.id)})})]})}),c.jsx(dl,{open:l,onOpenChange:u,children:c.jsxs(_o,{children:[c.jsx(hl,{children:c.jsx(fl,{children:"New Discovery Project"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{children:[c.jsx(Br,{children:"Client *"}),S?c.jsxs("div",{className:"space-y-2 mt-1",children:[c.jsx(mn,{value:b,onChange:R=>p(R.target.value),placeholder:"Enter client name"}),c.jsx(ue,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),p("")},children:"Select existing client instead"})]}):c.jsxs("div",{className:"space-y-2 mt-1",children:[c.jsxs(IJ,{value:f,onValueChange:m,children:[c.jsx(RM,{children:c.jsx(MJ,{placeholder:"Select a client..."})}),c.jsx(DM,{children:s.map(R=>c.jsx(LM,{value:R.id,children:R.name},R.id))})]}),c.jsx(ue,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),c.jsxs("div",{children:[c.jsx(Br,{children:"Project Name (optional)"}),c.jsx(mn,{value:d,onChange:R=>h(R.target.value),placeholder:`Discovery - ${S?b||"Client Name":((I=s.find(R=>R.id===f))==null?void 0:I.name)||"Client Name"}`,className:"mt-1"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),c.jsxs(du,{children:[c.jsx(ue,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c.jsxs(ue,{onClick:j,disabled:w||!f&&!b,children:[w?c.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var Gm="rovingFocusGroup.onEntryFocus",QJ={bubbles:!1,cancelable:!0},hu="RovingFocusGroup",[Ey,$M,XJ]=df(hu),[ZJ,FM]=Hn(hu,[XJ]),[eY,tY]=ZJ(hu),VM=v.forwardRef((e,t)=>c.jsx(Ey.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Ey.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(nY,{...e,ref:t})})}));VM.displayName=hu;var nY=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),m=Ce(t,f),b=ou(i),[p,S]=zr({prop:o,defaultProp:a??null,onChange:l,caller:hu}),[y,w]=v.useState(!1),x=xt(u),_=$M(n),C=v.useRef(!1),[T,j]=v.useState(0);return v.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(Gm,x),()=>N.removeEventListener(Gm,x)},[x]),c.jsx(eY,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(N=>S(N),[S]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>j(N=>N-1),[]),children:c.jsx(me.div,{tabIndex:y||T===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{C.current=!0}),onFocus:oe(e.onFocus,N=>{const I=!C.current;if(N.target===N.currentTarget&&I&&!y){const R=new CustomEvent(Gm,QJ);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=_().filter(Y=>Y.focusable),$=O.find(Y=>Y.active),W=O.find(Y=>Y.id===p),J=[$,W,...O].filter(Boolean).map(Y=>Y.ref.current);zM(J,d)}}C.current=!1}),onBlur:oe(e.onBlur,()=>w(!1))})})}),UM="RovingFocusGroupItem",BM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=vr(),u=i||l,d=tY(UM,n),h=d.currentTabStopId===u,f=$M(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=d;return v.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),c.jsx(Ey.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:oe(e.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:oe(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const y=iY(S,d.orientation,d.dir);if(y!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let x=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const _=x.indexOf(S.currentTarget);x=d.loop?oY(x,_+1):x.slice(_+1)}setTimeout(()=>zM(x))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});BM.displayName=UM;var rY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iY(e,t,n){const r=sY(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rY[r]}function zM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function oY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aY=VM,lY=BM,cp="Tabs",[cY,GY]=Hn(cp,[FM]),qM=FM(),[uY,yx]=cY(cp),WM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=ou(a),[h,f]=zr({prop:r,onChange:s,defaultProp:i??"",caller:cp});return c.jsx(uY,{scope:n,baseId:vr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:c.jsx(me.div,{dir:d,"data-orientation":o,...u,ref:t})})});WM.displayName=cp;var HM="TabsList",GM=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=yx(HM,n),o=qM(n);return c.jsx(aY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});GM.displayName=HM;var KM="TabsTrigger",JM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=yx(KM,n),a=qM(n),l=XM(o.baseId,r),u=ZM(o.baseId,r),d=r===o.value;return c.jsx(lY,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:oe(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:oe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:oe(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});JM.displayName=KM;var YM="TabsContent",QM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=yx(YM,n),l=XM(a.baseId,r),u=ZM(a.baseId,r),d=r===a.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(Gn,{present:s||d,children:({present:f})=>c.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});QM.displayName=YM;function XM(e,t){return`${e}-trigger-${t}`}function ZM(e,t){return`${e}-content-${t}`}var dY=WM,eD=GM,tD=JM,nD=QM;const hY=dY,rD=v.forwardRef(({className:e,...t},n)=>c.jsx(eD,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));rD.displayName=eD.displayName;const Vd=v.forwardRef(({className:e,...t},n)=>c.jsx(tD,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Vd.displayName=tD.displayName;const Ud=v.forwardRef(({className:e,...t},n)=>c.jsx(nD,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ud.displayName=nD.displayName;function sD(e){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return c.jsx(_t,{className:t[e]||t.medium,children:e})}function fY(e){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return c.jsxs(_t,{className:t[e]||t.medium,children:[e," impact"]})}function pY(e){return{triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy/Rule-Based",document:"Document Workflows",glue_work:"Glue Work",research:"Repetitive Research"}[e]||e}function mY(e){const t={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},n=t[e]||t.pending;return c.jsx(_t,{className:n.className,children:n.label})}function gY({interviewees:e,copiedId:t,generatingAnalysisId:n,onAddClick:r,onCopyLink:s,onInviteClick:i,onGenerateAnalysis:o,onShareClick:a}){return e.length===0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4 flex justify-end",children:c.jsxs(ue,{onClick:r,children:[c.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx(vf,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),c.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),c.jsxs(ue,{onClick:r,children:[c.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-4 flex justify-end",children:c.jsxs(ue,{onClick:r,children:[c.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),c.jsx("div",{className:"rounded-lg border",children:c.jsxs(np,{children:[c.jsx(rp,{children:c.jsxs(po,{children:[c.jsx(Rt,{children:"Name"}),c.jsx(Rt,{children:"Role"}),c.jsx(Rt,{children:"Email"}),c.jsx(Rt,{children:"Status"}),c.jsx(Rt,{children:"Interview"}),c.jsx(Rt,{children:"Results"})]})}),c.jsx(sp,{children:e.map(l=>c.jsxs(po,{children:[c.jsx(It,{className:"font-medium",children:l.name}),c.jsx(It,{children:l.role||"-"}),c.jsx(It,{children:l.email}),c.jsx(It,{children:mY(l.status)}),c.jsx(It,{children:c.jsx(Xg,{children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsxs(Lu,{children:[c.jsx($u,{asChild:!0,children:c.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>s(l),children:t===l.id?c.jsx(gf,{className:"h-4 w-4"}):c.jsx(fh,{className:"h-4 w-4"})})}),c.jsx(Ol,{children:c.jsx("p",{children:"Copy interview link"})})]}),l.status==="pending"&&c.jsxs(Lu,{children:[c.jsx($u,{asChild:!0,children:c.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>i(l),children:c.jsx(eu,{className:"h-4 w-4"})})}),c.jsx(Ol,{children:c.jsx("p",{children:"Send invite email"})})]})]})})}),c.jsx(It,{children:c.jsx(Xg,{children:c.jsxs("div",{className:"flex items-center gap-1",children:[l.status==="completed"&&!l.has_individual_analysis&&c.jsxs(Lu,{children:[c.jsx($u,{asChild:!0,children:c.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>o(l),disabled:n===l.id,children:n===l.id?c.jsx(St,{className:"h-4 w-4 animate-spin"}):c.jsx(jw,{className:"h-4 w-4"})})}),c.jsx(Ol,{children:c.jsx("p",{children:"Generate analysis"})})]}),l.status==="completed"&&l.has_individual_analysis&&c.jsxs(Lu,{children:[c.jsx($u,{asChild:!0,children:c.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>a(l),children:c.jsx(Q$,{className:"h-4 w-4"})})}),c.jsx(Ol,{children:c.jsx("p",{children:"Share results link"})})]}),l.status!=="completed"&&c.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})})]},l.id))})]})})]})}function vY({analysis:e,loading:t,generating:n,completedCount:r,onGenerate:s}){var o;if(t)return c.jsx("div",{className:"flex items-center justify-center p-12",children:c.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return c.jsx(Oe,{children:c.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx(mh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),c.jsx("h3",{className:"text-lg font-medium",children:"No analysis yet"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["Generate an analysis based on ",r," completed interview",r!==1?"s":"","."]}),c.jsxs(ue,{onClick:s,disabled:n,children:[n?c.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(mh,{className:"mr-2 h-4 w-4"}),"Generate Analysis"]})]})});const i=e.raw_output;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated ",e.generated_at?new Date(e.generated_at).toLocaleString():"recently"]})}),c.jsxs(ue,{variant:"outline",size:"sm",onClick:s,disabled:n,children:[n?c.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(K$,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]}),(i==null?void 0:i.summary)&&c.jsx(yY,{summary:i.summary}),((o=i==null?void 0:i.workflow_map)==null?void 0:o.workflows)&&i.workflow_map.workflows.length>0&&c.jsx(xY,{workflows:i.workflow_map.workflows}),(i==null?void 0:i.automation_opportunities)&&i.automation_opportunities.length>0&&c.jsx(wY,{opportunities:i.automation_opportunities}),(i==null?void 0:i.technical_questions)&&i.technical_questions.length>0&&c.jsx(bY,{questions:i.technical_questions}),(i==null?void 0:i.follow_up_suggestions)&&i.follow_up_suggestions.length>0&&c.jsx(SY,{suggestions:i.follow_up_suggestions}),(i==null?void 0:i.gaps_and_uncertainties)&&i.gaps_and_uncertainties.length>0&&c.jsx(_Y,{gaps:i.gaps_and_uncertainties})]})}function yY({summary:e}){return c.jsxs(Oe,{children:[c.jsx(rn,{children:c.jsxs(sn,{className:"flex items-center gap-2",children:[c.jsx(tF,{className:"h-5 w-5"}),"Executive Summary"]})}),c.jsxs(Ie,{className:"space-y-4",children:[e.interviewees_analyzed&&e.interviewees_analyzed.length>0&&c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Based on interviews with:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.interviewees_analyzed.map((t,n)=>c.jsxs(_t,{variant:"secondary",children:[t.name,t.role?` (${t.role})`:""]},n))}),e.total_interviews_pending!=null&&e.total_interviews_pending>0&&c.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["+ ",e.total_interviews_pending," interview",e.total_interviews_pending>1?"s":""," pending"]})]}),c.jsx("p",{className:"text-muted-foreground",children:e.overall_assessment}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[c.jsx("div",{className:"text-3xl font-bold",children:e.total_workflows_identified||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Workflows Identified"})]}),c.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[c.jsx("div",{className:"text-3xl font-bold",children:e.total_automation_opportunities||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Automation Opportunities"})]}),c.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.high_confidence_opportunities||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]}),e.key_themes&&e.key_themes.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Key Themes"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:e.key_themes.map((t,n)=>c.jsx(_t,{variant:"secondary",children:t},n))})]}),e.recommended_priorities&&e.recommended_priorities.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Recommended Priorities"}),c.jsx("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:e.recommended_priorities.map((t,n)=>c.jsx("li",{children:t},n))})]})]})]})}function wY({opportunities:e}){return c.jsxs(Oe,{children:[c.jsxs(rn,{children:[c.jsxs(sn,{className:"flex items-center gap-2",children:[c.jsx(jw,{className:"h-5 w-5"}),"Automation Opportunities"]}),c.jsx(Ur,{children:"Identified areas where AI or automation could add value"})]}),c.jsx(Ie,{children:c.jsx(px,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>c.jsxs(Zf,{value:`opp-${n}`,children:[c.jsx(ep,{className:"hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-3 text-left",children:[c.jsx("span",{className:"font-medium",children:t.title}),c.jsxs("div",{className:"flex items-center gap-2",children:[sD(t.confidence),fY(t.estimated_impact)]})]})}),c.jsxs(tp,{className:"space-y-4 pt-2",children:[c.jsx("p",{className:"text-muted-foreground",children:t.description}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx(_t,{variant:"outline",className:"mb-2",children:pY(t.category)}),t.confidence_reasoning&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.jsx("strong",{children:"Confidence:"})," ",t.confidence_reasoning]}),t.impact_reasoning&&c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.jsx("strong",{children:"Impact:"})," ",t.impact_reasoning]})]}),c.jsxs("div",{className:"space-y-2",children:[t.affected_workflows&&t.affected_workflows.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Affected Workflows"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_workflows.join(", ")})]}),t.affected_people&&t.affected_people.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Who Benefits"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_people.join(", ")})]})]})]}),t.prerequisites&&t.prerequisites.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Prerequisites"}),c.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.prerequisites.map((r,s)=>c.jsx("li",{children:r},s))})]}),t.risks&&t.risks.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Risks"}),c.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.risks.map((r,s)=>c.jsx("li",{children:r},s))})]})]})]},n))})})]})}function xY({workflows:e}){return c.jsxs(Oe,{children:[c.jsxs(rn,{children:[c.jsxs(sn,{className:"flex items-center gap-2",children:[c.jsx(uj,{className:"h-5 w-5"}),"Identified Workflows"]}),c.jsx(Ur,{children:"Workflows discovered during the interviews"})]}),c.jsx(Ie,{children:c.jsx(px,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>c.jsxs(Zf,{value:`workflow-${n}`,children:[c.jsx(ep,{className:"hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-3 text-left",children:[c.jsx("span",{className:"font-medium",children:t.name}),t.frequency&&c.jsxs(_t,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(hh,{className:"h-3 w-3"}),t.frequency]})]})}),c.jsxs(tp,{className:"space-y-4 pt-2",children:[c.jsx("p",{className:"text-muted-foreground",children:t.description}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[t.owner&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Owner"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.owner})]}),t.estimated_time&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Typical Duration"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.estimated_time})]}),t.systems_used&&t.systems_used.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium",children:"Systems Used"}),c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.systems_used.map((r,s)=>c.jsx(_t,{variant:"secondary",className:"text-xs",children:r},s))})]})]}),t.components&&c.jsxs("div",{className:"space-y-3 text-sm border rounded-lg p-4 bg-muted/30",children:[c.jsx("h4",{className:"font-medium text-base",children:"SIMPLE Breakdown"}),t.components.triggers&&t.components.triggers.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Signal (Triggers):"}),c.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.triggers.join(", ")})]}),t.components.inputs&&t.components.inputs.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Inputs:"}),c.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.inputs.join(", ")})]}),t.components.transformations&&t.components.transformations.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Make (Work Done):"}),c.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.transformations.join(", ")})]}),t.components.decisions&&t.components.decisions.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Pick (Decisions):"}),c.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.decisions.join(", ")})]}),t.components.outputs&&t.components.outputs.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Land (Outputs):"}),c.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.outputs.join(", ")})]}),t.components.checks&&t.components.checks.length>0&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Examine (Quality Checks):"}),c.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.checks.join(", ")})]})]})]}),t.pain_points&&t.pain_points.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Pain Points"}),c.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.pain_points.map((r,s)=>c.jsx("li",{children:r},s))})]})]})]},n))})})]})}function bY({questions:e}){return c.jsxs(Oe,{children:[c.jsxs(rn,{children:[c.jsxs(sn,{className:"flex items-center gap-2",children:[c.jsx(B$,{className:"h-5 w-5"}),"Technical Questions"]}),c.jsx(Ur,{children:"Questions that need answers before proceeding"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"space-y-4",children:e.map((t,n)=>c.jsxs("div",{className:"border-l-2 border-muted-foreground/20 pl-4 py-2",children:[c.jsx("p",{className:"font-medium",children:t.question}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.context}),t.suggested_stakeholder&&c.jsxs("p",{className:"text-sm mt-2",children:[c.jsx("span",{className:"text-muted-foreground",children:"Ask:"})," ",c.jsx(_t,{variant:"outline",children:t.suggested_stakeholder})]})]},n))})})]})}function SY({suggestions:e}){return c.jsxs(Oe,{children:[c.jsx(rn,{children:c.jsxs(sn,{className:"flex items-center gap-2",children:[c.jsx(_c,{className:"h-5 w-5"}),"Suggested Follow-ups"]})}),c.jsx(Ie,{children:c.jsx("div",{className:"space-y-3",children:e.map((t,n)=>c.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:t.description}),sD(t.priority)]}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.reason}),t.suggested_participants&&t.suggested_participants.length>0&&c.jsxs("p",{className:"text-sm mt-1",children:[c.jsx("span",{className:"text-muted-foreground",children:"Participants:"})," ",t.suggested_participants.join(", ")]})]})},n))})})]})}function _Y({gaps:e}){return c.jsxs(Oe,{children:[c.jsx(rn,{children:c.jsxs(sn,{className:"flex items-center gap-2",children:[c.jsx(La,{className:"h-5 w-5"}),"Gaps & Uncertainties"]})}),c.jsx(Ie,{children:c.jsx("div",{className:"space-y-3",children:e.map((t,n)=>c.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-4 py-2",children:[c.jsx("p",{className:"font-medium",children:t.description}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[c.jsx("strong",{children:"Impact:"})," ",t.impact]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.jsx("strong",{children:"Resolution:"})," ",t.suggested_resolution]})]},n))})})]})}function EY({open:e,onOpenChange:t,form:n,onFormChange:r,onSubmit:s,saving:i}){return c.jsx(dl,{open:e,onOpenChange:t,children:c.jsxs(_o,{children:[c.jsxs(hl,{children:[c.jsx(fl,{children:"Add Interviewee"}),c.jsx(ip,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{children:[c.jsx(Br,{children:"Name *"}),c.jsx(mn,{value:n.name,onChange:o=>r({...n,name:o.target.value}),placeholder:"John Smith",className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx(Br,{children:"Email *"}),c.jsx(mn,{type:"email",value:n.email,onChange:o=>r({...n,email:o.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),c.jsxs("div",{children:[c.jsx(Br,{children:"Role (optional)"}),c.jsx(mn,{value:n.role,onChange:o=>r({...n,role:o.target.value}),placeholder:"Operations Manager",className:"mt-1"})]})]}),c.jsxs(du,{children:[c.jsx(ue,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsxs(ue,{onClick:s,disabled:i||!n.name||!n.email,children:[i?c.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})})}function kY({open:e,onOpenChange:t,interviewee:n,copiedId:r,onCopyLink:s,onMarkInvited:i,getInterviewLink:o}){if(!n)return null;const a=()=>{s(n),i(n)},l=()=>{const u=encodeURIComponent(`${n.name} - Your Discovery Conversation`),d=encodeURIComponent(`Hi ${n.name},

I hope this finds you well.

As part of our Discovery work, I'd love to have a short conversation with you about your role and how you spend your time. The aim is to understand where automation might genuinely help - freeing you up for the work that actually needs your brain and judgement.

Here's the thing: you know your job better than anyone, so this is really a collaborative chat rather than an interrogation. I'll walk you through a simple framework and then we'll map out your workflows together.

When you're ready, click the link below to start:
${o(n.interview_token)}

It takes around 20-30 minutes, and there are no wrong answers - I'm just trying to understand how things actually work.

If you have any questions before we start, just drop me a note.

Looking forward to it,`);window.open(`mailto:${n.email}?subject=${u}&body=${d}`),i(n)};return c.jsx(dl,{open:e,onOpenChange:t,children:c.jsxs(_o,{className:"sm:max-w-lg",children:[c.jsxs(hl,{children:[c.jsx(fl,{children:"Send Interview Invite"}),c.jsxs(ip,{children:["Choose how to invite ",n.name," to their interview session."]})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{children:[c.jsx(Br,{className:"text-sm font-medium",children:"Interview Link"}),c.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[c.jsx(mn,{readOnly:!0,value:o(n.interview_token),className:"font-mono text-sm"}),c.jsx(ue,{variant:"outline",size:"icon",onClick:()=>s(n),children:r===n.id?c.jsx(gf,{className:"h-4 w-4"}):c.jsx(fh,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 14 days"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:a,children:c.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:c.jsx(V$,{className:"h-5 w-5 text-accent"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),c.jsx(qg,{className:"h-4 w-4 text-muted-foreground"})]})}),c.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:l,children:c.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:c.jsx(eu,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Open in Email Client"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),c.jsx(qg,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),c.jsx(du,{children:c.jsx(ue,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function CY({open:e,onOpenChange:t,interviewee:n,resultsToken:r,loading:s,onCopyLink:i,getResultsLink:o}){const a=()=>{i(),t(!1)},l=()=>{if(n&&r){const u=encodeURIComponent(`${n.name} - Your Discovery Insights`),d=encodeURIComponent(`Hi ${n.name},

I wanted to say thank you again for taking the time to walk us through your work - I really appreciate you carving out that time.

I've now had a chance to analyse everything we discussed and pull together some insights specifically for you. The aim here isn't to tell you what to do - you know your job far better than I ever will - but to shine a light on where automation might genuinely free you up for the work that actually needs your brain and judgement.

I hope you find it useful:
${o(r)}

If anything doesn't make sense or you'd like to dig deeper into any of the findings, just drop me a note - I'm always happy to chat it through.

Best,`);window.open(`mailto:${n.email}?subject=${u}&body=${d}`),t(!1)}};return c.jsx(dl,{open:e,onOpenChange:t,children:c.jsxs(_o,{className:"sm:max-w-lg",children:[c.jsxs(hl,{children:[c.jsx(fl,{children:"Share Results"}),c.jsxs(ip,{children:["Share the personalised analysis results with ",n==null?void 0:n.name,"."]})]}),c.jsx("div",{className:"space-y-4 py-4",children:s?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx(Br,{className:"text-sm font-medium",children:"Results Link"}),c.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[c.jsx(mn,{readOnly:!0,value:o(r),className:"font-mono text-sm"}),c.jsx(ue,{variant:"outline",size:"icon",onClick:i,children:c.jsx(fh,{className:"h-4 w-4"})})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 30 days"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:a,children:c.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:c.jsx(fh,{className:"h-5 w-5 text-accent"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Copy Link"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the results link to share manually"})]})]})}),c.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:l,children:c.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:c.jsx(eu,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Open in Email Client"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send results via email to ",n==null?void 0:n.email]})]}),c.jsx(qg,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}):c.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Unable to load results link. The analysis may not be ready yet."})}),c.jsx(du,{children:c.jsx(ue,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function TY(){const{id:e}=Kw(),{toast:t}=Qc(),[n,r]=v.useState(null),[s,i]=v.useState(null),[o,a]=v.useState([]),[l,u]=v.useState(!0),[d,h]=v.useState(null),[f,m]=v.useState(!1),[b,p]=v.useState(!1),[S,y]=v.useState(!1),[w,x]=v.useState(!1),[_,C]=v.useState(!1),[T,j]=v.useState(null),[N,I]=v.useState(null),[R,O]=v.useState(null),[$,W]=v.useState(!1),[L,J]=v.useState({name:"",email:"",role:""}),[Y,Q]=v.useState(!1),[D,F]=v.useState(null),[K,ie]=v.useState(null);v.useEffect(()=>{te()},[e]);async function te(){if(!e)return;u(!0);const{project:he,org:_e,interviewees:qe,error:gt}=await FJ(e);if(gt){t({title:"Error",description:gt,variant:"destructive"}),u(!1);return}r(he),i(_e),a(qe),u(!1)}const g=he=>`${window.location.origin}/discovery/interview/${he}`,k=he=>`${window.location.origin}/discovery/results/${he}`,E=he=>{navigator.clipboard.writeText(g(he.interview_token)),F(he.id),t({title:"Link copied!"}),setTimeout(()=>F(null),2e3)},P=async he=>{await BJ(he.id),t({title:"Marked as invited"}),te()},A=async()=>{if(!n||!L.name||!L.email)return;Q(!0);const{interviewee:he,error:_e}=await UJ(n.id,n.org_id,L.name,L.email,L.role||void 0);if(_e||!he){t({title:"Error",description:_e||"Failed to add interviewee",variant:"destructive"}),Q(!1);return}t({title:"Interviewee added!",description:`${L.name} has been added to the project.`}),J({name:"",email:"",role:""}),y(!1),Q(!1),j(he),x(!0),te()},M=async()=>{if(!e)return;m(!0);const{analysis:he,error:_e}=await WJ(e);_e?t({title:"Error loading analysis",description:_e,variant:"destructive"}):h(he),m(!1)},U=async()=>{if(!e)return;p(!0);const{error:he}=await HJ(e);he?t({title:"Error generating analysis",description:he,variant:"destructive"}):(t({title:"Analysis generated!",description:"The analysis has been updated."}),M()),p(!1)},V=async he=>{ie(he.id);const{error:_e}=await GJ(he.id);if(_e){t({title:"Error",description:_e,variant:"destructive"}),ie(null);return}t({title:"Analysis generated!",description:`Analysis for ${he.name} is ready.`}),ie(null),te()},q=async he=>{I(he),C(!0),W(!0),O(null);const{resultsToken:_e,error:qe}=await KJ(he.id);if(qe){t({title:"Error",description:qe,variant:"destructive"}),W(!1);return}O(_e),W(!1)},X=()=>{R&&(navigator.clipboard.writeText(k(R)),t({title:"Results link copied!"}))},ce=he=>{he==="analysis"&&!d&&!f&&M()};if(l)return c.jsx("div",{className:"flex items-center justify-center p-12",children:c.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!n)return c.jsx("div",{className:"p-6",children:c.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const Me=o.filter(he=>he.status==="completed").length,ht=o.filter(he=>he.status==="pending"||he.status==="invited").length;return c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("h1",{className:"text-2xl font-bold",children:n.name}),c.jsxs("p",{className:"text-muted-foreground",children:[s==null?void 0:s.name,"  Created ",new Date(n.created_at).toLocaleDateString()]})]}),c.jsxs(hY,{defaultValue:"interviewees",className:"mt-6",onValueChange:ce,children:[c.jsxs(rD,{className:"mb-6",children:[c.jsx(Vd,{value:"interviewees",children:"Interviewees"}),c.jsx(Vd,{value:"overview",children:"Overview"}),c.jsx(Vd,{value:"analysis",disabled:Me===0,children:"Analysis"})]}),c.jsx(Ud,{value:"overview",children:c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsx(xa,{icon:vf,label:"Total Interviewees",value:o.length}),c.jsx(xa,{icon:ph,label:"Completed",value:Me}),c.jsx(xa,{icon:_w,label:"Pending",value:ht})]})}),c.jsx(Ud,{value:"interviewees",children:c.jsx(gY,{interviewees:o,copiedId:D,generatingAnalysisId:K,onAddClick:()=>y(!0),onCopyLink:E,onInviteClick:he=>{j(he),x(!0)},onGenerateAnalysis:V,onShareClick:q})}),c.jsx(Ud,{value:"analysis",children:c.jsx(vY,{analysis:d,loading:f,generating:b,completedCount:Me,onGenerate:U})})]}),c.jsx(EY,{open:S,onOpenChange:y,form:L,onFormChange:J,onSubmit:A,saving:Y}),c.jsx(kY,{open:w,onOpenChange:x,interviewee:T,copiedId:D,onCopyLink:E,onMarkInvited:P,getInterviewLink:g}),c.jsx(CY,{open:_,onOpenChange:C,interviewee:N,resultsToken:R,loading:$,onCopyLink:X,getResultsLink:k})]})}function jY(){const{toast:e}=Qc(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return c.jsxs("div",{className:"p-6",children:[c.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),c.jsxs("div",{className:"max-w-2xl space-y-6",children:[c.jsxs(Oe,{children:[c.jsxs(rn,{children:[c.jsx(sn,{children:"Voice Platform"}),c.jsx(Ur,{children:"Configure your Vapi integration"})]}),c.jsxs(Ie,{children:[c.jsx(Br,{htmlFor:"vapi",children:"Vapi API Key"}),c.jsx(mn,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),c.jsxs(Oe,{children:[c.jsxs(rn,{children:[c.jsx(sn,{children:"LLM"}),c.jsx(Ur,{children:"Configure your AI provider"})]}),c.jsxs(Ie,{children:[c.jsx(Br,{htmlFor:"anthropic",children:"Anthropic API Key"}),c.jsx(mn,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),c.jsxs(Oe,{children:[c.jsxs(rn,{children:[c.jsx(sn,{children:"Admin Users"}),c.jsx(Ur,{children:"Manage who can access this dashboard"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"admin@example.com"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),c.jsx(ue,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),c.jsx(ue,{onClick:t,children:"Save Settings"})]})]})}const AY=[{icon:q$,label:"Dashboard",href:"/admin/dashboard"},{icon:vf,label:"Projects",href:"/admin/projects"},{icon:Y$,label:"Settings",href:"/admin/settings"}];function lk({isOpen:e,onClose:t,isMobile:n}){const r=vi(),s=xo(),{user:i,signOut:o}=gx(),a=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(d){console.error("Sign out error:",d)}},l=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",u=c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[c.jsxs(et,{to:"/admin/dashboard",className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:c.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),n&&c.jsx(ue,{variant:"ghost",size:"icon",onClick:t,children:c.jsx(Tw,{className:"h-5 w-5"})})]}),c.jsx("nav",{className:"flex-1 space-y-1 p-4",children:AY.map(d=>{const h=r.pathname===d.href||d.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return c.jsxs(et,{to:d.href,onClick:n?t:void 0,className:se("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[c.jsx(d.icon,{className:"h-5 w-5"}),d.label,h&&c.jsx(Se.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},d.href)})}),c.jsx("div",{className:"border-t p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:l})}),c.jsxs("div",{className:"flex-1 truncate",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),c.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),c.jsx(ue,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:c.jsx(W$,{className:"h-4 w-4"})})]})})]});return n?c.jsx(Ba,{children:e&&c.jsxs(c.Fragment,{children:[c.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),c.jsx(Se.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:u})]})}):c.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:u})}function PY({open:e,onOpenChange:t}){const n=xo(),[r,s]=v.useState(""),[i,o]=v.useState({interviewees:[],projects:[],orgs:[]}),[a,l]=v.useState(!1),[u,d]=v.useState(0),h=v.useRef(null),f=v.useRef(),m=[...i.interviewees.map(x=>({type:"interviewee",data:x})),...i.projects.map(x=>({type:"project",data:x})),...i.orgs.map(x=>({type:"org",data:x}))],b=m.length>0;v.useEffect(()=>{e&&(s(""),o({interviewees:[],projects:[],orgs:[]}),d(0),setTimeout(()=>{var x;return(x=h.current)==null?void 0:x.focus()},50))},[e]);const p=v.useCallback(async x=>{if(x.trim().length<2){o({interviewees:[],projects:[],orgs:[]}),l(!1);return}l(!0);const{results:_,error:C}=await JJ(x);C||(o(_),d(0)),l(!1)},[]);v.useEffect(()=>(f.current&&clearTimeout(f.current),r.trim().length>=2?(l(!0),f.current=setTimeout(()=>{p(r)},300)):(o({interviewees:[],projects:[],orgs:[]}),l(!1)),()=>{f.current&&clearTimeout(f.current)}),[r,p]);const S=x=>{switch(t(!1),x.type){case"interviewee":n(`/admin/projects/${x.data.project_id}`);break;case"project":n(`/admin/projects/${x.data.id}`);break;case"org":n(`/admin/clients/${x.data.id}`);break}},y=x=>{switch(x.key){case"ArrowDown":x.preventDefault(),d(_=>Math.min(_+1,m.length-1));break;case"ArrowUp":x.preventDefault(),d(_=>Math.max(_-1,0));break;case"Enter":x.preventDefault(),m[u]&&S(m[u]);break;case"Escape":x.preventDefault(),t(!1);break}},w=x=>x==="completed"?c.jsx(gf,{className:"h-3 w-3 text-green-500"}):null;return c.jsx(dl,{open:e,onOpenChange:t,children:c.jsxs(_o,{className:"sm:max-w-lg p-0 gap-0 overflow-hidden",onKeyDown:y,children:[c.jsxs("div",{className:"flex items-center border-b px-3",children:[c.jsx(Cw,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),c.jsx(mn,{ref:h,value:r,onChange:x=>s(x.target.value),placeholder:"Search people, projects, clients...",className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-12"}),a&&c.jsx(St,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),c.jsx("div",{className:"max-h-80 overflow-y-auto p-2",children:r.length<2?c.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"Type at least 2 characters to search..."}):!b&&!a?c.jsxs("p",{className:"py-6 text-center text-sm text-muted-foreground",children:['No results found for "',r,'"']}):c.jsxs(c.Fragment,{children:[i.interviewees.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PEOPLE"}),i.interviewees.map((x,_)=>{var T,j,N;const C=_;return c.jsxs("button",{onClick:()=>S({type:"interviewee",data:x}),className:se("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[c.jsx(Cd,{className:"h-4 w-4 mt-0.5 shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium truncate",children:x.name}),w(x.status)]}),x.role&&c.jsx("p",{className:"text-sm text-muted-foreground truncate",children:x.role}),c.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(T=x.discovery_project)==null?void 0:T.name,"  ",(N=(j=x.discovery_project)==null?void 0:j.org)==null?void 0:N.name]})]})]},x.id)})]}),i.projects.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PROJECTS"}),i.projects.map((x,_)=>{var T;const C=i.interviewees.length+_;return c.jsxs("button",{onClick:()=>S({type:"project",data:x}),className:se("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[c.jsx(Ql,{className:"h-4 w-4 mt-0.5 shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("span",{className:"font-medium truncate block",children:x.name}),c.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[(T=x.org)==null?void 0:T.name,"  ",x.status]})]})]},x.id)})]}),i.orgs.length>0&&c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"CLIENTS"}),i.orgs.map((x,_)=>{const C=i.interviewees.length+i.projects.length+_;return c.jsxs("button",{onClick:()=>S({type:"org",data:x}),className:se("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[c.jsx(F$,{className:"h-4 w-4 mt-0.5 shrink-0"}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("span",{className:"font-medium truncate block",children:x.name})})]},x.id)})]})]})}),c.jsx("div",{className:"border-t px-3 py-2",children:c.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[c.jsxs("span",{className:"inline-flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:""}),"navigate"]}),c.jsx("span",{className:"mx-2",children:""}),c.jsxs("span",{className:"inline-flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Enter"}),"select"]}),c.jsx("span",{className:"mx-2",children:""}),c.jsxs("span",{className:"inline-flex items-center gap-1",children:[c.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Esc"}),"close"]})]})})]})})}function NY({onMenuClick:e,title:t}){const[n,r]=v.useState(!1),i=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"":"Ctrl";return v.useEffect(()=>{const o=a=>{(a.metaKey||a.ctrlKey)&&a.key==="k"&&(a.preventDefault(),r(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(ue,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[c.jsx(H$,{className:"h-5 w-5"}),c.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&c.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"gap-2 text-muted-foreground",children:[c.jsx(Cw,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Search"}),c.jsxs("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[i,"K"]})]}),c.jsx(al,{})]})]}),c.jsx(PY,{open:n,onOpenChange:r})]})}function OY(){const[e,t]=v.useState(!1),{user:n,isAdmin:r,loading:s}=gx();return s?c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:c.jsx(St,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?c.jsx(xB,{to:"/admin/login",replace:!0}):c.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[c.jsx(lk,{isOpen:!0,onClose:()=>{},isMobile:!1}),c.jsx(lk,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),c.jsxs("div",{className:"flex flex-1 flex-col",children:[c.jsx(NY,{onMenuClick:()=>t(!0)}),c.jsx("main",{className:"flex-1 overflow-auto",children:c.jsx(bB,{})})]})]})}const RY=()=>{const e=vi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},IY=new jU,MY=()=>c.jsx(PU,{client:IY,children:c.jsx(UF,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:c.jsxs(Xg,{children:[c.jsx($F,{}),c.jsx(w4,{}),c.jsx(PB,{basename:"/discovery",children:c.jsxs(gS,{children:[c.jsx(Vt,{path:"/",element:c.jsx(fq,{})}),c.jsx(Vt,{path:"/interview/:token",element:c.jsx(x7,{})}),c.jsx(Vt,{path:"/results/:token",element:c.jsx(z7,{})}),c.jsx(Vt,{path:"/privacy",element:c.jsx(q7,{})}),c.jsx(Vt,{path:"/terms",element:c.jsx(W7,{})}),c.jsx(Vt,{path:"/subprocessors",element:c.jsx(J7,{})}),c.jsx(Vt,{path:"/admin/*",element:c.jsx(Y7,{children:c.jsxs(gS,{children:[c.jsx(Vt,{path:"login",element:c.jsx(Q7,{})}),c.jsx(Vt,{path:"auth/callback",element:c.jsx(X7,{})}),c.jsxs(Vt,{element:c.jsx(OY,{}),children:[c.jsx(Vt,{path:"dashboard",element:c.jsx(nJ,{})}),c.jsx(Vt,{path:"projects",element:c.jsx(YJ,{})}),c.jsx(Vt,{path:"projects/:id",element:c.jsx(TY,{})}),c.jsx(Vt,{path:"settings",element:c.jsx(jY,{})})]})]})})}),c.jsx(Vt,{path:"*",element:c.jsx(RY,{})})]})})]})})});NT(document.getElementById("root")).render(c.jsx(MY,{}));
