var WD=Object.defineProperty;var Jx=e=>{throw TypeError(e)};var HD=(e,t,n)=>t in e?WD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>HD(e,typeof t!="symbol"?t+"":t,n),Lp=(e,t,n)=>t.has(e)||Jx("Cannot "+n);var z=(e,t,n)=>(Lp(e,t,"read from private field"),n?n.call(e):t.get(e)),Ie=(e,t,n)=>t.has(e)?Jx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,r)=>(Lp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),zt=(e,t,n)=>(Lp(e,t,"access private method"),n);var Bu=(e,t,n,r)=>({set _(s){Se(e,t,s,n)},get _(){return z(e,t,r)}});function GD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var KE={exports:{}},Sf={},JE={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),JD=Symbol.for("react.portal"),YD=Symbol.for("react.fragment"),QD=Symbol.for("react.strict_mode"),XD=Symbol.for("react.profiler"),ZD=Symbol.for("react.provider"),e2=Symbol.for("react.context"),t2=Symbol.for("react.forward_ref"),n2=Symbol.for("react.suspense"),r2=Symbol.for("react.memo"),s2=Symbol.for("react.lazy"),Qx=Symbol.iterator;function i2(e){return e===null||typeof e!="object"?null:(e=Qx&&e[Qx]||e["@@iterator"],typeof e=="function"?e:null)}var YE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QE=Object.assign,XE={};function gl(e,t,n){this.props=e,this.context=t,this.refs=XE,this.updater=n||YE}gl.prototype.isReactComponent={};gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZE(){}ZE.prototype=gl.prototype;function Jy(e,t,n){this.props=e,this.context=t,this.refs=XE,this.updater=n||YE}var Yy=Jy.prototype=new ZE;Yy.constructor=Jy;QE(Yy,gl.prototype);Yy.isPureReactComponent=!0;var Xx=Array.isArray,ej=Object.prototype.hasOwnProperty,Qy={current:null},tj={key:!0,ref:!0,__self:!0,__source:!0};function nj(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ej.call(t,r)&&!tj.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gu,type:e,key:i,ref:o,props:s,_owner:Qy.current}}function o2(e,t){return{$$typeof:gu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xy(e){return typeof e=="object"&&e!==null&&e.$$typeof===gu}function a2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zx=/\/+/g;function $p(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a2(""+e.key):t.toString(36)}function $d(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gu:case JD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+$p(o,0):r,Xx(s)?(n="",e!=null&&(n=e.replace(Zx,"$&/")+"/"),$d(s,t,n,"",function(u){return u})):s!=null&&(Xy(s)&&(s=o2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zx,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Xx(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+$p(i,a);o+=$d(i,t,n,c,s)}else if(c=i2(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+$p(i,a++),o+=$d(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(e,t,n){if(e==null)return e;var r=[],s=0;return $d(e,r,"","",function(i){return t.call(n,i,s++)}),r}function l2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pn={current:null},Fd={transition:null},c2={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:Qy};function rj(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:zu,forEach:function(e,t,n){zu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zu(e,function(){t++}),t},toArray:function(e){return zu(e,function(t){return t})||[]},only:function(e){if(!Xy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=gl;Ee.Fragment=YD;Ee.Profiler=XD;Ee.PureComponent=Jy;Ee.StrictMode=QD;Ee.Suspense=n2;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2;Ee.act=rj;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=QE({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Qy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ej.call(t,c)&&!tj.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gu,type:e.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(e){return e={$$typeof:e2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZD,_context:e},e.Consumer=e};Ee.createElement=nj;Ee.createFactory=function(e){var t=nj.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:t2,render:e}};Ee.isValidElement=Xy;Ee.lazy=function(e){return{$$typeof:s2,_payload:{_status:-1,_result:e},_init:l2}};Ee.memo=function(e,t){return{$$typeof:r2,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Fd.transition;Fd.transition={};try{e()}finally{Fd.transition=t}};Ee.unstable_act=rj;Ee.useCallback=function(e,t){return pn.current.useCallback(e,t)};Ee.useContext=function(e){return pn.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return pn.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return pn.current.useEffect(e,t)};Ee.useId=function(){return pn.current.useId()};Ee.useImperativeHandle=function(e,t,n){return pn.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return pn.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return pn.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return pn.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return pn.current.useReducer(e,t,n)};Ee.useRef=function(e){return pn.current.useRef(e)};Ee.useState=function(e){return pn.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return pn.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return pn.current.useTransition()};Ee.version="18.3.1";JE.exports=Ee;var g=JE.exports;const G=GE(g),Zy=GD({__proto__:null,default:G},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=g,d2=Symbol.for("react.element"),h2=Symbol.for("react.fragment"),f2=Object.prototype.hasOwnProperty,p2=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m2={key:!0,ref:!0,__self:!0,__source:!0};function sj(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)f2.call(t,r)&&!m2.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:d2,type:e,key:i,ref:o,props:s,_owner:p2.current}}Sf.Fragment=h2;Sf.jsx=sj;Sf.jsxs=sj;KE.exports=Sf;var l=KE.exports,ij={exports:{}},Ln={},oj={exports:{}},aj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,$){var B=L.length;L.push($);e:for(;0<B;){var te=B-1>>>1,ne=L[te];if(0<s(ne,$))L[te]=$,L[B]=ne,B=te;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],B=L.pop();if(B!==$){L[0]=B;e:for(var te=0,ne=L.length,v=ne>>>1;te<v;){var E=2*(te+1)-1,k=L[E],A=E+1,N=L[A];if(0>s(k,B))A<ne&&0>s(N,k)?(L[te]=N,L[A]=B,te=A):(L[te]=k,L[E]=B,te=E);else if(A<ne&&0>s(N,B))L[te]=N,L[A]=B,te=A;else break e}}return $}function s(L,$){var B=L.sortIndex-$.sortIndex;return B!==0?B:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=L)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function _(L){if(m=!1,S(L),!x)if(n(c)!==null)x=!0,J(j);else{var $=n(u);$!==null&&Y(_,$.startTime-L)}}function j(L,$){x=!1,m&&(m=!1,y(P),P=-1),p=!0;var B=f;try{for(S($),h=n(c);h!==null&&(!(h.expirationTime>$)||L&&!R());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var ne=te(h.expirationTime<=$);$=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(c)&&r(c),S($)}else r(c);h=n(c)}if(h!==null)var v=!0;else{var E=n(u);E!==null&&Y(_,E.startTime-$),v=!1}return v}finally{h=null,f=B,p=!1}}var C=!1,T=null,P=-1,O=5,I=-1;function R(){return!(e.unstable_now()-I<O)}function D(){if(T!==null){var L=e.unstable_now();I=L;var $=!0;try{$=T(!0,L)}finally{$?H():(C=!1,T=null)}}else C=!1}var H;if(typeof w=="function")H=function(){w(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=D,H=function(){Q.postMessage(null)}}else H=function(){b(D,0)};function J(L){T=L,C||(C=!0,H())}function Y(L,$){P=b(function(){L(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,J(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var B=f;f=$;try{return L()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=f;f=L;try{return $()}finally{f=B}},e.unstable_scheduleCallback=function(L,$,B){var te=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=B+ne,L={id:d++,callback:$,priorityLevel:L,startTime:B,expirationTime:ne,sortIndex:-1},B>te?(L.sortIndex=B,t(u,L),n(c)===null&&L===n(u)&&(m?(y(P),P=-1):m=!0,Y(_,B-te))):(L.sortIndex=ne,t(c,L),x||p||(x=!0,J(j))),L},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(L){var $=f;return function(){var B=f;f=$;try{return L.apply(this,arguments)}finally{f=B}}}})(aj);oj.exports=aj;var g2=oj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2=g,Dn=g2;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lj=new Set,Ec={};function Uo(e,t){Ja(e,t),Ja(e+"Capture",t)}function Ja(e,t){for(Ec[e]=t,e=0;e<t.length;e++)lj.add(t[e])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yg=Object.prototype.hasOwnProperty,y2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eb={},tb={};function w2(e){return yg.call(tb,e)?!0:yg.call(eb,e)?!1:y2.test(e)?tb[e]=!0:(eb[e]=!0,!1)}function x2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b2(e,t,n,r){if(t===null||typeof t>"u"||x2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new mn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new mn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new mn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new mn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new mn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new mn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new mn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new mn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new mn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ew=/[\-:]([a-z])/g;function tw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ew,tw);Bt[t]=new mn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ew,tw);Bt[t]=new mn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ew,tw);Bt[t]=new mn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new mn(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new mn(e,1,!1,e.toLowerCase(),null,!0,!0)});function nw(e,t,n,r){var s=Bt.hasOwnProperty(t)?Bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b2(t,n,s,r)&&(n=null),r||s===null?w2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ps=v2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qu=Symbol.for("react.element"),aa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),rw=Symbol.for("react.strict_mode"),wg=Symbol.for("react.profiler"),cj=Symbol.for("react.provider"),uj=Symbol.for("react.context"),sw=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),bg=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),dj=Symbol.for("react.offscreen"),nb=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=nb&&e[nb]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,Fp;function Kl(e){if(Fp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fp=t&&t[1]||""}return`
`+Fp+e}var Up=!1;function Vp(e,t){if(!e||Up)return"";Up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Up=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Kl(e):""}function S2(e){switch(e.tag){case 5:return Kl(e.type);case 16:return Kl("Lazy");case 13:return Kl("Suspense");case 19:return Kl("SuspenseList");case 0:case 2:case 15:return e=Vp(e.type,!1),e;case 11:return e=Vp(e.type.render,!1),e;case 1:return e=Vp(e.type,!0),e;default:return""}}function Sg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case la:return"Fragment";case aa:return"Portal";case wg:return"Profiler";case rw:return"StrictMode";case xg:return"Suspense";case bg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uj:return(e.displayName||"Context")+".Consumer";case cj:return(e._context.displayName||"Context")+".Provider";case sw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case iw:return t=e.displayName||null,t!==null?t:Sg(e.type)||"Memo";case Ks:t=e._payload,e=e._init;try{return Sg(e(t))}catch{}}return null}function _2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sg(t);case 8:return t===rw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _i(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k2(e){var t=hj(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){e._valueTracker||(e._valueTracker=k2(e))}function fj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hj(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _g(e,t){var n=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_i(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pj(e,t){t=t.checked,t!=null&&nw(e,"checked",t,!1)}function kg(e,t){pj(e,t);var n=_i(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Eg(e,t.type,_i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Eg(e,t,n){(t!=="number"||mh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jl=Array.isArray;function Ea(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_i(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function jg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ib(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Jl(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_i(n)}}function mj(e,t){var n=_i(t.value),r=_i(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ob(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hu,vj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E2=["Webkit","ms","Moz","O"];Object.keys(oc).forEach(function(e){E2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oc[t]=oc[e]})});function yj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||oc.hasOwnProperty(e)&&oc[e]?(""+t).trim():t+"px"}function wj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yj(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var j2=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tg(e,t){if(t){if(j2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Ng(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ag=null;function ow(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pg=null,ja=null,Ca=null;function ab(e){if(e=wu(e)){if(typeof Pg!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Cf(t),Pg(e.stateNode,e.type,t))}}function xj(e){ja?Ca?Ca.push(e):Ca=[e]:ja=e}function bj(){if(ja){var e=ja,t=Ca;if(Ca=ja=null,ab(e),t)for(e=0;e<t.length;e++)ab(t[e])}}function Sj(e,t){return e(t)}function _j(){}var Bp=!1;function kj(e,t,n){if(Bp)return e(t,n);Bp=!0;try{return Sj(e,t,n)}finally{Bp=!1,(ja!==null||Ca!==null)&&(_j(),bj())}}function Cc(e,t){var n=e.stateNode;if(n===null)return null;var r=Cf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Rg=!1;if(_s)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{Rg=!1}function C2(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ac=!1,gh=null,vh=!1,Og=null,T2={onError:function(e){ac=!0,gh=e}};function N2(e,t,n,r,s,i,o,a,c){ac=!1,gh=null,C2.apply(T2,arguments)}function A2(e,t,n,r,s,i,o,a,c){if(N2.apply(this,arguments),ac){if(ac){var u=gh;ac=!1,gh=null}else throw Error(K(198));vh||(vh=!0,Og=u)}}function Vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ej(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lb(e){if(Vo(e)!==e)throw Error(K(188))}function P2(e){var t=e.alternate;if(!t){if(t=Vo(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return lb(s),e;if(i===r)return lb(s),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function jj(e){return e=P2(e),e!==null?Cj(e):null}function Cj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cj(e);if(t!==null)return t;e=e.sibling}return null}var Tj=Dn.unstable_scheduleCallback,cb=Dn.unstable_cancelCallback,R2=Dn.unstable_shouldYield,O2=Dn.unstable_requestPaint,mt=Dn.unstable_now,I2=Dn.unstable_getCurrentPriorityLevel,aw=Dn.unstable_ImmediatePriority,Nj=Dn.unstable_UserBlockingPriority,yh=Dn.unstable_NormalPriority,M2=Dn.unstable_LowPriority,Aj=Dn.unstable_IdlePriority,_f=null,Qr=null;function D2(e){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(_f,e,void 0,(e.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:F2,L2=Math.log,$2=Math.LN2;function F2(e){return e>>>=0,e===0?32:31-(L2(e)/$2|0)|0}var Gu=64,Ku=4194304;function Yl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Yl(a):(i&=o,i!==0&&(r=Yl(i)))}else o=n&~s,o!==0?r=Yl(o):i!==0&&(r=Yl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jr(t),s=1<<n,r|=e[n],t&=~s;return r}function U2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-jr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=U2(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Ig(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pj(){var e=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),e}function zp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jr(t),e[t]=n}function B2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function lw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Le=0;function Rj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oj,cw,Ij,Mj,Dj,Mg=!1,Ju=[],di=null,hi=null,fi=null,Tc=new Map,Nc=new Map,Xs=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ub(e,t){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":Tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(t.pointerId)}}function Ll(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=wu(t),t!==null&&cw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function q2(e,t,n,r,s){switch(t){case"focusin":return di=Ll(di,e,t,n,r,s),!0;case"dragenter":return hi=Ll(hi,e,t,n,r,s),!0;case"mouseover":return fi=Ll(fi,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tc.set(i,Ll(Tc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Nc.set(i,Ll(Nc.get(i)||null,e,t,n,r,s)),!0}return!1}function Lj(e){var t=so(e.target);if(t!==null){var n=Vo(t);if(n!==null){if(t=n.tag,t===13){if(t=Ej(n),t!==null){e.blockedOn=t,Dj(e.priority,function(){Ij(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ud(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ag=r,n.target.dispatchEvent(r),Ag=null}else return t=wu(n),t!==null&&cw(t),e.blockedOn=n,!1;t.shift()}return!0}function db(e,t,n){Ud(e)&&n.delete(t)}function W2(){Mg=!1,di!==null&&Ud(di)&&(di=null),hi!==null&&Ud(hi)&&(hi=null),fi!==null&&Ud(fi)&&(fi=null),Tc.forEach(db),Nc.forEach(db)}function $l(e,t){e.blockedOn===t&&(e.blockedOn=null,Mg||(Mg=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,W2)))}function Ac(e){function t(s){return $l(s,e)}if(0<Ju.length){$l(Ju[0],e);for(var n=1;n<Ju.length;n++){var r=Ju[n];r.blockedOn===e&&(r.blockedOn=null)}}for(di!==null&&$l(di,e),hi!==null&&$l(hi,e),fi!==null&&$l(fi,e),Tc.forEach(t),Nc.forEach(t),n=0;n<Xs.length;n++)r=Xs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xs.length&&(n=Xs[0],n.blockedOn===null);)Lj(n),n.blockedOn===null&&Xs.shift()}var Ta=Ps.ReactCurrentBatchConfig,xh=!0;function H2(e,t,n,r){var s=Le,i=Ta.transition;Ta.transition=null;try{Le=1,uw(e,t,n,r)}finally{Le=s,Ta.transition=i}}function G2(e,t,n,r){var s=Le,i=Ta.transition;Ta.transition=null;try{Le=4,uw(e,t,n,r)}finally{Le=s,Ta.transition=i}}function uw(e,t,n,r){if(xh){var s=Dg(e,t,n,r);if(s===null)Zp(e,t,r,bh,n),ub(e,r);else if(q2(s,e,t,n,r))r.stopPropagation();else if(ub(e,r),t&4&&-1<z2.indexOf(e)){for(;s!==null;){var i=wu(s);if(i!==null&&Oj(i),i=Dg(e,t,n,r),i===null&&Zp(e,t,r,bh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zp(e,t,r,null,n)}}var bh=null;function Dg(e,t,n,r){if(bh=null,e=ow(r),e=so(e),e!==null)if(t=Vo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ej(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bh=e,null}function $j(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I2()){case aw:return 1;case Nj:return 4;case yh:case M2:return 16;case Aj:return 536870912;default:return 16}default:return 16}}var ai=null,dw=null,Vd=null;function Fj(){if(Vd)return Vd;var e,t=dw,n=t.length,r,s="value"in ai?ai.value:ai.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Vd=s.slice(e,1<r?1-r:void 0)}function Bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yu(){return!0}function hb(){return!1}function $n(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yu:hb,this.isPropagationStopped=hb,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),t}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hw=$n(vl),yu=ct({},vl,{view:0,detail:0}),K2=$n(yu),qp,Wp,Fl,kf=ct({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(qp=e.screenX-Fl.screenX,Wp=e.screenY-Fl.screenY):Wp=qp=0,Fl=e),qp)},movementY:function(e){return"movementY"in e?e.movementY:Wp}}),fb=$n(kf),J2=ct({},kf,{dataTransfer:0}),Y2=$n(J2),Q2=ct({},yu,{relatedTarget:0}),Hp=$n(Q2),X2=ct({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),Z2=$n(X2),eL=ct({},vl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tL=$n(eL),nL=ct({},vl,{data:0}),pb=$n(nL),rL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iL[e])?!!t[e]:!1}function fw(){return oL}var aL=ct({},yu,{key:function(e){if(e.key){var t=rL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fw,charCode:function(e){return e.type==="keypress"?Bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lL=$n(aL),cL=ct({},kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mb=$n(cL),uL=ct({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fw}),dL=$n(uL),hL=ct({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fL=$n(hL),pL=ct({},kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mL=$n(pL),gL=[9,13,27,32],pw=_s&&"CompositionEvent"in window,lc=null;_s&&"documentMode"in document&&(lc=document.documentMode);var vL=_s&&"TextEvent"in window&&!lc,Uj=_s&&(!pw||lc&&8<lc&&11>=lc),gb=" ",vb=!1;function Vj(e,t){switch(e){case"keyup":return gL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function yL(e,t){switch(e){case"compositionend":return Bj(t);case"keypress":return t.which!==32?null:(vb=!0,gb);case"textInput":return e=t.data,e===gb&&vb?null:e;default:return null}}function wL(e,t){if(ca)return e==="compositionend"||!pw&&Vj(e,t)?(e=Fj(),Vd=dw=ai=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uj&&t.locale!=="ko"?null:t.data;default:return null}}var xL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xL[e.type]:t==="textarea"}function zj(e,t,n,r){xj(r),t=Sh(t,"onChange"),0<t.length&&(n=new hw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cc=null,Pc=null;function bL(e){eC(e,0)}function Ef(e){var t=ha(e);if(fj(t))return e}function SL(e,t){if(e==="change")return t}var qj=!1;if(_s){var Gp;if(_s){var Kp="oninput"in document;if(!Kp){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),Kp=typeof wb.oninput=="function"}Gp=Kp}else Gp=!1;qj=Gp&&(!document.documentMode||9<document.documentMode)}function xb(){cc&&(cc.detachEvent("onpropertychange",Wj),Pc=cc=null)}function Wj(e){if(e.propertyName==="value"&&Ef(Pc)){var t=[];zj(t,Pc,e,ow(e)),kj(bL,t)}}function _L(e,t,n){e==="focusin"?(xb(),cc=t,Pc=n,cc.attachEvent("onpropertychange",Wj)):e==="focusout"&&xb()}function kL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(Pc)}function EL(e,t){if(e==="click")return Ef(t)}function jL(e,t){if(e==="input"||e==="change")return Ef(t)}function CL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pr=typeof Object.is=="function"?Object.is:CL;function Rc(e,t){if(Pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yg.call(t,s)||!Pr(e[s],t[s]))return!1}return!0}function bb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sb(e,t){var n=bb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bb(n)}}function Hj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gj(){for(var e=window,t=mh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mh(e.document)}return t}function mw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TL(e){var t=Gj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hj(n.ownerDocument.documentElement,n)){if(r!==null&&mw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Sb(n,i);var o=Sb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NL=_s&&"documentMode"in document&&11>=document.documentMode,ua=null,Lg=null,uc=null,$g=!1;function _b(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$g||ua==null||ua!==mh(r)||(r=ua,"selectionStart"in r&&mw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uc&&Rc(uc,r)||(uc=r,r=Sh(Lg,"onSelect"),0<r.length&&(t=new hw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ua)))}function Qu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var da={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Jp={},Kj={};_s&&(Kj=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function jf(e){if(Jp[e])return Jp[e];if(!da[e])return e;var t=da[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kj)return Jp[e]=t[n];return e}var Jj=jf("animationend"),Yj=jf("animationiteration"),Qj=jf("animationstart"),Xj=jf("transitionend"),Zj=new Map,kb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Zj.set(e,t),Uo(t,[e])}for(var Yp=0;Yp<kb.length;Yp++){var Qp=kb[Yp],AL=Qp.toLowerCase(),PL=Qp[0].toUpperCase()+Qp.slice(1);Mi(AL,"on"+PL)}Mi(Jj,"onAnimationEnd");Mi(Yj,"onAnimationIteration");Mi(Qj,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(Xj,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function Eb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,A2(r,t,void 0,e),e.currentTarget=null}function eC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Eb(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Eb(s,a,u),i=c}}}if(vh)throw e=Og,vh=!1,Og=null,e}function Ge(e,t){var n=t[zg];n===void 0&&(n=t[zg]=new Set);var r=e+"__bubble";n.has(r)||(tC(t,e,2,!1),n.add(r))}function Xp(e,t,n){var r=0;t&&(r|=4),tC(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Xu]){e[Xu]=!0,lj.forEach(function(n){n!=="selectionchange"&&(RL.has(n)||Xp(n,!1,e),Xp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xu]||(t[Xu]=!0,Xp("selectionchange",!1,t))}}function tC(e,t,n,r){switch($j(t)){case 1:var s=H2;break;case 4:s=G2;break;default:s=uw}n=s.bind(null,t,n,e),s=void 0,!Rg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zp(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=so(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kj(function(){var u=i,d=ow(n),h=[];e:{var f=Zj.get(e);if(f!==void 0){var p=hw,x=e;switch(e){case"keypress":if(Bd(n)===0)break e;case"keydown":case"keyup":p=lL;break;case"focusin":x="focus",p=Hp;break;case"focusout":x="blur",p=Hp;break;case"beforeblur":case"afterblur":p=Hp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Y2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dL;break;case Jj:case Yj:case Qj:p=Z2;break;case Xj:p=fL;break;case"scroll":p=K2;break;case"wheel":p=mL;break;case"copy":case"cut":case"paste":p=tL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mb}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var w=u,S;w!==null;){S=w;var _=S.stateNode;if(S.tag===5&&_!==null&&(S=_,y!==null&&(_=Cc(w,y),_!=null&&m.push(Ic(w,_,S)))),b)break;w=w.return}0<m.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Ag&&(x=n.relatedTarget||n.fromElement)&&(so(x)||x[ks]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?so(x):null,x!==null&&(b=Vo(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=fb,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=mb,_="onPointerLeave",y="onPointerEnter",w="pointer"),b=p==null?f:ha(p),S=x==null?f:ha(x),f=new m(_,w+"leave",p,n,d),f.target=b,f.relatedTarget=S,_=null,so(d)===u&&(m=new m(y,w+"enter",x,n,d),m.target=S,m.relatedTarget=b,_=m),b=_,p&&x)t:{for(m=p,y=x,w=0,S=m;S;S=Ho(S))w++;for(S=0,_=y;_;_=Ho(_))S++;for(;0<w-S;)m=Ho(m),w--;for(;0<S-w;)y=Ho(y),S--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ho(m),y=Ho(y)}m=null}else m=null;p!==null&&jb(h,f,p,m,!1),x!==null&&b!==null&&jb(h,b,x,m,!0)}}e:{if(f=u?ha(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=SL;else if(yb(f))if(qj)j=jL;else{j=kL;var C=_L}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=EL);if(j&&(j=j(e,u))){zj(h,j,n,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Eg(f,"number",f.value)}switch(C=u?ha(u):window,e){case"focusin":(yb(C)||C.contentEditable==="true")&&(ua=C,Lg=u,uc=null);break;case"focusout":uc=Lg=ua=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,_b(h,n,d);break;case"selectionchange":if(NL)break;case"keydown":case"keyup":_b(h,n,d)}var T;if(pw)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ca?Vj(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Uj&&n.locale!=="ko"&&(ca||P!=="onCompositionStart"?P==="onCompositionEnd"&&ca&&(T=Fj()):(ai=d,dw="value"in ai?ai.value:ai.textContent,ca=!0)),C=Sh(u,P),0<C.length&&(P=new pb(P,e,null,n,d),h.push({event:P,listeners:C}),T?P.data=T:(T=Bj(n),T!==null&&(P.data=T)))),(T=vL?yL(e,n):wL(e,n))&&(u=Sh(u,"onBeforeInput"),0<u.length&&(d=new pb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}eC(h,t)})}function Ic(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Cc(e,n),i!=null&&r.unshift(Ic(e,i,s)),i=Cc(e,t),i!=null&&r.push(Ic(e,i,s))),e=e.return}return r}function Ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jb(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Cc(n,i),c!=null&&o.unshift(Ic(n,c,a))):s||(c=Cc(n,i),c!=null&&o.push(Ic(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var OL=/\r\n?/g,IL=/\u0000|\uFFFD/g;function Cb(e){return(typeof e=="string"?e:""+e).replace(OL,`
`).replace(IL,"")}function Zu(e,t,n){if(t=Cb(t),Cb(e)!==t&&n)throw Error(K(425))}function _h(){}var Fg=null,Ug=null;function Vg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bg=typeof setTimeout=="function"?setTimeout:void 0,ML=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,DL=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(e){return Tb.resolve(null).then(e).catch(LL)}:Bg;function LL(e){setTimeout(function(){throw e})}function em(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ac(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ac(t)}function pi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yl=Math.random().toString(36).slice(2),Hr="__reactFiber$"+yl,Mc="__reactProps$"+yl,ks="__reactContainer$"+yl,zg="__reactEvents$"+yl,$L="__reactListeners$"+yl,FL="__reactHandles$"+yl;function so(e){var t=e[Hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ks]||n[Hr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nb(e);e!==null;){if(n=e[Hr])return n;e=Nb(e)}return t}e=n,n=e.parentNode}return null}function wu(e){return e=e[Hr]||e[ks],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Cf(e){return e[Mc]||null}var qg=[],fa=-1;function Di(e){return{current:e}}function Ye(e){0>fa||(e.current=qg[fa],qg[fa]=null,fa--)}function qe(e,t){fa++,qg[fa]=e.current,e.current=t}var ki={},en=Di(ki),wn=Di(!1),jo=ki;function Ya(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xn(e){return e=e.childContextTypes,e!=null}function kh(){Ye(wn),Ye(en)}function Ab(e,t,n){if(en.current!==ki)throw Error(K(168));qe(en,t),qe(wn,n)}function nC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,_2(e)||"Unknown",s));return ct({},n,r)}function Eh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,jo=en.current,qe(en,e),qe(wn,wn.current),!0}function Pb(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=nC(e,t,jo),r.__reactInternalMemoizedMergedChildContext=e,Ye(wn),Ye(en),qe(en,e)):Ye(wn),qe(wn,n)}var ms=null,Tf=!1,tm=!1;function rC(e){ms===null?ms=[e]:ms.push(e)}function UL(e){Tf=!0,rC(e)}function Li(){if(!tm&&ms!==null){tm=!0;var e=0,t=Le;try{var n=ms;for(Le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ms=null,Tf=!1}catch(s){throw ms!==null&&(ms=ms.slice(e+1)),Tj(aw,Li),s}finally{Le=t,tm=!1}}return null}var pa=[],ma=0,jh=null,Ch=0,Gn=[],Kn=0,Co=null,vs=1,ys="";function Xi(e,t){pa[ma++]=Ch,pa[ma++]=jh,jh=e,Ch=t}function sC(e,t,n){Gn[Kn++]=vs,Gn[Kn++]=ys,Gn[Kn++]=Co,Co=e;var r=vs;e=ys;var s=32-jr(r)-1;r&=~(1<<s),n+=1;var i=32-jr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,vs=1<<32-jr(t)+s|n<<s|r,ys=i+e}else vs=1<<i|n<<s|r,ys=e}function gw(e){e.return!==null&&(Xi(e,1),sC(e,1,0))}function vw(e){for(;e===jh;)jh=pa[--ma],pa[ma]=null,Ch=pa[--ma],pa[ma]=null;for(;e===Co;)Co=Gn[--Kn],Gn[Kn]=null,ys=Gn[--Kn],Gn[Kn]=null,vs=Gn[--Kn],Gn[Kn]=null}var In=null,Rn=null,nt=!1,Er=null;function iC(e,t){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Rb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,In=e,Rn=pi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,In=e,Rn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Co!==null?{id:vs,overflow:ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,In=e,Rn=null,!0):!1;default:return!1}}function Wg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hg(e){if(nt){var t=Rn;if(t){var n=t;if(!Rb(e,t)){if(Wg(e))throw Error(K(418));t=pi(n.nextSibling);var r=In;t&&Rb(e,t)?iC(r,n):(e.flags=e.flags&-4097|2,nt=!1,In=e)}}else{if(Wg(e))throw Error(K(418));e.flags=e.flags&-4097|2,nt=!1,In=e}}}function Ob(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;In=e}function ed(e){if(e!==In)return!1;if(!nt)return Ob(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vg(e.type,e.memoizedProps)),t&&(t=Rn)){if(Wg(e))throw oC(),Error(K(418));for(;t;)iC(e,t),t=pi(t.nextSibling)}if(Ob(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rn=pi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rn=null}}else Rn=In?pi(e.stateNode.nextSibling):null;return!0}function oC(){for(var e=Rn;e;)e=pi(e.nextSibling)}function Qa(){Rn=In=null,nt=!1}function yw(e){Er===null?Er=[e]:Er.push(e)}var VL=Ps.ReactCurrentBatchConfig;function Ul(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function td(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ib(e){var t=e._init;return t(e._payload)}function aC(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=yi(y,w),y.index=0,y.sibling=null,y}function i(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,_){return w===null||w.tag!==6?(w=lm(S,y.mode,_),w.return=y,w):(w=s(w,S),w.return=y,w)}function c(y,w,S,_){var j=S.type;return j===la?d(y,w,S.props.children,_,S.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ks&&Ib(j)===w.type)?(_=s(w,S.props),_.ref=Ul(y,w,S),_.return=y,_):(_=Jd(S.type,S.key,S.props,null,y.mode,_),_.ref=Ul(y,w,S),_.return=y,_)}function u(y,w,S,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=cm(S,y.mode,_),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function d(y,w,S,_,j){return w===null||w.tag!==7?(w=xo(S,y.mode,_,j),w.return=y,w):(w=s(w,S),w.return=y,w)}function h(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=lm(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qu:return S=Jd(w.type,w.key,w.props,null,y.mode,S),S.ref=Ul(y,null,w),S.return=y,S;case aa:return w=cm(w,y.mode,S),w.return=y,w;case Ks:var _=w._init;return h(y,_(w._payload),S)}if(Jl(w)||Ml(w))return w=xo(w,y.mode,S,null),w.return=y,w;td(y,w)}return null}function f(y,w,S,_){var j=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:a(y,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qu:return S.key===j?c(y,w,S,_):null;case aa:return S.key===j?u(y,w,S,_):null;case Ks:return j=S._init,f(y,w,j(S._payload),_)}if(Jl(S)||Ml(S))return j!==null?null:d(y,w,S,_,null);td(y,S)}return null}function p(y,w,S,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(S)||null,a(w,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qu:return y=y.get(_.key===null?S:_.key)||null,c(w,y,_,j);case aa:return y=y.get(_.key===null?S:_.key)||null,u(w,y,_,j);case Ks:var C=_._init;return p(y,w,S,C(_._payload),j)}if(Jl(_)||Ml(_))return y=y.get(S)||null,d(w,y,_,j,null);td(w,_)}return null}function x(y,w,S,_){for(var j=null,C=null,T=w,P=w=0,O=null;T!==null&&P<S.length;P++){T.index>P?(O=T,T=null):O=T.sibling;var I=f(y,T,S[P],_);if(I===null){T===null&&(T=O);break}e&&T&&I.alternate===null&&t(y,T),w=i(I,w,P),C===null?j=I:C.sibling=I,C=I,T=O}if(P===S.length)return n(y,T),nt&&Xi(y,P),j;if(T===null){for(;P<S.length;P++)T=h(y,S[P],_),T!==null&&(w=i(T,w,P),C===null?j=T:C.sibling=T,C=T);return nt&&Xi(y,P),j}for(T=r(y,T);P<S.length;P++)O=p(T,y,P,S[P],_),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?P:O.key),w=i(O,w,P),C===null?j=O:C.sibling=O,C=O);return e&&T.forEach(function(R){return t(y,R)}),nt&&Xi(y,P),j}function m(y,w,S,_){var j=Ml(S);if(typeof j!="function")throw Error(K(150));if(S=j.call(S),S==null)throw Error(K(151));for(var C=j=null,T=w,P=w=0,O=null,I=S.next();T!==null&&!I.done;P++,I=S.next()){T.index>P?(O=T,T=null):O=T.sibling;var R=f(y,T,I.value,_);if(R===null){T===null&&(T=O);break}e&&T&&R.alternate===null&&t(y,T),w=i(R,w,P),C===null?j=R:C.sibling=R,C=R,T=O}if(I.done)return n(y,T),nt&&Xi(y,P),j;if(T===null){for(;!I.done;P++,I=S.next())I=h(y,I.value,_),I!==null&&(w=i(I,w,P),C===null?j=I:C.sibling=I,C=I);return nt&&Xi(y,P),j}for(T=r(y,T);!I.done;P++,I=S.next())I=p(T,y,P,I.value,_),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?P:I.key),w=i(I,w,P),C===null?j=I:C.sibling=I,C=I);return e&&T.forEach(function(D){return t(y,D)}),nt&&Xi(y,P),j}function b(y,w,S,_){if(typeof S=="object"&&S!==null&&S.type===la&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case qu:e:{for(var j=S.key,C=w;C!==null;){if(C.key===j){if(j=S.type,j===la){if(C.tag===7){n(y,C.sibling),w=s(C,S.props.children),w.return=y,y=w;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ks&&Ib(j)===C.type){n(y,C.sibling),w=s(C,S.props),w.ref=Ul(y,C,S),w.return=y,y=w;break e}n(y,C);break}else t(y,C);C=C.sibling}S.type===la?(w=xo(S.props.children,y.mode,_,S.key),w.return=y,y=w):(_=Jd(S.type,S.key,S.props,null,y.mode,_),_.ref=Ul(y,w,S),_.return=y,y=_)}return o(y);case aa:e:{for(C=S.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=cm(S,y.mode,_),w.return=y,y=w}return o(y);case Ks:return C=S._init,b(y,w,C(S._payload),_)}if(Jl(S))return x(y,w,S,_);if(Ml(S))return m(y,w,S,_);td(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=lm(S,y.mode,_),w.return=y,y=w),o(y)):n(y,w)}return b}var Xa=aC(!0),lC=aC(!1),Th=Di(null),Nh=null,ga=null,ww=null;function xw(){ww=ga=Nh=null}function bw(e){var t=Th.current;Ye(Th),e._currentValue=t}function Gg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Na(e,t){Nh=e,ww=ga=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yn=!0),e.firstContext=null)}function nr(e){var t=e._currentValue;if(ww!==e)if(e={context:e,memoizedValue:t,next:null},ga===null){if(Nh===null)throw Error(K(308));ga=e,Nh.dependencies={lanes:0,firstContext:e}}else ga=ga.next=e;return t}var io=null;function Sw(e){io===null?io=[e]:io.push(e)}function cC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Sw(t)):(n.next=s.next,s.next=n),t.interleaved=n,Es(e,r)}function Es(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Js=!1;function _w(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Es(e,n)}return s=r.interleaved,s===null?(t.next=t,Sw(r)):(t.next=s.next,s.next=t),r.interleaved=t,Es(e,n)}function zd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lw(e,n)}}function Mb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ah(e,t,n,r){var s=e.updateQueue;Js=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,m=a;switch(f=t,p=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=ct({},h,f);break e;case 2:Js=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);No|=o,e.lanes=o,e.memoizedState=h}}function Db(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var xu={},Xr=Di(xu),Dc=Di(xu),Lc=Di(xu);function oo(e){if(e===xu)throw Error(K(174));return e}function kw(e,t){switch(qe(Lc,t),qe(Dc,e),qe(Xr,xu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cg(t,e)}Ye(Xr),qe(Xr,t)}function Za(){Ye(Xr),Ye(Dc),Ye(Lc)}function dC(e){oo(Lc.current);var t=oo(Xr.current),n=Cg(t,e.type);t!==n&&(qe(Dc,e),qe(Xr,n))}function Ew(e){Dc.current===e&&(Ye(Xr),Ye(Dc))}var it=Di(0);function Ph(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nm=[];function jw(){for(var e=0;e<nm.length;e++)nm[e]._workInProgressVersionPrimary=null;nm.length=0}var qd=Ps.ReactCurrentDispatcher,rm=Ps.ReactCurrentBatchConfig,To=0,lt=null,jt=null,Pt=null,Rh=!1,dc=!1,$c=0,BL=0;function qt(){throw Error(K(321))}function Cw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function Tw(e,t,n,r,s,i){if(To=i,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qd.current=e===null||e.memoizedState===null?HL:GL,e=n(r,s),dc){i=0;do{if(dc=!1,$c=0,25<=i)throw Error(K(301));i+=1,Pt=jt=null,t.updateQueue=null,qd.current=KL,e=n(r,s)}while(dc)}if(qd.current=Oh,t=jt!==null&&jt.next!==null,To=0,Pt=jt=lt=null,Rh=!1,t)throw Error(K(300));return e}function Nw(){var e=$c!==0;return $c=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?lt.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function rr(){if(jt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Pt===null?lt.memoizedState:Pt.next;if(t!==null)Pt=t,jt=e;else{if(e===null)throw Error(K(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Pt===null?lt.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Fc(e,t){return typeof t=="function"?t(e):t}function sm(e){var t=rr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((To&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,lt.lanes|=d,No|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Pr(r,t.memoizedState)||(yn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,lt.lanes|=i,No|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function im(e){var t=rr(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Pr(i,t.memoizedState)||(yn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hC(){}function fC(e,t){var n=lt,r=rr(),s=t(),i=!Pr(r.memoizedState,s);if(i&&(r.memoizedState=s,yn=!0),r=r.queue,Aw(gC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Uc(9,mC.bind(null,n,r,s,t),void 0,null),Ot===null)throw Error(K(349));To&30||pC(n,t,s)}return s}function pC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mC(e,t,n,r){t.value=n,t.getSnapshot=r,vC(t)&&yC(e)}function gC(e,t,n){return n(function(){vC(t)&&yC(e)})}function vC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pr(e,n)}catch{return!0}}function yC(e){var t=Es(e,1);t!==null&&Cr(t,e,1,-1)}function Lb(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:e},t.queue=e,e=e.dispatch=WL.bind(null,lt,e),[t.memoizedState,e]}function Uc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wC(){return rr().memoizedState}function Wd(e,t,n,r){var s=Fr();lt.flags|=e,s.memoizedState=Uc(1|t,n,void 0,r===void 0?null:r)}function Nf(e,t,n,r){var s=rr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&Cw(r,o.deps)){s.memoizedState=Uc(t,n,i,r);return}}lt.flags|=e,s.memoizedState=Uc(1|t,n,i,r)}function $b(e,t){return Wd(8390656,8,e,t)}function Aw(e,t){return Nf(2048,8,e,t)}function xC(e,t){return Nf(4,2,e,t)}function bC(e,t){return Nf(4,4,e,t)}function SC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _C(e,t,n){return n=n!=null?n.concat([e]):null,Nf(4,4,SC.bind(null,t,e),n)}function Pw(){}function kC(e,t){var n=rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EC(e,t){var n=rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jC(e,t,n){return To&21?(Pr(n,t)||(n=Pj(),lt.lanes|=n,No|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yn=!0),e.memoizedState=n)}function zL(e,t){var n=Le;Le=n!==0&&4>n?n:4,e(!0);var r=rm.transition;rm.transition={};try{e(!1),t()}finally{Le=n,rm.transition=r}}function CC(){return rr().memoizedState}function qL(e,t,n){var r=vi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TC(e))NC(t,n);else if(n=cC(e,t,n,r),n!==null){var s=fn();Cr(n,e,r,s),AC(n,t,r)}}function WL(e,t,n){var r=vi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TC(e))NC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Pr(a,o)){var c=t.interleaved;c===null?(s.next=s,Sw(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=cC(e,t,s,r),n!==null&&(s=fn(),Cr(n,e,r,s),AC(n,t,r))}}function TC(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function NC(e,t){dc=Rh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,lw(e,n)}}var Oh={readContext:nr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},HL={readContext:nr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:nr,useEffect:$b,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wd(4194308,4,SC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wd(4,2,e,t)},useMemo:function(e,t){var n=Fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qL.bind(null,lt,e),[r.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:Lb,useDebugValue:Pw,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=Lb(!1),t=e[0];return e=zL.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lt,s=Fr();if(nt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Ot===null)throw Error(K(349));To&30||pC(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$b(gC.bind(null,r,i,e),[e]),r.flags|=2048,Uc(9,mC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Fr(),t=Ot.identifierPrefix;if(nt){var n=ys,r=vs;n=(r&~(1<<32-jr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$c++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=BL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GL={readContext:nr,useCallback:kC,useContext:nr,useEffect:Aw,useImperativeHandle:_C,useInsertionEffect:xC,useLayoutEffect:bC,useMemo:EC,useReducer:sm,useRef:wC,useState:function(){return sm(Fc)},useDebugValue:Pw,useDeferredValue:function(e){var t=rr();return jC(t,jt.memoizedState,e)},useTransition:function(){var e=sm(Fc)[0],t=rr().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:fC,useId:CC,unstable_isNewReconciler:!1},KL={readContext:nr,useCallback:kC,useContext:nr,useEffect:Aw,useImperativeHandle:_C,useInsertionEffect:xC,useLayoutEffect:bC,useMemo:EC,useReducer:im,useRef:wC,useState:function(){return im(Fc)},useDebugValue:Pw,useDeferredValue:function(e){var t=rr();return jt===null?t.memoizedState=e:jC(t,jt.memoizedState,e)},useTransition:function(){var e=im(Fc)[0],t=rr().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:fC,useId:CC,unstable_isNewReconciler:!1};function yr(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Kg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Af={isMounted:function(e){return(e=e._reactInternals)?Vo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fn(),s=vi(e),i=bs(r,s);i.payload=t,n!=null&&(i.callback=n),t=mi(e,i,s),t!==null&&(Cr(t,e,s,r),zd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fn(),s=vi(e),i=bs(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mi(e,i,s),t!==null&&(Cr(t,e,s,r),zd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),r=vi(e),s=bs(n,r);s.tag=2,t!=null&&(s.callback=t),t=mi(e,s,r),t!==null&&(Cr(t,e,r,n),zd(t,e,r))}};function Fb(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Rc(n,r)||!Rc(s,i):!0}function PC(e,t,n){var r=!1,s=ki,i=t.contextType;return typeof i=="object"&&i!==null?i=nr(i):(s=xn(t)?jo:en.current,r=t.contextTypes,i=(r=r!=null)?Ya(e,s):ki),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Af,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ub(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Af.enqueueReplaceState(t,t.state,null)}function Jg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_w(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nr(i):(i=xn(t)?jo:en.current,s.context=Ya(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Kg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Af.enqueueReplaceState(s,s.state,null),Ah(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var n="",r=t;do n+=S2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function om(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var JL=typeof WeakMap=="function"?WeakMap:Map;function RC(e,t,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mh||(Mh=!0,ov=r),Yg(e,t)},n}function OC(e,t,n){n=bs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Yg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yg(e,t),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Vb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new JL;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=c$.bind(null,e,t,n),t.then(e,e))}function Bb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zb(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bs(-1,1),t.tag=2,mi(n,t,1))),n.lanes|=1),e)}var YL=Ps.ReactCurrentOwner,yn=!1;function an(e,t,n,r){t.child=e===null?lC(t,null,n,r):Xa(t,e.child,n,r)}function qb(e,t,n,r,s){n=n.render;var i=t.ref;return Na(t,s),r=Tw(e,t,n,r,i,s),n=Nw(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,js(e,t,s)):(nt&&n&&gw(t),t.flags|=1,an(e,t,r,s),t.child)}function Wb(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Fw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,IC(e,t,i,r,s)):(e=Jd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rc,n(o,r)&&e.ref===t.ref)return js(e,t,s)}return t.flags|=1,e=yi(i,r),e.ref=t.ref,e.return=t,t.child=e}function IC(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Rc(i,r)&&e.ref===t.ref)if(yn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(yn=!0);else return t.lanes=e.lanes,js(e,t,s)}return Qg(e,t,n,r,s)}function MC(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ya,Cn),Cn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(ya,Cn),Cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(ya,Cn),Cn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,qe(ya,Cn),Cn|=r;return an(e,t,s,n),t.child}function DC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qg(e,t,n,r,s){var i=xn(n)?jo:en.current;return i=Ya(t,i),Na(t,s),n=Tw(e,t,n,r,i,s),r=Nw(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,js(e,t,s)):(nt&&r&&gw(t),t.flags|=1,an(e,t,n,s),t.child)}function Hb(e,t,n,r,s){if(xn(n)){var i=!0;Eh(t)}else i=!1;if(Na(t,s),t.stateNode===null)Hd(e,t),PC(t,n,r),Jg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=xn(n)?jo:en.current,u=Ya(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Ub(t,o,r,u),Js=!1;var f=t.memoizedState;o.state=f,Ah(t,r,o,s),c=t.memoizedState,a!==r||f!==c||wn.current||Js?(typeof d=="function"&&(Kg(t,n,d,r),c=t.memoizedState),(a=Js||Fb(t,n,a,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,uC(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:yr(t.type,a),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=nr(c):(c=xn(n)?jo:en.current,c=Ya(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Ub(t,o,r,c),Js=!1,f=t.memoizedState,o.state=f,Ah(t,r,o,s);var x=t.memoizedState;a!==h||f!==x||wn.current||Js?(typeof p=="function"&&(Kg(t,n,p,r),x=t.memoizedState),(u=Js||Fb(t,n,u,r,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Xg(e,t,n,r,i,s)}function Xg(e,t,n,r,s,i){DC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Pb(t,n,!1),js(e,t,i);r=t.stateNode,YL.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Xa(t,e.child,null,i),t.child=Xa(t,null,a,i)):an(e,t,a,i),t.memoizedState=r.state,s&&Pb(t,n,!0),t.child}function LC(e){var t=e.stateNode;t.pendingContext?Ab(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ab(e,t.context,!1),kw(e,t.containerInfo)}function Gb(e,t,n,r,s){return Qa(),yw(s),t.flags|=256,an(e,t,n,r),t.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function ev(e){return{baseLanes:e,cachePool:null,transitions:null}}function $C(e,t,n){var r=t.pendingProps,s=it.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qe(it,s&1),e===null)return Hg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Of(o,r,0,null),e=xo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ev(n),t.memoizedState=Zg,e):Rw(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return QL(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=yi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yi(a,i):(i=xo(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ev(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Zg,r}return i=e.child,e=i.sibling,r=yi(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rw(e,t){return t=Of({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nd(e,t,n,r){return r!==null&&yw(r),Xa(t,e.child,null,n),e=Rw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QL(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=om(Error(K(422))),nd(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Of({mode:"visible",children:r.children},s,0,null),i=xo(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Xa(t,e.child,null,o),t.child.memoizedState=ev(o),t.memoizedState=Zg,i);if(!(t.mode&1))return nd(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=om(i,r,void 0),nd(e,t,o,r)}if(a=(o&e.childLanes)!==0,yn||a){if(r=Ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Es(e,s),Cr(r,e,s,-1))}return $w(),r=om(Error(K(421))),nd(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=u$.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Rn=pi(s.nextSibling),In=t,nt=!0,Er=null,e!==null&&(Gn[Kn++]=vs,Gn[Kn++]=ys,Gn[Kn++]=Co,vs=e.id,ys=e.overflow,Co=t),t=Rw(t,r.children),t.flags|=4096,t)}function Kb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gg(e.return,t,n)}function am(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function FC(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(an(e,t,r.children,n),r=it.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kb(e,n,t);else if(e.tag===19)Kb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qe(it,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ph(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),am(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ph(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}am(t,!0,n,null,i);break;case"together":am(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=yi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XL(e,t,n){switch(t.tag){case 3:LC(t),Qa();break;case 5:dC(t);break;case 1:xn(t.type)&&Eh(t);break;case 4:kw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;qe(Th,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qe(it,it.current&1),t.flags|=128,null):n&t.child.childLanes?$C(e,t,n):(qe(it,it.current&1),e=js(e,t,n),e!==null?e.sibling:null);qe(it,it.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FC(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(it,it.current),r)break;return null;case 22:case 23:return t.lanes=0,MC(e,t,n)}return js(e,t,n)}var UC,tv,VC,BC;UC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tv=function(){};VC=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,oo(Xr.current);var i=null;switch(n){case"input":s=_g(e,s),r=_g(e,r),i=[];break;case"select":s=ct({},s,{value:void 0}),r=ct({},r,{value:void 0}),i=[];break;case"textarea":s=jg(e,s),r=jg(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_h)}Tg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ec.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};BC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vl(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ZL(e,t,n){var r=t.pendingProps;switch(vw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(t),null;case 1:return xn(t.type)&&kh(),Wt(t),null;case 3:return r=t.stateNode,Za(),Ye(wn),Ye(en),jw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ed(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(cv(Er),Er=null))),tv(e,t),Wt(t),null;case 5:Ew(t);var s=oo(Lc.current);if(n=t.type,e!==null&&t.stateNode!=null)VC(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Wt(t),null}if(e=oo(Xr.current),ed(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Hr]=t,r[Mc]=i,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<Ql.length;s++)Ge(Ql[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":rb(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":ib(r,i),Ge("invalid",r)}Tg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zu(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zu(r.textContent,a,e),s=["children",""+a]):Ec.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Wu(r),sb(r,i,!0);break;case"textarea":Wu(r),ob(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_h)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Hr]=t,e[Mc]=r,UC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ng(n,r),n){case"dialog":Ge("cancel",e),Ge("close",e),s=r;break;case"iframe":case"object":case"embed":Ge("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ql.length;s++)Ge(Ql[s],e);s=r;break;case"source":Ge("error",e),s=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),s=r;break;case"details":Ge("toggle",e),s=r;break;case"input":rb(e,r),s=_g(e,r),Ge("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ct({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":ib(e,r),s=jg(e,r),Ge("invalid",e);break;default:s=r}Tg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?wj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vj(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jc(e,c):typeof c=="number"&&jc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ec.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ge("scroll",e):c!=null&&nw(e,i,c,o))}switch(n){case"input":Wu(e),sb(e,r,!1);break;case"textarea":Wu(e),ob(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_i(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ea(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ea(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wt(t),null;case 6:if(e&&t.stateNode!=null)BC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=oo(Lc.current),oo(Xr.current),ed(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hr]=t,(i=r.nodeValue!==n)&&(e=In,e!==null))switch(e.tag){case 3:Zu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=t,t.stateNode=r}return Wt(t),null;case 13:if(Ye(it),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Rn!==null&&t.mode&1&&!(t.flags&128))oC(),Qa(),t.flags|=98560,i=!1;else if(i=ed(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Hr]=t}else Qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wt(t),i=!1}else Er!==null&&(cv(Er),Er=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?Tt===0&&(Tt=3):$w())),t.updateQueue!==null&&(t.flags|=4),Wt(t),null);case 4:return Za(),tv(e,t),e===null&&Oc(t.stateNode.containerInfo),Wt(t),null;case 10:return bw(t.type._context),Wt(t),null;case 17:return xn(t.type)&&kh(),Wt(t),null;case 19:if(Ye(it),i=t.memoizedState,i===null)return Wt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Vl(i,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ph(e),o!==null){for(t.flags|=128,Vl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qe(it,it.current&1|2),t.child}e=e.sibling}i.tail!==null&&mt()>tl&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ph(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return Wt(t),null}else 2*mt()-i.renderingStartTime>tl&&n!==1073741824&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=mt(),t.sibling=null,n=it.current,qe(it,r?n&1|2:n&1),t):(Wt(t),null);case 22:case 23:return Lw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Cn&1073741824&&(Wt(t),t.subtreeFlags&6&&(t.flags|=8192)):Wt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function e$(e,t){switch(vw(t),t.tag){case 1:return xn(t.type)&&kh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(),Ye(wn),Ye(en),jw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ew(t),null;case 13:if(Ye(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(it),null;case 4:return Za(),null;case 10:return bw(t.type._context),null;case 22:case 23:return Lw(),null;case 24:return null;default:return null}}var rd=!1,Kt=!1,t$=typeof WeakSet=="function"?WeakSet:Set,ie=null;function va(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(e,t,r)}else n.current=null}function nv(e,t,n){try{n()}catch(r){ft(e,t,r)}}var Jb=!1;function n$(e,t){if(Fg=xh,e=Gj(),mw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ug={focusedElem:e,selectionRange:n},xh=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,b=x.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:yr(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){ft(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return x=Jb,Jb=!1,x}function hc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&nv(t,n,i)}s=s.next}while(s!==r)}}function Pf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zC(e){var t=e.alternate;t!==null&&(e.alternate=null,zC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hr],delete t[Mc],delete t[zg],delete t[$L],delete t[FL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qC(e){return e.tag===5||e.tag===3||e.tag===4}function Yb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_h));else if(r!==4&&(e=e.child,e!==null))for(sv(e,t,n),e=e.sibling;e!==null;)sv(e,t,n),e=e.sibling}function iv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(iv(e,t,n),e=e.sibling;e!==null;)iv(e,t,n),e=e.sibling}var $t=null,_r=!1;function Fs(e,t,n){for(n=n.child;n!==null;)WC(e,t,n),n=n.sibling}function WC(e,t,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(_f,n)}catch{}switch(n.tag){case 5:Kt||va(n,t);case 6:var r=$t,s=_r;$t=null,Fs(e,t,n),$t=r,_r=s,$t!==null&&(_r?(e=$t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(_r?(e=$t,n=n.stateNode,e.nodeType===8?em(e.parentNode,n):e.nodeType===1&&em(e,n),Ac(e)):em($t,n.stateNode));break;case 4:r=$t,s=_r,$t=n.stateNode.containerInfo,_r=!0,Fs(e,t,n),$t=r,_r=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nv(n,t,o),s=s.next}while(s!==r)}Fs(e,t,n);break;case 1:if(!Kt&&(va(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,t,a)}Fs(e,t,n);break;case 21:Fs(e,t,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Fs(e,t,n),Kt=r):Fs(e,t,n);break;default:Fs(e,t,n)}}function Qb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new t$),t.forEach(function(r){var s=d$.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ur(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,_r=!1;break e;case 3:$t=a.stateNode.containerInfo,_r=!0;break e;case 4:$t=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if($t===null)throw Error(K(160));WC(i,o,s),$t=null,_r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ft(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HC(t,e),t=t.sibling}function HC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),$r(e),r&4){try{hc(3,e,e.return),Pf(3,e)}catch(m){ft(e,e.return,m)}try{hc(5,e,e.return)}catch(m){ft(e,e.return,m)}}break;case 1:ur(t,e),$r(e),r&512&&n!==null&&va(n,n.return);break;case 5:if(ur(t,e),$r(e),r&512&&n!==null&&va(n,n.return),e.flags&32){var s=e.stateNode;try{jc(s,"")}catch(m){ft(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pj(s,i),Ng(a,o);var u=Ng(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?wj(s,h):d==="dangerouslySetInnerHTML"?vj(s,h):d==="children"?jc(s,h):nw(s,d,h,u)}switch(a){case"input":kg(s,i);break;case"textarea":mj(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ea(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ea(s,!!i.multiple,i.defaultValue,!0):Ea(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mc]=i}catch(m){ft(e,e.return,m)}}break;case 6:if(ur(t,e),$r(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){ft(e,e.return,m)}}break;case 3:if(ur(t,e),$r(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ac(t.containerInfo)}catch(m){ft(e,e.return,m)}break;case 4:ur(t,e),$r(e);break;case 13:ur(t,e),$r(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mw=mt())),r&4&&Qb(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(u=Kt)||d,ur(t,e),Kt=u):ur(t,e),$r(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(h=ie=d;ie!==null;){switch(f=ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:hc(4,f,f.return);break;case 1:va(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){ft(r,n,m)}}break;case 5:va(f,f.return);break;case 22:if(f.memoizedState!==null){Zb(h);continue}}p!==null?(p.return=f,ie=p):Zb(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=yj("display",o))}catch(m){ft(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){ft(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(t,e),$r(e),r&4&&Qb(e);break;case 21:break;default:ur(t,e),$r(e)}}function $r(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(jc(s,""),r.flags&=-33);var i=Yb(e);iv(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yb(e);sv(e,a,o);break;default:throw Error(K(161))}}catch(c){ft(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r$(e,t,n){ie=e,GC(e)}function GC(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||rd;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Kt;a=rd;var u=Kt;if(rd=o,(Kt=c)&&!u)for(ie=s;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?eS(s):c!==null?(c.return=o,ie=c):eS(s);for(;i!==null;)ie=i,GC(i),i=i.sibling;ie=s,rd=a,Kt=u}Xb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):Xb(e)}}function Xb(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||Pf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Db(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Db(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ac(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Kt||t.flags&512&&rv(t)}catch(f){ft(t,t.return,f)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Zb(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function eS(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pf(4,t)}catch(c){ft(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ft(t,s,c)}}var i=t.return;try{rv(t)}catch(c){ft(t,i,c)}break;case 5:var o=t.return;try{rv(t)}catch(c){ft(t,o,c)}}}catch(c){ft(t,t.return,c)}if(t===e){ie=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ie=a;break}ie=t.return}}var s$=Math.ceil,Ih=Ps.ReactCurrentDispatcher,Ow=Ps.ReactCurrentOwner,Zn=Ps.ReactCurrentBatchConfig,Re=0,Ot=null,St=null,Ut=0,Cn=0,ya=Di(0),Tt=0,Vc=null,No=0,Rf=0,Iw=0,fc=null,vn=null,Mw=0,tl=1/0,ds=null,Mh=!1,ov=null,gi=null,sd=!1,li=null,Dh=0,pc=0,av=null,Gd=-1,Kd=0;function fn(){return Re&6?mt():Gd!==-1?Gd:Gd=mt()}function vi(e){return e.mode&1?Re&2&&Ut!==0?Ut&-Ut:VL.transition!==null?(Kd===0&&(Kd=Pj()),Kd):(e=Le,e!==0||(e=window.event,e=e===void 0?16:$j(e.type)),e):1}function Cr(e,t,n,r){if(50<pc)throw pc=0,av=null,Error(K(185));vu(e,n,r),(!(Re&2)||e!==Ot)&&(e===Ot&&(!(Re&2)&&(Rf|=n),Tt===4&&Zs(e,Ut)),bn(e,r),n===1&&Re===0&&!(t.mode&1)&&(tl=mt()+500,Tf&&Li()))}function bn(e,t){var n=e.callbackNode;V2(e,t);var r=wh(e,e===Ot?Ut:0);if(r===0)n!==null&&cb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cb(n),t===1)e.tag===0?UL(tS.bind(null,e)):rC(tS.bind(null,e)),DL(function(){!(Re&6)&&Li()}),n=null;else{switch(Rj(r)){case 1:n=aw;break;case 4:n=Nj;break;case 16:n=yh;break;case 536870912:n=Aj;break;default:n=yh}n=tT(n,KC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KC(e,t){if(Gd=-1,Kd=0,Re&6)throw Error(K(327));var n=e.callbackNode;if(Aa()&&e.callbackNode!==n)return null;var r=wh(e,e===Ot?Ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lh(e,r);else{t=r;var s=Re;Re|=2;var i=YC();(Ot!==e||Ut!==t)&&(ds=null,tl=mt()+500,wo(e,t));do try{a$();break}catch(a){JC(e,a)}while(!0);xw(),Ih.current=i,Re=s,St!==null?t=0:(Ot=null,Ut=0,t=Tt)}if(t!==0){if(t===2&&(s=Ig(e),s!==0&&(r=s,t=lv(e,s))),t===1)throw n=Vc,wo(e,0),Zs(e,r),bn(e,mt()),n;if(t===6)Zs(e,r);else{if(s=e.current.alternate,!(r&30)&&!i$(s)&&(t=Lh(e,r),t===2&&(i=Ig(e),i!==0&&(r=i,t=lv(e,i))),t===1))throw n=Vc,wo(e,0),Zs(e,r),bn(e,mt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Zi(e,vn,ds);break;case 3:if(Zs(e,r),(r&130023424)===r&&(t=Mw+500-mt(),10<t)){if(wh(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){fn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bg(Zi.bind(null,e,vn,ds),t);break}Zi(e,vn,ds);break;case 4:if(Zs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-jr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s$(r/1960))-r,10<r){e.timeoutHandle=Bg(Zi.bind(null,e,vn,ds),r);break}Zi(e,vn,ds);break;case 5:Zi(e,vn,ds);break;default:throw Error(K(329))}}}return bn(e,mt()),e.callbackNode===n?KC.bind(null,e):null}function lv(e,t){var n=fc;return e.current.memoizedState.isDehydrated&&(wo(e,t).flags|=256),e=Lh(e,t),e!==2&&(t=vn,vn=n,t!==null&&cv(t)),e}function cv(e){vn===null?vn=e:vn.push.apply(vn,e)}function i$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zs(e,t){for(t&=~Iw,t&=~Rf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jr(t),r=1<<n;e[n]=-1,t&=~r}}function tS(e){if(Re&6)throw Error(K(327));Aa();var t=wh(e,0);if(!(t&1))return bn(e,mt()),null;var n=Lh(e,t);if(e.tag!==0&&n===2){var r=Ig(e);r!==0&&(t=r,n=lv(e,r))}if(n===1)throw n=Vc,wo(e,0),Zs(e,t),bn(e,mt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zi(e,vn,ds),bn(e,mt()),null}function Dw(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(tl=mt()+500,Tf&&Li())}}function Ao(e){li!==null&&li.tag===0&&!(Re&6)&&Aa();var t=Re;Re|=1;var n=Zn.transition,r=Le;try{if(Zn.transition=null,Le=1,e)return e()}finally{Le=r,Zn.transition=n,Re=t,!(Re&6)&&Li()}}function Lw(){Cn=ya.current,Ye(ya)}function wo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ML(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kh();break;case 3:Za(),Ye(wn),Ye(en),jw();break;case 5:Ew(r);break;case 4:Za();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:bw(r.type._context);break;case 22:case 23:Lw()}n=n.return}if(Ot=e,St=e=yi(e.current,null),Ut=Cn=t,Tt=0,Vc=null,Iw=Rf=No=0,vn=fc=null,io!==null){for(t=0;t<io.length;t++)if(n=io[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}io=null}return e}function JC(e,t){do{var n=St;try{if(xw(),qd.current=Oh,Rh){for(var r=lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rh=!1}if(To=0,Pt=jt=lt=null,dc=!1,$c=0,Ow.current=null,n===null||n.return===null){Tt=1,Vc=t,St=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Ut,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Bb(o);if(p!==null){p.flags&=-257,zb(p,o,a,i,t),p.mode&1&&Vb(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){Vb(i,u,t),$w();break e}c=Error(K(426))}}else if(nt&&a.mode&1){var b=Bb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),zb(b,o,a,i,t),yw(el(c,a));break e}}i=c=el(c,a),Tt!==4&&(Tt=2),fc===null?fc=[i]:fc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=RC(i,c,t);Mb(i,y);break e;case 1:a=c;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(gi===null||!gi.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=OC(i,a,t);Mb(i,_);break e}}i=i.return}while(i!==null)}XC(n)}catch(j){t=j,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function YC(){var e=Ih.current;return Ih.current=Oh,e===null?Oh:e}function $w(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ot===null||!(No&268435455)&&!(Rf&268435455)||Zs(Ot,Ut)}function Lh(e,t){var n=Re;Re|=2;var r=YC();(Ot!==e||Ut!==t)&&(ds=null,wo(e,t));do try{o$();break}catch(s){JC(e,s)}while(!0);if(xw(),Re=n,Ih.current=r,St!==null)throw Error(K(261));return Ot=null,Ut=0,Tt}function o$(){for(;St!==null;)QC(St)}function a$(){for(;St!==null&&!R2();)QC(St)}function QC(e){var t=eT(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?XC(e):St=t,Ow.current=null}function XC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=e$(n,t),n!==null){n.flags&=32767,St=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,St=null;return}}else if(n=ZL(n,t,Cn),n!==null){St=n;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);Tt===0&&(Tt=5)}function Zi(e,t,n){var r=Le,s=Zn.transition;try{Zn.transition=null,Le=1,l$(e,t,n,r)}finally{Zn.transition=s,Le=r}return null}function l$(e,t,n,r){do Aa();while(li!==null);if(Re&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(B2(e,i),e===Ot&&(St=Ot=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sd||(sd=!0,tT(yh,function(){return Aa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zn.transition,Zn.transition=null;var o=Le;Le=1;var a=Re;Re|=4,Ow.current=null,n$(e,n),HC(n,e),TL(Ug),xh=!!Fg,Ug=Fg=null,e.current=n,r$(n),O2(),Re=a,Le=o,Zn.transition=i}else e.current=n;if(sd&&(sd=!1,li=e,Dh=s),i=e.pendingLanes,i===0&&(gi=null),D2(n.stateNode),bn(e,mt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mh)throw Mh=!1,e=ov,ov=null,e;return Dh&1&&e.tag!==0&&Aa(),i=e.pendingLanes,i&1?e===av?pc++:(pc=0,av=e):pc=0,Li(),null}function Aa(){if(li!==null){var e=Rj(Dh),t=Zn.transition,n=Le;try{if(Zn.transition=null,Le=16>e?16:e,li===null)var r=!1;else{if(e=li,li=null,Dh=0,Re&6)throw Error(K(331));var s=Re;for(Re|=4,ie=e.current;ie!==null;){var i=ie,o=i.child;if(ie.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:hc(8,d,i)}var h=d.child;if(h!==null)h.return=d,ie=h;else for(;ie!==null;){d=ie;var f=d.sibling,p=d.return;if(zC(d),d===u){ie=null;break}if(f!==null){f.return=p,ie=f;break}ie=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ie=o;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ie=y;break e}ie=i.return}}var w=e.current;for(ie=w;ie!==null;){o=ie;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ie=S;else e:for(o=w;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pf(9,a)}}catch(j){ft(a,a.return,j)}if(a===o){ie=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ie=_;break e}ie=a.return}}if(Re=s,Li(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(_f,e)}catch{}r=!0}return r}finally{Le=n,Zn.transition=t}}return!1}function nS(e,t,n){t=el(n,t),t=RC(e,t,1),e=mi(e,t,1),t=fn(),e!==null&&(vu(e,1,t),bn(e,t))}function ft(e,t,n){if(e.tag===3)nS(e,e,n);else for(;t!==null;){if(t.tag===3){nS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){e=el(n,e),e=OC(t,e,1),t=mi(t,e,1),e=fn(),t!==null&&(vu(t,1,e),bn(t,e));break}}t=t.return}}function c$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&n,Ot===e&&(Ut&n)===n&&(Tt===4||Tt===3&&(Ut&130023424)===Ut&&500>mt()-Mw?wo(e,0):Iw|=n),bn(e,t)}function ZC(e,t){t===0&&(e.mode&1?(t=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):t=1);var n=fn();e=Es(e,t),e!==null&&(vu(e,t,n),bn(e,n))}function u$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ZC(e,n)}function d$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),ZC(e,n)}var eT;eT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wn.current)yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yn=!1,XL(e,t,n);yn=!!(e.flags&131072)}else yn=!1,nt&&t.flags&1048576&&sC(t,Ch,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hd(e,t),e=t.pendingProps;var s=Ya(t,en.current);Na(t,n),s=Tw(null,t,r,e,s,n);var i=Nw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(r)?(i=!0,Eh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_w(t),s.updater=Af,t.stateNode=s,s._reactInternals=t,Jg(t,r,e,n),t=Xg(null,t,r,!0,i,n)):(t.tag=0,nt&&i&&gw(t),an(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=f$(r),e=yr(r,e),s){case 0:t=Qg(null,t,r,e,n);break e;case 1:t=Hb(null,t,r,e,n);break e;case 11:t=qb(null,t,r,e,n);break e;case 14:t=Wb(null,t,r,yr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Qg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Hb(e,t,r,s,n);case 3:e:{if(LC(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,s=i.element,uC(e,t),Ah(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=el(Error(K(423)),t),t=Gb(e,t,r,n,s);break e}else if(r!==s){s=el(Error(K(424)),t),t=Gb(e,t,r,n,s);break e}else for(Rn=pi(t.stateNode.containerInfo.firstChild),In=t,nt=!0,Er=null,n=lC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qa(),r===s){t=js(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return dC(t),e===null&&Hg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Vg(r,s)?o=null:i!==null&&Vg(r,i)&&(t.flags|=32),DC(e,t),an(e,t,o,n),t.child;case 6:return e===null&&Hg(t),null;case 13:return $C(e,t,n);case 4:return kw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xa(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),qb(e,t,r,s,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,qe(Th,r._currentValue),r._currentValue=o,i!==null)if(Pr(i.value,o)){if(i.children===s.children&&!wn.current){t=js(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=bs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Gg(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gg(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}an(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Na(t,n),s=nr(s),r=r(s),t.flags|=1,an(e,t,r,n),t.child;case 14:return r=t.type,s=yr(r,t.pendingProps),s=yr(r.type,s),Wb(e,t,r,s,n);case 15:return IC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yr(r,s),Hd(e,t),t.tag=1,xn(r)?(e=!0,Eh(t)):e=!1,Na(t,n),PC(t,r,s),Jg(t,r,s,n),Xg(null,t,r,!0,e,n);case 19:return FC(e,t,n);case 22:return MC(e,t,n)}throw Error(K(156,t.tag))};function tT(e,t){return Tj(e,t)}function h$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,t,n,r){return new h$(e,t,n,r)}function Fw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f$(e){if(typeof e=="function")return Fw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sw)return 11;if(e===iw)return 14}return 2}function yi(e,t){var n=e.alternate;return n===null?(n=Yn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Fw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case la:return xo(n.children,s,i,t);case rw:o=8,s|=8;break;case wg:return e=Yn(12,n,t,s|2),e.elementType=wg,e.lanes=i,e;case xg:return e=Yn(13,n,t,s),e.elementType=xg,e.lanes=i,e;case bg:return e=Yn(19,n,t,s),e.elementType=bg,e.lanes=i,e;case dj:return Of(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cj:o=10;break e;case uj:o=9;break e;case sw:o=11;break e;case iw:o=14;break e;case Ks:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Yn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function xo(e,t,n,r){return e=Yn(7,e,r,t),e.lanes=n,e}function Of(e,t,n,r){return e=Yn(22,e,r,t),e.elementType=dj,e.lanes=n,e.stateNode={isHidden:!1},e}function lm(e,t,n){return e=Yn(6,e,null,t),e.lanes=n,e}function cm(e,t,n){return t=Yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p$(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zp(0),this.expirationTimes=zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uw(e,t,n,r,s,i,o,a,c){return e=new p$(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Yn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_w(i),e}function m$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nT(e){if(!e)return ki;e=e._reactInternals;e:{if(Vo(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(xn(n))return nC(e,n,t)}return t}function rT(e,t,n,r,s,i,o,a,c){return e=Uw(n,r,!0,e,s,i,o,a,c),e.context=nT(null),n=e.current,r=fn(),s=vi(n),i=bs(r,s),i.callback=t??null,mi(n,i,s),e.current.lanes=s,vu(e,s,r),bn(e,r),e}function If(e,t,n,r){var s=t.current,i=fn(),o=vi(s);return n=nT(n),t.context===null?t.context=n:t.pendingContext=n,t=bs(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mi(s,t,o),e!==null&&(Cr(e,s,o,i),zd(e,s,o)),o}function $h(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vw(e,t){rS(e,t),(e=e.alternate)&&rS(e,t)}function g$(){return null}var sT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bw(e){this._internalRoot=e}Mf.prototype.render=Bw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));If(e,t,null,null)};Mf.prototype.unmount=Bw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ao(function(){If(null,e,null,null)}),t[ks]=null}};function Mf(e){this._internalRoot=e}Mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xs.length&&t!==0&&t<Xs[n].priority;n++);Xs.splice(n,0,e),n===0&&Lj(e)}};function zw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sS(){}function v$(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=$h(o);i.call(u)}}var o=rT(t,r,e,0,null,!1,!1,"",sS);return e._reactRootContainer=o,e[ks]=o.current,Oc(e.nodeType===8?e.parentNode:e),Ao(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=$h(c);a.call(u)}}var c=Uw(e,0,!1,null,null,!1,!1,"",sS);return e._reactRootContainer=c,e[ks]=c.current,Oc(e.nodeType===8?e.parentNode:e),Ao(function(){If(t,c,n,r)}),c}function Lf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=$h(o);a.call(c)}}If(t,o,e,s)}else o=v$(n,t,e,s,r);return $h(o)}Oj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yl(t.pendingLanes);n!==0&&(lw(t,n|1),bn(t,mt()),!(Re&6)&&(tl=mt()+500,Li()))}break;case 13:Ao(function(){var r=Es(e,1);if(r!==null){var s=fn();Cr(r,e,1,s)}}),Vw(e,1)}};cw=function(e){if(e.tag===13){var t=Es(e,134217728);if(t!==null){var n=fn();Cr(t,e,134217728,n)}Vw(e,134217728)}};Ij=function(e){if(e.tag===13){var t=vi(e),n=Es(e,t);if(n!==null){var r=fn();Cr(n,e,t,r)}Vw(e,t)}};Mj=function(){return Le};Dj=function(e,t){var n=Le;try{return Le=e,t()}finally{Le=n}};Pg=function(e,t,n){switch(t){case"input":if(kg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Cf(r);if(!s)throw Error(K(90));fj(r),kg(r,s)}}}break;case"textarea":mj(e,n);break;case"select":t=n.value,t!=null&&Ea(e,!!n.multiple,t,!1)}};Sj=Dw;_j=Ao;var y$={usingClientEntryPoint:!1,Events:[wu,ha,Cf,xj,bj,Dw]},Bl={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w$={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jj(e),e===null?null:e.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||g$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{_f=id.inject(w$),Qr=id}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y$;Ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zw(t))throw Error(K(200));return m$(e,t,null,n)};Ln.createRoot=function(e,t){if(!zw(e))throw Error(K(299));var n=!1,r="",s=sT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uw(e,1,!1,null,null,n,!1,r,s),e[ks]=t.current,Oc(e.nodeType===8?e.parentNode:e),new Bw(t)};Ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=jj(t),e=e===null?null:e.stateNode,e};Ln.flushSync=function(e){return Ao(e)};Ln.hydrate=function(e,t,n){if(!Df(t))throw Error(K(200));return Lf(null,e,t,!0,n)};Ln.hydrateRoot=function(e,t,n){if(!zw(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=sT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rT(t,null,e,1,n??null,s,!1,i,o),e[ks]=t.current,Oc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Mf(t)};Ln.render=function(e,t,n){if(!Df(t))throw Error(K(200));return Lf(null,e,t,!1,n)};Ln.unmountComponentAtNode=function(e){if(!Df(e))throw Error(K(40));return e._reactRootContainer?(Ao(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[ks]=null})}),!0):!1};Ln.unstable_batchedUpdates=Dw;Ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Df(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Lf(e,t,n,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function iT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iT)}catch(e){console.error(e)}}iT(),ij.exports=Ln;var Bo=ij.exports;const oT=GE(Bo);var aT,iS=Bo;aT=iS.createRoot,iS.hydrateRoot;const x$=1,b$=1e6;let um=0;function S$(){return um=(um+1)%Number.MAX_SAFE_INTEGER,um.toString()}const dm=new Map,oS=e=>{if(dm.has(e))return;const t=setTimeout(()=>{dm.delete(e),mc({type:"REMOVE_TOAST",toastId:e})},b$);dm.set(e,t)},_$=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,x$)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?oS(n):e.toasts.forEach(r=>{oS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Yd=[];let Qd={toasts:[]};function mc(e){Qd=_$(Qd,e),Yd.forEach(t=>{t(Qd)})}function k$({...e}){const t=S$(),n=s=>mc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>mc({type:"DISMISS_TOAST",toastId:t});return mc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function bu(){const[e,t]=g.useState(Qd);return g.useEffect(()=>(Yd.push(t),()=>{const n=Yd.indexOf(t);n>-1&&Yd.splice(n,1)}),[e]),{...e,toast:k$,dismiss:n=>mc({type:"DISMISS_TOAST",toastId:n})}}function ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function aS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lT(...e){return t=>{let n=!1;const r=e.map(s=>{const i=aS(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():aS(e[s],null)}}}}function ke(...e){return g.useCallback(lT(...e),e)}function E$(e,t){const n=g.createContext(t),r=i=>{const{children:o,...a}=i,c=g.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Fn(e,t=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:p,...x}=h,m=((y=f==null?void 0:f[e])==null?void 0:y[c])||a,b=g.useMemo(()=>x,Object.values(x));return l.jsx(m.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[e])==null?void 0:m[c])||a,x=g.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,j$(s,...t)]}function j$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function nl(e){const t=T$(e),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),c=a.find(N$);if(c){const u=c.props.children,d=a.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var C$=nl("Slot");function T$(e){const t=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=P$(s),a=A$(i,s.props);return s.type!==g.Fragment&&(a.ref=r?lT(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cT=Symbol("radix.slottable");function uT(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=cT,t}function N$(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cT}function A$(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function P$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $f(e){const t=e+"CollectionProvider",[n,r]=Fn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:b,children:y}=m,w=G.useRef(null),S=G.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:S,collectionRef:w,children:y})};o.displayName=t;const a=e+"CollectionSlot",c=nl(a),u=G.forwardRef((m,b)=>{const{scope:y,children:w}=m,S=i(a,y),_=ke(b,S.collectionRef);return l.jsx(c,{ref:_,children:w})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=nl(d),p=G.forwardRef((m,b)=>{const{scope:y,children:w,...S}=m,_=G.useRef(null),j=ke(b,_),C=i(d,y);return G.useEffect(()=>(C.itemMap.set(_,{ref:_,...S}),()=>void C.itemMap.delete(_))),l.jsx(f,{[h]:"",ref:j,children:w})});p.displayName=d;function x(m){const b=i(e+"CollectionConsumer",m);return G.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((C,T)=>S.indexOf(C.ref.current)-S.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,r]}var R$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=R$.reduce((e,t)=>{const n=nl(`Primitive.${t}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function dT(e,t){e&&Bo.flushSync(()=>e.dispatchEvent(t))}function Ct(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function O$(e,t=globalThis==null?void 0:globalThis.document){const n=Ct(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var I$="DismissableLayer",uv="dismissableLayer.update",M$="dismissableLayer.pointerDownOutside",D$="dismissableLayer.focusOutside",lS,hT=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Su=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=g.useContext(hT),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),x=ke(t,T=>h(T)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(b),w=d?m.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,j=$$(T=>{const P=T.target,O=[...u.branches].some(I=>I.contains(P));!_||O||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},f),C=F$(T=>{const P=T.target;[...u.branches].some(I=>I.contains(P))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},f);return O$(T=>{w===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},f),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lS=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),cS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=lS)}},[d,f,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),cS())},[d,u]),g.useEffect(()=>{const T=()=>p({});return document.addEventListener(uv,T),()=>document.removeEventListener(uv,T)},[]),l.jsx(pe.div,{...c,ref:x,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,j.onPointerDownCapture)})});Su.displayName=I$;var L$="DismissableLayerBranch",fT=g.forwardRef((e,t)=>{const n=g.useContext(hT),r=g.useRef(null),s=ke(t,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(pe.div,{...e,ref:s})});fT.displayName=L$;function $$(e,t=globalThis==null?void 0:globalThis.document){const n=Ct(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){pT(M$,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function F$(e,t=globalThis==null?void 0:globalThis.document){const n=Ct(e),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&pT(D$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function cS(){const e=new CustomEvent(uv);document.dispatchEvent(e)}function pT(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?dT(s,i):s.dispatchEvent(i)}var U$=Su,V$=fT,Nt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},B$="Portal",Ff=g.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=g.useState(!1);Nt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?oT.createPortal(l.jsx(pe.div,{...r,ref:t}),o):null});Ff.displayName=B$;function z$(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Un=e=>{const{present:t,children:n}=e,r=q$(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=ke(r.ref,W$(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Un.displayName="Presence";function q$(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[a,c]=z$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=od(r.current);i.current=a==="mounted"?u:"none"},[a]),Nt(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,p=od(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Nt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const m=od(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(i.current=od(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function od(e){return(e==null?void 0:e.animationName)||"none"}function W$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var H$=Zy[" useInsertionEffect ".trim().toString()]||Nt;function Rr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=G$({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=g.useCallback(d=>{var h;if(a){const f=K$(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,e,i,o]);return[c,u]}function G$({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),i=g.useRef(t);return H$(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function K$(e){return typeof e=="function"}var mT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),J$="VisuallyHidden",Uf=g.forwardRef((e,t)=>l.jsx(pe.span,{...e,ref:t,style:{...mT,...e.style}}));Uf.displayName=J$;var Y$=Uf,qw="ToastProvider",[Ww,Q$,X$]=$f("Toast"),[gT,CQ]=Fn("Toast",[X$]),[Z$,Vf]=gT(qw),vT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qw}\`. Expected non-empty \`string\`.`),l.jsx(Ww.Provider,{scope:t,children:l.jsx(Z$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};vT.displayName=qw;var yT="ToastViewport",eF=["F8"],dv="toast.viewportPause",hv="toast.viewportResume",wT=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=eF,label:s="Notifications ({hotkey})",...i}=e,o=Vf(yT,n),a=Q$(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=ke(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const b=y=>{var S;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=c.current,y=h.current;if(x&&b&&y){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(dv);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(hv);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!b.contains(C.relatedTarget)&&S()},j=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",_),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const m=g.useCallback(({tabbingDirection:b})=>{const w=a().map(S=>{const _=S.ref.current,j=[_,...fF(_)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const b=h.current;if(b){const y=w=>{var j,C,T;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const P=document.activeElement,O=w.shiftKey;if(w.target===b&&O){(j=u.current)==null||j.focus();return}const D=m({tabbingDirection:O?"backwards":"forwards"}),H=D.findIndex(V=>V===P);hm(D.slice(H+1))?w.preventDefault():O?(C=u.current)==null||C.focus():(T=d.current)==null||T.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[a,m]),l.jsxs(V$,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(fv,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});hm(b)}}),l.jsx(Ww.Slot,{scope:n,children:l.jsx(pe.ol,{tabIndex:-1,...i,ref:f})}),x&&l.jsx(fv,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});hm(b)}})]})});wT.displayName=yT;var xT="ToastFocusProxy",fv=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Vf(xT,n);return l.jsx(Uf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});fv.displayName=xT;var _u="Toast",tF="toast.swipeStart",nF="toast.swipeMove",rF="toast.swipeCancel",sF="toast.swipeEnd",bT=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,c]=Rr({prop:r,defaultProp:s??!0,onChange:i,caller:_u});return l.jsx(Un,{present:n||a,children:l.jsx(aF,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:Ct(e.onPause),onResume:Ct(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});bT.displayName=_u;var[iF,oF]=gT(_u,{onClose(){}}),aF=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...x}=e,m=Vf(_u,n),[b,y]=g.useState(null),w=ke(t,V=>y(V)),S=g.useRef(null),_=g.useRef(null),j=s||m.duration,C=g.useRef(0),T=g.useRef(j),P=g.useRef(0),{onToastAdd:O,onToastRemove:I}=m,R=Ct(()=>{var Q;(b==null?void 0:b.contains(document.activeElement))&&((Q=m.viewport)==null||Q.focus()),o()}),D=g.useCallback(V=>{!V||V===1/0||(window.clearTimeout(P.current),C.current=new Date().getTime(),P.current=window.setTimeout(R,V))},[R]);g.useEffect(()=>{const V=m.viewport;if(V){const Q=()=>{D(T.current),u==null||u()},J=()=>{const Y=new Date().getTime()-C.current;T.current=T.current-Y,window.clearTimeout(P.current),c==null||c()};return V.addEventListener(dv,J),V.addEventListener(hv,Q),()=>{V.removeEventListener(dv,J),V.removeEventListener(hv,Q)}}},[m.viewport,j,c,u,D]),g.useEffect(()=>{i&&!m.isClosePausedRef.current&&D(j)},[i,j,m.isClosePausedRef,D]),g.useEffect(()=>(O(),()=>I()),[O,I]);const H=g.useMemo(()=>b?TT(b):null,[b]);return m.viewport?l.jsxs(l.Fragment,{children:[H&&l.jsx(lF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),l.jsx(iF,{scope:n,onClose:R,children:Bo.createPortal(l.jsx(Ww.ItemSlot,{scope:n,children:l.jsx(U$,{asChild:!0,onEscapeKeyDown:ce(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:ce(e.onPointerDown,V=>{V.button===0&&(S.current={x:V.clientX,y:V.clientY})}),onPointerMove:ce(e.onPointerMove,V=>{if(!S.current)return;const Q=V.clientX-S.current.x,J=V.clientY-S.current.y,Y=!!_.current,L=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,B=L?$(0,Q):0,te=L?0:$(0,J),ne=V.pointerType==="touch"?10:2,v={x:B,y:te},E={originalEvent:V,delta:v};Y?(_.current=v,ad(nF,h,E,{discrete:!1})):uS(v,m.swipeDirection,ne)?(_.current=v,ad(tF,d,E,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(Q)>ne||Math.abs(J)>ne)&&(S.current=null)}),onPointerUp:ce(e.onPointerUp,V=>{const Q=_.current,J=V.target;if(J.hasPointerCapture(V.pointerId)&&J.releasePointerCapture(V.pointerId),_.current=null,S.current=null,Q){const Y=V.currentTarget,L={originalEvent:V,delta:Q};uS(Q,m.swipeDirection,m.swipeThreshold)?ad(sF,p,L,{discrete:!0}):ad(rF,f,L,{discrete:!0}),Y.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),lF=e=>{const{__scopeToast:t,children:n,...r}=e,s=Vf(_u,t),[i,o]=g.useState(!1),[a,c]=g.useState(!1);return dF(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Ff,{asChild:!0,children:l.jsx(Uf,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},cF="ToastTitle",ST=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(pe.div,{...r,ref:t})});ST.displayName=cF;var uF="ToastDescription",_T=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(pe.div,{...r,ref:t})});_T.displayName=uF;var kT="ToastAction",ET=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(CT,{altText:n,asChild:!0,children:l.jsx(Hw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kT}\`. Expected non-empty \`string\`.`),null)});ET.displayName=kT;var jT="ToastClose",Hw=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=oF(jT,n);return l.jsx(CT,{asChild:!0,children:l.jsx(pe.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,s.onClose)})})});Hw.displayName=jT;var CT=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function TT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),hF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...TT(r))}}),t}function ad(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?dT(s,i):s.dispatchEvent(i)}var uS=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function dF(e=()=>{}){const t=Ct(e);Nt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function hF(e){return e.nodeType===e.ELEMENT_NODE}function fF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var pF=vT,NT=wT,AT=bT,PT=ST,RT=_T,OT=ET,IT=Hw;function MT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=MT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function DT(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=MT(e))&&(r&&(r+=" "),r+=t);return r}const dS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hS=DT,Bf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return hS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=dS(d)||dS(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[m,b]=x;return Array.isArray(b)?b.includes({...i,...a}[m]):{...i,...a}[m]===b})?[...u,h,f]:u},[]);return hS(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LT=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>g.createElement("svg",{ref:c,...gF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:LT("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(vF,{ref:i,iconNode:t,className:LT(`lucide-${mF(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ve("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ve("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ve("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ve("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ve("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=ve("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ve("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ve("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ve("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qw="-",DF=e=>{const t=$F(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Qw);return a[0]===""&&a.length!==1&&a.shift(),BT(a,t)||LF(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},BT=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?BT(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Qw);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},vS=/^\[(.+)\]$/,LF=e=>{if(vS.test(e)){const t=vS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$F=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return UF(Object.entries(e.classGroups),n).forEach(([i,o])=>{gv(o,r,i,t)}),r},gv=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:yS(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(FF(s)){gv(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{gv(o,yS(t,i),n,r)})})},yS=(e,t)=>{let n=e;return t.split(Qw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FF=e=>e.isThemeGetter,UF=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,VF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},zT="!",BF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const c=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let y=a[b];if(u===0){if(y===s&&(r||a.slice(b,b+i)===t)){c.push(a.slice(d,b)),d=b+i;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?a:a.substring(d),p=f.startsWith(zT),x=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},zF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},qF=e=>({cache:VF(e.cacheSize),parseClassName:BF(e),...DF(e)}),WF=/\s+/,HF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(WF);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let x=!!p,m=r(x?f.substring(0,p):f);if(!m){if(!x){a=u+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=u+(a.length>0?" "+a:a);continue}x=!1}const b=zF(d).join(":"),y=h?b+zT:b,w=y+m;if(i.includes(w))continue;i.push(w);const S=s(m,x);for(let _=0;_<S.length;++_){const j=S[_];i.push(y+j)}a=u+(a.length>0?" "+a:a)}return a};function GF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qT(t))&&(r&&(r+=" "),r+=n);return r}const qT=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qT(e[r]))&&(n&&(n+=" "),n+=t);return n};function KF(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=qF(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=HF(c,n);return s(c,d),d}return function(){return i(GF.apply(null,arguments))}}const He=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},WT=/^\[(?:([a-z-]+):)?(.+)\]$/i,JF=/^\d+\/\d+$/,YF=new Set(["px","full","screen"]),QF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,e4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,t4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ls=e=>Pa(e)||YF.has(e)||JF.test(e),Us=e=>wl(e,"length",c4),Pa=e=>!!e&&!Number.isNaN(Number(e)),fm=e=>wl(e,"number",Pa),zl=e=>!!e&&Number.isInteger(Number(e)),n4=e=>e.endsWith("%")&&Pa(e.slice(0,-1)),_e=e=>WT.test(e),Vs=e=>QF.test(e),r4=new Set(["length","size","percentage"]),s4=e=>wl(e,r4,HT),i4=e=>wl(e,"position",HT),o4=new Set(["image","url"]),a4=e=>wl(e,o4,d4),l4=e=>wl(e,"",u4),ql=()=>!0,wl=(e,t,n)=>{const r=WT.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},c4=e=>XF.test(e)&&!ZF.test(e),HT=()=>!1,u4=e=>e4.test(e),d4=e=>t4.test(e),h4=()=>{const e=He("colors"),t=He("spacing"),n=He("blur"),r=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),a=He("borderWidth"),c=He("contrast"),u=He("grayscale"),d=He("hueRotate"),h=He("invert"),f=He("gap"),p=He("gradientColorStops"),x=He("gradientColorStopPositions"),m=He("inset"),b=He("margin"),y=He("opacity"),w=He("padding"),S=He("saturate"),_=He("scale"),j=He("sepia"),C=He("skew"),T=He("space"),P=He("translate"),O=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",_e,t],D=()=>[_e,t],H=()=>["",ls,Us],V=()=>["auto",Pa,_e],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",_e],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Pa,_e];return{cacheSize:500,separator:":",theme:{colors:[ql],spacing:[ls,Us],blur:["none","",Vs,_e],brightness:te(),borderColor:[e],borderRadius:["none","","full",Vs,_e],borderSpacing:D(),borderWidth:H(),contrast:te(),grayscale:$(),hueRotate:te(),invert:$(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[n4,Us],inset:R(),margin:R(),opacity:te(),padding:D(),saturate:te(),scale:te(),sepia:$(),skew:te(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),_e]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zl,_e]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",zl,_e]}],"grid-cols":[{"grid-cols":[ql]}],"col-start-end":[{col:["auto",{span:["full",zl,_e]},_e]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[ql]}],"row-start-end":[{row:["auto",{span:[zl,_e]},_e]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,Us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fm]}],"font-family":[{font:[ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Pa,fm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ls,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ls,Us]}],"underline-offset":[{"underline-offset":["auto",ls,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),i4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",s4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[ls,_e]}],"outline-w":[{outline:[ls,Us]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ls,Us]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vs,l4]}],"shadow-color":[{shadow:[ql]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vs,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[zl,_e]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ls,Us,fm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},f4=KF(h4);function oe(...e){return f4(DT(e))}const p4=pF,GT=g.forwardRef(({className:e,...t},n)=>l.jsx(NT,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));GT.displayName=NT.displayName;const m4=Bf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KT=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(AT,{ref:r,className:oe(m4({variant:t}),e),...n}));KT.displayName=AT.displayName;const g4=g.forwardRef(({className:e,...t},n)=>l.jsx(OT,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));g4.displayName=OT.displayName;const JT=g.forwardRef(({className:e,...t},n)=>l.jsx(IT,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Tu,{className:"h-4 w-4"})}));JT.displayName=IT.displayName;const YT=g.forwardRef(({className:e,...t},n)=>l.jsx(PT,{ref:n,className:oe("text-sm font-semibold",e),...t}));YT.displayName=PT.displayName;const QT=g.forwardRef(({className:e,...t},n)=>l.jsx(RT,{ref:n,className:oe("text-sm opacity-90",e),...t}));QT.displayName=RT.displayName;function v4(){const{toasts:e}=bu();return l.jsxs(p4,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return l.jsxs(KT,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(YT,{children:n}),r&&l.jsx(QT,{children:r})]}),s,l.jsx(JT,{})]},t)}),l.jsx(GT,{})]})}var Bh=["light","dark"],Xw="(prefers-color-scheme: dark)",y4=typeof window>"u",Zw=g.createContext(void 0),w4={setTheme:e=>{},themes:[]},XT=()=>{var e;return(e=g.useContext(Zw))!=null?e:w4},x4=e=>g.useContext(Zw)?e.children:g.createElement(S4,{...e}),b4=["light","dark"],S4=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=b4,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:c,children:u,nonce:d})=>{let[h,f]=g.useState(()=>wS(s,o)),[p,x]=g.useState(()=>wS(s)),m=c?Object.values(c):i,b=g.useCallback(_=>{let j=_;if(!j)return;_==="system"&&n&&(j=xS());let C=c?c[j]:j,T=t?k4():null,P=document.documentElement;if(a==="class"?(P.classList.remove(...m),C&&P.classList.add(C)):C?P.setAttribute(a,C):P.removeAttribute(a),r){let O=Bh.includes(o)?o:null,I=Bh.includes(j)?j:O;P.style.colorScheme=I}T==null||T()},[]),y=g.useCallback(_=>{let j=typeof _=="function"?_(_):_;f(j);try{localStorage.setItem(s,j)}catch{}},[e]),w=g.useCallback(_=>{let j=xS(_);x(j),h==="system"&&n&&!e&&b("system")},[h,e]);g.useEffect(()=>{let _=window.matchMedia(Xw);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),g.useEffect(()=>{let _=j=>{if(j.key!==s)return;let C=j.newValue||o;y(C)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),g.useEffect(()=>{b(e??h)},[e,h]);let S=g.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[h,y,e,p,n,i]);return g.createElement(Zw.Provider,{value:S},g.createElement(_4,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:c,children:u,attrs:m,nonce:d}),u)},_4=g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Bh.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,m=!1,b=!0)=>{let y=o?o[x]:x,w=m?x+"|| ''":`'${y}'`,S="";return s&&b&&!m&&Bh.includes(x)&&(S+=`d.style.colorScheme = '${x}';`),n==="class"?m||y?S+=`c.add(${w})`:S+="null":y&&(S+=`d[s](n,${w})`),S},p=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Xw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),wS=(e,t)=>{if(y4)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},k4=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},xS=e=>(e||(e=window.matchMedia(Xw)),e.matches?"dark":"light"),E4=e=>{switch(e){case"success":return T4;case"info":return A4;case"warning":return N4;case"error":return P4;default:return null}},j4=Array(12).fill(0),C4=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},j4.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),T4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),N4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),A4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),O4=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},vv=1,I4=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:vv++,o=this.toasts.find(c=>c.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],G.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(D4(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||vv++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gn=new I4,M4=(e,t)=>{let n=(t==null?void 0:t.id)||vv++;return gn.addToast({title:e,...t,id:n}),n},D4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",L4=M4,$4=()=>gn.toasts,F4=()=>gn.getActiveToasts();Object.assign(L4,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:$4,getToasts:F4});function U4(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}U4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ld(e){return e.label!==void 0}var V4=3,B4="32px",z4="16px",bS=4e3,q4=356,W4=14,H4=20,G4=200;function dr(...e){return e.filter(Boolean).join(" ")}function K4(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var J4=e=>{var t,n,r,s,i,o,a,c,u,d,h;let{invert:f,toast:p,unstyled:x,interacting:m,setHeights:b,visibleToasts:y,heights:w,index:S,toasts:_,expanded:j,removeToast:C,defaultRichColors:T,closeButton:P,style:O,cancelButtonStyle:I,actionButtonStyle:R,className:D="",descriptionClassName:H="",duration:V,position:Q,gap:J,loadingIcon:Y,expandByDefault:L,classNames:$,icons:B,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:ne}=e,[v,E]=G.useState(null),[k,A]=G.useState(null),[N,M]=G.useState(!1),[U,F]=G.useState(!1),[W,X]=G.useState(!1),[de,Me]=G.useState(!1),[wt,ut]=G.useState(!1),[Oe,Ze]=G.useState(0),[_t,_n]=G.useState(0),tn=G.useRef(p.duration||V||bS),kn=G.useRef(null),It=G.useRef(null),as=S===0,Is=S+1<=y,At=p.type,or=p.dismissible!==!1,Wo=p.className||"",Ol=p.descriptionClassName||"",Ms=G.useMemo(()=>w.findIndex(xe=>xe.toastId===p.id)||0,[w,p.id]),Vu=G.useMemo(()=>{var xe;return(xe=p.closeButton)!=null?xe:P},[p.closeButton,P]),ae=G.useMemo(()=>p.duration||V||bS,[p.duration,V]),le=G.useRef(0),Z=G.useRef(0),Ne=G.useRef(0),We=G.useRef(null),[nn,Il]=Q.split("-"),Gx=G.useMemo(()=>w.reduce((xe,$e,et)=>et>=Ms?xe:xe+$e.height,0),[w,Ms]),Kx=O4(),zD=p.invert||f,Dp=At==="loading";Z.current=G.useMemo(()=>Ms*J+Gx,[Ms,Gx]),G.useEffect(()=>{tn.current=ae},[ae]),G.useEffect(()=>{M(!0)},[]),G.useEffect(()=>{let xe=It.current;if(xe){let $e=xe.getBoundingClientRect().height;return _n($e),b(et=>[{toastId:p.id,height:$e,position:p.position},...et]),()=>b(et=>et.filter(ar=>ar.toastId!==p.id))}},[b,p.id]),G.useLayoutEffect(()=>{if(!N)return;let xe=It.current,$e=xe.style.height;xe.style.height="auto";let et=xe.getBoundingClientRect().height;xe.style.height=$e,_n(et),b(ar=>ar.find(lr=>lr.toastId===p.id)?ar.map(lr=>lr.toastId===p.id?{...lr,height:et}:lr):[{toastId:p.id,height:et,position:p.position},...ar])},[N,p.title,p.description,b,p.id]);let Ds=G.useCallback(()=>{F(!0),Ze(Z.current),b(xe=>xe.filter($e=>$e.toastId!==p.id)),setTimeout(()=>{C(p)},G4)},[p,C,b,Z]);G.useEffect(()=>{if(p.promise&&At==="loading"||p.duration===1/0||p.type==="loading")return;let xe;return j||m||ne&&Kx?(()=>{if(Ne.current<le.current){let $e=new Date().getTime()-le.current;tn.current=tn.current-$e}Ne.current=new Date().getTime()})():tn.current!==1/0&&(le.current=new Date().getTime(),xe=setTimeout(()=>{var $e;($e=p.onAutoClose)==null||$e.call(p,p),Ds()},tn.current)),()=>clearTimeout(xe)},[j,m,p,At,ne,Kx,Ds]),G.useEffect(()=>{p.delete&&Ds()},[Ds,p.delete]);function qD(){var xe,$e,et;return B!=null&&B.loading?G.createElement("div",{className:dr($==null?void 0:$.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":At==="loading"},B.loading):Y?G.createElement("div",{className:dr($==null?void 0:$.loader,($e=p==null?void 0:p.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":At==="loading"},Y):G.createElement(C4,{className:dr($==null?void 0:$.loader,(et=p==null?void 0:p.classNames)==null?void 0:et.loader),visible:At==="loading"})}return G.createElement("li",{tabIndex:0,ref:It,className:dr(D,Wo,$==null?void 0:$.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[At],(n=p==null?void 0:p.classNames)==null?void 0:n[At]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:T,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":N,"data-promise":!!p.promise,"data-swiped":wt,"data-removed":U,"data-visible":Is,"data-y-position":nn,"data-x-position":Il,"data-index":S,"data-front":as,"data-swiping":W,"data-dismissible":or,"data-type":At,"data-invert":zD,"data-swipe-out":de,"data-swipe-direction":k,"data-expanded":!!(j||L&&N),style:{"--index":S,"--toasts-before":S,"--z-index":_.length-S,"--offset":`${U?Oe:Z.current}px`,"--initial-height":L?"auto":`${_t}px`,...O,...p.style},onDragEnd:()=>{X(!1),E(null),We.current=null},onPointerDown:xe=>{Dp||!or||(kn.current=new Date,Ze(Z.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(X(!0),We.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,$e,et,ar;if(de||!or)return;We.current=null;let lr=Number(((xe=It.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ls=Number((($e=It.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qi=new Date().getTime()-((et=kn.current)==null?void 0:et.getTime()),cr=v==="x"?lr:Ls,$s=Math.abs(cr)/qi;if(Math.abs(cr)>=H4||$s>.11){Ze(Z.current),(ar=p.onDismiss)==null||ar.call(p,p),A(v==="x"?lr>0?"right":"left":Ls>0?"down":"up"),Ds(),Me(!0),ut(!1);return}X(!1),E(null)},onPointerMove:xe=>{var $e,et,ar,lr;if(!We.current||!or||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;let Ls=xe.clientY-We.current.y,qi=xe.clientX-We.current.x,cr=(et=e.swipeDirections)!=null?et:K4(Q);!v&&(Math.abs(qi)>1||Math.abs(Ls)>1)&&E(Math.abs(qi)>Math.abs(Ls)?"x":"y");let $s={x:0,y:0};v==="y"?(cr.includes("top")||cr.includes("bottom"))&&(cr.includes("top")&&Ls<0||cr.includes("bottom")&&Ls>0)&&($s.y=Ls):v==="x"&&(cr.includes("left")||cr.includes("right"))&&(cr.includes("left")&&qi<0||cr.includes("right")&&qi>0)&&($s.x=qi),(Math.abs($s.x)>0||Math.abs($s.y)>0)&&ut(!0),(ar=It.current)==null||ar.style.setProperty("--swipe-amount-x",`${$s.x}px`),(lr=It.current)==null||lr.style.setProperty("--swipe-amount-y",`${$s.y}px`)}},Vu&&!p.jsx?G.createElement("button",{"aria-label":te,"data-disabled":Dp,"data-close-button":!0,onClick:Dp||!or?()=>{}:()=>{var xe;Ds(),(xe=p.onDismiss)==null||xe.call(p,p)},className:dr($==null?void 0:$.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=B==null?void 0:B.close)!=null?i:R4):null,p.jsx||g.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:G.createElement(G.Fragment,null,At||p.icon||p.promise?G.createElement("div",{"data-icon":"",className:dr($==null?void 0:$.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||qD():null,p.type!=="loading"?p.icon||(B==null?void 0:B[At])||E4(At):null):null,G.createElement("div",{"data-content":"",className:dr($==null?void 0:$.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:dr($==null?void 0:$.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?G.createElement("div",{"data-description":"",className:dr(H,Ol,$==null?void 0:$.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),g.isValidElement(p.cancel)?p.cancel:p.cancel&&ld(p.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:xe=>{var $e,et;ld(p.cancel)&&or&&((et=($e=p.cancel).onClick)==null||et.call($e,xe),Ds())},className:dr($==null?void 0:$.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,g.isValidElement(p.action)?p.action:p.action&&ld(p.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:xe=>{var $e,et;ld(p.action)&&((et=($e=p.action).onClick)==null||et.call($e,xe),!xe.defaultPrevented&&Ds())},className:dr($==null?void 0:$.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function SS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Y4(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?z4:B4;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var Q4=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:x=V4,toastOptions:m,dir:b=SS(),gap:y=W4,loadingIcon:w,icons:S,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[C,T]=G.useState([]),P=G.useMemo(()=>Array.from(new Set([r].concat(C.filter(ne=>ne.position).map(ne=>ne.position)))),[C,r]),[O,I]=G.useState([]),[R,D]=G.useState(!1),[H,V]=G.useState(!1),[Q,J]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=G.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=G.useRef(null),B=G.useRef(!1),te=G.useCallback(ne=>{T(v=>{var E;return(E=v.find(k=>k.id===ne.id))!=null&&E.delete||gn.dismiss(ne.id),v.filter(({id:k})=>k!==ne.id)})},[]);return G.useEffect(()=>gn.subscribe(ne=>{if(ne.dismiss){T(v=>v.map(E=>E.id===ne.id?{...E,delete:!0}:E));return}setTimeout(()=>{oT.flushSync(()=>{T(v=>{let E=v.findIndex(k=>k.id===ne.id);return E!==-1?[...v.slice(0,E),{...v[E],...ne},...v.slice(E+1)]:[ne,...v]})})})}),[]),G.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:v})=>{J(v?"dark":"light")})}catch{ne.addListener(({matches:E})=>{try{J(E?"dark":"light")}catch(k){console.error(k)}})}},[d]),G.useEffect(()=>{C.length<=1&&D(!1)},[C]),G.useEffect(()=>{let ne=v=>{var E,k;s.every(A=>v[A]||v.code===A)&&(D(!0),(E=Y.current)==null||E.focus()),v.code==="Escape"&&(document.activeElement===Y.current||(k=Y.current)!=null&&k.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),G.useEffect(()=>{if(Y.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,B.current=!1)}},[Y.current]),G.createElement("section",{ref:t,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ne,v)=>{var E;let[k,A]=ne.split("-");return C.length?G.createElement("ol",{key:ne,dir:b==="auto"?SS():b,tabIndex:-1,ref:Y,className:a,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":k,"data-lifted":R&&C.length>1&&!i,"data-x-position":A,style:{"--front-toast-height":`${((E=O[0])==null?void 0:E.height)||0}px`,"--width":`${q4}px`,"--gap":`${y}px`,...p,...Y4(c,u)},onBlur:N=>{B.current&&!N.currentTarget.contains(N.relatedTarget)&&(B.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||B.current||(B.current=!0,$.current=N.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{H||D(!1)},onDragEnd:()=>D(!1),onPointerDown:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},C.filter(N=>!N.position&&v===0||N.position===ne).map((N,M)=>{var U,F;return G.createElement(J4,{key:N.id,icons:S,index:M,toast:N,defaultRichColors:h,duration:(U=m==null?void 0:m.duration)!=null?U:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:x,closeButton:(F=m==null?void 0:m.closeButton)!=null?F:o,interacting:H,position:ne,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:te,toasts:C.filter(W=>W.position==N.position),heights:O.filter(W=>W.position==N.position),setHeights:I,expandByDefault:i,gap:y,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const X4=({...e})=>{const{theme:t="system"}=XT();return l.jsx(Q4,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Z4=Zy[" useId ".trim().toString()]||(()=>{}),eU=0;function Tr(e){const[t,n]=g.useState(Z4());return Nt(()=>{n(r=>r??String(eU++))},[e]),t?`radix-${t}`:""}const tU=["top","right","bottom","left"],Ei=Math.min,Nn=Math.max,zh=Math.round,cd=Math.floor,Zr=e=>({x:e,y:e}),nU={left:"right",right:"left",bottom:"top",top:"bottom"},rU={start:"end",end:"start"};function yv(e,t,n){return Nn(e,Ei(t,n))}function Cs(e,t){return typeof e=="function"?e(t):e}function Ts(e){return e.split("-")[0]}function xl(e){return e.split("-")[1]}function e0(e){return e==="x"?"y":"x"}function t0(e){return e==="y"?"height":"width"}const sU=new Set(["top","bottom"]);function Yr(e){return sU.has(Ts(e))?"y":"x"}function n0(e){return e0(Yr(e))}function iU(e,t,n){n===void 0&&(n=!1);const r=xl(e),s=n0(e),i=t0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=qh(o)),[o,qh(o)]}function oU(e){const t=qh(e);return[wv(e),t,wv(t)]}function wv(e){return e.replace(/start|end/g,t=>rU[t])}const _S=["left","right"],kS=["right","left"],aU=["top","bottom"],lU=["bottom","top"];function cU(e,t,n){switch(e){case"top":case"bottom":return n?t?kS:_S:t?_S:kS;case"left":case"right":return t?aU:lU;default:return[]}}function uU(e,t,n,r){const s=xl(e);let i=cU(Ts(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(wv)))),i}function qh(e){return e.replace(/left|right|bottom|top/g,t=>nU[t])}function dU(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZT(e){return typeof e!="number"?dU(e):{top:e,right:e,bottom:e,left:e}}function Wh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ES(e,t,n){let{reference:r,floating:s}=e;const i=Yr(t),o=n0(t),a=t0(o),c=Ts(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(xl(t)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const hU=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=ES(u,r,c),f=r,p={},x=0;for(let m=0;m<a.length;m++){const{name:b,fn:y}=a[m],{x:w,y:S,data:_,reset:j}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,h=S??h,p={...p,[b]:{...p[b],..._}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:h}=ES(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Wc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Cs(t,e),x=ZT(p),b=a[f?h==="floating"?"reference":"floating":h],y=Wh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},j=Wh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:c}):w);return{top:(y.top-j.top+x.top)/_.y,bottom:(j.bottom-y.bottom+x.bottom)/_.y,left:(y.left-j.left+x.left)/_.x,right:(j.right-y.right+x.right)/_.x}}const fU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=Cs(e,t)||{};if(u==null)return{};const h=ZT(d),f={x:n,y:r},p=n0(s),x=t0(p),m=await o.getDimensions(u),b=p==="y",y=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[p]-f[p]-i.floating[x],j=f[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=C?C[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(C)))&&(T=a.floating[S]||i.floating[x]);const P=_/2-j/2,O=T/2-m[x]/2-1,I=Ei(h[y],O),R=Ei(h[w],O),D=I,H=T-m[x]-R,V=T/2-m[x]/2+P,Q=yv(D,V,H),J=!c.arrow&&xl(s)!=null&&V!==Q&&i.reference[x]/2-(V<D?I:R)-m[x]/2<0,Y=J?V<D?V-D:V-H:0;return{[p]:f[p]+Y,data:{[p]:Q,centerOffset:V-Q-Y,...J&&{alignmentOffset:Y}},reset:J}}}),pU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...b}=Cs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ts(s),w=Yr(a),S=Ts(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=f||(S||!m?[qh(a)]:oU(a)),C=x!=="none";!f&&C&&j.push(...uU(a,m,x,_));const T=[a,...j],P=await Wc(t,b),O=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&O.push(P[y]),h){const V=iU(s,o,_);O.push(P[V[0]],P[V[1]])}if(I=[...I,{placement:s,overflows:O}],!O.every(V=>V<=0)){var R,D;const V=(((R=i.flip)==null?void 0:R.index)||0)+1,Q=T[V];if(Q&&(!(h==="alignment"?w!==Yr(Q):!1)||I.every(L=>L.overflows[0]>0&&Yr(L.placement)===w)))return{data:{index:V,overflows:I},reset:{placement:Q}};let J=(D=I.filter(Y=>Y.overflows[0]<=0).sort((Y,L)=>Y.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(p){case"bestFit":{var H;const Y=(H=I.filter(L=>{if(C){const $=Yr(L.placement);return $===w||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,B)=>$+B,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:H[0];Y&&(J=Y);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function jS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function CS(e){return tU.some(t=>e[t]>=0)}const mU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Cs(e,t);switch(r){case"referenceHidden":{const i=await Wc(t,{...s,elementContext:"reference"}),o=jS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CS(o)}}}case"escaped":{const i=await Wc(t,{...s,altBoundary:!0}),o=jS(i,n.floating);return{data:{escapedOffsets:o,escaped:CS(o)}}}default:return{}}}}},eN=new Set(["left","top"]);async function gU(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ts(n),a=xl(n),c=Yr(n)==="y",u=eN.has(o)?-1:1,d=i&&c?-1:1,h=Cs(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(p=a==="end"?x*-1:x),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const vU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await gU(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},yU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...c}=Cs(e,t),u={x:n,y:r},d=await Wc(t,c),h=Yr(Ts(s)),f=e0(h);let p=u[f],x=u[h];if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=p+d[b],S=p-d[y];p=yv(w,p,S)}if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=x+d[b],S=x-d[y];x=yv(w,x,S)}const m=a.fn({...t,[f]:p,[h]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[h]:o}}}}}},wU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Cs(e,t),d={x:n,y:r},h=Yr(s),f=e0(h);let p=d[f],x=d[h];const m=Cs(a,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const S=f==="y"?"height":"width",_=i.reference[f]-i.floating[S]+b.mainAxis,j=i.reference[f]+i.reference[S]-b.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var y,w;const S=f==="y"?"width":"height",_=eN.has(Ts(s)),j=i.reference[h]-i.floating[S]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:b.crossAxis),C=i.reference[h]+i.reference[S]+(_?0:((w=o.offset)==null?void 0:w[h])||0)-(_?b.crossAxis:0);x<j?x=j:x>C&&(x=C)}return{[f]:p,[h]:x}}}},xU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...u}=Cs(e,t),d=await Wc(t,u),h=Ts(s),f=xl(s),p=Yr(s)==="y",{width:x,height:m}=i.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,b=f==="end"?"top":"bottom");const w=m-d.top-d.bottom,S=x-d.left-d.right,_=Ei(m-d[b],w),j=Ei(x-d[y],S),C=!t.middlewareData.shift;let T=_,P=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=w),C&&!f){const I=Nn(d.left,0),R=Nn(d.right,0),D=Nn(d.top,0),H=Nn(d.bottom,0);p?P=x-2*(I!==0||R!==0?I+R:Nn(d.left,d.right)):T=m-2*(D!==0||H!==0?D+H:Nn(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:T});const O=await o.getDimensions(a.floating);return x!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function zf(){return typeof window<"u"}function bl(e){return tN(e)?(e.nodeName||"").toLowerCase():"#document"}function Mn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ss(e){var t;return(t=(tN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function tN(e){return zf()?e instanceof Node||e instanceof Mn(e).Node:!1}function Or(e){return zf()?e instanceof Element||e instanceof Mn(e).Element:!1}function ns(e){return zf()?e instanceof HTMLElement||e instanceof Mn(e).HTMLElement:!1}function TS(e){return!zf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mn(e).ShadowRoot}const bU=new Set(["inline","contents"]);function Nu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!bU.has(s)}const SU=new Set(["table","td","th"]);function _U(e){return SU.has(bl(e))}const kU=[":popover-open",":modal"];function qf(e){return kU.some(t=>{try{return e.matches(t)}catch{return!1}})}const EU=["transform","translate","scale","rotate","perspective"],jU=["transform","translate","scale","rotate","perspective","filter"],CU=["paint","layout","strict","content"];function r0(e){const t=s0(),n=Or(e)?Ir(e):e;return EU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||jU.some(r=>(n.willChange||"").includes(r))||CU.some(r=>(n.contain||"").includes(r))}function TU(e){let t=ji(e);for(;ns(t)&&!sl(t);){if(r0(t))return t;if(qf(t))return null;t=ji(t)}return null}function s0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NU=new Set(["html","body","#document"]);function sl(e){return NU.has(bl(e))}function Ir(e){return Mn(e).getComputedStyle(e)}function Wf(e){return Or(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ji(e){if(bl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||TS(e)&&e.host||ss(e);return TS(t)?t.host:t}function nN(e){const t=ji(e);return sl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ns(t)&&Nu(t)?t:nN(t)}function Hc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=nN(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Mn(s);if(i){const a=xv(o);return t.concat(o,o.visualViewport||[],Nu(s)?s:[],a&&n?Hc(a):[])}return t.concat(s,Hc(s,[],n))}function xv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rN(e){const t=Ir(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ns(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=zh(n)!==i||zh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function i0(e){return Or(e)?e:e.contextElement}function Ra(e){const t=i0(e);if(!ns(t))return Zr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=rN(t);let o=(i?zh(n.width):n.width)/r,a=(i?zh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AU=Zr(0);function sN(e){const t=Mn(e);return!s0()||!t.visualViewport?AU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PU(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Mn(e)?!1:t}function Po(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=i0(e);let o=Zr(1);t&&(r?Or(r)&&(o=Ra(r)):o=Ra(e));const a=PU(i,n,r)?sN(i):Zr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Mn(i),p=r&&Or(r)?Mn(r):r;let x=f,m=xv(x);for(;m&&r&&p!==x;){const b=Ra(m),y=m.getBoundingClientRect(),w=Ir(m),S=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*b.x,_=y.top+(m.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=S,u+=_,x=Mn(m),m=xv(x)}}return Wh({width:d,height:h,x:c,y:u})}function o0(e,t){const n=Wf(e).scrollLeft;return t?t.left+n:Po(ss(e)).left+n}function iN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:o0(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function RU(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=ss(r),a=t?qf(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Zr(1);const d=Zr(0),h=ns(r);if((h||!h&&!i)&&((bl(r)!=="body"||Nu(o))&&(c=Wf(r)),ns(r))){const p=Po(r);u=Ra(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?iN(o,c,!0):Zr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function OU(e){return Array.from(e.getClientRects())}function IU(e){const t=ss(e),n=Wf(e),r=e.ownerDocument.body,s=Nn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Nn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+o0(e);const a=-n.scrollTop;return Ir(r).direction==="rtl"&&(o+=Nn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function MU(e,t){const n=Mn(e),r=ss(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=s0();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const DU=new Set(["absolute","fixed"]);function LU(e,t){const n=Po(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=ns(e)?Ra(e):Zr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function NS(e,t,n){let r;if(t==="viewport")r=MU(e,n);else if(t==="document")r=IU(ss(e));else if(Or(t))r=LU(t,n);else{const s=sN(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Wh(r)}function oN(e,t){const n=ji(e);return n===t||!Or(n)||sl(n)?!1:Ir(n).position==="fixed"||oN(n,t)}function $U(e,t){const n=t.get(e);if(n)return n;let r=Hc(e,[],!1).filter(a=>Or(a)&&bl(a)!=="body"),s=null;const i=Ir(e).position==="fixed";let o=i?ji(e):e;for(;Or(o)&&!sl(o);){const a=Ir(o),c=r0(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&DU.has(s.position)||Nu(o)&&!c&&oN(e,o))?r=r.filter(d=>d!==o):s=a,o=ji(o)}return t.set(e,r),r}function FU(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?qf(t)?[]:$U(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const h=NS(t,d,s);return u.top=Nn(h.top,u.top),u.right=Ei(h.right,u.right),u.bottom=Ei(h.bottom,u.bottom),u.left=Nn(h.left,u.left),u},NS(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UU(e){const{width:t,height:n}=rN(e);return{width:t,height:n}}function VU(e,t,n){const r=ns(t),s=ss(t),i=n==="fixed",o=Po(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Zr(0);function u(){c.x=o0(s)}if(r||!r&&!i)if((bl(t)!=="body"||Nu(s))&&(a=Wf(t)),r){const p=Po(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?iN(s,a):Zr(0),h=o.left+a.scrollLeft-c.x-d.x,f=o.top+a.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function pm(e){return Ir(e).position==="static"}function AS(e,t){if(!ns(e)||Ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ss(e)===n&&(n=n.ownerDocument.body),n}function aN(e,t){const n=Mn(e);if(qf(e))return n;if(!ns(e)){let s=ji(e);for(;s&&!sl(s);){if(Or(s)&&!pm(s))return s;s=ji(s)}return n}let r=AS(e,t);for(;r&&_U(r)&&pm(r);)r=AS(r,t);return r&&sl(r)&&pm(r)&&!r0(r)?n:r||TU(e)||n}const BU=async function(e){const t=this.getOffsetParent||aN,n=this.getDimensions,r=await n(e.floating);return{reference:VU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zU(e){return Ir(e).direction==="rtl"}const qU={convertOffsetParentRelativeRectToViewportRelativeRect:RU,getDocumentElement:ss,getClippingRect:FU,getOffsetParent:aN,getElementRects:BU,getClientRects:OU,getDimensions:UU,getScale:Ra,isElement:Or,isRTL:zU};function lN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WU(e,t){let n=null,r;const s=ss(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||t(),!f||!p)return;const x=cd(h),m=cd(s.clientWidth-(d+f)),b=cd(s.clientHeight-(h+p)),y=cd(d),S={rootMargin:-x+"px "+-m+"px "+-b+"px "+-y+"px",threshold:Nn(0,Ei(1,c))||1};let _=!0;function j(C){const T=C[0].intersectionRatio;if(T!==c){if(!_)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!lN(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(j,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,S)}n.observe(e)}return o(!0),i}function HU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=i0(e),d=s||i?[...u?Hc(u):[],...Hc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&a?WU(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?Po(e):null;c&&b();function b(){const y=Po(e);m&&!lN(m,y)&&n(),m=y,x=requestAnimationFrame(b)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const GU=vU,KU=yU,JU=pU,YU=xU,QU=mU,PS=fU,XU=wU,ZU=(e,t,n)=>{const r=new Map,s={platform:qU,...n},i={...s.platform,_c:r};return hU(e,t,{...s,platform:i})};var eV=typeof document<"u",tV=function(){},Zd=eV?g.useLayoutEffect:tV;function Hh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Hh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Hh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function cN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RS(e,t){const n=cN(e);return Math.round(t*n)/n}function mm(e){const t=g.useRef(e);return Zd(()=>{t.current=e}),t}function nV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,h]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=g.useState(r);Hh(f,r)||p(r);const[x,m]=g.useState(null),[b,y]=g.useState(null),w=g.useCallback(L=>{L!==C.current&&(C.current=L,m(L))},[]),S=g.useCallback(L=>{L!==T.current&&(T.current=L,y(L))},[]),_=i||x,j=o||b,C=g.useRef(null),T=g.useRef(null),P=g.useRef(d),O=c!=null,I=mm(c),R=mm(s),D=mm(u),H=g.useCallback(()=>{if(!C.current||!T.current)return;const L={placement:t,strategy:n,middleware:f};R.current&&(L.platform=R.current),ZU(C.current,T.current,L).then($=>{const B={...$,isPositioned:D.current!==!1};V.current&&!Hh(P.current,B)&&(P.current=B,Bo.flushSync(()=>{h(B)}))})},[f,t,n,R,D]);Zd(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const V=g.useRef(!1);Zd(()=>(V.current=!0,()=>{V.current=!1}),[]),Zd(()=>{if(_&&(C.current=_),j&&(T.current=j),_&&j){if(I.current)return I.current(_,j,H);H()}},[_,j,H,I,O]);const Q=g.useMemo(()=>({reference:C,floating:T,setReference:w,setFloating:S}),[w,S]),J=g.useMemo(()=>({reference:_,floating:j}),[_,j]),Y=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!J.floating)return L;const $=RS(J.floating,d.x),B=RS(J.floating,d.y);return a?{...L,transform:"translate("+$+"px, "+B+"px)",...cN(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:B}},[n,a,J.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:H,refs:Q,elements:J,floatingStyles:Y}),[d,H,Q,J,Y])}const rV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PS({element:r.current,padding:s}).fn(n):{}:r?PS({element:r,padding:s}).fn(n):{}}}},sV=(e,t)=>({...GU(e),options:[e,t]}),iV=(e,t)=>({...KU(e),options:[e,t]}),oV=(e,t)=>({...XU(e),options:[e,t]}),aV=(e,t)=>({...JU(e),options:[e,t]}),lV=(e,t)=>({...YU(e),options:[e,t]}),cV=(e,t)=>({...QU(e),options:[e,t]}),uV=(e,t)=>({...rV(e),options:[e,t]});var dV="Arrow",uN=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(pe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});uN.displayName=dV;var hV=uN;function dN(e){const[t,n]=g.useState(void 0);return Nt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var a0="Popper",[hN,Hf]=Fn(a0),[fV,fN]=hN(a0),pN=e=>{const{__scopePopper:t,children:n}=e,[r,s]=g.useState(null);return l.jsx(fV,{scope:t,anchor:r,onAnchorChange:s,children:n})};pN.displayName=a0;var mN="PopperAnchor",gN=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=fN(mN,n),o=g.useRef(null),a=ke(t,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(pe.div,{...s,ref:a})});gN.displayName=mN;var l0="PopperContent",[pV,mV]=hN(l0),vN=g.forwardRef((e,t)=>{var N,M,U,F,W,X;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,b=fN(l0,n),[y,w]=g.useState(null),S=ke(t,de=>w(de)),[_,j]=g.useState(null),C=dN(_),T=(C==null?void 0:C.width)??0,P=(C==null?void 0:C.height)??0,O=r+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],D=R.length>0,H={padding:I,boundary:R.filter(vV),altBoundary:D},{refs:V,floatingStyles:Q,placement:J,isPositioned:Y,middlewareData:L}=nV({strategy:"fixed",placement:O,whileElementsMounted:(...de)=>HU(...de,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[sV({mainAxis:s+P,alignmentAxis:o}),c&&iV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?oV():void 0,...H}),c&&aV({...H}),lV({...H,apply:({elements:de,rects:Me,availableWidth:wt,availableHeight:ut})=>{const{width:Oe,height:Ze}=Me.reference,_t=de.floating.style;_t.setProperty("--radix-popper-available-width",`${wt}px`),_t.setProperty("--radix-popper-available-height",`${ut}px`),_t.setProperty("--radix-popper-anchor-width",`${Oe}px`),_t.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),_&&uV({element:_,padding:a}),yV({arrowWidth:T,arrowHeight:P}),f&&cV({strategy:"referenceHidden",...H})]}),[$,B]=xN(J),te=Ct(x);Nt(()=>{Y&&(te==null||te())},[Y,te]);const ne=(N=L.arrow)==null?void 0:N.x,v=(M=L.arrow)==null?void 0:M.y,E=((U=L.arrow)==null?void 0:U.centerOffset)!==0,[k,A]=g.useState();return Nt(()=>{y&&A(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:Y?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:k,"--radix-popper-transform-origin":[(F=L.transformOrigin)==null?void 0:F.x,(W=L.transformOrigin)==null?void 0:W.y].join(" "),...((X=L.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(pV,{scope:n,placedSide:$,onArrowChange:j,arrowX:ne,arrowY:v,shouldHideArrow:E,children:l.jsx(pe.div,{"data-side":$,"data-align":B,...m,ref:S,style:{...m.style,animation:Y?void 0:"none"}})})})});vN.displayName=l0;var yN="PopperArrow",gV={top:"bottom",right:"left",bottom:"top",left:"right"},wN=g.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=mV(yN,r),o=gV[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(hV,{...s,ref:n,style:{...s.style,display:"block"}})})});wN.displayName=yN;function vV(e){return e!==null}var yV=e=>({name:"transformOrigin",options:e,fn(t){var b,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=xN(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?h:`${f}px`,m=`${-c}px`):u==="top"?(x=o?h:`${f}px`,m=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(x=`${r.floating.width+c}px`,m=o?h:`${p}px`),{data:{x,y:m}}}});function xN(e){const[t,n="center"]=e.split("-");return[t,n]}var bN=pN,SN=gN,_N=vN,kN=wN,[Gf,NQ]=Fn("Tooltip",[Hf]),Kf=Hf(),EN="TooltipProvider",wV=700,bv="tooltip.open",[xV,c0]=Gf(EN),jN=e=>{const{__scopeTooltip:t,delayDuration:n=wV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=g.useRef(!0),a=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(xV,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};jN.displayName=EN;var Gc="Tooltip",[bV,Jf]=Gf(Gc),CN=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,c=c0(Gc,e.__scopeTooltip),u=Kf(t),[d,h]=g.useState(null),f=Tr(),p=g.useRef(0),x=o??c.disableHoverableContent,m=a??c.delayDuration,b=g.useRef(!1),[y,w]=Rr({prop:r,defaultProp:s??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(bv))):c.onClose(),i==null||i(T)},caller:Gc}),S=g.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),_=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,w(!0)},[w]),j=g.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),C=g.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,w(!0),p.current=0},m)},[m,w]);return g.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(bN,{...u,children:l.jsx(bV,{scope:t,contentId:f,open:y,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?C():_()},[c.isOpenDelayedRef,C,_]),onTriggerLeave:g.useCallback(()=>{x?j():(window.clearTimeout(p.current),p.current=0)},[j,x]),onOpen:_,onClose:j,disableHoverableContent:x,children:n})})};CN.displayName=Gc;var Sv="TooltipTrigger",TN=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Jf(Sv,n),i=c0(Sv,n),o=Kf(n),a=g.useRef(null),c=ke(t,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(SN,{asChild:!0,...o,children:l.jsx(pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ce(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ce(e.onBlur,s.onClose),onClick:ce(e.onClick,s.onClose)})})});TN.displayName=Sv;var SV="TooltipPortal",[AQ,_V]=Gf(SV,{forceMount:void 0}),il="TooltipContent",NN=g.forwardRef((e,t)=>{const n=_V(il,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Jf(il,e.__scopeTooltip);return l.jsx(Un,{present:r||o.open,children:o.disableHoverableContent?l.jsx(AN,{side:s,...i,ref:t}):l.jsx(kV,{side:s,...i,ref:t})})}),kV=g.forwardRef((e,t)=>{const n=Jf(il,e.__scopeTooltip),r=c0(il,e.__scopeTooltip),s=g.useRef(null),i=ke(t,s),[o,a]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=g.useCallback(()=>{a(null),h(!1)},[h]),p=g.useCallback((x,m)=>{const b=x.currentTarget,y={x:x.clientX,y:x.clientY},w=NV(y,b.getBoundingClientRect()),S=AV(y,w),_=PV(m.getBoundingClientRect()),j=OV([...S,..._]);a(j),h(!0)},[h]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&d){const x=b=>p(b,d),m=b=>p(b,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),g.useEffect(()=>{if(o){const x=m=>{const b=m.target,y={x:m.clientX,y:m.clientY},w=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),S=!RV(y,o);w?f():S&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),l.jsx(AN,{...e,ref:i})}),[EV,jV]=Gf(Gc,{isInside:!1}),CV=uT("TooltipContent"),AN=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,c=Jf(il,n),u=Kf(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(bv,d),()=>document.removeEventListener(bv,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(_N,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(CV,{children:r}),l.jsx(EV,{scope:n,isInside:!0,children:l.jsx(Y$,{id:c.contentId,role:"tooltip",children:s||r})})]})})});NN.displayName=il;var PN="TooltipArrow",TV=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Kf(n);return jV(PN,n).isInside?null:l.jsx(kN,{...s,...r,ref:t})});TV.displayName=PN;function NV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function PV(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function RV(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],c=t[o],u=a.x,d=a.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function OV(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),IV(t)}function IV(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var MV=jN,DV=CN,LV=TN,RN=NN;const Gr=MV,Wn=DV,Hn=LV,Tn=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(RN,{ref:r,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Tn.displayName=RN.displayName;var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qf=typeof window>"u"||"Deno"in globalThis;function wr(){}function $V(e,t){return typeof e=="function"?e(t):e}function FV(e){return typeof e=="number"&&e>=0&&e!==1/0}function UV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _v(e,t){return typeof e=="function"?e(t):e}function VV(e,t){return typeof e=="function"?e(t):e}function OS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==u0(o,t.options))return!1}else if(!Jc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function IS(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Kc(t.options.mutationKey)!==Kc(i))return!1}else if(!Jc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function u0(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kc)(e)}function Kc(e){return JSON.stringify(e,(t,n)=>kv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Jc(e[n],t[n])):!1}function ON(e,t){if(e===t)return e;const n=MS(e)&&MS(t);if(n||kv(e)&&kv(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,u++):(a[h]=ON(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&u++)}return s===o&&u===s?e:a}return t}function MS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kv(e){if(!DS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!DS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function DS(e){return Object.prototype.toString.call(e)==="[object Object]"}function BV(e){return new Promise(t=>{setTimeout(t,e)})}function zV(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ON(e,t):t}function qV(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function WV(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var d0=Symbol();function IN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===d0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var fo,ni,Va,FE,HV=(FE=class extends Yf{constructor(){super();Ie(this,fo);Ie(this,ni);Ie(this,Va);Se(this,Va,t=>{if(!Qf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,ni)||this.setEventListener(z(this,Va))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ni))==null||t.call(this),Se(this,ni,void 0))}setEventListener(t){var n;Se(this,Va,t),(n=z(this,ni))==null||n.call(this),Se(this,ni,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,fo)!==t&&(Se(this,fo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,fo)=="boolean"?z(this,fo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fo=new WeakMap,ni=new WeakMap,Va=new WeakMap,FE),MN=new HV,Ba,ri,za,UE,GV=(UE=class extends Yf{constructor(){super();Ie(this,Ba,!0);Ie(this,ri);Ie(this,za);Se(this,za,t=>{if(!Qf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,ri)||this.setEventListener(z(this,za))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ri))==null||t.call(this),Se(this,ri,void 0))}setEventListener(t){var n;Se(this,za,t),(n=z(this,ri))==null||n.call(this),Se(this,ri,t(this.setOnline.bind(this)))}setOnline(t){z(this,Ba)!==t&&(Se(this,Ba,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,Ba)}},Ba=new WeakMap,ri=new WeakMap,za=new WeakMap,UE),Gh=new GV;function KV(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function JV(e){return Math.min(1e3*2**e,3e4)}function DN(e){return(e??"online")==="online"?Gh.isOnline():!0}var LN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gm(e){return e instanceof LN}function $N(e){let t=!1,n=0,r=!1,s;const i=KV(),o=m=>{var b;r||(f(new LN(m)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>MN.isFocused()&&(e.networkMode==="always"||Gh.isOnline())&&e.canRun(),d=()=>DN(e.networkMode)&&e.canRun(),h=m=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,m),s==null||s(),i.resolve(m))},f=m=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,m),s==null||s(),i.reject(m))},p=()=>new Promise(m=>{var b;s=y=>{(r||u())&&m(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(r)return;let m;const b=n===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(h).catch(y=>{var C;if(r)return;const w=e.retry??(Qf?0:3),S=e.retryDelay??JV,_=typeof S=="function"?S(n,y):S,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!j){f(y);return}n++,(C=e.onFail)==null||C.call(e,n,y),BV(_).then(()=>u()?void 0:p()).then(()=>{t?f(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),i)}}var YV=e=>setTimeout(e,0);function QV(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=YV;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var cn=QV(),po,VE,FN=(VE=class{constructor(){Ie(this,po)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FV(this.gcTime)&&Se(this,po,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qf?1/0:5*60*1e3))}clearGcTimeout(){z(this,po)&&(clearTimeout(z(this,po)),Se(this,po,void 0))}},po=new WeakMap,VE),qa,mo,qn,go,Gt,pu,vo,br,cs,BE,XV=(BE=class extends FN{constructor(t){super();Ie(this,br);Ie(this,qa);Ie(this,mo);Ie(this,qn);Ie(this,go);Ie(this,Gt);Ie(this,pu);Ie(this,vo);Se(this,vo,!1),Se(this,pu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,go,t.client),Se(this,qn,z(this,go).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,qa,eB(this.options)),this.state=t.state??z(this,qa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Gt))==null?void 0:t.promise}setOptions(t){this.options={...z(this,pu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,qn).remove(this)}setData(t,n){const r=zV(this.state.data,t,this.options);return zt(this,br,cs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){zt(this,br,cs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=z(this,Gt))==null?void 0:r.promise;return(s=z(this,Gt))==null||s.cancel(t),n?n.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,qa))}isActive(){return this.observers.some(t=>VV(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_v(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!UV(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Gt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Gt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,Gt)&&(z(this,vo)?z(this,Gt).cancel({revert:!0}):z(this,Gt).cancelRetry()),this.scheduleGc()),z(this,qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,br,cs).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Gt))return z(this,Gt).continueRetry(),z(this,Gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Se(this,vo,!0),r.signal)})},i=()=>{const f=IN(this.options,n),x=(()=>{const m={client:z(this,go),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return Se(this,vo,!1),this.options.persister?this.options.persister(f,x,this):f(x)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,go),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),Se(this,mo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&zt(this,br,cs).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=f=>{var p,x,m,b;gm(f)&&f.silent||zt(this,br,cs).call(this,{type:"error",error:f}),gm(f)||((x=(p=z(this,qn).config).onError)==null||x.call(p,f,this),(b=(m=z(this,qn).config).onSettled)==null||b.call(m,this.state.data,f,this)),this.scheduleGc()};return Se(this,Gt,$N({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,x,m,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(x=(p=z(this,qn).config).onSuccess)==null||x.call(p,f,this),(b=(m=z(this,qn).config).onSettled)==null||b.call(m,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{zt(this,br,cs).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{zt(this,br,cs).call(this,{type:"pause"})},onContinue:()=>{zt(this,br,cs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Gt).start()}},qa=new WeakMap,mo=new WeakMap,qn=new WeakMap,go=new WeakMap,Gt=new WeakMap,pu=new WeakMap,vo=new WeakMap,br=new WeakSet,cs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ZV(r.data,this.options),fetchMeta:t.meta??null};case"success":return Se(this,mo,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return gm(s)&&s.revert&&z(this,mo)?{...z(this,mo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,qn).notify({query:this,type:"updated",action:t})})},BE);function ZV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function eB(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Br,zE,tB=(zE=class extends Yf{constructor(t={}){super();Ie(this,Br);this.config=t,Se(this,Br,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??u0(s,n);let o=this.get(i);return o||(o=new XV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){z(this,Br).has(t.queryHash)||(z(this,Br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,Br).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,Br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Br).get(t)}getAll(){return[...z(this,Br).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>OS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>OS(t,r)):n}notify(t){cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Br=new WeakMap,zE),zr,on,yo,qr,zs,qE,nB=(qE=class extends FN{constructor(t){super();Ie(this,qr);Ie(this,zr);Ie(this,on);Ie(this,yo);this.mutationId=t.mutationId,Se(this,on,t.mutationCache),Se(this,zr,[]),this.state=t.state||rB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,zr).includes(t)||(z(this,zr).push(t),this.clearGcTimeout(),z(this,on).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,zr,z(this,zr).filter(n=>n!==t)),this.scheduleGc(),z(this,on).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,zr).length||(this.state.status==="pending"?this.scheduleGc():z(this,on).remove(this))}continue(){var t;return((t=z(this,yo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,c,u,d,h,f,p,x,m,b,y,w,S,_,j,C,T,P;const n=()=>{zt(this,qr,zs).call(this,{type:"continue"})};Se(this,yo,$N({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,I)=>{zt(this,qr,zs).call(this,{type:"failed",failureCount:O,error:I})},onPause:()=>{zt(this,qr,zs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,on).canRun(this)}));const r=this.state.status==="pending",s=!z(this,yo).canStart();try{if(r)n();else{zt(this,qr,zs).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=z(this,on).config).onMutate)==null?void 0:o.call(i,t,this));const I=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));I!==this.state.context&&zt(this,qr,zs).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const O=await z(this,yo).start();return await((d=(u=z(this,on).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,O,t,this.state.context)),await((x=(p=z(this,on).config).onSettled)==null?void 0:x.call(p,O,null,this.state.variables,this.state.context,this)),await((b=(m=this.options).onSettled)==null?void 0:b.call(m,O,null,t,this.state.context)),zt(this,qr,zs).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(y=z(this,on).config).onError)==null?void 0:w.call(y,O,t,this.state.context,this)),await((_=(S=this.options).onError)==null?void 0:_.call(S,O,t,this.state.context)),await((C=(j=z(this,on).config).onSettled)==null?void 0:C.call(j,void 0,O,this.state.variables,this.state.context,this)),await((P=(T=this.options).onSettled)==null?void 0:P.call(T,void 0,O,t,this.state.context)),O}finally{zt(this,qr,zs).call(this,{type:"error",error:O})}}finally{z(this,on).runNext(this)}}},zr=new WeakMap,on=new WeakMap,yo=new WeakMap,qr=new WeakSet,zs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{z(this,zr).forEach(r=>{r.onMutationUpdate(t)}),z(this,on).notify({mutation:this,type:"updated",action:t})})},qE);function rB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gs,Sr,mu,WE,sB=(WE=class extends Yf{constructor(t={}){super();Ie(this,gs);Ie(this,Sr);Ie(this,mu);this.config=t,Se(this,gs,new Set),Se(this,Sr,new Map),Se(this,mu,0)}build(t,n,r){const s=new nB({mutationCache:this,mutationId:++Bu(this,mu)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){z(this,gs).add(t);const n=ud(t);if(typeof n=="string"){const r=z(this,Sr).get(n);r?r.push(t):z(this,Sr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,gs).delete(t)){const n=ud(t);if(typeof n=="string"){const r=z(this,Sr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&z(this,Sr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ud(t);if(typeof n=="string"){const r=z(this,Sr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=ud(t);if(typeof n=="string"){const s=(r=z(this,Sr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cn.batch(()=>{z(this,gs).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,gs).clear(),z(this,Sr).clear()})}getAll(){return Array.from(z(this,gs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>IS(n,r))}findAll(t={}){return this.getAll().filter(n=>IS(t,n))}notify(t){cn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(t.map(n=>n.continue().catch(wr))))}},gs=new WeakMap,Sr=new WeakMap,mu=new WeakMap,WE);function ud(e){var t;return(t=e.options.scope)==null?void 0:t.id}function LS(e){return{onFetch:(t,n)=>{var d,h,f,p,x;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=IN(t.options,t.fetchOptions),w=async(S,_,j)=>{if(m)return Promise.reject();if(_==null&&S.pages.length)return Promise.resolve(S);const T=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return b(R),R})(),P=await y(T),{maxPages:O}=t.options,I=j?WV:qV;return{pages:I(S.pages,P,O),pageParams:I(S.pageParams,_,O)}};if(s&&i.length){const S=s==="backward",_=S?iB:$S,j={pages:i,pageParams:o},C=_(r,j);a=await w(j,C,S)}else{const S=e??i.length;do{const _=c===0?o[0]??r.initialPageParam:$S(r,a);if(c>0&&_==null)break;a=await w(a,_),c++}while(c<S)}return a};t.options.persister?t.fetchFn=()=>{var m,b;return(b=(m=t.options).persister)==null?void 0:b.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function $S(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function iB(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var dt,si,ii,Wa,Ha,oi,Ga,Ka,HE,oB=(HE=class{constructor(e={}){Ie(this,dt);Ie(this,si);Ie(this,ii);Ie(this,Wa);Ie(this,Ha);Ie(this,oi);Ie(this,Ga);Ie(this,Ka);Se(this,dt,e.queryCache||new tB),Se(this,si,e.mutationCache||new sB),Se(this,ii,e.defaultOptions||{}),Se(this,Wa,new Map),Se(this,Ha,new Map),Se(this,oi,0)}mount(){Bu(this,oi)._++,z(this,oi)===1&&(Se(this,Ga,MN.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,dt).onFocus())})),Se(this,Ka,Gh.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,dt).onOnline())})))}unmount(){var e,t;Bu(this,oi)._--,z(this,oi)===0&&((e=z(this,Ga))==null||e.call(this),Se(this,Ga,void 0),(t=z(this,Ka))==null||t.call(this),Se(this,Ka,void 0))}isFetching(e){return z(this,dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,si).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,dt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,dt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_v(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return z(this,dt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=z(this,dt).get(r.queryHash),i=s==null?void 0:s.state.data,o=$V(t,i);if(o!==void 0)return z(this,dt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return cn.batch(()=>z(this,dt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,dt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,dt);cn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,dt);return cn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=cn.batch(()=>z(this,dt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(e,t={}){return cn.batch(()=>(z(this,dt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=cn.batch(()=>z(this,dt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(wr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(wr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,dt).build(this,t);return n.isStaleByTime(_v(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wr).catch(wr)}fetchInfiniteQuery(e){return e.behavior=LS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wr).catch(wr)}ensureInfiniteQueryData(e){return e.behavior=LS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gh.isOnline()?z(this,si).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,dt)}getMutationCache(){return z(this,si)}getDefaultOptions(){return z(this,ii)}setDefaultOptions(e){Se(this,ii,e)}setQueryDefaults(e,t){z(this,Wa).set(Kc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,Wa).values()],n={};return t.forEach(r=>{Jc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){z(this,Ha).set(Kc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Ha).values()],n={};return t.forEach(r=>{Jc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,ii).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=u0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===d0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,ii).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,dt).clear(),z(this,si).clear()}},dt=new WeakMap,si=new WeakMap,ii=new WeakMap,Wa=new WeakMap,Ha=new WeakMap,oi=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,HE),aB=g.createContext(void 0),lB=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(aB.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yc.apply(this,arguments)}var ci;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ci||(ci={}));const FS="popstate";function cB(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ev("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Kh(s)}return dB(t,n,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uB(){return Math.random().toString(36).substr(2,8)}function US(e,t){return{usr:e.state,key:e.key,idx:t}}function Ev(e,t,n,r){return n===void 0&&(n=null),Yc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sl(t):t,{state:n,key:t&&t.key||r||uB()})}function Kh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function dB(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ci.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Yc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ci.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:a,location:m.location,delta:y})}function f(b,y){a=ci.Push;let w=Ev(m.location,b,y);u=d()+1;let S=US(w,u),_=m.createHref(w);try{o.pushState(S,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:a,location:m.location,delta:1})}function p(b,y){a=ci.Replace;let w=Ev(m.location,b,y);u=d();let S=US(w,u),_=m.createHref(w);o.replaceState(S,"",_),i&&c&&c({action:a,location:m.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:Kh(b);return w=w.replace(/ $/,"%20"),yt(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return a},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(FS,h),c=b,()=>{s.removeEventListener(FS,h),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return m}var VS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VS||(VS={}));function hB(e,t,n){return n===void 0&&(n="/"),fB(e,t,n,!1)}function fB(e,t,n,r){let s=typeof t=="string"?Sl(t):t,i=h0(s.pathname||"/",n);if(i==null)return null;let o=VN(e);pB(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=EB(i);a=_B(o[c],u,r)}return a}function VN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(yt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xi([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(yt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:bB(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of BN(i.path))s(i,o,c)}),t}function BN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=BN(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function pB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:SB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mB=/^:[\w-]+$/,gB=3,vB=2,yB=1,wB=10,xB=-2,BS=e=>e==="*";function bB(e,t){let n=e.split("/"),r=n.length;return n.some(BS)&&(r+=xB),t&&(r+=vB),n.filter(s=>!BS(s)).reduce((s,i)=>s+(mB.test(i)?gB:i===""?yB:wB),r)}function SB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function _B(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=zS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=zS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:xi([i,h.pathname]),pathnameBase:NB(xi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=xi([i,h.pathnameBase]))}return o}function zS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kB(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=a[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=a[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function kB(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),UN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function EB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return UN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function h0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jB(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Sl(e):e;return{pathname:n?n.startsWith("/")?n:CB(n,t):t,search:AB(r),hash:PB(s)}}function CB(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function f0(e,t){let n=TB(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function p0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Sl(e):(s=Yc({},e),yt(!s.pathname||!s.pathname.includes("?"),vm("?","pathname","search",s)),yt(!s.pathname||!s.pathname.includes("#"),vm("#","pathname","hash",s)),yt(!s.search||!s.search.includes("#"),vm("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let c=jB(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xi=e=>e.join("/").replace(/\/\/+/g,"/"),NB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zN=["post","put","patch","delete"];new Set(zN);const OB=["get",...zN];new Set(OB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc.apply(this,arguments)}const m0=g.createContext(null),IB=g.createContext(null),$i=g.createContext(null),Xf=g.createContext(null),is=g.createContext({outlet:null,matches:[],isDataRoute:!1}),qN=g.createContext(null);function MB(e,t){let{relative:n}=t===void 0?{}:t;_l()||yt(!1);let{basename:r,navigator:s}=g.useContext($i),{hash:i,pathname:o,search:a}=HN(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:xi([r,o])),s.createHref({pathname:c,search:a,hash:i})}function _l(){return g.useContext(Xf)!=null}function Fi(){return _l()||yt(!1),g.useContext(Xf).location}function WN(e){g.useContext($i).static||g.useLayoutEffect(e)}function Ui(){let{isDataRoute:e}=g.useContext(is);return e?YB():DB()}function DB(){_l()||yt(!1);let e=g.useContext(m0),{basename:t,future:n,navigator:r}=g.useContext($i),{matches:s}=g.useContext(is),{pathname:i}=Fi(),o=JSON.stringify(f0(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return WN(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=p0(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:xi([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const LB=g.createContext(null);function $B(e){let t=g.useContext(is).outlet;return t&&g.createElement(LB.Provider,{value:e},t)}function g0(){let{matches:e}=g.useContext(is),t=e[e.length-1];return t?t.params:{}}function HN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext($i),{matches:s}=g.useContext(is),{pathname:i}=Fi(),o=JSON.stringify(f0(s,r.v7_relativeSplatPath));return g.useMemo(()=>p0(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function FB(e,t){return UB(e,t)}function UB(e,t,n,r){_l()||yt(!1);let{navigator:s}=g.useContext($i),{matches:i}=g.useContext(is),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fi(),d;if(t){var h;let b=typeof t=="string"?Sl(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||yt(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=hB(e,{pathname:p}),m=WB(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:xi([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:xi([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&m?g.createElement(Xf.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ci.Pop}},m):m}function VB(){let e=JB(),t=RB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const BB=g.createElement(VB,null);class zB extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(is.Provider,{value:this.props.routeContext},g.createElement(qN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qB(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(m0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(is.Provider,{value:t},r)}function WB(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||yt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,x=!1,m=null,b=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||BB,c&&(u<0&&f===0?(x=!0,b=null):u===f&&(x=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let S;return p?S=m:x?S=b:h.route.Component?S=g.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,g.createElement(qB,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(zB,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var GN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(GN||{}),Jh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jh||{});function HB(e){let t=g.useContext(m0);return t||yt(!1),t}function GB(e){let t=g.useContext(IB);return t||yt(!1),t}function KB(e){let t=g.useContext(is);return t||yt(!1),t}function KN(e){let t=KB(),n=t.matches[t.matches.length-1];return n.route.id||yt(!1),n.route.id}function JB(){var e;let t=g.useContext(qN),n=GB(Jh.UseRouteError),r=KN(Jh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function YB(){let{router:e}=HB(GN.UseNavigateStable),t=KN(Jh.UseNavigateStable),n=g.useRef(!1);return WN(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Qc({fromRouteId:t},i)))},[e,t])}function QB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function XB(e){let{to:t,replace:n,state:r,relative:s}=e;_l()||yt(!1);let{future:i,static:o}=g.useContext($i),{matches:a}=g.useContext(is),{pathname:c}=Fi(),u=Ui(),d=p0(t,f0(a,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function ZB(e){return $B(e.context)}function Ht(e){yt(!1)}function e3(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ci.Pop,navigator:i,static:o=!1,future:a}=e;_l()&&yt(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Qc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Sl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,m=g.useMemo(()=>{let b=h0(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:x},navigationType:s}},[c,d,h,f,p,x,s]);return m==null?null:g.createElement($i.Provider,{value:u},g.createElement(Xf.Provider,{children:n,value:m}))}function qS(e){let{children:t,location:n}=e;return FB(jv(t),n)}new Promise(()=>{});function jv(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let i=[...t,s];if(r.type===g.Fragment){n.push.apply(n,jv(r.props.children,i));return}r.type!==Ht&&yt(!1),!r.props.index||!r.props.children||yt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cv.apply(this,arguments)}function t3(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function n3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r3(e,t){return e.button===0&&(!t||t==="_self")&&!n3(e)}function Tv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function s3(e,t){let n=Tv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const i3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o3="6";try{window.__reactRouterVersion=o3}catch{}const a3="startTransition",WS=Zy[a3];function l3(e){let{basename:t,children:n,future:r,window:s}=e,i=g.useRef();i.current==null&&(i.current=cB({window:s,v5Compat:!0}));let o=i.current,[a,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(h=>{u&&WS?WS(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>QB(r),[r]),g.createElement(e3,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const c3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=g.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=t3(t,i3),{basename:p}=g.useContext($i),x,m=!1;if(typeof u=="string"&&u3.test(u)&&(x=u,c3))try{let S=new URL(window.location.href),_=u.startsWith("//")?new URL(S.protocol+u):new URL(u),j=h0(_.pathname,p);_.origin===S.origin&&j!=null?u=j+_.search+_.hash:m=!0}catch{}let b=MB(u,{relative:s}),y=d3(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(S){r&&r(S),S.defaultPrevented||y(S)}return g.createElement("a",Cv({},f,{href:x||b,onClick:m||i?r:w,ref:n,target:c}))});var HS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HS||(HS={}));var GS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(GS||(GS={}));function d3(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Ui(),u=Fi(),d=HN(e,{relative:o});return g.useCallback(h=>{if(r3(h,n)){h.preventDefault();let f=r!==void 0?r:Kh(u)===Kh(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,e,i,o,a])}function h3(e){let t=g.useRef(Tv(e)),n=g.useRef(!1),r=Fi(),s=g.useMemo(()=>s3(r.search,n.current?null:t.current),[r.search]),i=Ui(),o=g.useCallback((a,c)=>{const u=Tv(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}const v0=Bf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?C$:"button";return l.jsx(o,{className:oe(v0({variant:t,size:n,className:e})),ref:i,...s})});re.displayName="Button";const Vt=g.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Vt.displayName="Input";const Zf=g.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Zf.displayName="Textarea";var f3="Label",JN=g.forwardRef((e,t)=>l.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));JN.displayName=f3;var YN=JN;const p3=Bf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gt=g.forwardRef(({className:e,...t},n)=>l.jsx(YN,{ref:n,className:oe(p3(),e),...t}));gt.displayName=YN.displayName;const y0=g.createContext({});function w0(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const x0=typeof window<"u",QN=x0?g.useLayoutEffect:g.useEffect,ep=g.createContext(null);function b0(e,t){e.indexOf(t)===-1&&e.push(t)}function S0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const rs=(e,t,n)=>n>t?t:n<e?e:n;let tp=()=>{},ol=()=>{};const Ns={},XN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ZN(e){return typeof e=="object"&&e!==null}const eA=e=>/^0[^.\s]+$/u.test(e);function _0(e){let t;return()=>(t===void 0&&(t=e()),t)}const er=e=>e,m3=(e,t)=>n=>t(e(n)),Au=(...e)=>e.reduce(m3),Xc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class k0{constructor(){this.subscriptions=[]}add(t){return b0(this.subscriptions,t),()=>S0(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const es=e=>e*1e3,Qn=e=>e/1e3;function tA(e,t){return t?e*(1e3/t):0}const nA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,g3=1e-7,v3=12;function y3(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=nA(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>g3&&++a<v3);return o}function Pu(e,t,n,r){if(e===t&&n===r)return er;const s=i=>y3(i,0,1,e,n);return i=>i===0||i===1?i:nA(s(i),t,r)}const rA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sA=e=>t=>1-e(1-t),iA=Pu(.33,1.53,.69,.99),E0=sA(iA),oA=rA(E0),aA=e=>(e*=2)<1?.5*E0(e):.5*(2-Math.pow(2,-10*(e-1))),j0=e=>1-Math.sin(Math.acos(e)),lA=sA(j0),cA=rA(j0),w3=Pu(.42,0,1,1),x3=Pu(0,0,.58,1),uA=Pu(.42,0,.58,1),b3=e=>Array.isArray(e)&&typeof e[0]!="number",dA=e=>Array.isArray(e)&&typeof e[0]=="number",KS={linear:er,easeIn:w3,easeInOut:uA,easeOut:x3,circIn:j0,circInOut:cA,circOut:lA,backIn:E0,backInOut:oA,backOut:iA,anticipate:aA},S3=e=>typeof e=="string",JS=e=>{if(dA(e)){ol(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return Pu(t,n,r,s)}else if(S3(e))return ol(KS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),KS[e];return e},dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],YS={value:null,addProjectionMetrics:null};function _3(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(a)}const d={schedule:(h,f=!1,p=!1)=>{const m=p&&s?n:r;return f&&o.add(h),m.has(h)||m.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&YS.value&&YS.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const k3=40;function hA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=dd.reduce((S,_)=>(S[_]=_3(i,t?_:void 0),S),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:p,postRender:x}=o,m=()=>{const S=Ns.useManualTiming?s.timestamp:performance.now();n=!1,Ns.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,k3),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),p.process(s),x.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},b=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:dd.reduce((S,_)=>{const j=o[_];return S[_]=(C,T=!1,P=!1)=>(n||b(),j.schedule(C,T,P)),S},{}),cancel:S=>{for(let _=0;_<dd.length;_++)o[dd[_]].cancel(S)},state:s,steps:o}}const{schedule:Qe,cancel:Ci,state:Ft,steps:ym}=hA(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let eh;function E3(){eh=void 0}const dn={now:()=>(eh===void 0&&dn.set(Ft.isProcessing||Ns.useManualTiming?Ft.timestamp:performance.now()),eh),set:e=>{eh=e,queueMicrotask(E3)}},fA=e=>t=>typeof t=="string"&&t.startsWith(e),pA=fA("--"),j3=fA("var(--"),C0=e=>j3(e)?C3.test(e.split("/*")[0].trim()):!1,C3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function QS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const kl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zc={...kl,transform:e=>rs(0,1,e)},hd={...kl,default:1},vc=e=>Math.round(e*1e5)/1e5,T0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function T3(e){return e==null}const N3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,N0=(e,t)=>n=>!!(typeof n=="string"&&N3.test(n)&&n.startsWith(e)||t&&!T3(n)&&Object.prototype.hasOwnProperty.call(n,t)),mA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(T0);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},A3=e=>rs(0,255,e),wm={...kl,transform:e=>Math.round(A3(e))},lo={test:N0("rgb","red"),parse:mA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wm.transform(e)+", "+wm.transform(t)+", "+wm.transform(n)+", "+vc(Zc.transform(r))+")"};function P3(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Nv={test:N0("#"),parse:P3,transform:lo.transform},Ru=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qs=Ru("deg"),ts=Ru("%"),se=Ru("px"),R3=Ru("vh"),O3=Ru("vw"),XS={...ts,parse:e=>ts.parse(e)/100,transform:e=>ts.transform(e*100)},wa={test:N0("hsl","hue"),parse:mA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ts.transform(vc(t))+", "+ts.transform(vc(n))+", "+vc(Zc.transform(r))+")"},bt={test:e=>lo.test(e)||Nv.test(e)||wa.test(e),parse:e=>lo.test(e)?lo.parse(e):wa.test(e)?wa.parse(e):Nv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?lo.transform(e):wa.transform(e),getAnimatableNone:e=>{const t=bt.parse(e);return t.alpha=0,bt.transform(t)}},I3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(T0))==null?void 0:t.length)||0)+(((n=e.match(I3))==null?void 0:n.length)||0)>0}const gA="number",vA="color",D3="var",L3="var(",ZS="${}",$3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace($3,c=>(bt.test(c)?(r.color.push(i),s.push(vA),n.push(bt.parse(c))):c.startsWith(L3)?(r.var.push(i),s.push(D3),n.push(c)):(r.number.push(i),s.push(gA),n.push(parseFloat(c))),++i,ZS)).split(ZS);return{values:n,split:a,indexes:r,types:s}}function yA(e){return eu(e).values}function wA(e){const{split:t,types:n}=eu(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===gA?i+=vc(s[o]):a===vA?i+=bt.transform(s[o]):i+=s[o]}return i}}const F3=e=>typeof e=="number"?0:bt.test(e)?bt.getAnimatableNone(e):e;function U3(e){const t=yA(e);return wA(e)(t.map(F3))}const Ti={test:M3,parse:yA,createTransformer:wA,getAnimatableNone:U3};function xm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function V3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=xm(c,a,e+1/3),i=xm(c,a,e),o=xm(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Yh(e,t){return n=>n>0?t:e}const ot=(e,t,n)=>e+(t-e)*n,bm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},B3=[Nv,lo,wa],z3=e=>B3.find(t=>t.test(e));function e_(e){const t=z3(e);if(tp(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===wa&&(n=V3(n)),n}const t_=(e,t)=>{const n=e_(e),r=e_(t);if(!n||!r)return Yh(e,t);const s={...n};return i=>(s.red=bm(n.red,r.red,i),s.green=bm(n.green,r.green,i),s.blue=bm(n.blue,r.blue,i),s.alpha=ot(n.alpha,r.alpha,i),lo.transform(s))},Av=new Set(["none","hidden"]);function q3(e,t){return Av.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function W3(e,t){return n=>ot(e,t,n)}function A0(e){return typeof e=="number"?W3:typeof e=="string"?C0(e)?Yh:bt.test(e)?t_:K3:Array.isArray(e)?xA:typeof e=="object"?bt.test(e)?t_:H3:Yh}function xA(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>A0(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function H3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=A0(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function G3(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const K3=(e,t)=>{const n=Ti.createTransformer(t),r=eu(e),s=eu(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Av.has(e)&&!s.values.length||Av.has(t)&&!r.values.length?q3(e,t):Au(xA(G3(r,s),s.values),n):(tp(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Yh(e,t))};function bA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ot(e,t,n):A0(e)(e,t)}const J3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Qe.update(t,n),stop:()=>Ci(t),now:()=>Ft.isProcessing?Ft.timestamp:dn.now()}},SA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Qh=2e4;function P0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Qh;)t+=n,r=e.next(t);return t>=Qh?1/0:t}function Y3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(P0(r),Qh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Qn(s)}}const Q3=5;function _A(e,t,n){const r=Math.max(t-Q3,0);return tA(n-e(r),t-r)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sm=.001;function X3({duration:e=st.duration,bounce:t=st.bounce,velocity:n=st.velocity,mass:r=st.mass}){let s,i;tp(e<=es(st.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=rs(st.minDamping,st.maxDamping,o),e=rs(st.minDuration,st.maxDuration,Qn(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,p=Pv(u,o),x=Math.exp(-h);return Sm-f/p*x},i=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),m=Pv(Math.pow(u,2),o);return(-s(u)+Sm>0?-1:1)*((f-p)*x)/m}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Sm+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,c=e5(s,i,a);if(e=es(e),isNaN(c))return{stiffness:st.stiffness,damping:st.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Z3=12;function e5(e,t,n){let r=n;for(let s=1;s<Z3;s++)r=r-e(r)/t(r);return r}function Pv(e,t){return e*Math.sqrt(1-t*t)}const t5=["duration","bounce"],n5=["stiffness","damping","mass"];function n_(e,t){return t.some(n=>e[n]!==void 0)}function r5(e){let t={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...e};if(!n_(e,n5)&&n_(e,t5))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*rs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:st.mass,stiffness:s,damping:i}}else{const n=X3(e);t={...t,...n,mass:st.mass},t.isResolvedFromDuration=!0}return t}function Xh(e=st.visualDuration,t=st.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=r5({...n,velocity:-Qn(n.velocity||0)}),x=f||0,m=u/(2*Math.sqrt(c*d)),b=o-i,y=Qn(Math.sqrt(c/d)),w=Math.abs(b)<5;r||(r=w?st.restSpeed.granular:st.restSpeed.default),s||(s=w?st.restDelta.granular:st.restDelta.default);let S;if(m<1){const j=Pv(y,m);S=C=>{const T=Math.exp(-m*y*C);return o-T*((x+m*y*b)/j*Math.sin(j*C)+b*Math.cos(j*C))}}else if(m===1)S=j=>o-Math.exp(-y*j)*(b+(x+y*b)*j);else{const j=y*Math.sqrt(m*m-1);S=C=>{const T=Math.exp(-m*y*C),P=Math.min(j*C,300);return o-T*((x+m*y*b)*Math.sinh(P)+j*b*Math.cosh(P))/j}}const _={calculatedDuration:p&&h||null,next:j=>{const C=S(j);if(p)a.done=j>=h;else{let T=j===0?x:0;m<1&&(T=j===0?es(x):_A(S,j,C));const P=Math.abs(T)<=r,O=Math.abs(o-C)<=s;a.done=P&&O}return a.value=a.done?o:C,a},toString:()=>{const j=Math.min(P0(_),Qh),C=SA(T=>_.next(j*T).value,j,30);return j+"ms "+C},toTransition:()=>{}};return _}Xh.applyToOptions=e=>{const t=Y3(e,100,Xh);return e.ease=t.ease,e.duration=es(t.duration),e.type="keyframes",e};function Rv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=P=>a!==void 0&&P<a||c!==void 0&&P>c,x=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let m=n*t;const b=h+m,y=o===void 0?b:o(b);y!==b&&(m=y-h);const w=P=>-m*Math.exp(-P/r),S=P=>y+w(P),_=P=>{const O=w(P),I=S(P);f.done=Math.abs(O)<=u,f.value=f.done?y:I};let j,C;const T=P=>{p(f.value)&&(j=P,C=Xh({keyframes:[f.value,x(f.value)],velocity:_A(S,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:P=>{let O=!1;return!C&&j===void 0&&(O=!0,_(P),T(P)),j!==void 0&&P>=j?C.next(P-j):(!O&&_(P),f)}}}function s5(e,t,n){const r=[],s=n||Ns.mix||bA,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||er:t;a=Au(c,a)}r.push(a)}return r}function i5(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(ol(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=s5(t,r,s),c=a.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Xc(e[h],e[h+1],d);return a[h](f)};return n?d=>u(rs(e[0],e[i-1],d)):u}function o5(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Xc(0,t,r);e.push(ot(n,1,s))}}function a5(e){const t=[0];return o5(t,e.length-1),t}function l5(e,t){return e.map(n=>n*t)}function c5(e,t){return e.map(()=>t||uA).splice(0,e.length-1)}function yc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=b3(r)?r.map(JS):JS(r),i={done:!1,value:t[0]},o=l5(n&&n.length===t.length?n:a5(t),e),a=i5(o,t,{ease:Array.isArray(s)?s:c5(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}const u5=e=>e!==null;function R0(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(u5),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const d5={decay:Rv,inertia:Rv,tween:yc,keyframes:yc,spring:Xh};function kA(e){typeof e.type=="string"&&(e.type=d5[e.type])}class O0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const h5=e=>e/100;class I0 extends O0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==dn.now()&&this.tick(dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;kA(t);const{type:n=yc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const c=n||yc;c!==yc&&typeof a[0]!="number"&&(this.mixKeyframes=Au(h5,bA(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=P0(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:p,type:x,onUpdate:m,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,_=r;if(h){const P=Math.min(this.currentTime,s)/a;let O=Math.floor(P),I=P%1;!I&&P>=1&&(I=1),I===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/a)):f==="mirror"&&(_=o)),S=rs(0,1,I)*a}const j=w?{done:!1,value:d[0]}:_.next(S);i&&(j.value=i(j.value));let{done:C}=j;!w&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&x!==Rv&&(j.value=R0(d,this.options,b,this.speed)),m&&m(j.value),T&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){var n;t=es(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(dn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=J3,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function f5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const co=e=>e*180/Math.PI,Ov=e=>{const t=co(Math.atan2(e[1],e[0]));return Iv(t)},p5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ov,rotateZ:Ov,skewX:e=>co(Math.atan(e[1])),skewY:e=>co(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Iv=e=>(e=e%360,e<0&&(e+=360),e),r_=Ov,s_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),i_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),m5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:s_,scaleY:i_,scale:e=>(s_(e)+i_(e))/2,rotateX:e=>Iv(co(Math.atan2(e[6],e[5]))),rotateY:e=>Iv(co(Math.atan2(-e[2],e[0]))),rotateZ:r_,rotate:r_,skewX:e=>co(Math.atan(e[4])),skewY:e=>co(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Mv(e){return e.includes("scale")?1:0}function Dv(e,t){if(!e||e==="none")return Mv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=m5,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=p5,s=a}if(!s)return Mv(t);const i=r[t],o=s[1].split(",").map(v5);return typeof i=="function"?i(o):o[i]}const g5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Dv(n,t)};function v5(e){return parseFloat(e.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(El),o_=e=>e===kl||e===se,y5=new Set(["x","y","z"]),w5=El.filter(e=>!y5.has(e));function x5(e){const t=[];return w5.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ui={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dv(t,"x"),y:(e,{transform:t})=>Dv(t,"y")};ui.translateX=ui.x;ui.translateY=ui.y;const So=new Set;let Lv=!1,$v=!1,Fv=!1;function EA(){if($v){const e=Array.from(So).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=x5(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$v=!1,Lv=!1,So.forEach(e=>e.complete(Fv)),So.clear()}function jA(){So.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($v=!0)})}function b5(){Fv=!0,jA(),EA(),Fv=!1}class M0{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(So.add(this),Lv||(Lv=!0,Qe.read(jA),Qe.resolveKeyframes(EA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}f5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),So.delete(this)}cancel(){this.state==="scheduled"&&(So.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S5=e=>e.startsWith("--");function _5(e,t,n){S5(t)?e.style.setProperty(t,n):e.style[t]=n}const k5=_0(()=>window.ScrollTimeline!==void 0),E5={};function j5(e,t){const n=_0(e);return()=>E5[t]??n()}const CA=j5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,a_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xl([0,.65,.55,1]),circOut:Xl([.55,0,1,.45]),backIn:Xl([.31,.01,.66,-.59]),backOut:Xl([.33,1.53,.69,.99])};function TA(e,t){if(e)return typeof e=="function"?CA()?SA(e,t):"ease-out":dA(e)?Xl(e):Array.isArray(e)?e.map(n=>TA(n,t)||a_.easeOut):a_[e]}function C5(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=TA(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function NA(e){return typeof e=="function"&&"applyToOptions"in e}function T5({type:e,...t}){return NA(e)&&CA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class N5 extends O0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,ol(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=T5(t);this.animation=C5(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=R0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):_5(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=es(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&k5()?(this.animation.timeline=t,er):n(this)}}const AA={anticipate:aA,backInOut:oA,circInOut:cA};function A5(e){return e in AA}function P5(e){typeof e.ease=="string"&&A5(e.ease)&&(e.ease=AA[e.ease])}const _m=10;class R5 extends N5{constructor(t){P5(t),kA(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new I0({...o,autoplay:!1}),c=Math.max(_m,dn.now()-this.startTime),u=rs(0,_m,c-_m);n.setWithVelocity(a.sample(Math.max(0,c-u)).value,a.sample(c).value,u),a.stop()}}const l_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ti.test(e)||e==="0")&&!e.startsWith("url("));function O5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function I5(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=l_(s,t),a=l_(i,t);return tp(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:O5(e)||(n==="spring"||NA(n))&&r}function Uv(e){e.duration=0,e.type="keyframes"}const M5=new Set(["opacity","clipPath","filter","transform"]),D5=_0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function L5(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return D5()&&n&&M5.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const $5=40;class F5 extends O0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:d,...h}){var x;super(),this.stop=()=>{var m,b;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=dn.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||M0;this.keyframeResolver=new p(a,(m,b,y)=>this.onKeyframesResolved(m,b,f,!y),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=dn.now(),I5(t,i,o,a)||((Ns.instantAnimations||!c)&&(d==null||d(R0(t,r,n))),t[0]=t[t.length-1],Uv(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!u&&L5(f)?new R5({...f,element:f.motionValue.owner.current}):new I0(f);p.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),b5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const U5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V5(e){const t=U5.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const B5=4;function PA(e,t,n=1){ol(n<=B5,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=V5(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return XN(o)?parseFloat(o):o}return C0(s)?PA(s,t,n+1):s}function D0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const RA=new Set(["width","height","top","left","right","bottom",...El]),z5={test:e=>e==="auto",parse:e=>e},OA=e=>t=>t.test(e),IA=[kl,se,ts,qs,O3,R3,z5],c_=e=>IA.find(OA(e));function q5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eA(e):!0}const W5=new Set(["brightness","contrast","saturate","opacity"]);function H5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(T0)||[];if(!r)return e;const s=n.replace(r,"");let i=W5.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const G5=/\b([a-z-]*)\(.*?\)/gu,Vv={...Ti,getAnimatableNone:e=>{const t=e.match(G5);return t?t.map(H5).join(" "):e}},u_={...kl,transform:Math.round},K5={rotate:qs,rotateX:qs,rotateY:qs,rotateZ:qs,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:qs,skewX:qs,skewY:qs,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Zc,originX:XS,originY:XS,originZ:se},L0={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,inset:se,insetBlock:se,insetBlockStart:se,insetBlockEnd:se,insetInline:se,insetInlineStart:se,insetInlineEnd:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,paddingBlock:se,paddingBlockStart:se,paddingBlockEnd:se,paddingInline:se,paddingInlineStart:se,paddingInlineEnd:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,marginBlock:se,marginBlockStart:se,marginBlockEnd:se,marginInline:se,marginInlineStart:se,marginInlineEnd:se,backgroundPositionX:se,backgroundPositionY:se,...K5,zIndex:u_,fillOpacity:Zc,strokeOpacity:Zc,numOctaves:u_},J5={...L0,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:Vv,WebkitFilter:Vv},MA=e=>J5[e];function DA(e,t){let n=MA(e);return n!==Vv&&(n=Ti),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Y5=new Set(["auto","none","0"]);function Q5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!Y5.has(i)&&eu(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=DA(n,s)}class X5 extends M0{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),C0(h))){const f=PA(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!RA.has(r)||t.length!==2)return;const[s,i]=t,o=c_(s),a=c_(i),c=QS(s),u=QS(i);if(c!==u&&ui[r]){this.needsMeasurement=!0;return}if(o!==a)if(o_(o)&&o_(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else ui[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||q5(t[s]))&&r.push(s);r.length&&Q5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ui[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ui[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Z5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const LA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function $A(e){return ZN(e)&&"offsetHeight"in e}const d_=30,e8=e=>!isNaN(parseFloat(e));class t8{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=dn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=e8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new k0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>d_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,d_);return tA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(e,t){return new t8(e,t)}const{schedule:$0,cancel:PQ}=hA(queueMicrotask,!1),mr={x:!1,y:!1};function FA(){return mr.x||mr.y}function n8(e){return e==="x"||e==="y"?mr[e]?null:(mr[e]=!0,()=>{mr[e]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}function UA(e,t){const n=Z5(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function h_(e){return!(e.pointerType==="touch"||FA())}function r8(e,t,n={}){const[r,s,i]=UA(e,n),o=a=>{if(!h_(a))return;const{target:c}=a,u=t(c,a);if(typeof u!="function"||!c)return;const d=h=>{h_(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const VA=(e,t)=>t?e===t?!0:VA(e,t.parentElement):!1,F0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,s8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BA(e){return s8.has(e.tagName)||e.isContentEditable===!0}const th=new WeakSet;function f_(e){return t=>{t.key==="Enter"&&e(t)}}function km(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const i8=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=f_(()=>{if(th.has(n))return;km(n,"down");const s=f_(()=>{km(n,"up")}),i=()=>km(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function p_(e){return F0(e)&&!FA()}function o8(e,t,n={}){const[r,s,i]=UA(e,n),o=a=>{const c=a.currentTarget;if(!p_(a))return;th.add(c);const u=t(c,a),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),th.has(c)&&th.delete(c),p_(p)&&typeof u=="function"&&u(p,{success:x})},h=p=>{d(p,c===window||c===document||n.useGlobalTarget||VA(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),$A(a)&&(a.addEventListener("focus",u=>i8(u,s)),!BA(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function zA(e){return ZN(e)&&"ownerSVGElement"in e}function a8(e){return zA(e)&&e.tagName==="svg"}const Yt=e=>!!(e&&e.getVelocity),l8=[...IA,bt,Ti],c8=e=>l8.find(OA(e)),U0=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function m_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u8(...e){return t=>{let n=!1;const r=e.map(s=>{const i=m_(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():m_(e[s],null)}}}}function d8(...e){return g.useCallback(u8(...e),e)}class h8 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=$A(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f8({children:e,isPresent:t,anchorX:n,root:r}){var d;const s=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=g.useContext(U0),c=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=d8(i,c);return g.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:x,right:m}=o.current;if(t||!i.current||!h||!f)return;const b=n==="left"?`left: ${x}`:`right: ${m}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),l.jsx(h8,{isPresent:t,childRef:i,sizeRef:o,children:g.cloneElement(e,{ref:u})})}const p8=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:c})=>{const u=w0(m8),d=g.useId();let h=!0,f=g.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:p=>{u.set(p,!0);for(const x of u.values())if(!x)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return i&&h&&(f={...f}),g.useMemo(()=>{u.forEach((p,x)=>u.set(x,!1))},[n]),g.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=l.jsx(f8,{isPresent:n,anchorX:a,root:c,children:e})),l.jsx(ep.Provider,{value:f,children:e})};function m8(){return new Map}function qA(e=!0){const t=g.useContext(ep);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=g.useId();g.useEffect(()=>{if(e)return s(i)},[e]);const o=g.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const fd=e=>e.key||"";function g_(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const Ni=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[u,d]=qA(o),h=g.useMemo(()=>g_(e),[e]),f=o&&!u?[]:h.map(fd),p=g.useRef(!0),x=g.useRef(h),m=w0(()=>new Map),b=g.useRef(new Set),[y,w]=g.useState(h),[S,_]=g.useState(h);QN(()=>{p.current=!1,x.current=h;for(let T=0;T<S.length;T++){const P=fd(S[T]);f.includes(P)?(m.delete(P),b.current.delete(P)):m.get(P)!==!0&&m.set(P,!1)}},[S,f.length,f.join("-")]);const j=[];if(h!==y){let T=[...h];for(let P=0;P<S.length;P++){const O=S[P],I=fd(O);f.includes(I)||(T.splice(P,0,O),j.push(O))}return i==="wait"&&j.length&&(T=j),_(g_(T)),w(h),null}const{forceRender:C}=g.useContext(y0);return l.jsx(l.Fragment,{children:S.map(T=>{const P=fd(T),O=o&&!u?!1:h===S||f.includes(P),I=()=>{if(b.current.has(P))return;if(b.current.add(P),m.has(P))m.set(P,!0);else return;let R=!0;m.forEach(D=>{D||(R=!1)}),R&&(C==null||C(),_(x.current),o&&(d==null||d()),r&&r())};return l.jsx(p8,{isPresent:O,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:O?void 0:I,anchorX:a,children:T},P)})})},WA=g.createContext({strict:!1}),v_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const e in v_)ll[e]={isEnabled:t=>v_[e].some(n=>!!t[n])};function g8(e){for(const t in e)ll[t]={...ll[t],...e[t]}}const v8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||v8.has(e)}let HA=e=>!Zh(e);function y8(e){typeof e=="function"&&(HA=t=>t.startsWith("on")?!Zh(t):e(t))}try{y8(require("@emotion/is-prop-valid").default)}catch{}function w8(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(HA(s)||n===!0&&Zh(s)||!t&&!Zh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const np=g.createContext({});function rp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tu(e){return typeof e=="string"||Array.isArray(e)}const V0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],B0=["initial",...V0];function sp(e){return rp(e.animate)||B0.some(t=>tu(e[t]))}function GA(e){return!!(sp(e)||e.variants)}function x8(e,t){if(sp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||tu(n)?n:void 0,animate:tu(r)?r:void 0}}return e.inherit!==!1?t:{}}function b8(e){const{initial:t,animate:n}=x8(e,g.useContext(np));return g.useMemo(()=>({initial:t,animate:n}),[y_(t),y_(n)])}function y_(e){return Array.isArray(e)?e.join(" "):e}function w_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(se.test(e))e=parseFloat(e);else return e;const n=w_(e,t.target.x),r=w_(e,t.target.y);return`${n}% ${r}%`}},S8={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ti.parse(e);if(s.length>5)return r;const i=Ti.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=ot(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Bv={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:S8};function KA(e,{layout:t,layoutId:n}){return jl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bv[e]||e==="opacity")}const _8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k8=El.length;function E8(e,t,n){let r="",s=!0;for(let i=0;i<k8;i++){const o=El[i],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=LA(a,L0[o]);if(!c){s=!1;const d=_8[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function z0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const c in t){const u=t[c];if(jl.has(c)){o=!0;continue}else if(pA(c)){s[c]=u;continue}else{const d=LA(u,L0[c]);c.startsWith("origin")?(a=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=E8(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const q0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JA(e,t,n){for(const r in t)!Yt(t[r])&&!KA(r,n)&&(e[r]=t[r])}function j8({transformTemplate:e},t){return g.useMemo(()=>{const n=q0();return z0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function C8(e,t){const n=e.style||{},r={};return JA(r,n,e),Object.assign(r,j8(e,t)),r}function T8(e,t){const n={},r=C8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const N8={offset:"stroke-dashoffset",array:"stroke-dasharray"},A8={offset:"strokeDashoffset",array:"strokeDasharray"};function P8(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?N8:A8;e[i.offset]=se.transform(-r);const o=se.transform(t),a=se.transform(n);e[i.array]=`${o} ${a}`}const R8=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function YA(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},c,u,d){if(z0(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const p of R8)h[p]!==void 0&&(f[p]=h[p],delete h[p]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&P8(h,s,i,o,!1)}const QA=()=>({...q0(),attrs:{}}),XA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function O8(e,t,n,r){const s=g.useMemo(()=>{const i=QA();return YA(i,t,XA(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};JA(i,e.style,e),s.style={...i,...s.style}}return s}const I8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function W0(e){return typeof e!="string"||e.includes("-")?!1:!!(I8.indexOf(e)>-1||/[A-Z]/u.test(e))}function M8(e,t,n,{latestValues:r},s,i=!1,o){const c=(o??W0(e)?O8:T8)(t,r,s,e),u=w8(t,typeof e=="string",i),d=e!==g.Fragment?{...u,...c,ref:n}:{},{children:h}=t,f=g.useMemo(()=>Yt(h)?h.get():h,[h]);return g.createElement(e,{...d,children:f})}function x_(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function H0(e,t,n,r){if(typeof t=="function"){const[s,i]=x_(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=x_(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function nh(e){return Yt(e)?e.get():e}function D8({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:L8(n,r,s,e),renderState:t()}}function L8(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=nh(i[f]);let{initial:o,animate:a}=e;const c=sp(e),u=GA(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!rp(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=H0(e,f[p]);if(x){const{transitionEnd:m,transition:b,...y}=x;for(const w in y){let S=y[w];if(Array.isArray(S)){const _=d?S.length-1:0;S=S[_]}S!==null&&(s[w]=S)}for(const w in m)s[w]=m[w]}}}return s}const ZA=e=>(t,n)=>{const r=g.useContext(np),s=g.useContext(ep),i=()=>D8(e,t,r,s);return n?i():w0(i)};function G0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Yt(r[o])||t.style&&Yt(t.style[o])||KA(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const $8=ZA({scrapeMotionValuesFromProps:G0,createRenderState:q0});function eP(e,t,n){const r=G0(e,t,n);for(const s in e)if(Yt(e[s])||Yt(t[s])){const i=El.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const F8=ZA({scrapeMotionValuesFromProps:eP,createRenderState:QA}),U8=Symbol.for("motionComponentSymbol");function V8(e,t,n){const r=g.useRef(n);g.useInsertionEffect(()=>{r.current=n});const s=g.useRef(null);return g.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const c=o(i);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const K0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B8="framerAppearId",tP="data-"+K0(B8),nP=g.createContext({});function Zl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function z8(e,t,n,r,s,i){var b,y;const{visualElement:o}=g.useContext(np),a=g.useContext(WA),c=g.useContext(ep),u=g.useContext(U0).reducedMotion,d=g.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const h=d.current,f=g.useContext(nP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&q8(d.current,n,s,f);const p=g.useRef(!1);g.useInsertionEffect(()=>{h&&p.current&&h.update(n,c)});const x=n[tP],m=g.useRef(!!x&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,x))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,x)));return QN(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),m.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,x)}),m.current=!1),h.enteringChildren=void 0)}),h}function q8(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:rP(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Zl(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function rP(e){if(e)return e.options.allowProjection!==!1?e.projection:rP(e.parent)}function Em(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&g8(r);const i=n?n==="svg":W0(e),o=i?F8:$8;function a(u,d){let h;const f={...g.useContext(U0),...u,layoutId:W8(u)},{isStatic:p}=f,x=b8(u),m=o(u,p);if(!p&&x0){H8();const b=G8(f);h=b.MeasureLayout,x.visualElement=z8(e,m,f,s,b.ProjectionNode,i)}return l.jsxs(np.Provider,{value:x,children:[h&&x.visualElement?l.jsx(h,{visualElement:x.visualElement,...f}):null,M8(e,u,V8(m,x.visualElement,d),m,p,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=g.forwardRef(a);return c[U8]=e,c}function W8({layoutId:e}){const t=g.useContext(y0).id;return t&&e!==void 0?t+"-"+e:e}function H8(e,t){g.useContext(WA).strict}function G8(e){const{drag:t,layout:n}=ll;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function K8(e,t){if(typeof Proxy>"u")return Em;const n=new Map,r=(i,o)=>Em(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Em(o,void 0,e,t)),n.get(o))})}function sP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function J8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Y8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jm(e){return e===void 0||e===1}function zv({scale:e,scaleX:t,scaleY:n}){return!jm(e)||!jm(t)||!jm(n)}function eo(e){return zv(e)||iP(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iP(e){return b_(e.x)||b_(e.y)}function b_(e){return e&&e!=="0%"}function ef(e,t,n){const r=e-n,s=t*r;return n+s}function S_(e,t,n,r,s){return s!==void 0&&(e=ef(e,s,r)),ef(e,n,r)+t}function qv(e,t=0,n=1,r,s){e.min=S_(e.min,t,n,r,s),e.max=S_(e.max,t,n,r,s)}function oP(e,{x:t,y:n}){qv(e.x,t.translate,t.scale,t.originPoint),qv(e.y,n.translate,n.scale,n.originPoint)}const __=.999999999999,k_=1.0000000000001;function Q8(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ba(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,oP(e,o)),r&&eo(i.latestValues)&&ba(e,i.latestValues))}t.x<k_&&t.x>__&&(t.x=1),t.y<k_&&t.y>__&&(t.y=1)}function xa(e,t){e.min=e.min+t,e.max=e.max+t}function E_(e,t,n,r,s=.5){const i=ot(e.min,e.max,s);qv(e,t,n,i,r)}function ba(e,t){E_(e.x,t.x,t.scaleX,t.scale,t.originX),E_(e.y,t.y,t.scaleY,t.scale,t.originY)}function aP(e,t){return sP(Y8(e.getBoundingClientRect(),t))}function X8(e,t,n){const r=aP(e,n),{scroll:s}=t;return s&&(xa(r.x,s.offset.x),xa(r.y,s.offset.y)),r}const j_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sa=()=>({x:j_(),y:j_()}),C_=()=>({min:0,max:0}),Et=()=>({x:C_(),y:C_()}),Wv={current:null},lP={current:!1};function Z8(){if(lP.current=!0,!!x0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wv.current=e.matches;e.addEventListener("change",t),t()}else Wv.current=!1}const ez=new WeakMap;function tz(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Yt(s))e.addValue(r,s);else if(Yt(i))e.addValue(r,al(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,al(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const T_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=dn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Qe.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=sp(n),this.isVariantNode=GA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Yt(p)&&p.set(c[f])}}mount(t){var n;this.current=t,ez.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(lP.current||Z8(),this.shouldReduceMotion=Wv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=jl.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ll){const n=ll[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<T_.length;r++){const s=T_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=tz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=al(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(XN(r)||eA(r))?r=parseFloat(r):!c8(r)&&Ti.test(n)&&(r=DA(t,n)),this.setBaseTarget(t,Yt(r)?r.get():r)),Yt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=H0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Yt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new k0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){$0.render(this.render)}}class cP extends nz{constructor(){super(...arguments),this.KeyframeResolver=X5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uP(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function rz(e){return window.getComputedStyle(e)}class sz extends cP{constructor(){super(...arguments),this.type="html",this.renderInstance=uP}readValueFromInstance(t,n){var r;if(jl.has(n))return(r=this.projection)!=null&&r.isProjecting?Mv(n):g5(t,n);{const s=rz(t),i=(pA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return aP(t,n)}build(t,n,r){z0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return G0(t,n,r)}}const dP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iz(e,t,n,r){uP(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(dP.has(s)?s:K0(s),t.attrs[s])}class oz extends cP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jl.has(n)){const r=MA(n);return r&&r.default||0}return n=dP.has(n)?n:K0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return eP(t,n,r)}build(t,n,r){YA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){iz(t,n,r,s)}mount(t){this.isSVGTag=XA(t.tagName),super.mount(t)}}const az=(e,t)=>t.isSVG??W0(e)?new oz(t):new sz(t,{allowProjection:e!==g.Fragment});function Oa(e,t,n){const r=e.getProps();return H0(r,t,n!==void 0?n:r.custom,e)}const Hv=e=>Array.isArray(e);function lz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,al(n))}function cz(e){return Hv(e)?e[e.length-1]||0:e}function uz(e,t){const n=Oa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=cz(i[o]);lz(e,o,a)}}function dz(e){return!!(Yt(e)&&e.add)}function Gv(e,t){const n=e.getValue("willChange");if(dz(n))return n.add(t);if(!n&&Ns.WillChange){const r=new Ns.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function hP(e){return e.props[tP]}const hz=e=>e!==null;function fz(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(hz),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const pz={type:"spring",stiffness:500,damping:25,restSpeed:10},mz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gz={type:"keyframes",duration:.8},vz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yz=(e,{keyframes:t})=>t.length>2?gz:jl.has(e)?e.startsWith("scale")?mz(t[1]):pz:vz;function wz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const J0=(e,t,n,r={},s,i)=>o=>{const a=D0(r,e)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-es(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};wz(a)||Object.assign(d,yz(e,d)),d.duration&&(d.duration=es(d.duration)),d.repeatDelay&&(d.repeatDelay=es(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Uv(d),d.delay===0&&(h=!0)),(Ns.instantAnimations||Ns.skipAnimations)&&(h=!0,Uv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=fz(d.keyframes,a);if(f!==void 0){Qe.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new I0(d):new F5(d)};function xz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function fP(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||u&&xz(u,d))continue;const p={delay:n,...D0(i||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=hP(e);if(y){const w=window.MotionHandoffAnimation(y,d,Qe);w!==null&&(p.startTime=w,m=!0)}}Gv(e,d),h.start(J0(d,h,f,e.shouldReduceMotion&&RA.has(d)?{type:!1}:p,e,m));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Qe.update(()=>{o&&uz(e,o)})}),c}function pP(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Kv(e,t,n={}){var c;const r=Oa(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(fP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return bz(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,d]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function bz(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(Kv(c,t,{...o,delay:n+(typeof r=="function"?0:r)+pP(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function Sz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Kv(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Kv(e,t,n);else{const s=typeof t=="function"?Oa(e,t,n.custom):t;r=Promise.all(fP(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function mP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const _z=B0.length;function gP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?gP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_z;n++){const r=B0[n],s=e.props[r];(tu(s)||s===!1)&&(t[r]=s)}return t}const kz=[...V0].reverse(),Ez=V0.length;function jz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Sz(e,n,r)))}function Cz(e){let t=jz(e),n=N_(),r=!0;const s=c=>(u,d)=>{var f;const h=Oa(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:x,...m}=h;u={...u,...m,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=gP(e.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let b=0;b<Ez;b++){const y=kz[b],w=n[y],S=u[y]!==void 0?u[y]:d[y],_=tu(S),j=y===c?w.isActive:null;j===!1&&(x=b);let C=S===d[y]&&S!==u[y]&&_;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...p},!w.isActive&&j===null||!S&&!w.prevProp||rp(S)||typeof S=="boolean")continue;const T=Tz(w.prevProp,S);let P=T||y===c&&w.isActive&&!C&&_||b>x&&_,O=!1;const I=Array.isArray(S)?S:[S];let R=I.reduce(s(y),{});j===!1&&(R={});const{prevResolvedValues:D={}}=w,H={...D,...R},V=Y=>{P=!0,f.has(Y)&&(O=!0,f.delete(Y)),w.needsAnimating[Y]=!0;const L=e.getValue(Y);L&&(L.liveStyle=!1)};for(const Y in H){const L=R[Y],$=D[Y];if(p.hasOwnProperty(Y))continue;let B=!1;Hv(L)&&Hv($)?B=!mP(L,$):B=L!==$,B?L!=null?V(Y):f.add(Y):L!==void 0&&f.has(Y)?V(Y):w.protectedKeys[Y]=!0}w.prevProp=S,w.prevResolvedValues=R,w.isActive&&(p={...p,...R}),r&&e.blockInitialAnimation&&(P=!1);const Q=C&&T;P&&(!Q||O)&&h.push(...I.map(Y=>{const L={type:y};if(typeof Y=="string"&&r&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,B=Oa($,Y);if($.enteringChildren&&B){const{delayChildren:te}=B.transition||{};L.delay=pP($.enteringChildren,e,te)}}return{animation:Y,options:L}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const y=Oa(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(b.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),b[y]=w??null}),h.push({animation:b})}let m=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(h):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=N_()}}}function Tz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mP(t,e):!1}function Wi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N_(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class Vi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Nz extends Vi{constructor(t){super(t),t.animationState||(t.animationState=Cz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Az=0;class Pz extends Vi{constructor(){super(...arguments),this.id=Az++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Rz={animation:{Feature:Nz},exit:{Feature:Pz}};function nu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ou(e){return{point:{x:e.pageX,y:e.pageY}}}const Oz=e=>t=>F0(t)&&e(t,Ou(t));function wc(e,t,n,r){return nu(e,t,Oz(n),r)}const vP=1e-4,Iz=1-vP,Mz=1+vP,yP=.01,Dz=0-yP,Lz=0+yP;function hn(e){return e.max-e.min}function $z(e,t,n){return Math.abs(e-t)<=n}function A_(e,t,n,r=.5){e.origin=r,e.originPoint=ot(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=ot(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Iz&&e.scale<=Mz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dz&&e.translate<=Lz||isNaN(e.translate))&&(e.translate=0)}function xc(e,t,n,r){A_(e.x,t.x,n.x,r?r.originX:void 0),A_(e.y,t.y,n.y,r?r.originY:void 0)}function P_(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function Fz(e,t,n){P_(e.x,t.x,n.x),P_(e.y,t.y,n.y)}function R_(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function tf(e,t,n){R_(e.x,t.x,n.x),R_(e.y,t.y,n.y)}function zn(e){return[e("x"),e("y")]}const wP=({current:e})=>e?e.ownerDocument.defaultView:null,O_=(e,t)=>Math.abs(e-t);function Uz(e,t){const n=O_(e.x,t.x),r=O_(e.y,t.y);return Math.sqrt(n**2+r**2)}const I_=new Set(["auto","scroll"]);class xP{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Tm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,m=Uz(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!m)return;const{point:b}=p,{timestamp:y}=Ft;this.history.push({...b,timestamp:y});const{onStart:w,onMove:S}=this.handlers;x||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Cm(x,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Tm(p.type==="pointercancel"?this.lastMoveEventInfo:Cm(x,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,w),b&&b(p,w)},!F0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const c=Ou(t),u=Cm(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=Ft;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,Tm(u,this.history)),this.removeListeners=Au(wc(this.contextWindow,"pointermove",this.handlePointerMove),wc(this.contextWindow,"pointerup",this.handlePointerUp),wc(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(I_.has(r.overflowX)||I_.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Qe.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ci(this.updatePoint)}}function Cm(e,t){return t?{point:t(e.point)}:e}function M_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tm({point:e},t){return{point:e,delta:M_(e,bP(t)),offset:M_(e,Vz(t)),velocity:Bz(t,.1)}}function Vz(e){return e[0]}function bP(e){return e[e.length-1]}function Bz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=bP(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>es(t)));)n--;if(!r)return{x:0,y:0};const i=Qn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ot(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ot(n,e,r.max):Math.min(e,n)),e}function D_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function qz(e,{top:t,left:n,bottom:r,right:s}){return{x:D_(e.x,n,s),y:D_(e.y,t,r)}}function L_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Wz(e,t){return{x:L_(e.x,t.x),y:L_(e.y,t.y)}}function Hz(e,t){let n=.5;const r=hn(e),s=hn(t);return s>r?n=Xc(t.min,t.max-r,e.min):r>s&&(n=Xc(e.min,e.max-s,t.min)),rs(0,1,n)}function Gz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jv=.35;function Kz(e=Jv){return e===!1?e=0:e===!0&&(e=Jv),{x:$_(e,"left","right"),y:$_(e,"top","bottom")}}function $_(e,t,n){return{min:F_(e,t),max:F_(e,n)}}function F_(e,t){return typeof e=="number"?e:e[t]||0}const Jz=new WeakMap;class Yz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(Ou(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:p,dragPropagation:x,onDragStart:m}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=n8(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(ts.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const _=S.layout.layoutBox[y];_&&(w=hn(_)*(parseFloat(w)/100))}}this.originPoint[y]=w}),m&&Qe.postRender(()=>m(h,f)),Gv(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:m,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=f;if(x&&this.currentDirection===null){this.currentDirection=Qz(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),b&&b(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>zn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new xP(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:wP(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!pd(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=zz(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Zl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=qz(r.layoutBox,t):this.constraints=!1,this.elastic=Kz(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Gz(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zl(t))return!1;const r=t.current;ol(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=X8(r,s.root,this.visualElement.getTransformPagePoint());let o=Wz(s.layout.layoutBox,i);if(n){const a=n(J8(o));this.hasMutatedConstraints=!!a,a&&(o=sP(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=zn(d=>{if(!pd(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Gv(this.visualElement,t),r.start(J0(t,r,0,n,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){zn(n=>{const{drag:r}=this.getProps();if(!pd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],c=i.get()||0;i.set(t[n]-ot(o,a,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=Hz({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zn(o=>{if(!pd(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(ot(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Jz.set(this.visualElement,this);const t=this.visualElement.current,n=wc(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!BA(c.target)&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qe.read(r);const o=nu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(zn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Jv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function pd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Qz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Xz extends Vi{constructor(t){super(t),this.removeGroupControls=er,this.removeListeners=er,this.controls=new Yz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const U_=e=>(t,n)=>{e&&Qe.postRender(()=>e(t,n))};class Zz extends Vi{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(t){this.session=new xP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:U_(t),onStart:U_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Qe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=wc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Nm=!1;class e6 extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Nm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Nm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Nm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SP(e){const[t,n]=qA(),r=g.useContext(y0);return l.jsx(e6,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(nP),isPresent:t,safeToRemove:n})}function t6(e,t,n){const r=Yt(e)?e:al(e);return r.start(J0("",r,t,n)),r.animation}const n6=(e,t)=>e.depth-t.depth;class r6{constructor(){this.children=[],this.isDirty=!1}add(t){b0(this.children,t),this.isDirty=!0}remove(t){S0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(n6),this.isDirty=!1,this.children.forEach(t)}}function s6(e,t){const n=dn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Ci(r),e(i-t))};return Qe.setup(r,!0),()=>Ci(r)}const _P=["TopLeft","TopRight","BottomLeft","BottomRight"],i6=_P.length,V_=e=>typeof e=="string"?parseFloat(e):e,B_=e=>typeof e=="number"||se.test(e);function o6(e,t,n,r,s,i){s?(e.opacity=ot(0,n.opacity??1,a6(r)),e.opacityExit=ot(t.opacity??1,0,l6(r))):i&&(e.opacity=ot(t.opacity??1,n.opacity??1,r));for(let o=0;o<i6;o++){const a=`border${_P[o]}Radius`;let c=z_(t,a),u=z_(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||B_(c)===B_(u)?(e[a]=Math.max(ot(V_(c),V_(u),r),0),(ts.test(u)||ts.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ot(t.rotate||0,n.rotate||0,r))}function z_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const a6=kP(0,.5,lA),l6=kP(.5,.95,er);function kP(e,t,n){return r=>r<e?0:r>t?1:n(Xc(e,t,r))}function q_(e,t){e.min=t.min,e.max=t.max}function hr(e,t){q_(e.x,t.x),q_(e.y,t.y)}function W_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function H_(e,t,n,r,s){return e-=t,e=ef(e,1/n,r),s!==void 0&&(e=ef(e,1/s,r)),e}function c6(e,t=0,n=1,r=.5,s,i=e,o=e){if(ts.test(t)&&(t=parseFloat(t),t=ot(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ot(i.min,i.max,r);e===i&&(a-=t),e.min=H_(e.min,t,n,a,s),e.max=H_(e.max,t,n,a,s)}function G_(e,t,[n,r,s],i,o){c6(e,t[n],t[r],t[s],t.scale,i,o)}const u6=["x","scaleX","originX"],d6=["y","scaleY","originY"];function K_(e,t,n,r){G_(e.x,t,u6,n?n.x:void 0,r?r.x:void 0),G_(e.y,t,d6,n?n.y:void 0,r?r.y:void 0)}function J_(e){return e.translate===0&&e.scale===1}function EP(e){return J_(e.x)&&J_(e.y)}function Y_(e,t){return e.min===t.min&&e.max===t.max}function h6(e,t){return Y_(e.x,t.x)&&Y_(e.y,t.y)}function Q_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jP(e,t){return Q_(e.x,t.x)&&Q_(e.y,t.y)}function X_(e){return hn(e.x)/hn(e.y)}function Z_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class f6{constructor(){this.members=[]}add(t){b0(this.members,t),t.scheduleRender()}remove(t){if(S0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p6(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const Am=["","X","Y","Z"],m6=1e3;let g6=0;function Pm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function CP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&CP(r)}function TP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=g6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w6),this.nodes.forEach(_6),this.nodes.forEach(k6),this.nodes.forEach(x6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new r6)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new k0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zA(o)&&!a8(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{h=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=s6(f,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(n1)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||N6,{onLayoutAnimationStart:m,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!jP(this.targetLayout,p),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...D0(x,"layout"),onPlay:m,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,w)}else h||n1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(S6),this.nodes.forEach(v6),this.nodes.forEach(y6)):this.nodes.forEach(t1),this.clearAllSnapshots();const a=dn.now();Ft.delta=rs(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,ym.update.process(Ft),ym.preRender.process(Ft),ym.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(b6),this.sharedNodes.forEach(j6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!EP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||eo(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),A6(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Et();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(P6))){const{scroll:d}=this.root;d&&(xa(a.x,d.offset.x),xa(a.y,d.offset.y))}return a}removeElementScroll(o){var c;const a=Et();if(hr(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&hr(a,o),xa(a.x,h.offset.x),xa(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const c=Et();hr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ba(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),eo(d.latestValues)&&ba(c,d.latestValues)}return eo(this.latestValues)&&ba(c,this.latestValues),c}removeTransform(o){const a=Et();hr(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!eo(u.latestValues))continue;zv(u.latestValues)&&u.updateSnapshot();const d=Et(),h=u.measurePageBox();hr(d,h),K_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return eo(this.latestValues)&&K_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Ft.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),oP(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||zv(this.parent.latestValues)||iP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),tf(this.relativeTargetOrigin,a,c),hr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;hr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Q8(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Et());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(W_(this.prevProjectionDelta.x,this.projectionDelta.x),W_(this.prevProjectionDelta.y,this.projectionDelta.y)),xc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Z_(this.projectionDelta.x,this.prevProjectionDelta.x)||!Z_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sa(),this.projectionDelta=Sa(),this.projectionDeltaWithTransform=Sa()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Et(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,m=p!==x,b=this.getStack(),y=!b||b.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(T6));this.animationProgress=0;let S;this.mixTargetDelta=_=>{const j=_/1e3;r1(h.x,o.x,j),r1(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C6(this.relativeTarget,this.relativeTargetOrigin,f,j),S&&h6(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Et()),hr(S,this.relativeTarget)),m&&(this.animationValues=d,o6(d,u,this.latestValues,j,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=al(0)),this.currentAnimation=t6(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&NP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Et();const h=hn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=hn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}hr(a,c),ba(a,d),xc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new f6),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Pm("z",o,u,this.animationValues);for(let d=0;d<Am.length;d++)Pm(`rotate${Am[d]}`,o,u,this.animationValues),Pm(`skew${Am[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nh(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=p6(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Bv){if(d[x]===void 0)continue;const{correct:m,applyTo:b,isCSSVariable:y}=Bv[x],w=h==="none"?d[x]:m(d[x],u);if(b){const S=b.length;for(let _=0;_<S;_++)o[b[_]]=w}else y?this.options.visualElement.renderState.vars[x]=w:o[x]=w}this.options.layoutId&&(o.pointerEvents=u===this?nh(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(e1),this.root.sharedNodes.clear()}}}function v6(e){e.updateLayout()}function y6(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?zn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=hn(f);f.min=r[h].min,f.max=f.min+p}):NP(i,t.layoutBox,r)&&zn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],p=hn(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Sa();xc(a,r,t.layoutBox);const c=Sa();o?xc(c,e.applyTransform(s,!0),t.measuredBox):xc(c,r,t.layoutBox);const u=!EP(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=Et();tf(x,t.layoutBox,f.layoutBox);const m=Et();tf(m,r,p.layoutBox),jP(x,m)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function w6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function x6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function b6(e){e.clearSnapshot()}function e1(e){e.clearMeasurements()}function t1(e){e.isLayoutDirty=!1}function S6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function n1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _6(e){e.resolveTargetDelta()}function k6(e){e.calcProjection()}function E6(e){e.resetSkewAndRotation()}function j6(e){e.removeLeadSnapshot()}function r1(e,t,n){e.translate=ot(t.translate,0,n),e.scale=ot(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function s1(e,t,n,r){e.min=ot(t.min,n.min,r),e.max=ot(t.max,n.max,r)}function C6(e,t,n,r){s1(e.x,t.x,n.x,r),s1(e.y,t.y,n.y,r)}function T6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const N6={duration:.45,ease:[.4,0,.1,1]},i1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),o1=i1("applewebkit/")&&!i1("chrome/")?Math.round:er;function a1(e){e.min=o1(e.min),e.max=o1(e.max)}function A6(e){a1(e.x),a1(e.y)}function NP(e,t,n){return e==="position"||e==="preserve-aspect"&&!$z(X_(t),X_(n),.2)}function P6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const R6=TP({attachResizeListener:(e,t)=>nu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rm={current:void 0},AP=TP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rm.current){const e=new R6({});e.mount(window),e.setOptions({layoutScroll:!0}),Rm.current=e}return Rm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),O6={pan:{Feature:Zz},drag:{Feature:Xz,ProjectionNode:AP,MeasureLayout:SP}};function l1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Qe.postRender(()=>i(t,Ou(t)))}class I6 extends Vi{mount(){const{current:t}=this.node;t&&(this.unmount=r8(t,(n,r)=>(l1(this.node,r,"Start"),s=>l1(this.node,s,"End"))))}unmount(){}}class M6 extends Vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Au(nu(this.node.current,"focus",()=>this.onFocus()),nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Qe.postRender(()=>i(t,Ou(t)))}class D6 extends Vi{mount(){const{current:t}=this.node;t&&(this.unmount=o8(t,(n,r)=>(c1(this.node,r,"Start"),(s,{success:i})=>c1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yv=new WeakMap,Om=new WeakMap,L6=e=>{const t=Yv.get(e.target);t&&t(e)},$6=e=>{e.forEach(L6)};function F6({root:e,...t}){const n=e||document;Om.has(n)||Om.set(n,{});const r=Om.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver($6,{root:e,...t})),r[s]}function U6(e,t,n){const r=F6(t);return Yv.set(e,n),r.observe(e),()=>{Yv.delete(e),r.unobserve(e)}}const V6={some:0,all:1};class B6 extends Vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:V6[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return U6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(z6(t,n))&&this.startObserver()}unmount(){}}function z6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const q6={inView:{Feature:B6},tap:{Feature:D6},focus:{Feature:M6},hover:{Feature:I6}},W6={layout:{ProjectionNode:AP,MeasureLayout:SP}},H6={...Rz,...q6,...O6,...W6},fe=K8(H6,az);function Cl(){const{theme:e,setTheme:t}=XT();return l.jsxs(re,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[l.jsx(fe.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:l.jsx(IF,{className:"h-5 w-5"})}),l.jsx(fe.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:l.jsx(TF,{className:"h-5 w-5"})}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const Tl="/discovery/assets/logo-j4HpWWLy.svg",u1=[{icon:wi,title:"Interview",description:"Sophie has a 20-minute chat with each team member about how they actually work - the messy reality, not the process diagram."},{icon:Gw,title:"Analyse",description:"She spots patterns across all the conversations. The things everyone's frustrated by. The manual steps that don't need to be manual."},{icon:Kw,title:"Insights",description:"You get a prioritised list of opportunities - what to tackle first, what it'll take and how confident we are it'll work."}],G6=[{icon:zc,title:"Done in Days, Not Months",description:"Traditional discovery means consultants interviewing people for weeks. Sophie does it in a fraction of the time."},{icon:Cu,title:"Talk to Everyone Who Matters",description:"AI scales. Interview 5 people or 50 - the cost barely changes. So you get the full picture, not just the loudest voices."},{icon:FT,title:"Recommendations, Not Just Insights",description:"You don't need another report that sits in a drawer. You need a list of what to do, in what order and why."}];function K6(){const[e,t]=g.useState(!1),[n,r]=g.useState(1),[s,i]=g.useState(!1),[o,a]=g.useState({name:"",email:"",company:"",challenge:""}),c=f=>{a({...o,[f.target.name]:f.target.value})},u=async f=>{f.preventDefault(),i(!0);try{(await fetch("https://formspree.io/f/mzzakvbk",{method:"POST",body:JSON.stringify({...o,_subject:`Discovery Inquiry from ${o.name}`,source:"Discovery Landing Page"}),headers:{"Content-Type":"application/json",Accept:"application/json"}})).ok?(r(2),d()):alert("There was an error submitting your information. Please try again.")}catch{alert("There was an error submitting your information. Please try again.")}finally{i(!1)}},d=()=>{if(!document.querySelector('script[src*="calendly"]')){const p=document.createElement("script");p.src="https://assets.calendly.com/assets/external/widget.js",p.async=!0,document.body.appendChild(p)}const f=()=>{window.Calendly?window.Calendly.initInlineWidget({url:"https://calendly.com/hamish-goagentflow/30-minute-intro-call?utm_source=discovery_landing&utm_medium=web&utm_campaign=discovery_lead",parentElement:document.getElementById("calendly-container"),prefill:{name:o.name,email:o.email,customAnswers:{a1:`Discovery Inquiry | Company: ${o.company||"Not provided"}`,a2:o.challenge?`Challenge: ${o.challenge.substring(0,250)}`:"Via Discovery Landing Page"}}}):setTimeout(f,100)};f()},h=()=>{t(!1),r(1),a({name:"",email:"",company:"",challenge:""})};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("link",{href:"https://assets.calendly.com/assets/external/widget.css",rel:"stylesheet"}),l.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx("a",{href:"#hero",className:"flex items-center gap-2",children:l.jsx("img",{src:Tl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsxs("nav",{className:"hidden items-center gap-6 md:flex",children:[l.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"How It Works"}),l.jsx("a",{href:"#benefits",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"Benefits"}),l.jsx("a",{href:"#who-its-for",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"Is This For You?"}),l.jsx("a",{href:"#contact",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"Contact"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Cl,{}),l.jsx(re,{asChild:!0,variant:"ghost",className:"hidden sm:inline-flex",children:l.jsx(Je,{to:"/admin/login",children:"Admin"})})]})]})}),l.jsxs("section",{id:"hero",className:"relative flex min-h-[calc(100vh-4rem)] flex-col items-center justify-center pt-16",children:[l.jsx("div",{className:"container text-center",children:l.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mx-auto max-w-3xl",children:[l.jsx("div",{className:"mb-6 inline-flex items-center rounded-full border px-4 py-1.5 text-sm",style:{borderColor:"#7952b3",color:"#7952b3"},children:"AI-Powered Process Discovery"}),l.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["Your Team Knows Where the Problems Are."," ",l.jsx("span",{style:{color:"#3d5fa8"},children:"They Just Need Someone to Listen."})]}),l.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Sophie is our AI interviewer. She talks to your people, maps out how work actually flows and finds the automation opportunities hiding in plain sight. No consultants. No six-month projects."}),l.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:l.jsxs(re,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},onClick:()=>t(!0),children:["Book a Free Discovery Call",l.jsx(ao,{className:"h-4 w-4"})]})})]})}),l.jsx(fe.a,{href:"#how-it-works",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l.jsx(fe.div,{animate:{y:[0,8,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:l.jsx(Eu,{className:"h-6 w-6"})})})]}),l.jsx("section",{id:"how-it-works",className:"bg-muted/30 py-16",children:l.jsxs("div",{className:"container",children:[l.jsxs(fe.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-12 text-center",children:[l.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How Discovery Works"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to uncover your automation opportunities"})]}),l.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:u1.map((f,p)=>l.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:p*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[l.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(f.icon,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[l.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold text-white",style:{backgroundColor:"#7952b3"},children:p+1}),l.jsx("h3",{className:"text-xl font-semibold text-foreground",children:f.title})]}),l.jsx("p",{className:"text-muted-foreground",children:f.description}),p<u1.length-1&&l.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:l.jsx(ao,{className:"h-6 w-6 text-muted-foreground/50"})})]},f.title))})]})}),l.jsx("section",{id:"benefits",className:"py-16",children:l.jsxs("div",{className:"container",children:[l.jsxs(fe.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-12 text-center",children:[l.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"Why Use AI Discovery?"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"Traditional discovery is slow and expensive. We've fixed that."})]}),l.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:G6.map((f,p)=>l.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:p*.1},className:"rounded-xl border bg-card p-8 shadow-sm",children:[l.jsx("div",{className:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-lg",style:{backgroundColor:"#7952b3"},children:l.jsx(f.icon,{className:"h-6 w-6 text-white"})}),l.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:f.title}),l.jsx("p",{className:"text-muted-foreground",children:f.description})]},f.title))})]})}),l.jsx("section",{id:"who-its-for",className:"bg-muted/30 py-16",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"mx-auto max-w-3xl text-center",children:l.jsxs(fe.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},children:[l.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"Is This For You?"}),l.jsx("p",{className:"mb-8 text-lg text-muted-foreground",children:"Discovery is perfect if you're experiencing any of these:"}),l.jsx("div",{className:"space-y-4 text-left",children:["Your team spends hours on repetitive tasks that feel like they should be automated","You know there are inefficiencies but struggle to prioritise where to start","Previous automation attempts failed because they solved the wrong problems","You want to understand your workflows better before investing in new tools"].map((f,p)=>l.jsxs(fe.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:p*.1},className:"flex items-start gap-3 rounded-lg border bg-card p-4",children:[l.jsx(Bc,{className:"mt-0.5 h-5 w-5 flex-shrink-0",style:{color:"#7952b3"}}),l.jsx("span",{className:"text-foreground",children:f})]},p))})]})})})}),l.jsx("section",{id:"contact",className:"py-16",children:l.jsx("div",{className:"container",children:l.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mx-auto max-w-2xl rounded-2xl border-0 bg-card p-8 text-center shadow-lg sm:p-12",style:{borderLeft:"4px solid",borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Kw,{className:"h-8 w-8 text-white"})}),l.jsx("h2",{className:"mb-4 text-2xl font-bold text-foreground sm:text-3xl",children:"Fancy a Chat?"}),l.jsx("p",{className:"mb-8 text-muted-foreground",children:"Book 30 minutes with us. We'll talk through your situation and whether Sophie can help. No pitch, no pressure - and if we don't think it's right for you, we'll say so."}),l.jsxs(re,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},onClick:()=>t(!0),children:["Book Your Free Discovery Call",l.jsx(ao,{className:"h-4 w-4"})]})]})})}),l.jsx("footer",{className:"border-t py-8",children:l.jsxs("div",{className:"container",children:[l.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[l.jsx(Je,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Je,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Je,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})}),l.jsx(Ni,{children:e&&l.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:f=>f.target===f.currentTarget&&h(),children:l.jsxs(fe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative max-h-[90vh] w-full max-w-lg overflow-auto rounded-2xl bg-background p-6 shadow-xl sm:p-8",children:[l.jsx("button",{onClick:h,className:"absolute right-4 top-4 rounded-full p-1 text-muted-foreground hover:bg-muted hover:text-foreground",children:l.jsx(Tu,{className:"h-5 w-5"})}),l.jsxs(Ni,{mode:"wait",children:[n===1&&l.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[l.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold text-white",style:{backgroundColor:"#3d5fa8"},children:"1"}),l.jsx("div",{className:"h-1 w-12 rounded-full bg-muted"}),l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-sm font-semibold text-muted-foreground",children:"2"})]}),l.jsx("h3",{className:"mb-2 text-center text-xl font-bold text-foreground",children:"Tell Us About Your Challenge"}),l.jsx("p",{className:"mb-6 text-center text-sm text-muted-foreground",children:"We'll review this before our call so we can give you specific, relevant advice."}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(gt,{htmlFor:"name",children:"Name *"}),l.jsx(Vt,{id:"name",name:"name",value:o.name,onChange:c,required:!0,placeholder:"Your name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(gt,{htmlFor:"email",children:"Email *"}),l.jsx(Vt,{id:"email",name:"email",type:"email",value:o.email,onChange:c,required:!0,placeholder:"you@company.com"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(gt,{htmlFor:"company",children:"Company"}),l.jsx(Vt,{id:"company",name:"company",value:o.company,onChange:c,placeholder:"Your company name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(gt,{htmlFor:"challenge",children:"What's the biggest workflow challenge you're facing? *"}),l.jsx(Zf,{id:"challenge",name:"challenge",value:o.challenge,onChange:c,required:!0,placeholder:"e.g., Our team spends hours manually processing invoices, copying data between systems...",rows:4})]}),l.jsx(re,{type:"submit",className:"w-full gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(vt,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:["Next: Book Your Call",l.jsx(ao,{className:"h-4 w-4"})]})})]})]},"step1"),n===2&&l.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[l.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-white",style:{backgroundColor:"#7952b3"},children:l.jsx(Bc,{className:"h-5 w-5"})}),l.jsx("div",{className:"h-1 w-12 rounded-full",style:{backgroundColor:"#7952b3"}}),l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold text-white",style:{backgroundColor:"#3d5fa8"},children:"2"})]}),l.jsx("h3",{className:"mb-2 text-center text-xl font-bold text-foreground",children:"Pick a Time That Works"}),l.jsx("p",{className:"mb-6 text-center text-sm text-muted-foreground",children:"Choose a 30-minute slot for your free discovery call."}),l.jsx("div",{id:"calendly-container",className:"min-h-[500px]"}),l.jsx("button",{onClick:()=>r(1),className:"mt-4 w-full text-center text-sm text-muted-foreground hover:text-foreground",children:" Back to edit details"})]},"step2")]})]})})})]})}const Te=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Te.displayName="Card";const Xt=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));Xt.displayName="CardHeader";const Zt=g.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Zt.displayName="CardTitle";const Nr=g.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Nr.displayName="CardDescription";const Ae=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));Ae.displayName="CardContent";const J6=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));J6.displayName="CardFooter";var Y6=g.createContext(void 0);function Iu(e){const t=g.useContext(Y6);return e||t||"ltr"}function Qv(e,[t,n]){return Math.min(n,Math.max(t,e))}function Q6(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Y0="ScrollArea",[PP,OQ]=Fn(Y0),[X6,ir]=PP(Y0),RP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(null),[p,x]=g.useState(null),[m,b]=g.useState(null),[y,w]=g.useState(0),[S,_]=g.useState(0),[j,C]=g.useState(!1),[T,P]=g.useState(!1),O=ke(t,R=>c(R)),I=Iu(s);return l.jsx(X6,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:_,children:l.jsx(pe.div,{dir:I,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});RP.displayName=Y0;var OP="ScrollAreaViewport",IP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=ir(OP,n),a=g.useRef(null),c=ke(t,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});IP.displayName=OP;var os="ScrollAreaScrollbar",Q0=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ir(os,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(Z6,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(eq,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(MP,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(X0,{...r,ref:t}):null});Q0.displayName=os;var Z6=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ir(os,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Un,{present:n||i,children:l.jsx(MP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),eq=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ir(os,e.__scopeScrollArea),i=e.orientation==="horizontal",o=op(()=>c("SCROLL_END"),100),[a,c]=Q6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),l.jsx(Un,{present:n||a!=="hidden",children:l.jsx(X0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),MP=g.forwardRef((e,t)=>{const n=ir(os,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=g.useState(!1),a=e.orientation==="horizontal",c=op(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return cl(n.viewport,c),cl(n.content,c),l.jsx(Un,{present:r||i,children:l.jsx(X0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),X0=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=ir(os,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=UP(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return oq(f,o.current,a,p)}return n==="horizontal"?l.jsx(tq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=d1(f,a,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?l.jsx(nq,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=d1(f,a);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),tq=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ir(os,e.__scopeScrollArea),[o,a]=g.useState(),c=g.useRef(null),u=ke(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(LP,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ip(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),BP(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:rf(o.paddingLeft),paddingEnd:rf(o.paddingRight)}})}})}),nq=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ir(os,e.__scopeScrollArea),[o,a]=g.useState(),c=g.useRef(null),u=ke(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(LP,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ip(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),BP(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:rf(o.paddingTop),paddingEnd:rf(o.paddingBottom)}})}})}),[rq,DP]=PP(os),LP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,p=ir(os,n),[x,m]=g.useState(null),b=ke(t,O=>m(O)),y=g.useRef(null),w=g.useRef(""),S=p.viewport,_=r.content-r.viewport,j=Ct(d),C=Ct(c),T=op(h,10);function P(O){if(y.current){const I=O.clientX-y.current.left,R=O.clientY-y.current.top;u({x:I,y:R})}}return g.useEffect(()=>{const O=I=>{const R=I.target;(x==null?void 0:x.contains(R))&&j(I,_)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[S,x,_,j]),g.useEffect(C,[r,C]),cl(x,T),cl(p.content,T),l.jsx(rq,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:Ct(i),onThumbPointerUp:Ct(o),onThumbPositionChange:C,onThumbPointerDown:Ct(a),children:l.jsx(pe.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:ce(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),y.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(O))}),onPointerMove:ce(e.onPointerMove,P),onPointerUp:ce(e.onPointerUp,O=>{const I=O.target;I.hasPointerCapture(O.pointerId)&&I.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),nf="ScrollAreaThumb",$P=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=DP(nf,e.__scopeScrollArea);return l.jsx(Un,{present:n||s.hasThumb,children:l.jsx(sq,{ref:t,...r})})}),sq=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=ir(nf,n),o=DP(nf,n),{onThumbPositionChange:a}=o,c=ke(t,h=>o.onThumbChange(h)),u=g.useRef(void 0),d=op(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const p=aq(h,a);u.current=p,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,a]),l.jsx(pe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ce(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),x=h.clientX-p.left,m=h.clientY-p.top;o.onThumbPointerDown({x,y:m})}),onPointerUp:ce(e.onPointerUp,o.onThumbPointerUp)})});$P.displayName=nf;var Z0="ScrollAreaCorner",FP=g.forwardRef((e,t)=>{const n=ir(Z0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(iq,{...e,ref:t}):null});FP.displayName=Z0;var iq=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=ir(Z0,n),[i,o]=g.useState(0),[a,c]=g.useState(0),u=!!(i&&a);return cl(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),cl(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?l.jsx(pe.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function rf(e){return e?parseInt(e,10):0}function UP(e,t){const n=e/t;return isNaN(n)?0:n}function ip(e){const t=UP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function oq(e,t,n,r="ltr"){const s=ip(n),i=s/2,o=t||i,a=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return VP([c,u],h)(e)}function d1(e,t,n="ltr"){const r=ip(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Qv(e,c);return VP([0,o],[0,a])(u)}function VP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function BP(e,t){return e>0&&e<t}var aq=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function op(e,t){const n=Ct(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function cl(e,t){const n=Ct(t);Nt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var zP=RP,lq=IP,cq=FP;const ap=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(zP,{ref:r,className:oe("relative overflow-hidden",e),...n,children:[l.jsx(lq,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(qP,{}),l.jsx(cq,{})]}));ap.displayName=zP.displayName;const qP=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Q0,{ref:r,orientation:t,className:oe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx($P,{className:"relative flex-1 rounded-full bg-border"})}));qP.displayName=Q0.displayName;function WP(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lp="Checkbox",[uq,IQ]=Fn(lp),[dq,ex]=uq(lp);function hq(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,p]=Rr({prop:n,defaultProp:s??!1,onChange:c,caller:lp}),[x,m]=g.useState(null),[b,y]=g.useState(null),w=g.useRef(!1),S=x?!!o||!!x.closest("form"):!0,_={checked:f,disabled:i,setChecked:p,control:x,setControl:m,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:bi(s)?!1:s,isFormControl:S,bubbleInput:b,setBubbleInput:y};return l.jsx(dq,{scope:t,..._,children:fq(h)?h(_):r})}var HP="CheckboxTrigger",GP=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:x}=ex(HP,e),m=ke(s,d),b=g.useRef(c);return g.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const w=()=>h(b.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[i,h]),l.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":bi(c)?"mixed":c,"aria-required":u,"data-state":XP(c),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:m,onKeyDown:ce(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ce(n,y=>{h(w=>bi(w)?!0:!w),x&&p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});GP.displayName=HP;var tx=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(hq,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(GP,{...h,ref:t,__scopeCheckbox:n}),f&&l.jsx(QP,{__scopeCheckbox:n})]})})});tx.displayName=lp;var KP="CheckboxIndicator",JP=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=ex(KP,n);return l.jsx(Un,{present:r||bi(i.checked)||i.checked===!0,children:l.jsx(pe.span,{"data-state":XP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});JP.displayName=KP;var YP="CheckboxBubbleInput",QP=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:p}=ex(YP,e),x=ke(n,p),m=WP(i),b=dN(r);g.useEffect(()=>{const w=f;if(!w)return;const S=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(S,"checked").set,C=!s.current;if(m!==i&&j){const T=new Event("click",{bubbles:C});w.indeterminate=bi(i),j.call(w,bi(i)?!1:i),w.dispatchEvent(T)}},[f,m,i,s]);const y=g.useRef(bi(i)?!1:i);return l.jsx(pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:a,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});QP.displayName=YP;function fq(e){return typeof e=="function"}function bi(e){return e==="indeterminate"}function XP(e){return bi(e)?"indeterminate":e?"checked":"unchecked"}const sh=g.forwardRef(({className:e,...t},n)=>l.jsx(tx,{ref:n,className:oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(JP,{className:oe("flex items-center justify-center text-current"),children:l.jsx(ku,{className:"h-4 w-4"})})}));sh.displayName=tx.displayName;var ZP={};function h1(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(a.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(e)}function eR(e){var t=function(n,r){if(Pe(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Pe(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Pe(t)=="symbol"?t:t+""}function f1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eR(r.key),r)}}function Bn(e,t,n){return t&&f1(e.prototype,t),n&&f1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cp(e,t){if(t&&(Pe(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mr(e)}function ru(e,t){return ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ru(e,t)}function up(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ru(e,t)}function Wr(e,t,n){return(t=eR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p1(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,s)}function ye(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(c){p1(i,r,s,o,a,"next",c)}function a(c){p1(i,r,s,o,a,"throw",c)}o(void 0)})}}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a,c,u=[],d=!0,h=!1;try{if(a=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=a.call(s)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return m1(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?m1(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pq(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var g1,md={exports:{}},Xv=function(){if(g1)return md.exports;g1=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(m,b,y){return Function.prototype.apply.call(m,b,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var r=Number.isNaN||function(m){return m!=m};function s(){s.init.call(this)}md.exports=s,md.exports.once=function(m,b){return new Promise(function(y,w){function S(j){m.removeListener(b,_),w(j)}function _(){typeof m.removeListener=="function"&&m.removeListener("error",S),y([].slice.call(arguments))}x(m,b,_,{once:!0}),b!=="error"&&function(j,C,T){typeof j.on=="function"&&x(j,"error",C,T)}(m,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function a(m){return m._maxListeners===void 0?s.defaultMaxListeners:m._maxListeners}function c(m,b,y,w){var S,_,j,C;if(o(y),(_=m._events)===void 0?(_=m._events=Object.create(null),m._eventsCount=0):(_.newListener!==void 0&&(m.emit("newListener",b,y.listener?y.listener:y),_=m._events),j=_[b]),j===void 0)j=_[b]=y,++m._eventsCount;else if(typeof j=="function"?j=_[b]=w?[y,j]:[j,y]:w?j.unshift(y):j.push(y),(S=a(m))>0&&j.length>S&&!j.warned){j.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=m,T.type=b,T.count=j.length,C=T,console&&console.warn&&console.warn(C)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,b,y){var w={fired:!1,wrapFn:void 0,target:m,type:b,listener:y},S=u.bind(w);return S.listener=y,w.wrapFn=S,S}function h(m,b,y){var w=m._events;if(w===void 0)return[];var S=w[b];return S===void 0?[]:typeof S=="function"?y?[S.listener||S]:[S]:y?function(_){for(var j=new Array(_.length),C=0;C<j.length;++C)j[C]=_[C].listener||_[C];return j}(S):p(S,S.length)}function f(m){var b=this._events;if(b!==void 0){var y=b[m];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function p(m,b){for(var y=new Array(b),w=0;w<b;++w)y[w]=m[w];return y}function x(m,b,y,w){if(typeof m.on=="function")w.once?m.once(b,y):m.on(b,y);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(b,function S(_){w.once&&m.removeEventListener(b,S),y(_)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(m){if(typeof m!="number"||m<0||r(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");i=m}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||r(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(m){for(var b=[],y=1;y<arguments.length;y++)b.push(arguments[y]);var w=m==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var _;if(b.length>0&&(_=b[0]),_ instanceof Error)throw _;var j=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw j.context=_,j}var C=S[m];if(C===void 0)return!1;if(typeof C=="function")n(C,this,b);else{var T=C.length,P=p(C,T);for(y=0;y<T;++y)n(P[y],this,b)}return!0},s.prototype.addListener=function(m,b){return c(this,m,b,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(m,b){return c(this,m,b,!0)},s.prototype.once=function(m,b){return o(b),this.on(m,d(this,m,b)),this},s.prototype.prependOnceListener=function(m,b){return o(b),this.prependListener(m,d(this,m,b)),this},s.prototype.removeListener=function(m,b){var y,w,S,_,j;if(o(b),(w=this._events)===void 0)return this;if((y=w[m])===void 0)return this;if(y===b||y.listener===b)--this._eventsCount==0?this._events=Object.create(null):(delete w[m],w.removeListener&&this.emit("removeListener",m,y.listener||b));else if(typeof y!="function"){for(S=-1,_=y.length-1;_>=0;_--)if(y[_]===b||y[_].listener===b){j=y[_].listener,S=_;break}if(S<0)return this;S===0?y.shift():function(C,T){for(;T+1<C.length;T++)C[T]=C[T+1];C.pop()}(y,S),y.length===1&&(w[m]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",m,j||b)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(m){var b,y,w;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[m]),this;if(arguments.length===0){var S,_=Object.keys(y);for(w=0;w<_.length;++w)(S=_[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(b=y[m])=="function")this.removeListener(m,b);else if(b!==void 0)for(w=b.length-1;w>=0;w--)this.removeListener(m,b[w]);return this},s.prototype.listeners=function(m){return h(this,m,!0)},s.prototype.rawListeners=function(m){return h(this,m,!1)},s.listenerCount=function(m,b){return typeof m.listenerCount=="function"?m.listenerCount(b):f.call(m,b)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},md.exports}(),gd=pq(Xv),v1=Object.prototype.hasOwnProperty;function y1(e,t,n){for(n of e.keys())if(ln(n,t))return n}function ln(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ln(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=y1(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=y1(t,s))||!ln(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(v1.call(e,n)&&++r&&!v1.call(t,n)||!(n in t)||!ln(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const mq={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},tR={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},pt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},sn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ws={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class q{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=q.getVersionPrecision(t),i=q.getVersionPrecision(n);let o=Math.max(s,i),a=0;const c=q.map([t,n],u=>{const d=o-q.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return q.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return mq[t]}static getBrowserTypeByAlias(t){return tR[t]||""}}const Ue=/version\/(\d+(\.?_?\d+)+)/i,gq=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:q.getFirstMatch(t,e),version:q.getSecondMatch(t,e)}}}];var vq=[{test:[/Roku\/DVP/],describe(e){const t=q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:sn.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:sn.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=q.getWindowsVersionName(t);return{name:sn.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:sn.iOS},n=q.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=q.getMacOSVersionName(t),r={name:sn.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:sn.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=q.getAndroidVersionName(t),r={name:sn.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:sn.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||q.getFirstMatch(/\bbb(\d+)/i,e);return{name:sn.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:sn.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:sn.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:sn.Linux})},{test:[/CrOS/],describe:()=>({name:sn.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:sn.PlayStation4,version:t}}}],yq=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=q.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:pt.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:pt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:pt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:pt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:pt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:pt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:pt.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=q.getFirstMatch(/(ipod|iphone)/i,e);return{type:pt.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:pt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:pt.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:pt.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:pt.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:pt.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:pt.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:pt.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:pt.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:pt.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:pt.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:pt.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:pt.tv})}],wq=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Ws.Blink};const t=q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Ws.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Ws.Trident},n=q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Ws.Presto},n=q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Ws.Gecko},n=q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Ws.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Ws.WebKit},n=q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class w1{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=q.find(gq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=q.find(vq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=q.find(yq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=q.find(wq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return q.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(s[o]=a,i+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=q.find(o,u=>this.isOS(u));if(a){const u=this.satisfies(n[a]);if(u!==void 0)return u}const c=q.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(s),a=q.find(o,c=>this.isBrowser(c,!0));if(a!==void 0)return this.compareVersion(s[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=q.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(q.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class xq{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new w1(t,n)}static parse(t){return new w1(t).getResult()}static get BROWSER_MAP(){return tR}static get ENGINE_MAP(){return Ws}static get OS_MAP(){return sn}static get PLATFORMS_MAP(){return pt}}function dp(){return Date.now()+Math.random().toString()}function Hl(){throw new Error("Method must be implemented in subclass")}function nR(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function sf(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:nR("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function of(e){try{new URL(e)}catch{return!1}return!0}const ze=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_o="8.55.0",De=globalThis;function af(e,t,n){const r=De,s=r.__SENTRY__=r.__SENTRY__||{},i=s[_o]=s[_o]||{};return i[e]||(i[e]=t())}const zo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zv=["debug","info","warn","error","log","assert","trace"],lf={};function Mu(e){if(!("console"in De))return e();const t=De.console,n={},r=Object.keys(lf);r.forEach(s=>{const i=lf[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const we=af("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return zo?Zv.forEach(n=>{t[n]=(...r)=>{e&&Mu(()=>{De.console[n](`Sentry Logger [${n}]:`,...r)})}}):Zv.forEach(n=>{t[n]=()=>{}}),t}),uo="?",x1=/\(error: (.*)\)/,b1=/captureMessage|captureException/;function vd(e){return e[e.length-1]||{}}const S1="<anonymous>";function Ai(e){try{return e&&typeof e=="function"&&e.name||S1}catch{return S1}}function _1(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ih={},k1={};function ko(e,t){ih[e]=ih[e]||[],ih[e].push(t)}function Eo(e,t){if(!k1[e]){k1[e]=!0;try{t()}catch(n){zo&&we.error(`Error while instrumenting ${e}`,n)}}}function Ar(e,t){const n=e&&ih[e];if(n)for(const r of n)try{r(t)}catch(s){zo&&we.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ai(r)}
Error:`,s)}}let Im=null;function bq(){Im=De.onerror,De.onerror=function(e,t,n,r,s){return Ar("error",{column:r,error:s,line:n,msg:e,url:t}),!!Im&&Im.apply(this,arguments)},De.onerror.__SENTRY_INSTRUMENTED__=!0}let Mm=null;function Sq(){Mm=De.onunhandledrejection,De.onunhandledrejection=function(e){return Ar("unhandledrejection",e),!Mm||Mm.apply(this,arguments)},De.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function hp(){return nx(De),De}function nx(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||_o,t[_o]=t[_o]||{}}const rR=Object.prototype.toString;function rx(e){switch(rR.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ro(e,Error)}}function Nl(e,t){return rR.call(e)===`[object ${t}]`}function sR(e){return Nl(e,"ErrorEvent")}function E1(e){return Nl(e,"DOMError")}function ws(e){return Nl(e,"String")}function sx(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ey(e){return e===null||sx(e)||typeof e!="object"&&typeof e!="function"}function ul(e){return Nl(e,"Object")}function fp(e){return typeof Event<"u"&&Ro(e,Event)}function pp(e){return!!(e&&e.then&&typeof e.then=="function")}function Ro(e,t){try{return e instanceof t}catch{return!1}}function iR(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const ix=De;function oR(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=_q(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=h));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function _q(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(ix.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ws(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Ia(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function j1(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{iR(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function kq(e,t,n=!1){return!!ws(e)&&(Nl(t,"RegExp")?t.test(e):!!ws(t)&&(n?e===t:e.includes(t)))}function yd(e,t=[],n=!1){return t.some(r=>kq(e,r,n))}function On(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&aR(s,r);try{e[t]=s}catch{zo&&we.log(`Failed to replace method "${t}" in object`,e)}}function Oo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{zo&&we.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function aR(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Oo(e,"__sentry_original__",t)}catch{}}function ox(e){return e.__sentry_original__}function lR(e){if(rx(e))return{message:e.message,name:e.name,stack:e.stack,...T1(e)};if(fp(e)){const t={type:e.type,target:C1(e.target),currentTarget:C1(e.currentTarget),...T1(e)};return typeof CustomEvent<"u"&&Ro(e,CustomEvent)&&(t.detail=e.detail),t}return e}function C1(e){try{return t=e,typeof Element<"u"&&Ro(t,Element)?oR(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function T1(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Xn(e){return ty(e,new Map)}function ty(e,t){if(function(n){if(!ul(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=ty(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(ty(s,t))}),r}return e}function Du(){return Date.now()/1e3}const Ss=function(){const{performance:e}=De;if(!e||!e.now)return Du;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function tr(){const e=De,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function cR(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ys(e){const{message:t,event_id:n}=e;if(t)return t;const r=cR(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ny(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function dl(e,t){const n=cR(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function N1(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{Oo(e,"__sentry_captured__",!0)}catch{}return!1}var hs;function Io(e){return new Jn(t=>{t(e)})}function cf(e){return new Jn((t,n)=>{n(e)})}(()=>{const{performance:e}=De;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(i||a<t)&&s<=a&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(hs||(hs={}));class Jn{constructor(t){Jn.prototype.__init.call(this),Jn.prototype.__init2.call(this),Jn.prototype.__init3.call(this),Jn.prototype.__init4.call(this),this._state=hs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Jn((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Jn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(hs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(hs.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===hs.PENDING&&(pp(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===hs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===hs.RESOLVED&&n[1](this._value),this._state===hs.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Eq(e){const t=Ss(),n={sid:tr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Xn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&hl(n,e),n}function hl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ss(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:tr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function A1(){return tr()}function ry(){return tr().substring(16)}function mp(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=mp(r[s],t[s],n-1));return r}const sy="_sentrySpan";function P1(e,t){t?Oo(e,sy,t):delete e[sy]}function R1(e){return e[sy]}class ax{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:A1(),spanId:ry()}}clone(){const t=new ax;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,P1(t,R1(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&hl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof Pi?[n.getScopeData(),n.getRequestSession()]:ul(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,P1(this,void 0),this._attachments=[],this.setPropagationContext({traceId:A1()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:Du(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:R1(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=mp(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:ry(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:tr();if(!this._client)return we.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:tr();if(!this._client)return we.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:tr();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(we.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Pi=ax;class jq{constructor(t,n){let r,s;r=t||new Pi,s=n||new Pi,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return pp(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function fl(){const e=nx(hp());return e.stack=e.stack||new jq(af("defaultCurrentScope",()=>new Pi),af("defaultIsolationScope",()=>new Pi))}function Cq(e){return fl().withScope(e)}function Tq(e,t){const n=fl();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function O1(e){return fl().withScope(()=>e(fl().getIsolationScope()))}function lx(e){const t=nx(e);return t.acs?t.acs:{withIsolationScope:O1,withScope:Cq,withSetScope:Tq,withSetIsolationScope:(n,r)=>O1(r),getCurrentScope:()=>fl().getScope(),getIsolationScope:()=>fl().getIsolationScope()}}function qo(){return lx(hp()).getCurrentScope()}function Lu(){return lx(hp()).getIsolationScope()}function Jt(){return qo().getClient()}function Nq(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Xn({trace_id:n,span_id:r,parent_span_id:s})}function Aq(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Xn(s));return n}const Pq=/^sentry-/;function Rq(e){const t=function(r){if(!(!r||!ws(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=I1(i);return Object.entries(o).forEach(([a,c])=>{s[a]=c}),s},{}):I1(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(Pq)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function I1(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let M1=!1;function Oq(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return Xn({parent_span_id:r?t:cx(e).parent_span_id,span_id:r?ry():t,trace_id:n})}function D1(e){return typeof e=="number"?L1(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?L1(e.getTime()):Ss()}function L1(e){return e>9999999999?e/1e3:e}function cx(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:c}=e;return Xn({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:D1(s),timestamp:D1(o)||void 0,status:Iq(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:Aq(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Iq(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function uR(e){return e._sentryRootSpan||e}function Mq(){M1||(Mu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),M1=!0)}const ux="production";function dR(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Xn({environment:n.environment||ux,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Dq(e){const t=Jt();if(!t)return{};const n=uR(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&Rq(i);if(o)return o;const a=dR(e.spanContext().traceId,t),c=cx(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(a.sample_rate=`${d}`);const h=u["sentry.source"],f=c.description;return h!=="url"&&f&&(a.transaction=f),function(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const x=Jt(),m=x&&x.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(a.sampled=String(function(p){const{traceFlags:x}=p.spanContext();return x===1}(n))),t.emit("createDsc",a,n),a}const Lq=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function uf(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function $1(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $q(e){const t=typeof e=="string"?function(n){const r=Lq.exec(n);if(!r)return void Mu(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",a="",c="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const p=h.match(/^\d+/);p&&(h=p[0])}return $1({host:a,pass:o,path:d,projectId:h,port:c,protocol:s,publicKey:i})}(e):$1(e);if(t&&function(n){if(!zo)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(we.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(we.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(we.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(we.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function fs(e,t=100,n=1/0){try{return iy("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function hR(e,t=3,n=102400){const r=fs(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?hR(e,t-1,n):r;var s}function iy(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(a){if(i)return!!o.has(a)||(o.add(a),!1);for(let c=0;c<o.length;c++)if(o[c]===a)return!0;return o.push(a),!1},function(a){if(i)o.delete(a);else for(let c=0;c<o.length;c++)if(o[c]===a){o.splice(c,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(p,x){try{if(p==="domain"&&x&&typeof x=="object"&&x._events)return"[Domain]";if(p==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&x===global)return"[Global]";if(typeof window<"u"&&x===window)return"[Window]";if(typeof document<"u"&&x===document)return"[Document]";if(iR(x))return"[VueViewModel]";if(ul(m=x)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof x=="number"&&!Number.isFinite(x))return`[${x}]`;if(typeof x=="function")return`[Function: ${Ai(x)}]`;if(typeof x=="symbol")return`[${String(x)}]`;if(typeof x=="bigint")return`[BigInt: ${String(x)}]`;const b=function(y){const w=Object.getPrototypeOf(y);return w?w.constructor.name:"null prototype"}(x);return/^HTML(\w*)Element$/.test(b)?`[HTMLElement: ${b}]`:`[object ${b}]`}catch(b){return`**non-serializable** (${b})`}var m}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return iy("",u.toJSON(),c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=lR(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(h>=r){d[p]="[MaxProperties ~]";break}const x=f[p];d[p]=iy(p,x,c-1,r,s),h++}return o(t),d}function su(e,t=[]){return[e,t]}function Fq(e,t){const[n,r]=e;return[n,[...r,t]]}function F1(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function oy(e){return De.__SENTRY__&&De.__SENTRY__.encodePolyfill?De.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Uq(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[oy(r),i]:r.push(typeof i=="string"?oy(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(fs(a))}s(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),a=new Uint8Array(o);let c=0;for(const u of i)a.set(u,c),c+=u.length;return a}(r)}function Vq(e){const t=typeof e.data=="string"?oy(e.data):e.data;return[Xn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Bq={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function U1(e){return Bq[e]}function fR(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function zq(e,t,n,r){const s=fR(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,c){c&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||c.name,a.sdk.version=a.sdk.version||c.version,a.sdk.integrations=[...a.sdk.integrations||[],...c.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...c.packages||[]])})(e,n&&n.sdk);const o=function(a,c,u,d){const h=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:uf(d)},...h&&{trace:Xn({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,su(o,[[{type:i},e]])}function ay(e,t,n,r=0){return new Jn((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);ze&&o.id&&a===null&&we.log(`Event processor "${o.id}" dropped event`),pp(a)?a.then(c=>ay(e,c,n,r+1).then(s)).then(null,i):ay(e,a,n,r+1).then(s).then(null,i)}})}let wd,V1,Dm;function qq(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,a){const{extra:c,tags:u,user:d,contexts:h,level:f,transactionName:p}=a,x=Xn(c);x&&Object.keys(x).length&&(o.extra={...x,...o.extra});const m=Xn(u);m&&Object.keys(m).length&&(o.tags={...m,...o.tags});const b=Xn(d);b&&Object.keys(b).length&&(o.user={...b,...o.user});const y=Xn(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),p&&o.type!=="transaction"&&(o.transaction=p)})(e,t),r&&function(o,a){o.contexts={trace:Oq(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:Dq(a),...o.sdkProcessingMetadata};const c=uR(a),u=cx(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,a){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const c=[...o.breadcrumbs||[],...a];o.breadcrumbs=c.length?c:void 0}(e,s),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,i)}function B1(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:p,span:x}=t;xd(e,"extra",n),xd(e,"tags",r),xd(e,"user",s),xd(e,"contexts",i),e.sdkProcessingMetadata=mp(e.sdkProcessingMetadata,a,2),o&&(e.level=o),p&&(e.transactionName=p),x&&(e.span=x),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function xd(e,t,n){e[t]=mp(e[t],n,1)}function Wq(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||tr(),timestamp:t.timestamp||Du()},u=n.integrations||e.integrations.map(x=>x.name);(function(x,m){const{environment:b,release:y,dist:w,maxValueLength:S=250}=m;x.environment=x.environment||b||ux,!x.release&&y&&(x.release=y),!x.dist&&w&&(x.dist=w),x.message&&(x.message=Ia(x.message,S));const _=x.exception&&x.exception.values&&x.exception.values[0];_&&_.value&&(_.value=Ia(_.value,S));const j=x.request;j&&j.url&&(j.url=Ia(j.url,S))})(c,e),function(x,m){m.length>0&&(x.sdk=x.sdk||{},x.sdk.integrations=[...x.sdk.integrations||[],...m])}(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(x,m){const b=function(y){const w=De._sentryDebugIds;if(!w)return{};const S=Object.keys(w);return Dm&&S.length===V1||(V1=S.length,Dm=S.reduce((_,j)=>{wd||(wd={});const C=wd[j];if(C)_[C[0]]=C[1];else{const T=y(j);for(let P=T.length-1;P>=0;P--){const O=T[P],I=O&&O.filename,R=w[j];if(I&&R){_[I]=R,wd[j]=[I,R];break}}}return _},{})),Dm}(m);try{x.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{b&&w.filename&&(w.debug_id=b[w.filename])})})}catch{}}(c,e.stackParser);const d=function(x,m){if(!m)return x;const b=x?x.clone():new Pi;return b.update(m),b}(r,n.captureContext);n.mechanism&&dl(c,n.mechanism);const h=s?s.getEventProcessors():[],f=af("globalScope",()=>new Pi).getScopeData();i&&B1(f,i.getScopeData()),d&&B1(f,d.getScopeData());const p=[...n.attachments||[],...f.attachments];return p.length&&(n.attachments=p),qq(c,f),ay([...h,...f.eventProcessors],c,n).then(x=>(x&&function(m){const b={};try{m.exception.values.forEach(w=>{w.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?b[S.abs_path]=S.debug_id:S.filename&&(b[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(b).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const y=m.debug_meta.images;Object.entries(b).forEach(([w,S])=>{y.push({type:"sourcemap",code_file:w,debug_id:S})})}(x),typeof o=="number"&&o>0?function(m,b,y){if(!m)return null;const w={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(S=>({...S,...S.data&&{data:fs(S.data,b,y)}}))},...m.user&&{user:fs(m.user,b,y)},...m.contexts&&{contexts:fs(m.contexts,b,y)},...m.extra&&{extra:fs(m.extra,b,y)}};return m.contexts&&m.contexts.trace&&w.contexts&&(w.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(w.contexts.trace.data=fs(m.contexts.trace.data,b,y))),m.spans&&(w.spans=m.spans.map(S=>({...S,...S.data&&{data:fs(S.data,b,y)}}))),m.contexts&&m.contexts.flags&&w.contexts&&(w.contexts.flags=fs(m.contexts.flags,3,y)),w}(x,o,a):x))}function z1(e,t){return qo().captureEvent(e,t)}function q1(e){const t=Jt(),n=Lu(),r=qo(),{release:s,environment:i=ux}=t&&t.getOptions()||{},{userAgent:o}=De.navigator||{},a=Eq({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&hl(c,{status:"exited"}),pR(),n.setSession(a),r.setSession(a),a}function pR(){const e=Lu(),t=qo(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),hl(r,i)}(n),mR(),e.setSession(),t.setSession()}function mR(){const e=Lu(),t=qo(),n=Jt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function W1(e=!1){e?pR():mR()}function Hq(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const H1=[];function G1(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function K1(e,t,n){if(n[t.name])ze&&we.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,H1.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),H1.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}ze&&we.log(`Integration installed: ${t.name}`)}}class gr extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const J1="Not capturing exception because it's already been captured.";class Gq{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=$q(t.dsn):ze&&we.warn("No DSN provided, client will not send events."),this._dsn){const r=Hq(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&Mu(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=tr();if(N1(t))return ze&&we.log(J1),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:tr(),...r},o=sx(t)?t:String(t),a=ey(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,n,r){const s=tr();if(n&&n.originalException&&N1(n.originalException))return ze&&we.log(J1),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?ze&&we.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),hl(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):Io(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];K1(this,t,this._integrations),n||G1(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=zq(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Fq(r,Vq(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const a=fR(i);return su({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&s&&{dsn:uf(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;ze&&we.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(ze&&we.error("Error while sending envelope:",n),n)):(ze&&we.error("Transport disabled"),Io({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&K1(n,i,s)}),s}(this,t),G1(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const a of i){const c=a.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(hl(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Jn(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=qo(),s=Lu()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Wq(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:Nq(r),...a.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||dR(h.traceId,u)}(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{ze&&(s instanceof gr&&s.logLevel==="log"?we.log(s.message):we.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Q1(t),a=Y1(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(p){if(typeof p=="boolean")return Number(p);const x=typeof p=="string"?parseFloat(p):p;if(!(typeof x!="number"||isNaN(x)||x<0||x>1))return x;ze&&we.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`)}(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),cf(new gr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",h,t),new gr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const x=function(m,b,y,w){const{beforeSend:S,beforeSendTransaction:_,beforeSendSpan:j}=b;if(Y1(y)&&S)return S(y,w);if(Q1(y)){if(y.spans&&j){const C=[];for(const T of y.spans){const P=j(T);P?C.push(P):(Mq(),m.recordDroppedEvent("before_send","span"))}y.spans=C}if(_){if(y.spans){const C=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:C}}return _(y,w)}}return y}(this,s,p,n);return function(m,b){const y=`${b} must return \`null\` or a valid event.`;if(pp(m))return m.then(w=>{if(!ul(w)&&w!==null)throw new gr(y);return w},w=>{throw new gr(`${b} rejected with ${w}`)});if(!ul(m)&&m!==null)throw new gr(y);return m}(x,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",h,t),o){const b=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw new gr(`${u} returned \`null\`, will not send event.`,"log")}const x=r&&r.getSession();if(!o&&x&&this._updateSessionFromEvent(x,p),o){const b=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);b>0&&this.recordDroppedEvent("before_send","span",b)}const m=p.transaction_info;if(o&&m&&p.transaction!==t.transaction){const b="custom";p.transaction_info={...m,source:b}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof gr?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new gr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){ze&&we.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(ze&&we.log("No outcomes to send"));if(!this._dsn)return void(ze&&we.log("No dsn provided, will not send outcomes"));ze&&we.log("Sending outcomes:",t);const n=(r=t,su((s=this._options.tunnel&&uf(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||Du(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function Y1(e){return e.type===void 0}function Q1(e){return e.type==="transaction"}function Kq(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return cf(new gr("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new Jn((s,i)=>{let o=t.length;if(!o)return s(!0);const a=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(c=>{Io(c).then(()=>{--o||(clearTimeout(a),s(!0))},i)})})}}}function Jq(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,d]=a.split(":",5),h=parseInt(c,10),f=1e3*(isNaN(h)?60:h);if(u)for(const p of u.split(";"))p==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[p]=r+f);else s.all=r+f}else o?s.all=r+function(a,c=Date.now()){const u=parseInt(`${a}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${a}`);return isNaN(d)?6e4:d-c}(o,r):t===429&&(s.all=r+6e4);return s}function Yq(e,t,n=Kq(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(F1(s,(c,u)=>{const d=U1(u);if(function(h,f,p=Date.now()){return function(x,m){return x[m]||x.all||0}(h,f)>p}(r,d)){const h=X1(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return Io({});const o=su(s[0],i),a=c=>{F1(o,(u,d)=>{const h=X1(u,d);e.recordDroppedEvent(c,U1(d),h)})};return n.add(()=>t({body:Uq(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&ze&&we.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=Jq(r,c),c),c=>{throw a("network_error"),c})).then(c=>c,c=>{if(c instanceof gr)return ze&&we.error("Skipped sending event because buffer is full."),a("queue_overflow"),Io({});throw c})},flush:s=>n.drain(s)}}function X1(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const Qq=100;function Hi(e,t){const n=Jt(),r=Lu();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=Qq}=n.getOptions();if(i<=0)return;const o={timestamp:Du(),...e},a=s?Mu(()=>s(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let Z1;const ek=new WeakMap,Xq=()=>({name:"FunctionToString",setupOnce(){Z1=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ox(this),n=ek.has(Jt())&&t!==void 0?t:this;return Z1.apply(n,e)}}catch{}},setup(e){ek.set(e,!0)}}),Zq=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],eW=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:Zq],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,a){return a.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(ze&&we.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ys(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(c).some(d=>yd(d,u))}(o,a.ignoreErrors)?(ze&&we.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ys(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(ze&&we.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ys(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&yd(d,u)}(o,a.ignoreTransactions)?(ze&&we.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ys(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=bd(c);return!!d&&yd(d,u)}(o,a.denyUrls)?(ze&&we.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ys(o)}.
Url: ${bd(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=bd(c);return!d||yd(d,u)}(o,a.allowUrls)?!1:(ze&&we.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ys(o)}.
Url: ${bd(o)}`),!0)}(t,i)?null:t}});function bd(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return ze&&we.error(`Cannot extract url for event ${Ys(e)}`),null}}function tW(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&Ro(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;a&&(i.exception.values=(c=ly(e,t,s,o.originalException,r,i.exception.values,a,0),u=n,c.map(d=>(d.value&&(d.value=Ia(d.value,u)),d))))}function ly(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(Ro(r[s],Error)){tk(o,a);const u=e(t,r[s]),d=c.length;nk(u,s,d,a),c=ly(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Ro(u,Error)){tk(o,a);const h=e(t,u),f=c.length;nk(h,`errors[${d}]`,f,a),c=ly(e,t,n,u,s,[h,...c],h,f)}}),c}function tk(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function nk(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Lm(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function nW(){"console"in De&&Zv.forEach(function(e){e in De.console&&On(De.console,e,function(t){return lf[e]=t,function(...n){Ar("console",{args:n,level:e});const r=lf[e];r&&r.apply(De.console,n)}})})}function rW(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const sW=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,a=i.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!sk(s,i)||!rk(s,i))}(n,r)||function(s,i){const o=ik(i),a=ik(s);return!(!o||!a||o.type!==a.type||o.value!==a.value||!sk(s,i)||!rk(s,i))}(n,r)):!1}(t,e))return ze&&we.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function rk(e,t){let n=_1(e),r=_1(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function sk(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function ik(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ok(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const $m=De;function cy(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function iW(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in $m))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(cy($m.fetch))return!0;let e=!1;const t=$m.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=cy(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){zo&&we.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function oW(e,t){const n="fetch";ko(n,e),Eo(n,()=>function(r,s=!1){s&&!iW()||On(De,"fetch",function(i){return function(...o){const a=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[p,x]=h;return{url:ak(p),method:uy(x,"method")?String(x.method).toUpperCase():"GET"}}const f=h[0];return{url:ak(f),method:uy(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*Ss(),virtualError:a};return r||Ar("fetch",{...d}),i.apply(De,o).then(async h=>(r?r(h):Ar("fetch",{...d,endTimestamp:1e3*Ss(),response:h}),h),h=>{throw Ar("fetch",{...d,endTimestamp:1e3*Ss(),error:h}),rx(h)&&h.stack===void 0&&(h.stack=a.stack,Oo(h,"framesToPop",1)),h})}})}(void 0,t))}function uy(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ak(e){return typeof e=="string"?e:e?uy(e,"url")?e.url:e.toString?e.toString():"":""}const Sd=De,Rt=De;let dy=0;function lk(){return dy>0}function pl(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(ox(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>pl(i,t));return e.apply(this,s)}catch(s){throw dy++,setTimeout(()=>{dy--}),function(...i){const o=lx(hp());if(i.length===2){const[a,c]=i;return a?o.withSetScope(a,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(a=>(t.mechanism&&(ny(a,void 0),dl(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),o=s,qo().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}aR(n,e),Oo(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const gp=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function dx(e,t){const n=hx(e,t),r={type:cW(t),value:uW(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function aW(e,t,n,r){const s=Jt(),i=s&&s.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),a={__serialized__:hR(t,i)};if(o)return{exception:{values:[dx(e,o)]},extra:a};const c={exception:{values:[{type:fp(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:dW(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=hx(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Fm(e,t){return{exception:{values:[dx(e,t)]}}}function hx(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&lW.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const lW=/Minified React error #\d+;/i;function gR(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function cW(e){const t=e&&e.name;return!t&&gR(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function uW(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:gR(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function hy(e,t,n,r,s){let i;if(sR(t)&&t.error)return Fm(e,t.error);if(E1(t)||Nl(t,"DOMException")){const o=t;if("stack"in t)i=Fm(e,t);else{const a=o.name||(E1(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=fy(e,c,n,r),ny(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return rx(t)?Fm(e,t):ul(t)||fp(t)?(i=aW(e,t,n,s),dl(i,{synthetic:!0}),i):(i=fy(e,t,n,r),ny(i,`${t}`),dl(i,{synthetic:!0}),i)}function fy(e,t,n,r){const s={};if(r&&n){const i=hx(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),dl(s,{synthetic:!0})}if(sx(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function dW(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(lR(s));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=i)return Ia(a,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:Ia(u,i)}return""}(e),r=t?"promise rejection":"exception";return sR(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:fp(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class hW extends Gq{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${s}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:_o})),version:_o}),r._metadata=a})(n,"browser",["browser"],Rt.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&Rt.document&&Rt.document.addEventListener("visibilitychange",()=>{Rt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const a=hy(r,s,i&&i.syntheticException||void 0,o);return dl(a),a.level="error",i&&i.event_id&&(a.event_id=i.event_id),Io(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",a,c){const u=fy(s,i,a&&a.syntheticException||void 0,c);return u.level=o,a&&a.event_id&&(u.event_id=a.event_id),Io(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(gp&&we.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:uf(o)}};return su(a,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const fW=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,un=De;let ck,Um,Vm,_d;function pW(){if(!un.document)return;const e=Ar.bind(null,"dom"),t=uk(e,!0);un.document.addEventListener("click",t,!1),un.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=un[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(On(s,"addEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=uk(e);d.handler=h,i.call(this,o,h,c)}d.refCount++}catch{}return i.call(this,o,a,c)}}),On(s,"removeEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,c)}}))})}function uk(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;Oo(n,"_sentryCaptured",!0),r&&!r._sentryId&&Oo(r,"_sentryId",tr());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==Um)return!1;try{if(!i.target||i.target._sentryId!==Vm)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),Um=n.type,Vm=r?r._sentryId:void 0),clearTimeout(ck),ck=un.setTimeout(()=>{Vm=void 0,Um=void 0},1e3)}}function vR(e){const t="history";ko(t,e),Eo(t,mW)}function mW(){if(!function(){const n=Sd.chrome,r=n&&n.app&&n.app.runtime,s="history"in Sd&&!!Sd.history.pushState&&!!Sd.history.replaceState;return!r&&s}())return;const e=un.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=_d,o=String(s);_d=o,Ar("history",{from:i,to:o})}return n.apply(this,r)}}un.onpopstate=function(...n){const r=un.location.href,s=_d;if(_d=r,Ar("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},On(un.history,"pushState",t),On(un.history,"replaceState",t)}const oh={};function dk(e){oh[e]=void 0}const ec="__sentry_xhr_v3__";function gW(){if(!un.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*Ss(),o=ws(r[0])?r[0].toUpperCase():void 0,a=function(u){if(ws(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!a)return t.apply(n,r);n[ec]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[ec];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}Ar("xhr",{endTimestamp:1e3*Ss(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,p]=h,x=d[ec];return x&&ws(f)&&ws(p)&&(x.request_headers[f.toLowerCase()]=p),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ec];return s?(r[0]!==void 0&&(s.body=r[0]),Ar("xhr",{startTimestamp:1e3*Ss(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function vW(e,t=function(n){const r=oh[n];if(r)return r;let s=un[n];if(cy(s))return oh[n]=s.bind(un);const i=un.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(s=a[n]),i.head.removeChild(o)}catch(o){fW&&we.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(oh[n]=s.bind(un))}("fetch")){let n=0,r=0;return Yq(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return dk("fetch"),cf("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return dk("fetch"),n-=i,r--,cf(a)}})}function Bm(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?uo:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const yW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,wW=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,xW=/\((\S*)(?::(\d+))(?::(\d+))\)/,bW=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,SW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,_W=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const c=o[a];if(c.length>1024)continue;const u=x1.test(c)?c.replace(x1,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(a){if(!a.length)return[];const c=Array.from(a);return/sentryWrapped/.test(vd(c).function||"")&&c.pop(),c.reverse(),b1.test(vd(c).function||"")&&(c.pop(),b1.test(vd(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||vd(c).filename,function:u.function||uo}))}(i.slice(s))}}([30,e=>{const t=yW.exec(e);if(t){const[,r,s,i]=t;return Bm(r,uo,+s,+i)}const n=wW.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=xW.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=hk(n[1]||uo,n[2]);return Bm(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=bW.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=SW.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||uo;return[r,n]=hk(r,n),Bm(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),hk=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:uo,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},fk=1024,kW=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";ko(i,s),Eo(i,nW)}(function(s){return function(i){if(Jt()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:rW(i.level),message:j1(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${j1(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}Hi(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if(Jt()!==s)return;let a,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>fk&&(gp&&we.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=fk),typeof u=="string"&&(u=[u]);try{const f=o.event,p=function(x){return!!x&&!!x.target}(f)?f.target:f;a=oR(p,{keyAttrs:u,maxStringLength:d}),c=function(x){if(!ix.HTMLElement)return null;let m=x;for(let b=0;b<5;b++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(p)}catch{a="<unknown>"}if(a.length===0)return;const h={category:`ui.${o.name}`,message:a};c&&(h.data={"ui.component_name":c}),Hi(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),ko("dom",r),Eo("dom",pW)),t.xhr&&function(s){ko("xhr",s),Eo("xhr",gW)}(function(s){return function(i){if(Jt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i,c=i.xhr[ec];if(!o||!a||!c)return;const{method:u,url:d,status_code:h,body:f}=c,p={method:u,url:d,status_code:h},x={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:a};Hi({category:"xhr",data:p,type:"http",level:ok(h)},x)}}(n)),t.fetch&&oW(function(s){return function(i){if(Jt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i;if(a&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)Hi({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:a});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:a};Hi({category:"fetch",data:u,type:"http",level:ok(u.status_code)},d)}}}(n)),t.history&&vR(function(s){return function(i){if(Jt()!==s)return;let o=i.from,a=i.to;const c=Lm(Rt.location.href);let u=o?Lm(o):void 0;const d=Lm(a);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(a=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),Hi({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){Jt()===s&&Hi({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Ys(i)},{event:i})}}(n))}}},EW=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],jW=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&On(Rt,"setTimeout",pk),t.setInterval&&On(Rt,"setInterval",pk),t.requestAnimationFrame&&On(Rt,"requestAnimationFrame",CW),t.XMLHttpRequest&&"XMLHttpRequest"in Rt&&On(XMLHttpRequest.prototype,"send",TW);const n=t.eventTarget;n&&(Array.isArray(n)?n:EW).forEach(NW)}}};function pk(e){return function(...t){const n=t[0];return t[0]=pl(n,{mechanism:{data:{function:Ai(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function CW(e){return function(t){return e.apply(this,[pl(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ai(e)},handled:!1,type:"instrument"}})])}}function TW(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&On(n,r,function(s){const i={mechanism:{data:{function:r,handler:Ai(s)},handled:!1,type:"instrument"}},o=ox(s);return o&&(i.mechanism.data.handler=Ai(o)),pl(s,i)})}),e.apply(this,t)}}function NW(e){const t=Rt[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(On(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=pl(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ai(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,pl(i,{mechanism:{data:{function:"addEventListener",handler:Ai(i),target:e},handled:!1,type:"instrument"}}),o])}}),On(n,"removeEventListener",function(r){return function(s,i,o){try{const a=i.__sentry_wrapped__;a&&r.call(this,s,a,o)}catch{}return r.call(this,s,i,o)}}))}const AW=()=>({name:"BrowserSession",setupOnce(){Rt.document!==void 0?(q1({ignoreDuration:!0}),W1(),vR(({from:e,to:t})=>{e!==void 0&&e!==t&&(q1({ignoreDuration:!0}),W1())})):gp&&we.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),PW=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";ko(i,s),Eo(i,bq)})(s=>{const{stackParser:i,attachStacktrace:o}=gk();if(Jt()!==r||lk())return;const{msg:a,url:c,line:u,column:d,error:h}=s,f=function(p,x,m,b){const y=p.exception=p.exception||{},w=y.values=y.values||[],S=w[0]=w[0]||{},_=S.stacktrace=S.stacktrace||{},j=_.frames=_.frames||[],C=b,T=m,P=ws(x)&&x.length>0?x:function(){try{return ix.document.location.href}catch{return""}}();return j.length===0&&j.push({colno:C,filename:P,function:uo,in_app:!0,lineno:T}),p}(hy(i,h||a,void 0,o,!1),c,u,d);f.level="error",z1(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),mk("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";ko(i,s),Eo(i,Sq)})(s=>{const{stackParser:i,attachStacktrace:o}=gk();if(Jt()!==r||lk())return;const a=function(u){if(ey(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),c=ey(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:hy(i,a,void 0,o,!0);c.level="error",z1(c,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),mk("onunhandledrejection"))}}};function mk(e){gp&&we.log(`Global Handler attached: ${e}`)}function gk(){const e=Jt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const RW=()=>({name:"HttpContext",preprocessEvent(e){if(!Rt.navigator&&!Rt.location&&!Rt.document)return;const t=e.request&&e.request.url||Rt.location&&Rt.location.href,{referrer:n}=Rt.document||{},{userAgent:r}=Rt.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),OW=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();tW(dx,o.stackParser,o.maxValueLength,n,t,r,s)}}};var py="new",vk="loading",yk="loaded",df="joining-meeting",ei="joined-meeting",Hs="left-meeting",us="error",IW="blocked",MW="off",DW="sendable",LW="loading",$W="interrupted",yR="playable",ah="unknown",wR="full",FW="lobby",UW="none",xR="base",VW="*",BW="ejected",zW="nbf-room",qW="nbf-token",WW="exp-room",HW="exp-token",my="no-room",GW="meeting-full",bR="end-of-life",KW="not-allowed",SR="connection-error",JW="cam-in-use",YW="mic-in-use",QW="cam-mic-in-use",XW="permissions",ZW="undefined-mediadevices",eH="not-found",tH="constraints",nH="unknown",_R="iframe-ready-for-launch-config",kR="iframe-launch-config",ER="theme-updated",jR="loading",CR="load-attempt-failed",gy="loaded",TR="started-camera",NR="camera-error",AR="joining-meeting",PR="joined-meeting",RR="left-meeting",OR="participant-joined",IR="participant-updated",MR="participant-left",DR="participant-counts-updated",LR="access-state-updated",$R="meeting-session-summary-updated",FR="meeting-session-state-updated",rH="meeting-session-data-error",UR="waiting-participant-added",VR="waiting-participant-updated",BR="waiting-participant-removed",zR="track-started",qR="track-stopped",WR="transcription-started",HR="transcription-stopped",GR="transcription-error",vy="recording-started",yy="recording-stopped",KR="recording-stats",JR="recording-error",YR="recording-upload-completed",QR="recording-data",XR="app-message",ZR="transcription-message",eO="remote-media-player-started",tO="remote-media-player-updated",nO="remote-media-player-stopped",rO="local-screen-share-started",sO="local-screen-share-stopped",iO="local-screen-share-canceled",oO="active-speaker-change",aO="active-speaker-mode-change",lO="network-quality-change",cO="network-connection",uO="cpu-load-change",dO="face-counts-updated",tc="fullscreen",nc="exited-fullscreen",hO="live-streaming-started",fO="live-streaming-updated",pO="live-streaming-stopped",mO="live-streaming-error",gO="lang-updated",vO="receive-settings-updated",wy="input-settings-updated",xy="nonfatal-error",by="error",zm=4096,wk=102400,qm="iframe-call-message",xk="local-screen-start",bk="daily-method-update-live-streaming-endpoints",kd="transmit-log",xs="daily-custom-track",lh={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},yO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Sy={PLAY:"play",PAUSE:"pause"},Wm=["jpg","png","jpeg"],sH="add-endpoints",iH="remove-endpoints",Sk="sip-call-transfer";function sr(){return!Ce()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Ce(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function wO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function oH(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(Mo(),hf())||Ce())}function _k(){if(Ce()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var _y="none",aH="software",lH="hardware",cH=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?aH:lH:_y}catch{return _y}}();function xO(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Ce()&&cH!==_y&&(e?function(){return kk()?!1:["Chrome","Firefox"].includes(Mo())}():function(){if(kk())return!1;var t=Mo();if(t==="Safari"){var n=px();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?fx().major>=77:t==="Firefox"?mx().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function bO(){if(Ce()||SO()||typeof AudioWorkletNode>"u")return!1;switch(Mo()){case"Chrome":case"Firefox":return!0;case"Safari":var e=hf();return e.major>17||e.major===17&&e.minor>=4}return!1}function Hm(){return wO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=Mo();if(!sr())return!0;switch(t){case"Chrome":return(e=fx()).major&&e.major>0&&e.major<75;case"Firefox":return(e=mx()).major<91;case"Safari":return(e=px()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function SO(){return sr().match(/Linux; Android/)}function kk(){var e,t=sr(),n=t.match(/Mac/)&&(!Ce()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!sr().match(/DailyAnd\//)||void 0}function Mo(){if(typeof window<"u"){var e=sr();return _O()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||kO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function hf(){switch(Mo()){case"Chrome":return fx();case"Safari":return px();case"Firefox":return mx();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=sr().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function fx(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=sr(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function _O(){return!!sr().match(/iPad|iPhone|iPod/i)&&wO()}function kO(){return sr().indexOf("AppleWebKit/605.1.15")>-1}function px(){var e=0,t=0,n=0;if(typeof window<"u"){var r=sr().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(_O()||kO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function mx(){var e=0,t=0;if(typeof window<"u"){var n=sr().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var EO=function(){return Bn(function e(){Vn(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){Hl()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){Hl()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){Hl()}},{key:"sendMessageToDailyJs",value:function(e,t){Hl()}},{key:"removeListener",value:function(e){Hl()}}])}();function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(r){Wr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jO=function(){return!!e})()}var uH=function(){function e(){var t,n,r,s;return Vn(this,e),n=this,r=Mr(r=e),(t=cp(n,jO()?Reflect.construct(r,[],Mr(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return up(e,EO),Bn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var a=Gm({},o.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var c=a.callbackStamp;s._messageCallbacks[c].call(r,a),delete s._messageCallbacks[c]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==qm||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var a=i.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=Gm({},t);if(i.what=qm,i.from="module",i.callClientId=r,n){var o=dp();this._messageCallbacks[o]=n,i.callbackStamp=o}var a=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&a.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=qm,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=Gm({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}var dH=function(){function e(){var t,n,r,s;return Vn(this,e),n=this,r=Mr(r=e),t=cp(n,CO()?Reflect.construct(r,[],Mr(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Xv.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Xv.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return up(e,EO),Bn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,a=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(s,c),delete o._messageCallbacks[u]}t.call(s,c)}};this._wrappedListeners[t]=a,n.addListener("message",a)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?jk(Object(d),!0).forEach(function(h){Wr(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):jk(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(o.callClientId=r,s){var a=dp();this._messageCallbacks[a]=s,o.callbackStamp=a}n.emit("message",o)}}])}(),ky="replace",Ey="shallow-merge",Ck=[ky,Ey],hH=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?ky:r;Vn(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return Bn(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===Ey}},{key:"_validateMergeStrategy",value:function(t){if(!Ck.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Ck,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Pe(a)!=="object")return!1;var c=Object.getPrototypeOf(a);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===ky){var s=JSON.parse(r);ln(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===Ey){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));ln(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>wk)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(wk,"."))}}])}();function TO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!e})()}function jy(e){var t=typeof Map=="function"?new Map:void 0;return jy=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if(TO())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,i);var c=new(s.bind.apply(s,a));return o&&ru(c,o.prototype),c}(n,arguments,Mr(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ru(r,n)},jy(e)}function NO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!e})()}function Tk(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var fH=function(){return Bn(function e(t){Vn(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new pH(n,function(){r(!1)},function(i,o){o||Tk(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),Tk(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),pH=function(){return Bn(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Vn(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new Nk(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new Nk(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),Km=function(){function e(){return Vn(this,e),t=this,r=arguments,n=Mr(n=e),cp(t,NO()?Reflect.construct(n,r||[],Mr(t).constructor):n.apply(t,r));var t,n,r}return up(e,jy(Error)),Bn(e)}(),ff=2e4,Nk=function(){return Bn(function t(n,r,s){Vn(this,t),this._loadAttemptImpl=Ce()||!n.avoidEval?new mH(n,r,s):new gH(n,r,s)},[{key:"start",value:(e=ye(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),mH=function(){return Bn(function s(i,o,a){Vn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=a},[{key:"start",value:(r=ye(function*(){var s=sf(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=ye(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=ye(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(ff," ms) when loading call object bundle ").concat(s),type:"timeout"})},ff);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},a=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Km;var c=yield this._getBundleCodeFromResponse(s,a);if(this.cancelled)throw new Km;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,a.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof Km||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=ye(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),gH=function(){return Bn(function e(t,n,r){Vn(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=dp(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=sf(this._dailyConfig);(typeof document>"u"?"undefined":Pe(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(ff," ms) when loading call object bundle ").concat(e),type:"timeout"})},ff);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Ed=function(e,t,n){return yH(e.local,t,n)===!0},vH=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},_a=function(e,t,n,r){var s=wH(e,t,n,r);return s&&s.pendingTrack},yH=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},wH=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},xH=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function Ak(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,a=["video","audio"];o<a.length;o++){var c=a[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?vH(n,i,c):_a(n,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function Pk(e,t){try{var n=t.getState();for(var r in e.tracks)if(!bH(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?xH(n,r):_a(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function bH(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function Rk(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Ed(r,e.session_id,"cam-audio")){var o=_a(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Ed(r,e.session_id,"cam-video")){var a=_a(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&Ed(r,e.session_id,"screen-audio")){var c=_a(r,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Ed(r,e.session_id,"screen-video")){var u=_a(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function SH(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return Ok(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Ok(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){a=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ur=new Map,Ma=null;function _H(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return Ik(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Ik(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){a=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function Ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Vr=new Map,bc=null;function kH(e){AO()?function(t){Ur.has(t)||(Ur.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Ur.has(t)&&(Ur.get(t).lastDevicesString=JSON.stringify(n),Ma||(Ma=function(){var r=ye(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=SH(Ur.keys());try{for(o.s();!(s=o.n()).done;){var a=s.value,c=JSON.stringify(i);c!==Ur.get(a).lastDevicesString&&(Ur.get(a).lastDevicesString=c,a(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Ma)))}).catch(function(){}))}(e):function(t){Vr.has(t)||(Vr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Vr.has(t)&&(Vr.get(t).lastDevicesString=JSON.stringify(n),bc||(bc=setInterval(ye(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=_H(Vr.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=JSON.stringify(s);a!==Vr.get(o).lastDevicesString&&(Vr.get(o).lastDevicesString=a,o(s))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function EH(e){AO()?function(t){Ur.has(t)&&(Ur.delete(t),Ur.size===0&&Ma&&(navigator.mediaDevices.removeEventListener("devicechange",Ma),Ma=null))}(e):function(t){Vr.has(t)&&(Vr.delete(t),Vr.size===0&&bc&&(clearInterval(bc),bc=null))}(e)}function AO(){var e;return Ce()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var jH=new Set;function CH(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!jH.has(n.id)}(e)}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(r){Wr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rc=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),TH=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Sc=Object.values(rc),Dk=["v","a","sv","sa","cv","ca"];Object.freeze(Sc.reduce(function(e,t,n){return e[t]=Dk[n],e},{})),Object.freeze(Dk.reduce(function(e,t,n){return e[t]=Sc[n],e},{}));var NH=[rc.VIDEO,rc.AUDIO,rc.SCREEN_VIDEO,rc.SCREEN_AUDIO],Lk=Object.values(TH),$k=["p","s","t"];Object.freeze(Lk.reduce(function(e,t,n){return e[t]=$k[n],e},{})),Object.freeze($k.reduce(function(e,t,n){return e[t]=Lk[n],e},{}));var PO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;Vn(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return Bn(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof Mt?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Mt?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Mt?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof Mt&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Mt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Mt?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof Mt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Qt(t,2),r=n[0],s=n[1];return[r,s instanceof Mt?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Qt(t,2),r=n[0],s=n[1];return[r,s instanceof Mt?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:Mt.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:Mt.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var a in s={},t.byParticipantId){var c=t.byParticipantId[a];s[a]=typeof c=="boolean"?c:Mt.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:Mt.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:Mt.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var a in s={},t.p){var c=t.p[a];s[a]=typeof c=="boolean"?c:Mt.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Pe(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Qt(Mt.validateJSONObject(t.base,!0),2),a=o[0],c=o[1];if(!a)return[!1,c]}else{if(Pe(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=Qt(Mt.validateJSONObject(h),2),p=f[0],x=f[1];if(!p)return[!1,x]}}}return[!0]}}])}(),Mt=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,a=t.customAudio;Vn(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=a}return Bn(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Bs({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Bs({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Bs({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Bs({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Bs({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Bs({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Bs({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Bs({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Pe(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!Sc.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(NH.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Pe(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var a=0,c=Object.values(t[o]);a<c.length;a++)if(typeof c[a]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Sc.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Sc.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),AH=["result"],PH=["preserveIframe"];function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(r){Wr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function Uk(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return Vk(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?Vk(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){a=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gi={},Bk="video",RH="voice",zk=Ce()?{data:{}}:{data:{},topology:"none"},qk={present:0,hidden:0},OO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Jm=Object.keys(OO),Wk=["state","volume","simulcastEncodings"],Hk={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},pf={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Cy={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Ki={customIntegrations:{validate:VO,help:FO()},customTrayButtons:{validate:UO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(pf))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return BO(e,Hk)},help:"reactNativeConfig should look like ".concat(JSON.stringify(Hk),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return IO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:xs};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:xs};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Pe(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return MO(e,{allowAllParticipantsKey:!1})},help:$O({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!DO(e)&&(t._inputSettings||(t._inputSettings={}),LO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:Ty()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},jd={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Ce()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in i)if(a==="custom"){if(!n.includes(i[a])&&!s(i[a],!0))return!1}else{var c=!o&&!r.includes(a),u=!n.includes(i[a]);if(c||u)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Ce()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Qt(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=Uk(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!a.includes(u))return!1}}catch(y){c.e(y)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Qt(PO.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var p,x=["participants","streaming","transcription"],m=Uk(i);try{for(m.s();!(p=m.n()).done;){var b=p.value;if(!x.includes(b))return!1}}catch(y){m.e(y)}finally{m.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=ye(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var OH=function(){function e(v){var E,k,A,N,M,U,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Vn(this,e),A=this,N=Mr(N=e),Wr(k=cp(A,RO()?Reflect.construct(N,[],Mr(A).constructor):N.apply(A,M)),"startListeningForDeviceChanges",function(){kH(k.handleDeviceChange)}),Wr(k,"stopListeningForDeviceChanges",function(){EH(k.handleDeviceChange)}),Wr(k,"handleDeviceChange",function(X){X=X.map(function(de){return JSON.parse(JSON.stringify(de))}),k.emitDailyJSEvent({action:"available-devices-updated",availableDevices:X})}),Wr(k,"handleNativeAppStateChange",function(){var X=ye(function*(de){if(de==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield k.destroy());var Me=de==="active";k.disableReactNativeAutoDeviceManagement("video")||(Me?k.camUnmutedBeforeLosingNativeActiveState&&k.setLocalVideo(!0):(k.camUnmutedBeforeLosingNativeActiveState=k.localVideo(),k.camUnmutedBeforeLosingNativeActiveState&&k.setLocalVideo(!1)))});return function(de){return X.apply(this,arguments)}}()),Wr(k,"handleNativeAudioFocusChange",function(X){k.disableReactNativeAutoDeviceManagement("audio")||(k._hasNativeAudioFocus=X,k.toggleParticipantAudioBasedOnNativeAudioFocus(),k._hasNativeAudioFocus?k.micUnmutedBeforeLosingNativeAudioFocus&&k.setLocalAudio(!0):(k.micUnmutedBeforeLosingNativeAudioFocus=k.localAudio(),k.setLocalAudio(!1)))}),Wr(k,"handleNativeSystemScreenCaptureStop",function(){k.stopScreenShare()}),!Hm()&&!Ce())throw new Error("WebRTC not supported or suppressed");if(k.strictMode=F.strictMode===void 0||F.strictMode,k.allowMultipleCallInstances=(E=F.allowMultipleCallInstances)!==null&&E!==void 0&&E,Object.keys(Gi).length&&(k._logDuplicateInstanceAttempt(),!k.allowMultipleCallInstances)){if(k.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),k.callClientId=dp(),Gi[(U=k).callClientId]=U,window._daily.instances[k.callClientId]={},k._sharedTracks={},window._daily.instances[k.callClientId].tracks=k._sharedTracks,F.dailyJsVersion=e.version(),k._iframe=v,k._callObjectMode=F.layout==="none"&&!k._iframe,k._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},F.showLocalVideo!==void 0?k._callObjectMode?console.error("showLocalVideo is not available in call object mode"):k._showLocalVideo=!!F.showLocalVideo:k._showLocalVideo=!0,F.showParticipantsBar!==void 0?k._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):k._showParticipantsBar=!!F.showParticipantsBar:k._showParticipantsBar=!0,F.customIntegrations!==void 0?k._callObjectMode?console.error("customIntegrations is not available in call object mode"):k._customIntegrations=F.customIntegrations:k._customIntegrations={},F.customTrayButtons!==void 0?k._callObjectMode?console.error("customTrayButtons is not available in call object mode"):k._customTrayButtons=F.customTrayButtons:k._customTrayButtons={},F.activeSpeakerMode!==void 0?k._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):k._activeSpeakerMode=!!F.activeSpeakerMode:k._activeSpeakerMode=!1,F.receiveSettings?k._callObjectMode?k._receiveSettings=F.receiveSettings:console.error("receiveSettings is only available in call object mode"):k._receiveSettings={},k.validateProperties(F),k.properties=he({},F),k._inputSettings||(k._inputSettings={}),k._callObjectLoader=k._callObjectMode?new fH(k.callClientId):null,k._callState=py,k._isPreparingToJoin=!1,k._accessState={access:ah},k._meetingSessionSummary={},k._finalSummaryOfPrevSession={},k._meetingSessionState=Xm(zk,k._callObjectMode),k._nativeInCallAudioMode=Bk,k._participants={},k._isScreenSharing=!1,k._participantCounts=qk,k._rmpPlayerState={},k._waitingParticipants={},k._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},k._activeSpeaker={},k._localAudioLevel=0,k._isLocalAudioLevelObserverRunning=!1,k._remoteParticipantsAudioLevel={},k._isRemoteParticipantsAudioLevelObserverRunning=!1,k._maxAppMessageSize=zm,k._messageChannel=Ce()?new dH:new uH,k._iframe&&(k._iframe.requestFullscreen?k._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===k._iframe?(k.emitDailyJSEvent({action:tc}),k.sendMessageToCallMachine({action:tc})):(k.emitDailyJSEvent({action:nc}),k.sendMessageToCallMachine({action:nc}))}):k._iframe.webkitRequestFullscreen&&k._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===k._iframe?(k.emitDailyJSEvent({action:tc}),k.sendMessageToCallMachine({action:tc})):(k.emitDailyJSEvent({action:nc}),k.sendMessageToCallMachine({action:nc}))})),Ce()){var W=k.nativeUtils();W.addAudioFocusChangeListener&&W.removeAudioFocusChangeListener&&W.addAppStateChangeListener&&W.removeAppStateChangeListener&&W.addSystemScreenCaptureStopListener&&W.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),k._hasNativeAudioFocus=!0,W.addAudioFocusChangeListener(k.handleNativeAudioFocusChange),W.addAppStateChangeListener(k.handleNativeAppStateChange),W.addSystemScreenCaptureStopListener(k.handleNativeSystemScreenCaptureStop)}return k._callObjectMode&&k.startListeningForDeviceChanges(),k._messageChannel.addListenerForMessagesFromCallMachine(k.handleMessageFromCallMachine,k.callClientId,k),k}return up(e,gd),Bn(e,[{key:"destroy",value:(ne=ye(function*(){var v;try{yield this.leave()}catch{}var E=this._iframe;if(E){var k=E.parentElement;k&&k.removeChild(E)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Ce()){var A=this.nativeUtils();A.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),A.removeAppStateChangeListener(this.handleNativeAppStateChange),A.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Gi[this.callClientId],!((v=window)===null||v===void 0||(v=v._daily)===null||v===void 0)&&v.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return ne.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(v){var E=v.bodyClass,k=v.cssFile,A=v.cssText;return je(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(k),bodyClass:E,cssText:A}),this}},{key:"iframe",value:function(){return je(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return fr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return fr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(v,E){for(var k in E){if(!jd[k])throw new Error("unrecognized updateParticipant property ".concat(k));if(jd[k].validate&&!jd[k].validate(E[k],this,this._participants[v]))throw new Error(jd[k].help)}}},{key:"updateParticipant",value:function(v,E){return this._participants.local&&this._participants.local.session_id===v&&(v="local"),v&&E&&(this.validateParticipantProperties(v,E),this.sendMessageToCallMachine({action:"update-participant",id:v,properties:E})),this}},{key:"updateParticipants",value:function(v){var E=this._participants.local&&this._participants.local.session_id;for(var k in v)k===E&&(k="local"),k&&v[k]&&this.validateParticipantProperties(k,v[k]);return this.sendMessageToCallMachine({action:"update-participants",participants:v}),this}},{key:"updateWaitingParticipant",value:(te=ye(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fr(this._callObjectMode,"updateWaitingParticipant()"),Ve(this._callState,"updateWaitingParticipant()"),typeof E!="string"||Pe(k)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(A,N){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:E,updates:k},function(M){M.error&&N(M.error),M.id||N(new Error("unknown error in updateWaitingParticipant()")),A({id:M.id})})})}),function(){return te.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(B=ye(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fr(this._callObjectMode,"updateWaitingParticipants()"),Ve(this._callState,"updateWaitingParticipants()"),Pe(E)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(k,A){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:E},function(N){N.error&&A(N.error),N.ids||A(new Error("unknown error in updateWaitingParticipants()")),k({ids:N.ids})})})}),function(){return B.apply(this,arguments)})},{key:"requestAccess",value:($=ye(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=E.access,A=k===void 0?{level:wR}:k,N=E.name,M=N===void 0?"":N;return fr(this._callObjectMode,"requestAccess()"),Ve(this._callState,"requestAccess()"),new Promise(function(U,F){v.sendMessageToCallMachine({action:"daily-method-request-access",access:A,name:M},function(W){W.error&&F(W.error),W.access||F(new Error("unknown error in requestAccess()")),U({access:W.access,granted:W.granted})})})}),function(){return $.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in E&&(Ce()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),E={}):v&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),E={})),this.sendMessageToCallMachine({action:"local-audio",state:v,options:E}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(v){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:v}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(v){return this.sendMessageToCallMachine({action:"local-video",state:v}),this}},{key:"_setAllowLocalAudio",value:function(v){if(this._preloadCache.allowLocalAudio=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:v}),this}},{key:"_setAllowLocalVideo",value:function(v){if(this._preloadCache.allowLocalVideo=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:v}),this}},{key:"getReceiveSettings",value:(L=ye(function*(v){var E=this,k=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,A=k!==void 0&&k;if(fr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Pe(v)){case"string":return new Promise(function(N){E.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:v,showInheritedValues:A},function(M){N(M.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(v){return L.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Y=ye(function*(v){var E=this;if(fr(this._callObjectMode,"updateReceiveSettings()"),!MO(v,{allowAllParticipantsKey:!0}))throw new Error($O({allowAllParticipantsKey:!0}));return Ve(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(k){E.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:v},function(A){k({receiveSettings:A.receiveSettings})})})}),function(v){return Y.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(v,E){if(v){var k={};if(v.audio){var A,N,M;v.audio.settings&&(!Object.keys(v.audio.settings).length&&E||(k.audio={settings:he({},v.audio.settings)})),E&&(A=k.audio)!==null&&A!==void 0&&(A=A.settings)!==null&&A!==void 0&&A.customTrack&&(k.audio.settings={customTrack:this._sharedTracks.audioTrack});var U=((N=v.audio.processor)===null||N===void 0?void 0:N.type)==="none"&&((M=v.audio.processor)===null||M===void 0?void 0:M._isDefaultWhenNone);if(v.audio.processor&&!U){var F=he({},v.audio.processor);delete F._isDefaultWhenNone,k.audio=he(he({},k.audio),{},{processor:F})}}if(v.video){var W,X,de;v.video.settings&&(!Object.keys(v.video.settings).length&&E||(k.video={settings:he({},v.video.settings)})),E&&(W=k.video)!==null&&W!==void 0&&(W=W.settings)!==null&&W!==void 0&&W.customTrack&&(k.video.settings={customTrack:this._sharedTracks.videoTrack});var Me=((X=v.video.processor)===null||X===void 0?void 0:X.type)==="none"&&((de=v.video.processor)===null||de===void 0?void 0:de._isDefaultWhenNone);if(v.video.processor&&!Me){var wt=he({},v.video.processor);delete wt._isDefaultWhenNone,k.video=he(he({},k.video),{},{processor:wt})}}return k}}},{key:"getInputSettings",value:function(){var v=this;return je(),new Promise(function(E){E(v._getInputSettings())})}},{key:"_getInputSettings",value:function(){var v,E,k,A,N,M,U={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(v=((k=this._inputSettings)===null||k===void 0?void 0:k.video)||U,E=((A=this._inputSettings)===null||A===void 0?void 0:A.audio)||U):(v=((N=this._preloadCache)===null||N===void 0||(N=N.inputSettings)===null||N===void 0?void 0:N.video)||U,E=((M=this._preloadCache)===null||M===void 0||(M=M.inputSettings)===null||M===void 0?void 0:M.audio)||U);var F={audio:E,video:v};return this._prepInputSettingsForSharing(F,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(v,E){var k=this._inputSettings||{},A={};if(v.video){var N,M,U;A.video={},v.video.settings?(A.video.settings={},E||v.video.settings.customTrack||(U=k.video)===null||U===void 0||!U.settings?A.video.settings=v.video.settings:A.video.settings=he(he({},k.video.settings),v.video.settings),Object.keys(A.video.settings).length||delete A.video.settings):(N=k.video)!==null&&N!==void 0&&N.settings&&(A.video.settings=k.video.settings),v.video.processor?A.video.processor=v.video.processor:(M=k.video)!==null&&M!==void 0&&M.processor&&(A.video.processor=k.video.processor)}else k.video&&(A.video=k.video);if(v.audio){var F,W,X;A.audio={},v.audio.settings?(A.audio.settings={},E||v.audio.settings.customTrack||(X=k.audio)===null||X===void 0||!X.settings?A.audio.settings=v.audio.settings:A.audio.settings=he(he({},k.audio.settings),v.audio.settings),Object.keys(A.audio.settings).length||delete A.audio.settings):(F=k.audio)!==null&&F!==void 0&&F.settings&&(A.audio.settings=k.audio.settings),v.audio.processor?A.audio.processor=v.audio.processor:(W=k.audio)!==null&&W!==void 0&&W.processor&&(A.audio.processor=k.audio.processor)}else k.audio&&(A.audio=k.audio);this._maybeUpdateInputSettings(A)}},{key:"_devicesFromInputSettings",value:function(v){var E,k,A=(v==null||(E=v.video)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,N=(v==null||(k=v.audio)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,M=this._preloadCache.outputDeviceId||null;return{camera:A?{deviceId:A}:{},mic:N?{deviceId:N}:{},speaker:M?{deviceId:M}:{}}}},{key:"updateInputSettings",value:(J=ye(function*(v){var E=this;return je(),DO(v)?v.video||v.audio?(LO(v,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(v,!0),this._getInputSettings()):new Promise(function(k,A){E.sendMessageToCallMachine({action:"update-input-settings",inputSettings:v},function(N){if(N.error)A(N.error);else{if(N.returnPreloadCache)return E._updatePreloadCacheInputSettings(v,!0),void k(E._getInputSettings());E._maybeUpdateInputSettings(N.inputSettings),k(E._prepInputSettingsForSharing(N.inputSettings,!0))}})})):this._getInputSettings():(console.error(Ty()),Promise.reject(Ty()))}),function(v){return J.apply(this,arguments)})},{key:"setBandwidth",value:function(v){var E=v.kbs,k=v.trackConstraints;if(je(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:E,trackConstraints:k}),this}},{key:"getDailyLang",value:function(){var v=this;if(je(),this._callMachineInitialized)return new Promise(function(E){v.sendMessageToCallMachine({action:"get-daily-lang"},function(k){delete k.action,delete k.callbackStamp,E(k)})})}},{key:"setDailyLang",value:function(v){return je(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:v}),this}},{key:"setProxyUrl",value:function(v){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:v}),this}},{key:"setIceConfig",value:function(v){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:v}),this}},{key:"meetingSessionSummary",value:function(){return[Hs,us].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Q=ye(function*(){var v=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ve(this._callState,"getMeetingSession()"),new Promise(function(E){v.sendMessageToCallMachine({action:"get-meeting-session"},function(k){delete k.action,delete k.callbackStamp,E(k)})})}),function(){return Q.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ve(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";fr(this._callObjectMode,"setMeetingSessionData()"),Ve(this._callState,"setMeetingSessionData");try{(function(k,A){new hH({data:k,mergeStrategy:A})})(v,E)}catch(k){throw console.error(k),k}try{this.sendMessageToCallMachine({action:"set-session-data",data:v,mergeStrategy:E})}catch(k){throw new Error("Error setting meeting session data: ".concat(k))}}},{key:"setUserName",value:function(v,E){var k=this;return this.properties.userName=v,new Promise(function(A){k.sendMessageToCallMachine({action:"set-user-name",name:v??"",thisMeetingOnly:Ce()||!!E&&!!E.thisMeetingOnly},function(N){delete N.action,delete N.callbackStamp,A(N)})})}},{key:"setUserData",value:(V=ye(function*(v){var E=this;try{IO(v)}catch(k){throw console.error(k),k}if(this.properties.userData=v,this._callMachineInitialized)return new Promise(function(k){try{E.sendMessageToCallMachine({action:"set-user-data",userData:v},function(A){delete A.action,delete A.callbackStamp,k(A)})}catch(A){throw new Error("Error setting user data: ".concat(A))}})}),function(v){return V.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(v){if(v&&(v<100||typeof v!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(v){var E=this;if(typeof AudioWorkletNode>"u"&&!Ce())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(k,A){E.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:v},function(N){E._isLocalAudioLevelObserverRunning=!N.error,N.error?A({error:N.error}):k()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:v}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(v){var E=this;if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(k,A){E.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:v},function(N){E._isRemoteParticipantsAudioLevelObserverRunning=!N.error,N.error?A({error:N.error}):k()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:v}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(H=ye(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fr(this._callObjectMode,"startCamera()"),Ym(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(E)}catch(k){return Promise.reject(k)}else{if(this._didPreAuth){if(E.url&&E.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(E.token&&E.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(E),this.properties=he(he({},this.properties),E)}return new Promise(function(k){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"start-camera",properties:Go(v.properties,v.callClientId),preloadCache:Go(v._preloadCache,v.callClientId)},function(A){k({camera:A.camera,mic:A.mic,speaker:A.speaker})})})}),function(){return H.apply(this,arguments)})},{key:"validateCustomTrack",value:function(v,E,k){if(k&&k.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(E&&E!=="music"&&E!=="speech"&&!(E instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(k&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(k))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(v instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return je(),Ve(this._callState,"startCustomTrack()"),this.validateCustomTrack(E.track,E.mode,E.trackName),new Promise(function(k,A){v._sharedTracks.customTrack=E.track,E.track=xs,v.sendMessageToCallMachine({action:"start-custom-track",properties:E},function(N){N.error?A({error:N.error}):k(N.mediaTag)})})}},{key:"stopCustomTrack",value:function(v){var E=this;return je(),Ve(this._callState,"stopCustomTrack()"),new Promise(function(k){E.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:v},function(A){k(A.mediaTag)})})}},{key:"setCamera",value:function(v){var E=this;return Gl(),Cd(this._callMachineInitialized,"setCamera()"),new Promise(function(k){E.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:v},function(A){k({device:A.device})})})}},{key:"setAudioDevice",value:(D=ye(function*(v){return Gl(),this.nativeUtils().setAudioDevice(v),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(v){return D.apply(this,arguments)})},{key:"cycleCamera",value:function(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(k){v.sendMessageToCallMachine({action:"cycle-camera",properties:E},function(A){k({device:A.device})})})}},{key:"cycleMic",value:function(){var v=this;return je(),new Promise(function(E){v.sendMessageToCallMachine({action:"cycle-mic"},function(k){E({device:k.device})})})}},{key:"getCameraFacingMode",value:function(){var v=this;return Gl(),new Promise(function(E){v.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(k){E(k.facingMode)})})}},{key:"setInputDevicesAsync",value:(R=ye(function*(v){var E=this,k=v.audioDeviceId,A=v.videoDeviceId,N=v.audioSource,M=v.videoSource;if(je(),N!==void 0&&(k=N),M!==void 0&&(A=M),typeof k=="boolean"&&(this._setAllowLocalAudio(k),k=void 0),typeof A=="boolean"&&(this._setAllowLocalVideo(A),A=void 0),!k&&!A)return yield this.getInputDevices();var U={};return k&&(k instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=k,k=xs,U.audio={settings:{customTrack:k}}):(delete this._sharedTracks.audioTrack,U.audio={settings:{deviceId:k}})),A&&(A instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=A,A=xs,U.video={settings:{customTrack:A}}):(delete this._sharedTracks.videoTrack,U.video={settings:{deviceId:A}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(U,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(F){E.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:k,videoDeviceId:A},function(W){if(delete W.action,delete W.callbackStamp,W.returnPreloadCache)return E._updatePreloadCacheInputSettings(U,!1),void F(E._devicesFromInputSettings(E._inputSettings));F(W)})})}),function(v){return R.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(I=ye(function*(v){var E=this,k=v.outputDeviceId;if(je(),!k||typeof k!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=k,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(A,N){E.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:k},function(M){if(delete M.action,delete M.callbackStamp,M.error){var U=new Error(M.error.message);return U.type=M.error.type,void N(U)}M.returnPreloadCache?A(E._devicesFromInputSettings(E._inputSettings)):A(M)})})}),function(v){return I.apply(this,arguments)})},{key:"getInputDevices",value:(O=ye(function*(){var v=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(E){v.sendMessageToCallMachine({action:"get-input-devices"},function(k){k.returnPreloadCache?E(v._devicesFromInputSettings(v._inputSettings)):E({camera:k.camera,mic:k.mic,speaker:k.speaker})})})}),function(){return O.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Gl(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(v){if(Gl(),[Bk,RH].includes(v)){if(v!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=v,!this.disableReactNativeAutoDeviceManagement("audio")&&ch(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",v)}},{key:"preAuth",value:(P=ye(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(fr(this._callObjectMode,"preAuth()"),Ym(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(E)),!E.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(E),this.properties=he(he({},this.properties),E),new Promise(function(k,A){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"daily-method-preauth",properties:Go(v.properties,v.callClientId),preloadCache:Go(v._preloadCache,v.callClientId)},function(N){return N.error?A(N.error):N.access?(v._didPreAuth=!0,void k({access:N.access})):A(new Error("unknown error in preAuth()"))})})}),function(){return P.apply(this,arguments)})},{key:"load",value:(T=ye(function*(v){var E=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(v&&(this.validateProperties(v),this.properties=he(he({},this.properties),v)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(vk),this.emitDailyJSEvent({action:jR}),this._callObjectMode?new Promise(function(k,A){E._callObjectLoader.cancel();var N=Date.now();E._callObjectLoader.load(E.properties.dailyConfig,function(M){E._bundleLoadTime=M?"no-op":Date.now()-N,E._updateCallState(yk),M&&E.emitDailyJSEvent({action:gy}),k()},function(M,U){if(E.emitDailyJSEvent({action:CR}),!U){E._updateCallState(us),E.resetMeetingDependentVars();var F={action:by,errorMsg:M.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:M,bundleUrl:sf(E.properties.dailyConfig)}}};E._maybeSendToSentry(F),E.emitDailyJSEvent(F),A(M.msg)}})}):(this._iframe.src=nR(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(k,A){E._loadedCallback=function(N){E._callState!==us?(E._updateCallState(yk),(E.properties.cssFile||E.properties.cssText)&&E.loadCss(E.properties),k()):A(N)}}))}}),function(v){return T.apply(this,arguments)})},{key:"join",value:(C=ye(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var k=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(E)}catch(A){return this.updateIsPreparingToJoin(!1),Promise.reject(A)}}else{if(k=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(E.url&&E.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(E.token&&E.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(E.url&&!this._callObjectMode&&E.url&&E.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(E.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(E),this.properties=he(he({},this.properties),E)}return E.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!E.showLocalVideo),E.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!E.showParticipantsBar),this._callState===ei||this._callState===df?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(df,!1),this.emitDailyJSEvent({action:AR}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Go(this.properties,this.callClientId),preloadCache:Go(this._preloadCache,this.callClientId)}),new Promise(function(A,N){v._joinedCallback=function(M,U){if(v._callState!==us){if(v._updateCallState(ei),M)for(var F in M){if(v._callObjectMode){var W=v._callMachine().store;Ak(M[F],W),Pk(M[F],W),Rk(M[F],v._participants[F],W)}v._participants[F]=he({},M[F]),v.toggleParticipantAudioBasedOnNativeAudioFocus()}k&&v.loadCss(v.properties),A(M)}else N(U)}}))}),function(){return C.apply(this,arguments)})},{key:"leave",value:(j=ye(function*(){var v=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(E){v._callState===Hs||v._callState===us?E():v._callObjectLoader&&!v._callObjectLoader.loaded?(v._callObjectLoader.cancel(),v._updateCallState(Hs),v.resetMeetingDependentVars(),v.emitDailyJSEvent({action:Hs}),E()):(v._resolveLeave=E,v.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return j.apply(this,arguments)})},{key:"startScreenShare",value:(_=ye(function*(){var v=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Cd(this._callMachineInitialized,"startScreenShare()"),E.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",E.screenVideoSendSettings),E.mediaStream&&(this._sharedTracks.screenMediaStream=E.mediaStream,E.mediaStream=xs),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var k=this.nativeUtils();if(yield k.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:xy,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});k.setSystemScreenCaptureStartCallback(function(){k.setSystemScreenCaptureStartCallback(null),v.sendMessageToCallMachine({action:xk,captureOptions:E})}),k.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:xk,captureOptions:E})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Cd(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=v.type;if(E&&E!=="cloud"&&E!=="raw-tracks"&&E!=="local")throw new Error("invalid type: ".concat(E,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(he({action:"local-recording-start"},v))}},{key:"updateRecording",value:function(v){var E=v.layout,k=E===void 0?{preset:"default"}:E,A=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:k,instanceId:A})}},{key:"stopRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(he({action:"local-recording-stop"},v))}},{key:"startLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(he({action:"daily-method-start-live-streaming"},v))}},{key:"updateLiveStreaming",value:function(v){var E=v.layout,k=E===void 0?{preset:"default"}:E,A=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:k,instanceId:A})}},{key:"addLiveStreamingEndpoints",value:function(v){var E=v.endpoints,k=v.instanceId;this.sendMessageToCallMachine({action:bk,endpointsOp:sH,endpoints:E,instanceId:k})}},{key:"removeLiveStreamingEndpoints",value:function(v){var E=v.endpoints,k=v.instanceId;this.sendMessageToCallMachine({action:bk,endpointsOp:iH,endpoints:E,instanceId:k})}},{key:"stopLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(he({action:"daily-method-stop-live-streaming"},v))}},{key:"validateDailyConfig",value:function(v){v.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(v.camSimulcastEncodings)),v.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),SO()&&v.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(v){if(!(v instanceof Array||Array.isArray(v)))throw new Error("encodings must be an Array");if(!Qk(v.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var A=0;A<v.length;A++){var N=v[A];for(var M in this._validateEncodingLayerHasValidProperties(N),N)if(Jm.includes(M)){if(typeof N[M]!="number")throw new Error("".concat(M," must be a number"));if(E){var U=E[M],F=U.min,W=U.max;if(!Qk(N[M],F,W))throw new Error("".concat(M," value not in range. valid range: ").concat(F," to ").concat(W))}}else if(!["active","scalabilityMode"].includes(M))throw new Error("Invalid key ".concat(M,", valid keys are:")+Object.values(Jm));if(k&&!N.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=ye(function*(v){var E=this,k=v.url,A=v.settings,N=A===void 0?{state:Sy.PLAY}:A;try{(function(M){if(typeof M!="string")throw new Error('url parameter must be "string" type')})(k),Yk(N),function(M){for(var U in M)if(!Wk.includes(U))throw new Error("Invalid key ".concat(U,", valid keys are: ").concat(Wk));M.simulcastEncodings&&this.validateSimulcastEncodings(M.simulcastEncodings,OO,!0)}(N)}catch(M){throw console.error("invalid argument Error: ".concat(M)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),M}return new Promise(function(M,U){E.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:k,settings:N},function(F){F.error?U({error:F.error,errorMsg:F.errorMsg}):M({session_id:F.session_id,remoteMediaPlayerState:{state:F.state,settings:F.settings}})})})}),function(v){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=ye(function*(v){var E=this;if(typeof v!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(k,A){E.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:v},function(N){N.error?A({error:N.error,errorMsg:N.errorMsg}):k()})})}),function(v){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=ye(function*(v){var E=this,k=v.session_id,A=v.settings;try{Yk(A)}catch(N){throw console.error("invalid argument Error: ".concat(N)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),N}return new Promise(function(N,M){E.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:k,settings:A},function(U){U.error?M({error:U.error,errorMsg:U.errorMsg}):N({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(v){return y.apply(this,arguments)})},{key:"startTranscription",value:function(v){Ve(this._callState,"startTranscription()"),this.sendMessageToCallMachine(he({action:"daily-method-start-transcription"},v))}},{key:"updateTranscription",value:function(v){if(Ve(this._callState,"updateTranscription()"),!v)throw new Error("updateTranscription Error: options is mandatory");if(Pe(v)!=="object")throw new Error("updateTranscription Error: options must be object type");if(v.participants&&!Array.isArray(v.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(he({action:"daily-method-update-transcription"},v))}},{key:"stopTranscription",value:function(v){if(Ve(this._callState,"stopTranscription()"),v&&Pe(v)!=="object")throw new Error("stopTranscription Error: options must be object type");if(v&&!v.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(he({action:"daily-method-stop-transcription"},v))}},{key:"startDialOut",value:(b=ye(function*(v){var E=this;Ve(this._callState,"startDialOut()");var k=function(U){if(U){if(!Array.isArray(U))throw new Error("Error starting dial out: audio codec must be an array");if(U.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");U.forEach(function(F){if(typeof F!="string")throw new Error("Error starting dial out: audio codec must be a string");if(F!=="OPUS"&&F!=="PCMU"&&F!=="PCMA"&&F!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!v.sipUri&&!v.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(v.sipUri&&v.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(v.sipUri){if(typeof v.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!v.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(v.video&&typeof v.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(U){if(U&&(k(U.audio),U.video)){if(!Array.isArray(U.video))throw new Error("Error starting dial out: video codec must be an array");if(U.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");U.video.forEach(function(F){if(typeof F!="string")throw new Error("Error starting dial out: video codec must be a string");if(F!=="H264"&&F!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(v.codecs)}if(v.phoneNumber){if(typeof v.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(v.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");v.codecs&&k(v.codecs.audio)}if(v.callerId){if(typeof v.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(v.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(v.displayName){if(typeof v.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(v.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(v.userId){if(typeof v.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(v.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(Gk(v),v.permissions&&v.permissions.canReceive){var A=Qt(PO.validateJSONObject(v.permissions.canReceive),2),N=A[0],M=A[1];if(!N)throw new Error(M)}if(v.provider){if(v.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(v.provider));if(v.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(U,F){E.sendMessageToCallMachine(he({action:"dialout-start"},v),function(W){W.error?F(W.error):U(W)})})}),function(v){return b.apply(this,arguments)})},{key:"stopDialOut",value:function(v){var E=this;return Ve(this._callState,"stopDialOut()"),new Promise(function(k,A){E.sendMessageToCallMachine(he({action:"dialout-stop"},v),function(N){N.error?A(N.error):k(N)})})}},{key:"sipCallTransfer",value:(m=ye(function*(v){var E=this;if(Ve(this._callState,"sipCallTransfer()"),!v)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return v.useSipRefer=!1,Jk(v,"sipCallTransfer"),Gk(v),new Promise(function(k,A){E.sendMessageToCallMachine(he({action:Sk},v),function(N){N.error?A(N.error):k(N)})})}),function(v){return m.apply(this,arguments)})},{key:"sipRefer",value:(x=ye(function*(v){var E=this;if(Ve(this._callState,"sipRefer()"),!v)throw new Error("sessionId and toEndPoint are mandatory parameter");return v.useSipRefer=!0,Jk(v,"sipRefer"),new Promise(function(k,A){E.sendMessageToCallMachine(he({action:Sk},v),function(N){N.error?A(N.error):k(N)})})}),function(v){return x.apply(this,arguments)})},{key:"sendDTMF",value:(p=ye(function*(v){var E=this;return Ve(this._callState,"sendDTMF()"),function(k){var A=k.sessionId,N=k.tones;if(!A||!N)throw new Error("sessionId and tones are mandatory parameter");if(typeof A!="string"||typeof N!="string")throw new Error("sessionId and tones should be of string type");if(N.length>20)throw new Error("tones string must be upto 20 characters");var M=/[^0-9A-D*#]/g,U=N.match(M);if(U&&U[0])throw new Error("".concat(U[0]," is not valid DTMF tone"))}(v),new Promise(function(k,A){E.sendMessageToCallMachine(he({action:"send-dtmf"},v),function(N){N.error?A(N.error):k(N)})})}),function(v){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var v=this;return this._callState!==ei?Promise.resolve(he({stats:{latest:{}}},this._network)):new Promise(function(E){v.sendMessageToCallMachine({action:"get-calc-stats"},function(k){E(he(he({},v._network),{},{stats:k.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=ye(function*(){var v=this;if(Qm(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}return new Promise(function(E,k){v.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(A){A.error?k(A.error):E(A.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(v){return v?v instanceof MediaStreamTrack?!!CH(v)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=ye(function*(){var v=this;je(),fr(this._callObjectMode,"testCallQuality()"),Cd(this._callMachineInitialized,"testCallQuality()",null,!0),Ym(this._callState,this._isPreparingToJoin,"testCallQuality()");var E=this._testCallAlreadyInProgress,k=function(N){E||(v._testCallInProgress=N)};if(k(!0),this.needsLoad())try{var A=this._callState;yield this.load(),this._callState=A}catch(N){return k(!1),Promise.reject(N)}return new Promise(function(N){v.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:v.properties.dailyJsVersion},function(M){var U=M.results,F=U.result,W=h1(U,AH);if(F==="failed"){var X,de=he({},W);(X=W.error)!==null&&X!==void 0&&X.details?(W.error.details=JSON.parse(W.error.details),de.error=he(he({},de.error),{},{details:he({},de.error.details)}),de.error.details.duringTest="testCallQuality"):(de.error=de.error?he({},de.error):{},de.error.details={duringTest:"testCallQuality"}),v._maybeSendToSentry(de)}k(!1),N(he({result:F},W))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=ye(function*(v){var E;Ce()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),E=yield this.testPeerToPeerCallQuality(v)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),E=yield this.testCallQuality());var k={result:E.result,secondsElapsed:E.secondsElapsed};return E.data&&(k.data={maxRTT:E.data.maxRoundTripTime,packetLoss:E.data.avgRecvPacketLoss}),k}),function(v){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=ye(function*(v){var E=this;if(Qm(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(N){return Promise.reject(N)}var k=v.videoTrack,A=v.duration;if(!this._validateVideoTrackForNetworkTests(k))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=k,new Promise(function(N,M){E.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:A},function(U){U.error?M(U.error):N(U.results)})})}),function(v){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Ce()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=ye(function*(v){var E=this;if(Qm(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}if(!this._validateVideoTrackForNetworkTests(v))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=v,new Promise(function(k,A){E.sendMessageToCallMachine({action:"test-network-connectivity"},function(N){N.error?A(N.error):k(N.results)})})}),function(v){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var v=this;return new Promise(function(E){v._callState===ei?v.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(k){E(k.cpuStats)}):E({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(v){var E;if(!(((E=Object.keys(v))===null||E===void 0?void 0:E.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Jm))}},{key:"_validateVideoSendSettings",value:function(v,E){var k=v==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],A="Video send settings should be either an object or one of the supported presets: ".concat(k.join());if(typeof E=="string"){if(!k.includes(E))throw new Error(A)}else{if(Pe(E)!=="object")throw new Error(A);if(!E.maxQuality&&!E.encodings&&E.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(E.maxQuality&&["low","medium","high"].indexOf(E.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(E.encodings){var N=!1;switch(Object.keys(E.encodings).length){case 1:N=!E.encodings.low;break;case 2:N=!E.encodings.low||!E.encodings.medium;break;case 3:N=!E.encodings.low||!E.encodings.medium||!E.encodings.high;break;default:N=!0}if(N)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");E.encodings.low&&this._validateEncodingLayerHasValidProperties(E.encodings.low),E.encodings.medium&&this._validateEncodingLayerHasValidProperties(E.encodings.medium),E.encodings.high&&this._validateEncodingLayerHasValidProperties(E.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(v){var E=this;if(!v||Object.keys(v).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(v).forEach(function(k){var A=Qt(k,2),N=A[0],M=A[1];E._validateVideoSendSettings(N,M)})}},{key:"updateSendSettings",value:function(v){var E=this;return this.validateUpdateSendSettings(v),this.needsLoad()?(this._preloadCache.sendSettings=v,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(k,A){E.sendMessageToCallMachine({action:"update-send-settings",sendSettings:v},function(N){N.error?A(N.error):k(N.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return je(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(v){return je(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:v}),this}},{key:"activeSpeakerMode",value:function(){return je(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(v){return Ve(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=v,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:v}),this}},{key:"enumerateDevices",value:(a=ye(function*(){var v=this;if(this._callObjectMode){var E=yield navigator.mediaDevices.enumerateDevices();return Mo()==="Firefox"&&hf().major>115&&hf().major<123&&(E=E.filter(function(k){return k.kind!=="audiooutput"})),{devices:E.map(function(k){var A=JSON.parse(JSON.stringify(k));if(!Ce()&&k.kind==="videoinput"&&k.getCapabilities){var N,M=k.getCapabilities();A.facing=(M==null||(N=M.facingMode)===null||N===void 0?void 0:N.length)>=1?M.facingMode[0]:void 0}return A})}}return new Promise(function(k){v.sendMessageToCallMachine({action:"enumerate-devices"},function(A){k({devices:A.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ve(this._callState,"sendAppMessage()"),JSON.stringify(v).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:v,to:E}),this}},{key:"addFakeParticipant",value:function(v){return je(),Ve(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(he({action:"add-fake-participant"},v)),this}},{key:"setShowNamesMode",value:function(v){return En(this._callObjectMode,"setShowNamesMode()"),je(),v&&v!=="always"&&v!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:v}),this)}},{key:"setShowLocalVideo",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return En(this._callObjectMode,"setShowLocalVideo()"),je(),Ve(this._callState,"setShowLocalVideo()"),typeof v!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:v}),this._showLocalVideo=v,this)}},{key:"showLocalVideo",value:function(){return En(this._callObjectMode,"showLocalVideo()"),je(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return En(this._callObjectMode,"setShowParticipantsBar()"),je(),Ve(this._callState,"setShowParticipantsBar()"),typeof v!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:v}),this._showParticipantsBar=v,this)}},{key:"showParticipantsBar",value:function(){return En(this._callObjectMode,"showParticipantsBar()"),je(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return je(),En(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(v){return je(),En(this._callObjectMode,"setCustomIntegrations()"),Ve(this._callState,"setCustomIntegrations()"),VO(v)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:v}),this._customIntegrations=v,this):this}},{key:"startCustomIntegrations",value:function(v){var E=this;if(je(),En(this._callObjectMode,"startCustomIntegrations()"),Ve(this._callState,"startCustomIntegrations()"),Array.isArray(v)&&v.some(function(N){return typeof N!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var k=typeof v=="string"?[v]:v,A=k.filter(function(N){return!(N in E._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:k}),this)}},{key:"stopCustomIntegrations",value:function(v){var E=this;if(je(),En(this._callObjectMode,"stopCustomIntegrations()"),Ve(this._callState,"stopCustomIntegrations()"),Array.isArray(v)&&v.some(function(N){return typeof N!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var k=typeof v=="string"?[v]:v,A=k.filter(function(N){return!(N in E._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:k}),this)}},{key:"customTrayButtons",value:function(){return En(this._callObjectMode,"customTrayButtons()"),je(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(v){return En(this._callObjectMode,"updateCustomTrayButtons()"),je(),Ve(this._callState,"updateCustomTrayButtons()"),UO(v)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:v}),this._customTrayButtons=v,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(pf))),this)}},{key:"theme",value:function(){return En(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(v){var E=this;return En(this._callObjectMode,"setTheme()"),new Promise(function(k,A){try{E.validateProperties({theme:v}),E.properties.theme=he({},v),E.sendMessageToCallMachine({action:"set-theme",theme:E.properties.theme});try{E.emitDailyJSEvent({action:ER,theme:E.properties.theme})}catch(N){console.log("could not emit 'theme-updated'",N)}k(E.properties.theme)}catch(N){A(N)}})}},{key:"requestFullscreen",value:(o=ye(function*(){if(je(),this._iframe&&!document.fullscreenElement&&_k())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(v){console.log("could not make video call fullscreen",v)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){je(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=ye(function*(){var v=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(E){v.sendMessageToCallMachine({action:"get-sidebar-view"},function(k){E(k.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(v){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:v}),this)}},{key:"room",value:(s=ye(function*(){var v=this,E=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,k=E===void 0||E;return this._accessState.access===ah||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(A){v.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:k},function(N){delete N.action,delete N.callbackStamp,A(N)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=ye(function*(){try{var v=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield v.json()).geo}}catch(E){return console.error("geo lookup failed",E),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=ye(function*(v){var E=this;return je(),Ve(this._callState,"setNetworkTopology()"),new Promise(function(k,A){E.sendMessageToCallMachine({action:"set-network-topology",opts:v},function(N){N.error?A({error:N.error}):k({workerId:N.workerId})})})}),function(v){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=ye(function*(){var v=this;return new Promise(function(E,k){v.needsLoad()&&E({topology:"none"}),v.sendMessageToCallMachine({action:"get-network-topology"},function(A){A.error?k({error:A.error}):E({topology:A.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(v){if(je(),typeof v!="number"&&v!==!0&&v!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(v));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:v})}},{key:"on",value:function(v,E){return gd.prototype.on.call(this,v,E)}},{key:"once",value:function(v,E){return gd.prototype.once.call(this,v,E)}},{key:"off",value:function(v,E){return gd.prototype.off.call(this,v,E)}},{key:"validateProperties",value:function(v){var E,k;if(v!=null&&(E=v.dailyConfig)!==null&&E!==void 0&&E.userMediaAudioConstraints){var A,N;Ce()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var M=v.inputSettings||{};M.audio=((A=v.inputSettings)===null||A===void 0?void 0:A.audio)||{},M.audio.settings=((N=v.inputSettings)===null||N===void 0||(N=N.audio)===null||N===void 0?void 0:N.settings)||{},M.audio.settings=he(he({},M.audio.settings),v.dailyConfig.userMediaAudioConstraints),v.inputSettings=M,delete v.dailyConfig.userMediaAudioConstraints}if(v!=null&&(k=v.dailyConfig)!==null&&k!==void 0&&k.userMediaVideoConstraints){var U,F;Ce()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var W=v.inputSettings||{};W.video=((U=v.inputSettings)===null||U===void 0?void 0:U.video)||{},W.video.settings=((F=v.inputSettings)===null||F===void 0||(F=F.video)===null||F===void 0?void 0:F.settings)||{},W.video.settings=he(he({},W.video.settings),v.dailyConfig.userMediaVideoConstraints),v.inputSettings=W,delete v.dailyConfig.userMediaVideoConstraints}for(var X in v)if(Ki[X]){if(Ki[X].validate&&!Ki[X].validate(v[X],this))throw new Error("property '".concat(X,"': ").concat(Ki[X].help))}else console.warn("Ignoring unrecognized property '".concat(X,"'")),delete v[X]}},{key:"assembleMeetingUrl",value:function(){var v,E,k=he(he({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(v=this.properties.dailyConfig)!==null&&v!==void 0&&v.proxyUrl?encodeURIComponent((E=this.properties.dailyConfig)===null||E===void 0?void 0:E.proxyUrl):void 0}),A=k.url.match(/\?/)?"&":"?";return k.url+A+Object.keys(Ki).filter(function(N){return Ki[N].queryString&&k[N]!==void 0}).map(function(N){return"".concat(Ki[N].queryString,"=").concat(k[N])}).join("&")}},{key:"needsLoad",value:function(){return[py,vk,Hs,us].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(v,E){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(v,E,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(v){this._messageChannel.forwardPackagedMessageToCallMachine(v,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(v){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(v,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(v){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(v)}},{key:"handleMessageFromCallMachine",value:function(v){switch(v.action){case _R:this.sendMessageToCallMachine(he({action:kR},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var E={action:kd,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:sf(this.properties.dailyConfig)}};this.sendMessageToCallMachine(E),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case gy:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(v);break;case PR:var k,A=he({},v);delete A.internal,this._maxAppMessageSize=((k=v.internal)===null||k===void 0?void 0:k._maxAppMessageSize)||zm,this._joinedCallback&&(this._joinedCallback(v.participants),this._joinedCallback=null),this.emitDailyJSEvent(A);break;case OR:case IR:if(this._callState===Hs)return;if(v.participant&&v.participant.session_id){var N=v.participant.local?"local":v.participant.session_id;if(this._callObjectMode){var M=this._callMachine().store;Ak(v.participant,M),Pk(v.participant,M),Rk(v.participant,this._participants[N],M)}try{this.maybeParticipantTracksStopped(this._participants[N],v.participant),this.maybeParticipantTracksStarted(this._participants[N],v.participant),this.maybeEventRecordingStopped(this._participants[N],v.participant),this.maybeEventRecordingStarted(this._participants[N],v.participant)}catch(At){console.error("track events error",At)}this.compareEqualForParticipantUpdateEvent(v.participant,this._participants[N])||(this._participants[N]=he({},v.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(v))}break;case MR:if(v.participant&&v.participant.session_id){var U=this._participants[v.participant.session_id];U&&this.maybeParticipantTracksStopped(U,null),delete this._participants[v.participant.session_id],this.emitDailyJSEvent(v)}break;case DR:ln(this._participantCounts,v.participantCounts)||(this._participantCounts=v.participantCounts,this.emitDailyJSEvent(v));break;case LR:var F={access:v.access};v.awaitingAccess&&(F.awaitingAccess=v.awaitingAccess),ln(this._accessState,F)||(this._accessState=F,this.emitDailyJSEvent(v));break;case $R:if(v.meetingSession){this._meetingSessionSummary=v.meetingSession,this.emitDailyJSEvent(v);var W=he(he({},v),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(W)}break;case by:var X;this._iframe&&!v.preserveIframe&&(this._iframe.src=""),this._updateCallState(us),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(v.errorMsg),this._loadedCallback=null),v.preserveIframe;var de=h1(v,PH);de!=null&&(X=de.error)!==null&&X!==void 0&&X.details&&(de.error.details=JSON.parse(de.error.details)),this._maybeSendToSentry(v),this._joinedCallback&&(this._joinedCallback(null,de),this._joinedCallback=null),this.emitDailyJSEvent(de);break;case RR:this._callState!==us&&this._updateCallState(Hs),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(v);break;case"selected-devices-updated":v.devices&&this.emitDailyJSEvent(v);break;case lO:var Me=v.state,wt=v.threshold,ut=v.quality,Oe=Me.state,Ze=Me.reasons;Oe===this._network.networkState&&ln(Ze,this._network.networkStateReasons)&&wt===this._network.threshold&&ut===this._network.quality||(this._network.networkState=Oe,this._network.networkStateReasons=Ze,this._network.quality=ut,this._network.threshold=wt,v.networkState=Oe,Ze.length&&(v.networkStateReasons=Ze),delete v.state,this.emitDailyJSEvent(v));break;case uO:v&&v.cpuLoadState&&this.emitDailyJSEvent(v);break;case dO:v&&v.faceCounts!==void 0&&this.emitDailyJSEvent(v);break;case oO:var _t=v.activeSpeaker;this._activeSpeaker.peerId!==_t.peerId&&(this._activeSpeaker.peerId=_t.peerId,this.emitDailyJSEvent({action:v.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var _n=v.show;this._showLocalVideo=_n,this.emitDailyJSEvent({action:v.action,show:_n});break;case aO:var tn=v.enabled;this._activeSpeakerMode!==tn&&(this._activeSpeakerMode=tn,this.emitDailyJSEvent({action:v.action,enabled:this._activeSpeakerMode}));break;case UR:case VR:case BR:this._waitingParticipants=v.allWaitingParticipants,this.emitDailyJSEvent({action:v.action,participant:v.participant});break;case vO:ln(this._receiveSettings,v.receiveSettings)||(this._receiveSettings=v.receiveSettings,this.emitDailyJSEvent({action:v.action,receiveSettings:v.receiveSettings}));break;case wy:this._maybeUpdateInputSettings(v.inputSettings);break;case"send-settings-updated":ln(this._sendSettings,v.sendSettings)||(this._sendSettings=v.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:v.action,sendSettings:v.sendSettings}));break;case"local-audio-level":this._localAudioLevel=v.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=v.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case eO:var kn=v.session_id;this._rmpPlayerState[kn]=v.playerState,this.emitDailyJSEvent(v);break;case nO:delete this._rmpPlayerState[v.session_id],this.emitDailyJSEvent(v);break;case tO:var It=v.session_id,as=this._rmpPlayerState[It];as&&this.compareEqualForRMPUpdateEvent(as,v.remoteMediaPlayerState)||(this._rmpPlayerState[It]=v.remoteMediaPlayerState,this.emitDailyJSEvent(v));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(v);break;case FR:var Is=this._meetingSessionState.topology!==(v.meetingSessionState&&v.meetingSessionState.topology);this._meetingSessionState=Xm(v.meetingSessionState,this._callObjectMode),(this._callObjectMode||Is)&&this.emitDailyJSEvent(v);break;case rO:this._isScreenSharing=!0,this.emitDailyJSEvent(v);break;case sO:case iO:this._isScreenSharing=!1,this.emitDailyJSEvent(v);break;case vy:case yy:case KR:case JR:case YR:case WR:case HR:case GR:case TR:case NR:case XR:case ZR:case"test-completed":case cO:case QR:case hO:case fO:case pO:case mO:case xy:case gO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(v);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(v,E){var k="record";v&&(E.local||E[k]!==!1||v[k]===E[k]||this.emitDailyJSEvent({action:yy}))}},{key:"maybeEventRecordingStarted",value:function(v,E){var k="record";v&&(E.local||E[k]!==!0||v[k]===E[k]||this.emitDailyJSEvent({action:vy}))}},{key:"_trackStatePlayable",value:function(v){return!(!v||v.state!==yR)}},{key:"_trackChanged",value:function(v,E){return(v==null?void 0:v.id)!==(E==null?void 0:E.id)}},{key:"maybeEventTrackStopped",value:function(v,E,k){var A,N,M=(A=E==null?void 0:E.tracks[v])!==null&&A!==void 0?A:null,U=(N=k==null?void 0:k.tracks[v])!==null&&N!==void 0?N:null,F=M==null?void 0:M.track;if(F){var W=this._trackStatePlayable(M),X=this._trackStatePlayable(U),de=this._trackChanged(F,U==null?void 0:U.track);W&&(X&&!de||this.emitDailyJSEvent({action:qR,track:F,participant:k??E,type:v}))}}},{key:"maybeEventTrackStarted",value:function(v,E,k){var A,N,M=(A=E==null?void 0:E.tracks[v])!==null&&A!==void 0?A:null,U=(N=k==null?void 0:k.tracks[v])!==null&&N!==void 0?N:null,F=U==null?void 0:U.track;if(F){var W=this._trackStatePlayable(M),X=this._trackStatePlayable(U),de=this._trackChanged(M==null?void 0:M.track,F);X&&(W&&!de||this.emitDailyJSEvent({action:zR,track:F,participant:k,type:v}))}}},{key:"maybeParticipantTracksStopped",value:function(v,E){if(v)for(var k in v.tracks)this.maybeEventTrackStopped(k,v,E)}},{key:"maybeParticipantTracksStarted",value:function(v,E){if(E)for(var k in E.tracks)this.maybeEventTrackStarted(k,v,E)}},{key:"compareEqualForRMPUpdateEvent",value:function(v,E){var k,A;return v.state===E.state&&((k=v.settings)===null||k===void 0?void 0:k.volume)===((A=E.settings)===null||A===void 0?void 0:A.volume)}},{key:"emitDailyJSEvent",value:function(v){try{v.callClientId=this.callClientId,this.emit(v.action,v)}catch(E){console.log("could not emit",v,E)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(v,E){return!!ln(v,E)&&(!v.videoTrack||!E.videoTrack||v.videoTrack.id===E.videoTrack.id&&v.videoTrack.muted===E.videoTrack.muted&&v.videoTrack.enabled===E.videoTrack.enabled)&&(!v.audioTrack||!E.audioTrack||v.audioTrack.id===E.audioTrack.id&&v.audioTrack.muted===E.audioTrack.muted&&v.audioTrack.enabled===E.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Ce()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(v){this._updateCallState(this._callState,v)}},{key:"_updateCallState",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(v!==this._callState||E!==this._isPreparingToJoin){var k=this._callState,A=this._isPreparingToJoin;this._callState=v,this._isPreparingToJoin=E;var N=this._callState===ei;this.updateShowAndroidOngoingMeetingNotification(N);var M=ch(k,A),U=ch(this._callState,this._isPreparingToJoin);M!==U&&(this.updateKeepDeviceAwake(U),this.updateDeviceAudioMode(U),this.updateNoOpRecordingEnsuringBackgroundContinuity(U))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=qk,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:ah},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Xm(zk,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=zm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(v){Ce()&&this.nativeUtils().setKeepDeviceAwake(v,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(v){if(Ce()&&!this.disableReactNativeAutoDeviceManagement("audio")){var E=v?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(E)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(v){if(Ce()&&this.nativeUtils().setShowOngoingMeetingNotification){var E,k,A,N;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var M=this.properties.reactNativeConfig.androidInCallNotification;E=M.title,k=M.subtitle,A=M.iconName,N=M.disableForCustomOverride}N&&(v=!1),this.nativeUtils().setShowOngoingMeetingNotification(v,E,k,A,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(v){Ce()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(v)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var v;if(Ce()){var E=(v=this._callMachine())===null||v===void 0||(v=v.store)===null||v===void 0?void 0:v.getState();for(var k in E==null?void 0:E.streams){var A=E.streams[k];A&&A.pendingTrack&&A.pendingTrack.kind==="audio"&&(A.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(v){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[v]}},{key:"absoluteUrl",value:function(v){if(v!==void 0){var E=document.createElement("a");return E.href=v,E.href}}},{key:"sayHello",value:function(){var v="hello, world.";return console.log(v),v}},{key:"_logUseAfterDestroy",value:function(){var v=Object.values(Gi)[0];if(this.needsLoad())if(v&&!v.needsLoad()){var E={action:kd,level:"error",code:this.strictMode?9995:9997};v.sendMessageToCallMachine(E)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var k={action:kd,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(k,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var v=0,E=Object.values(Gi);v<E.length;v++){var k=E[v];k._callMachineInitialized?(k.sendMessageToCallMachine({action:kd,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),k._delayDuplicateInstanceLog=!1):k._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(v){var E,k,A,N;if(!((E=v.error)!==null&&E!==void 0&&E.type&&(![SR,bR,my].includes(v.error.type)||v.error.type===my&&v.error.msg.includes("deleted")))){var M=(k=this.properties)!==null&&k!==void 0&&k.url?new URL(this.properties.url):void 0,U="production";M&&M.host.includes(".staging.daily")&&(U="staging");var F,W,X,de,Me,wt=function(kn){const It=[eW(),Xq(),jW(),kW(),PW(),OW(),sW(),RW()];return kn.autoSessionTracking!==!1&&It.push(AW()),It}({}).filter(function(kn){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(kn.name)}),ut=new hW({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:vW,stackParser:_W,integrations:wt,environment:U}),Oe=new Pi;if(Oe.setClient(ut),ut.init(),this.session_id&&Oe.setExtra("sessionId",this.session_id),this.properties){var Ze=he({},this.properties);Ze.userName=Ze.userName?"[Filtered]":void 0,Ze.userData=Ze.userData?"[Filtered]":void 0,Ze.token=Ze.token?"[Filtered]":void 0,Oe.setExtra("properties",Ze)}if(M){var _t=M.searchParams.get("domain");if(!_t){var _n=M.host.match(/(.*?)\./);_t=_n&&_n[1]||""}_t&&Oe.setTag("domain",_t)}v.error&&(Oe.setTag("fatalErrorType",v.error.type),Oe.setExtra("errorDetails",v.error.details),!((F=v.error.details)===null||F===void 0)&&F.uri&&Oe.setTag("serverAddress",v.error.details.uri),!((W=v.error.details)===null||W===void 0)&&W.workerGroup&&Oe.setTag("workerGroup",v.error.details.workerGroup),!((X=v.error.details)===null||X===void 0)&&X.geoGroup&&Oe.setTag("geoGroup",v.error.details.geoGroup),!((de=v.error.details)===null||de===void 0)&&de.on&&Oe.setTag("connectionAttempt",v.error.details.on),(Me=v.error.details)!==null&&Me!==void 0&&Me.bundleUrl&&(Oe.setTag("bundleUrl",v.error.details.bundleUrl),Oe.setTag("bundleError",v.error.details.sourceError.type))),Oe.setTags({callMode:this._callObjectMode?Ce()?"reactNative":(A=this.properties)!==null&&A!==void 0&&(A=A.dailyConfig)!==null&&A!==void 0&&(A=A.callMode)!==null&&A!==void 0&&A.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var tn=((N=v.error)===null||N===void 0?void 0:N.msg)||v.errorMsg;Oe.captureException(new Error(tn))}}},{key:"_callMachine",value:function(){var v;return(v=window._daily)===null||v===void 0||(v=v.instances)===null||v===void 0||(v=v[this.callClientId])===null||v===void 0?void 0:v.callMachine}},{key:"_maybeUpdateInputSettings",value:function(v){if(!ln(this._inputSettings,v)){var E=this._getInputSettings();this._inputSettings=v;var k=this._getInputSettings();ln(E,k)||this.emitDailyJSEvent({action:wy,inputSettings:k})}}}],[{key:"supportedBrowser",value:function(){if(Ce())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var v=xq.getParser(sr());return{supported:!!Hm(),mobile:v.getPlatformType()==="mobile",name:v.getBrowserName(),version:v.getBrowserVersion(),supportsFullscreen:!!_k(),supportsScreenShare:!!oH(),supportsSfu:!!Hm(),supportsVideoProcessing:xO(),supportsAudioProcessing:bO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.layout="none",new e(null,v)}},{key:"wrap",value:function(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(je(),!v||!v.contentWindow||typeof v.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return E.layout||(E.customLayout?E.layout="custom-v1":E.layout="browser"),new e(v,E)}},{key:"createFrame",value:function(v,E){var k,A;je(),v&&E?(k=v,A=E):v&&v.append?(k=v,A={}):(k=document.body,A=v||{});var N=A.iframeStyle;N||(N=k===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var M=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?M.allow="microphone, camera":M.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",M.style.visibility="hidden",k.appendChild(M),M.style.visibility=null,Object.keys(N).forEach(function(U){return M.style[U]=N[U]}),A.layout||(A.customLayout?A.layout="custom-v1":A.layout="browser");try{return new e(M,A)}catch(U){throw k.removeChild(M),U}}},{key:"createTransparentFrame",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je();var E=document.createElement("iframe");return E.allow="microphone; camera; autoplay",E.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(E),v.layout||(v.layout="custom-v1"),e.wrap(E,v)}},{key:"getCallInstance",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return v?Gi[v]:Object.values(Gi)[0]}}]);var t,n,r,s,i,o,a,c,u,d,h,f,p,x,m,b,y,w,S,_,j,C,T,P,O,I,R,D,H,V,Q,J,Y,L,$,B,te,ne}();function Gk(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Go(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=xs;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Ve(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==ei){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function ch(e,t){return[df,ei].includes(e)||t}function Ym(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(ch(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function Cd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Qm(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function fr(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function En(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function je(){if(Ce())throw new Error("This daily-js method is not currently supported in React Native")}function Gl(){if(!Ce())throw new Error("This daily-js method is only supported in React Native")}function IO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),ln(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function MO(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var c=Qt(a[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function DO(e){if(Pe(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Qt(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Pe(i)!=="object")return!1;for(var o=0,a=Object.entries(i);o<a.length;o++){var c=Qt(a[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!MH(d))return!1;break;case"settings":if(!Kk(d))return!1;break;default:return!1}}break;case"audio":if(Pe(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var p=Qt(f[h],2),x=p[0],m=p[1];switch(x){case"processor":if(!IH(m))return!1;break;case"settings":if(!Kk(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function LO(e,t,n){var r,s=[];e.video&&e.video.processor&&(xO((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(bO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:xs}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:xs}):delete n.videoTrack)}function IH(e){if(Ce())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Pe(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(yO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function MH(e){if(Ce())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Pe(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(lh).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Pe(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case lh.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case lh.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(of(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return Wm.includes(f)}catch(x){return console.error("failed to deduce blob content type",x),!1}var p=h.split(".").at(-1).toLowerCase().trim();return Wm.includes(p)}(o.source)||(console.error("invalid image type; supported types: [".concat(Wm.join(", "),"]")),!1);return a=o.source,c=Number(a),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var a,c}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function Kk(e){return Pe(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function Ty(){var e=Object.values(lh).join(" | "),t=Object.values(yO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function $O(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(xR).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function FO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Cy),".")}function UO(e){if(e&&Pe(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(pf),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Qt(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=Qt(i[s],2),a=o[0],c=o[1],u=pf.id[a];if(!u)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!of(c))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(a," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Pe(c)!==u)return console.error("customTrayButton ".concat(a," should be a ").concat(u,".")),!1}}return!0}function VO(e){if(!e||e&&Pe(e)!=="object"||Array.isArray(e))return console.error(FO()),!1;for(var t=function(h){return"".concat(h," should be ").concat(Cy.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,s=Object.entries(e);r<s.length;r++){var i=Qt(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[i]);o<a.length;o++){var c=Qt(a[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!of(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!of(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!Cy.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function BO(e,t){if(t===void 0)return!1;switch(Pe(t)){case"string":return Pe(e)===t;case"object":if(Pe(e)!=="object")return!1;for(var n in e)if(!BO(e[n],t[n]))return!1;return!0;default:return!1}}function Jk(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function Yk(e){if(Pe(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Sy).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Sy));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function Qk(e,t,n){return!(typeof e!="number"||e<t||e>n)}function Xm(e,t){return e&&!t&&delete e.data,e}const DH=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:wR,DAILY_ACCESS_LEVEL_LOBBY:FW,DAILY_ACCESS_LEVEL_NONE:UW,DAILY_ACCESS_UNKNOWN:ah,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:QW,DAILY_CAMERA_ERROR_CAM_IN_USE:JW,DAILY_CAMERA_ERROR_CONSTRAINTS:tH,DAILY_CAMERA_ERROR_MIC_IN_USE:YW,DAILY_CAMERA_ERROR_NOT_FOUND:eH,DAILY_CAMERA_ERROR_PERMISSIONS:XW,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:ZW,DAILY_CAMERA_ERROR_UNKNOWN:nH,DAILY_EVENT_ACCESS_STATE_UPDATED:LR,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:oO,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:aO,DAILY_EVENT_APP_MSG:XR,DAILY_EVENT_CAMERA_ERROR:NR,DAILY_EVENT_CPU_LOAD_CHANGE:uO,DAILY_EVENT_ERROR:by,DAILY_EVENT_EXIT_FULLSCREEN:nc,DAILY_EVENT_FACE_COUNTS_UPDATED:dO,DAILY_EVENT_FULLSCREEN:tc,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:kR,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:_R,DAILY_EVENT_INPUT_SETTINGS_UPDATED:wy,DAILY_EVENT_JOINED_MEETING:PR,DAILY_EVENT_JOINING_MEETING:AR,DAILY_EVENT_LANG_UPDATED:gO,DAILY_EVENT_LEFT_MEETING:RR,DAILY_EVENT_LIVE_STREAMING_ERROR:mO,DAILY_EVENT_LIVE_STREAMING_STARTED:hO,DAILY_EVENT_LIVE_STREAMING_STOPPED:pO,DAILY_EVENT_LIVE_STREAMING_UPDATED:fO,DAILY_EVENT_LOADED:gy,DAILY_EVENT_LOADING:jR,DAILY_EVENT_LOAD_ATTEMPT_FAILED:CR,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:iO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:rO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:sO,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:rH,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:FR,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:$R,DAILY_EVENT_NETWORK_CONNECTION:cO,DAILY_EVENT_NETWORK_QUALITY_CHANGE:lO,DAILY_EVENT_NONFATAL_ERROR:xy,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:DR,DAILY_EVENT_PARTICIPANT_JOINED:OR,DAILY_EVENT_PARTICIPANT_LEFT:MR,DAILY_EVENT_PARTICIPANT_UPDATED:IR,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:vO,DAILY_EVENT_RECORDING_DATA:QR,DAILY_EVENT_RECORDING_ERROR:JR,DAILY_EVENT_RECORDING_STARTED:vy,DAILY_EVENT_RECORDING_STATS:KR,DAILY_EVENT_RECORDING_STOPPED:yy,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:YR,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:eO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:nO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:tO,DAILY_EVENT_STARTED_CAMERA:TR,DAILY_EVENT_THEME_UPDATED:ER,DAILY_EVENT_TRACK_STARTED:zR,DAILY_EVENT_TRACK_STOPPED:qR,DAILY_EVENT_TRANSCRIPTION_ERROR:GR,DAILY_EVENT_TRANSCRIPTION_MSG:ZR,DAILY_EVENT_TRANSCRIPTION_STARTED:WR,DAILY_EVENT_TRANSCRIPTION_STOPPED:HR,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:UR,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:BR,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:VR,DAILY_FATAL_ERROR_CONNECTION:SR,DAILY_FATAL_ERROR_EJECTED:BW,DAILY_FATAL_ERROR_EOL:bR,DAILY_FATAL_ERROR_EXP_ROOM:WW,DAILY_FATAL_ERROR_EXP_TOKEN:HW,DAILY_FATAL_ERROR_MEETING_FULL:GW,DAILY_FATAL_ERROR_NBF_ROOM:zW,DAILY_FATAL_ERROR_NBF_TOKEN:qW,DAILY_FATAL_ERROR_NOT_ALLOWED:KW,DAILY_FATAL_ERROR_NO_ROOM:my,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:VW,DAILY_RECEIVE_SETTINGS_BASE_KEY:xR,DAILY_STATE_ERROR:us,DAILY_STATE_JOINED:ei,DAILY_STATE_JOINING:df,DAILY_STATE_LEFT:Hs,DAILY_STATE_NEW:py,DAILY_TRACK_STATE_BLOCKED:IW,DAILY_TRACK_STATE_INTERRUPTED:$W,DAILY_TRACK_STATE_LOADING:LW,DAILY_TRACK_STATE_OFF:MW,DAILY_TRACK_STATE_PLAYABLE:yR,DAILY_TRACK_STATE_SENDABLE:DW,default:OH},Symbol.toStringTag,{value:"Module"})),LH=KD(DH);var gx={exports:{}},Da=typeof Reflect=="object"?Reflect:null,Xk=Da&&typeof Da.apply=="function"?Da.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},uh;Da&&typeof Da.ownKeys=="function"?uh=Da.ownKeys:Object.getOwnPropertySymbols?uh=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:uh=function(t){return Object.getOwnPropertyNames(t)};function $H(e){console&&console.warn&&console.warn(e)}var zO=Number.isNaN||function(t){return t!==t};function Fe(){Fe.init.call(this)}gx.exports=Fe;gx.exports.once=BH;Fe.EventEmitter=Fe;Fe.prototype._events=void 0;Fe.prototype._eventsCount=0;Fe.prototype._maxListeners=void 0;var Zk=10;function vp(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Fe,"defaultMaxListeners",{enumerable:!0,get:function(){return Zk},set:function(e){if(typeof e!="number"||e<0||zO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Zk=e}});Fe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Fe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||zO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function qO(e){return e._maxListeners===void 0?Fe.defaultMaxListeners:e._maxListeners}Fe.prototype.getMaxListeners=function(){return qO(this)};Fe.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")Xk(c,this,n);else for(var u=c.length,d=JO(c,u),r=0;r<u;++r)Xk(d[r],this,n);return!0};function WO(e,t,n,r){var s,i,o;if(vp(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=qO(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,$H(a)}return e}Fe.prototype.addListener=function(t,n){return WO(this,t,n,!1)};Fe.prototype.on=Fe.prototype.addListener;Fe.prototype.prependListener=function(t,n){return WO(this,t,n,!0)};function FH(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function HO(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=FH.bind(r);return s.listener=n,r.wrapFn=s,s}Fe.prototype.once=function(t,n){return vp(n),this.on(t,HO(this,t,n)),this};Fe.prototype.prependOnceListener=function(t,n){return vp(n),this.prependListener(t,HO(this,t,n)),this};Fe.prototype.removeListener=function(t,n){var r,s,i,o,a;if(vp(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():UH(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Fe.prototype.off=Fe.prototype.removeListener;Fe.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function GO(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?VH(s):JO(s,s.length)}Fe.prototype.listeners=function(t){return GO(this,t,!0)};Fe.prototype.rawListeners=function(t){return GO(this,t,!1)};Fe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):KO.call(e,t)};Fe.prototype.listenerCount=KO;function KO(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Fe.prototype.eventNames=function(){return this._eventsCount>0?uh(this._events):[]};function JO(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function UH(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function VH(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function BH(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}YO(e,t,i,{once:!0}),t!=="error"&&zH(e,s,{once:!0})})}function zH(e,t,n){typeof e.on=="function"&&YO(e,"error",t,n)}function YO(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var qH=gx.exports,yp={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.Api=Si.HttpClient=Si.ContentType=void 0;var ee;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(ee||(Si.ContentType=ee={}));class QO{constructor(t={}){be(this,"baseUrl","https://api.vapi.ai");be(this,"securityData",null);be(this,"securityWorker");be(this,"abortControllers",new Map);be(this,"customFetch",(...t)=>fetch(...t));be(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});be(this,"setSecurityData",t=>{this.securityData=t});be(this,"contentFormatters",{[ee.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ee.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ee.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[ee.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[ee.UrlEncoded]:t=>this.toQueryString(t)});be(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});be(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});be(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:a,cancelToken:c,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),p=this.contentFormatters[s||ee.Json],x=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==ee.FormData?{"Content-Type":s}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:p(t)}).then(async m=>{const b=m;b.data=null,b.error=null;const y=x?m.clone():m,w=x?await y[x]().then(S=>(b.ok?b.data=S:b.error=S,b)).catch(S=>(b.error=S,b)):b;if(c&&this.abortControllers.delete(c),!m.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}Si.HttpClient=QO;class WH extends QO{constructor(){super(...arguments);be(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:ee.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});be(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});be(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s})});be(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:ee.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});be(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});be(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:ee.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:ee.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:ee.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});be(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:ee.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:ee.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});be(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});be(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:ee.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});be(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});be(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:ee.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:ee.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});be(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});be(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:ee.Json,...r})});be(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s})});be(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:ee.FormData,...r})});be(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})})}}Si.Api=WH;Object.defineProperty(yp,"__esModule",{value:!0});yp.client=void 0;const HH=Si,GH=new HH.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});yp.client=GH;var Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al.createSafeDailyConfig=KH;Al.safeSetLocalAudio=JH;Al.safeSetInputDevicesAsync=YH;Al.createSafeDailyFactoryOptions=QH;function KH(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function JH(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function YH(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function QH(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var XO=Yx&&Yx.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ZP,"__esModule",{value:!0});const Zm=XO(LH),XH=XO(qH),eg=yp,Ji=Al;function rn(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function ZH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function eE(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await ZH(n,e),n}function tE(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function nE(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class e9 extends XH.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class t9 extends e9{constructor(n,r,s,i){super();be(this,"started",!1);be(this,"call",null);be(this,"speakingTimeout",null);be(this,"dailyCallConfig",{});be(this,"dailyCallObject",{});be(this,"hasEmittedCallEndedStatus",!1);eg.client.baseUrl=r??"https://api.vapi.ai",eg.client.setSecurityData(n),this.dailyCallConfig=(0,Ji.createSafeDailyConfig)(s),this.dailyCallObject=(0,Ji.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,a){var u,d,h,f,p,x,m;const c=Date.now();if(!n&&!s&&!i){const b=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:rn(b),timestamp:new Date().toISOString()}),b}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const b=Date.now(),y=(await eg.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:a==null?void 0:a.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-b;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((u=y==null?void 0:y.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,_=((x=(p=y==null?void 0:y.assistant)==null?void 0:p.voice)==null?void 0:x.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:_}});const j=Date.now();try{this.call=Zm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const R=Date.now()-j;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-j,H=rn(R);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:H,timestamp:new Date().toISOString()}),R}(m=this.call.iframe())==null||m.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var R;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((R=this.call)==null||R.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",R=>{var D;this.emit("error",{type:"daily-error",error:rn(R),timestamp:new Date().toISOString()}),S&&((D=this.call)==null||D.stopRecording())}),this.call.on("camera-error",R=>{this.emit("camera-error",{type:"camera-error",error:rn(R),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",R=>{this.emit("network-quality-change",R)}),this.call.on("network-connection",R=>{this.emit("network-connection",R)}),this.call.on("track-started",async R=>{var D,H,V;!R||!R.participant||(D=R.participant)!=null&&D.local||((H=R.participant)==null?void 0:H.user_name)==="Vapi Speaker"&&(R.track.kind==="video"&&this.emit("video",R.track),R.track.kind==="audio"&&await eE(R.track,R.participant.session_id),(V=this.call)==null||V.sendAppMessage("playable"))}),this.call.on("participant-joined",R=>{!R||!this.call||nE(R,this.call,S,_)}),this.call.on("participant-updated",R=>{R&&this.emit("daily-participant-updated",R.participant)}),this.call.on("participant-left",R=>{R&&tE(R.participant.session_id)});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const R=Date.now();await this.sleep(1e3);const D=Date.now()-R;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:D,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const T=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const R=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-T,H=rn(R);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:H,duration:D,timestamp:new Date().toISOString()}),R}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const R=new Date().getTime(),D=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const H=Date.now()-D;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:H,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const V=(new Date().getTime()-R)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:V}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:V})})}catch(H){const V=Date.now()-D,Q=rn(H);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:V,timestamp:new Date().toISOString(),metadata:{error:Q.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:Q,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const P=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const R=Date.now()-P;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-P,H=rn(R);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:H,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",R=>{R&&this.handleRemoteParticipantsAudioLevel(R)}),this.call.on("app-message",R=>this.onAppMessage(R)),this.call.on("nonfatal-error",R=>{var D;(R==null?void 0:R.type)==="audio-processor-error"&&((D=this.call)==null||D.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ji.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const R=Date.now()-O;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-O,H=rn(R);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:H.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:H,timestamp:new Date().toISOString()})}const I=Date.now()-c;return this.emit("call-start-success",{totalDuration:I,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(b){const y=Date.now()-c,w=rn(b);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Ji.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Ji.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const a=s.createMediaStreamDestination();o.connect(a);const[c]=a.stream.getAudioTracks();await(0,Ji.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,a,c,u,d,h,f,p,x,m,b;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((a=n==null?void 0:n.artifactPlan)==null?void 0:a.videoRecordingEnabled)??!1,w=((u=(c=n==null?void 0:n.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:w}});const S=Date.now();this.call=Zm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const _=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:_,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var R;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((R=this.call)==null||R.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",R=>{var D;this.emit("error",{type:"daily-error",error:rn(R),timestamp:new Date().toISOString()}),y&&((D=this.call)==null||D.stopRecording())}),this.call.on("camera-error",R=>{this.emit("camera-error",{type:"camera-error",error:rn(R),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",R=>{this.emit("network-quality-change",R)}),this.call.on("network-connection",R=>{this.emit("network-connection",R)}),this.call.on("track-started",async R=>{var D,H,V;!R||!R.participant||(D=R.participant)!=null&&D.local||((H=R.participant)==null?void 0:H.user_name)==="Vapi Speaker"&&(R.track.kind==="video"&&this.emit("video",R.track),R.track.kind==="audio"&&await eE(R.track,R.participant.session_id),(V=this.call)==null||V.sendAppMessage("playable"))}),this.call.on("participant-joined",R=>{!R||!this.call||nE(R,this.call,y,w)}),this.call.on("participant-updated",R=>{R&&this.emit("daily-participant-updated",R.participant)}),this.call.on("participant-left",R=>{R&&tE(R.participant.session_id)}),this.call.on("remote-participants-audio-level",R=>{R&&this.handleRemoteParticipantsAudioLevel(R)}),this.call.on("app-message",R=>this.onAppMessage(R)),this.call.on("nonfatal-error",R=>{var D;(R==null?void 0:R.type)==="audio-processor-error"&&((D=this.call)==null||D.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ji.safeSetLocalAudio)(this.call,!0)}))});const j=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:j}}),j){const R=Date.now();await this.sleep(1e3);const D=Date.now()-R;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:D,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const C=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const T=Date.now()-C;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:T,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const R=Date.now(),D=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const H=Date.now()-R;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:H,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const V=(new Date().getTime()-D)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:V}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:V})})}catch(H){const V=Date.now()-R,Q=rn(H);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:V,timestamp:new Date().toISOString(),metadata:{error:Q.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const P=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const R=Date.now()-P;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-P,H=rn(R);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:H.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const R=Date.now()-O;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-O,H=rn(R);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:H.message}})}const I=Date.now()-r;this.emit("call-start-success",{totalDuration:I,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const w=Date.now()-r,S=rn(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((p=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:p.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((x=n==null?void 0:n.artifactPlan)!=null&&x.videoRecordingEnabled),voiceProvider:((b=(m=n==null?void 0:n.assistant)==null?void 0:m.voice)==null?void 0:b.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=Zm.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var n9=ZP.default=t9;const r9=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function s9(e={}){const[t,n]=g.useState("idle"),[r,s]=g.useState([]),[i,o]=g.useState(!1),[a,c]=g.useState(0),u=g.useRef(null),d=g.useCallback(x=>{var m;n(x),(m=e.onStatusChange)==null||m.call(e,x)},[e]);g.useEffect(()=>{const x="4755e6d9-a32f-474b-a4e7-8d103fc571b5",m=new n9(x);return u.current=m,m.on("call-start",()=>{console.log("Vapi: Call started"),d("connected")}),m.on("call-end",()=>{var b;console.log("Vapi: Call ended"),d("ended"),(b=e.onCallEnd)==null||b.call(e,r)}),m.on("speech-start",()=>{d("speaking")}),m.on("speech-end",()=>{d("listening")}),m.on("message",b=>{if(b.type==="transcript"){const y={role:b.role,content:b.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(w=>{var S,_;if(b.transcriptType==="partial"&&w.length>0&&w[w.length-1].role===b.role){const j=[...w];return j[j.length-1]=y,(S=e.onTranscriptUpdate)==null||S.call(e,j),j}else if(b.transcriptType==="final"){const j=[...w,y];return(_=e.onTranscriptUpdate)==null||_.call(e,j),j}return w})}}),m.on("volume-level",b=>{c(b)}),m.on("error",b=>{var y;console.error("Vapi error:",b),d("error"),(y=e.onError)==null||y.call(e,new Error(b.message||"Vapi error"))}),()=>{m.stop()}},[]);const h=g.useCallback(async x=>{var m;if(!u.current){console.error("Vapi not initialized");return}d("connecting");try{await u.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:r9,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:x?`Hello ${x}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(b){console.error("Failed to start Vapi call:",b),d("error"),(m=e.onError)==null||m.call(e,b)}},[d,e]),f=g.useCallback(()=>{u.current&&(u.current.stop(),d("ended"))},[d]),p=g.useCallback(()=>{if(u.current){const x=!i;u.current.setMuted(x),o(x)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:a,startCall:h,endCall:f,toggleMute:p,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}var Kr=function(){return Kr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kr.apply(this,arguments)};function Pl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function i9(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function o9(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const a9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class vx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class l9 extends vx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rE extends vx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sE extends vx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ny;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ny||(Ny={}));class c9{constructor(t,{headers:n={},customFetch:r,region:s=Ny.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=a9(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return i9(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let m;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(f["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(f["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let b=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:m,signal:b}).catch(j=>{throw new l9(j)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new rE(y);if(!y.ok)throw new sE(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return S==="application/json"?_=yield y.json():S==="application/octet-stream"||S==="application/pdf"?_=yield y.blob():S==="text/event-stream"?_=y:S==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof sE||a instanceof rE?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var u9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},d9=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var p;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const m=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");m&&b&&b.length>1&&(c=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var x;const m=await i.text();try{o=JSON.parse(m),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):o={message:m}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new u9(o)}return{error:o,data:a,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${x}`,m&&(a+=` (${m})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},h9=class extends d9{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const iE=new RegExp("[,()]");var sa=class extends h9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&iE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&iE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},f9=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new sa({method:s,url:a,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new sa({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new sa({method:o,url:a,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new sa({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new sa({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},p9=class ZO{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new f9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ZO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",u=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{c.searchParams.append(p,x)})):(a="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new sa({method:a,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class m9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const g9="2.90.1",v9=`realtime-js/${g9}`,eI="1.0.0",y9="2.0.0",oE=eI,Ay=1e4,w9=1e3,x9=100;var Qs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qs||(Qs={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var kr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kr||(kr={}));var Py;(function(e){e.websocket="websocket"})(Py||(Py={}));var no;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(no||(no={}));class b9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+o.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(p),m=0;x.setUint8(m++,this.KINDS.userBroadcastPush),x.setUint8(m++,c.length),x.setUint8(m++,a.length),x.setUint8(m++,o.length),x.setUint8(m++,u.length),x.setUint8(m++,h.length),x.setUint8(m++,n),Array.from(c,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>x.setUint8(m++,y.charCodeAt(0))),Array.from(h,y=>x.setUint8(m++,y.charCodeAt(0)));var b=new Uint8Array(p.byteLength+r.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(r),p.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,c]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class tI{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const aE=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=S9(o,e,t,s),i),{}):{}},S9=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?nI(i,o):Ry(o)},nI=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return j9(t,n)}switch(e){case Be.bool:return _9(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return k9(t);case Be.json:case Be.jsonb:return E9(t);case Be.timestamp:return C9(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Ry(t);default:return Ry(t)}},Ry=e=>e,_9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},k9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},E9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},j9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>nI(t,a))}return e},C9=e=>typeof e=="string"?e.replace(" ","T"):e,rI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class tg{constructor(t,n,r={},s=Ay){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lE||(lE={}));class _c{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_c.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=_c.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_c.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),x=d.filter(b=>p.indexOf(b.presence_ref)<0),m=h.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(a[u]=x),m.length>0&&(c[u]=m)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cE||(cE={}));var kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kc||(kc={}));var ps;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ps||(ps={}));class ka{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new tg(this,kr.join,this.params,this.timeout),this.rejoinTimer=new tI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new _c(this),this.broadcastEndpointURL=rI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[kc.PRESENCE]&&this.bindings[kc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(ps.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(ps.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(ps.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,y=[];for(let w=0;w<b;w++){const S=m[w],{filter:{event:_,schema:j,table:C,filter:T}}=S,P=p&&p[w];if(P&&P.event===_&&ka.isFilterValueEqual(P.schema,j)&&ka.isFilterValueEqual(P.table,C)&&ka.isFilterValueEqual(P.filter,T))y.push(Object.assign(Object.assign({},S),{id:P.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ps.SUBSCRIBED);return}}).receive("error",p=>{this.state=kt.errored,t==null||t(ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===kt.joined&&t===kc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new tg(this,kr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new tg(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>x9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=kr;if(r&&[a,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,m,b,y,w,S,_,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,T=(x=p.filter)===null||x===void 0?void 0:x.event;return C&&((m=n.ids)===null||m===void 0?void 0:m.includes(C))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((y=p.filter)===null||y===void 0)&&y.table)||p.filter.table===((w=n.data)===null||w===void 0?void 0:w.table))}else{const C=(_=(S=p==null?void 0:p.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return C==="*"||C===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:m,table:b,commit_timestamp:y,type:w,errors:S}=x;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(x))}p.callback(f,r)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ka.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kr.close,{},t)}_onError(t){this._on(kr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=aE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=aE(t.columns,t.old_record)),n}}const ng=()=>{},Td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},T9=[1e3,2e3,5e3,1e4],N9=1e4,A9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P9{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ay,this.transport=null,this.heartbeatIntervalMs=Td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ng,this.ref=0,this.reconnectTimer=null,this.vsn=oE,this.logger=ng,this.conn=null,this.sendBuffer=[],this.serializer=new b9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Py.websocket}`,this.httpEndpoint=rI(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qs.connecting:return no.Connecting;case Qs.open:return no.Open;case Qs.closing:return no.Closing;default:return no.Closed}}isConnected(){return this.connectionState()===no.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ka(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(w9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Td.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Qs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qs.open||this.conn.readyState===Qs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([A9],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:v9};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(kr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new tI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,c,u,d,h,f,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Ay,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Td.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ng,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:oE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>T9[x-1]||N9,this.vsn){case eI:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,m)=>m(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,m)=>m(JSON.parse(x));break;case y9:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var iu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function R9(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function O9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function I9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=R9(e.baseUrl,r,s),c=await O9(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?f:void 0,x=p==null?void 0:p.error;throw new iu((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function Nd(e){return e.join("")}var M9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Nd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nd(e.namespace)}`}),!0}catch(t){if(t instanceof iu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof iu&&n.status===409)return;throw n}}};function Ko(e){return e.join("")}var D9=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof iu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof iu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},L9=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=I9({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new M9(this.client,t),this.tableOps=new D9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},wp=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function rt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $9=class extends wp{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Oy=class extends wp{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const yx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),F9=()=>Response,Iy=e=>{if(Array.isArray(e))return e.map(n=>Iy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Iy(r)}),t},U9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},V9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function B9(e,t){if(ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z9(e){var t=B9(e,"string");return ou(t)=="symbol"?t:t+""}function q9(e,t,n){return(t=z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(r){q9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const rg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},W9=async(e,t,n)=>{e instanceof await F9()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new $9(rg(r),s,i))}).catch(r=>{t(new Oy(rg(r),r))}):t(new Oy(rg(e),e))},H9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(U9(r)?(s.headers=ge({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),ge(ge({},s),n))};async function $u(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,H9(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>W9(c,a,r))})}async function au(e,t,n,r){return $u(e,"GET",t,n,r)}async function xr(e,t,n,r,s){return $u(e,"POST",t,r,s,n)}async function My(e,t,n,r,s){return $u(e,"PUT",t,r,s,n)}async function G9(e,t,n,r){return $u(e,"HEAD",t,ge(ge({},n),{},{noResolveJson:!0}),r)}async function wx(e,t,n,r,s){return $u(e,"DELETE",t,r,s,n)}var K9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(rt(t))return{data:null,error:t};throw t}}};let sI;sI=Symbol.toStringTag;var J9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[sI]="BlobDownloadBuilder",this.promise=null}asStream(){return new K9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(rt(t))return{data:null,error:t};throw t}}};const Y9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Q9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=yx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=ge(ge({},dE),r);let a=ge(ge({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=ge(ge({},a),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?My:xr)(s.fetch,`${s.url}/object/${d}`,i,ge({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(rt(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let c;const u=ge({upsert:dE.upsert},r),d=ge(ge({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await My(s.fetch,a.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(rt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=ge({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await xr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new wp("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await xr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await xr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await xr(r.fetch,`${r.url}/object/sign/${s}`,ge({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await xr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>ge(ge({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>au(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new J9(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Iy(await au(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await G9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(rt(r)&&r instanceof Oy){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await wx(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=ge(ge(ge({},Y9),t),{},{prefix:e||""});return{data:await xr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=ge({},e);return{data:await xr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const iI="2.90.1",oI={"X-Client-Info":`storage-js/${iI}`};var X9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ge(ge({},oI),t),this.fetch=yx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await au(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await au(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await xr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await My(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await xr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await wx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Z9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ge(ge({},oI),t),this.fetch=yx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await xr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await au(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await wx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(rt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!V9(e))throw new wp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new L9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const xx={"X-Client-Info":`storage-js/${iI}`,"Content-Type":"application/json"};var aI=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function An(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var sg=class extends aI{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eG=class extends aI{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const bx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nG=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new sg(hE(i),r,o))}).catch(()=>{const i=r+"";t(new sg(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new sg(s.statusText||`HTTP ${r} error`,r,i))}}else t(new eG(hE(e),e))},rG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(tG(r)?(s.headers=ge({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,ge(ge({},s),n)):s};async function sG(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,rG(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>nG(c,a,r))})}async function Pn(e,t,n,r,s){return sG(e,"POST",t,r,s,n)}var iG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ge(ge({},xx),t),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Pn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Pn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}}},oG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ge(ge({},xx),t),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Pn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Pn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Pn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}},aG=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ge(ge({},xx),t),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}},lG=class extends aG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},cG=class extends iG{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ge(ge({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ge(ge({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new uG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},uG=class extends oG{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ge(ge({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ge(ge({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ge(ge({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ge(ge({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ge(ge({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},dG=class extends X9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Q9(this.url,this.headers,e,this.fetch)}get vectors(){return new lG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Z9(this.url+"/iceberg",this.headers,this.fetch)}};const lI="2.90.1",ia=30*1e3,Dy=3,ig=Dy*ia,hG="http://localhost:9999",fG="supabase.auth.token",pG={"X-Client-Info":`gotrue-js/${lI}`},Ly="X-Supabase-Api-Version",cI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gG=10*60*1e3;class lu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vG extends lu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yG(e){return ue(e)&&e.name==="AuthApiError"}class ro extends lu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Rs extends lu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class jn extends Rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wG(e){return ue(e)&&e.name==="AuthSessionMissingError"}class Jo extends Rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ad extends Rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Pd extends Rs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xG(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class fE extends Rs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bG extends Rs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class $y extends Rs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function og(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class pE extends Rs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fy extends Rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mE=` 	
\r=`.split(""),SG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mE.length;t+=1)e[mE[t].charCodeAt(0)]=-2;for(let t=0;t<mf.length;t+=1)e[mf[t].charCodeAt(0)]=t;return e})();function gE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mf[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mf[r]),t.queuedBits-=6}}function uI(e,t,n){const r=SG[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vE(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{EG(o,r,n)};for(let o=0;o<e.length;o+=1)uI(e.charCodeAt(o),s,i);return t.join("")}function _G(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kG(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}_G(r,t)}}function EG(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function La(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)uI(e.charCodeAt(s),n,r);return new Uint8Array(t)}function jG(e){const t=[];return kG(e,n=>t.push(n)),new Uint8Array(t)}function ho(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>gE(s,n,r)),gE(null,n,r),t.join("")}function CG(e){return Math.round(Date.now()/1e3)+e}function TG(){return Symbol("auth-callback")}const Lt=()=>typeof window<"u"&&typeof document<"u",Yi={tested:!1,writable:!1},dI=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function NG(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const hI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Qi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Dt=async(e,t)=>{await e.removeItem(t)};class xp{constructor(){this.promise=new xp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}xp.promiseConstructor=Promise;function ag(e){const t=e.split(".");if(t.length!==3)throw new Fy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!mG.test(t[r]))throw new Fy("JWT not in base64url format");return{header:JSON.parse(vE(t[0])),payload:JSON.parse(vE(t[1])),signature:La(t[2]),raw:{header:t[0],payload:t[1]}}}async function PG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function RG(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function OG(e){return("0"+e.toString(16)).substr(-2)}function IG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,OG).join("")}async function MG(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function DG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await MG(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yo(e,t,n=!1){const r=IG();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await oa(e,`${t}-code-verifier`,s);const i=await DG(r);return[i,r===i?"plain":"s256"]}const LG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $G(e){const t=e.headers.get(Ly);if(!t||!t.match(LG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qo(e){if(!VG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function BG(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function yE(e){return JSON.parse(JSON.stringify(e))}const to=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zG=[502,503,504];async function wE(e){var t;if(!AG(e))throw new $y(to(e),0);if(zG.includes(e.status))throw new $y(to(e),e.status);let n;try{n=await e.json()}catch(i){throw new ro(to(i),i)}let r;const s=$G(e);if(s&&s.getTime()>=cI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pE(to(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new jn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pE(to(n),e.status,n.weak_password.reasons);throw new vG(to(n),e.status||500,r)}const qG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function me(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ly]||(i[Ly]=cI["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await WG(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function WG(e,t,n,r,s,i){const o=qG(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new $y(to(c),0)}if(a.ok||await wE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await wE(c)}}function pr(e){var t;let n=null;KG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=CG(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xE(e){const t=pr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ti(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HG(e){return{data:e,error:null}}function GG(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Pl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function bE(e){return e}function KG(e){return e.access_token&&e.refresh_token&&e.expires_in}const cg=["global","local","others"];class JG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=hI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=cg[0]){if(cg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cg.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ti})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Pl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:GG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ti})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qo(t);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ti})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qo(t);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ti})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qo(t);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ti})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qo(t.userId);try{const{data:n,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qo(t.userId),Qo(t.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function SE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Xo={debug:!!(globalThis&&dI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YG extends fI{}async function QG(e,t,n){Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function XG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ZG(e){return parseInt(e,16)}function eK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function tK(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=pI(e.address),x=d?`${d}://${r}`:r,m=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${p}

${m}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}y+=w}return`${b}
${y}`}class xt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class gf extends xt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function nK({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(mI(o)){if(i.rp.id!==o)return new xt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function rK({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new xt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(mI(r)){if(n.rpId!==r)return new xt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class sK{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iK=new sK;function oK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Pl(e,["challenge","user","excludeCredentials"]),i=La(t).buffer,o=Object.assign(Object.assign({},n),{id:La(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:La(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function aK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Pl(e,["challenge","allowCredentials"]),s=La(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:La(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function lK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ho(new Uint8Array(e.response.attestationObject)),clientDataJSON:ho(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ho(new Uint8Array(s.authenticatorData)),clientDataJSON:ho(new Uint8Array(s.clientDataJSON)),signature:ho(new Uint8Array(s.signature)),userHandle:s.userHandle?ho(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function _E(){var e,t;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",t)}:{data:null,error:new gf("Empty credential response",t)}}catch(t){return{data:null,error:nK({error:t,options:e})}}}async function dK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",t)}:{data:null,error:new gf("Empty credential response",t)}}catch(t){return{data:null,error:rK({error:t,options:e})}}}const hK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=vf(a,o):r[i]=vf(o)}else r[i]=o}return r}function pK(e,t){return vf(hK,e,t||{})}function mK(e,t){return vf(fK,e,t||{})}class gK{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const c=s??iK.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=pK(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await uK({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=mK(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await dK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new ro("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!_E())return{data:null,error:new ro("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new ro("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!_E())return{data:null,error:new ro("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new ro("Unexpected error in register",o)}}}}XG();const vK={url:hG,storageKey:fG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function kE(e,t,n){return await n()}const Zo={};class cu{get jwks(){var t,n;return(n=(t=Zo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Zo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},vK),t);if(this.storageKey=i.storageKey,this.instanceID=(n=cu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,cu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Lt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new JG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=hI(i.fetch),this.lock=i.lock||kE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=QG:this.lock=kE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:dI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=SE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=SE(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Lt()&&(n=NG(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xG(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new ro("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:pr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Yo(this.storage,this.storageKey)),i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:pr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pr})}else throw new Ad("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xE})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xE})}else throw new Ad("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Jo;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,c,u,d,h,f;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:m,wallet:b,statement:y,options:w}=t;let S;if(Lt())if(typeof b=="object")S=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")S=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),j=await S.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=pI(j[0]);let T=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const O=await S.request({method:"eth_chainId"});T=ZG(O)}const P={domain:_.host,address:C,statement:y,uri:_.href,version:"1",chainId:T,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=tK(P),x=await S.request({method:"personal_sign",params:[eK(p),C]})}try{const{data:m,error:b}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:pr});if(b)throw b;if(!m||!m.session||!m.user){const y=new Jo;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(ue(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var n,r,s,i,o,a,c,u,d,h,f,p;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:b,wallet:y,statement:w,options:S}=t;let _;if(Lt())if(typeof y=="object")_=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let T;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")T=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)T=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),m=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:b,error:y}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ho(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:pr});if(y)throw y;if(!b||!b.session||!b.user){const w=new Jo;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ue(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await Qi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new bG;const{data:i,error:o}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:pr});if(await Dt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pr}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Jo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yo(this.storage,this.storageKey));const{error:h}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ad("You must provide either an email or phone number.")}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Yo(this.storage,this.storageKey));const u=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:HG});return!((i=u.data)===null||i===void 0)&&i.url&&Lt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new jn;const{error:s}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Ad("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ig:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Qi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=lg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=BG(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ti}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ti})})}catch(n){if(ue(n))return wG(n)&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new jn;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Yo(this.storage,this.storageKey));const{data:u,error:d}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:ti});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ag(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new jn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Lt())throw new Pd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fE("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new Pd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Qi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(yG(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=TG(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Yo(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ue(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:c,access_token:u,nonce:d}=t,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:pr}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Jo}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await RG(async s=>(s>0&&await PG(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&og(i)&&Date.now()+o-r<ia})}catch(r){if(this._debug(n,"error",r),ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Qi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await oa(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:lg()}else if(s&&!s.user&&!s.user){const o=await Qi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Dt(this.storage,this.storageKey+"-user"),await oa(this.storage,this.storageKey,s)):s.user=lg()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ig;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ig}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),og(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xp;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new jn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ue(i)){const o={data:null,error:i};return og(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await oa(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=yE(s);await oa(this.storage,this.storageKey,i)}else{const s=yE(n);await oa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dt(this.storage,this.storageKey),await Dt(this.storage,this.storageKey+"-code-verifier"),await Dt(this.storage,this.storageKey+"-user"),this.userStorage&&await Dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ia);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ia}ms, refresh threshold is ${Dy} ticks`),s<=Dy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Yo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await me(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lK(t.webauthn.credential_response):cK(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:oK(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:aK(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ag(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new jn})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new jn});const o=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new jn});const o=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new jn})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jn})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+gG>s)return r;const{data:i,error:o}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=ag(r);n!=null&&n.allowExpired||FG(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=UG(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,jG(`${a}.${c}`)))throw new Fy("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}}cu.nextInstanceID={};const yK=cu,wK="2.90.1";let sc="";typeof Deno<"u"?sc="deno":typeof document<"u"?sc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sc="react-native":sc="node";const xK={"X-Client-Info":`supabase-js-${sc}/${wK}`},bK={headers:xK},SK={schema:"public"},_K={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kK={};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function EK(e,t){if(uu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jK(e){var t=EK(e,"string");return uu(t)=="symbol"?t:t+""}function CK(e,t,n){return(t=jK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){CK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const TK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NK=()=>Headers,AK=(e,t,n)=>{const r=TK(n),s=NK();return async(i,o)=>{var a;const c=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,ht(ht({},o),{},{headers:u}))}};function PK(e){return e.endsWith("/")?e:e+"/"}function RK(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:ht(ht({},c),s),auth:ht(ht({},u),i),realtime:ht(ht({},d),o),storage:{},global:ht(ht(ht({},h),a),{},{headers:ht(ht({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function OK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IK=class extends yK{constructor(e){super(e)}},MK=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=OK(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:SK,realtime:kK,auth:ht(ht({},_K),{},{storageKey:o}),global:bK},c=RK(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=AK(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ht({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new p9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new dG(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new c9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IK({url:this.authUrl.href,headers:ht(ht({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new P9(this.realtimeUrl.href,ht(ht({},e),{},{params:ht(ht({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const DK=(e,t,n)=>new MK(e,t,n);function LK(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}LK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $K="https://gsucaxeqzluzbmvonsmj.supabase.co",FK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",at=DK($K,FK),yf={generic_discovery:{name:"Generic Discovery",description:"Standard discovery interview to understand workflows and identify automation opportunities."},technical_deep_dive:{name:"Technical Deep-Dive",description:"Focus on tech stack, APIs, data flows, integrations, and system architecture."},process_efficiency:{name:"Process Efficiency",description:"Focus on pain points, bottlenecks, time spent, and improvement opportunities."},compliance_risk:{name:"Compliance & Risk",description:"Focus on controls, approvals, audit trails, regulatory requirements, and risk mitigation."}};function UK(e={}){const[t,n]=g.useState(!1),[r,s]=g.useState(""),[i,o]=g.useState(""),[a,c]=g.useState(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(e.accessToken||null);g.useEffect(()=>{f.current=e.accessToken||null},[e.accessToken]);const p=async()=>{if(!f.current)throw new Error("No access token - session not started");const{data:w,error:S}=await at.functions.invoke("deepgram-token",{body:{accessToken:f.current}});if(S)throw new Error(`Failed to get Deepgram token: ${S.message}`);if((w==null?void 0:w.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(w!=null&&w.key))throw new Error((w==null?void 0:w.error)||"No token returned from Deepgram");return w.key},x=g.useCallback(async()=>{var w;if(!t){c(null),s(""),o("");try{const S=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=S;const _=await p(),j=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true&mip_opt_out=true",["token",_]);u.current=j,j.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const C=new MediaRecorder(S,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});d.current=C,C.ondataavailable=T=>{T.data.size>0&&j.readyState===WebSocket.OPEN&&j.send(T.data)},C.start(250)},j.onmessage=C=>{var T,P,O,I;try{const R=JSON.parse(C.data);if((O=(P=(T=R.channel)==null?void 0:T.alternatives)==null?void 0:P[0])!=null&&O.transcript){const D=R.channel.alternatives[0].transcript;R.is_final?(s(H=>{var Q;const V=H?`${H} ${D}`:D;return(Q=e.onTranscript)==null||Q.call(e,V),V}),o("")):(o(D),(I=e.onInterimTranscript)==null||I.call(e,D))}}catch(R){console.error("Error parsing Deepgram message:",R)}},j.onerror=C=>{var P;console.error("Deepgram WebSocket error:",C);const T=new Error("WebSocket connection error");c(T),(P=e.onError)==null||P.call(e,T)},j.onclose=C=>{console.log("Deepgram WebSocket closed:",C.code,C.reason),n(!1)}}catch(S){console.error("Failed to start listening:",S);const _=S instanceof Error?S:new Error("Failed to start listening");c(_),(w=e.onError)==null||w.call(e,_),n(!1)}}},[t,e]),m=g.useCallback(()=>{d.current&&d.current.state!=="inactive"&&d.current.stop(),d.current=null,u.current&&u.current.close(),u.current=null,h.current&&h.current.getTracks().forEach(w=>w.stop()),h.current=null,n(!1),o("")},[]),b=g.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=g.useCallback(()=>{s(""),o("")},[]);return g.useEffect(()=>()=>{m()},[m]),{isListening:t,transcript:r,interimTranscript:i,error:a,startListening:x,stopListening:m,getFullTranscript:b,clearTranscript:y}}function VK(e={}){const[t,n]=g.useState([]),[r,s]=g.useState(!1),[i,o]=g.useState(null),[a,c]=g.useState(!1),u=g.useRef(null),d=g.useRef(e);d.current=e;const h=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=g.useCallback(w=>{u.current=w},[]),p=g.useCallback(w=>{const S=w.map(_=>({role:_.role,content:_.content,timestamp:_.timestamp?new Date(_.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):h()}));n(S),c(!0)},[]),x=g.useCallback(async w=>{var S,_,j,C;o(null),s(!0);try{const{data:T,error:P}=await at.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:w}});if(P)throw new Error(`Failed to start conversation: ${P.message}`);if(!(T!=null&&T.response))throw new Error("No response from chat service");const O={role:"assistant",content:T.response,timestamp:h()};n([O]),(_=(S=d.current).onMessageReceived)==null||_.call(S,O)}catch(T){console.error("Error starting conversation:",T);const P=T instanceof Error?T:new Error("Failed to start conversation");o(P),(C=(j=d.current).onError)==null||C.call(j,P)}finally{s(!1)}},[]),m=g.useCallback(async w=>{var _,j,C,T,P,O,I,R;if(!w.trim())return;if(!u.current){const D=new Error("No access token - session not started");o(D),(j=(_=d.current).onError)==null||j.call(_,D);return}o(null);const S={role:"user",content:w.trim(),timestamp:h()};n(D=>[...D,S]),s(!0);try{const{data:D,error:H}=await at.functions.invoke("chat-interview",{body:{accessToken:u.current,message:w.trim()}});if(H)throw new Error(`Failed to send message: ${H.message}`);if((D==null?void 0:D.error)==="Invalid or expired session")throw(T=(C=d.current).onSessionExpired)==null||T.call(C),new Error("Session expired. Please refresh the page to restart.");if(!(D!=null&&D.response))throw new Error("No response from chat service");const V={role:"assistant",content:D.response,timestamp:h()};n(Q=>[...Q,V]),(O=(P=d.current).onMessageReceived)==null||O.call(P,V)}catch(D){console.error("Error sending message:",D);const H=D instanceof Error?D:new Error("Failed to send message");o(H),(R=(I=d.current).onError)==null||R.call(I,H)}finally{s(!1)}},[]),b=g.useCallback(()=>t,[t]),y=g.useCallback(()=>{n([]),u.current=null,o(null),s(!1),c(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:a,startConversation:x,sendMessage:m,getTranscript:b,resetConversation:y,setAccessToken:f,initializeMessages:p}}function BK({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s}){const[i,o]=g.useState(""),[a,c]=g.useState(!1),[u,d]=g.useState(!0),h=g.useRef(null),f=g.useRef(null),p=g.useRef(null),x=g.useCallback(()=>{setTimeout(()=>{var B;(B=f.current)==null||B.scrollIntoView({behavior:"smooth"})},100)},[]),m=g.useCallback(()=>{x()},[x]),b=g.useCallback(()=>{c(!0)},[]),{messages:y,isThinking:w,error:S,isResumed:_,startConversation:j,sendMessage:C,setAccessToken:T,initializeMessages:P}=VK({onMessageReceived:m,onSessionExpired:b});g.useEffect(()=>{t&&T(t)},[t,T]);const{isListening:O,transcript:I,interimTranscript:R,error:D,startListening:H,stopListening:V,clearTranscript:Q}=UK({accessToken:t,onTranscript:B=>{o(te=>te?`${te} ${B}`:B)}});g.useEffect(()=>{n&&n.length>0?P(n):j(e)},[e,n,P,j]),g.useEffect(()=>{r==null||r(y)},[y,r]),g.useEffect(()=>{x()},[y,w,x]),g.useEffect(()=>{y.some(te=>te.role==="user")&&u&&d(!1)},[y,u]);const J=()=>{var te;const B=i.trim();!B||w||(C(B),o(""),Q(),(te=p.current)==null||te.focus())},Y=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),J())},L=async()=>{O?V():await H()},$=i+(O&&R?` ${R}`:"");return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(ap,{className:"flex-1 p-4",ref:h,children:l.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[_&&y.length>0&&l.jsx(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:l.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),l.jsx(Ni,{initial:!1,children:y.map((B,te)=>l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${B.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${B.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:B.content}),l.jsx("p",{className:`text-xs mt-1 ${B.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:B.timestamp})]})},te))}),w&&l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:l.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(fe.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),l.jsx(fe.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),l.jsx(fe.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})}),l.jsx("div",{ref:f})]})}),a&&l.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(S||D)&&!a&&l.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(S==null?void 0:S.message)||(D==null?void 0:D.message)}),O&&l.jsx(fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[l.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((B,te)=>l.jsx(fe.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:te*.1},className:"w-1 bg-accent rounded-full"},te))}),l.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),R&&l.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:R})]})}),l.jsx("div",{className:"border-t bg-background p-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(re,{type:"button",variant:"default",size:"default",onClick:L,disabled:a||!t,className:`shrink-0 gap-2 ${O?"bg-destructive hover:bg-destructive/90":"bg-accent hover:bg-accent/90"} ${u&&!O?"animate-pulse-subtle":""}`,title:a?"Session expired":t?O?"Stop listening":"Start voice input":"Session not ready",children:O?l.jsxs(l.Fragment,{children:[l.jsx(RF,{className:"h-4 w-4"}),"Stop"]}):l.jsxs(l.Fragment,{children:[l.jsx(wi,{className:"h-4 w-4"}),"Speak"]})}),l.jsx(Vt,{ref:p,value:$,onChange:B=>o(B.target.value),onKeyDown:Y,placeholder:a?"Session expired":O?"Speak now...":"Tap Speak to talk  or type here if you prefer",disabled:w||a,className:"flex-1"}),l.jsx(re,{type:"button",onClick:J,disabled:!i.trim()||w||a,size:"icon",className:"shrink-0",children:w?l.jsx(vt,{className:"h-4 w-4 animate-spin"}):l.jsx(AF,{className:"h-4 w-4"})})]}),u&&l.jsxs("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:["Speaking is faster than typing  tap ",l.jsx("span",{className:"font-medium",children:"Speak"})," to talk, or type here if you prefer"]}),!u&&l.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Click Speak to talk, or type and press Enter"})]})})]})}function Fu({className:e=""}){return l.jsx("footer",{className:`py-4 text-center text-sm text-muted-foreground ${e}`,children:l.jsxs("nav",{className:"flex items-center justify-center gap-4",children:[l.jsx(Je,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Je,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Je,{to:"/subprocessors",className:"hover:text-foreground transition-colors",children:"Sub-processors"})]})})}var ug="focusScope.autoFocusOnMount",dg="focusScope.autoFocusOnUnmount",jE={bubbles:!1,cancelable:!0},zK="FocusScope",Sx=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=g.useState(null),u=Ct(s),d=Ct(i),h=g.useRef(null),f=ke(t,m=>c(m)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let m=function(S){if(p.paused||!a)return;const _=S.target;a.contains(_)?h.current=_:Gs(h.current,{select:!0})},b=function(S){if(p.paused||!a)return;const _=S.relatedTarget;_!==null&&(a.contains(_)||Gs(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const j of S)j.removedNodes.length>0&&Gs(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,p.paused]),g.useEffect(()=>{if(a){TE.add(p);const m=document.activeElement;if(!a.contains(m)){const y=new CustomEvent(ug,jE);a.addEventListener(ug,u),a.dispatchEvent(y),y.defaultPrevented||(qK(JK(gI(a)),{select:!0}),document.activeElement===m&&Gs(a))}return()=>{a.removeEventListener(ug,u),setTimeout(()=>{const y=new CustomEvent(dg,jE);a.addEventListener(dg,d),a.dispatchEvent(y),y.defaultPrevented||Gs(m??document.body,{select:!0}),a.removeEventListener(dg,d),TE.remove(p)},0)}}},[a,u,d,p]);const x=g.useCallback(m=>{if(!n&&!r||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(b&&y){const w=m.currentTarget,[S,_]=WK(w);S&&_?!m.shiftKey&&y===_?(m.preventDefault(),n&&Gs(S,{select:!0})):m.shiftKey&&y===S&&(m.preventDefault(),n&&Gs(_,{select:!0})):y===w&&m.preventDefault()}},[n,r,p.paused]);return l.jsx(pe.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});Sx.displayName=zK;function qK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Gs(r,{select:t}),document.activeElement!==n)return}function WK(e){const t=gI(e),n=CE(t,e),r=CE(t.reverse(),e);return[n,r]}function gI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function CE(e,t){for(const n of e)if(!HK(n,{upTo:t}))return n}function HK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GK(e){return e instanceof HTMLInputElement&&"select"in e}function Gs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&GK(e)&&t&&e.select()}}var TE=KK();function KK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=NE(e,t),e.unshift(t)},remove(t){var n;e=NE(e,t),(n=e[0])==null||n.resume()}}}function NE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function JK(e){return e.filter(t=>t.tagName!=="A")}var hg=0;function vI(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AE()),document.body.insertAdjacentElement("beforeend",e[1]??AE()),hg++,()=>{hg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hg--}},[])}function AE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dh="right-scroll-bar-position",hh="width-before-scroll-bar",YK="with-scroll-bars-hidden",QK="--removed-body-scroll-bar-size";function fg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XK(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var ZK=typeof window<"u"?g.useLayoutEffect:g.useEffect,PE=new WeakMap;function e7(e,t){var n=XK(null,function(r){return e.forEach(function(s){return fg(s,r)})});return ZK(function(){var r=PE.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||fg(a,null)}),i.forEach(function(a){s.has(a)||fg(a,o)})}PE.set(n,e)},[e]),n}function t7(e){return e}function n7(e,t){t===void 0&&(t=t7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function r7(e){e===void 0&&(e={});var t=n7(null);return t.options=Kr({async:!0,ssr:!1},e),t}var yI=function(e){var t=e.sideCar,n=Pl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Kr({},n))};yI.isSideCarExport=!0;function s7(e,t){return e.useMedium(t),yI}var wI=r7(),pg=function(){},bp=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:pg,onWheelCapture:pg,onTouchMoveCapture:pg}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,x=e.noIsolation,m=e.inert,b=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,_=Pl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,C=e7([n,t]),T=Kr(Kr({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(j,{sideCar:wI,removeScrollBar:u,shards:h,noRelative:p,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:S}),o?g.cloneElement(g.Children.only(a),Kr(Kr({},T),{ref:C})):g.createElement(w,Kr({},T,{className:c,ref:C}),a))});bp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bp.classNames={fullWidth:hh,zeroRight:dh};var i7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=i7();return t&&e.setAttribute("nonce",t),e}function a7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=o7())&&(a7(t,n),l7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},u7=function(){var e=c7();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xI=function(){var e=u7(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},d7={left:0,top:0,right:0,gap:0},mg=function(e){return parseInt(e||"",10)||0},h7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[mg(n),mg(r),mg(s)]},f7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return d7;var t=h7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},p7=xI(),$a="data-scroll-locked",m7=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat($a,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hh," .").concat(hh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($a,`] {
    `).concat(QK,": ").concat(a,`px;
  }
`)},RE=function(){var e=parseInt(document.body.getAttribute($a)||"0",10);return isFinite(e)?e:0},g7=function(){g.useEffect(function(){return document.body.setAttribute($a,(RE()+1).toString()),function(){var e=RE()-1;e<=0?document.body.removeAttribute($a):document.body.setAttribute($a,e.toString())}},[])},v7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;g7();var i=g.useMemo(function(){return f7(s)},[s]);return g.createElement(p7,{styles:m7(i,!t,s,n?"":"!important")})},Uy=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return Uy=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{Uy=!1}var ea=Uy?{passive:!1}:!1,y7=function(e){return e.tagName==="TEXTAREA"},bI=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!y7(e)&&n[t]==="visible")},w7=function(e){return bI(e,"overflowY")},x7=function(e){return bI(e,"overflowX")},OE=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SI(e,r);if(s){var i=_I(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},S7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},SI=function(e,t){return e==="v"?w7(t):x7(t)},_I=function(e,t){return e==="v"?b7(t):S7(t)},_7=function(e,t){return e==="h"&&t==="rtl"?-1:1},k7=function(e,t,n,r,s){var i=_7(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var p=_I(e,a),x=p[0],m=p[1],b=p[2],y=m-b-i*x;(x||y)&&SI(e,a)&&(h+=y,f+=x);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Od=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IE=function(e){return[e.deltaX,e.deltaY]},ME=function(e){return e&&"current"in e?e.current:e},E7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},j7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},C7=0,ta=[];function T7(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(C7++)[0],i=g.useState(xI)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=o9([e.lockRef.current],(e.shards||[]).map(ME),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=g.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=Od(m),w=n.current,S="deltaX"in m?m.deltaX:w[0]-y[0],_="deltaY"in m?m.deltaY:w[1]-y[1],j,C=m.target,T=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in m&&T==="h"&&C.type==="range")return!1;var P=OE(T,C);if(!P)return!0;if(P?j=T:(j=T==="v"?"h":"v",P=OE(T,C)),!P)return!1;if(!r.current&&"changedTouches"in m&&(S||_)&&(r.current=j),!j)return!0;var O=r.current||j;return k7(O,b,m,O==="h"?S:_,!0)},[]),c=g.useCallback(function(m){var b=m;if(!(!ta.length||ta[ta.length-1]!==i)){var y="deltaY"in b?IE(b):Od(b),w=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&E7(j.delta,y)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(ME).filter(Boolean).filter(function(j){return j.contains(b.target)}),_=S.length>0?a(b,S[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(m,b,y,w){var S={name:m,delta:b,target:y,should:w,shadowParent:N7(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(_){return _!==S})},1)},[]),d=g.useCallback(function(m){n.current=Od(m),r.current=void 0},[]),h=g.useCallback(function(m){u(m.type,IE(m),m.target,a(m,e.lockRef.current))},[]),f=g.useCallback(function(m){u(m.type,Od(m),m.target,a(m,e.lockRef.current))},[]);g.useEffect(function(){return ta.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ea),document.addEventListener("touchmove",c,ea),document.addEventListener("touchstart",d,ea),function(){ta=ta.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,ea),document.removeEventListener("touchmove",c,ea),document.removeEventListener("touchstart",d,ea)}},[]);var p=e.removeScrollBar,x=e.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:j7(s)}):null,p?g.createElement(v7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function N7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const A7=s7(wI,T7);var _x=g.forwardRef(function(e,t){return g.createElement(bp,Kr({},e,{ref:t,sideCar:A7}))});_x.classNames=bp.classNames;var P7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},na=new WeakMap,Id=new WeakMap,Md={},gg=0,kI=function(e){return e&&(e.host||kI(e.parentNode))},R7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kI(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},O7=function(e,t,n,r){var s=R7(t,Array.isArray(e)?e:[e]);Md[n]||(Md[n]=new WeakMap);var i=Md[n],o=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",m=(na.get(f)||0)+1,b=(i.get(f)||0)+1;na.set(f,m),i.set(f,b),o.push(f),m===1&&x&&Id.set(f,!0),b===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),a.clear(),gg++,function(){o.forEach(function(h){var f=na.get(h)-1,p=i.get(h)-1;na.set(h,f),i.set(h,p),f||(Id.has(h)||h.removeAttribute(r),Id.delete(h)),p||h.removeAttribute(n)}),gg--,gg||(na=new WeakMap,na=new WeakMap,Id=new WeakMap,Md={})}},EI=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=P7(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),O7(r,s,n,"aria-hidden")):function(){return null}},Sp="Dialog",[jI,CI]=Fn(Sp),[I7,Dr]=jI(Sp),TI=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=g.useRef(null),c=g.useRef(null),[u,d]=Rr({prop:r,defaultProp:s??!1,onChange:i,caller:Sp});return l.jsx(I7,{scope:t,triggerRef:a,contentRef:c,contentId:Tr(),titleId:Tr(),descriptionId:Tr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};TI.displayName=Sp;var NI="DialogTrigger",AI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Dr(NI,n),i=ke(t,s.triggerRef);return l.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jx(s.open),...r,ref:i,onClick:ce(e.onClick,s.onOpenToggle)})});AI.displayName=NI;var kx="DialogPortal",[M7,PI]=jI(kx,{forceMount:void 0}),RI=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Dr(kx,t);return l.jsx(M7,{scope:t,forceMount:n,children:g.Children.map(r,o=>l.jsx(Un,{present:n||i.open,children:l.jsx(Ff,{asChild:!0,container:s,children:o})}))})};RI.displayName=kx;var wf="DialogOverlay",OI=g.forwardRef((e,t)=>{const n=PI(wf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Dr(wf,e.__scopeDialog);return i.modal?l.jsx(Un,{present:r||i.open,children:l.jsx(L7,{...s,ref:t})}):null});OI.displayName=wf;var D7=nl("DialogOverlay.RemoveScroll"),L7=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Dr(wf,n);return l.jsx(_x,{as:D7,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(pe.div,{"data-state":jx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Do="DialogContent",II=g.forwardRef((e,t)=>{const n=PI(Do,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Dr(Do,e.__scopeDialog);return l.jsx(Un,{present:r||i.open,children:i.modal?l.jsx($7,{...s,ref:t}):l.jsx(F7,{...s,ref:t})})});II.displayName=Do;var $7=g.forwardRef((e,t)=>{const n=Dr(Do,e.__scopeDialog),r=g.useRef(null),s=ke(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return EI(i)},[]),l.jsx(MI,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault())})}),F7=g.forwardRef((e,t)=>{const n=Dr(Do,e.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(MI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),MI=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Dr(Do,n),c=g.useRef(null),u=ke(t,c);return vI(),l.jsxs(l.Fragment,{children:[l.jsx(Sx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Su,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":jx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(V7,{titleId:a.titleId}),l.jsx(z7,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Ex="DialogTitle",DI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Dr(Ex,n);return l.jsx(pe.h2,{id:s.titleId,...r,ref:t})});DI.displayName=Ex;var LI="DialogDescription",$I=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Dr(LI,n);return l.jsx(pe.p,{id:s.descriptionId,...r,ref:t})});$I.displayName=LI;var FI="DialogClose",UI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Dr(FI,n);return l.jsx(pe.button,{type:"button",...r,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});UI.displayName=FI;function jx(e){return e?"open":"closed"}var VI="DialogTitleWarning",[U7,BI]=E$(VI,{contentName:Do,titleName:Ex,docsSlug:"dialog"}),V7=({titleId:e})=>{const t=BI(VI),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},B7="DialogDescriptionWarning",z7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BI(B7).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zI=TI,q7=AI,qI=RI,Cx=OI,Tx=II,Nx=DI,Ax=$I,Px=UI,WI="AlertDialog",[W7,MQ]=Fn(WI,[CI]),Os=CI(),HI=e=>{const{__scopeAlertDialog:t,...n}=e,r=Os(t);return l.jsx(zI,{...r,...n,modal:!0})};HI.displayName=WI;var H7="AlertDialogTrigger",G7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return l.jsx(q7,{...s,...r,ref:t})});G7.displayName=H7;var K7="AlertDialogPortal",GI=e=>{const{__scopeAlertDialog:t,...n}=e,r=Os(t);return l.jsx(qI,{...r,...n})};GI.displayName=K7;var J7="AlertDialogOverlay",KI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return l.jsx(Cx,{...s,...r,ref:t})});KI.displayName=J7;var Fa="AlertDialogContent",[Y7,Q7]=W7(Fa),X7=uT("AlertDialogContent"),JI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Os(n),o=g.useRef(null),a=ke(t,o),c=g.useRef(null);return l.jsx(U7,{contentName:Fa,titleName:YI,docsSlug:"alert-dialog",children:l.jsx(Y7,{scope:n,cancelRef:c,children:l.jsxs(Tx,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ce(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(X7,{children:r}),l.jsx(eJ,{contentRef:o})]})})})});JI.displayName=Fa;var YI="AlertDialogTitle",QI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return l.jsx(Nx,{...s,...r,ref:t})});QI.displayName=YI;var XI="AlertDialogDescription",ZI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return l.jsx(Ax,{...s,...r,ref:t})});ZI.displayName=XI;var Z7="AlertDialogAction",eM=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Os(n);return l.jsx(Px,{...s,...r,ref:t})});eM.displayName=Z7;var tM="AlertDialogCancel",nM=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=Q7(tM,n),i=Os(n),o=ke(t,s);return l.jsx(Px,{...i,...r,ref:o})});nM.displayName=tM;var eJ=({contentRef:e})=>{const t=`\`${Fa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fa}\` by passing a \`${XI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},tJ=HI,nJ=GI,rM=KI,sM=JI,iM=eM,oM=nM,aM=QI,lM=ZI;const rJ=tJ,sJ=nJ,cM=g.forwardRef(({className:e,...t},n)=>l.jsx(rM,{className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));cM.displayName=rM.displayName;const uM=g.forwardRef(({className:e,...t},n)=>l.jsxs(sJ,{children:[l.jsx(cM,{}),l.jsx(sM,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));uM.displayName=sM.displayName;const dM=({className:e,...t})=>l.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",e),...t});dM.displayName="AlertDialogHeader";const hM=({className:e,...t})=>l.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hM.displayName="AlertDialogFooter";const fM=g.forwardRef(({className:e,...t},n)=>l.jsx(aM,{ref:n,className:oe("text-lg font-semibold",e),...t}));fM.displayName=aM.displayName;const pM=g.forwardRef(({className:e,...t},n)=>l.jsx(lM,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));pM.displayName=lM.displayName;const mM=g.forwardRef(({className:e,...t},n)=>l.jsx(iM,{ref:n,className:oe(v0(),e),...t}));mM.displayName=iM.displayName;const gM=g.forwardRef(({className:e,...t},n)=>l.jsx(oM,{ref:n,className:oe(v0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gM.displayName=oM.displayName;const ra=!1,iJ="2026-01-22";function oJ(){const{token:e}=g0(),[t]=h3(),[n,r]=g.useState("loading"),[s,i]=g.useState(null),[o,a]=g.useState(""),[c,u]=g.useState(null),[d,h]=g.useState(null),[f,p]=g.useState(null),[x,m]=g.useState(null),[b,y]=g.useState(null),[w,S]=g.useState(!1),[_,j]=g.useState(0),[C,T]=g.useState(0),[P,O]=g.useState(0),[I,R]=g.useState(!1),[D,H]=g.useState(!1),[V,Q]=g.useState(!1),[J,Y]=g.useState(null),[L,$]=g.useState(!1),[B,te]=g.useState(!1),[ne,v]=g.useState(!1),{toast:E}=bu(),k=g.useRef([]),A=g.useRef(null);g.useEffect(()=>{const ae=t.get("mode");ae==="voice"&&!ra?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(ae==="chat"||ae==="voice"&&ra)&&i(ae)},[t]);const[N,M]=g.useState(!1);g.useEffect(()=>{async function ae(){if(!e){r("invalid"),a("No interview token provided");return}try{const{data:le,error:Z}=await at.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(Z){console.error("Failed to validate token:",Z),r("invalid"),a("Unable to validate interview link. Please try again.");return}if(le!=null&&le.error){r("invalid"),a(le.error);return}if(!(le!=null&&le.interviewee)){r("invalid"),a("Interview not found");return}u(le.interviewee),h(le.org||null),le.hasExistingSession&&M(!0),r("before")}catch(le){console.error("Error loading interview:",le),r("invalid"),a("An unexpected error occurred. Please try again.")}}ae()},[e]),g.useEffect(()=>{N&&c&&n==="before"&&(console.log("[INFO] Auto-starting interview for returning user"),M(!1),_n("chat"))},[N,c,n]);const{status:U,transcript:F,isMuted:W,volumeLevel:X,startCall:de,endCall:Me,toggleMute:wt,isConnected:ut,isSpeaking:Oe,isListening:Ze}=s9({onStatusChange:ae=>{console.log("Vapi status:",ae),ae==="connected"||ae==="speaking"||ae==="listening"?r("during"):ae==="ended"?Wo():ae==="error"&&r("error")},onError:ae=>{console.error("Vapi error:",ae),E({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:ae=>{k.current=ae}});g.useEffect(()=>{let ae;return n==="during"&&ut&&(ae=setInterval(()=>{j(le=>le+1)},1e3)),()=>clearInterval(ae)},[n,ut]);const _t=ae=>{const le=Math.floor(ae/60).toString().padStart(2,"0"),Z=(ae%60).toString().padStart(2,"0");return`${le}:${Z}`},_n=async ae=>{if(!(!c||!e)){r("loading"),Y(ae);try{const{data:le,error:Z}=await at.functions.invoke("start-interview",{body:{interviewToken:e}});if(Z||!(le!=null&&le.accessToken))throw new Error((le==null?void 0:le.error)||(Z==null?void 0:Z.message)||"Failed to start interview");le.consentAlreadyGiven&&le.resumed?(p(le.interviewId),m(le.accessToken),le.transcript&&le.transcript.length>0&&(y(le.transcript),S(!0),console.log("[INFO] Resuming interview with",le.transcript.length,"messages")),E({title:"Welcome back",description:"Continuing where you left off. Your previous consent is still valid."}),i(ae),r("during"),A.current=Date.now()):(p(le.interviewId),m(le.accessToken),le.transcript&&le.transcript.length>0&&(y(le.transcript),S(!0)),r("consent"))}catch(le){console.error("Failed to check interview status:",le),E({title:"Error",description:le instanceof Error?le.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),Y(null)}}},tn=async()=>{if(!(!J||!c||!e||!x)){if(!L||!B){E({title:"Consent required",description:"Please acknowledge both checkboxes to continue.",variant:"destructive"});return}if(J==="voice"&&!ne){E({title:"Audio consent required",description:"Please consent to audio recording to use voice mode.",variant:"destructive"});return}r("loading");try{const{error:ae}=await at.functions.invoke("start-interview",{body:{interviewToken:e,privacyAcknowledgedAt:new Date().toISOString(),privacyNoticeVersion:iJ,audioConsentGiven:J==="voice"?ne:!1}});ae&&console.warn("Failed to save consent, continuing anyway:",ae),i(J),r("during"),A.current=Date.now(),J==="voice"&&ra&&await de(c.name)}catch(ae){console.error("Failed to save consent:",ae),i(J),r("during"),A.current=Date.now()}}},kn=()=>{r("before"),Y(null),$(!1),te(!1),v(!1)},It=ae=>{k.current=ae},as=()=>{Q(!0)},Is=()=>{Q(!1),Wo()},At=()=>{Q(!1),Me()},or=()=>{E({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},Wo=async()=>{H(!0);const ae=A.current?Math.floor((Date.now()-A.current)/1e3):_;if(j(ae),x)try{const{data:le,error:Z}=await at.functions.invoke("complete-interview",{body:{accessToken:x,durationSeconds:ae}});(Z||le!=null&&le.error)&&(console.error("Failed to complete interview:",Z||(le==null?void 0:le.error)),E({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(le){console.error("Failed to complete interview:",le),E({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}H(!1),r("after")},Ol=async ae=>{if(T(ae),x)try{await at.functions.invoke("complete-interview",{body:{accessToken:x,rating:ae}})}catch(le){console.error("Failed to save rating:",le)}},Ms=()=>{window.close()},Vu=()=>{r("before"),j(0)};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("img",{src:Tl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cl,{}),!1]})]})}),l.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:l.jsxs(Ni,{mode:"wait",children:[n==="loading"&&l.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[l.jsx(vt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Te,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ae,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:l.jsx(rl,{className:"h-10 w-10 text-destructive"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),l.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&c&&l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Te,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ae,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(wi,{className:"h-10 w-10 text-white"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),l.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),l.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4 border-l-4",style:{borderLeftColor:"#7952b3"},children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),l.jsx("p",{className:"font-semibold text-foreground",children:c.name}),c.role&&l.jsx("p",{className:"text-sm text-muted-foreground",children:c.role}),d&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.name})]}),l.jsxs("div",{className:"mb-6 rounded-lg bg-accent/10 p-4 text-left",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Quick tip:"})," Speaking is faster than typing, and people tend to share more when they talk naturally. Just tap the ",l.jsx("span",{className:"font-medium",children:"Speak"})," button when you're ready."]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Can't talk? No problem  typing works too."})]}),l.jsxs("div",{className:"space-y-3",children:[ra,l.jsx(re,{size:"lg",variant:"default",onClick:()=>_n("chat"),className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Let's Begin"})]}),l.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="consent"&&c&&l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Te,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ae,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Quick bit of housekeeping"}),l.jsx("p",{className:"mb-6 text-muted-foreground text-left",children:"Before we dive in, we need to tick a couple of boxes - and I mean that literally. Here's why:"}),l.jsxs("div",{className:"space-y-4 text-left mb-6",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(sh,{id:"privacy",checked:L,onCheckedChange:ae=>$(ae===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none",children:l.jsxs(gt,{htmlFor:"privacy",className:"font-normal cursor-pointer",children:["I've read the"," ",l.jsx(Je,{to:"/privacy",className:"text-accent underline hover:text-accent/80",children:"Privacy Notice"})," ","- this covers how we handle your data, who sees what, and confirms your responses are never used to train AI. The short version: everything stays confidential."]})})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(sh,{id:"recording",checked:B,onCheckedChange:ae=>te(ae===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none",children:l.jsx(gt,{htmlFor:"recording",className:"font-normal cursor-pointer",children:"I understand this conversation will be recorded and analysed - this is how we turn a 20-minute chat into genuinely useful insights for your organisation."})})]}),J==="voice"&&ra&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(sh,{id:"audio",checked:ne,onCheckedChange:ae=>v(ae===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none",children:l.jsx(gt,{htmlFor:"audio",className:"font-normal cursor-pointer",children:"I consent to audio recording and transcription"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(re,{size:"lg",onClick:tn,disabled:!L||!B||J==="voice"&&!ne,className:"w-full gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:J==="voice"?l.jsxs(l.Fragment,{children:[l.jsx(wi,{className:"h-5 w-5"}),"Continue with Voice"]}):l.jsxs(l.Fragment,{children:[l.jsx(Uh,{className:"h-5 w-5"}),"Continue with Text"]})}),l.jsx(re,{variant:"ghost",size:"sm",onClick:kn,className:"w-full",children:"Back"})]})]})})},"consent"),n==="during"&&s==="voice"&&l.jsx(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mb-8 inline-block",children:[ut&&l.jsxs(l.Fragment,{children:[l.jsx(fe.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),l.jsx(fe.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),l.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${U==="connecting"?"bg-muted animate-pulse":Oe?"bg-accent":Ze?"bg-primary":"bg-muted"}`,children:W?l.jsx(fS,{className:"h-12 w-12 text-white"}):l.jsx(wi,{className:"h-12 w-12 text-white"})})]}),l.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:U==="connecting"?"Connecting...":Oe?"AI Speaking...":Ze?"Listening...":"Connected"}),l.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:_t(_)}),ut&&l.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((ae,le)=>l.jsx(fe.div,{className:`w-1 rounded-full ${le<Math.floor(X*10)?"bg-accent":"bg-muted"}`,animate:{height:Ze?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:le*.05}},le))}),l.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[l.jsxs(re,{variant:"outline",size:"lg",onClick:wt,className:"gap-2",children:[W?l.jsx(fS,{className:"h-5 w-5"}):l.jsx(UT,{className:"h-5 w-5"}),W?"Unmute":"Mute"]}),l.jsxs(re,{variant:"outline",size:"lg",onClick:or,className:"gap-2",children:[l.jsx(pS,{className:"h-5 w-5"}),"Pause & Save"]}),l.jsx(re,{variant:"outline",size:"lg",onClick:as,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),l.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>R(!I),className:"mb-4",children:[I?"Hide":"Show"," Live Transcript"]}),l.jsx(Ni,{children:I&&F.length>0&&l.jsx(fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:l.jsx(Te,{className:"mx-auto max-w-xl",children:l.jsx(ap,{className:"h-48 p-4",children:l.jsx("div",{className:"space-y-3",children:F.map((ae,le)=>l.jsxs("div",{className:`text-sm ${ae.role==="assistant"?"text-accent":"text-foreground"}`,children:[l.jsx("span",{className:"font-medium",children:ae.role==="assistant"?"AI: ":"You: "}),ae.content]},le))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&l.jsx(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:l.jsxs(Te,{className:"h-full border-0 shadow-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Uh,{className:"h-5 w-5 text-accent"}),l.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(re,{variant:"outline",size:"sm",onClick:or,className:"gap-1",children:[l.jsx(pS,{className:"h-4 w-4"}),"Pause & Save"]}),l.jsx(re,{variant:"outline",size:"sm",onClick:as,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),l.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:l.jsx(BK,{intervieweeName:c==null?void 0:c.name,accessToken:x,initialMessages:b||void 0,onTranscriptUpdate:It,onEnd:Is})})]})},"during-chat"),n==="after"&&l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Te,{className:"border-0 shadow-lg overflow-hidden",children:l.jsx(Ae,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:D?l.jsxs(l.Fragment,{children:[l.jsx(vt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(fe.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Bc,{className:"h-12 w-12 text-white"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),l.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),l.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",_t(_)]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),l.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(ae=>l.jsx("button",{onClick:()=>Ol(ae),onMouseEnter:()=>O(ae),onMouseLeave:()=>O(0),className:"transition-transform hover:scale-110",children:l.jsx(OF,{className:`h-8 w-8 transition-colors ${ae<=(P||C)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},ae))}),C>0&&l.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),l.jsx(re,{size:"lg",onClick:Ms,className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Close"})]})})})},"after"),n==="error"&&l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Te,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ae,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:l.jsx(rl,{className:"h-10 w-10 text-destructive"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),l.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),l.jsx(re,{size:"lg",onClick:Vu,className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Try Again"})]})})},"error")]})}),l.jsx(rJ,{open:V,onOpenChange:Q,children:l.jsxs(uM,{children:[l.jsxs(dM,{children:[l.jsx(fM,{children:"Complete Interview?"}),l.jsxs(pM,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",l.jsx("br",{}),l.jsx("br",{}),"If you need to take a break, use ",l.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),l.jsxs(hM,{children:[l.jsx(gM,{children:"Cancel"}),l.jsx(mM,{onClick:s==="voice"?At:Is,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})}),(n==="loading"||n==="invalid"||n==="before"||n==="consent"||n==="after"||n==="error")&&l.jsx(Fu,{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur border-t"})]})}const aJ=Bf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xe({className:e,variant:t,...n}){return l.jsx("div",{className:oe(aJ({variant:t}),e),...n})}var _p="Collapsible",[lJ,vM]=Fn(_p),[cJ,Rx]=lJ(_p),yM=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[c,u]=Rr({prop:r,defaultProp:s??!1,onChange:o,caller:_p});return l.jsx(cJ,{scope:n,disabled:i,contentId:Tr(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:l.jsx(pe.div,{"data-state":Dx(c),"data-disabled":i?"":void 0,...a,ref:t})})});yM.displayName=_p;var wM="CollapsibleTrigger",Ox=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Rx(wM,n);return l.jsx(pe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Dx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ce(e.onClick,s.onOpenToggle)})});Ox.displayName=wM;var Ix="CollapsibleContent",Mx=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Rx(Ix,e.__scopeCollapsible);return l.jsx(Un,{present:n||s.open,children:({present:i})=>l.jsx(uJ,{...r,ref:t,present:i})})});Mx.displayName=Ix;var uJ=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=Rx(Ix,n),[a,c]=g.useState(r),u=g.useRef(null),d=ke(t,u),h=g.useRef(0),f=h.current,p=g.useRef(0),x=p.current,m=o.open||a,b=g.useRef(m),y=g.useRef(void 0);return g.useEffect(()=>{const w=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(w)},[]),Nt(()=>{const w=u.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();h.current=S.height,p.current=S.width,b.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),c(r)}},[o.open,r]),l.jsx(pe.div,{"data-state":Dx(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:m&&s})});function Dx(e){return e?"open":"closed"}var xM=yM,dJ=Ox,hJ=Mx,Lr="Accordion",fJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Lx,pJ,mJ]=$f(Lr),[kp,DQ]=Fn(Lr,[mJ,vM]),$x=vM(),bM=G.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return l.jsx(Lx.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?l.jsx(wJ,{...i,ref:t}):l.jsx(yJ,{...s,ref:t})})});bM.displayName=Lr;var[SM,gJ]=kp(Lr),[_M,vJ]=kp(Lr,{collapsible:!1}),yJ=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,c]=Rr({prop:n,defaultProp:r??"",onChange:s,caller:Lr});return l.jsx(SM,{scope:e.__scopeAccordion,value:G.useMemo(()=>a?[a]:[],[a]),onItemOpen:c,onItemClose:G.useCallback(()=>i&&c(""),[i,c]),children:l.jsx(_M,{scope:e.__scopeAccordion,collapsible:i,children:l.jsx(kM,{...o,ref:t})})})}),wJ=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=Rr({prop:n,defaultProp:r??[],onChange:s,caller:Lr}),c=G.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=G.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return l.jsx(SM,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:l.jsx(_M,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(kM,{...i,ref:t})})})}),[xJ,Ep]=kp(Lr),kM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=G.useRef(null),c=ke(a,t),u=pJ(n),h=Iu(s)==="ltr",f=ce(e.onKeyDown,p=>{var P;if(!fJ.includes(p.key))return;const x=p.target,m=u().filter(O=>{var I;return!((I=O.ref.current)!=null&&I.disabled)}),b=m.findIndex(O=>O.ref.current===x),y=m.length;if(b===-1)return;p.preventDefault();let w=b;const S=0,_=y-1,j=()=>{w=b+1,w>_&&(w=S)},C=()=>{w=b-1,w<S&&(w=_)};switch(p.key){case"Home":w=S;break;case"End":w=_;break;case"ArrowRight":i==="horizontal"&&(h?j():C());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(h?C():j());break;case"ArrowUp":i==="vertical"&&C();break}const T=w%y;(P=m[T].ref.current)==null||P.focus()});return l.jsx(xJ,{scope:n,disabled:r,direction:s,orientation:i,children:l.jsx(Lx.Slot,{scope:n,children:l.jsx(pe.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:f})})})}),xf="AccordionItem",[bJ,Fx]=kp(xf),EM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Ep(xf,n),o=gJ(xf,n),a=$x(n),c=Tr(),u=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return l.jsx(bJ,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(xM,{"data-orientation":i.orientation,"data-state":PM(u),...a,...s,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});EM.displayName=xf;var jM="AccordionHeader",CM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Ep(Lr,n),i=Fx(jM,n);return l.jsx(pe.h3,{"data-orientation":s.orientation,"data-state":PM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});CM.displayName=jM;var Vy="AccordionTrigger",TM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Ep(Lr,n),i=Fx(Vy,n),o=vJ(Vy,n),a=$x(n);return l.jsx(Lx.ItemSlot,{scope:n,children:l.jsx(dJ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});TM.displayName=Vy;var NM="AccordionContent",AM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Ep(Lr,n),i=Fx(NM,n),o=$x(n);return l.jsx(hJ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});AM.displayName=NM;function PM(e){return e?"open":"closed"}var SJ=bM,_J=EM,kJ=CM,RM=TM,OM=AM;const Ux=SJ,jp=g.forwardRef(({className:e,...t},n)=>l.jsx(_J,{ref:n,className:oe("border-b",e),...t}));jp.displayName="AccordionItem";const Cp=g.forwardRef(({className:e,children:t,...n},r)=>l.jsx(kJ,{className:"flex",children:l.jsxs(RM,{ref:r,className:oe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,l.jsx(Eu,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Cp.displayName=RM.displayName;const Tp=g.forwardRef(({className:e,children:t,...n},r)=>l.jsx(OM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:oe("pb-4 pt-0",e),children:t})}));Tp.displayName=OM.displayName;const EJ={generic_discovery:"Generic Discovery",technical_deep_dive:"Technical Deep-Dive",process_efficiency:"Process Efficiency",compliance_risk:"Compliance & Risk"};function jJ({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return l.jsxs(Xe,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function CJ({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return l.jsxs(Xe,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function TJ({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return l.jsx(Xe,{variant:"secondary",children:t[e]||e})}function NJ(){const{token:e}=g0(),[t,n]=g.useState("loading"),[r,s]=g.useState(""),[i,o]=g.useState(null),[a,c]=g.useState(null);return g.useEffect(()=>{async function u(){if(!e){n("error"),s("No results token provided");return}try{const{data:d,error:h}=await at.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(h){n("error"),s("Unable to load results. Please try again.");return}if(d!=null&&d.error){d.error.includes("still being generated")?n("pending"):(n("error"),s(d.error));return}if(o(d),n("success"),d.interviews&&d.interviews.length>0){const f=d.interviews.find(p=>p.hasAnalysis);f&&c(f.id)}}catch(d){console.error("Error loading results:",d),n("error"),s("An unexpected error occurred. Please try again.")}}u()},[e]),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx(Je,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:Tl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsx(Cl,{})]})}),l.jsxs("main",{className:"container py-8",children:[t==="loading"&&l.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(vt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&l.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:l.jsx(Te,{className:"max-w-md text-center overflow-hidden",children:l.jsxs(Ae,{className:"pt-6 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(zc,{className:"h-8 w-8 text-white"})}),l.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&l.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:l.jsx(Te,{className:"max-w-md text-center overflow-hidden",children:l.jsxs(Ae,{className:"pt-6 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:l.jsx(rl,{className:"h-8 w-8 text-destructive"})}),l.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),l.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&(()=>{var d;const u=a&&((d=i.analysesByInterview)!=null&&d[a])?i.analysesByInterview[a]:i.analysis;return l.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Your Discovery Insights"}),l.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Personalised for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i.org.name})]}),i.interviews&&i.interviews.length>1&&l.jsx(Te,{className:"overflow-hidden border shadow",children:l.jsx(Ae,{className:"py-4",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("p",{className:"text-sm font-medium text-muted-foreground",children:["You have ",i.interviews.length," interview sessions. Select one to view:"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:i.interviews.map(h=>{const f=a===h.id;return l.jsxs(re,{variant:f?"default":"outline",size:"sm",onClick:()=>c(h.id),disabled:!h.hasAnalysis,className:"gap-2",children:[l.jsxs("span",{className:"font-mono",children:["#",h.sequenceNumber]}),l.jsx(Xe,{variant:f?"secondary":"outline",className:"text-xs",children:EJ[h.interviewType]||"Interview"}),!h.hasAnalysis&&l.jsx("span",{className:"text-xs opacity-60",children:"(pending)"})]},h.id)})}),i.interviews.some(h=>!h.hasAnalysis)&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Some interviews are still being analysed."})]})})}),u.executiveSummary&&l.jsxs(Te,{className:"overflow-hidden border-0 shadow-lg",children:[l.jsx(Xt,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Vh,{className:"h-4 w-4 text-white"})}),"Executive Summary"]})}),l.jsx(Ae,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:l.jsx("p",{className:"text-foreground leading-relaxed",children:u.executiveSummary})})]}),u.automationOpportunities.length>0&&l.jsxs("section",{children:[l.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Kw,{className:"h-5 w-5 text-white"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Opportunities For You"})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:u.automationOpportunities.map((h,f)=>l.jsxs(Te,{className:"relative overflow-hidden",children:[l.jsxs(Xt,{className:"pb-2",children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(TJ,{category:h.category}),l.jsx(jJ,{level:h.confidence}),l.jsx(CJ,{level:h.estimated_impact})]}),l.jsx(Zt,{className:"mt-2 text-lg",children:h.title})]}),l.jsxs(Ae,{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:h.description}),h.affected_workflows.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:h.affected_workflows.map((p,x)=>l.jsx(Xe,{variant:"outline",className:"text-xs",children:p},x))})]}),h.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),l.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:h.prerequisites.slice(0,3).map((p,x)=>l.jsx("li",{children:p},x))})]})]})]},f))})]}),u.workflows.length>0&&l.jsxs("section",{children:[l.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full",style:{backgroundColor:"#7952b3"},children:l.jsx(VT,{className:"h-5 w-5 text-white"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Your Workflows"})]}),l.jsx(Ux,{type:"multiple",className:"space-y-2",children:u.workflows.map((h,f)=>{var p,x,m,b,y,w,S,_;return l.jsxs(jp,{value:`workflow-${f}`,className:"rounded-lg border bg-card",children:[l.jsx(Cp,{className:"px-4 hover:no-underline",children:l.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-medium",children:h.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:h.owner})]}),l.jsx(Xe,{variant:"outline",children:h.frequency})]})}),l.jsx(Tp,{className:"px-4 pb-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-muted-foreground",children:h.description}),h.estimated_time&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(zc,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{children:["Estimated time: ",h.estimated_time]})]}),l.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[l.jsx("p",{className:"mb-3 text-sm font-medium",children:"SIMPLE Breakdown"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((p=h.components.triggers)==null?void 0:p.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Signal (Triggers)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.triggers.map((j,C)=>l.jsx("li",{children:j},C))})]}),((x=h.components.inputs)==null?void 0:x.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.inputs.map((j,C)=>l.jsx("li",{children:j},C))})]}),((m=h.components.transformations)==null?void 0:m.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Make (Work Done)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.transformations.map((j,C)=>l.jsx("li",{children:j},C))})]}),((b=h.components.decisions)==null?void 0:b.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Pick (Decisions)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.decisions.map((j,C)=>l.jsx("li",{children:j},C))})]}),((y=h.components.outputs)==null?void 0:y.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Land (Outputs)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.outputs.map((j,C)=>l.jsx("li",{children:j},C))})]}),((w=h.components.checks)==null?void 0:w.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Examine (Quality Checks)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:h.components.checks.map((j,C)=>l.jsx("li",{children:j},C))})]})]})]}),((S=h.systems_used)==null?void 0:S.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:h.systems_used.map((j,C)=>l.jsx(Xe,{variant:"secondary",className:"text-xs",children:j},C))})]}),((_=h.pain_points)==null?void 0:_.length)>0&&l.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),l.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:h.pain_points.map((j,C)=>l.jsx("li",{children:j},C))})]})]})})]},f)})})]}),l.jsx(Te,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ae,{className:"flex flex-col items-center py-8 text-center border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Yw,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),l.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),l.jsx(re,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},asChild:!0,children:l.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[l.jsx(ju,{className:"h-5 w-5"}),"Contact AgentFlow",l.jsx(ao,{className:"h-4 w-4"})]})})]})}),l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:l.jsxs("p",{children:["Analysis generated on"," ",new Date(u.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})})()]}),l.jsx(Fu,{className:"border-t"})]})}function Vx({children:e,title:t,lastUpdated:n}){const r=Ui();return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx(Je,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:Tl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsx(Cl,{})]})}),l.jsxs("main",{className:"container max-w-3xl pb-16 pt-24",children:[l.jsxs("button",{onClick:()=>r(-1),className:"mb-6 flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[l.jsx(yF,{className:"h-4 w-4"}),"Back"]}),l.jsxs("article",{className:"prose prose-slate dark:prose-invert max-w-none",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:t}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",n]}),l.jsx("hr",{className:"my-6"}),e]})]}),l.jsx("footer",{className:"border-t py-8",children:l.jsxs("div",{className:"container max-w-3xl",children:[l.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[l.jsx(Je,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Je,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Je,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Contact: ",l.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"hover:text-foreground transition-colors",children:"hamish@goagentflow.com"})]}),l.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})})]})}function AJ(){return l.jsxs(Vx,{title:"Privacy Notice - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Who we are"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd provides the AgentFlow Discovery Tool. If you are an interviewee, your organisation is the controller of your interview data and AgentFlow Ltd acts as its processor. The admin portal is for AgentFlow staff only; clients do not receive admin access unless separately agreed."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Contact"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["Privacy contact: ",l.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"If you are an interviewee"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation determines the lawful basis for processing your interview data. AgentFlow Ltd processes your data only on your organisation's instructions. To exercise your rights, contact your organisation or the person who invited you to take part. If you contact AgentFlow Ltd, we will route your request to your organisation."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"What we collect"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Identity and work details:"})," name, work email, role, organisation/project identifiers."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Interview responses:"})," text responses, timestamps, and ratings you choose to provide."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Audio data if voice mode is enabled:"})," recordings and transcripts."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Analysis outputs:"})," generated from interviews."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Technical and security data:"})," IP address, device/browser details, access logs."]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"How we use your data and lawful bases"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:l.jsx("strong",{children:"Interviewees (on behalf of your organisation):"})}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Provide the interview experience and generate analysis outputs."}),l.jsx("li",{children:"Maintain the security and integrity of the service."})]}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation typically relies on legitimate interests or performance of a contract (such as an employment or contractor relationship). If audio recording is enabled, we will request your explicit consent before capturing audio."}),l.jsx("p",{className:"text-muted-foreground mb-2",children:l.jsx("strong",{children:"AgentFlow staff (internal users):"})}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Create and manage projects and interviewees (employment or contractor relationship)."}),l.jsx("li",{children:"Provide support and maintain service security (legitimate interests)."}),l.jsx("li",{children:"Meet legal obligations (legal obligation)."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"AI processing and automated decisions"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We use AI to analyse interview responses and generate summaries and recommendations. Outputs are advisory and are not used for solely automated decision-making."}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not use your data to train AI models. Our sub-processors are contractually prohibited from using your data for model training, and we have implemented technical controls to enforce this (e.g., opt-out parameters on speech-to-text APIs)."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Sharing and sub-processors"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["We use trusted service providers to host and operate the service. A current list is available at:"," ",l.jsx(Je,{to:"/subprocessors",className:"text-accent hover:underline",children:"Sub-processors"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"International transfers"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Some service providers are outside the UK. We use UK-approved safeguards (UK IDTA or UK Addendum to SCCs) and conduct transfer impact assessments where required."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Retention"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Interview data and analysis outputs: 12 months."}),l.jsx("li",{children:"Results links: 30 days."}),l.jsx("li",{children:"Interview links: 7 days."}),l.jsx("li",{children:"Security and audit logs: 12 months."}),l.jsx("li",{children:"Backups: 30 days."})]}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"After these periods, data is deleted or anonymised."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Security"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We apply appropriate technical and organisational measures to protect personal data, including access controls, encryption in transit, and logging."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Your rights"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["You have rights to access, correct, erase, restrict, object, and port your data. Interviewees should contact their organisation or the person who invited them. AgentFlow staff should use internal HR/contact channels or email ",l.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"}),"."]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Complaints"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["You may complain to the UK Information Commissioner's Office (ICO):"," ",l.jsx("a",{href:"https://ico.org.uk/",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"https://ico.org.uk/"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Children"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"This service is intended for adults in a professional context and is not designed for use by children."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Changes"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We may update this notice from time to time. The latest version will be published at this URL."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Cookies"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We use essential cookies or local storage needed to run the service (such as authentication and security). If we add non-essential analytics, we will request consent where required."})]})]})}function PJ(){return l.jsxs(Vx,{title:"Terms of Service - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"1. About these Terms"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:'These Terms govern access to and use of the AgentFlow Discovery Tool (the "Service") by the business or organisation that purchases or uses the Service (the "Client"). If you are an interviewee, you are not a party to these Terms; your participation is governed by your organisation. The admin portal is for AgentFlow staff only and is not made available to clients unless separately agreed.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"2. Definitions"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:'"Client Data"'})," means information submitted to or collected by the Service on behalf of the Client, including interview responses and analysis outputs."]}),l.jsxs("li",{children:[l.jsx("strong",{children:'"Interviewee"'})," means a person invited by the Client to participate in an interview."]}),l.jsxs("li",{children:[l.jsx("strong",{children:'"Order Form"'})," means the document or agreement describing pricing and scope, if applicable."]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"3. The Service"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The Service provides AI-assisted interviews and analysis to help clients identify workflow and automation opportunities. The Service may be in beta and features may change or be discontinued."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"4. Client responsibilities"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client will:"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Ensure it has the right to provide Client Data and to ask Interviewees to participate."}),l.jsx("li",{children:"Provide required privacy notices to Interviewees."}),l.jsx("li",{children:"Use the Service in compliance with applicable laws."}),l.jsx("li",{children:"Ensure Interviewees do not submit special category data unless explicitly agreed in writing."}),l.jsx("li",{children:"Not attempt to access the admin portal and ensure only Interviewees access the interview interface."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"5. Acceptable use"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client and Interviewees must not:"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Use the Service for unlawful purposes."}),l.jsx("li",{children:"Provide sensitive personal data (health, union membership, criminal records, financial account numbers) unless agreed in writing."}),l.jsx("li",{children:"Attempt to reverse engineer or interfere with the Service."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"6. Data protection"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["The parties will enter into a data processing agreement (DPA) consistent with UK GDPR Article 28. AgentFlow Ltd processes Client Data only on the Client's instructions. The Client is the controller of Client Data; AgentFlow Ltd is the processor. The Privacy Notice is available at"," ",l.jsx(Je,{to:"/privacy",className:"text-accent hover:underline",children:"Privacy Policy"}),"."]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"7. AI outputs and no reliance"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AI-generated outputs are provided for informational purposes only. The Client is responsible for verifying outputs and for any decisions made using the outputs. Outputs must not be used as the sole basis for employment or other decisions affecting individuals."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"8. Security"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd applies reasonable technical and organisational measures to protect the Service and Client Data. No method of transmission or storage is completely secure; the Client acknowledges this risk."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"9. Fees and payment"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Fees, if any, are set out in the Order Form. Unless otherwise stated, fees are non-refundable."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"10. Intellectual property"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd retains all rights in the Service. The Client retains ownership of Client Data. AgentFlow Ltd may use aggregated and anonymised data for service improvement and analytics."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"11. Confidentiality"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Each party will protect the other party's confidential information using reasonable care and will use it only for the purposes of the Service."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"12. Warranties and disclaimers"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:'The Service is provided "as is." To the extent permitted by law, AgentFlow Ltd disclaims all warranties, including fitness for a particular purpose and non-infringement.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"13. Limitation of liability"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"To the extent permitted by law:"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Neither party is liable for indirect, incidental, or consequential damages."}),l.jsx("li",{children:"AgentFlow Ltd's total liability arising from the Service is limited to the fees paid by the Client in the 12 months before the event giving rise to the claim."})]}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Nothing limits liability for death or personal injury caused by negligence, fraud, or other liability that cannot be excluded by law."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"14. Indemnity"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The Client will indemnify AgentFlow Ltd against claims arising from Client Data, Client instructions, or use of the Service in violation of these Terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"15. Term and termination"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms start when the Client first uses the Service and continue until terminated. Either party may terminate for material breach with 30 days' notice if the breach is not remedied. On termination, AgentFlow Ltd will delete or return Client Data in accordance with the DPA."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"16. Changes"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd may update these Terms by posting a new version at this URL."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"17. Governing law"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms are governed by the laws of England and Wales. The courts of England and Wales have exclusive jurisdiction."})]})]})}const du=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",e),...t})}));du.displayName="Table";const hu=g.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",e),...t}));hu.displayName="TableHeader";const fu=g.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",e),...t}));fu.displayName="TableBody";const RJ=g.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));RJ.displayName="TableFooter";const Jr=g.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:oe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Jr.displayName="TableRow";const tt=g.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tt.displayName="TableHead";const Ke=g.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableCell";const OJ=g.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",e),...t}));OJ.displayName="TableCaption";const IJ=[{provider:"Supabase",purpose:"Hosting, database, auth, edge functions",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (database)"},{provider:"Anthropic",purpose:"AI model processing",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (commercial API terms)"},{provider:"Deepgram",purpose:"Speech-to-text (if enabled)",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (mip_opt_out=true)"},{provider:"Resend",purpose:"Transactional email",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (email)"},{provider:"Google Cloud (Cloud Run)",purpose:"App hosting",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (infrastructure)"}];function MJ(){return l.jsxs(Vx,{title:"Sub-processor List - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[l.jsxs("section",{children:[l.jsx("p",{className:"text-muted-foreground mb-6",children:"The following third-party service providers are used to host and operate the AgentFlow Discovery Tool. We have appropriate data processing agreements in place with each provider."}),l.jsx("div",{className:"overflow-x-auto rounded-lg border",children:l.jsxs(du,{children:[l.jsx(hu,{children:l.jsxs(Jr,{children:[l.jsx(tt,{className:"font-semibold",children:"Provider"}),l.jsx(tt,{className:"font-semibold",children:"Purpose"}),l.jsx(tt,{className:"font-semibold",children:"Data Location"}),l.jsx(tt,{className:"font-semibold",children:"Safeguards"}),l.jsx(tt,{className:"font-semibold",children:"Training Excluded"})]})}),l.jsx(fu,{children:IJ.map(e=>l.jsxs(Jr,{children:[l.jsx(Ke,{className:"font-medium",children:e.provider}),l.jsx(Ke,{children:e.purpose}),l.jsx(Ke,{children:e.location}),l.jsx(Ke,{children:e.safeguards}),l.jsx(Ke,{children:e.trainingExcluded.startsWith("Yes")?l.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx(Bc,{className:"h-4 w-4"}),e.trainingExcluded]}):e.trainingExcluded})]},e.provider))})]})})]}),l.jsxs("section",{className:"mt-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"AI Model Training Policy"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not permit our sub-processors to use your data for AI model training. Where applicable, we have implemented technical opt-outs (e.g., Deepgram's Model Improvement Program opt-out) and rely on contractual terms (e.g., Anthropic's commercial API terms) to enforce this."})]}),l.jsxs("section",{className:"mt-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Changes to this list"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We will notify clients of material changes to this list in advance where required by contract."})]})]})}const IM=["hamish@goagentflow.com","stephen@goagentflow.com"],MM=g.createContext(void 0);function DJ({children:e}){const[t,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0),a=t!=null&&t.email?IM.includes(t.email.toLowerCase()):!1;g.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await at.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:d}}=at.auth.onAuthStateChange(async(h,f)=>{console.log("[Auth] State change:",h),s(f),n((f==null?void 0:f.user)??null),o(!1)});return()=>{d.unsubscribe()}},[]);const c=async()=>{try{await at.auth.signOut(),n(null),s(null)}catch(u){throw console.error("Error signing out:",u),u}};return l.jsx(MM.Provider,{value:{user:t,session:r,isAdmin:a,loading:i,signOut:c},children:e})}function Bx(){const e=g.useContext(MM);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function By(e){return IM.includes(e.toLowerCase())}function LJ(){const[e,t]=g.useState(""),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,a]=g.useState(null),c=Ui(),{user:u,isAdmin:d,loading:h}=Bx();g.useEffect(()=>{!h&&u&&d&&c("/admin/dashboard",{replace:!0})},[u,d,h,c]);const f=async p=>{if(p.preventDefault(),a(null),i(!0),!By(e)){a("This email is not authorized for admin access."),i(!1);return}try{const{error:x}=await at.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/discovery/admin/auth/callback`}});if(x)throw x;r(!0)}catch(x){console.error("Error sending magic link:",x),a(x instanceof Error?x.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx(vt,{className:"h-8 w-8 animate-spin text-accent"})}):l.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[l.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[l.jsx(Je,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:Tl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsx(Cl,{})]}),l.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:l.jsxs(Te,{className:"w-full max-w-md overflow-hidden border-0 shadow-lg",children:[l.jsxs(Xt,{className:"text-center border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx(Zt,{children:"Admin Login"}),l.jsx(Nr,{children:"Sign in with your email to access the dashboard"})]}),l.jsx(Ae,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:l.jsx(Ni,{mode:"wait",children:n?l.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[l.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Bc,{className:"h-8 w-8 text-white"})}),l.jsx("p",{className:"font-medium",children:"Check your email!"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),l.jsx(re,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):l.jsxs(fe.form,{exit:{opacity:0},onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ju,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(Vt,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:p=>{t(p.target.value),a(null)},className:"pl-9",required:!0,disabled:s})]}),o&&l.jsxs(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[l.jsx(rl,{className:"h-4 w-4 flex-shrink-0"}),l.jsx("span",{children:o})]}),l.jsx(re,{type:"submit",className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})}),l.jsx(Fu,{className:"border-t"})]})}function $J(){const[e,t]=g.useState(null),n=Ui();return g.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:a}=await at.auth.getSession();if(a)throw a;if(!o){const{error:c}=await at.auth.exchangeCodeForSession(window.location.href);if(c)throw c;const{data:{session:u},error:d}=await at.auth.getSession();if(d||!u)throw new Error("Failed to establish session");if(!((s=u.user)!=null&&s.email)||!By(u.user.email))throw await at.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!By(o.user.email))throw await at.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:l.jsx(Te,{className:"max-w-md",children:l.jsxs(Ae,{className:"pt-6 text-center",children:[l.jsx(rl,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),l.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),l.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),l.jsx(re,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx(vt,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}function Ua({icon:e,label:t,value:n,className:r,iconClassName:s}){return l.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:l.jsx(Te,{className:oe("transition-shadow duration-200 hover:shadow-md",r),children:l.jsxs(Ae,{className:"flex items-center gap-4 p-6",children:[l.jsx("div",{className:oe("flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-brand",s),children:l.jsx(e,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const Ri=zI,FJ=qI,DM=g.forwardRef(({className:e,...t},n)=>l.jsx(Cx,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));DM.displayName=Cx.displayName;const As=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(FJ,{children:[l.jsx(DM,{}),l.jsxs(Tx,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(Px,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Tu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));As.displayName=Tx.displayName;const Oi=({className:e,...t})=>l.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Oi.displayName="DialogHeader";const Lo=({className:e,...t})=>l.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lo.displayName="DialogFooter";const Ii=g.forwardRef(({className:e,...t},n)=>l.jsx(Nx,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Ii.displayName=Nx.displayName;const ml=g.forwardRef(({className:e,...t},n)=>l.jsx(Ax,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));ml.displayName=Ax.displayName;const UJ=[{id:"1",speaker:"agent",content:"That's really helpful context about your reporting process. Can you tell me more about what triggers this workflow? How do you know it's time to generate these reports?",timestamp:"18:15"},{id:"2",speaker:"interviewee",content:"Usually it's a Slack message from my manager, or sometimes an email from the executive team. There's no set schedule really, it's quite ad-hoc which is part of the problem.",timestamp:"18:32"},{id:"3",speaker:"agent",content:"I see. So the trigger is essentially a request from stakeholders rather than a scheduled task. And when you receive that request, what's the first thing you do?",timestamp:"18:45"}];function VJ({open:e,onClose:t,conversationId:n,intervieweeName:r,clientName:s,role:i}){const[o,a]=g.useState(!1),[c,u]=g.useState(UJ),[d,h]=g.useState("interviewee"),[f,p]=g.useState("18:52");return g.useEffect(()=>{if(!e)return;const x=setInterval(()=>{p(m=>{const[b,y]=m.split(":").map(Number),w=b*60+y+1,S=Math.floor(w/60).toString().padStart(2,"0"),_=(w%60).toString().padStart(2,"0");return`${S}:${_}`}),Math.random()>.7&&h(m=>m==="agent"?"interviewee":"agent")},1e3);return()=>clearInterval(x)},[e]),l.jsx(Ri,{open:e,onOpenChange:x=>!x&&t(),children:l.jsxs(As,{className:"max-w-2xl",children:[l.jsx(Oi,{children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent/10",children:l.jsx(kF,{className:"h-5 w-5 text-accent"})}),l.jsxs("div",{children:[l.jsxs(Ii,{className:"flex items-center gap-2",children:["Listening to Interview",l.jsx(Xe,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 animate-pulse",children:"LIVE"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"  ",s,"  ",i]})]})]})})}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?l.jsx(wi,{className:"h-4 w-4 text-white"}):l.jsx(Xd,{className:"h-4 w-4 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:d==="agent"?"AI Agent":r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:d==="agent"?"Speaking":"Responding"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(zc,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-mono",children:f})]})]}),l.jsx(re,{variant:"outline",size:"sm",onClick:()=>a(!o),className:"gap-2",children:o?l.jsxs(l.Fragment,{children:[l.jsx(MF,{className:"h-4 w-4"}),"Unmute"]}):l.jsxs(l.Fragment,{children:[l.jsx(UT,{className:"h-4 w-4"}),"Mute"]})})]}),l.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:[...Array(20)].map((x,m)=>l.jsx(fe.div,{className:`w-1 rounded-full ${o?"bg-muted-foreground/30":"bg-accent"}`,animate:{height:o?8:[8,Math.random()*32+8,8]},transition:{duration:.5,repeat:1/0,delay:m*.05}},m))}),l.jsxs("div",{className:"rounded-lg border",children:[l.jsx("div",{className:"border-b bg-muted/50 px-4 py-2",children:l.jsx("p",{className:"text-sm font-medium",children:"Live Transcript"})}),l.jsx(ap,{className:"h-[250px]",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx(Ni,{children:c.map((x,m)=>l.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${x.speaker==="agent"?"":"flex-row-reverse"}`,children:[l.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${x.speaker==="agent"?"bg-accent":"bg-primary"}`,children:x.speaker==="agent"?l.jsx(wi,{className:"h-4 w-4 text-white"}):l.jsx(Xd,{className:"h-4 w-4 text-white"})}),l.jsxs("div",{className:`flex-1 ${x.speaker==="agent"?"":"text-right"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs font-medium",children:x.speaker==="agent"?"AI Agent":r}),l.jsx("span",{className:"text-xs text-muted-foreground",children:x.timestamp})]}),l.jsx("p",{className:`text-sm rounded-lg p-3 ${x.speaker==="agent"?"bg-accent/10 text-foreground":"bg-muted text-foreground"}`,children:x.content})]})]},x.id))}),l.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},className:`flex gap-3 ${d==="agent"?"":"flex-row-reverse"}`,children:[l.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?l.jsx(wi,{className:"h-4 w-4 text-white"}):l.jsx(Xd,{className:"h-4 w-4 text-white"})}),l.jsx("div",{className:`flex-1 ${d==="agent"?"":"text-right"}`,children:l.jsxs("div",{className:`inline-flex items-center gap-1 rounded-lg p-3 ${d==="agent"?"bg-accent/10":"bg-muted"}`,children:[l.jsx(fe.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0},className:"h-2 w-2 rounded-full bg-current"}),l.jsx(fe.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.2},className:"h-2 w-2 rounded-full bg-current"}),l.jsx(fe.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.4},className:"h-2 w-2 rounded-full bg-current"})]})})]})]})})]}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You are observing this conversation in listen-only mode. The interviewee is not aware you are listening."})]})})}function BJ(){const[e,t]=g.useState(!0),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,a]=g.useState({totalProjects:0,activeInterviews:0,completedInterviews:0}),[c,u]=g.useState(null),[d,h]=g.useState(!1);g.useEffect(()=>{f()},[]);async function f(){t(!0);const{data:x}=await at.from("discovery_project").select(`
        *,
        org:org_id (*)
      `).order("created_at",{ascending:!1}).limit(5),{data:m}=await at.from("interviewee_with_stats").select("id, name, role, status, project_id, total_interviews, completed_interviews").order("created_at",{ascending:!1}),b=[...new Set((m||[]).map(C=>C.project_id).filter(Boolean))];let y=new Map;if(b.length>0){const{data:C}=await at.from("discovery_project").select("id, name, org:org_id (name)").in("id",b);y=new Map((C||[]).map(T=>[T.id,T]))}if(x){const C=x.map(T=>{const P=(m==null?void 0:m.filter(O=>O.project_id===T.id))||[];return{...T,interviewee_count:P.length,completed_count:P.filter(O=>O.status==="completed").length}});r(C)}const w=(m==null?void 0:m.filter(C=>C.status==="pending"||C.status==="invited").slice(0,5).map(C=>{var P;const T=y.get(C.project_id);return{id:C.id,name:C.name,role:C.role,status:C.status,project_name:(T==null?void 0:T.name)||"Unknown",org_name:((P=T==null?void 0:T.org)==null?void 0:P.name)||"Unknown",project_id:C.project_id}}))||[];i(w);const S=(x==null?void 0:x.length)||0,_=(m==null?void 0:m.filter(C=>C.status==="completed").length)||0,j=(m==null?void 0:m.filter(C=>C.status==="in_progress").length)||0;a({totalProjects:S,activeInterviews:j,completedInterviews:_}),t(!1)}const p=()=>{h(!1),u(null)};return e?l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(vt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Center"}),l.jsx("p",{className:"text-muted-foreground",children:"Monitor interviews and manage discovery projects."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",asChild:!0,children:l.jsx(Je,{to:"/admin/projects",children:"View All Projects"})}),l.jsx(re,{asChild:!0,children:l.jsxs(Je,{to:"/admin/projects",children:[l.jsx(bo,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})]}),l.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[l.jsx(Ua,{icon:gc,label:"Total Projects",value:o.totalProjects}),l.jsx(Ua,{icon:Uh,label:"Active Interviews",value:o.activeInterviews}),l.jsx(Ua,{icon:Gw,label:"Completed Interviews",value:o.completedInterviews})]}),l.jsxs("div",{className:"mb-8 grid gap-6 lg:grid-cols-2",children:[l.jsxs(Te,{children:[l.jsx(Xt,{className:"pb-3",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:l.jsx(gc,{className:"h-4 w-4 text-accent"})}),l.jsxs("div",{children:[l.jsx(Zt,{className:"text-lg",children:"Recent Projects"}),l.jsx(Nr,{children:"Your latest discovery projects"})]})]})})}),l.jsx(Ae,{children:n.length>0?l.jsxs("div",{className:"space-y-3",children:[n.map((x,m)=>{var b;return l.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:m*.1},children:l.jsxs(Je,{to:`/admin/projects/${x.id}`,className:"flex items-center justify-between rounded-lg border bg-card p-4 hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:x.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[(b=x.org)==null?void 0:b.name,"  ",x.interviewee_count," interviewees"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx(Xe,{variant:x.status==="active"?"default":"secondary",children:x.status}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[x.completed_count,"/",x.interviewee_count," complete"]})]})]})},x.id)}),l.jsx(re,{variant:"ghost",className:"w-full",asChild:!0,children:l.jsxs(Je,{to:"/admin/projects",children:["View all projects",l.jsx(ao,{className:"ml-2 h-4 w-4"})]})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[l.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:l.jsx(gc,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx("p",{className:"font-medium",children:"No projects yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first discovery project"}),l.jsx(re,{asChild:!0,children:l.jsxs(Je,{to:"/admin/projects",children:[l.jsx(bo,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})})]}),l.jsxs(Te,{children:[l.jsx(Xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:l.jsx(Vh,{className:"h-4 w-4 text-accent"})}),l.jsxs("div",{children:[l.jsx(Zt,{className:"text-lg",children:"Pending Interviews"}),l.jsx(Nr,{children:"Interviews awaiting completion"})]})]})}),l.jsx(Ae,{children:s.length>0?l.jsx("div",{className:"space-y-3",children:s.map((x,m)=>l.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"flex items-center justify-between rounded-lg border p-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:x.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.org_name,"  ",x.role||"No role"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xe,{variant:"secondary",children:x.status}),l.jsx(re,{size:"sm",variant:"outline",asChild:!0,children:l.jsx(Je,{to:`/admin/projects/${x.project_id}`,children:"View"})})]})]},x.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[l.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:l.jsx(Cu,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx("p",{className:"font-medium",children:"No pending interviews"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"All interviews have been completed"})]})})]})]}),l.jsx(VJ,{open:d,onClose:p,conversationId:"",intervieweeName:"",clientName:"",role:""})]})}var zJ=[" ","Enter","ArrowUp","ArrowDown"],qJ=[" ","Enter"],$o="Select",[Np,Ap,WJ]=$f($o),[Rl,LQ]=Fn($o,[WJ,Hf]),Pp=Hf(),[HJ,Bi]=Rl($o),[GJ,KJ]=Rl($o),LM=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:x}=e,m=Pp(t),[b,y]=g.useState(null),[w,S]=g.useState(null),[_,j]=g.useState(!1),C=Iu(u),[T,P]=Rr({prop:r,defaultProp:s??!1,onChange:i,caller:$o}),[O,I]=Rr({prop:o,defaultProp:a,onChange:c,caller:$o}),R=g.useRef(null),D=b?x||!!b.closest("form"):!0,[H,V]=g.useState(new Set),Q=Array.from(H).map(J=>J.props.value).join(";");return l.jsx(bN,{...m,children:l.jsxs(HJ,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Tr(),value:O,onValueChange:I,open:T,onOpenChange:P,dir:C,triggerPointerDownPosRef:R,disabled:f,children:[l.jsx(Np.Provider,{scope:t,children:l.jsx(GJ,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(J=>{V(Y=>new Set(Y).add(J))},[]),onNativeOptionRemove:g.useCallback(J=>{V(Y=>{const L=new Set(Y);return L.delete(J),L})},[]),children:n})}),D?l.jsxs(aD,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:J=>I(J.target.value),disabled:f,form:x,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(H)]},Q):null]})})};LM.displayName=$o;var $M="SelectTrigger",FM=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Pp(n),o=Bi($M,n),a=o.disabled||r,c=ke(t,o.onTriggerChange),u=Ap(n),d=g.useRef("touch"),[h,f,p]=cD(m=>{const b=u().filter(S=>!S.disabled),y=b.find(S=>S.value===o.value),w=uD(b,m,y);w!==void 0&&o.onValueChange(w.value)}),x=m=>{a||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(SN,{asChild:!0,...i,children:l.jsx(pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":lD(o.value)?"":void 0,...s,ref:c,onClick:ce(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:ce(s.onPointerDown,m=>{d.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:ce(s.onKeyDown,m=>{const b=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(b&&m.key===" ")&&zJ.includes(m.key)&&(x(),m.preventDefault())})})})});FM.displayName=$M;var UM="SelectValue",VM=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,c=Bi(UM,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ke(t,c.onValueNodeChange);return Nt(()=>{u(d)},[u,d]),l.jsx(pe.span,{...a,ref:h,style:{pointerEvents:"none"},children:lD(c.value)?l.jsx(l.Fragment,{children:o}):i})});VM.displayName=UM;var JJ="SelectIcon",BM=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(pe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});BM.displayName=JJ;var YJ="SelectPortal",zM=e=>l.jsx(Ff,{asChild:!0,...e});zM.displayName=YJ;var Fo="SelectContent",qM=g.forwardRef((e,t)=>{const n=Bi(Fo,e.__scopeSelect),[r,s]=g.useState();if(Nt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Bo.createPortal(l.jsx(WM,{scope:e.__scopeSelect,children:l.jsx(Np.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(HM,{...e,ref:t})});qM.displayName=Fo;var vr=10,[WM,zi]=Rl(Fo),QJ="SelectContentImpl",XJ=nl("SelectContent.RemoveScroll"),HM=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b,...y}=e,w=Bi(Fo,n),[S,_]=g.useState(null),[j,C]=g.useState(null),T=ke(t,N=>_(N)),[P,O]=g.useState(null),[I,R]=g.useState(null),D=Ap(n),[H,V]=g.useState(!1),Q=g.useRef(!1);g.useEffect(()=>{if(S)return EI(S)},[S]),vI();const J=g.useCallback(N=>{const[M,...U]=D().map(X=>X.ref.current),[F]=U.slice(-1),W=document.activeElement;for(const X of N)if(X===W||(X==null||X.scrollIntoView({block:"nearest"}),X===M&&j&&(j.scrollTop=0),X===F&&j&&(j.scrollTop=j.scrollHeight),X==null||X.focus(),document.activeElement!==W))return},[D,j]),Y=g.useCallback(()=>J([P,S]),[J,P,S]);g.useEffect(()=>{H&&Y()},[H,Y]);const{onOpenChange:L,triggerPointerDownPosRef:$}=w;g.useEffect(()=>{if(S){let N={x:0,y:0};const M=F=>{var W,X;N={x:Math.abs(Math.round(F.pageX)-(((W=$.current)==null?void 0:W.x)??0)),y:Math.abs(Math.round(F.pageY)-(((X=$.current)==null?void 0:X.y)??0))}},U=F=>{N.x<=10&&N.y<=10?F.preventDefault():S.contains(F.target)||L(!1),document.removeEventListener("pointermove",M),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",U,{capture:!0})}}},[S,L,$]),g.useEffect(()=>{const N=()=>L(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[L]);const[B,te]=cD(N=>{const M=D().filter(W=>!W.disabled),U=M.find(W=>W.ref.current===document.activeElement),F=uD(M,N,U);F&&setTimeout(()=>F.ref.current.focus())}),ne=g.useCallback((N,M,U)=>{const F=!Q.current&&!U;(w.value!==void 0&&w.value===M||F)&&(O(N),F&&(Q.current=!0))},[w.value]),v=g.useCallback(()=>S==null?void 0:S.focus(),[S]),E=g.useCallback((N,M,U)=>{const F=!Q.current&&!U;(w.value!==void 0&&w.value===M||F)&&R(N)},[w.value]),k=r==="popper"?zy:GM,A=k===zy?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:b}:{};return l.jsx(WM,{scope:n,content:S,viewport:j,onViewportChange:C,itemRefCallback:ne,selectedItem:P,onItemLeave:v,itemTextRefCallback:E,focusSelectedItem:Y,selectedItemText:I,position:r,isPositioned:H,searchRef:B,children:l.jsx(_x,{as:XJ,allowPinchZoom:!0,children:l.jsx(Sx,{asChild:!0,trapped:w.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:ce(s,N=>{var M;(M=w.trigger)==null||M.focus({preventScroll:!0}),N.preventDefault()}),children:l.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(k,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:N=>N.preventDefault(),...y,...A,onPlaced:()=>V(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ce(y.onKeyDown,N=>{const M=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!M&&N.key.length===1&&te(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let F=D().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(N.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const W=N.target,X=F.indexOf(W);F=F.slice(X+1)}setTimeout(()=>J(F)),N.preventDefault()}})})})})})})});HM.displayName=QJ;var ZJ="SelectItemAlignedPosition",GM=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Bi(Fo,n),o=zi(Fo,n),[a,c]=g.useState(null),[u,d]=g.useState(null),h=ke(t,T=>d(T)),f=Ap(n),p=g.useRef(!1),x=g.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:y,focusSelectedItem:w}=o,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&m&&b&&y){const T=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const W=I.left-P.left,X=O.left-W,de=T.left-X,Me=T.width+de,wt=Math.max(Me,P.width),ut=window.innerWidth-vr,Oe=Qv(X,[vr,Math.max(vr,ut-wt)]);a.style.minWidth=Me+"px",a.style.left=Oe+"px"}else{const W=P.right-I.right,X=window.innerWidth-O.right-W,de=window.innerWidth-T.right-X,Me=T.width+de,wt=Math.max(Me,P.width),ut=window.innerWidth-vr,Oe=Qv(X,[vr,Math.max(vr,ut-wt)]);a.style.minWidth=Me+"px",a.style.right=Oe+"px"}const R=f(),D=window.innerHeight-vr*2,H=m.scrollHeight,V=window.getComputedStyle(u),Q=parseInt(V.borderTopWidth,10),J=parseInt(V.paddingTop,10),Y=parseInt(V.borderBottomWidth,10),L=parseInt(V.paddingBottom,10),$=Q+J+H+L+Y,B=Math.min(b.offsetHeight*5,$),te=window.getComputedStyle(m),ne=parseInt(te.paddingTop,10),v=parseInt(te.paddingBottom,10),E=T.top+T.height/2-vr,k=D-E,A=b.offsetHeight/2,N=b.offsetTop+A,M=Q+J+N,U=$-M;if(M<=E){const W=R.length>0&&b===R[R.length-1].ref.current;a.style.bottom="0px";const X=u.clientHeight-m.offsetTop-m.offsetHeight,de=Math.max(k,A+(W?v:0)+X+Y),Me=M+de;a.style.height=Me+"px"}else{const W=R.length>0&&b===R[0].ref.current;a.style.top="0px";const de=Math.max(E,Q+m.offsetTop+(W?ne:0)+A)+U;a.style.height=de+"px",m.scrollTop=M-E+m.offsetTop}a.style.margin=`${vr}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,u,m,b,y,i.dir,r]);Nt(()=>S(),[S]);const[_,j]=g.useState();Nt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const C=g.useCallback(T=>{T&&x.current===!0&&(S(),w==null||w(),x.current=!1)},[S,w]);return l.jsx(tY,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(pe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});GM.displayName=ZJ;var eY="SelectPopperPosition",zy=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=vr,...i}=e,o=Pp(n);return l.jsx(_N,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zy.displayName=eY;var[tY,zx]=Rl(Fo,{}),qy="SelectViewport",KM=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=zi(qy,n),o=zx(qy,n),a=ke(t,i.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Np.Slot,{scope:n,children:l.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ce(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-vr*2,m=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(m,b);if(y<x){const w=y+p,S=Math.min(x,w),_=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});KM.displayName=qy;var JM="SelectGroup",[nY,rY]=Rl(JM),sY=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Tr();return l.jsx(nY,{scope:n,id:s,children:l.jsx(pe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});sY.displayName=JM;var YM="SelectLabel",QM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rY(YM,n);return l.jsx(pe.div,{id:s.id,...r,ref:t})});QM.displayName=YM;var bf="SelectItem",[iY,XM]=Rl(bf),ZM=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=Bi(bf,n),c=zi(bf,n),u=a.value===r,[d,h]=g.useState(i??""),[f,p]=g.useState(!1),x=ke(t,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,r,s)}),m=Tr(),b=g.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(iY,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:g.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(Np.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(pe.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ce(o.onFocus,()=>p(!0)),onBlur:ce(o.onBlur,()=>p(!1)),onClick:ce(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:ce(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:ce(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:ce(o.onPointerMove,w=>{var S;b.current=w.pointerType,s?(S=c.onItemLeave)==null||S.call(c):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:ce(o.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(qJ.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});ZM.displayName=bf;var ic="SelectItemText",eD=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Bi(ic,n),a=zi(ic,n),c=XM(ic,n),u=KJ(ic,n),[d,h]=g.useState(null),f=ke(t,y=>h(y),c.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return Nt(()=>(m(x),()=>b(x)),[m,b,x]),l.jsxs(l.Fragment,{children:[l.jsx(pe.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Bo.createPortal(i.children,o.valueNode):null]})});eD.displayName=ic;var tD="SelectItemIndicator",nD=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return XM(tD,n).isSelected?l.jsx(pe.span,{"aria-hidden":!0,...r,ref:t}):null});nD.displayName=tD;var Wy="SelectScrollUpButton",rD=g.forwardRef((e,t)=>{const n=zi(Wy,e.__scopeSelect),r=zx(Wy,e.__scopeSelect),[s,i]=g.useState(!1),o=ke(t,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(iD,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});rD.displayName=Wy;var Hy="SelectScrollDownButton",sD=g.forwardRef((e,t)=>{const n=zi(Hy,e.__scopeSelect),r=zx(Hy,e.__scopeSelect),[s,i]=g.useState(!1),o=ke(t,r.onScrollButtonChange);return Nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(iD,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});sD.displayName=Hy;var iD=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=zi("SelectScrollButton",n),o=g.useRef(null),a=Ap(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Nt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ce(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ce(s.onPointerLeave,()=>{c()})})}),oY="SelectSeparator",oD=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(pe.div,{"aria-hidden":!0,...r,ref:t})});oD.displayName=oY;var Gy="SelectArrow",aY=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Pp(n),i=Bi(Gy,n),o=zi(Gy,n);return i.open&&o.position==="popper"?l.jsx(kN,{...s,...r,ref:t}):null});aY.displayName=Gy;var lY="SelectBubbleInput",aD=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=g.useRef(null),i=ke(r,s),o=WP(t);return g.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),l.jsx(pe.select,{...n,style:{...mT,...n.style},ref:i,defaultValue:t})});aD.displayName=lY;function lD(e){return e===""||e===void 0}function cD(e){const t=Ct(e),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function uD(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=cY(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function cY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var uY=LM,dD=FM,dY=VM,hY=BM,fY=zM,hD=qM,pY=KM,fD=QM,pD=ZM,mY=eD,gY=nD,mD=rD,gD=sD,vD=oD;const qx=uY,Wx=dY,Rp=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(dD,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(hY,{asChild:!0,children:l.jsx(Eu,{className:"h-4 w-4 opacity-50"})})]}));Rp.displayName=dD.displayName;const yD=g.forwardRef(({className:e,...t},n)=>l.jsx(mD,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(SF,{className:"h-4 w-4"})}));yD.displayName=mD.displayName;const wD=g.forwardRef(({className:e,...t},n)=>l.jsx(gD,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Eu,{className:"h-4 w-4"})}));wD.displayName=gD.displayName;const Op=g.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(fY,{children:l.jsxs(hD,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(yD,{}),l.jsx(pY,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(wD,{})]})}));Op.displayName=hD.displayName;const vY=g.forwardRef(({className:e,...t},n)=>l.jsx(fD,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vY.displayName=fD.displayName;const Ip=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(pD,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gY,{children:l.jsx(ku,{className:"h-4 w-4"})})}),l.jsx(mY,{children:t})]}));Ip.displayName=pD.displayName;const yY=g.forwardRef(({className:e,...t},n)=>l.jsx(vD,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));yY.displayName=vD.displayName;async function Sn(e,t={}){const{data:{session:n},error:r}=await at.auth.getSession();if(r||!n)return console.error("No active session for admin API call"),{data:null,error:"Not authenticated"};const{data:s,error:i}=await at.functions.invoke("admin-api",{body:{action:e,...t}});return i?(console.error(`Admin API error (${e}):`,i),{data:null,error:i.message}):s!=null&&s.error?{data:null,error:s.error}:{data:s,error:null}}async function wY(){const{data:e,error:t}=await Sn("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function DE(e){const{data:t,error:n}=await Sn("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function xY(e,t){const{data:n,error:r}=await Sn("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function bY(e,t,n,r,s,i,o){const{data:a,error:c}=await Sn("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s,interviewType:i,preBriefContext:o});return c||!a?{interviewee:null,interview:null,error:c}:{interviewee:a.interviewee,interview:a.interview,error:null}}async function SY(e,t){const{error:n}=await Sn("markInterviewInvited",{interviewId:e,intervieweeId:t});return{error:n}}async function LE(e){return SY(void 0,e)}function xD(e){var r;const t=e;if(!t.interviews||t.interviews.length===0)return e.interview_token||null;const n=t.interviews.find(s=>s.status==="not_started"||s.status==="in_progress");return(n==null?void 0:n.interview_token)||((r=t.interviews[0])==null?void 0:r.interview_token)||null}function bD(e){const t=e;return!t.interviews||t.interviews.length===0?null:t.interviews.find(r=>r.status==="not_started"||r.status==="in_progress")||t.interviews[0]||null}async function _Y(e,t,n){const{data:r,error:s}=await Sn("scheduleFollowUp",{intervieweeId:e,interviewType:t,preBriefContext:n});return s||!r?{interview:null,error:s}:{interview:r.interview,error:null}}async function kY(){const{data:e,error:t}=await Sn("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function EY(e){const{data:t,error:n}=await Sn("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}async function jY(e){const{data:t,error:n}=await Sn("getProjectAnalysis",{projectId:e});return n||!t?{analysis:null,interviewCount:0,error:n}:{analysis:t.analysis,interviewCount:t.interviewCount,error:null}}async function CY(e){const{data:t,error:n}=await Sn("triggerAnalysis",{projectId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function TY(e){const{data:t,error:n}=await Sn("triggerIndividualAnalysis",{intervieweeId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function NY(e){const{data:t,error:n}=await Sn("getIntervieweeResultsLink",{intervieweeId:e});return n||!t?{resultsToken:null,intervieweeName:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,error:null}}async function AY(e){const{data:t,error:n}=await Sn("getInterviewResultsLink",{interviewId:e});return n||!t?{resultsToken:null,intervieweeName:null,sequenceNumber:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,sequenceNumber:t.sequenceNumber,error:null}}async function PY(e){const{data:t,error:n}=await Sn("globalSearch",{query:e});return n||!t?{results:{interviewees:[],projects:[],orgs:[]},error:n}:{results:t,error:null}}function RY(){var O;const[e,t]=g.useState(""),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,a]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(""),[f,p]=g.useState(""),[x,m]=g.useState(""),[b,y]=g.useState(!1),[w,S]=g.useState(!1),{toast:_}=bu();g.useEffect(()=>{j()},[]);async function j(){a(!0);const[I,R]=await Promise.all([wY(),kY()]);I.projects&&r(I.projects),R.orgs&&i(R.orgs),a(!1)}const C=n.filter(I=>{var R,D;return I.name.toLowerCase().includes(e.toLowerCase())||((D=(R=I.org)==null?void 0:R.name)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))}),T=async()=>{var V;S(!0);let I=f;if(b&&x){const{org:Q,error:J}=await EY(x);if(J||!Q){_({title:"Error",description:J||"Failed to create client",variant:"destructive"}),S(!1);return}I=Q.id}if(!I){_({title:"Error",description:"Please select or create a client",variant:"destructive"}),S(!1);return}const R=d||`Discovery - ${b?x:(V=s.find(Q=>Q.id===I))==null?void 0:V.name}`,{project:D,error:H}=await xY(I,R);if(H||!D){_({title:"Error",description:H||"Failed to create project",variant:"destructive"}),S(!1);return}_({title:"Project created!",description:`${R} has been created.`}),h(""),p(""),m(""),y(!1),u(!1),S(!1),j()},P=I=>{const R={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},D=R[I]||R.setup;return l.jsx(Xe,{className:D.className,children:D.label})};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),l.jsxs(re,{onClick:()=>u(!0),children:[l.jsx(bo,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),l.jsxs("div",{className:"mb-4 max-w-sm relative",children:[l.jsx(Jw,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(Vt,{placeholder:"Search projects...",value:e,onChange:I=>t(I.target.value),className:"pl-9"})]}),o?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(vt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):C.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(gc,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),l.jsxs(re,{onClick:()=>u(!0),children:[l.jsx(bo,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):l.jsx("div",{className:"rounded-lg border",children:l.jsxs(du,{children:[l.jsx(hu,{children:l.jsxs(Jr,{children:[l.jsx(tt,{children:"Project Name"}),l.jsx(tt,{children:"Client"}),l.jsx(tt,{children:"Status"}),l.jsx(tt,{children:"Created"}),l.jsx(tt,{})]})}),l.jsx(fu,{children:C.map(I=>{var R;return l.jsxs(Jr,{className:"cursor-pointer hover:bg-muted/50",children:[l.jsx(Ke,{className:"font-medium",children:I.name}),l.jsx(Ke,{children:((R=I.org)==null?void 0:R.name)||"Unknown"}),l.jsx(Ke,{children:P(I.status)}),l.jsx(Ke,{children:new Date(I.created_at).toLocaleDateString()}),l.jsx(Ke,{children:l.jsx(re,{variant:"ghost",size:"sm",asChild:!0,children:l.jsx(Je,{to:`/admin/projects/${I.id}`,children:"View"})})})]},I.id)})})]})}),l.jsx(Ri,{open:c,onOpenChange:u,children:l.jsxs(As,{children:[l.jsx(Oi,{children:l.jsx(Ii,{children:"New Discovery Project"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(gt,{children:"Client *"}),b?l.jsxs("div",{className:"space-y-2 mt-1",children:[l.jsx(Vt,{value:x,onChange:I=>m(I.target.value),placeholder:"Enter client name"}),l.jsx(re,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),m("")},children:"Select existing client instead"})]}):l.jsxs("div",{className:"space-y-2 mt-1",children:[l.jsxs(qx,{value:f,onValueChange:p,children:[l.jsx(Rp,{children:l.jsx(Wx,{placeholder:"Select a client..."})}),l.jsx(Op,{children:s.map(I=>l.jsx(Ip,{value:I.id,children:I.name},I.id))})]}),l.jsx(re,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),l.jsxs("div",{children:[l.jsx(gt,{children:"Project Name (optional)"}),l.jsx(Vt,{value:d,onChange:I=>h(I.target.value),placeholder:`Discovery - ${b?x||"Client Name":((O=s.find(I=>I.id===f))==null?void 0:O.name)||"Client Name"}`,className:"mt-1"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),l.jsxs(Lo,{children:[l.jsx(re,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsxs(re,{onClick:T,disabled:w||!f&&!x,children:[w?l.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var vg="rovingFocusGroup.onEntryFocus",OY={bubbles:!1,cancelable:!0},Uu="RovingFocusGroup",[Ky,SD,IY]=$f(Uu),[MY,_D]=Fn(Uu,[IY]),[DY,LY]=MY(Uu),kD=g.forwardRef((e,t)=>l.jsx(Ky.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Ky.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx($Y,{...e,ref:t})})}));kD.displayName=Uu;var $Y=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=g.useRef(null),p=ke(t,f),x=Iu(i),[m,b]=Rr({prop:o,defaultProp:a??null,onChange:c,caller:Uu}),[y,w]=g.useState(!1),S=Ct(u),_=SD(n),j=g.useRef(!1),[C,T]=g.useState(0);return g.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(vg,S),()=>P.removeEventListener(vg,S)},[S]),l.jsx(DY,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:m,onItemFocus:g.useCallback(P=>b(P),[b]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>T(P=>P+1),[]),onFocusableItemRemove:g.useCallback(()=>T(P=>P-1),[]),children:l.jsx(pe.div,{tabIndex:y||C===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{j.current=!0}),onFocus:ce(e.onFocus,P=>{const O=!j.current;if(P.target===P.currentTarget&&O&&!y){const I=new CustomEvent(vg,OY);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=_().filter(J=>J.focusable),D=R.find(J=>J.active),H=R.find(J=>J.id===m),Q=[D,H,...R].filter(Boolean).map(J=>J.ref.current);CD(Q,d)}}j.current=!1}),onBlur:ce(e.onBlur,()=>w(!1))})})}),ED="RovingFocusGroupItem",jD=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,c=Tr(),u=i||c,d=LY(ED,n),h=d.currentTabStopId===u,f=SD(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=d;return g.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),l.jsx(Ky.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(pe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ce(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:ce(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=VY(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const _=S.indexOf(b.currentTarget);S=d.loop?BY(S,_+1):S.slice(_+1)}setTimeout(()=>CD(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});jD.displayName=ED;var FY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function VY(e,t,n){const r=UY(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FY[r]}function CD(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function BY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zY=kD,qY=jD,Mp="Tabs",[WY,$Q]=Fn(Mp,[_D]),TD=_D(),[HY,Hx]=WY(Mp),ND=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Iu(a),[h,f]=Rr({prop:r,onChange:s,defaultProp:i??"",caller:Mp});return l.jsx(HY,{scope:n,baseId:Tr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:l.jsx(pe.div,{dir:d,"data-orientation":o,...u,ref:t})})});ND.displayName=Mp;var AD="TabsList",PD=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Hx(AD,n),o=TD(n);return l.jsx(zY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(pe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});PD.displayName=AD;var RD="TabsTrigger",OD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=Hx(RD,n),a=TD(n),c=DD(o.baseId,r),u=LD(o.baseId,r),d=r===o.value;return l.jsx(qY,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ce(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ce(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ce(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});OD.displayName=RD;var ID="TabsContent",MD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=Hx(ID,n),c=DD(a.baseId,r),u=LD(a.baseId,r),d=r===a.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(Un,{present:s||d,children:({present:f})=>l.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});MD.displayName=ID;function DD(e,t){return`${e}-trigger-${t}`}function LD(e,t){return`${e}-content-${t}`}var GY=ND,$D=PD,FD=OD,UD=MD;const KY=GY,VD=g.forwardRef(({className:e,...t},n)=>l.jsx($D,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));VD.displayName=$D.displayName;const fh=g.forwardRef(({className:e,...t},n)=>l.jsx(FD,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));fh.displayName=FD.displayName;const ph=g.forwardRef(({className:e,...t},n)=>l.jsx(UD,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ph.displayName=UD.displayName;const JY=xM,YY=Ox,QY=Mx;function BD(e){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return l.jsx(Xe,{className:t[e]||t.medium,children:e})}function XY(e){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return l.jsxs(Xe,{className:t[e]||t.medium,children:[e," impact"]})}function ZY(e){return{triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy/Rule-Based",document:"Document Workflows",glue_work:"Glue Work",research:"Repetitive Research"}[e]||e}function eQ(e){const t={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},n=t[e]||t.pending;return l.jsx(Xe,{className:n.className,children:n.label})}const tQ={generic_discovery:"Generic",technical_deep_dive:"Technical",process_efficiency:"Process",compliance_risk:"Compliance"};function nQ(e){const t={not_started:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},failed:{label:"Failed",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},n=t[e]||t.not_started;return l.jsx(Xe,{className:n.className,children:n.label})}function rQ({interviewees:e,copiedId:t,generatingAnalysisId:n,onAddClick:r,onCopyLink:s,onInviteClick:i,onGenerateAnalysis:o,onShareClick:a,onScheduleFollowUp:c,onShareInterviewClick:u}){const[d,h]=g.useState(new Set),f=p=>{h(x=>{const m=new Set(x);return m.has(p)?m.delete(p):m.add(p),m})};return e.length===0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 flex justify-end",children:l.jsxs(re,{onClick:r,children:[l.jsx(bo,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),l.jsx(Te,{children:l.jsxs(Ae,{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(Cu,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),l.jsxs(re,{onClick:r,children:[l.jsx(bo,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 flex justify-end",children:l.jsxs(re,{onClick:r,children:[l.jsx(bo,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),l.jsx("div",{className:"rounded-lg border",children:l.jsxs(du,{children:[l.jsx(hu,{children:l.jsxs(Jr,{children:[l.jsx(tt,{className:"w-8"}),l.jsx(tt,{children:"Name"}),l.jsx(tt,{children:"Role"}),l.jsx(tt,{children:"Email"}),l.jsx(tt,{children:"Status"}),l.jsx(tt,{children:"Interviews"}),l.jsx(tt,{children:"Consent"}),l.jsx(tt,{children:"Interview"}),l.jsx(tt,{children:"Results"})]})}),l.jsx(fu,{children:e.map(p=>{const x=d.has(p.id),m=(p.total_interviews||0)>1,b=p.interviews||[];return l.jsx(JY,{open:x,onOpenChange:()=>f(p.id),asChild:!0,children:l.jsxs(l.Fragment,{children:[l.jsxs(Jr,{className:m?"cursor-pointer hover:bg-muted/50":"",children:[l.jsx(Ke,{className:"w-8",children:m&&l.jsx(YY,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:x?l.jsx(Eu,{className:"h-4 w-4"}):l.jsx(bF,{className:"h-4 w-4"})})})}),l.jsx(Ke,{className:"font-medium",children:p.name}),l.jsx(Ke,{children:p.role||"-"}),l.jsx(Ke,{children:p.email}),l.jsx(Ke,{children:eQ(p.status)}),l.jsx(Ke,{children:l.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.completed_interviews||0,"/",p.total_interviews||0]})}),l.jsx(Ke,{children:p.consent_given?l.jsx(Gr,{children:l.jsxs(Wn,{children:[l.jsx(Hn,{children:l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx($T,{className:"h-4 w-4"}),"Yes"]})}),l.jsx(Tn,{children:l.jsx("p",{children:"Privacy notice acknowledged"})})]})}):l.jsx("span",{className:"text-muted-foreground",children:""})}),l.jsx(Ke,{children:l.jsx(Gr,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(Wn,{children:[l.jsx(Hn,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>s(p),children:t===p.id?l.jsx(ku,{className:"h-4 w-4"}):l.jsx(qc,{className:"h-4 w-4"})})}),l.jsx(Tn,{children:l.jsx("p",{children:"Copy interview link"})})]}),(p.status==="pending"||p.status==="invited")&&l.jsxs(Wn,{children:[l.jsx(Hn,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>i(p),children:l.jsx(ju,{className:"h-4 w-4"})})}),l.jsx(Tn,{children:l.jsx("p",{children:p.status==="invited"?"Re-send invite":"Send invite email"})})]}),c&&(p.completed_interviews||0)>0&&l.jsxs(Wn,{children:[l.jsx(Hn,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>c(p),children:l.jsx(pv,{className:"h-4 w-4"})})}),l.jsx(Tn,{children:l.jsx("p",{children:"Schedule follow-up interview"})})]})]})})}),l.jsx(Ke,{children:l.jsx(Gr,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[(p.completed_interviews||0)>0&&!p.has_individual_analysis&&l.jsxs(Wn,{children:[l.jsx(Hn,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>o(p),disabled:n===p.id,children:n===p.id?l.jsx(vt,{className:"h-4 w-4 animate-spin"}):l.jsx(Yw,{className:"h-4 w-4"})})}),l.jsx(Tn,{children:l.jsx("p",{children:"Generate analysis"})})]}),(p.completed_interviews||0)>0&&p.has_individual_analysis&&l.jsxs(Wn,{children:[l.jsx(Hn,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(p),children:l.jsx(mS,{className:"h-4 w-4"})})}),l.jsx(Tn,{children:l.jsx("p",{children:"Share results link"})})]}),(p.completed_interviews||0)===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})})]}),m&&l.jsx(QY,{asChild:!0,children:l.jsx(Jr,{className:"bg-muted/30",children:l.jsx(Ke,{colSpan:9,className:"p-0",children:l.jsxs("div",{className:"px-6 py-4",children:[l.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Interview Timeline"}),c&&l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>c(p),className:"h-7 text-xs",children:[l.jsx(pv,{className:"mr-1 h-3 w-3"}),"Schedule Follow-up"]})]}),l.jsx("div",{className:"rounded-md border bg-background",children:l.jsxs(du,{children:[l.jsx(hu,{children:l.jsxs(Jr,{children:[l.jsx(tt,{className:"w-16",children:"#"}),l.jsx(tt,{children:"Type"}),l.jsx(tt,{children:"Status"}),l.jsx(tt,{children:"Actions"})]})}),l.jsx(fu,{children:b.map(y=>l.jsxs(Jr,{children:[l.jsxs(Ke,{className:"font-mono text-sm",children:["#",y.sequence_number]}),l.jsx(Ke,{children:l.jsx(Xe,{variant:"secondary",children:tQ[y.interview_type||"generic_discovery"]})}),l.jsx(Ke,{children:nQ(y.status)}),l.jsx(Ke,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[(y.status==="not_started"||y.status==="in_progress")&&l.jsx(Gr,{children:l.jsxs(Wn,{children:[l.jsx(Hn,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/discovery/interview/${y.interview_token}`)},children:l.jsx(qc,{className:"h-3 w-3"})})}),l.jsx(Tn,{children:l.jsx("p",{children:"Copy interview link"})})]})}),y.status==="completed"&&u&&l.jsx(Gr,{children:l.jsxs(Wn,{children:[l.jsx(Hn,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>u(p,y),children:l.jsx(mS,{className:"h-3 w-3"})})}),l.jsx(Tn,{children:l.jsx("p",{children:"Share results"})})]})})]})})]},y.id))})]})})]})})})})]})},p.id)})})]})})]})}function sQ({analysis:e,loading:t,generating:n,completedCount:r,onGenerate:s,dismissedRecs:i=[],onAcceptRecommendation:o,onDismissRecommendation:a}){var u;if(t)return l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(vt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return l.jsx(Te,{children:l.jsxs(Ae,{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(Vh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No analysis yet"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["Generate an analysis based on ",r," completed interview",r!==1?"s":"","."]}),l.jsxs(re,{onClick:s,disabled:n,children:[n?l.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(Vh,{className:"mr-2 h-4 w-4"}),"Generate Analysis"]})]})});const c=e.raw_output;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated ",e.generated_at?new Date(e.generated_at).toLocaleString():"recently"]})}),l.jsxs(re,{variant:"outline",size:"sm",onClick:s,disabled:n,children:[n?l.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(NF,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]}),(c==null?void 0:c.recommended_follow_up_interviews)&&c.recommended_follow_up_interviews.length>0&&o&&a&&l.jsx(hQ,{recommendations:c.recommended_follow_up_interviews,dismissedRecs:i,onAccept:o,onDismiss:a}),(c==null?void 0:c.summary)&&l.jsx(iQ,{summary:c.summary}),((u=c==null?void 0:c.workflow_map)==null?void 0:u.workflows)&&c.workflow_map.workflows.length>0&&l.jsx(aQ,{workflows:c.workflow_map.workflows}),(c==null?void 0:c.automation_opportunities)&&c.automation_opportunities.length>0&&l.jsx(oQ,{opportunities:c.automation_opportunities}),(c==null?void 0:c.technical_questions)&&c.technical_questions.length>0&&l.jsx(lQ,{questions:c.technical_questions}),(c==null?void 0:c.follow_up_suggestions)&&c.follow_up_suggestions.length>0&&l.jsx(cQ,{suggestions:c.follow_up_suggestions}),(c==null?void 0:c.gaps_and_uncertainties)&&c.gaps_and_uncertainties.length>0&&l.jsx(uQ,{gaps:c.gaps_and_uncertainties})]})}function iQ({summary:e}){return l.jsxs(Te,{children:[l.jsx(Xt,{children:l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx(FT,{className:"h-5 w-5"}),"Executive Summary"]})}),l.jsxs(Ae,{className:"space-y-4",children:[e.interviewees_analyzed&&e.interviewees_analyzed.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Based on interviews with:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.interviewees_analyzed.map((t,n)=>l.jsxs(Xe,{variant:"secondary",children:[t.name,t.role?` (${t.role})`:""]},n))}),e.total_interviews_pending!=null&&e.total_interviews_pending>0&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["+ ",e.total_interviews_pending," interview",e.total_interviews_pending>1?"s":""," pending"]})]}),l.jsx("p",{className:"text-muted-foreground",children:e.overall_assessment}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:e.total_workflows_identified||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Workflows Identified"})]}),l.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:e.total_automation_opportunities||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Automation Opportunities"})]}),l.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.high_confidence_opportunities||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]}),e.key_themes&&e.key_themes.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Key Themes"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.key_themes.map((t,n)=>l.jsx(Xe,{variant:"secondary",children:t},n))})]}),e.recommended_priorities&&e.recommended_priorities.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Recommended Priorities"}),l.jsx("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:e.recommended_priorities.map((t,n)=>l.jsx("li",{children:t},n))})]})]})]})}function oQ({opportunities:e}){return l.jsxs(Te,{children:[l.jsxs(Xt,{children:[l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx(Yw,{className:"h-5 w-5"}),"Automation Opportunities"]}),l.jsx(Nr,{children:"Identified areas where AI or automation could add value"})]}),l.jsx(Ae,{children:l.jsx(Ux,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>l.jsxs(jp,{value:`opp-${n}`,children:[l.jsx(Cp,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-3 text-left",children:[l.jsx("span",{className:"font-medium",children:t.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[BD(t.confidence),XY(t.estimated_impact)]})]})}),l.jsxs(Tp,{className:"space-y-4 pt-2",children:[l.jsx("p",{className:"text-muted-foreground",children:t.description}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx(Xe,{variant:"outline",className:"mb-2",children:ZY(t.category)}),t.confidence_reasoning&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Confidence:"})," ",t.confidence_reasoning]}),t.impact_reasoning&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.jsx("strong",{children:"Impact:"})," ",t.impact_reasoning]})]}),l.jsxs("div",{className:"space-y-2",children:[t.affected_workflows&&t.affected_workflows.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Affected Workflows"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_workflows.join(", ")})]}),t.affected_people&&t.affected_people.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Who Benefits"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_people.join(", ")})]})]})]}),t.prerequisites&&t.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Prerequisites"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.prerequisites.map((r,s)=>l.jsx("li",{children:r},s))})]}),t.risks&&t.risks.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Risks"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.risks.map((r,s)=>l.jsx("li",{children:r},s))})]})]})]},n))})})]})}function aQ({workflows:e}){return l.jsxs(Te,{children:[l.jsxs(Xt,{children:[l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx(VT,{className:"h-5 w-5"}),"Identified Workflows"]}),l.jsx(Nr,{children:"Workflows discovered during the interviews"})]}),l.jsx(Ae,{children:l.jsx(Ux,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>l.jsxs(jp,{value:`workflow-${n}`,children:[l.jsx(Cp,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-3 text-left",children:[l.jsx("span",{className:"font-medium",children:t.name}),t.frequency&&l.jsxs(Xe,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(zc,{className:"h-3 w-3"}),t.frequency]})]})}),l.jsxs(Tp,{className:"space-y-4 pt-2",children:[l.jsx("p",{className:"text-muted-foreground",children:t.description}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[t.owner&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Owner"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.owner})]}),t.estimated_time&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Typical Duration"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.estimated_time})]}),t.systems_used&&t.systems_used.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Systems Used"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.systems_used.map((r,s)=>l.jsx(Xe,{variant:"secondary",className:"text-xs",children:r},s))})]})]}),t.components&&l.jsxs("div",{className:"space-y-3 text-sm border rounded-lg p-4 bg-muted/30",children:[l.jsx("h4",{className:"font-medium text-base",children:"SIMPLE Breakdown"}),t.components.triggers&&t.components.triggers.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Signal (Triggers):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.triggers.join(", ")})]}),t.components.inputs&&t.components.inputs.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Inputs:"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.inputs.join(", ")})]}),t.components.transformations&&t.components.transformations.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Make (Work Done):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.transformations.join(", ")})]}),t.components.decisions&&t.components.decisions.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Pick (Decisions):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.decisions.join(", ")})]}),t.components.outputs&&t.components.outputs.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Land (Outputs):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.outputs.join(", ")})]}),t.components.checks&&t.components.checks.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Examine (Quality Checks):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.checks.join(", ")})]})]})]}),t.pain_points&&t.pain_points.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Pain Points"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.pain_points.map((r,s)=>l.jsx("li",{children:r},s))})]})]})]},n))})})]})}function lQ({questions:e}){return l.jsxs(Te,{children:[l.jsxs(Xt,{children:[l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx(_F,{className:"h-5 w-5"}),"Technical Questions"]}),l.jsx(Nr,{children:"Questions that need answers before proceeding"})]}),l.jsx(Ae,{children:l.jsx("div",{className:"space-y-4",children:e.map((t,n)=>l.jsxs("div",{className:"border-l-2 border-muted-foreground/20 pl-4 py-2",children:[l.jsx("p",{className:"font-medium",children:t.question}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.context}),t.suggested_stakeholder&&l.jsxs("p",{className:"text-sm mt-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Ask:"})," ",l.jsx(Xe,{variant:"outline",children:t.suggested_stakeholder})]})]},n))})})]})}function cQ({suggestions:e}){return l.jsxs(Te,{children:[l.jsx(Xt,{children:l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx(ao,{className:"h-5 w-5"}),"Suggested Follow-ups"]})}),l.jsx(Ae,{children:l.jsx("div",{className:"space-y-3",children:e.map((t,n)=>l.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:t.description}),BD(t.priority)]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.reason}),t.suggested_participants&&t.suggested_participants.length>0&&l.jsxs("p",{className:"text-sm mt-1",children:[l.jsx("span",{className:"text-muted-foreground",children:"Participants:"})," ",t.suggested_participants.join(", ")]})]})},n))})})]})}function uQ({gaps:e}){return l.jsxs(Te,{children:[l.jsx(Xt,{children:l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx(rl,{className:"h-5 w-5"}),"Gaps & Uncertainties"]})}),l.jsx(Ae,{children:l.jsx("div",{className:"space-y-3",children:e.map((t,n)=>l.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-4 py-2",children:[l.jsx("p",{className:"font-medium",children:t.description}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.jsx("strong",{children:"Impact:"})," ",t.impact]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Resolution:"})," ",t.suggested_resolution]})]},n))})})]})}const dQ={generic_discovery:"Generic Discovery",technical_deep_dive:"Technical Deep-Dive",process_efficiency:"Process Efficiency",compliance_risk:"Compliance & Risk"};function hQ({recommendations:e,dismissedRecs:t,onAccept:n,onDismiss:r}){return e.filter((i,o)=>!t.includes(String(o))).length===0?null:l.jsxs(Te,{className:"border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-950/20",children:[l.jsxs(Xt,{children:[l.jsxs(Zt,{className:"flex items-center gap-2",children:[l.jsx(gS,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Recommended Follow-Up Interviews"]}),l.jsx(Nr,{children:"The analysis identified gaps that may benefit from additional interviews"})]}),l.jsx(Ae,{className:"space-y-4",children:e.map((i,o)=>t.includes(String(o))?null:l.jsxs("div",{className:"border rounded-lg p-4 bg-background",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Xe,{className:i.significance==="high"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:[i.significance," priority"]}),l.jsx(Xe,{variant:"outline",children:dQ[i.recommended_template]||i.recommended_template})]}),l.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-foreground",onClick:()=>r(o),title:"Dismiss recommendation",children:l.jsx(Tu,{className:"h-4 w-4"})})]}),i.gaps_addressed&&i.gaps_addressed.length>0&&l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:"Gaps to Address:"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:i.gaps_addressed.map((a,c)=>l.jsx("li",{children:a},c))})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:i.template_rationale}),i.suggested_interviewee&&l.jsxs("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:"Suggested Interviewee:"}),(i.suggested_interviewee.recommendation==="original"||i.suggested_interviewee.recommendation==="either")&&i.suggested_interviewee.original_name?l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("strong",{children:i.suggested_interviewee.original_name}),i.suggested_interviewee.original_rationale&&` - ${i.suggested_interviewee.original_rationale}`]}):null,(i.suggested_interviewee.recommendation==="other"||i.suggested_interviewee.recommendation==="either")&&i.suggested_interviewee.alternative_suggestion&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.jsx("strong",{children:"Alternative:"})," ",i.suggested_interviewee.alternative_suggestion,i.suggested_interviewee.alternative_rationale&&` - ${i.suggested_interviewee.alternative_rationale}`]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm font-medium mb-1",children:"Suggested Pre-Brief Context:"}),l.jsx("pre",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg whitespace-pre-wrap font-sans max-h-32 overflow-y-auto",children:i.suggested_pre_brief_context})]}),l.jsxs(re,{onClick:()=>n(i,o),className:"w-full",children:[l.jsx(gS,{className:"mr-2 h-4 w-4"}),"Accept & Review..."]})]},o))})]})}const Dd=2e3;function fQ({open:e,onOpenChange:t,form:n,onFormChange:r,onSubmit:s,saving:i}){const o=yf[n.interviewType];return l.jsx(Ri,{open:e,onOpenChange:t,children:l.jsxs(As,{className:"max-w-lg",children:[l.jsxs(Oi,{children:[l.jsx(Ii,{children:"Add Interviewee"}),l.jsx(ml,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(gt,{children:"Name *"}),l.jsx(Vt,{value:n.name,onChange:a=>r({...n,name:a.target.value}),placeholder:"John Smith",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(gt,{children:"Email *"}),l.jsx(Vt,{type:"email",value:n.email,onChange:a=>r({...n,email:a.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(gt,{children:"Role (optional)"}),l.jsx(Vt,{value:n.role,onChange:a=>r({...n,role:a.target.value}),placeholder:"Operations Manager",className:"mt-1"})]}),l.jsxs("div",{className:"border-t pt-4 mt-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(gt,{children:"Interview Type"}),l.jsx(Gr,{children:l.jsxs(Wn,{children:[l.jsx(Hn,{children:l.jsx(Fh,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(Tn,{className:"max-w-xs",children:l.jsx("p",{children:"Choose the interview focus. This changes what Sophie asks about during the conversation."})})]})})]}),l.jsxs(qx,{value:n.interviewType,onValueChange:a=>r({...n,interviewType:a}),children:[l.jsx(Rp,{className:"w-full",children:l.jsx(Wx,{placeholder:"Select interview type"})}),l.jsx(Op,{children:Object.entries(yf).map(([a,{name:c}])=>l.jsx(Ip,{value:a,children:c},a))})]}),o&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:o.description})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(gt,{children:"Pre-Brief Context (optional)"}),l.jsx(Gr,{children:l.jsxs(Wn,{children:[l.jsx(Hn,{children:l.jsx(Fh,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(Tn,{className:"max-w-xs",children:l.jsx("p",{children:"Provide context Sophie should know before the interview: focus areas, known facts, or specific gaps to fill."})})]})})]}),l.jsx(Zf,{value:n.preBriefContext,onChange:a=>{const c=a.target.value.slice(0,Dd);r({...n,preBriefContext:c})},placeholder:"E.g., This is a follow-up interview. Focus on: tech stack details, data flow between AdWords API and Power BI. Known: Uses scheduled API calls. Gaps: What transformation happens mid-process?",className:"min-h-[100px]",maxLength:Dd}),l.jsxs("div",{className:"flex justify-between items-center mt-1.5",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Sophie will treat this as facts and focus areas. Leave empty for a standard discovery conversation."}),l.jsxs("p",{className:`text-xs ${n.preBriefContext.length>=Dd?"text-destructive":"text-muted-foreground"}`,children:[n.preBriefContext.length,"/",Dd]})]})]})]}),l.jsxs(Lo,{children:[l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsxs(re,{onClick:s,disabled:i||!n.name||!n.email,children:[i?l.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})})}function pQ({open:e,onOpenChange:t,interviewee:n,copiedId:r,onCopyLink:s,onMarkInvited:i,getInterviewLink:o}){if(!n)return null;const a=xD(n),c=bD(n),u=c==null?void 0:c.token_expires_at,d=u?Math.ceil((new Date(u).getTime()-Date.now())/(1e3*60*60*24)):7;if(!a)return l.jsx(Ri,{open:e,onOpenChange:t,children:l.jsxs(As,{children:[l.jsxs(Oi,{children:[l.jsx(Ii,{children:"No Active Interview"}),l.jsxs(ml,{children:["There is no active interview for ",n.name,". All interviews may have been completed."]})]}),l.jsx(Lo,{children:l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})});const h=()=>{s(n),i(n)},f=()=>{const p=encodeURIComponent(`${n.name} - Your Discovery Conversation`),x=encodeURIComponent(`Hi ${n.name},

I hope this finds you well.

As part of our Discovery work, I'd love to have a short conversation with you about your role and how you spend your time. The aim is to understand where automation might genuinely help - freeing you up for the work that actually needs your brain and judgement.

Here's the thing: you know your job better than anyone, so this is really a collaborative chat rather than an interrogation. I'll walk you through a simple framework and then we'll map out your workflows together.

When you're ready, click the link below to start:
${o(a)}

It takes around 20-30 minutes, and there are no wrong answers - I'm just trying to understand how things actually work.

If you have any questions before we start, just drop me a note.

Looking forward to it,

---
Privacy Notice: https://discovery.goagentflow.com/discovery/privacy
If you are an interviewee, your organisation is the controller of your interview data.`);window.open(`mailto:${n.email}?subject=${p}&body=${x}`),i(n)};return l.jsx(Ri,{open:e,onOpenChange:t,children:l.jsxs(As,{className:"sm:max-w-lg",children:[l.jsxs(Oi,{children:[l.jsx(Ii,{children:"Send Interview Invite"}),l.jsxs(ml,{children:["Choose how to invite ",n.name," to their interview session."]})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(gt,{className:"text-sm font-medium",children:"Interview Link"}),l.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[l.jsx(Vt,{readOnly:!0,value:o(a),className:"font-mono text-sm"}),l.jsx(re,{variant:"outline",size:"icon",onClick:()=>s(n),children:r===n.id?l.jsx(ku,{className:"h-4 w-4"}):l.jsx(qc,{className:"h-4 w-4"})})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Link expires in ",d," day",d!==1?"s":""]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Te,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:h,children:l.jsxs(Ae,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:l.jsx(xF,{className:"h-5 w-5 text-accent"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),l.jsx(mv,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsx(Te,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:f,children:l.jsxs(Ae,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:l.jsx(ju,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Open in Email Client"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),l.jsx(mv,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),l.jsx(Lo,{children:l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function mQ({open:e,onOpenChange:t,interviewee:n,interview:r,resultsToken:s,loading:i,onCopyLink:o,getResultsLink:a}){const c=()=>{o(),t(!1)},u=!!r;u&&`${r==null?void 0:r.sequence_number}`;const d=()=>{if(n&&s){const h=encodeURIComponent(u?`${n.name} - Interview #${r==null?void 0:r.sequence_number} Insights`:`${n.name} - Your Discovery Insights`),f=encodeURIComponent(`Hi ${n.name},

I wanted to say thank you again for taking the time to walk us through your work - I really appreciate you carving out that time.

I've now had a chance to analyse everything we discussed and pull together some insights specifically for you. The aim here isn't to tell you what to do - you know your job far better than I ever will - but to shine a light on where automation might genuinely free you up for the work that actually needs your brain and judgement.

I hope you find it useful:
${a(s)}

If anything doesn't make sense or you'd like to dig deeper into any of the findings, just drop me a note - I'm always happy to chat it through.

Best,

---
Privacy Notice: https://discovery.goagentflow.com/discovery/privacy
If you are an interviewee, your organisation is the controller of your interview data.`);window.open(`mailto:${n.email}?subject=${h}&body=${f}`),t(!1)}};return l.jsx(Ri,{open:e,onOpenChange:t,children:l.jsxs(As,{className:"sm:max-w-lg",children:[l.jsxs(Oi,{children:[l.jsxs(Ii,{className:"flex items-center gap-2",children:["Share Results",u&&l.jsxs(Xe,{variant:"secondary",className:"text-xs",children:["Interview #",r==null?void 0:r.sequence_number]})]}),l.jsx(ml,{children:u?`Share the analysis from interview #${r==null?void 0:r.sequence_number} with ${n==null?void 0:n.name}.`:`Share the personalised analysis results with ${n==null?void 0:n.name}.`})]}),l.jsx("div",{className:"space-y-4 py-4",children:i?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(vt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(gt,{className:"text-sm font-medium",children:"Results Link"}),l.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[l.jsx(Vt,{readOnly:!0,value:a(s),className:"font-mono text-sm"}),l.jsx(re,{variant:"outline",size:"icon",onClick:o,children:l.jsx(qc,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 30 days"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Te,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:c,children:l.jsxs(Ae,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:l.jsx(qc,{className:"h-5 w-5 text-accent"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Copy Link"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the results link to share manually"})]})]})}),l.jsx(Te,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:d,children:l.jsxs(Ae,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:l.jsx(ju,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Open in Email Client"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send results via email to ",n==null?void 0:n.email]})]}),l.jsx(mv,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}):l.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Unable to load results link. The analysis may not be ready yet."})}),l.jsx(Lo,{children:l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}const Ld=2e3;function gQ({open:e,onOpenChange:t,interviewee:n,form:r,onFormChange:s,onSubmit:i,saving:o}){if(!n)return null;const a=yf[r.interviewType],c=(n.total_interviews||0)+1;return l.jsx(Ri,{open:e,onOpenChange:t,children:l.jsxs(As,{className:"max-w-lg",children:[l.jsxs(Oi,{children:[l.jsxs(Ii,{className:"flex items-center gap-2",children:[l.jsx(pv,{className:"h-5 w-5"}),"Schedule Follow-up Interview"]}),l.jsxs(ml,{children:["Schedule interview #",c," for ",n.name,n.role&&` (${n.role})`]})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(gt,{children:"Interview Type"}),l.jsx(Gr,{children:l.jsxs(Wn,{children:[l.jsx(Hn,{children:l.jsx(Fh,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(Tn,{className:"max-w-xs",children:l.jsx("p",{children:"Choose the interview focus. This changes what Sophie asks about during the conversation."})})]})})]}),l.jsxs(qx,{value:r.interviewType,onValueChange:u=>s({...r,interviewType:u}),children:[l.jsx(Rp,{className:"w-full",children:l.jsx(Wx,{placeholder:"Select interview type"})}),l.jsx(Op,{children:Object.entries(yf).map(([u,{name:d}])=>l.jsx(Ip,{value:u,children:d},u))})]}),a&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:a.description})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(gt,{children:"Pre-Brief Context"}),l.jsx(Gr,{children:l.jsxs(Wn,{children:[l.jsx(Hn,{children:l.jsx(Fh,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(Tn,{className:"max-w-xs",children:l.jsx("p",{children:"Provide context Sophie should know: gaps from previous interviews, specific topics to explore, or areas needing clarification."})})]})})]}),l.jsx(Zf,{value:r.preBriefContext,onChange:u=>{const d=u.target.value.slice(0,Ld);s({...r,preBriefContext:d})},placeholder:"E.g., This is a follow-up to dig deeper into the reporting workflow. Gaps identified: unclear data transformation steps, need to understand who approves exceptions. Focus on: the hand-off between Finance and Ops teams.",className:"min-h-[120px]",maxLength:Ld}),l.jsxs("div",{className:"flex justify-between items-center mt-1.5",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Sophie will use this context to guide the follow-up conversation."}),l.jsxs("p",{className:`text-xs ${r.preBriefContext.length>=Ld?"text-destructive":"text-muted-foreground"}`,children:[r.preBriefContext.length,"/",Ld]})]})]})]}),l.jsxs(Lo,{children:[l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsxs(re,{onClick:i,disabled:o,children:[o?l.jsx(vt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Schedule Interview"]})]})]})})}function vQ(){const{id:e}=g0(),{toast:t}=bu(),[n,r]=g.useState(null),[s,i]=g.useState(null),[o,a]=g.useState([]),[c,u]=g.useState(!0),[d,h]=g.useState(null),[f,p]=g.useState(!1),[x,m]=g.useState(!1),[b,y]=g.useState(!1),[w,S]=g.useState(!1),[_,j]=g.useState(!1),[C,T]=g.useState(!1),[P,O]=g.useState(null),[I,R]=g.useState(null),[D,H]=g.useState(null),[V,Q]=g.useState(null),[J,Y]=g.useState(null),[L,$]=g.useState(!1),[B,te]=g.useState({name:"",email:"",role:"",interviewType:"generic_discovery",preBriefContext:""}),[ne,v]=g.useState({interviewType:"generic_discovery",preBriefContext:""}),[E,k]=g.useState(!1),[A,N]=g.useState(!1),[M,U]=g.useState(null),[F,W]=g.useState(null),[X,de]=g.useState([]);g.useEffect(()=>{Me()},[e]),g.useEffect(()=>{const Z=d==null?void 0:d.id;if(!Z||!e){de([]);return}const Ne=localStorage.getItem(`dismissed_recs_${e}_${Z}`);de(Ne?JSON.parse(Ne):[])},[e,d==null?void 0:d.id]),g.useEffect(()=>{const Z=d==null?void 0:d.id;!Z||!e||localStorage.setItem(`dismissed_recs_${e}_${Z}`,JSON.stringify(X))},[e,d==null?void 0:d.id,X]);async function Me(){if(!e)return;u(!0);const{project:Z,org:Ne,interviewees:We,error:nn}=await DE(e);if(nn){t({title:"Error",description:nn,variant:"destructive"}),u(!1);return}r(Z),i(Ne),a(We),u(!1)}const wt=Z=>`${window.location.origin}/discovery/interview/${Z}`,ut=Z=>`${window.location.origin}/discovery/results/${Z}`,Oe=Z=>{const Ne=xD(Z);if(!Ne){t({title:"Error",description:"No active interview found",variant:"destructive"});return}navigator.clipboard.writeText(wt(Ne)),U(Z.id),t({title:"Link copied!"}),setTimeout(()=>U(null),2e3)},Ze=async Z=>{bD(Z)?await LE(Z.id):await LE(Z.id),t({title:"Marked as invited"}),Me()},_t=async()=>{if(!n||!B.name||!B.email)return;k(!0);const{interviewee:Z,interview:Ne,error:We}=await bY(n.id,n.org_id,B.name,B.email,B.role||void 0,B.interviewType,B.preBriefContext||void 0);if(We||!Z){t({title:"Error",description:We||"Failed to add interviewee",variant:"destructive"}),k(!1);return}t({title:"Interviewee added!",description:`${B.name} has been added to the project.`}),te({name:"",email:"",role:"",interviewType:"generic_discovery",preBriefContext:""}),y(!1),k(!1);const nn={...Z,total_interviews:1,completed_interviews:0,interviews:Ne?[Ne]:[]};O(nn),S(!0),Me()},_n=async()=>{if(!I)return;N(!0);const{interview:Z,error:Ne}=await _Y(I.id,ne.interviewType,ne.preBriefContext||void 0);if(Ne||!Z){t({title:"Error",description:Ne||"Failed to schedule follow-up",variant:"destructive"}),N(!1);return}t({title:"Follow-up scheduled!",description:`Interview #${Z.sequence_number} scheduled for ${I.name}.`}),v({interviewType:"generic_discovery",preBriefContext:""}),T(!1),N(!1),await Me();const{interviewees:We}=await DE(e),nn=We.find(Il=>Il.id===I.id);nn&&(O(nn),S(!0))},tn=(Z,Ne,We)=>{R(Z),v({interviewType:We||"generic_discovery",preBriefContext:Ne||""}),T(!0)},kn=async()=>{if(!e)return;p(!0);const{analysis:Z,error:Ne}=await jY(e);Ne?t({title:"Error loading analysis",description:Ne,variant:"destructive"}):h(Z),p(!1)},It=async()=>{if(!e)return;m(!0);const{error:Z}=await CY(e);Z?t({title:"Error generating analysis",description:Z,variant:"destructive"}):(t({title:"Analysis generated!",description:"The analysis has been updated."}),kn()),m(!1)},as=async Z=>{W(Z.id);const{error:Ne}=await TY(Z.id);if(Ne){t({title:"Error",description:Ne,variant:"destructive"}),W(null);return}t({title:"Analysis generated!",description:`Analysis for ${Z.name} is ready.`}),W(null),Me()},Is=async Z=>{H(Z),Q(null),j(!0),$(!0),Y(null);const{resultsToken:Ne,error:We}=await NY(Z.id);if(We){t({title:"Error",description:We,variant:"destructive"}),$(!1);return}Y(Ne),$(!1)},At=async(Z,Ne)=>{H(Z),Q(Ne),j(!0),$(!0),Y(null);const{resultsToken:We,error:nn}=await AY(Ne.id);if(nn){t({title:"Error",description:nn,variant:"destructive"}),$(!1);return}Y(We),$(!1)},or=()=>{J&&(navigator.clipboard.writeText(ut(J)),t({title:"Results link copied!"}))},Wo=(Z,Ne)=>{const We=Z.suggested_interviewee,nn=We!=null&&We.interviewee_id?o.find(Il=>Il.id===We.interviewee_id):null;nn?tn(nn,Z.suggested_pre_brief_context||"",Z.recommended_template||"generic_discovery"):(te({name:"",email:"",role:"",interviewType:Z.recommended_template||"generic_discovery",preBriefContext:Z.suggested_pre_brief_context||""}),y(!0))},Ol=Z=>{de(Ne=>[...Ne,String(Z)])},Ms=Z=>{Z==="analysis"&&!d&&!f&&kn()};if(c)return l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(vt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!n)return l.jsx("div",{className:"p-6",children:l.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const ae=o.filter(Z=>(Z.completed_interviews||0)>0).length,le=o.filter(Z=>Z.status==="pending"||Z.status==="invited").length;return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h1",{className:"text-2xl font-bold",children:n.name}),l.jsxs("p",{className:"text-muted-foreground",children:[s==null?void 0:s.name,"  Created ",new Date(n.created_at).toLocaleDateString()]})]}),l.jsxs(KY,{defaultValue:"interviewees",className:"mt-6",onValueChange:Ms,children:[l.jsxs(VD,{className:"mb-6",children:[l.jsx(fh,{value:"interviewees",children:"Interviewees"}),l.jsx(fh,{value:"overview",children:"Overview"}),l.jsx(fh,{value:"analysis",disabled:ae===0,children:"Analysis"})]}),l.jsx(ph,{value:"overview",children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsx(Ua,{icon:Cu,label:"Total Interviewees",value:o.length}),l.jsx(Ua,{icon:Uh,label:"Completed",value:ae}),l.jsx(Ua,{icon:Gw,label:"Pending",value:le})]})}),l.jsx(ph,{value:"interviewees",children:l.jsx(rQ,{interviewees:o,copiedId:M,generatingAnalysisId:F,onAddClick:()=>y(!0),onCopyLink:Oe,onInviteClick:Z=>{O(Z),S(!0)},onGenerateAnalysis:as,onShareClick:Is,onScheduleFollowUp:Z=>tn(Z),onShareInterviewClick:At})}),l.jsx(ph,{value:"analysis",children:l.jsx(sQ,{analysis:d,loading:f,generating:x,completedCount:ae,onGenerate:It,dismissedRecs:X,onAcceptRecommendation:Wo,onDismissRecommendation:Ol})})]}),l.jsx(fQ,{open:b,onOpenChange:y,form:B,onFormChange:te,onSubmit:_t,saving:E}),l.jsx(pQ,{open:w,onOpenChange:S,interviewee:P,copiedId:M,onCopyLink:Oe,onMarkInvited:Ze,getInterviewLink:wt}),l.jsx(mQ,{open:_,onOpenChange:j,interviewee:D,interview:V,resultsToken:J,loading:L,onCopyLink:or,getResultsLink:ut}),l.jsx(gQ,{open:C,onOpenChange:T,interviewee:I,form:ne,onFormChange:v,onSubmit:_n,saving:A})]})}function yQ(){const{toast:e}=bu(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),l.jsxs("div",{className:"max-w-2xl space-y-6",children:[l.jsxs(Te,{children:[l.jsxs(Xt,{children:[l.jsx(Zt,{children:"Voice Platform"}),l.jsx(Nr,{children:"Configure your Vapi integration"})]}),l.jsxs(Ae,{children:[l.jsx(gt,{htmlFor:"vapi",children:"Vapi API Key"}),l.jsx(Vt,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),l.jsxs(Te,{children:[l.jsxs(Xt,{children:[l.jsx(Zt,{children:"LLM"}),l.jsx(Nr,{children:"Configure your AI provider"})]}),l.jsxs(Ae,{children:[l.jsx(gt,{htmlFor:"anthropic",children:"Anthropic API Key"}),l.jsx(Vt,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),l.jsxs(Te,{children:[l.jsxs(Xt,{children:[l.jsx(Zt,{children:"Admin Users"}),l.jsx(Nr,{children:"Manage who can access this dashboard"})]}),l.jsxs(Ae,{children:[l.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"admin@example.com"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),l.jsx(re,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),l.jsx(re,{onClick:t,children:"Save Settings"})]})]})}const wQ=[{icon:EF,label:"Dashboard",href:"/admin/dashboard"},{icon:Cu,label:"Projects",href:"/admin/projects"},{icon:PF,label:"Settings",href:"/admin/settings"}];function $E({isOpen:e,onClose:t,isMobile:n}){const r=Fi(),s=Ui(),{user:i,signOut:o}=Bx(),a=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(d){console.error("Sign out error:",d)}},c=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",u=l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[l.jsx(Je,{to:"/admin/dashboard",className:"flex items-center gap-2",children:l.jsx("img",{src:Tl,alt:"AgentFlow",className:"h-8 w-auto"})}),n&&l.jsx(re,{variant:"ghost",size:"icon",onClick:t,children:l.jsx(Tu,{className:"h-5 w-5"})})]}),l.jsx("nav",{className:"flex-1 space-y-1 p-4",children:wQ.map(d=>{const h=r.pathname===d.href||d.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return l.jsxs(Je,{to:d.href,onClick:n?t:void 0,className:oe("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[l.jsx(d.icon,{className:"h-5 w-5"}),d.label,h&&l.jsx(fe.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},d.href)})}),l.jsx("div",{className:"border-t p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:c})}),l.jsxs("div",{className:"flex-1 truncate",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),l.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),l.jsx(re,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:l.jsx(jF,{className:"h-4 w-4"})})]})})]});return n?l.jsx(Ni,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),l.jsx(fe.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:u})]})}):l.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:u})}function xQ({open:e,onOpenChange:t}){const n=Ui(),[r,s]=g.useState(""),[i,o]=g.useState({interviewees:[],projects:[],orgs:[]}),[a,c]=g.useState(!1),[u,d]=g.useState(0),h=g.useRef(null),f=g.useRef(),p=[...i.interviewees.map(_=>({type:"interviewee",data:_})),...i.projects.map(_=>({type:"project",data:_})),...i.orgs.map(_=>({type:"org",data:_}))],x=p.length>0;g.useEffect(()=>{e&&(s(""),o({interviewees:[],projects:[],orgs:[]}),d(0),setTimeout(()=>{var _;return(_=h.current)==null?void 0:_.focus()},50))},[e]);const m=g.useCallback(async _=>{if(_.trim().length<2){o({interviewees:[],projects:[],orgs:[]}),c(!1);return}c(!0);const{results:j,error:C}=await PY(_);C||(o(j),d(0)),c(!1)},[]);g.useEffect(()=>(f.current&&clearTimeout(f.current),r.trim().length>=2?(c(!0),f.current=setTimeout(()=>{m(r)},300)):(o({interviewees:[],projects:[],orgs:[]}),c(!1)),()=>{f.current&&clearTimeout(f.current)}),[r,m]);const b=_=>{switch(t(!1),_.type){case"interviewee":n(`/admin/projects/${_.data.project_id}`);break;case"project":n(`/admin/projects/${_.data.id}`);break;case"org":n(`/admin/clients/${_.data.id}`);break}},y=_=>{switch(_.key){case"ArrowDown":_.preventDefault(),d(j=>Math.min(j+1,p.length-1));break;case"ArrowUp":_.preventDefault(),d(j=>Math.max(j-1,0));break;case"Enter":_.preventDefault(),p[u]&&b(p[u]);break;case"Escape":_.preventDefault(),t(!1);break}},w=_=>_==="completed"?l.jsx(ku,{className:"h-3 w-3 text-green-500"}):null,S=_=>_?l.jsx($T,{className:"h-3 w-3 text-green-500"}):null;return l.jsx(Ri,{open:e,onOpenChange:t,children:l.jsxs(As,{className:"sm:max-w-lg p-0 gap-0 overflow-hidden",onKeyDown:y,children:[l.jsxs("div",{className:"flex items-center border-b px-3",children:[l.jsx(Jw,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),l.jsx(Vt,{ref:h,value:r,onChange:_=>s(_.target.value),placeholder:"Search people, projects, clients...",className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-12"}),a&&l.jsx(vt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),l.jsx("div",{className:"max-h-80 overflow-y-auto p-2",children:r.length<2?l.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"Type at least 2 characters to search..."}):!x&&!a?l.jsxs("p",{className:"py-6 text-center text-sm text-muted-foreground",children:['No results found for "',r,'"']}):l.jsxs(l.Fragment,{children:[i.interviewees.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PEOPLE"}),i.interviewees.map((_,j)=>{var T,P,O;const C=j;return l.jsxs("button",{onClick:()=>b({type:"interviewee",data:_}),className:oe("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[l.jsx(Xd,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium truncate",children:_.name}),S(_.consent_given),w(_.status)]}),_.role&&l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:_.role}),l.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(T=_.discovery_project)==null?void 0:T.name,"  ",(O=(P=_.discovery_project)==null?void 0:P.org)==null?void 0:O.name]})]})]},_.id)})]}),i.projects.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PROJECTS"}),i.projects.map((_,j)=>{var T;const C=i.interviewees.length+j;return l.jsxs("button",{onClick:()=>b({type:"project",data:_}),className:oe("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[l.jsx(gc,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"font-medium truncate block",children:_.name}),l.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[(T=_.org)==null?void 0:T.name,"  ",_.status]})]})]},_.id)})]}),i.orgs.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"CLIENTS"}),i.orgs.map((_,j)=>{const C=i.interviewees.length+i.projects.length+j;return l.jsxs("button",{onClick:()=>b({type:"org",data:_}),className:oe("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===C?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[l.jsx(wF,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("span",{className:"font-medium truncate block",children:_.name})})]},_.id)})]})]})}),l.jsx("div",{className:"border-t px-3 py-2",children:l.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:""}),"navigate"]}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Enter"}),"select"]}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Esc"}),"close"]})]})})]})})}function bQ({onMenuClick:e,title:t}){const[n,r]=g.useState(!1),i=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"":"Ctrl";return g.useEffect(()=>{const o=a=>{(a.metaKey||a.ctrlKey)&&a.key==="k"&&(a.preventDefault(),r(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(re,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[l.jsx(CF,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&l.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(re,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"gap-2 text-muted-foreground",children:[l.jsx(Jw,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Search"}),l.jsxs("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[i,"K"]})]}),l.jsx(Cl,{})]})]}),l.jsx(xQ,{open:n,onOpenChange:r})]})}function SQ(){const[e,t]=g.useState(!1),{user:n,isAdmin:r,loading:s}=Bx();return s?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx(vt,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?l.jsx(XB,{to:"/admin/login",replace:!0}):l.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[l.jsx($E,{isOpen:!0,onClose:()=>{},isMobile:!1}),l.jsx($E,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx(bQ,{onMenuClick:()=>t(!0)}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx(ZB,{})}),l.jsx(Fu,{className:"border-t"})]})]})}const _Q=()=>{const e=Fi();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[l.jsx("div",{className:"flex flex-1 items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx("span",{className:"text-3xl font-bold text-white",children:"404"})}),l.jsx("h1",{className:"mb-2 text-2xl font-bold",children:"Page not found"}),l.jsx("p",{className:"mb-6 text-muted-foreground",children:"Sorry, we couldn't find the page you're looking for."}),l.jsx("a",{href:"/",className:"inline-flex items-center justify-center rounded-lg px-6 py-3 font-semibold transition-opacity hover:opacity-90",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Return to Home"})]})}),l.jsx(Fu,{})]})},kQ=new oB,EQ=()=>l.jsx(lB,{client:kQ,children:l.jsx(x4,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:l.jsxs(Gr,{children:[l.jsx(v4,{}),l.jsx(X4,{}),l.jsx(l3,{basename:"/discovery",children:l.jsxs(qS,{children:[l.jsx(Ht,{path:"/",element:l.jsx(K6,{})}),l.jsx(Ht,{path:"/interview/:token",element:l.jsx(oJ,{})}),l.jsx(Ht,{path:"/results/:token",element:l.jsx(NJ,{})}),l.jsx(Ht,{path:"/privacy",element:l.jsx(AJ,{})}),l.jsx(Ht,{path:"/terms",element:l.jsx(PJ,{})}),l.jsx(Ht,{path:"/subprocessors",element:l.jsx(MJ,{})}),l.jsx(Ht,{path:"/admin/*",element:l.jsx(DJ,{children:l.jsxs(qS,{children:[l.jsx(Ht,{path:"login",element:l.jsx(LJ,{})}),l.jsx(Ht,{path:"auth/callback",element:l.jsx($J,{})}),l.jsxs(Ht,{element:l.jsx(SQ,{}),children:[l.jsx(Ht,{path:"dashboard",element:l.jsx(BJ,{})}),l.jsx(Ht,{path:"projects",element:l.jsx(RY,{})}),l.jsx(Ht,{path:"projects/:id",element:l.jsx(vQ,{})}),l.jsx(Ht,{path:"settings",element:l.jsx(yQ,{})})]})]})})}),l.jsx(Ht,{path:"*",element:l.jsx(_Q,{})})]})})]})})});aT(document.getElementById("root")).render(l.jsx(EQ,{}));
