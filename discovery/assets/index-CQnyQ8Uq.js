var cD=Object.defineProperty;var bb=e=>{throw TypeError(e)};var uD=(e,t,n)=>t in e?cD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xe=(e,t,n)=>uD(e,typeof t!="symbol"?t+"":t,n),lp=(e,t,n)=>t.has(e)||bb("Cannot "+n);var z=(e,t,n)=>(lp(e,t,"read from private field"),n?n.call(e):t.get(e)),Oe=(e,t,n)=>t.has(e)?bb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,r)=>(lp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$t=(e,t,n)=>(lp(e,t,"access private method"),n);var mu=(e,t,n,r)=>({set _(s){Se(e,t,s,n)},get _(){return z(e,t,r)}});function dD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var mk={exports:{}},Zh={},gk={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=Symbol.for("react.element"),fD=Symbol.for("react.portal"),pD=Symbol.for("react.fragment"),mD=Symbol.for("react.strict_mode"),gD=Symbol.for("react.profiler"),vD=Symbol.for("react.provider"),yD=Symbol.for("react.context"),wD=Symbol.for("react.forward_ref"),bD=Symbol.for("react.suspense"),xD=Symbol.for("react.memo"),SD=Symbol.for("react.lazy"),Sb=Symbol.iterator;function _D(e){return e===null||typeof e!="object"?null:(e=Sb&&e[Sb]||e["@@iterator"],typeof e=="function"?e:null)}var vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yk=Object.assign,wk={};function Xa(e,t,n){this.props=e,this.context=t,this.refs=wk,this.updater=n||vk}Xa.prototype.isReactComponent={};Xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bk(){}bk.prototype=Xa.prototype;function Ey(e,t,n){this.props=e,this.context=t,this.refs=wk,this.updater=n||vk}var ky=Ey.prototype=new bk;ky.constructor=Ey;yk(ky,Xa.prototype);ky.isPureReactComponent=!0;var _b=Array.isArray,xk=Object.prototype.hasOwnProperty,Cy={current:null},Sk={key:!0,ref:!0,__self:!0,__source:!0};function _k(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)xk.call(t,r)&&!Sk.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Kc,type:e,key:i,ref:o,props:s,_owner:Cy.current}}function ED(e,t){return{$$typeof:Kc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ty(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kc}function kD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Eb=/\/+/g;function cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kD(""+e.key):t.toString(36)}function fd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kc:case fD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+cp(o,0):r,_b(s)?(n="",e!=null&&(n=e.replace(Eb,"$&/")+"/"),fd(s,t,n,"",function(c){return c})):s!=null&&(Ty(s)&&(s=ED(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Eb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",_b(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+cp(i,a);o+=fd(i,t,n,l,s)}else if(l=_D(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+cp(i,a++),o+=fd(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gu(e,t,n){if(e==null)return e;var r=[],s=0;return fd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function CD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var on={current:null},pd={transition:null},TD={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:pd,ReactCurrentOwner:Cy};function Ek(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:gu,forEach:function(e,t,n){gu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gu(e,function(){t++}),t},toArray:function(e){return gu(e,function(t){return t})||[]},only:function(e){if(!Ty(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=Xa;Ce.Fragment=pD;Ce.Profiler=gD;Ce.PureComponent=Ey;Ce.StrictMode=mD;Ce.Suspense=bD;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TD;Ce.act=Ek;Ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yk({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Cy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)xk.call(t,l)&&!Sk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Kc,type:e.type,key:s,ref:i,props:r,_owner:o}};Ce.createContext=function(e){return e={$$typeof:yD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vD,_context:e},e.Consumer=e};Ce.createElement=_k;Ce.createFactory=function(e){var t=_k.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:wD,render:e}};Ce.isValidElement=Ty;Ce.lazy=function(e){return{$$typeof:SD,_payload:{_status:-1,_result:e},_init:CD}};Ce.memo=function(e,t){return{$$typeof:xD,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=pd.transition;pd.transition={};try{e()}finally{pd.transition=t}};Ce.unstable_act=Ek;Ce.useCallback=function(e,t){return on.current.useCallback(e,t)};Ce.useContext=function(e){return on.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return on.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return on.current.useEffect(e,t)};Ce.useId=function(){return on.current.useId()};Ce.useImperativeHandle=function(e,t,n){return on.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return on.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return on.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return on.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return on.current.useReducer(e,t,n)};Ce.useRef=function(e){return on.current.useRef(e)};Ce.useState=function(e){return on.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return on.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return on.current.useTransition()};Ce.version="18.3.1";gk.exports=Ce;var v=gk.exports;const G=pk(v),jy=dD({__proto__:null,default:G},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD=v,AD=Symbol.for("react.element"),PD=Symbol.for("react.fragment"),ND=Object.prototype.hasOwnProperty,OD=jD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RD={key:!0,ref:!0,__self:!0,__source:!0};function kk(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ND.call(t,r)&&!RD.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:AD,type:e,key:i,ref:o,props:s,_owner:OD.current}}Zh.Fragment=PD;Zh.jsx=kk;Zh.jsxs=kk;mk.exports=Zh;var u=mk.exports,Ck={exports:{}},jn={},Tk={exports:{}},jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,V){var Y=$.length;$.push(V);e:for(;0<Y;){var te=Y-1>>>1,re=$[te];if(0<s(re,V))$[te]=V,$[Y]=re,Y=te;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var V=$[0],Y=$.pop();if(Y!==V){$[0]=Y;e:for(var te=0,re=$.length,g=re>>>1;te<g;){var k=2*(te+1)-1,_=$[k],P=k+1,A=$[P];if(0>s(_,Y))P<re&&0>s(A,_)?($[te]=A,$[P]=Y,te=P):($[te]=_,$[k]=Y,te=k);else if(P<re&&0>s(A,Y))$[te]=A,$[P]=Y,te=P;else break e}}return V}function s($,V){var Y=$.sortIndex-V.sortIndex;return Y!==0?Y:$.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=$)r(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(c)}}function E($){if(p=!1,S($),!b)if(n(l)!==null)b=!0,Q(C);else{var V=n(c);V!==null&&X(E,V.startTime-$)}}function C($,V){b=!1,p&&(p=!1,y(N),N=-1),m=!0;var Y=f;try{for(S(V),h=n(l);h!==null&&(!(h.expirationTime>V)||$&&!O());){var te=h.callback;if(typeof te=="function"){h.callback=null,f=h.priorityLevel;var re=te(h.expirationTime<=V);V=e.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),S(V)}else r(l);h=n(l)}if(h!==null)var g=!0;else{var k=n(c);k!==null&&X(E,k.startTime-V),g=!1}return g}finally{h=null,f=Y,m=!1}}var T=!1,j=null,N=-1,I=5,R=-1;function O(){return!(e.unstable_now()-R<I)}function L(){if(j!==null){var $=e.unstable_now();R=$;var V=!0;try{V=j(!0,$)}finally{V?W():(T=!1,j=null)}}else T=!1}var W;if(typeof w=="function")W=function(){w(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=L,W=function(){J.postMessage(null)}}else W=function(){x(L,0)};function Q($){j=$,T||(T=!0,W())}function X($,V){N=x(function(){$(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,Q(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var Y=f;f=V;try{return $()}finally{f=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,V){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=f;f=$;try{return V()}finally{f=Y}},e.unstable_scheduleCallback=function($,V,Y){var te=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Y+re,$={id:d++,callback:V,priorityLevel:$,startTime:Y,expirationTime:re,sortIndex:-1},Y>te?($.sortIndex=Y,t(c,$),n(l)===null&&$===n(c)&&(p?(y(N),N=-1):p=!0,X(E,Y-te))):($.sortIndex=re,t(l,$),b||m||(b=!0,Q(C))),$},e.unstable_shouldYield=O,e.unstable_wrapCallback=function($){var V=f;return function(){var Y=f;f=V;try{return $.apply(this,arguments)}finally{f=Y}}}})(jk);Tk.exports=jk;var ID=Tk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD=v,Tn=ID;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ak=new Set,ac={};function vo(e,t){Pa(e,t),Pa(e+"Capture",t)}function Pa(e,t){for(ac[e]=t,e=0;e<t.length;e++)Ak.add(t[e])}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wm=Object.prototype.hasOwnProperty,DD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kb={},Cb={};function LD(e){return Wm.call(Cb,e)?!0:Wm.call(kb,e)?!1:DD.test(e)?Cb[e]=!0:(kb[e]=!0,!1)}function $D(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FD(e,t,n,r){if(t===null||typeof t>"u"||$D(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function an(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new an(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new an(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new an(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new an(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new an(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new an(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new an(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new an(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new an(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ay=/[\-:]([a-z])/g;function Py(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ay,Py);Lt[t]=new an(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ay,Py);Lt[t]=new an(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ay,Py);Lt[t]=new an(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new an(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new an(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ny(e,t,n,r){var s=Lt.hasOwnProperty(t)?Lt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FD(t,n,s,r)&&(n=null),r||s===null?LD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ws=MD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),Oy=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),Gm=Symbol.for("react.suspense"),Km=Symbol.for("react.suspense_list"),Iy=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),Ok=Symbol.for("react.offscreen"),Tb=Symbol.iterator;function pl(e){return e===null||typeof e!="object"?null:(e=Tb&&e[Tb]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,up;function Tl(e){if(up===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);up=t&&t[1]||""}return`
`+up+e}var dp=!1;function hp(e,t){if(!e||dp)return"";dp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{dp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Tl(e):""}function VD(e){switch(e.tag){case 5:return Tl(e.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return e=hp(e.type,!1),e;case 11:return e=hp(e.type.render,!1),e;case 1:return e=hp(e.type,!0),e;default:return""}}function Jm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vo:return"Fragment";case Fo:return"Portal";case Hm:return"Profiler";case Oy:return"StrictMode";case Gm:return"Suspense";case Km:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nk:return(e.displayName||"Context")+".Consumer";case Pk:return(e._context.displayName||"Context")+".Provider";case Ry:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iy:return t=e.displayName||null,t!==null?t:Jm(e.type)||"Memo";case Is:t=e._payload,e=e._init;try{return Jm(e(t))}catch{}}return null}function UD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jm(t);case 8:return t===Oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BD(e){var t=Rk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yu(e){e._valueTracker||(e._valueTracker=BD(e))}function Ik(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ym(e,t){var n=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mk(e,t){t=t.checked,t!=null&&Ny(e,"checked",t,!1)}function Qm(e,t){Mk(e,t);var n=ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xm(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ab(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xm(e,t,n){(t!=="number"||qd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jl=Array.isArray;function ra(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ai(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(jl(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ai(n)}}function Dk(e,t){var n=ai(t.value),r=ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wu,$k=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zD=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(e){zD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vl[t]=Vl[e]})});function Fk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vl.hasOwnProperty(e)&&Vl[e]?(""+t).trim():t+"px"}function Vk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var qD=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tg(e,t){if(t){if(qD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function ng(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rg=null;function My(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sg=null,sa=null,ia=null;function Ob(e){if(e=Qc(e)){if(typeof sg!="function")throw Error(K(280));var t=e.stateNode;t&&(t=sf(t),sg(e.stateNode,e.type,t))}}function Uk(e){sa?ia?ia.push(e):ia=[e]:sa=e}function Bk(){if(sa){var e=sa,t=ia;if(ia=sa=null,Ob(e),t)for(e=0;e<t.length;e++)Ob(t[e])}}function zk(e,t){return e(t)}function qk(){}var fp=!1;function Wk(e,t,n){if(fp)return e(t,n);fp=!0;try{return zk(e,t,n)}finally{fp=!1,(sa!==null||ia!==null)&&(qk(),Bk())}}function cc(e,t){var n=e.stateNode;if(n===null)return null;var r=sf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var ig=!1;if(hs)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){ig=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{ig=!1}function WD(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ul=!1,Wd=null,Hd=!1,og=null,HD={onError:function(e){Ul=!0,Wd=e}};function GD(e,t,n,r,s,i,o,a,l){Ul=!1,Wd=null,WD.apply(HD,arguments)}function KD(e,t,n,r,s,i,o,a,l){if(GD.apply(this,arguments),Ul){if(Ul){var c=Wd;Ul=!1,Wd=null}else throw Error(K(198));Hd||(Hd=!0,og=c)}}function yo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rb(e){if(yo(e)!==e)throw Error(K(188))}function JD(e){var t=e.alternate;if(!t){if(t=yo(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rb(s),e;if(i===r)return Rb(s),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function Gk(e){return e=JD(e),e!==null?Kk(e):null}function Kk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kk(e);if(t!==null)return t;e=e.sibling}return null}var Jk=Tn.unstable_scheduleCallback,Ib=Tn.unstable_cancelCallback,YD=Tn.unstable_shouldYield,QD=Tn.unstable_requestPaint,ht=Tn.unstable_now,XD=Tn.unstable_getCurrentPriorityLevel,Dy=Tn.unstable_ImmediatePriority,Yk=Tn.unstable_UserBlockingPriority,Gd=Tn.unstable_NormalPriority,ZD=Tn.unstable_LowPriority,Qk=Tn.unstable_IdlePriority,ef=null,Fr=null;function eL(e){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(ef,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:rL,tL=Math.log,nL=Math.LN2;function rL(e){return e>>>=0,e===0?32:31-(tL(e)/nL|0)|0}var bu=64,xu=4194304;function Al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Al(a):(i&=o,i!==0&&(r=Al(i)))}else o=n&~s,o!==0?r=Al(o):i!==0&&(r=Al(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gr(t),s=1<<n,r|=e[n],t&=~s;return r}function sL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=sL(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ag(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xk(){var e=bu;return bu<<=1,!(bu&4194240)&&(bu=64),e}function pp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=n}function oL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ly(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Le=0;function Zk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eC,$y,tC,nC,rC,lg=!1,Su=[],Qs=null,Xs=null,Zs=null,uc=new Map,dc=new Map,$s=[],aL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mb(e,t){switch(e){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(t.pointerId)}}function gl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Qc(t),t!==null&&$y(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lL(e,t,n,r,s){switch(t){case"focusin":return Qs=gl(Qs,e,t,n,r,s),!0;case"dragenter":return Xs=gl(Xs,e,t,n,r,s),!0;case"mouseover":return Zs=gl(Zs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return uc.set(i,gl(uc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,dc.set(i,gl(dc.get(i)||null,e,t,n,r,s)),!0}return!1}function sC(e){var t=Li(e.target);if(t!==null){var n=yo(t);if(n!==null){if(t=n.tag,t===13){if(t=Hk(n),t!==null){e.blockedOn=t,rC(e.priority,function(){tC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function md(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rg=r,n.target.dispatchEvent(r),rg=null}else return t=Qc(n),t!==null&&$y(t),e.blockedOn=n,!1;t.shift()}return!0}function Db(e,t,n){md(e)&&n.delete(t)}function cL(){lg=!1,Qs!==null&&md(Qs)&&(Qs=null),Xs!==null&&md(Xs)&&(Xs=null),Zs!==null&&md(Zs)&&(Zs=null),uc.forEach(Db),dc.forEach(Db)}function vl(e,t){e.blockedOn===t&&(e.blockedOn=null,lg||(lg=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,cL)))}function hc(e){function t(s){return vl(s,e)}if(0<Su.length){vl(Su[0],e);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qs!==null&&vl(Qs,e),Xs!==null&&vl(Xs,e),Zs!==null&&vl(Zs,e),uc.forEach(t),dc.forEach(t),n=0;n<$s.length;n++)r=$s[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$s.length&&(n=$s[0],n.blockedOn===null);)sC(n),n.blockedOn===null&&$s.shift()}var oa=ws.ReactCurrentBatchConfig,Jd=!0;function uL(e,t,n,r){var s=Le,i=oa.transition;oa.transition=null;try{Le=1,Fy(e,t,n,r)}finally{Le=s,oa.transition=i}}function dL(e,t,n,r){var s=Le,i=oa.transition;oa.transition=null;try{Le=4,Fy(e,t,n,r)}finally{Le=s,oa.transition=i}}function Fy(e,t,n,r){if(Jd){var s=cg(e,t,n,r);if(s===null)Ep(e,t,r,Yd,n),Mb(e,r);else if(lL(s,e,t,n,r))r.stopPropagation();else if(Mb(e,r),t&4&&-1<aL.indexOf(e)){for(;s!==null;){var i=Qc(s);if(i!==null&&eC(i),i=cg(e,t,n,r),i===null&&Ep(e,t,r,Yd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ep(e,t,r,null,n)}}var Yd=null;function cg(e,t,n,r){if(Yd=null,e=My(r),e=Li(e),e!==null)if(t=yo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yd=e,null}function iC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XD()){case Dy:return 1;case Yk:return 4;case Gd:case ZD:return 16;case Qk:return 536870912;default:return 16}default:return 16}}var Gs=null,Vy=null,gd=null;function oC(){if(gd)return gd;var e,t=Vy,n=t.length,r,s="value"in Gs?Gs.value:Gs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return gd=s.slice(e,1<r?1-r:void 0)}function vd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _u(){return!0}function Lb(){return!1}function An(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_u:Lb,this.isPropagationStopped=Lb,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),t}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=An(Za),Yc=it({},Za,{view:0,detail:0}),hL=An(Yc),mp,gp,yl,tf=it({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(mp=e.screenX-yl.screenX,gp=e.screenY-yl.screenY):gp=mp=0,yl=e),mp)},movementY:function(e){return"movementY"in e?e.movementY:gp}}),$b=An(tf),fL=it({},tf,{dataTransfer:0}),pL=An(fL),mL=it({},Yc,{relatedTarget:0}),vp=An(mL),gL=it({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),vL=An(gL),yL=it({},Za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wL=An(yL),bL=it({},Za,{data:0}),Fb=An(bL),xL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_L={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_L[e])?!!t[e]:!1}function By(){return EL}var kL=it({},Yc,{key:function(e){if(e.key){var t=xL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(e){return e.type==="keypress"?vd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CL=An(kL),TL=it({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vb=An(TL),jL=it({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),AL=An(jL),PL=it({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),NL=An(PL),OL=it({},tf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RL=An(OL),IL=[9,13,27,32],zy=hs&&"CompositionEvent"in window,Bl=null;hs&&"documentMode"in document&&(Bl=document.documentMode);var ML=hs&&"TextEvent"in window&&!Bl,aC=hs&&(!zy||Bl&&8<Bl&&11>=Bl),Ub=" ",Bb=!1;function lC(e,t){switch(e){case"keyup":return IL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uo=!1;function DL(e,t){switch(e){case"compositionend":return cC(t);case"keypress":return t.which!==32?null:(Bb=!0,Ub);case"textInput":return e=t.data,e===Ub&&Bb?null:e;default:return null}}function LL(e,t){if(Uo)return e==="compositionend"||!zy&&lC(e,t)?(e=oC(),gd=Vy=Gs=null,Uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aC&&t.locale!=="ko"?null:t.data;default:return null}}var $L={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$L[e.type]:t==="textarea"}function uC(e,t,n,r){Uk(r),t=Qd(t,"onChange"),0<t.length&&(n=new Uy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zl=null,fc=null;function FL(e){xC(e,0)}function nf(e){var t=qo(e);if(Ik(t))return e}function VL(e,t){if(e==="change")return t}var dC=!1;if(hs){var yp;if(hs){var wp="oninput"in document;if(!wp){var qb=document.createElement("div");qb.setAttribute("oninput","return;"),wp=typeof qb.oninput=="function"}yp=wp}else yp=!1;dC=yp&&(!document.documentMode||9<document.documentMode)}function Wb(){zl&&(zl.detachEvent("onpropertychange",hC),fc=zl=null)}function hC(e){if(e.propertyName==="value"&&nf(fc)){var t=[];uC(t,fc,e,My(e)),Wk(FL,t)}}function UL(e,t,n){e==="focusin"?(Wb(),zl=t,fc=n,zl.attachEvent("onpropertychange",hC)):e==="focusout"&&Wb()}function BL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nf(fc)}function zL(e,t){if(e==="click")return nf(t)}function qL(e,t){if(e==="input"||e==="change")return nf(t)}function WL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:WL;function pc(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wm.call(t,s)||!br(e[s],t[s]))return!1}return!0}function Hb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gb(e,t){var n=Hb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hb(n)}}function fC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pC(){for(var e=window,t=qd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qd(e.document)}return t}function qy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HL(e){var t=pC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fC(n.ownerDocument.documentElement,n)){if(r!==null&&qy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Gb(n,i);var o=Gb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var GL=hs&&"documentMode"in document&&11>=document.documentMode,Bo=null,ug=null,ql=null,dg=!1;function Kb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dg||Bo==null||Bo!==qd(r)||(r=Bo,"selectionStart"in r&&qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ql&&pc(ql,r)||(ql=r,r=Qd(ug,"onSelect"),0<r.length&&(t=new Uy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bo)))}function Eu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zo={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},bp={},mC={};hs&&(mC=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function rf(e){if(bp[e])return bp[e];if(!zo[e])return e;var t=zo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mC)return bp[e]=t[n];return e}var gC=rf("animationend"),vC=rf("animationiteration"),yC=rf("animationstart"),wC=rf("transitionend"),bC=new Map,Jb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(e,t){bC.set(e,t),vo(t,[e])}for(var xp=0;xp<Jb.length;xp++){var Sp=Jb[xp],KL=Sp.toLowerCase(),JL=Sp[0].toUpperCase()+Sp.slice(1);mi(KL,"on"+JL)}mi(gC,"onAnimationEnd");mi(vC,"onAnimationIteration");mi(yC,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(wC,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Yb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KD(r,t,void 0,e),e.currentTarget=null}function xC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Yb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Yb(s,a,c),i=l}}}if(Hd)throw e=og,Hd=!1,og=null,e}function Ke(e,t){var n=t[gg];n===void 0&&(n=t[gg]=new Set);var r=e+"__bubble";n.has(r)||(SC(t,e,2,!1),n.add(r))}function _p(e,t,n){var r=0;t&&(r|=4),SC(n,e,r,t)}var ku="_reactListening"+Math.random().toString(36).slice(2);function mc(e){if(!e[ku]){e[ku]=!0,Ak.forEach(function(n){n!=="selectionchange"&&(YL.has(n)||_p(n,!1,e),_p(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ku]||(t[ku]=!0,_p("selectionchange",!1,t))}}function SC(e,t,n,r){switch(iC(t)){case 1:var s=uL;break;case 4:s=dL;break;default:s=Fy}n=s.bind(null,t,n,e),s=void 0,!ig||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ep(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Wk(function(){var c=i,d=My(n),h=[];e:{var f=bC.get(e);if(f!==void 0){var m=Uy,b=e;switch(e){case"keypress":if(vd(n)===0)break e;case"keydown":case"keyup":m=CL;break;case"focusin":b="focus",m=vp;break;case"focusout":b="blur",m=vp;break;case"beforeblur":case"afterblur":m=vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=AL;break;case gC:case vC:case yC:m=vL;break;case wC:m=NL;break;case"scroll":m=hL;break;case"wheel":m=RL;break;case"copy":case"cut":case"paste":m=wL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vb}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=c,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=cc(w,y),E!=null&&p.push(gc(w,E,S)))),x)break;w=w.return}0<p.length&&(f=new m(f,b,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==rg&&(b=n.relatedTarget||n.fromElement)&&(Li(b)||b[fs]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?Li(b):null,b!==null&&(x=yo(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(p=$b,E="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=Vb,E="onPointerLeave",y="onPointerEnter",w="pointer"),x=m==null?f:qo(m),S=b==null?f:qo(b),f=new p(E,w+"leave",m,n,d),f.target=x,f.relatedTarget=S,E=null,Li(d)===c&&(p=new p(y,w+"enter",b,n,d),p.target=S,p.relatedTarget=x,E=p),x=E,m&&b)t:{for(p=m,y=b,w=0,S=p;S;S=ko(S))w++;for(S=0,E=y;E;E=ko(E))S++;for(;0<w-S;)p=ko(p),w--;for(;0<S-w;)y=ko(y),S--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=ko(p),y=ko(y)}p=null}else p=null;m!==null&&Qb(h,f,m,p,!1),b!==null&&x!==null&&Qb(h,x,b,p,!0)}}e:{if(f=c?qo(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=VL;else if(zb(f))if(dC)C=qL;else{C=BL;var T=UL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=zL);if(C&&(C=C(e,c))){uC(h,C,n,d);break e}T&&T(e,f,c),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Xm(f,"number",f.value)}switch(T=c?qo(c):window,e){case"focusin":(zb(T)||T.contentEditable==="true")&&(Bo=T,ug=c,ql=null);break;case"focusout":ql=ug=Bo=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,Kb(h,n,d);break;case"selectionchange":if(GL)break;case"keydown":case"keyup":Kb(h,n,d)}var j;if(zy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Uo?lC(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(aC&&n.locale!=="ko"&&(Uo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Uo&&(j=oC()):(Gs=d,Vy="value"in Gs?Gs.value:Gs.textContent,Uo=!0)),T=Qd(c,N),0<T.length&&(N=new Fb(N,e,null,n,d),h.push({event:N,listeners:T}),j?N.data=j:(j=cC(n),j!==null&&(N.data=j)))),(j=ML?DL(e,n):LL(e,n))&&(c=Qd(c,"onBeforeInput"),0<c.length&&(d=new Fb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}xC(h,t)})}function gc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=cc(e,n),i!=null&&r.unshift(gc(e,i,s)),i=cc(e,t),i!=null&&r.push(gc(e,i,s))),e=e.return}return r}function ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qb(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=cc(n,i),l!=null&&o.unshift(gc(n,l,a))):s||(l=cc(n,i),l!=null&&o.push(gc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var QL=/\r\n?/g,XL=/\u0000|\uFFFD/g;function Xb(e){return(typeof e=="string"?e:""+e).replace(QL,`
`).replace(XL,"")}function Cu(e,t,n){if(t=Xb(t),Xb(e)!==t&&n)throw Error(K(425))}function Xd(){}var hg=null,fg=null;function pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,ZL=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(e){return Zb.resolve(null).then(e).catch(t2)}:mg;function t2(e){setTimeout(function(){throw e})}function kp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),hc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);hc(t)}function ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ex(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var el=Math.random().toString(36).slice(2),Mr="__reactFiber$"+el,vc="__reactProps$"+el,fs="__reactContainer$"+el,gg="__reactEvents$"+el,n2="__reactListeners$"+el,r2="__reactHandles$"+el;function Li(e){var t=e[Mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[Mr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ex(e);e!==null;){if(n=e[Mr])return n;e=ex(e)}return t}e=n,n=e.parentNode}return null}function Qc(e){return e=e[Mr]||e[fs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function sf(e){return e[vc]||null}var vg=[],Wo=-1;function gi(e){return{current:e}}function Je(e){0>Wo||(e.current=vg[Wo],vg[Wo]=null,Wo--)}function We(e,t){Wo++,vg[Wo]=e.current,e.current=t}var li={},Ht=gi(li),hn=gi(!1),ro=li;function Na(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function fn(e){return e=e.childContextTypes,e!=null}function Zd(){Je(hn),Je(Ht)}function tx(e,t,n){if(Ht.current!==li)throw Error(K(168));We(Ht,t),We(hn,n)}function _C(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,UD(e)||"Unknown",s));return it({},n,r)}function eh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,ro=Ht.current,We(Ht,e),We(hn,hn.current),!0}function nx(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=_C(e,t,ro),r.__reactInternalMemoizedMergedChildContext=e,Je(hn),Je(Ht),We(Ht,e)):Je(hn),We(hn,n)}var ss=null,of=!1,Cp=!1;function EC(e){ss===null?ss=[e]:ss.push(e)}function s2(e){of=!0,EC(e)}function vi(){if(!Cp&&ss!==null){Cp=!0;var e=0,t=Le;try{var n=ss;for(Le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ss=null,of=!1}catch(s){throw ss!==null&&(ss=ss.slice(e+1)),Jk(Dy,vi),s}finally{Le=t,Cp=!1}}return null}var Ho=[],Go=0,th=null,nh=0,In=[],Mn=0,so=null,os=1,as="";function Ni(e,t){Ho[Go++]=nh,Ho[Go++]=th,th=e,nh=t}function kC(e,t,n){In[Mn++]=os,In[Mn++]=as,In[Mn++]=so,so=e;var r=os;e=as;var s=32-gr(r)-1;r&=~(1<<s),n+=1;var i=32-gr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,os=1<<32-gr(t)+s|n<<s|r,as=i+e}else os=1<<i|n<<s|r,as=e}function Wy(e){e.return!==null&&(Ni(e,1),kC(e,1,0))}function Hy(e){for(;e===th;)th=Ho[--Go],Ho[Go]=null,nh=Ho[--Go],Ho[Go]=null;for(;e===so;)so=In[--Mn],In[Mn]=null,as=In[--Mn],In[Mn]=null,os=In[--Mn],In[Mn]=null}var kn=null,_n=null,Ze=!1,mr=null;function CC(e,t){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,_n=ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=so!==null?{id:os,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,_n=null,!0):!1;default:return!1}}function yg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wg(e){if(Ze){var t=_n;if(t){var n=t;if(!rx(e,t)){if(yg(e))throw Error(K(418));t=ei(n.nextSibling);var r=kn;t&&rx(e,t)?CC(r,n):(e.flags=e.flags&-4097|2,Ze=!1,kn=e)}}else{if(yg(e))throw Error(K(418));e.flags=e.flags&-4097|2,Ze=!1,kn=e}}}function sx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function Tu(e){if(e!==kn)return!1;if(!Ze)return sx(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pg(e.type,e.memoizedProps)),t&&(t=_n)){if(yg(e))throw TC(),Error(K(418));for(;t;)CC(e,t),t=ei(t.nextSibling)}if(sx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=ei(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=kn?ei(e.stateNode.nextSibling):null;return!0}function TC(){for(var e=_n;e;)e=ei(e.nextSibling)}function Oa(){_n=kn=null,Ze=!1}function Gy(e){mr===null?mr=[e]:mr.push(e)}var i2=ws.ReactCurrentBatchConfig;function wl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function ju(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ix(e){var t=e._init;return t(e._payload)}function jC(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=si(y,w),y.index=0,y.sibling=null,y}function i(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,E){return w===null||w.tag!==6?(w=Rp(S,y.mode,E),w.return=y,w):(w=s(w,S),w.return=y,w)}function l(y,w,S,E){var C=S.type;return C===Vo?d(y,w,S.props.children,E,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Is&&ix(C)===w.type)?(E=s(w,S.props),E.ref=wl(y,w,S),E.return=y,E):(E=Ed(S.type,S.key,S.props,null,y.mode,E),E.ref=wl(y,w,S),E.return=y,E)}function c(y,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ip(S,y.mode,E),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function d(y,w,S,E,C){return w===null||w.tag!==7?(w=Qi(S,y.mode,E,C),w.return=y,w):(w=s(w,S),w.return=y,w)}function h(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Rp(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vu:return S=Ed(w.type,w.key,w.props,null,y.mode,S),S.ref=wl(y,null,w),S.return=y,S;case Fo:return w=Ip(w,y.mode,S),w.return=y,w;case Is:var E=w._init;return h(y,E(w._payload),S)}if(jl(w)||pl(w))return w=Qi(w,y.mode,S,null),w.return=y,w;ju(y,w)}return null}function f(y,w,S,E){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vu:return S.key===C?l(y,w,S,E):null;case Fo:return S.key===C?c(y,w,S,E):null;case Is:return C=S._init,f(y,w,C(S._payload),E)}if(jl(S)||pl(S))return C!==null?null:d(y,w,S,E,null);ju(y,S)}return null}function m(y,w,S,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,a(w,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vu:return y=y.get(E.key===null?S:E.key)||null,l(w,y,E,C);case Fo:return y=y.get(E.key===null?S:E.key)||null,c(w,y,E,C);case Is:var T=E._init;return m(y,w,S,T(E._payload),C)}if(jl(E)||pl(E))return y=y.get(S)||null,d(w,y,E,C,null);ju(w,E)}return null}function b(y,w,S,E){for(var C=null,T=null,j=w,N=w=0,I=null;j!==null&&N<S.length;N++){j.index>N?(I=j,j=null):I=j.sibling;var R=f(y,j,S[N],E);if(R===null){j===null&&(j=I);break}e&&j&&R.alternate===null&&t(y,j),w=i(R,w,N),T===null?C=R:T.sibling=R,T=R,j=I}if(N===S.length)return n(y,j),Ze&&Ni(y,N),C;if(j===null){for(;N<S.length;N++)j=h(y,S[N],E),j!==null&&(w=i(j,w,N),T===null?C=j:T.sibling=j,T=j);return Ze&&Ni(y,N),C}for(j=r(y,j);N<S.length;N++)I=m(j,y,N,S[N],E),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?N:I.key),w=i(I,w,N),T===null?C=I:T.sibling=I,T=I);return e&&j.forEach(function(O){return t(y,O)}),Ze&&Ni(y,N),C}function p(y,w,S,E){var C=pl(S);if(typeof C!="function")throw Error(K(150));if(S=C.call(S),S==null)throw Error(K(151));for(var T=C=null,j=w,N=w=0,I=null,R=S.next();j!==null&&!R.done;N++,R=S.next()){j.index>N?(I=j,j=null):I=j.sibling;var O=f(y,j,R.value,E);if(O===null){j===null&&(j=I);break}e&&j&&O.alternate===null&&t(y,j),w=i(O,w,N),T===null?C=O:T.sibling=O,T=O,j=I}if(R.done)return n(y,j),Ze&&Ni(y,N),C;if(j===null){for(;!R.done;N++,R=S.next())R=h(y,R.value,E),R!==null&&(w=i(R,w,N),T===null?C=R:T.sibling=R,T=R);return Ze&&Ni(y,N),C}for(j=r(y,j);!R.done;N++,R=S.next())R=m(j,y,N,R.value,E),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?N:R.key),w=i(R,w,N),T===null?C=R:T.sibling=R,T=R);return e&&j.forEach(function(L){return t(y,L)}),Ze&&Ni(y,N),C}function x(y,w,S,E){if(typeof S=="object"&&S!==null&&S.type===Vo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case vu:e:{for(var C=S.key,T=w;T!==null;){if(T.key===C){if(C=S.type,C===Vo){if(T.tag===7){n(y,T.sibling),w=s(T,S.props.children),w.return=y,y=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Is&&ix(C)===T.type){n(y,T.sibling),w=s(T,S.props),w.ref=wl(y,T,S),w.return=y,y=w;break e}n(y,T);break}else t(y,T);T=T.sibling}S.type===Vo?(w=Qi(S.props.children,y.mode,E,S.key),w.return=y,y=w):(E=Ed(S.type,S.key,S.props,null,y.mode,E),E.ref=wl(y,w,S),E.return=y,y=E)}return o(y);case Fo:e:{for(T=S.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Ip(S,y.mode,E),w.return=y,y=w}return o(y);case Is:return T=S._init,x(y,w,T(S._payload),E)}if(jl(S))return b(y,w,S,E);if(pl(S))return p(y,w,S,E);ju(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=Rp(S,y.mode,E),w.return=y,y=w),o(y)):n(y,w)}return x}var Ra=jC(!0),AC=jC(!1),rh=gi(null),sh=null,Ko=null,Ky=null;function Jy(){Ky=Ko=sh=null}function Yy(e){var t=rh.current;Je(rh),e._currentValue=t}function bg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function aa(e,t){sh=e,Ky=Ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function Wn(e){var t=e._currentValue;if(Ky!==e)if(e={context:e,memoizedValue:t,next:null},Ko===null){if(sh===null)throw Error(K(308));Ko=e,sh.dependencies={lanes:0,firstContext:e}}else Ko=Ko.next=e;return t}var $i=null;function Qy(e){$i===null?$i=[e]:$i.push(e)}function PC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Qy(t)):(n.next=s.next,s.next=n),t.interleaved=n,ps(e,r)}function ps(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ms=!1;function Xy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ti(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ps(e,n)}return s=r.interleaved,s===null?(t.next=t,Qy(r)):(t.next=s.next,s.next=t),r.interleaved=t,ps(e,n)}function yd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ly(e,n)}}function ox(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ih(e,t,n,r){var s=e.updateQueue;Ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,p=a;switch(f=t,m=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){h=b.call(m,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,f=typeof b=="function"?b.call(m,h,f):b,f==null)break e;h=it({},h,f);break e;case 2:Ms=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);oo|=o,e.lanes=o,e.memoizedState=h}}function ax(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Xc={},Vr=gi(Xc),yc=gi(Xc),wc=gi(Xc);function Fi(e){if(e===Xc)throw Error(K(174));return e}function Zy(e,t){switch(We(wc,t),We(yc,e),We(Vr,Xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eg(t,e)}Je(Vr),We(Vr,t)}function Ia(){Je(Vr),Je(yc),Je(wc)}function OC(e){Fi(wc.current);var t=Fi(Vr.current),n=eg(t,e.type);t!==n&&(We(yc,e),We(Vr,n))}function ew(e){yc.current===e&&(Je(Vr),Je(yc))}var nt=gi(0);function oh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tp=[];function tw(){for(var e=0;e<Tp.length;e++)Tp[e]._workInProgressVersionPrimary=null;Tp.length=0}var wd=ws.ReactCurrentDispatcher,jp=ws.ReactCurrentBatchConfig,io=0,st=null,xt=null,Ct=null,ah=!1,Wl=!1,bc=0,o2=0;function Ft(){throw Error(K(321))}function nw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!br(e[n],t[n]))return!1;return!0}function rw(e,t,n,r,s,i){if(io=i,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wd.current=e===null||e.memoizedState===null?u2:d2,e=n(r,s),Wl){i=0;do{if(Wl=!1,bc=0,25<=i)throw Error(K(301));i+=1,Ct=xt=null,t.updateQueue=null,wd.current=h2,e=n(r,s)}while(Wl)}if(wd.current=lh,t=xt!==null&&xt.next!==null,io=0,Ct=xt=st=null,ah=!1,t)throw Error(K(300));return e}function sw(){var e=bc!==0;return bc=0,e}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?st.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Hn(){if(xt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Ct===null?st.memoizedState:Ct.next;if(t!==null)Ct=t,xt=e;else{if(e===null)throw Error(K(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ct===null?st.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function xc(e,t){return typeof t=="function"?t(e):t}function Ap(e){var t=Hn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((io&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=d,oo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,br(r,t.memoizedState)||(dn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,st.lanes|=i,oo|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pp(e){var t=Hn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);br(i,t.memoizedState)||(dn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function RC(){}function IC(e,t){var n=st,r=Hn(),s=t(),i=!br(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,iw(LC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,Sc(9,DC.bind(null,n,r,s,t),void 0,null),Pt===null)throw Error(K(349));io&30||MC(n,t,s)}return s}function MC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DC(e,t,n,r){t.value=n,t.getSnapshot=r,$C(t)&&FC(e)}function LC(e,t,n){return n(function(){$C(t)&&FC(e)})}function $C(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!br(e,n)}catch{return!0}}function FC(e){var t=ps(e,1);t!==null&&vr(t,e,1,-1)}function lx(e){var t=jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:e},t.queue=e,e=e.dispatch=c2.bind(null,st,e),[t.memoizedState,e]}function Sc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VC(){return Hn().memoizedState}function bd(e,t,n,r){var s=jr();st.flags|=e,s.memoizedState=Sc(1|t,n,void 0,r===void 0?null:r)}function af(e,t,n,r){var s=Hn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&nw(r,o.deps)){s.memoizedState=Sc(t,n,i,r);return}}st.flags|=e,s.memoizedState=Sc(1|t,n,i,r)}function cx(e,t){return bd(8390656,8,e,t)}function iw(e,t){return af(2048,8,e,t)}function UC(e,t){return af(4,2,e,t)}function BC(e,t){return af(4,4,e,t)}function zC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qC(e,t,n){return n=n!=null?n.concat([e]):null,af(4,4,zC.bind(null,t,e),n)}function ow(){}function WC(e,t){var n=Hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HC(e,t){var n=Hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GC(e,t,n){return io&21?(br(n,t)||(n=Xk(),st.lanes|=n,oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=n)}function a2(e,t){var n=Le;Le=n!==0&&4>n?n:4,e(!0);var r=jp.transition;jp.transition={};try{e(!1),t()}finally{Le=n,jp.transition=r}}function KC(){return Hn().memoizedState}function l2(e,t,n){var r=ri(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JC(e))YC(t,n);else if(n=PC(e,t,n,r),n!==null){var s=sn();vr(n,e,r,s),QC(n,t,r)}}function c2(e,t,n){var r=ri(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JC(e))YC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,br(a,o)){var l=t.interleaved;l===null?(s.next=s,Qy(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=PC(e,t,s,r),n!==null&&(s=sn(),vr(n,e,r,s),QC(n,t,r))}}function JC(e){var t=e.alternate;return e===st||t!==null&&t===st}function YC(e,t){Wl=ah=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function QC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ly(e,n)}}var lh={readContext:Wn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},u2={readContext:Wn,useCallback:function(e,t){return jr().memoizedState=[e,t===void 0?null:t],e},useContext:Wn,useEffect:cx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bd(4194308,4,zC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return bd(4,2,e,t)},useMemo:function(e,t){var n=jr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=l2.bind(null,st,e),[r.memoizedState,e]},useRef:function(e){var t=jr();return e={current:e},t.memoizedState=e},useState:lx,useDebugValue:ow,useDeferredValue:function(e){return jr().memoizedState=e},useTransition:function(){var e=lx(!1),t=e[0];return e=a2.bind(null,e[1]),jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=st,s=jr();if(Ze){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Pt===null)throw Error(K(349));io&30||MC(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,cx(LC.bind(null,r,i,e),[e]),r.flags|=2048,Sc(9,DC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=jr(),t=Pt.identifierPrefix;if(Ze){var n=as,r=os;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=o2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d2={readContext:Wn,useCallback:WC,useContext:Wn,useEffect:iw,useImperativeHandle:qC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:HC,useReducer:Ap,useRef:VC,useState:function(){return Ap(xc)},useDebugValue:ow,useDeferredValue:function(e){var t=Hn();return GC(t,xt.memoizedState,e)},useTransition:function(){var e=Ap(xc)[0],t=Hn().memoizedState;return[e,t]},useMutableSource:RC,useSyncExternalStore:IC,useId:KC,unstable_isNewReconciler:!1},h2={readContext:Wn,useCallback:WC,useContext:Wn,useEffect:iw,useImperativeHandle:qC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:HC,useReducer:Pp,useRef:VC,useState:function(){return Pp(xc)},useDebugValue:ow,useDeferredValue:function(e){var t=Hn();return xt===null?t.memoizedState=e:GC(t,xt.memoizedState,e)},useTransition:function(){var e=Pp(xc)[0],t=Hn().memoizedState;return[e,t]},useMutableSource:RC,useSyncExternalStore:IC,useId:KC,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:it({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lf={isMounted:function(e){return(e=e._reactInternals)?yo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sn(),s=ri(e),i=us(r,s);i.payload=t,n!=null&&(i.callback=n),t=ti(e,i,s),t!==null&&(vr(t,e,s,r),yd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sn(),s=ri(e),i=us(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ti(e,i,s),t!==null&&(vr(t,e,s,r),yd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sn(),r=ri(e),s=us(n,r);s.tag=2,t!=null&&(s.callback=t),t=ti(e,s,r),t!==null&&(vr(t,e,r,n),yd(t,e,r))}};function ux(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!pc(n,r)||!pc(s,i):!0}function XC(e,t,n){var r=!1,s=li,i=t.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=fn(t)?ro:Ht.current,r=t.contextTypes,i=(r=r!=null)?Na(e,s):li),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lf.enqueueReplaceState(t,t.state,null)}function Sg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Xy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=fn(t)?ro:Ht.current,s.context=Na(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(xg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&lf.enqueueReplaceState(s,s.state,null),ih(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ma(e,t){try{var n="",r=t;do n+=VD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Np(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _g(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var f2=typeof WeakMap=="function"?WeakMap:Map;function ZC(e,t,n){n=us(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uh||(uh=!0,Rg=r),_g(e,t)},n}function eT(e,t,n){n=us(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){_g(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_g(e,t),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new f2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=T2.bind(null,e,t,n),t.then(e,e))}function fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function px(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=us(-1,1),t.tag=2,ti(n,t,1))),n.lanes|=1),e)}var p2=ws.ReactCurrentOwner,dn=!1;function Yt(e,t,n,r){t.child=e===null?AC(t,null,n,r):Ra(t,e.child,n,r)}function mx(e,t,n,r,s){n=n.render;var i=t.ref;return aa(t,s),r=rw(e,t,n,r,i,s),n=sw(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ms(e,t,s)):(Ze&&n&&Wy(t),t.flags|=1,Yt(e,t,r,s),t.child)}function gx(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,tT(e,t,i,r,s)):(e=Ed(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pc,n(o,r)&&e.ref===t.ref)return ms(e,t,s)}return t.flags|=1,e=si(i,r),e.ref=t.ref,e.return=t,t.child=e}function tT(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(pc(i,r)&&e.ref===t.ref)if(dn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,ms(e,t,s)}return Eg(e,t,n,r,s)}function nT(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Yo,yn),yn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Yo,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Yo,yn),yn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,We(Yo,yn),yn|=r;return Yt(e,t,s,n),t.child}function rT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eg(e,t,n,r,s){var i=fn(n)?ro:Ht.current;return i=Na(t,i),aa(t,s),n=rw(e,t,n,r,i,s),r=sw(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ms(e,t,s)):(Ze&&r&&Wy(t),t.flags|=1,Yt(e,t,n,s),t.child)}function vx(e,t,n,r,s){if(fn(n)){var i=!0;eh(t)}else i=!1;if(aa(t,s),t.stateNode===null)xd(e,t),XC(t,n,r),Sg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wn(c):(c=fn(n)?ro:Ht.current,c=Na(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dx(t,o,r,c),Ms=!1;var f=t.memoizedState;o.state=f,ih(t,r,o,s),l=t.memoizedState,a!==r||f!==l||hn.current||Ms?(typeof d=="function"&&(xg(t,n,d,r),l=t.memoizedState),(a=Ms||ux(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,NC(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:lr(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=fn(n)?ro:Ht.current,l=Na(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dx(t,o,r,l),Ms=!1,f=t.memoizedState,o.state=f,ih(t,r,o,s);var b=t.memoizedState;a!==h||f!==b||hn.current||Ms?(typeof m=="function"&&(xg(t,n,m,r),b=t.memoizedState),(c=Ms||ux(t,n,c,r,f,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return kg(e,t,n,r,i,s)}function kg(e,t,n,r,s,i){rT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&nx(t,n,!1),ms(e,t,i);r=t.stateNode,p2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ra(t,e.child,null,i),t.child=Ra(t,null,a,i)):Yt(e,t,a,i),t.memoizedState=r.state,s&&nx(t,n,!0),t.child}function sT(e){var t=e.stateNode;t.pendingContext?tx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tx(e,t.context,!1),Zy(e,t.containerInfo)}function yx(e,t,n,r,s){return Oa(),Gy(s),t.flags|=256,Yt(e,t,n,r),t.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function Tg(e){return{baseLanes:e,cachePool:null,transitions:null}}function iT(e,t,n){var r=t.pendingProps,s=nt.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),We(nt,s&1),e===null)return wg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=df(o,r,0,null),e=Qi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tg(n),t.memoizedState=Cg,e):aw(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return m2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=si(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=si(a,i):(i=Qi(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Cg,r}return i=e.child,e=i.sibling,r=si(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function aw(e,t){return t=df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Au(e,t,n,r){return r!==null&&Gy(r),Ra(t,e.child,null,n),e=aw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Np(Error(K(422))),Au(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=df({mode:"visible",children:r.children},s,0,null),i=Qi(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ra(t,e.child,null,o),t.child.memoizedState=Tg(o),t.memoizedState=Cg,i);if(!(t.mode&1))return Au(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Np(i,r,void 0),Au(e,t,o,r)}if(a=(o&e.childLanes)!==0,dn||a){if(r=Pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ps(e,s),vr(r,e,s,-1))}return fw(),r=Np(Error(K(421))),Au(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=j2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,_n=ei(s.nextSibling),kn=t,Ze=!0,mr=null,e!==null&&(In[Mn++]=os,In[Mn++]=as,In[Mn++]=so,os=e.id,as=e.overflow,so=t),t=aw(t,r.children),t.flags|=4096,t)}function wx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bg(e.return,t,n)}function Op(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function oT(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(e,t,r.children,n),r=nt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wx(e,n,t);else if(e.tag===19)wx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(nt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&oh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Op(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&oh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Op(t,!0,n,null,i);break;case"together":Op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ms(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=si(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=si(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function g2(e,t,n){switch(t.tag){case 3:sT(t),Oa();break;case 5:OC(t);break;case 1:fn(t.type)&&eh(t);break;case 4:Zy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;We(rh,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(nt,nt.current&1),t.flags|=128,null):n&t.child.childLanes?iT(e,t,n):(We(nt,nt.current&1),e=ms(e,t,n),e!==null?e.sibling:null);We(nt,nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oT(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,nT(e,t,n)}return ms(e,t,n)}var aT,jg,lT,cT;aT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jg=function(){};lT=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Fi(Vr.current);var i=null;switch(n){case"input":s=Ym(e,s),r=Ym(e,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=Zm(e,s),r=Zm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xd)}tg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ac.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ke("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};cT=function(e,t,n,r){n!==r&&(t.flags|=4)};function bl(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v2(e,t,n){var r=t.pendingProps;switch(Hy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return fn(t.type)&&Zd(),Vt(t),null;case 3:return r=t.stateNode,Ia(),Je(hn),Je(Ht),tw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(Dg(mr),mr=null))),jg(e,t),Vt(t),null;case 5:ew(t);var s=Fi(wc.current);if(n=t.type,e!==null&&t.stateNode!=null)lT(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Vt(t),null}if(e=Fi(Vr.current),Tu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Mr]=t,r[vc]=i,e=(t.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<Pl.length;s++)Ke(Pl[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":jb(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":Pb(r,i),Ke("invalid",r)}tg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Cu(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Cu(r.textContent,a,e),s=["children",""+a]):ac.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":yu(r),Ab(r,i,!0);break;case"textarea":yu(r),Nb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mr]=t,e[vc]=r,aT(e,t,!1,!1),t.stateNode=e;e:{switch(o=ng(n,r),n){case"dialog":Ke("cancel",e),Ke("close",e),s=r;break;case"iframe":case"object":case"embed":Ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<Pl.length;s++)Ke(Pl[s],e);s=r;break;case"source":Ke("error",e),s=r;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),s=r;break;case"details":Ke("toggle",e),s=r;break;case"input":jb(e,r),s=Ym(e,r),Ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Ke("invalid",e);break;case"textarea":Pb(e,r),s=Zm(e,r),Ke("invalid",e);break;default:s=r}tg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vk(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$k(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lc(e,l):typeof l=="number"&&lc(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ac.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ke("scroll",e):l!=null&&Ny(e,i,l,o))}switch(n){case"input":yu(e),Ab(e,r,!1);break;case"textarea":yu(e),Nb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ai(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ra(e,!!r.multiple,i,!1):r.defaultValue!=null&&ra(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)cT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Fi(wc.current),Fi(Vr.current),Tu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mr]=t,(i=r.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:Cu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=t,t.stateNode=r}return Vt(t),null;case 13:if(Je(nt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&_n!==null&&t.mode&1&&!(t.flags&128))TC(),Oa(),t.flags|=98560,i=!1;else if(i=Tu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Mr]=t}else Oa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),i=!1}else mr!==null&&(Dg(mr),mr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?_t===0&&(_t=3):fw())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return Ia(),jg(e,t),e===null&&mc(t.stateNode.containerInfo),Vt(t),null;case 10:return Yy(t.type._context),Vt(t),null;case 17:return fn(t.type)&&Zd(),Vt(t),null;case 19:if(Je(nt),i=t.memoizedState,i===null)return Vt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)bl(i,!1);else{if(_t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oh(e),o!==null){for(t.flags|=128,bl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(nt,nt.current&1|2),t.child}e=e.sibling}i.tail!==null&&ht()>Da&&(t.flags|=128,r=!0,bl(i,!1),t.lanes=4194304)}else{if(!r)if(e=oh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return Vt(t),null}else 2*ht()-i.renderingStartTime>Da&&n!==1073741824&&(t.flags|=128,r=!0,bl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ht(),t.sibling=null,n=nt.current,We(nt,r?n&1|2:n&1),t):(Vt(t),null);case 22:case 23:return hw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yn&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function y2(e,t){switch(Hy(t),t.tag){case 1:return fn(t.type)&&Zd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ia(),Je(hn),Je(Ht),tw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ew(t),null;case 13:if(Je(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(nt),null;case 4:return Ia(),null;case 10:return Yy(t.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var Pu=!1,Bt=!1,w2=typeof WeakSet=="function"?WeakSet:Set,se=null;function Jo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(e,t,r)}else n.current=null}function Ag(e,t,n){try{n()}catch(r){ut(e,t,r)}}var bx=!1;function b2(e,t){if(hg=Jd,e=pC(),qy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fg={focusedElem:e,selectionRange:n},Jd=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:lr(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(E){ut(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return b=bx,bx=!1,b}function Hl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ag(t,n,i)}s=s.next}while(s!==r)}}function cf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uT(e){var t=e.alternate;t!==null&&(e.alternate=null,uT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mr],delete t[vc],delete t[gg],delete t[n2],delete t[r2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dT(e){return e.tag===5||e.tag===3||e.tag===4}function xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ng(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xd));else if(r!==4&&(e=e.child,e!==null))for(Ng(e,t,n),e=e.sibling;e!==null;)Ng(e,t,n),e=e.sibling}function Og(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Og(e,t,n),e=e.sibling;e!==null;)Og(e,t,n),e=e.sibling}var It=null,fr=!1;function ks(e,t,n){for(n=n.child;n!==null;)hT(e,t,n),n=n.sibling}function hT(e,t,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(ef,n)}catch{}switch(n.tag){case 5:Bt||Jo(n,t);case 6:var r=It,s=fr;It=null,ks(e,t,n),It=r,fr=s,It!==null&&(fr?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(fr?(e=It,n=n.stateNode,e.nodeType===8?kp(e.parentNode,n):e.nodeType===1&&kp(e,n),hc(e)):kp(It,n.stateNode));break;case 4:r=It,s=fr,It=n.stateNode.containerInfo,fr=!0,ks(e,t,n),It=r,fr=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ag(n,t,o),s=s.next}while(s!==r)}ks(e,t,n);break;case 1:if(!Bt&&(Jo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,t,a)}ks(e,t,n);break;case 21:ks(e,t,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,ks(e,t,n),Bt=r):ks(e,t,n);break;default:ks(e,t,n)}}function Sx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w2),t.forEach(function(r){var s=A2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function er(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,fr=!1;break e;case 3:It=a.stateNode.containerInfo,fr=!0;break e;case 4:It=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(It===null)throw Error(K(160));hT(i,o,s),It=null,fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ut(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fT(t,e),t=t.sibling}function fT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),Tr(e),r&4){try{Hl(3,e,e.return),cf(3,e)}catch(p){ut(e,e.return,p)}try{Hl(5,e,e.return)}catch(p){ut(e,e.return,p)}}break;case 1:er(t,e),Tr(e),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(er(t,e),Tr(e),r&512&&n!==null&&Jo(n,n.return),e.flags&32){var s=e.stateNode;try{lc(s,"")}catch(p){ut(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Mk(s,i),ng(a,o);var c=ng(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Vk(s,h):d==="dangerouslySetInnerHTML"?$k(s,h):d==="children"?lc(s,h):Ny(s,d,h,c)}switch(a){case"input":Qm(s,i);break;case"textarea":Dk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ra(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ra(s,!!i.multiple,i.defaultValue,!0):ra(s,!!i.multiple,i.multiple?[]:"",!1))}s[vc]=i}catch(p){ut(e,e.return,p)}}break;case 6:if(er(t,e),Tr(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){ut(e,e.return,p)}}break;case 3:if(er(t,e),Tr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hc(t.containerInfo)}catch(p){ut(e,e.return,p)}break;case 4:er(t,e),Tr(e);break;case 13:er(t,e),Tr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uw=ht())),r&4&&Sx(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Bt=(c=Bt)||d,er(t,e),Bt=c):er(t,e),Tr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(h=se=d;se!==null;){switch(f=se,m=f.child,f.tag){case 0:case 11:case 14:case 15:Hl(4,f,f.return);break;case 1:Jo(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){ut(r,n,p)}}break;case 5:Jo(f,f.return);break;case 22:if(f.memoizedState!==null){Ex(h);continue}}m!==null?(m.return=f,se=m):Ex(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fk("display",o))}catch(p){ut(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(p){ut(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:er(t,e),Tr(e),r&4&&Sx(e);break;case 21:break;default:er(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dT(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(lc(s,""),r.flags&=-33);var i=xx(e);Og(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xx(e);Ng(e,a,o);break;default:throw Error(K(161))}}catch(l){ut(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x2(e,t,n){se=e,pT(e)}function pT(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Pu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=Pu;var c=Bt;if(Pu=o,(Bt=l)&&!c)for(se=s;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?kx(s):l!==null?(l.return=o,se=l):kx(s);for(;i!==null;)se=i,pT(i),i=i.sibling;se=s,Pu=a,Bt=c}_x(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):_x(e)}}function _x(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||cf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:lr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ax(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ax(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&hc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Bt||t.flags&512&&Pg(t)}catch(f){ut(t,t.return,f)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function Ex(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function kx(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cf(4,t)}catch(l){ut(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ut(t,s,l)}}var i=t.return;try{Pg(t)}catch(l){ut(t,i,l)}break;case 5:var o=t.return;try{Pg(t)}catch(l){ut(t,o,l)}}}catch(l){ut(t,t.return,l)}if(t===e){se=null;break}var a=t.sibling;if(a!==null){a.return=t.return,se=a;break}se=t.return}}var S2=Math.ceil,ch=ws.ReactCurrentDispatcher,lw=ws.ReactCurrentOwner,Bn=ws.ReactCurrentBatchConfig,Ne=0,Pt=null,vt=null,Dt=0,yn=0,Yo=gi(0),_t=0,_c=null,oo=0,uf=0,cw=0,Gl=null,cn=null,uw=0,Da=1/0,es=null,uh=!1,Rg=null,ni=null,Nu=!1,Ks=null,dh=0,Kl=0,Ig=null,Sd=-1,_d=0;function sn(){return Ne&6?ht():Sd!==-1?Sd:Sd=ht()}function ri(e){return e.mode&1?Ne&2&&Dt!==0?Dt&-Dt:i2.transition!==null?(_d===0&&(_d=Xk()),_d):(e=Le,e!==0||(e=window.event,e=e===void 0?16:iC(e.type)),e):1}function vr(e,t,n,r){if(50<Kl)throw Kl=0,Ig=null,Error(K(185));Jc(e,n,r),(!(Ne&2)||e!==Pt)&&(e===Pt&&(!(Ne&2)&&(uf|=n),_t===4&&Fs(e,Dt)),pn(e,r),n===1&&Ne===0&&!(t.mode&1)&&(Da=ht()+500,of&&vi()))}function pn(e,t){var n=e.callbackNode;iL(e,t);var r=Kd(e,e===Pt?Dt:0);if(r===0)n!==null&&Ib(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ib(n),t===1)e.tag===0?s2(Cx.bind(null,e)):EC(Cx.bind(null,e)),e2(function(){!(Ne&6)&&vi()}),n=null;else{switch(Zk(r)){case 1:n=Dy;break;case 4:n=Yk;break;case 16:n=Gd;break;case 536870912:n=Qk;break;default:n=Gd}n=ST(n,mT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mT(e,t){if(Sd=-1,_d=0,Ne&6)throw Error(K(327));var n=e.callbackNode;if(la()&&e.callbackNode!==n)return null;var r=Kd(e,e===Pt?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hh(e,r);else{t=r;var s=Ne;Ne|=2;var i=vT();(Pt!==e||Dt!==t)&&(es=null,Da=ht()+500,Yi(e,t));do try{k2();break}catch(a){gT(e,a)}while(!0);Jy(),ch.current=i,Ne=s,vt!==null?t=0:(Pt=null,Dt=0,t=_t)}if(t!==0){if(t===2&&(s=ag(e),s!==0&&(r=s,t=Mg(e,s))),t===1)throw n=_c,Yi(e,0),Fs(e,r),pn(e,ht()),n;if(t===6)Fs(e,r);else{if(s=e.current.alternate,!(r&30)&&!_2(s)&&(t=hh(e,r),t===2&&(i=ag(e),i!==0&&(r=i,t=Mg(e,i))),t===1))throw n=_c,Yi(e,0),Fs(e,r),pn(e,ht()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Oi(e,cn,es);break;case 3:if(Fs(e,r),(r&130023424)===r&&(t=uw+500-ht(),10<t)){if(Kd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){sn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mg(Oi.bind(null,e,cn,es),t);break}Oi(e,cn,es);break;case 4:if(Fs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S2(r/1960))-r,10<r){e.timeoutHandle=mg(Oi.bind(null,e,cn,es),r);break}Oi(e,cn,es);break;case 5:Oi(e,cn,es);break;default:throw Error(K(329))}}}return pn(e,ht()),e.callbackNode===n?mT.bind(null,e):null}function Mg(e,t){var n=Gl;return e.current.memoizedState.isDehydrated&&(Yi(e,t).flags|=256),e=hh(e,t),e!==2&&(t=cn,cn=n,t!==null&&Dg(t)),e}function Dg(e){cn===null?cn=e:cn.push.apply(cn,e)}function _2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!br(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fs(e,t){for(t&=~cw,t&=~uf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gr(t),r=1<<n;e[n]=-1,t&=~r}}function Cx(e){if(Ne&6)throw Error(K(327));la();var t=Kd(e,0);if(!(t&1))return pn(e,ht()),null;var n=hh(e,t);if(e.tag!==0&&n===2){var r=ag(e);r!==0&&(t=r,n=Mg(e,r))}if(n===1)throw n=_c,Yi(e,0),Fs(e,t),pn(e,ht()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oi(e,cn,es),pn(e,ht()),null}function dw(e,t){var n=Ne;Ne|=1;try{return e(t)}finally{Ne=n,Ne===0&&(Da=ht()+500,of&&vi())}}function ao(e){Ks!==null&&Ks.tag===0&&!(Ne&6)&&la();var t=Ne;Ne|=1;var n=Bn.transition,r=Le;try{if(Bn.transition=null,Le=1,e)return e()}finally{Le=r,Bn.transition=n,Ne=t,!(Ne&6)&&vi()}}function hw(){yn=Yo.current,Je(Yo)}function Yi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZL(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:Ia(),Je(hn),Je(Ht),tw();break;case 5:ew(r);break;case 4:Ia();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Yy(r.type._context);break;case 22:case 23:hw()}n=n.return}if(Pt=e,vt=e=si(e.current,null),Dt=yn=t,_t=0,_c=null,cw=uf=oo=0,cn=Gl=null,$i!==null){for(t=0;t<$i.length;t++)if(n=$i[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$i=null}return e}function gT(e,t){do{var n=vt;try{if(Jy(),wd.current=lh,ah){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ah=!1}if(io=0,Ct=xt=st=null,Wl=!1,bc=0,lw.current=null,n===null||n.return===null){_t=1,_c=t,vt=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fx(o);if(m!==null){m.flags&=-257,px(m,o,a,i,t),m.mode&1&&hx(i,c,t),t=m,l=c;var b=t.updateQueue;if(b===null){var p=new Set;p.add(l),t.updateQueue=p}else b.add(l);break e}else{if(!(t&1)){hx(i,c,t),fw();break e}l=Error(K(426))}}else if(Ze&&a.mode&1){var x=fx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),px(x,o,a,i,t),Gy(Ma(l,a));break e}}i=l=Ma(l,a),_t!==4&&(_t=2),Gl===null?Gl=[i]:Gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=ZC(i,l,t);ox(i,y);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ni===null||!ni.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=eT(i,a,t);ox(i,E);break e}}i=i.return}while(i!==null)}wT(n)}catch(C){t=C,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function vT(){var e=ch.current;return ch.current=lh,e===null?lh:e}function fw(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||!(oo&268435455)&&!(uf&268435455)||Fs(Pt,Dt)}function hh(e,t){var n=Ne;Ne|=2;var r=vT();(Pt!==e||Dt!==t)&&(es=null,Yi(e,t));do try{E2();break}catch(s){gT(e,s)}while(!0);if(Jy(),Ne=n,ch.current=r,vt!==null)throw Error(K(261));return Pt=null,Dt=0,_t}function E2(){for(;vt!==null;)yT(vt)}function k2(){for(;vt!==null&&!YD();)yT(vt)}function yT(e){var t=xT(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?wT(e):vt=t,lw.current=null}function wT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y2(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_t=6,vt=null;return}}else if(n=v2(n,t,yn),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);_t===0&&(_t=5)}function Oi(e,t,n){var r=Le,s=Bn.transition;try{Bn.transition=null,Le=1,C2(e,t,n,r)}finally{Bn.transition=s,Le=r}return null}function C2(e,t,n,r){do la();while(Ks!==null);if(Ne&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(oL(e,i),e===Pt&&(vt=Pt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nu||(Nu=!0,ST(Gd,function(){return la(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=Le;Le=1;var a=Ne;Ne|=4,lw.current=null,b2(e,n),fT(n,e),HL(fg),Jd=!!hg,fg=hg=null,e.current=n,x2(n),QD(),Ne=a,Le=o,Bn.transition=i}else e.current=n;if(Nu&&(Nu=!1,Ks=e,dh=s),i=e.pendingLanes,i===0&&(ni=null),eL(n.stateNode),pn(e,ht()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(uh)throw uh=!1,e=Rg,Rg=null,e;return dh&1&&e.tag!==0&&la(),i=e.pendingLanes,i&1?e===Ig?Kl++:(Kl=0,Ig=e):Kl=0,vi(),null}function la(){if(Ks!==null){var e=Zk(dh),t=Bn.transition,n=Le;try{if(Bn.transition=null,Le=16>e?16:e,Ks===null)var r=!1;else{if(e=Ks,Ks=null,dh=0,Ne&6)throw Error(K(331));var s=Ne;for(Ne|=4,se=e.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(se=c;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Hl(8,d,i)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var f=d.sibling,m=d.return;if(uT(d),d===c){se=null;break}if(f!==null){f.return=m,se=f;break}se=m}}}var b=i.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,se=y;break e}se=i.return}}var w=e.current;for(se=w;se!==null;){o=se;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,se=S;else e:for(o=w;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cf(9,a)}}catch(C){ut(a,a.return,C)}if(a===o){se=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,se=E;break e}se=a.return}}if(Ne=s,vi(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(ef,e)}catch{}r=!0}return r}finally{Le=n,Bn.transition=t}}return!1}function Tx(e,t,n){t=Ma(n,t),t=ZC(e,t,1),e=ti(e,t,1),t=sn(),e!==null&&(Jc(e,1,t),pn(e,t))}function ut(e,t,n){if(e.tag===3)Tx(e,e,n);else for(;t!==null;){if(t.tag===3){Tx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){e=Ma(n,e),e=eT(t,e,1),t=ti(t,e,1),e=sn(),t!==null&&(Jc(t,1,e),pn(t,e));break}}t=t.return}}function T2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&n,Pt===e&&(Dt&n)===n&&(_t===4||_t===3&&(Dt&130023424)===Dt&&500>ht()-uw?Yi(e,0):cw|=n),pn(e,t)}function bT(e,t){t===0&&(e.mode&1?(t=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):t=1);var n=sn();e=ps(e,t),e!==null&&(Jc(e,t,n),pn(e,n))}function j2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bT(e,n)}function A2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),bT(e,n)}var xT;xT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||hn.current)dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dn=!1,g2(e,t,n);dn=!!(e.flags&131072)}else dn=!1,Ze&&t.flags&1048576&&kC(t,nh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xd(e,t),e=t.pendingProps;var s=Na(t,Ht.current);aa(t,n),s=rw(null,t,r,e,s,n);var i=sw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(r)?(i=!0,eh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xy(t),s.updater=lf,t.stateNode=s,s._reactInternals=t,Sg(t,r,e,n),t=kg(null,t,r,!0,i,n)):(t.tag=0,Ze&&i&&Wy(t),Yt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=N2(r),e=lr(r,e),s){case 0:t=Eg(null,t,r,e,n);break e;case 1:t=vx(null,t,r,e,n);break e;case 11:t=mx(null,t,r,e,n);break e;case 14:t=gx(null,t,r,lr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),Eg(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),vx(e,t,r,s,n);case 3:e:{if(sT(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,s=i.element,NC(e,t),ih(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ma(Error(K(423)),t),t=yx(e,t,r,n,s);break e}else if(r!==s){s=Ma(Error(K(424)),t),t=yx(e,t,r,n,s);break e}else for(_n=ei(t.stateNode.containerInfo.firstChild),kn=t,Ze=!0,mr=null,n=AC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),r===s){t=ms(e,t,n);break e}Yt(e,t,r,n)}t=t.child}return t;case 5:return OC(t),e===null&&wg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,pg(r,s)?o=null:i!==null&&pg(r,i)&&(t.flags|=32),rT(e,t),Yt(e,t,o,n),t.child;case 6:return e===null&&wg(t),null;case 13:return iT(e,t,n);case 4:return Zy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ra(t,null,r,n):Yt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),mx(e,t,r,s,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,We(rh,r._currentValue),r._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===s.children&&!hn.current){t=ms(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=us(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bg(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bg(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,aa(t,n),s=Wn(s),r=r(s),t.flags|=1,Yt(e,t,r,n),t.child;case 14:return r=t.type,s=lr(r,t.pendingProps),s=lr(r.type,s),gx(e,t,r,s,n);case 15:return tT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lr(r,s),xd(e,t),t.tag=1,fn(r)?(e=!0,eh(t)):e=!1,aa(t,n),XC(t,r,s),Sg(t,r,s,n),kg(null,t,r,!0,e,n);case 19:return oT(e,t,n);case 22:return nT(e,t,n)}throw Error(K(156,t.tag))};function ST(e,t){return Jk(e,t)}function P2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,r){return new P2(e,t,n,r)}function pw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function N2(e){if(typeof e=="function")return pw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ry)return 11;if(e===Iy)return 14}return 2}function si(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ed(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")pw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vo:return Qi(n.children,s,i,t);case Oy:o=8,s|=8;break;case Hm:return e=Fn(12,n,t,s|2),e.elementType=Hm,e.lanes=i,e;case Gm:return e=Fn(13,n,t,s),e.elementType=Gm,e.lanes=i,e;case Km:return e=Fn(19,n,t,s),e.elementType=Km,e.lanes=i,e;case Ok:return df(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pk:o=10;break e;case Nk:o=9;break e;case Ry:o=11;break e;case Iy:o=14;break e;case Is:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Fn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Qi(e,t,n,r){return e=Fn(7,e,r,t),e.lanes=n,e}function df(e,t,n,r){return e=Fn(22,e,r,t),e.elementType=Ok,e.lanes=n,e.stateNode={isHidden:!1},e}function Rp(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function Ip(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function O2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mw(e,t,n,r,s,i,o,a,l){return e=new O2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(i),e}function R2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _T(e){if(!e)return li;e=e._reactInternals;e:{if(yo(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(fn(n))return _C(e,n,t)}return t}function ET(e,t,n,r,s,i,o,a,l){return e=mw(n,r,!0,e,s,i,o,a,l),e.context=_T(null),n=e.current,r=sn(),s=ri(n),i=us(r,s),i.callback=t??null,ti(n,i,s),e.current.lanes=s,Jc(e,s,r),pn(e,r),e}function hf(e,t,n,r){var s=t.current,i=sn(),o=ri(s);return n=_T(n),t.context===null?t.context=n:t.pendingContext=n,t=us(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ti(s,t,o),e!==null&&(vr(e,s,o,i),yd(e,s,o)),o}function fh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gw(e,t){jx(e,t),(e=e.alternate)&&jx(e,t)}function I2(){return null}var kT=typeof reportError=="function"?reportError:function(e){console.error(e)};function vw(e){this._internalRoot=e}ff.prototype.render=vw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));hf(e,t,null,null)};ff.prototype.unmount=vw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ao(function(){hf(null,e,null,null)}),t[fs]=null}};function ff(e){this._internalRoot=e}ff.prototype.unstable_scheduleHydration=function(e){if(e){var t=nC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$s.length&&t!==0&&t<$s[n].priority;n++);$s.splice(n,0,e),n===0&&sC(e)}};function yw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ax(){}function M2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=fh(o);i.call(c)}}var o=ET(t,r,e,0,null,!1,!1,"",Ax);return e._reactRootContainer=o,e[fs]=o.current,mc(e.nodeType===8?e.parentNode:e),ao(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=fh(l);a.call(c)}}var l=mw(e,0,!1,null,null,!1,!1,"",Ax);return e._reactRootContainer=l,e[fs]=l.current,mc(e.nodeType===8?e.parentNode:e),ao(function(){hf(t,l,n,r)}),l}function mf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=fh(o);a.call(l)}}hf(t,o,e,s)}else o=M2(n,t,e,s,r);return fh(o)}eC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Al(t.pendingLanes);n!==0&&(Ly(t,n|1),pn(t,ht()),!(Ne&6)&&(Da=ht()+500,vi()))}break;case 13:ao(function(){var r=ps(e,1);if(r!==null){var s=sn();vr(r,e,1,s)}}),gw(e,1)}};$y=function(e){if(e.tag===13){var t=ps(e,134217728);if(t!==null){var n=sn();vr(t,e,134217728,n)}gw(e,134217728)}};tC=function(e){if(e.tag===13){var t=ri(e),n=ps(e,t);if(n!==null){var r=sn();vr(n,e,t,r)}gw(e,t)}};nC=function(){return Le};rC=function(e,t){var n=Le;try{return Le=e,t()}finally{Le=n}};sg=function(e,t,n){switch(t){case"input":if(Qm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=sf(r);if(!s)throw Error(K(90));Ik(r),Qm(r,s)}}}break;case"textarea":Dk(e,n);break;case"select":t=n.value,t!=null&&ra(e,!!n.multiple,t,!1)}};zk=dw;qk=ao;var D2={usingClientEntryPoint:!1,Events:[Qc,qo,sf,Uk,Bk,dw]},xl={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L2={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gk(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||I2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{ef=Ou.inject(L2),Fr=Ou}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D2;jn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yw(t))throw Error(K(200));return R2(e,t,null,n)};jn.createRoot=function(e,t){if(!yw(e))throw Error(K(299));var n=!1,r="",s=kT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mw(e,1,!1,null,null,n,!1,r,s),e[fs]=t.current,mc(e.nodeType===8?e.parentNode:e),new vw(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=Gk(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return ao(e)};jn.hydrate=function(e,t,n){if(!pf(t))throw Error(K(200));return mf(null,e,t,!0,n)};jn.hydrateRoot=function(e,t,n){if(!yw(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ET(t,null,e,1,n??null,s,!1,i,o),e[fs]=t.current,mc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ff(t)};jn.render=function(e,t,n){if(!pf(t))throw Error(K(200));return mf(null,e,t,!1,n)};jn.unmountComponentAtNode=function(e){if(!pf(e))throw Error(K(40));return e._reactRootContainer?(ao(function(){mf(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0):!1};jn.unstable_batchedUpdates=dw;jn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pf(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return mf(e,t,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function CT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CT)}catch(e){console.error(e)}}CT(),Ck.exports=jn;var wo=Ck.exports;const TT=pk(wo);var jT,Px=wo;jT=Px.createRoot,Px.hydrateRoot;const $2=1,F2=1e6;let Mp=0;function V2(){return Mp=(Mp+1)%Number.MAX_SAFE_INTEGER,Mp.toString()}const Dp=new Map,Nx=e=>{if(Dp.has(e))return;const t=setTimeout(()=>{Dp.delete(e),Jl({type:"REMOVE_TOAST",toastId:e})},F2);Dp.set(e,t)},U2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Nx(n):e.toasts.forEach(r=>{Nx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},kd=[];let Cd={toasts:[]};function Jl(e){Cd=U2(Cd,e),kd.forEach(t=>{t(Cd)})}function B2({...e}){const t=V2(),n=s=>Jl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Jl({type:"DISMISS_TOAST",toastId:t});return Jl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Zc(){const[e,t]=v.useState(Cd);return v.useEffect(()=>(kd.push(t),()=>{const n=kd.indexOf(t);n>-1&&kd.splice(n,1)}),[e]),{...e,toast:B2,dismiss:n=>Jl({type:"DISMISS_TOAST",toastId:n})}}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ox(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AT(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Ox(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ox(e[s],null)}}}}function Te(...e){return v.useCallback(AT(...e),e)}function z2(e,t){const n=v.createContext(t),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Kn(e,t=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var y;const{scope:f,children:m,...b}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,x=v.useMemo(()=>b,Object.values(b));return u.jsx(p.Provider,{value:x,children:m})};c.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[l])||a,b=v.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,q2(s,...t)]}function q2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function La(e){const t=H2(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(G2);if(l){const c=l.props.children,d=a.map(h=>h===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var W2=La("Slot");function H2(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=J2(s),a=K2(i,s.props);return s.type!==v.Fragment&&(a.ref=r?AT(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PT=Symbol("radix.slottable");function NT(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=PT,t}function G2(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PT}function K2(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function J2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gf(e){const t=e+"CollectionProvider",[n,r]=Kn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:y}=p,w=G.useRef(null),S=G.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:S,collectionRef:w,children:y})};o.displayName=t;const a=e+"CollectionSlot",l=La(a),c=G.forwardRef((p,x)=>{const{scope:y,children:w}=p,S=i(a,y),E=Te(x,S.collectionRef);return u.jsx(l,{ref:E,children:w})});c.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=La(d),m=G.forwardRef((p,x)=>{const{scope:y,children:w,...S}=p,E=G.useRef(null),C=Te(x,E),T=i(d,y);return G.useEffect(()=>(T.itemMap.set(E,{ref:E,...S}),()=>void T.itemMap.delete(E))),u.jsx(f,{[h]:"",ref:C,children:w})});m.displayName=d;function b(p){const x=i(e+"CollectionConsumer",p);return G.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((T,j)=>S.indexOf(T.ref.current)-S.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},b,r]}var Y2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=Y2.reduce((e,t)=>{const n=La(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function OT(e,t){e&&wo.flushSync(()=>e.dispatchEvent(t))}function St(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Q2(e,t=globalThis==null?void 0:globalThis.document){const n=St(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var X2="DismissableLayer",Lg="dismissableLayer.update",Z2="dismissableLayer.pointerDownOutside",e$="dismissableLayer.focusOutside",Rx,RT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eu=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=v.useContext(RT),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),b=Te(t,j=>h(j)),p=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),w=d?p.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,C=n$(j=>{const N=j.target,I=[...c.branches].some(R=>R.contains(N));!E||I||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},f),T=r$(j=>{const N=j.target;[...c.branches].some(R=>R.contains(N))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},f);return Q2(j=>{w===c.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},f),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Rx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Ix(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Rx)}},[d,f,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Ix())},[d,c]),v.useEffect(()=>{const j=()=>m({});return document.addEventListener(Lg,j),()=>document.removeEventListener(Lg,j)},[]),u.jsx(ge.div,{...l,ref:b,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,C.onPointerDownCapture)})});eu.displayName=X2;var t$="DismissableLayerBranch",IT=v.forwardRef((e,t)=>{const n=v.useContext(RT),r=v.useRef(null),s=Te(t,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ge.div,{...e,ref:s})});IT.displayName=t$;function n$(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){MT(Z2,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function r$(e,t=globalThis==null?void 0:globalThis.document){const n=St(e),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&MT(e$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ix(){const e=new CustomEvent(Lg);document.dispatchEvent(e)}function MT(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?OT(s,i):s.dispatchEvent(i)}var s$=eu,i$=IT,Et=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},o$="Portal",vf=v.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=v.useState(!1);Et(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TT.createPortal(u.jsx(ge.div,{...r,ref:t}),o):null});vf.displayName=o$;function a$(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Jn=e=>{const{present:t,children:n}=e,r=l$(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Te(r.ref,c$(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Jn.displayName="Presence";function l$(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[a,l]=a$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Ru(r.current);i.current=a==="mounted"?c:"none"},[a]),Et(()=>{const c=r.current,d=s.current;if(d!==e){const f=i.current,m=Ru(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Et(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=m=>{const p=Ru(r.current).includes(m.animationName);if(m.target===t&&p&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=Ru(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ru(e){return(e==null?void 0:e.animationName)||"none"}function c$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var u$=jy[" useInsertionEffect ".trim().toString()]||Et;function Wr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=d$({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=v.useCallback(d=>{var h;if(a){const f=h$(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,e,i,o]);return[l,c]}function d$({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),i=v.useRef(t);return u$(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function h$(e){return typeof e=="function"}var DT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f$="VisuallyHidden",yf=v.forwardRef((e,t)=>u.jsx(ge.span,{...e,ref:t,style:{...DT,...e.style}}));yf.displayName=f$;var p$=yf,ww="ToastProvider",[bw,m$,g$]=gf("Toast"),[LT,mY]=Kn("Toast",[g$]),[v$,wf]=LT(ww),$T=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=v.useState(null),[c,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ww}\`. Expected non-empty \`string\`.`),u.jsx(bw.Provider,{scope:t,children:u.jsx(v$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};$T.displayName=ww;var FT="ToastViewport",y$=["F8"],$g="toast.viewportPause",Fg="toast.viewportResume",VT=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=y$,label:s="Notifications ({hotkey})",...i}=e,o=wf(FT,n),a=m$(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=Te(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const x=y=>{var S;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=l.current,y=h.current;if(b&&x&&y){const w=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent($g);y.dispatchEvent(T),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(Fg);y.dispatchEvent(T),o.isClosePausedRef.current=!1}},E=T=>{!x.contains(T.relatedTarget)&&S()},C=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",E),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const E=S.ref.current,C=[E,...N$(E)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const x=h.current;if(x){const y=w=>{var C,T,j;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const N=document.activeElement,I=w.shiftKey;if(w.target===x&&I){(C=c.current)==null||C.focus();return}const L=p({tabbingDirection:I?"backwards":"forwards"}),W=L.findIndex(F=>F===N);Lp(L.slice(W+1))?w.preventDefault():I?(T=c.current)==null||T.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,p]),u.jsxs(i$,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(Vg,{ref:c,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Lp(x)}}),u.jsx(bw.Slot,{scope:n,children:u.jsx(ge.ol,{tabIndex:-1,...i,ref:f})}),b&&u.jsx(Vg,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Lp(x)}})]})});VT.displayName=FT;var UT="ToastFocusProxy",Vg=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=wf(UT,n);return u.jsx(yf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Vg.displayName=UT;var tu="Toast",w$="toast.swipeStart",b$="toast.swipeMove",x$="toast.swipeCancel",S$="toast.swipeEnd",BT=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=Wr({prop:r,defaultProp:s??!0,onChange:i,caller:tu});return u.jsx(Jn,{present:n||a,children:u.jsx(k$,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:St(e.onPause),onResume:St(e.onResume),onSwipeStart:oe(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});BT.displayName=tu;var[_$,E$]=LT(tu,{onClose(){}}),k$=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...b}=e,p=wf(tu,n),[x,y]=v.useState(null),w=Te(t,F=>y(F)),S=v.useRef(null),E=v.useRef(null),C=s||p.duration,T=v.useRef(0),j=v.useRef(C),N=v.useRef(0),{onToastAdd:I,onToastRemove:R}=p,O=St(()=>{var J;(x==null?void 0:x.contains(document.activeElement))&&((J=p.viewport)==null||J.focus()),o()}),L=v.useCallback(F=>{!F||F===1/0||(window.clearTimeout(N.current),T.current=new Date().getTime(),N.current=window.setTimeout(O,F))},[O]);v.useEffect(()=>{const F=p.viewport;if(F){const J=()=>{L(j.current),c==null||c()},Q=()=>{const X=new Date().getTime()-T.current;j.current=j.current-X,window.clearTimeout(N.current),l==null||l()};return F.addEventListener($g,Q),F.addEventListener(Fg,J),()=>{F.removeEventListener($g,Q),F.removeEventListener(Fg,J)}}},[p.viewport,C,l,c,L]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&L(C)},[i,C,p.isClosePausedRef,L]),v.useEffect(()=>(I(),()=>R()),[I,R]);const W=v.useMemo(()=>x?JT(x):null,[x]);return p.viewport?u.jsxs(u.Fragment,{children:[W&&u.jsx(C$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),u.jsx(_$,{scope:n,onClose:O,children:wo.createPortal(u.jsx(bw.ItemSlot,{scope:n,children:u.jsx(s$,{asChild:!0,onEscapeKeyDown:oe(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:oe(e.onPointerDown,F=>{F.button===0&&(S.current={x:F.clientX,y:F.clientY})}),onPointerMove:oe(e.onPointerMove,F=>{if(!S.current)return;const J=F.clientX-S.current.x,Q=F.clientY-S.current.y,X=!!E.current,$=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=$?V(0,J):0,te=$?0:V(0,Q),re=F.pointerType==="touch"?10:2,g={x:Y,y:te},k={originalEvent:F,delta:g};X?(E.current=g,Iu(b$,h,k,{discrete:!1})):Mx(g,p.swipeDirection,re)?(E.current=g,Iu(w$,d,k,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(J)>re||Math.abs(Q)>re)&&(S.current=null)}),onPointerUp:oe(e.onPointerUp,F=>{const J=E.current,Q=F.target;if(Q.hasPointerCapture(F.pointerId)&&Q.releasePointerCapture(F.pointerId),E.current=null,S.current=null,J){const X=F.currentTarget,$={originalEvent:F,delta:J};Mx(J,p.swipeDirection,p.swipeThreshold)?Iu(S$,m,$,{discrete:!0}):Iu(x$,f,$,{discrete:!0}),X.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),C$=e=>{const{__scopeToast:t,children:n,...r}=e,s=wf(tu,t),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return A$(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(vf,{asChild:!0,children:u.jsx(yf,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},T$="ToastTitle",zT=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(ge.div,{...r,ref:t})});zT.displayName=T$;var j$="ToastDescription",qT=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(ge.div,{...r,ref:t})});qT.displayName=j$;var WT="ToastAction",HT=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(KT,{altText:n,asChild:!0,children:u.jsx(xw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${WT}\`. Expected non-empty \`string\`.`),null)});HT.displayName=WT;var GT="ToastClose",xw=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=E$(GT,n);return u.jsx(KT,{asChild:!0,children:u.jsx(ge.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,s.onClose)})})});xw.displayName=GT;var KT=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function JT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),P$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...JT(r))}}),t}function Iu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?OT(s,i):s.dispatchEvent(i)}var Mx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function A$(e=()=>{}){const t=St(e);Et(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function P$(e){return e.nodeType===e.ELEMENT_NODE}function N$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var O$=$T,YT=VT,QT=BT,XT=zT,ZT=qT,ej=HT,tj=xw;function nj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=nj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=nj(e))&&(r&&(r+=" "),r+=t);return r}const Dx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Lx=rj,bf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Lx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=Dx(d)||Dx(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...i,...a}[p]):{...i,...a}[p]===x})?[...c,h,f]:c},[]);return Lx(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...I$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:sj("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(M$,{ref:i,iconNode:t,className:sj(`lucide-${R$(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=_e("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=_e("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=_e("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=_e("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=_e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=_e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=_e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=_e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=_e("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=_e("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),kw="-",eF=e=>{const t=nF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(kw);return a[0]===""&&a.length!==1&&a.shift(),cj(a,t)||tF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},cj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?cj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(kw);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Vx=/^\[(.+)\]$/,tF=e=>{if(Vx.test(e)){const t=Vx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return sF(Object.entries(e.classGroups),n).forEach(([i,o])=>{zg(o,r,i,t)}),r},zg=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ux(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(rF(s)){zg(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{zg(o,Ux(t,i),n,r)})})},Ux=(e,t)=>{let n=e;return t.split(kw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rF=e=>e.isThemeGetter,sF=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,iF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},uj="!",oF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+i)===t)){l.push(a.slice(d,x)),d=x+i;continue}if(y==="/"){h=x;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?a:a.substring(d),m=f.startsWith(uj),b=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},aF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},lF=e=>({cache:iF(e.cacheSize),parseClassName:oF(e),...eF(e)}),cF=/\s+/,uF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(cF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(c);let b=!!m,p=r(b?f.substring(0,m):f);if(!p){if(!b){a=c+(a.length>0?" "+a:a);continue}if(p=r(f),!p){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=aF(d).join(":"),y=h?x+uj:x,w=y+p;if(i.includes(w))continue;i.push(w);const S=s(p,b);for(let E=0;E<S.length;++E){const C=S[E];i.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function dF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=dj(t))&&(r&&(r+=" "),r+=n);return r}const dj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=dj(e[r]))&&(n&&(n+=" "),n+=t);return n};function hF(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return n=lF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=uF(l,n);return s(l,d),d}return function(){return i(dF.apply(null,arguments))}}const Ge=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hj=/^\[(?:([a-z-]+):)?(.+)\]$/i,fF=/^\d+\/\d+$/,pF=new Set(["px","full","screen"]),mF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=e=>ca(e)||pF.has(e)||fF.test(e),Cs=e=>tl(e,"length",TF),ca=e=>!!e&&!Number.isNaN(Number(e)),Vp=e=>tl(e,"number",ca),Sl=e=>!!e&&Number.isInteger(Number(e)),bF=e=>e.endsWith("%")&&ca(e.slice(0,-1)),ke=e=>hj.test(e),Ts=e=>mF.test(e),xF=new Set(["length","size","percentage"]),SF=e=>tl(e,xF,fj),_F=e=>tl(e,"position",fj),EF=new Set(["image","url"]),kF=e=>tl(e,EF,AF),CF=e=>tl(e,"",jF),_l=()=>!0,tl=(e,t,n)=>{const r=hj.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},TF=e=>gF.test(e)&&!vF.test(e),fj=()=>!1,jF=e=>yF.test(e),AF=e=>wF.test(e),PF=()=>{const e=Ge("colors"),t=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),a=Ge("borderWidth"),l=Ge("contrast"),c=Ge("grayscale"),d=Ge("hueRotate"),h=Ge("invert"),f=Ge("gap"),m=Ge("gradientColorStops"),b=Ge("gradientColorStopPositions"),p=Ge("inset"),x=Ge("margin"),y=Ge("opacity"),w=Ge("padding"),S=Ge("saturate"),E=Ge("scale"),C=Ge("sepia"),T=Ge("skew"),j=Ge("space"),N=Ge("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ke,t],L=()=>[ke,t],W=()=>["",Qr,Cs],F=()=>["auto",ca,ke],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ke],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[ca,ke];return{cacheSize:500,separator:":",theme:{colors:[_l],spacing:[Qr,Cs],blur:["none","",Ts,ke],brightness:te(),borderColor:[e],borderRadius:["none","","full",Ts,ke],borderSpacing:L(),borderWidth:W(),contrast:te(),grayscale:V(),hueRotate:te(),invert:V(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[bF,Cs],inset:O(),margin:O(),opacity:te(),padding:L(),saturate:te(),scale:te(),sepia:V(),skew:te(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[Ts]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ke]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sl,ke]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Sl,ke]}],"grid-cols":[{"grid-cols":[_l]}],"col-start-end":[{col:["auto",{span:["full",Sl,ke]},ke]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[_l]}],"row-start-end":[{row:["auto",{span:[Sl,ke]},ke]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,t]}],"min-w":[{"min-w":[ke,t,"min","max","fit"]}],"max-w":[{"max-w":[ke,t,"none","full","min","max","fit","prose",{screen:[Ts]},Ts]}],h:[{h:[ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ts,Cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vp]}],"font-family":[{font:[_l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",ca,Vp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Cs]}],"underline-offset":[{"underline-offset":["auto",Qr,ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),_F]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Qr,ke]}],"outline-w":[{outline:[Qr,Cs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Qr,Cs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ts,CF]}],"shadow-color":[{shadow:[_l]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ts,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Sl,ke]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qr,Cs,Vp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NF=hF(PF);function ce(...e){return NF(rj(e))}const OF=O$,pj=v.forwardRef(({className:e,...t},n)=>u.jsx(YT,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pj.displayName=YT.displayName;const RF=bf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mj=v.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(QT,{ref:r,className:ce(RF({variant:t}),e),...n}));mj.displayName=QT.displayName;const IF=v.forwardRef(({className:e,...t},n)=>u.jsx(ej,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));IF.displayName=ej.displayName;const gj=v.forwardRef(({className:e,...t},n)=>u.jsx(tj,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Ew,{className:"h-4 w-4"})}));gj.displayName=tj.displayName;const vj=v.forwardRef(({className:e,...t},n)=>u.jsx(XT,{ref:n,className:ce("text-sm font-semibold",e),...t}));vj.displayName=XT.displayName;const yj=v.forwardRef(({className:e,...t},n)=>u.jsx(ZT,{ref:n,className:ce("text-sm opacity-90",e),...t}));yj.displayName=ZT.displayName;function MF(){const{toasts:e}=Zc();return u.jsxs(OF,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return u.jsxs(mj,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(vj,{children:n}),r&&u.jsx(yj,{children:r})]}),s,u.jsx(gj,{})]},t)}),u.jsx(pj,{})]})}var yh=["light","dark"],Cw="(prefers-color-scheme: dark)",DF=typeof window>"u",Tw=v.createContext(void 0),LF={setTheme:e=>{},themes:[]},wj=()=>{var e;return(e=v.useContext(Tw))!=null?e:LF},$F=e=>v.useContext(Tw)?e.children:v.createElement(VF,{...e}),FF=["light","dark"],VF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=FF,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d})=>{let[h,f]=v.useState(()=>Bx(s,o)),[m,b]=v.useState(()=>Bx(s)),p=l?Object.values(l):i,x=v.useCallback(E=>{let C=E;if(!C)return;E==="system"&&n&&(C=zx());let T=l?l[C]:C,j=t?BF():null,N=document.documentElement;if(a==="class"?(N.classList.remove(...p),T&&N.classList.add(T)):T?N.setAttribute(a,T):N.removeAttribute(a),r){let I=yh.includes(o)?o:null,R=yh.includes(C)?C:I;N.style.colorScheme=R}j==null||j()},[]),y=v.useCallback(E=>{let C=typeof E=="function"?E(E):E;f(C);try{localStorage.setItem(s,C)}catch{}},[e]),w=v.useCallback(E=>{let C=zx(E);b(C),h==="system"&&n&&!e&&x("system")},[h,e]);v.useEffect(()=>{let E=window.matchMedia(Cw);return E.addListener(w),w(E),()=>E.removeListener(w)},[w]),v.useEffect(()=>{let E=C=>{if(C.key!==s)return;let T=C.newValue||o;y(T)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[y]),v.useEffect(()=>{x(e??h)},[e,h]);let S=v.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,y,e,m,n,i]);return v.createElement(Tw.Provider,{value:S},v.createElement(UF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:c,attrs:p,nonce:d}),c)},UF=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?yh.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(b,p=!1,x=!0)=>{let y=o?o[b]:b,w=p?b+"|| ''":`'${y}'`,S="";return s&&x&&!p&&yh.includes(b)&&(S+=`d.style.colorScheme = '${b}';`),n==="class"?p||y?S+=`c.add(${w})`:S+="null":y&&(S+=`d[s](n,${w})`),S},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${Cw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),Bx=(e,t)=>{if(DF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},BF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},zx=e=>(e||(e=window.matchMedia(Cw)),e.matches?"dark":"light"),zF=e=>{switch(e){case"success":return HF;case"info":return KF;case"warning":return GF;case"error":return JF;default:return null}},qF=Array(12).fill(0),WF=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},qF.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),HF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),JF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YF=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QF=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},qg=1,XF=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:qg++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],G.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(eV(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||qg++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ln=new XF,ZF=(e,t)=>{let n=(t==null?void 0:t.id)||qg++;return ln.addToast({title:e,...t,id:n}),n},eV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tV=ZF,nV=()=>ln.toasts,rV=()=>ln.getActiveToasts();Object.assign(tV,{success:ln.success,info:ln.info,warning:ln.warning,error:ln.error,custom:ln.custom,message:ln.message,promise:ln.promise,dismiss:ln.dismiss,loading:ln.loading},{getHistory:nV,getToasts:rV});function sV(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}sV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Du(e){return e.label!==void 0}var iV=3,oV="32px",aV="16px",qx=4e3,lV=356,cV=14,uV=20,dV=200;function tr(...e){return e.filter(Boolean).join(" ")}function hV(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var fV=e=>{var t,n,r,s,i,o,a,l,c,d,h;let{invert:f,toast:m,unstyled:b,interacting:p,setHeights:x,visibleToasts:y,heights:w,index:S,toasts:E,expanded:C,removeToast:T,defaultRichColors:j,closeButton:N,style:I,cancelButtonStyle:R,actionButtonStyle:O,className:L="",descriptionClassName:W="",duration:F,position:J,gap:Q,loadingIcon:X,expandByDefault:$,classNames:V,icons:Y,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:re}=e,[g,k]=G.useState(null),[_,P]=G.useState(null),[A,M]=G.useState(!1),[B,U]=G.useState(!1),[H,Z]=G.useState(!1),[he,Ve]=G.useState(!1),[ue,pt]=G.useState(!1),[Me,ot]=G.useState(0),[kt,ae]=G.useState(0),ie=G.useRef(m.duration||F||qx),Qe=G.useRef(null),D=G.useRef(null),ve=S===0,at=S+1<=y,He=m.type,So=m.dismissible!==!1,nD=m.className||"",rD=m.descriptionClassName||"",pu=G.useMemo(()=>w.findIndex(be=>be.toastId===m.id)||0,[w,m.id]),sD=G.useMemo(()=>{var be;return(be=m.closeButton)!=null?be:N},[m.closeButton,N]),gb=G.useMemo(()=>m.duration||F||qx,[m.duration,F]),op=G.useRef(0),_o=G.useRef(0),vb=G.useRef(0),Eo=G.useRef(null),[iD,oD]=J.split("-"),yb=G.useMemo(()=>w.reduce((be,$e,Xe)=>Xe>=pu?be:be+$e.height,0),[w,pu]),wb=QF(),aD=m.invert||f,ap=He==="loading";_o.current=G.useMemo(()=>pu*Q+yb,[pu,yb]),G.useEffect(()=>{ie.current=gb},[gb]),G.useEffect(()=>{M(!0)},[]),G.useEffect(()=>{let be=D.current;if(be){let $e=be.getBoundingClientRect().height;return ae($e),x(Xe=>[{toastId:m.id,height:$e,position:m.position},...Xe]),()=>x(Xe=>Xe.filter(Qn=>Qn.toastId!==m.id))}},[x,m.id]),G.useLayoutEffect(()=>{if(!A)return;let be=D.current,$e=be.style.height;be.style.height="auto";let Xe=be.getBoundingClientRect().height;be.style.height=$e,ae(Xe),x(Qn=>Qn.find(Xn=>Xn.toastId===m.id)?Qn.map(Xn=>Xn.toastId===m.id?{...Xn,height:Xe}:Xn):[{toastId:m.id,height:Xe,position:m.position},...Qn])},[A,m.title,m.description,x,m.id]);let Ss=G.useCallback(()=>{U(!0),ot(_o.current),x(be=>be.filter($e=>$e.toastId!==m.id)),setTimeout(()=>{T(m)},dV)},[m,T,x,_o]);G.useEffect(()=>{if(m.promise&&He==="loading"||m.duration===1/0||m.type==="loading")return;let be;return C||p||re&&wb?(()=>{if(vb.current<op.current){let $e=new Date().getTime()-op.current;ie.current=ie.current-$e}vb.current=new Date().getTime()})():ie.current!==1/0&&(op.current=new Date().getTime(),be=setTimeout(()=>{var $e;($e=m.onAutoClose)==null||$e.call(m,m),Ss()},ie.current)),()=>clearTimeout(be)},[C,p,m,He,re,wb,Ss]),G.useEffect(()=>{m.delete&&Ss()},[Ss,m.delete]);function lD(){var be,$e,Xe;return Y!=null&&Y.loading?G.createElement("div",{className:tr(V==null?void 0:V.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":He==="loading"},Y.loading):X?G.createElement("div",{className:tr(V==null?void 0:V.loader,($e=m==null?void 0:m.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":He==="loading"},X):G.createElement(WF,{className:tr(V==null?void 0:V.loader,(Xe=m==null?void 0:m.classNames)==null?void 0:Xe.loader),visible:He==="loading"})}return G.createElement("li",{tabIndex:0,ref:D,className:tr(L,nD,V==null?void 0:V.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[He],(n=m==null?void 0:m.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":A,"data-promise":!!m.promise,"data-swiped":ue,"data-removed":B,"data-visible":at,"data-y-position":iD,"data-x-position":oD,"data-index":S,"data-front":ve,"data-swiping":H,"data-dismissible":So,"data-type":He,"data-invert":aD,"data-swipe-out":he,"data-swipe-direction":_,"data-expanded":!!(C||$&&A),style:{"--index":S,"--toasts-before":S,"--z-index":E.length-S,"--offset":`${B?Me:_o.current}px`,"--initial-height":$?"auto":`${kt}px`,...I,...m.style},onDragEnd:()=>{Z(!1),k(null),Eo.current=null},onPointerDown:be=>{ap||!So||(Qe.current=new Date,ot(_o.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Z(!0),Eo.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,$e,Xe,Qn;if(he||!So)return;Eo.current=null;let Xn=Number(((be=D.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_s=Number((($e=D.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_i=new Date().getTime()-((Xe=Qe.current)==null?void 0:Xe.getTime()),Zn=g==="x"?Xn:_s,Es=Math.abs(Zn)/_i;if(Math.abs(Zn)>=uV||Es>.11){ot(_o.current),(Qn=m.onDismiss)==null||Qn.call(m,m),P(g==="x"?Xn>0?"right":"left":_s>0?"down":"up"),Ss(),Ve(!0),pt(!1);return}Z(!1),k(null)},onPointerMove:be=>{var $e,Xe,Qn,Xn;if(!Eo.current||!So||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;let _s=be.clientY-Eo.current.y,_i=be.clientX-Eo.current.x,Zn=(Xe=e.swipeDirections)!=null?Xe:hV(J);!g&&(Math.abs(_i)>1||Math.abs(_s)>1)&&k(Math.abs(_i)>Math.abs(_s)?"x":"y");let Es={x:0,y:0};g==="y"?(Zn.includes("top")||Zn.includes("bottom"))&&(Zn.includes("top")&&_s<0||Zn.includes("bottom")&&_s>0)&&(Es.y=_s):g==="x"&&(Zn.includes("left")||Zn.includes("right"))&&(Zn.includes("left")&&_i<0||Zn.includes("right")&&_i>0)&&(Es.x=_i),(Math.abs(Es.x)>0||Math.abs(Es.y)>0)&&pt(!0),(Qn=D.current)==null||Qn.style.setProperty("--swipe-amount-x",`${Es.x}px`),(Xn=D.current)==null||Xn.style.setProperty("--swipe-amount-y",`${Es.y}px`)}},sD&&!m.jsx?G.createElement("button",{"aria-label":te,"data-disabled":ap,"data-close-button":!0,onClick:ap||!So?()=>{}:()=>{var be;Ss(),(be=m.onDismiss)==null||be.call(m,m)},className:tr(V==null?void 0:V.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:YF):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,He||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:tr(V==null?void 0:V.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||lD():null,m.type!=="loading"?m.icon||(Y==null?void 0:Y[He])||zF(He):null):null,G.createElement("div",{"data-content":"",className:tr(V==null?void 0:V.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:tr(V==null?void 0:V.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:tr(W,rD,V==null?void 0:V.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Du(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:be=>{var $e,Xe;Du(m.cancel)&&So&&((Xe=($e=m.cancel).onClick)==null||Xe.call($e,be),Ss())},className:tr(V==null?void 0:V.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Du(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:be=>{var $e,Xe;Du(m.action)&&((Xe=($e=m.action).onClick)==null||Xe.call($e,be),!be.defaultPrevented&&Ss())},className:tr(V==null?void 0:V.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Wx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function pV(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?aV:oV;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var mV=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:b=iV,toastOptions:p,dir:x=Wx(),gap:y=cV,loadingIcon:w,icons:S,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C}=e,[T,j]=G.useState([]),N=G.useMemo(()=>Array.from(new Set([r].concat(T.filter(re=>re.position).map(re=>re.position)))),[T,r]),[I,R]=G.useState([]),[O,L]=G.useState(!1),[W,F]=G.useState(!1),[J,Q]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=G.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=G.useRef(null),Y=G.useRef(!1),te=G.useCallback(re=>{j(g=>{var k;return(k=g.find(_=>_.id===re.id))!=null&&k.delete||ln.dismiss(re.id),g.filter(({id:_})=>_!==re.id)})},[]);return G.useEffect(()=>ln.subscribe(re=>{if(re.dismiss){j(g=>g.map(k=>k.id===re.id?{...k,delete:!0}:k));return}setTimeout(()=>{TT.flushSync(()=>{j(g=>{let k=g.findIndex(_=>_.id===re.id);return k!==-1?[...g.slice(0,k),{...g[k],...re},...g.slice(k+1)]:[re,...g]})})})}),[]),G.useEffect(()=>{if(d!=="system"){Q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:g})=>{Q(g?"dark":"light")})}catch{re.addListener(({matches:k})=>{try{Q(k?"dark":"light")}catch(_){console.error(_)}})}},[d]),G.useEffect(()=>{T.length<=1&&L(!1)},[T]),G.useEffect(()=>{let re=g=>{var k,_;s.every(P=>g[P]||g.code===P)&&(L(!0),(k=X.current)==null||k.focus()),g.code==="Escape"&&(document.activeElement===X.current||(_=X.current)!=null&&_.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[s]),G.useEffect(()=>{if(X.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,Y.current=!1)}},[X.current]),G.createElement("section",{ref:t,"aria-label":`${E} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((re,g)=>{var k;let[_,P]=re.split("-");return T.length?G.createElement("ol",{key:re,dir:x==="auto"?Wx():x,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":_,"data-lifted":O&&T.length>1&&!i,"data-x-position":P,style:{"--front-toast-height":`${((k=I[0])==null?void 0:k.height)||0}px`,"--width":`${lV}px`,"--gap":`${y}px`,...m,...pV(l,c)},onBlur:A=>{Y.current&&!A.currentTarget.contains(A.relatedTarget)&&(Y.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,V.current=A.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{W||L(!1)},onDragEnd:()=>L(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},T.filter(A=>!A.position&&g===0||A.position===re).map((A,M)=>{var B,U;return G.createElement(fV,{key:A.id,icons:S,index:M,toast:A,defaultRichColors:h,duration:(B=p==null?void 0:p.duration)!=null?B:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(U=p==null?void 0:p.closeButton)!=null?U:o,interacting:W,position:re,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:te,toasts:T.filter(H=>H.position==A.position),heights:I.filter(H=>H.position==A.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const gV=({...e})=>{const{theme:t="system"}=wj();return u.jsx(mV,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var vV=jy[" useId ".trim().toString()]||(()=>{}),yV=0;function yr(e){const[t,n]=v.useState(vV());return Et(()=>{n(r=>r??String(yV++))},[e]),t?`radix-${t}`:""}const wV=["top","right","bottom","left"],ci=Math.min,wn=Math.max,wh=Math.round,Lu=Math.floor,Ur=e=>({x:e,y:e}),bV={left:"right",right:"left",bottom:"top",top:"bottom"},xV={start:"end",end:"start"};function Wg(e,t,n){return wn(e,ci(t,n))}function gs(e,t){return typeof e=="function"?e(t):e}function vs(e){return e.split("-")[0]}function nl(e){return e.split("-")[1]}function jw(e){return e==="x"?"y":"x"}function Aw(e){return e==="y"?"height":"width"}const SV=new Set(["top","bottom"]);function $r(e){return SV.has(vs(e))?"y":"x"}function Pw(e){return jw($r(e))}function _V(e,t,n){n===void 0&&(n=!1);const r=nl(e),s=Pw(e),i=Aw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=bh(o)),[o,bh(o)]}function EV(e){const t=bh(e);return[Hg(e),t,Hg(t)]}function Hg(e){return e.replace(/start|end/g,t=>xV[t])}const Hx=["left","right"],Gx=["right","left"],kV=["top","bottom"],CV=["bottom","top"];function TV(e,t,n){switch(e){case"top":case"bottom":return n?t?Gx:Hx:t?Hx:Gx;case"left":case"right":return t?kV:CV;default:return[]}}function jV(e,t,n,r){const s=nl(e);let i=TV(vs(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Hg)))),i}function bh(e){return e.replace(/left|right|bottom|top/g,t=>bV[t])}function AV(e){return{top:0,right:0,bottom:0,left:0,...e}}function bj(e){return typeof e!="number"?AV(e):{top:e,right:e,bottom:e,left:e}}function xh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Kx(e,t,n){let{reference:r,floating:s}=e;const i=$r(t),o=Pw(t),a=Aw(o),l=vs(t),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(nl(t)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const PV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Kx(c,r,l),f=r,m={},b=0;for(let p=0;p<a.length;p++){const{name:x,fn:y}=a[p],{x:w,y:S,data:E,reset:C}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=w??d,h=S??h,m={...m,[x]:{...m[x],...E}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=Kx(c,f,l)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function kc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=gs(t,e),b=bj(m),x=a[f?h==="floating"?"reference":"floating":h],y=xh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=xh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(y.top-C.top+b.top)/E.y,bottom:(C.bottom-y.bottom+b.bottom)/E.y,left:(y.left-C.left+b.left)/E.x,right:(C.right-y.right+b.right)/E.x}}const NV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=gs(e,t)||{};if(c==null)return{};const h=bj(d),f={x:n,y:r},m=Pw(s),b=Aw(m),p=await o.getDimensions(c),x=m==="y",y=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",E=i.reference[b]+i.reference[m]-f[m]-i.floating[b],C=f[m]-i.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let j=T?T[S]:0;(!j||!await(o.isElement==null?void 0:o.isElement(T)))&&(j=a.floating[S]||i.floating[b]);const N=E/2-C/2,I=j/2-p[b]/2-1,R=ci(h[y],I),O=ci(h[w],I),L=R,W=j-p[b]-O,F=j/2-p[b]/2+N,J=Wg(L,F,W),Q=!l.arrow&&nl(s)!=null&&F!==J&&i.reference[b]/2-(F<L?R:O)-p[b]/2<0,X=Q?F<L?F-L:F-W:0;return{[m]:f[m]+X,data:{[m]:J,centerOffset:F-J-X,...Q&&{alignmentOffset:X}},reset:Q}}}),OV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=gs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=vs(s),w=$r(a),S=vs(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(S||!p?[bh(a)]:EV(a)),T=b!=="none";!f&&T&&C.push(...jV(a,p,b,E));const j=[a,...C],N=await kc(t,x),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(N[y]),h){const F=_V(s,o,E);I.push(N[F[0]],N[F[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(F=>F<=0)){var O,L;const F=(((O=i.flip)==null?void 0:O.index)||0)+1,J=j[F];if(J&&(!(h==="alignment"?w!==$r(J):!1)||R.every($=>$.overflows[0]>0&&$r($.placement)===w)))return{data:{index:F,overflows:R},reset:{placement:J}};let Q=(L=R.filter(X=>X.overflows[0]<=0).sort((X,$)=>X.overflows[1]-$.overflows[1])[0])==null?void 0:L.placement;if(!Q)switch(m){case"bestFit":{var W;const X=(W=R.filter($=>{if(T){const V=$r($.placement);return V===w||V==="y"}return!0}).map($=>[$.placement,$.overflows.filter(V=>V>0).reduce((V,Y)=>V+Y,0)]).sort(($,V)=>$[1]-V[1])[0])==null?void 0:W[0];X&&(Q=X);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function Jx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yx(e){return wV.some(t=>e[t]>=0)}const RV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=gs(e,t);switch(r){case"referenceHidden":{const i=await kc(t,{...s,elementContext:"reference"}),o=Jx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Yx(o)}}}case"escaped":{const i=await kc(t,{...s,altBoundary:!0}),o=Jx(i,n.floating);return{data:{escapedOffsets:o,escaped:Yx(o)}}}default:return{}}}}},xj=new Set(["left","top"]);async function IV(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=vs(n),a=nl(n),l=$r(n)==="y",c=xj.has(o)?-1:1,d=i&&l?-1:1,h=gs(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const MV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await IV(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},DV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...l}=gs(e,t),c={x:n,y:r},d=await kc(t,l),h=$r(vs(s)),f=jw(h);let m=c[f],b=c[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=m+d[x],S=m-d[y];m=Wg(w,m,S)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=b+d[x],S=b-d[y];b=Wg(w,b,S)}const p=a.fn({...t,[f]:m,[h]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},LV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=gs(e,t),d={x:n,y:r},h=$r(s),f=jw(h);let m=d[f],b=d[h];const p=gs(a,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const S=f==="y"?"height":"width",E=i.reference[f]-i.floating[S]+x.mainAxis,C=i.reference[f]+i.reference[S]-x.mainAxis;m<E?m=E:m>C&&(m=C)}if(c){var y,w;const S=f==="y"?"width":"height",E=xj.has(vs(s)),C=i.reference[h]-i.floating[S]+(E&&((y=o.offset)==null?void 0:y[h])||0)+(E?0:x.crossAxis),T=i.reference[h]+i.reference[S]+(E?0:((w=o.offset)==null?void 0:w[h])||0)-(E?x.crossAxis:0);b<C?b=C:b>T&&(b=T)}return{[f]:m,[h]:b}}}},$V=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=gs(e,t),d=await kc(t,c),h=vs(s),f=nl(s),m=$r(s)==="y",{width:b,height:p}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const w=p-d.top-d.bottom,S=b-d.left-d.right,E=ci(p-d[x],w),C=ci(b-d[y],S),T=!t.middlewareData.shift;let j=E,N=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=w),T&&!f){const R=wn(d.left,0),O=wn(d.right,0),L=wn(d.top,0),W=wn(d.bottom,0);m?N=b-2*(R!==0||O!==0?R+O:wn(d.left,d.right)):j=p-2*(L!==0||W!==0?L+W:wn(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:j});const I=await o.getDimensions(a.floating);return b!==I.width||p!==I.height?{reset:{rects:!0}}:{}}}};function xf(){return typeof window<"u"}function rl(e){return Sj(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kr(e){var t;return(t=(Sj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sj(e){return xf()?e instanceof Node||e instanceof Cn(e).Node:!1}function xr(e){return xf()?e instanceof Element||e instanceof Cn(e).Element:!1}function Hr(e){return xf()?e instanceof HTMLElement||e instanceof Cn(e).HTMLElement:!1}function Qx(e){return!xf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}const FV=new Set(["inline","contents"]);function nu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!FV.has(s)}const VV=new Set(["table","td","th"]);function UV(e){return VV.has(rl(e))}const BV=[":popover-open",":modal"];function Sf(e){return BV.some(t=>{try{return e.matches(t)}catch{return!1}})}const zV=["transform","translate","scale","rotate","perspective"],qV=["transform","translate","scale","rotate","perspective","filter"],WV=["paint","layout","strict","content"];function Nw(e){const t=Ow(),n=xr(e)?Sr(e):e;return zV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||qV.some(r=>(n.willChange||"").includes(r))||WV.some(r=>(n.contain||"").includes(r))}function HV(e){let t=ui(e);for(;Hr(t)&&!Va(t);){if(Nw(t))return t;if(Sf(t))return null;t=ui(t)}return null}function Ow(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GV=new Set(["html","body","#document"]);function Va(e){return GV.has(rl(e))}function Sr(e){return Cn(e).getComputedStyle(e)}function _f(e){return xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ui(e){if(rl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qx(e)&&e.host||Kr(e);return Qx(t)?t.host:t}function _j(e){const t=ui(e);return Va(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hr(t)&&nu(t)?t:_j(t)}function Cc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=_j(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Cn(s);if(i){const a=Gg(o);return t.concat(o,o.visualViewport||[],nu(s)?s:[],a&&n?Cc(a):[])}return t.concat(s,Cc(s,[],n))}function Gg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ej(e){const t=Sr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Hr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=wh(n)!==i||wh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Rw(e){return xr(e)?e:e.contextElement}function ua(e){const t=Rw(e);if(!Hr(t))return Ur(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Ej(t);let o=(i?wh(n.width):n.width)/r,a=(i?wh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const KV=Ur(0);function kj(e){const t=Cn(e);return!Ow()||!t.visualViewport?KV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function lo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Rw(e);let o=Ur(1);t&&(r?xr(r)&&(o=ua(r)):o=ua(e));const a=JV(i,n,r)?kj(i):Ur(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Cn(i),m=r&&xr(r)?Cn(r):r;let b=f,p=Gg(b);for(;p&&r&&m!==b;){const x=ua(p),y=p.getBoundingClientRect(),w=Sr(p),S=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*x.x,E=y.top+(p.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=S,c+=E,b=Cn(p),p=Gg(b)}}return xh({width:d,height:h,x:l,y:c})}function Iw(e,t){const n=_f(e).scrollLeft;return t?t.left+n:lo(Kr(e)).left+n}function Cj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Iw(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function YV(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Kr(r),a=t?Sf(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Ur(1);const d=Ur(0),h=Hr(r);if((h||!h&&!i)&&((rl(r)!=="body"||nu(o))&&(l=_f(r)),Hr(r))){const m=lo(r);c=ua(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?Cj(o,l,!0):Ur(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function QV(e){return Array.from(e.getClientRects())}function XV(e){const t=Kr(e),n=_f(e),r=e.ownerDocument.body,s=wn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=wn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Iw(e);const a=-n.scrollTop;return Sr(r).direction==="rtl"&&(o+=wn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function ZV(e,t){const n=Cn(e),r=Kr(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Ow();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const eU=new Set(["absolute","fixed"]);function tU(e,t){const n=lo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Hr(e)?ua(e):Ur(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Xx(e,t,n){let r;if(t==="viewport")r=ZV(e,n);else if(t==="document")r=XV(Kr(e));else if(xr(t))r=tU(t,n);else{const s=kj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return xh(r)}function Tj(e,t){const n=ui(e);return n===t||!xr(n)||Va(n)?!1:Sr(n).position==="fixed"||Tj(n,t)}function nU(e,t){const n=t.get(e);if(n)return n;let r=Cc(e,[],!1).filter(a=>xr(a)&&rl(a)!=="body"),s=null;const i=Sr(e).position==="fixed";let o=i?ui(e):e;for(;xr(o)&&!Va(o);){const a=Sr(o),l=Nw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&eU.has(s.position)||nu(o)&&!l&&Tj(e,o))?r=r.filter(d=>d!==o):s=a,o=ui(o)}return t.set(e,r),r}function rU(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Sf(t)?[]:nU(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=Xx(t,d,s);return c.top=wn(h.top,c.top),c.right=ci(h.right,c.right),c.bottom=ci(h.bottom,c.bottom),c.left=wn(h.left,c.left),c},Xx(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sU(e){const{width:t,height:n}=Ej(e);return{width:t,height:n}}function iU(e,t,n){const r=Hr(t),s=Kr(t),i=n==="fixed",o=lo(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Ur(0);function c(){l.x=Iw(s)}if(r||!r&&!i)if((rl(t)!=="body"||nu(s))&&(a=_f(t)),r){const m=lo(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Cj(s,a):Ur(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Up(e){return Sr(e).position==="static"}function Zx(e,t){if(!Hr(e)||Sr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Kr(e)===n&&(n=n.ownerDocument.body),n}function jj(e,t){const n=Cn(e);if(Sf(e))return n;if(!Hr(e)){let s=ui(e);for(;s&&!Va(s);){if(xr(s)&&!Up(s))return s;s=ui(s)}return n}let r=Zx(e,t);for(;r&&UV(r)&&Up(r);)r=Zx(r,t);return r&&Va(r)&&Up(r)&&!Nw(r)?n:r||HV(e)||n}const oU=async function(e){const t=this.getOffsetParent||jj,n=this.getDimensions,r=await n(e.floating);return{reference:iU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aU(e){return Sr(e).direction==="rtl"}const lU={convertOffsetParentRelativeRectToViewportRelativeRect:YV,getDocumentElement:Kr,getClippingRect:rU,getOffsetParent:jj,getElementRects:oU,getClientRects:QV,getDimensions:sU,getScale:ua,isElement:xr,isRTL:aU};function Aj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cU(e,t){let n=null,r;const s=Kr(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=c;if(a||t(),!f||!m)return;const b=Lu(h),p=Lu(s.clientWidth-(d+f)),x=Lu(s.clientHeight-(h+m)),y=Lu(d),S={rootMargin:-b+"px "+-p+"px "+-x+"px "+-y+"px",threshold:wn(0,ci(1,l))||1};let E=!0;function C(T){const j=T[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!Aj(c,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,S)}n.observe(e)}return o(!0),i}function uU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Rw(e),d=s||i?[...c?Cc(c):[],...Cc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=c&&a?cU(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let b,p=l?lo(e):null;l&&x();function x(){const y=lo(e);p&&!Aj(p,y)&&n(),p=y,b=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const dU=MV,hU=DV,fU=OV,pU=$V,mU=RV,eS=NV,gU=LV,vU=(e,t,n)=>{const r=new Map,s={platform:lU,...n},i={...s.platform,_c:r};return PV(e,t,{...s,platform:i})};var yU=typeof document<"u",wU=function(){},jd=yU?v.useLayoutEffect:wU;function Sh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Sh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Sh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Pj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tS(e,t){const n=Pj(e);return Math.round(t*n)/n}function Bp(e){const t=v.useRef(e);return jd(()=>{t.current=e}),t}function bU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,h]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=v.useState(r);Sh(f,r)||m(r);const[b,p]=v.useState(null),[x,y]=v.useState(null),w=v.useCallback($=>{$!==T.current&&(T.current=$,p($))},[]),S=v.useCallback($=>{$!==j.current&&(j.current=$,y($))},[]),E=i||b,C=o||x,T=v.useRef(null),j=v.useRef(null),N=v.useRef(d),I=l!=null,R=Bp(l),O=Bp(s),L=Bp(c),W=v.useCallback(()=>{if(!T.current||!j.current)return;const $={placement:t,strategy:n,middleware:f};O.current&&($.platform=O.current),vU(T.current,j.current,$).then(V=>{const Y={...V,isPositioned:L.current!==!1};F.current&&!Sh(N.current,Y)&&(N.current=Y,wo.flushSync(()=>{h(Y)}))})},[f,t,n,O,L]);jd(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[c]);const F=v.useRef(!1);jd(()=>(F.current=!0,()=>{F.current=!1}),[]),jd(()=>{if(E&&(T.current=E),C&&(j.current=C),E&&C){if(R.current)return R.current(E,C,W);W()}},[E,C,W,R,I]);const J=v.useMemo(()=>({reference:T,floating:j,setReference:w,setFloating:S}),[w,S]),Q=v.useMemo(()=>({reference:E,floating:C}),[E,C]),X=v.useMemo(()=>{const $={position:n,left:0,top:0};if(!Q.floating)return $;const V=tS(Q.floating,d.x),Y=tS(Q.floating,d.y);return a?{...$,transform:"translate("+V+"px, "+Y+"px)",...Pj(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Y}},[n,a,Q.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:W,refs:J,elements:Q,floatingStyles:X}),[d,W,J,Q,X])}const xU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eS({element:r.current,padding:s}).fn(n):{}:r?eS({element:r,padding:s}).fn(n):{}}}},SU=(e,t)=>({...dU(e),options:[e,t]}),_U=(e,t)=>({...hU(e),options:[e,t]}),EU=(e,t)=>({...gU(e),options:[e,t]}),kU=(e,t)=>({...fU(e),options:[e,t]}),CU=(e,t)=>({...pU(e),options:[e,t]}),TU=(e,t)=>({...mU(e),options:[e,t]}),jU=(e,t)=>({...xU(e),options:[e,t]});var AU="Arrow",Nj=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return u.jsx(ge.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Nj.displayName=AU;var PU=Nj;function NU(e){const[t,n]=v.useState(void 0);return Et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Mw="Popper",[Oj,Ef]=Kn(Mw),[OU,Rj]=Oj(Mw),Ij=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return u.jsx(OU,{scope:t,anchor:r,onAnchorChange:s,children:n})};Ij.displayName=Mw;var Mj="PopperAnchor",Dj=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Rj(Mj,n),o=v.useRef(null),a=Te(t,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ge.div,{...s,ref:a})});Dj.displayName=Mj;var Dw="PopperContent",[RU,IU]=Oj(Dw),Lj=v.forwardRef((e,t)=>{var A,M,B,U,H,Z;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,x=Rj(Dw,n),[y,w]=v.useState(null),S=Te(t,he=>w(he)),[E,C]=v.useState(null),T=NU(E),j=(T==null?void 0:T.width)??0,N=(T==null?void 0:T.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],L=O.length>0,W={padding:R,boundary:O.filter(DU),altBoundary:L},{refs:F,floatingStyles:J,placement:Q,isPositioned:X,middlewareData:$}=bU({strategy:"fixed",placement:I,whileElementsMounted:(...he)=>uU(...he,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[SU({mainAxis:s+N,alignmentAxis:o}),l&&_U({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?EU():void 0,...W}),l&&kU({...W}),CU({...W,apply:({elements:he,rects:Ve,availableWidth:ue,availableHeight:pt})=>{const{width:Me,height:ot}=Ve.reference,kt=he.floating.style;kt.setProperty("--radix-popper-available-width",`${ue}px`),kt.setProperty("--radix-popper-available-height",`${pt}px`),kt.setProperty("--radix-popper-anchor-width",`${Me}px`),kt.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),E&&jU({element:E,padding:a}),LU({arrowWidth:j,arrowHeight:N}),f&&TU({strategy:"referenceHidden",...W})]}),[V,Y]=Vj(Q),te=St(b);Et(()=>{X&&(te==null||te())},[X,te]);const re=(A=$.arrow)==null?void 0:A.x,g=(M=$.arrow)==null?void 0:M.y,k=((B=$.arrow)==null?void 0:B.centerOffset)!==0,[_,P]=v.useState();return Et(()=>{y&&P(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:X?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_,"--radix-popper-transform-origin":[(U=$.transformOrigin)==null?void 0:U.x,(H=$.transformOrigin)==null?void 0:H.y].join(" "),...((Z=$.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(RU,{scope:n,placedSide:V,onArrowChange:C,arrowX:re,arrowY:g,shouldHideArrow:k,children:u.jsx(ge.div,{"data-side":V,"data-align":Y,...p,ref:S,style:{...p.style,animation:X?void 0:"none"}})})})});Lj.displayName=Dw;var $j="PopperArrow",MU={top:"bottom",right:"left",bottom:"top",left:"right"},Fj=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=IU($j,r),o=MU[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(PU,{...s,ref:n,style:{...s.style,display:"block"}})})});Fj.displayName=$j;function DU(e){return e!==null}var LU=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=Vj(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",p="";return c==="bottom"?(b=o?h:`${f}px`,p=`${-l}px`):c==="top"?(b=o?h:`${f}px`,p=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,p=o?h:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,p=o?h:`${m}px`),{data:{x:b,y:p}}}});function Vj(e){const[t,n="center"]=e.split("-");return[t,n]}var Uj=Ij,Bj=Dj,zj=Lj,qj=Fj,[kf,vY]=Kn("Tooltip",[Ef]),Cf=Ef(),Wj="TooltipProvider",$U=700,Kg="tooltip.open",[FU,Lw]=kf(Wj),Hj=e=>{const{__scopeTooltip:t,delayDuration:n=$U,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(FU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};Hj.displayName=Wj;var Tc="Tooltip",[VU,Tf]=kf(Tc),Gj=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=Lw(Tc,e.__scopeTooltip),c=Cf(t),[d,h]=v.useState(null),f=yr(),m=v.useRef(0),b=o??l.disableHoverableContent,p=a??l.delayDuration,x=v.useRef(!1),[y,w]=Wr({prop:r,defaultProp:s??!1,onChange:j=>{j?(l.onOpen(),document.dispatchEvent(new CustomEvent(Kg))):l.onClose(),i==null||i(j)},caller:Tc}),S=v.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),E=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,w(!0)},[w]),C=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),T=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,w(!0),m.current=0},p)},[p,w]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(Uj,{...c,children:u.jsx(VU,{scope:t,contentId:f,open:y,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayedRef.current?T():E()},[l.isOpenDelayedRef,T,E]),onTriggerLeave:v.useCallback(()=>{b?C():(window.clearTimeout(m.current),m.current=0)},[C,b]),onOpen:E,onClose:C,disableHoverableContent:b,children:n})})};Gj.displayName=Tc;var Jg="TooltipTrigger",Kj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Tf(Jg,n),i=Lw(Jg,n),o=Cf(n),a=v.useRef(null),l=Te(t,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(Bj,{asChild:!0,...o,children:u.jsx(ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:oe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:oe(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:oe(e.onBlur,s.onClose),onClick:oe(e.onClick,s.onClose)})})});Kj.displayName=Jg;var UU="TooltipPortal",[yY,BU]=kf(UU,{forceMount:void 0}),Ua="TooltipContent",Jj=v.forwardRef((e,t)=>{const n=BU(Ua,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Tf(Ua,e.__scopeTooltip);return u.jsx(Jn,{present:r||o.open,children:o.disableHoverableContent?u.jsx(Yj,{side:s,...i,ref:t}):u.jsx(zU,{side:s,...i,ref:t})})}),zU=v.forwardRef((e,t)=>{const n=Tf(Ua,e.__scopeTooltip),r=Lw(Ua,e.__scopeTooltip),s=v.useRef(null),i=Te(t,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,f=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((b,p)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},w=KU(y,x.getBoundingClientRect()),S=JU(y,w),E=YU(p.getBoundingClientRect()),C=XU([...S,...E]);a(C),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(l&&d){const b=x=>m(x,d),p=x=>m(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",p)}}},[l,d,m,f]),v.useEffect(()=>{if(o){const b=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},w=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!QU(y,o);w?f():S&&(f(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,f]),u.jsx(Yj,{...e,ref:i})}),[qU,WU]=kf(Tc,{isInside:!1}),HU=NT("TooltipContent"),Yj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Tf(Ua,n),c=Cf(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(Kg,d),()=>document.removeEventListener(Kg,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(eu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(zj,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(HU,{children:r}),u.jsx(qU,{scope:n,isInside:!0,children:u.jsx(p$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Jj.displayName=Ua;var Qj="TooltipArrow",GU=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Cf(n);return WU(Qj,n).isInside?null:u.jsx(qj,{...s,...r,ref:t})});GU.displayName=Qj;function KU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function JU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function YU(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function QU(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-c)*(r-d)/(f-d)+c&&(s=!s)}return s}function XU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZU(t)}function ZU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var e4=Hj,t4=Gj,n4=Kj,Xj=Jj;const Yg=e4,$u=t4,Fu=n4,Nl=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(Xj,{ref:r,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Nl.displayName=Xj.displayName;var jf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Af=typeof window>"u"||"Deno"in globalThis;function cr(){}function r4(e,t){return typeof e=="function"?e(t):e}function s4(e){return typeof e=="number"&&e>=0&&e!==1/0}function i4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qg(e,t){return typeof e=="function"?e(t):e}function o4(e,t){return typeof e=="function"?e(t):e}function nS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==$w(o,t.options))return!1}else if(!Ac(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function rS(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(jc(t.options.mutationKey)!==jc(i))return!1}else if(!Ac(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function $w(e,t){return((t==null?void 0:t.queryKeyHashFn)||jc)(e)}function jc(e){return JSON.stringify(e,(t,n)=>Xg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ac(e[n],t[n])):!1}function Zj(e,t){if(e===t)return e;const n=sS(e)&&sS(t);if(n||Xg(e)&&Xg(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=Zj(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function sS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xg(e){if(!iS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!iS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iS(e){return Object.prototype.toString.call(e)==="[object Object]"}function a4(e){return new Promise(t=>{setTimeout(t,e)})}function l4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Zj(e,t):t}function c4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function u4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Fw=Symbol();function eA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qi,Bs,Sa,ok,d4=(ok=class extends jf{constructor(){super();Oe(this,qi);Oe(this,Bs);Oe(this,Sa);Se(this,Sa,t=>{if(!Af&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Bs)||this.setEventListener(z(this,Sa))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Bs))==null||t.call(this),Se(this,Bs,void 0))}setEventListener(t){var n;Se(this,Sa,t),(n=z(this,Bs))==null||n.call(this),Se(this,Bs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,qi)!==t&&(Se(this,qi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,qi)=="boolean"?z(this,qi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qi=new WeakMap,Bs=new WeakMap,Sa=new WeakMap,ok),tA=new d4,_a,zs,Ea,ak,h4=(ak=class extends jf{constructor(){super();Oe(this,_a,!0);Oe(this,zs);Oe(this,Ea);Se(this,Ea,t=>{if(!Af&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,zs)||this.setEventListener(z(this,Ea))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,zs))==null||t.call(this),Se(this,zs,void 0))}setEventListener(t){var n;Se(this,Ea,t),(n=z(this,zs))==null||n.call(this),Se(this,zs,t(this.setOnline.bind(this)))}setOnline(t){z(this,_a)!==t&&(Se(this,_a,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,_a)}},_a=new WeakMap,zs=new WeakMap,Ea=new WeakMap,ak),_h=new h4;function f4(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function p4(e){return Math.min(1e3*2**e,3e4)}function nA(e){return(e??"online")==="online"?_h.isOnline():!0}var rA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zp(e){return e instanceof rA}function sA(e){let t=!1,n=0,r=!1,s;const i=f4(),o=p=>{var x;r||(f(new rA(p)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>tA.isFocused()&&(e.networkMode==="always"||_h.isOnline())&&e.canRun(),d=()=>nA(e.networkMode)&&e.canRun(),h=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),i.resolve(p))},f=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var x;s=y=>{(r||c())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var T;if(r)return;const w=e.retry??(Af?0:3),S=e.retryDelay??p4,E=typeof S=="function"?S(n,y):S,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!C){f(y);return}n++,(T=e.onFail)==null||T.call(e,n,y),a4(E).then(()=>c()?void 0:m()).then(()=>{t?f(y):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():m().then(b),i)}}var m4=e=>setTimeout(e,0);function g4(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=m4;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Xt=g4(),Wi,lk,iA=(lk=class{constructor(){Oe(this,Wi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s4(this.gcTime)&&Se(this,Wi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Af?1/0:5*60*1e3))}clearGcTimeout(){z(this,Wi)&&(clearTimeout(z(this,Wi)),Se(this,Wi,void 0))}},Wi=new WeakMap,lk),ka,Hi,Rn,Gi,Ut,Hc,Ki,dr,Xr,ck,v4=(ck=class extends iA{constructor(t){super();Oe(this,dr);Oe(this,ka);Oe(this,Hi);Oe(this,Rn);Oe(this,Gi);Oe(this,Ut);Oe(this,Hc);Oe(this,Ki);Se(this,Ki,!1),Se(this,Hc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Gi,t.client),Se(this,Rn,z(this,Gi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,ka,w4(this.options)),this.state=t.state??z(this,ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Ut))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Hc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Rn).remove(this)}setData(t,n){const r=l4(this.state.data,t,this.options);return $t(this,dr,Xr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){$t(this,dr,Xr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=z(this,Ut))==null?void 0:r.promise;return(s=z(this,Ut))==null||s.cancel(t),n?n.then(cr).catch(cr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ka))}isActive(){return this.observers.some(t=>o4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!i4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,Ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Rn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,Ut)&&(z(this,Ki)?z(this,Ut).cancel({revert:!0}):z(this,Ut).cancelRetry()),this.scheduleGc()),z(this,Rn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,dr,Xr).call(this,{type:"invalidate"})}fetch(t,n){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,Ut))return z(this,Ut).continueRetry(),z(this,Ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Se(this,Ki,!0),r.signal)})},i=()=>{const f=eA(this.options,n),b=(()=>{const p={client:z(this,Gi),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return Se(this,Ki,!1),this.options.persister?this.options.persister(f,b,this):f(b)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,Gi),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),Se(this,Hi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&$t(this,dr,Xr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,b,p,x;zp(f)&&f.silent||$t(this,dr,Xr).call(this,{type:"error",error:f}),zp(f)||((b=(m=z(this,Rn).config).onError)==null||b.call(m,f,this),(x=(p=z(this,Rn).config).onSettled)==null||x.call(p,this.state.data,f,this)),this.scheduleGc()};return Se(this,Ut,sA({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,b,p,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(b=(m=z(this,Rn).config).onSuccess)==null||b.call(m,f,this),(x=(p=z(this,Rn).config).onSettled)==null||x.call(p,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{$t(this,dr,Xr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{$t(this,dr,Xr).call(this,{type:"pause"})},onContinue:()=>{$t(this,dr,Xr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Ut).start()}},ka=new WeakMap,Hi=new WeakMap,Rn=new WeakMap,Gi=new WeakMap,Ut=new WeakMap,Hc=new WeakMap,Ki=new WeakMap,dr=new WeakSet,Xr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...y4(r.data,this.options),fetchMeta:t.meta??null};case"success":return Se(this,Hi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return zp(s)&&s.revert&&z(this,Hi)?{...z(this,Hi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,Rn).notify({query:this,type:"updated",action:t})})},ck);function y4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function w4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nr,uk,b4=(uk=class extends jf{constructor(t={}){super();Oe(this,Nr);this.config=t,Se(this,Nr,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??$w(s,n);let o=this.get(i);return o||(o=new v4({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){z(this,Nr).has(t.queryHash)||(z(this,Nr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,Nr).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,Nr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Nr).get(t)}getAll(){return[...z(this,Nr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>nS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>nS(t,r)):n}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nr=new WeakMap,uk),Or,Jt,Ji,Rr,As,dk,x4=(dk=class extends iA{constructor(t){super();Oe(this,Rr);Oe(this,Or);Oe(this,Jt);Oe(this,Ji);this.mutationId=t.mutationId,Se(this,Jt,t.mutationCache),Se(this,Or,[]),this.state=t.state||S4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Or).includes(t)||(z(this,Or).push(t),this.clearGcTimeout(),z(this,Jt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,Or,z(this,Or).filter(n=>n!==t)),this.scheduleGc(),z(this,Jt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Or).length||(this.state.status==="pending"?this.scheduleGc():z(this,Jt).remove(this))}continue(){var t;return((t=z(this,Ji))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,c,d,h,f,m,b,p,x,y,w,S,E,C,T,j,N;const n=()=>{$t(this,Rr,As).call(this,{type:"continue"})};Se(this,Ji,sA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{$t(this,Rr,As).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{$t(this,Rr,As).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Jt).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Ji).canStart();try{if(r)n();else{$t(this,Rr,As).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=z(this,Jt).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));R!==this.state.context&&$t(this,Rr,As).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const I=await z(this,Ji).start();return await((d=(c=z(this,Jt).config).onSuccess)==null?void 0:d.call(c,I,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,I,t,this.state.context)),await((b=(m=z(this,Jt).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,I,null,t,this.state.context)),$t(this,Rr,As).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(y=z(this,Jt).config).onError)==null?void 0:w.call(y,I,t,this.state.context,this)),await((E=(S=this.options).onError)==null?void 0:E.call(S,I,t,this.state.context)),await((T=(C=z(this,Jt).config).onSettled)==null?void 0:T.call(C,void 0,I,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,I,t,this.state.context)),I}finally{$t(this,Rr,As).call(this,{type:"error",error:I})}}finally{z(this,Jt).runNext(this)}}},Or=new WeakMap,Jt=new WeakMap,Ji=new WeakMap,Rr=new WeakSet,As=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Xt.batch(()=>{z(this,Or).forEach(r=>{r.onMutationUpdate(t)}),z(this,Jt).notify({mutation:this,type:"updated",action:t})})},dk);function S4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var is,hr,Gc,hk,_4=(hk=class extends jf{constructor(t={}){super();Oe(this,is);Oe(this,hr);Oe(this,Gc);this.config=t,Se(this,is,new Set),Se(this,hr,new Map),Se(this,Gc,0)}build(t,n,r){const s=new x4({mutationCache:this,mutationId:++mu(this,Gc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){z(this,is).add(t);const n=Vu(t);if(typeof n=="string"){const r=z(this,hr).get(n);r?r.push(t):z(this,hr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,is).delete(t)){const n=Vu(t);if(typeof n=="string"){const r=z(this,hr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&z(this,hr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Vu(t);if(typeof n=="string"){const r=z(this,hr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Vu(t);if(typeof n=="string"){const s=(r=z(this,hr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{z(this,is).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,is).clear(),z(this,hr).clear()})}getAll(){return Array.from(z(this,is))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rS(n,r))}findAll(t={}){return this.getAll().filter(n=>rS(t,n))}notify(t){Xt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(t.map(n=>n.continue().catch(cr))))}},is=new WeakMap,hr=new WeakMap,Gc=new WeakMap,hk);function Vu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function oS(e){return{onFetch:(t,n)=>{var d,h,f,m,b;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=eA(t.options,t.fetchOptions),w=async(S,E,C)=>{if(p)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const j=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:E,direction:C?"backward":"forward",meta:t.options.meta};return x(O),O})(),N=await y(j),{maxPages:I}=t.options,R=C?u4:c4;return{pages:R(S.pages,N,I),pageParams:R(S.pageParams,E,I)}};if(s&&i.length){const S=s==="backward",E=S?E4:aS,C={pages:i,pageParams:o},T=E(r,C);a=await w(C,T,S)}else{const S=e??i.length;do{const E=l===0?o[0]??r.initialPageParam:aS(r,a);if(l>0&&E==null)break;a=await w(a,E),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function aS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function E4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var lt,qs,Ws,Ca,Ta,Hs,ja,Aa,fk,k4=(fk=class{constructor(e={}){Oe(this,lt);Oe(this,qs);Oe(this,Ws);Oe(this,Ca);Oe(this,Ta);Oe(this,Hs);Oe(this,ja);Oe(this,Aa);Se(this,lt,e.queryCache||new b4),Se(this,qs,e.mutationCache||new _4),Se(this,Ws,e.defaultOptions||{}),Se(this,Ca,new Map),Se(this,Ta,new Map),Se(this,Hs,0)}mount(){mu(this,Hs)._++,z(this,Hs)===1&&(Se(this,ja,tA.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,lt).onFocus())})),Se(this,Aa,_h.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,lt).onOnline())})))}unmount(){var e,t;mu(this,Hs)._--,z(this,Hs)===0&&((e=z(this,ja))==null||e.call(this),Se(this,ja,void 0),(t=z(this,Aa))==null||t.call(this),Se(this,Aa,void 0))}isFetching(e){return z(this,lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,qs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,lt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,lt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return z(this,lt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=z(this,lt).get(r.queryHash),i=s==null?void 0:s.state.data,o=r4(t,i);if(o!==void 0)return z(this,lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Xt.batch(()=>z(this,lt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,lt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,lt);Xt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,lt);return Xt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Xt.batch(()=>z(this,lt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(cr).catch(cr)}invalidateQueries(e,t={}){return Xt.batch(()=>(z(this,lt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Xt.batch(()=>z(this,lt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(cr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(cr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,lt).build(this,t);return n.isStaleByTime(Qg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cr).catch(cr)}fetchInfiniteQuery(e){return e.behavior=oS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cr).catch(cr)}ensureInfiniteQueryData(e){return e.behavior=oS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _h.isOnline()?z(this,qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,lt)}getMutationCache(){return z(this,qs)}getDefaultOptions(){return z(this,Ws)}setDefaultOptions(e){Se(this,Ws,e)}setQueryDefaults(e,t){z(this,Ca).set(jc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,Ca).values()],n={};return t.forEach(r=>{Ac(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){z(this,Ta).set(jc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Ta).values()],n={};return t.forEach(r=>{Ac(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Ws).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$w(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Ws).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,lt).clear(),z(this,qs).clear()}},lt=new WeakMap,qs=new WeakMap,Ws=new WeakMap,Ca=new WeakMap,Ta=new WeakMap,Hs=new WeakMap,ja=new WeakMap,Aa=new WeakMap,fk),C4=v.createContext(void 0),T4=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(C4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pc.apply(this,arguments)}var Js;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Js||(Js={}));const lS="popstate";function j4(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Zg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Eh(s)}return P4(t,n,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A4(){return Math.random().toString(36).substr(2,8)}function cS(e,t){return{usr:e.state,key:e.key,idx:t}}function Zg(e,t,n,r){return n===void 0&&(n=null),Pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sl(t):t,{state:n,key:t&&t.key||r||A4()})}function Eh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function P4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Js.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Pc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Js.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:a,location:p.location,delta:y})}function f(x,y){a=Js.Push;let w=Zg(p.location,x,y);c=d()+1;let S=cS(w,c),E=p.createHref(w);try{o.pushState(S,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&l&&l({action:a,location:p.location,delta:1})}function m(x,y){a=Js.Replace;let w=Zg(p.location,x,y);c=d();let S=cS(w,c),E=p.createHref(w);o.replaceState(S,"",E),i&&l&&l({action:a,location:p.location,delta:0})}function b(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:Eh(x);return w=w.replace(/ $/,"%20"),ft(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(lS,h),l=x,()=>{s.removeEventListener(lS,h),l=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return o.go(x)}};return p}var uS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uS||(uS={}));function N4(e,t,n){return n===void 0&&(n="/"),O4(e,t,n,!1)}function O4(e,t,n,r){let s=typeof t=="string"?sl(t):t,i=Vw(s.pathname||"/",n);if(i==null)return null;let o=aA(e);R4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=q4(i);a=B4(o[l],c,r)}return a}function aA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ii([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),aA(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:V4(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of lA(i.path))s(i,o,l)}),t}function lA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=lA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function R4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:U4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const I4=/^:[\w-]+$/,M4=3,D4=2,L4=1,$4=10,F4=-2,dS=e=>e==="*";function V4(e,t){let n=e.split("/"),r=n.length;return n.some(dS)&&(r+=F4),t&&(r+=D4),n.filter(s=>!dS(s)).reduce((s,i)=>s+(I4.test(i)?M4:i===""?L4:$4),r)}function U4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function B4(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=hS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=hS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ii([i,h.pathname]),pathnameBase:K4(ii([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ii([i,h.pathnameBase]))}return o}function hS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=z4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const b=a[h];return m&&!b?c[f]=void 0:c[f]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function z4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),oA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function q4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function W4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?sl(e):e;return{pathname:n?n.startsWith("/")?n:H4(n,t):t,search:J4(r),hash:Y4(s)}}function H4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Uw(e,t){let n=G4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bw(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=sl(e):(s=Pc({},e),ft(!s.pathname||!s.pathname.includes("?"),qp("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),qp("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),qp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=W4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ii=e=>e.join("/").replace(/\/\/+/g,"/"),K4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Y4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Q4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cA=["post","put","patch","delete"];new Set(cA);const X4=["get",...cA];new Set(X4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nc.apply(this,arguments)}const zw=v.createContext(null),Z4=v.createContext(null),yi=v.createContext(null),Pf=v.createContext(null),Jr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),uA=v.createContext(null);function eB(e,t){let{relative:n}=t===void 0?{}:t;il()||ft(!1);let{basename:r,navigator:s}=v.useContext(yi),{hash:i,pathname:o,search:a}=hA(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ii([r,o])),s.createHref({pathname:l,search:a,hash:i})}function il(){return v.useContext(Pf)!=null}function wi(){return il()||ft(!1),v.useContext(Pf).location}function dA(e){v.useContext(yi).static||v.useLayoutEffect(e)}function ol(){let{isDataRoute:e}=v.useContext(Jr);return e?mB():tB()}function tB(){il()||ft(!1);let e=v.useContext(zw),{basename:t,future:n,navigator:r}=v.useContext(yi),{matches:s}=v.useContext(Jr),{pathname:i}=wi(),o=JSON.stringify(Uw(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return dA(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Bw(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ii([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const nB=v.createContext(null);function rB(e){let t=v.useContext(Jr).outlet;return t&&v.createElement(nB.Provider,{value:e},t)}function qw(){let{matches:e}=v.useContext(Jr),t=e[e.length-1];return t?t.params:{}}function hA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(yi),{matches:s}=v.useContext(Jr),{pathname:i}=wi(),o=JSON.stringify(Uw(s,r.v7_relativeSplatPath));return v.useMemo(()=>Bw(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function sB(e,t){return iB(e,t)}function iB(e,t,n,r){il()||ft(!1);let{navigator:s}=v.useContext(yi),{matches:i}=v.useContext(Jr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=wi(),d;if(t){var h;let x=typeof t=="string"?sl(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ft(!1),d=x}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=N4(e,{pathname:m}),p=uB(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ii([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ii([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&p?v.createElement(Pf.Provider,{value:{location:Nc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Js.Pop}},p):p}function oB(){let e=pB(),t=Q4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const aB=v.createElement(oB,null);class lB extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Jr.Provider,{value:this.props.routeContext},v.createElement(uA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cB(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(zw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Jr.Provider,{value:t},r)}function uB(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ft(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,b=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,b=!1,p=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,p=h.route.errorElement||aB,l&&(c<0&&f===0?(b=!0,x=null):c===f&&(b=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let S;return m?S=p:b?S=x:h.route.Component?S=v.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,v.createElement(cB,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(lB,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var fA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fA||{}),kh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kh||{});function dB(e){let t=v.useContext(zw);return t||ft(!1),t}function hB(e){let t=v.useContext(Z4);return t||ft(!1),t}function fB(e){let t=v.useContext(Jr);return t||ft(!1),t}function pA(e){let t=fB(),n=t.matches[t.matches.length-1];return n.route.id||ft(!1),n.route.id}function pB(){var e;let t=v.useContext(uA),n=hB(kh.UseRouteError),r=pA(kh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mB(){let{router:e}=dB(fA.UseNavigateStable),t=pA(kh.UseNavigateStable),n=v.useRef(!1);return dA(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Nc({fromRouteId:t},i)))},[e,t])}function gB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vB(e){let{to:t,replace:n,state:r,relative:s}=e;il()||ft(!1);let{future:i,static:o}=v.useContext(yi),{matches:a}=v.useContext(Jr),{pathname:l}=wi(),c=ol(),d=Bw(t,Uw(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function yB(e){return rB(e.context)}function gn(e){ft(!1)}function wB(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Js.Pop,navigator:i,static:o=!1,future:a}=e;il()&&ft(!1);let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Nc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=sl(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:b="default"}=r,p=v.useMemo(()=>{let x=Vw(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:b},navigationType:s}},[l,d,h,f,m,b,s]);return p==null?null:v.createElement(yi.Provider,{value:c},v.createElement(Pf.Provider,{children:n,value:p}))}function fS(e){let{children:t,location:n}=e;return sB(ev(t),n)}new Promise(()=>{});function ev(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,ev(r.props.children,i));return}r.type!==gn&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ev(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tv.apply(this,arguments)}function bB(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function xB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SB(e,t){return e.button===0&&(!t||t==="_self")&&!xB(e)}function nv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function _B(e,t){let n=nv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const EB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kB="6";try{window.__reactRouterVersion=kB}catch{}const CB="startTransition",pS=jy[CB];function TB(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=j4({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&pS?pS(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>gB(r),[r]),v.createElement(wB,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const jB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,f=bB(t,EB),{basename:m}=v.useContext(yi),b,p=!1;if(typeof c=="string"&&AB.test(c)&&(b=c,jB))try{let S=new URL(window.location.href),E=c.startsWith("//")?new URL(S.protocol+c):new URL(c),C=Vw(E.pathname,m);E.origin===S.origin&&C!=null?c=C+E.search+E.hash:p=!0}catch{}let x=eB(c,{relative:s}),y=PB(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function w(S){r&&r(S),S.defaultPrevented||y(S)}return v.createElement("a",tv({},f,{href:b||x,onClick:p||i?r:w,ref:n,target:l}))});var mS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mS||(mS={}));var gS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gS||(gS={}));function PB(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=ol(),c=wi(),d=hA(e,{relative:o});return v.useCallback(h=>{if(SB(h,n)){h.preventDefault();let f=r!==void 0?r:Eh(c)===Eh(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function NB(e){let t=v.useRef(nv(e)),n=v.useRef(!1),r=wi(),s=v.useMemo(()=>_B(r.search,n.current?null:t.current),[r.search]),i=ol(),o=v.useCallback((a,l)=>{const c=nv(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const Ww=bf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?W2:"button";return u.jsx(o,{className:ce(Ww({variant:t,size:n,className:e})),ref:i,...s})});fe.displayName="Button";const Hw=v.createContext({});function Gw(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kw=typeof window<"u",mA=Kw?v.useLayoutEffect:v.useEffect,Nf=v.createContext(null);function Jw(e,t){e.indexOf(t)===-1&&e.push(t)}function Yw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gr=(e,t,n)=>n>t?t:n<e?e:n;let Of=()=>{},Ba=()=>{};const ys={},gA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function vA(e){return typeof e=="object"&&e!==null}const yA=e=>/^0[^.\s]+$/u.test(e);function Qw(e){let t;return()=>(t===void 0&&(t=e()),t)}const zn=e=>e,OB=(e,t)=>n=>t(e(n)),ru=(...e)=>e.reduce(OB),Oc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Xw{constructor(){this.subscriptions=[]}add(t){return Jw(this.subscriptions,t),()=>Yw(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Br=e=>e*1e3,Vn=e=>e/1e3;function wA(e,t){return t?e*(1e3/t):0}const bA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,RB=1e-7,IB=12;function MB(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=bA(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>RB&&++a<IB);return o}function su(e,t,n,r){if(e===t&&n===r)return zn;const s=i=>MB(i,0,1,e,n);return i=>i===0||i===1?i:bA(s(i),t,r)}const xA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,SA=e=>t=>1-e(1-t),_A=su(.33,1.53,.69,.99),Zw=SA(_A),EA=xA(Zw),kA=e=>(e*=2)<1?.5*Zw(e):.5*(2-Math.pow(2,-10*(e-1))),e0=e=>1-Math.sin(Math.acos(e)),CA=SA(e0),TA=xA(e0),DB=su(.42,0,1,1),LB=su(0,0,.58,1),jA=su(.42,0,.58,1),$B=e=>Array.isArray(e)&&typeof e[0]!="number",AA=e=>Array.isArray(e)&&typeof e[0]=="number",vS={linear:zn,easeIn:DB,easeInOut:jA,easeOut:LB,circIn:e0,circInOut:TA,circOut:CA,backIn:Zw,backInOut:EA,backOut:_A,anticipate:kA},FB=e=>typeof e=="string",yS=e=>{if(AA(e)){Ba(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return su(t,n,r,s)}else if(FB(e))return Ba(vS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),vS[e];return e},Uu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],wS={value:null,addProjectionMetrics:null};function VB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&s?n:r;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&wS.value&&wS.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const UB=40;function PA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Uu.reduce((S,E)=>(S[E]=VB(i,t?E:void 0),S),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:f,render:m,postRender:b}=o,p=()=>{const S=ys.useManualTiming?s.timestamp:performance.now();n=!1,ys.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,UB),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),m.process(s),b.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Uu.reduce((S,E)=>{const C=o[E];return S[E]=(T,j=!1,N=!1)=>(n||x(),C.schedule(T,j,N)),S},{}),cancel:S=>{for(let E=0;E<Uu.length;E++)o[Uu[E]].cancel(S)},state:s,steps:o}}const{schedule:Ye,cancel:di,state:Mt,steps:Wp}=PA(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Ad;function BB(){Ad=void 0}const nn={now:()=>(Ad===void 0&&nn.set(Mt.isProcessing||ys.useManualTiming?Mt.timestamp:performance.now()),Ad),set:e=>{Ad=e,queueMicrotask(BB)}},NA=e=>t=>typeof t=="string"&&t.startsWith(e),OA=NA("--"),zB=NA("var(--"),t0=e=>zB(e)?qB.test(e.split("/*")[0].trim()):!1,qB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function bS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Rc={...al,transform:e=>Gr(0,1,e)},Bu={...al,default:1},Ql=e=>Math.round(e*1e5)/1e5,n0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WB(e){return e==null}const HB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r0=(e,t)=>n=>!!(typeof n=="string"&&HB.test(n)&&n.startsWith(e)||t&&!WB(n)&&Object.prototype.hasOwnProperty.call(n,t)),RA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(n0);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},GB=e=>Gr(0,255,e),Hp={...al,transform:e=>Math.round(GB(e))},Vi={test:r0("rgb","red"),parse:RA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Hp.transform(e)+", "+Hp.transform(t)+", "+Hp.transform(n)+", "+Ql(Rc.transform(r))+")"};function KB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const rv={test:r0("#"),parse:KB,transform:Vi.transform},iu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ps=iu("deg"),zr=iu("%"),ne=iu("px"),JB=iu("vh"),YB=iu("vw"),xS={...zr,parse:e=>zr.parse(e)/100,transform:e=>zr.transform(e*100)},Qo={test:r0("hsl","hue"),parse:RA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+zr.transform(Ql(t))+", "+zr.transform(Ql(n))+", "+Ql(Rc.transform(r))+")"},gt={test:e=>Vi.test(e)||rv.test(e)||Qo.test(e),parse:e=>Vi.test(e)?Vi.parse(e):Qo.test(e)?Qo.parse(e):rv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vi.transform(e):Qo.transform(e),getAnimatableNone:e=>{const t=gt.parse(e);return t.alpha=0,gt.transform(t)}},QB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(n0))==null?void 0:t.length)||0)+(((n=e.match(QB))==null?void 0:n.length)||0)>0}const IA="number",MA="color",ZB="var",e3="var(",SS="${}",t3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ic(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(t3,l=>(gt.test(l)?(r.color.push(i),s.push(MA),n.push(gt.parse(l))):l.startsWith(e3)?(r.var.push(i),s.push(ZB),n.push(l)):(r.number.push(i),s.push(IA),n.push(parseFloat(l))),++i,SS)).split(SS);return{values:n,split:a,indexes:r,types:s}}function DA(e){return Ic(e).values}function LA(e){const{split:t,types:n}=Ic(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===IA?i+=Ql(s[o]):a===MA?i+=gt.transform(s[o]):i+=s[o]}return i}}const n3=e=>typeof e=="number"?0:gt.test(e)?gt.getAnimatableNone(e):e;function r3(e){const t=DA(e);return LA(e)(t.map(n3))}const hi={test:XB,parse:DA,createTransformer:LA,getAnimatableNone:r3};function Gp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function s3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Gp(l,a,e+1/3),i=Gp(l,a,e),o=Gp(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ch(e,t){return n=>n>0?t:e}const rt=(e,t,n)=>e+(t-e)*n,Kp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},i3=[rv,Vi,Qo],o3=e=>i3.find(t=>t.test(e));function _S(e){const t=o3(e);if(Of(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Qo&&(n=s3(n)),n}const ES=(e,t)=>{const n=_S(e),r=_S(t);if(!n||!r)return Ch(e,t);const s={...n};return i=>(s.red=Kp(n.red,r.red,i),s.green=Kp(n.green,r.green,i),s.blue=Kp(n.blue,r.blue,i),s.alpha=rt(n.alpha,r.alpha,i),Vi.transform(s))},sv=new Set(["none","hidden"]);function a3(e,t){return sv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function l3(e,t){return n=>rt(e,t,n)}function s0(e){return typeof e=="number"?l3:typeof e=="string"?t0(e)?Ch:gt.test(e)?ES:d3:Array.isArray(e)?$A:typeof e=="object"?gt.test(e)?ES:c3:Ch}function $A(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>s0(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function c3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=s0(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function u3(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const d3=(e,t)=>{const n=hi.createTransformer(t),r=Ic(e),s=Ic(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?sv.has(e)&&!s.values.length||sv.has(t)&&!r.values.length?a3(e,t):ru($A(u3(r,s),s.values),n):(Of(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Ch(e,t))};function FA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?rt(e,t,n):s0(e)(e,t)}const h3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ye.update(t,n),stop:()=>di(t),now:()=>Mt.isProcessing?Mt.timestamp:nn.now()}},VA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Th=2e4;function i0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Th;)t+=n,r=e.next(t);return t>=Th?1/0:t}function f3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(i0(r),Th);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Vn(s)}}const p3=5;function UA(e,t,n){const r=Math.max(t-p3,0);return wA(n-e(r),t-r)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jp=.001;function m3({duration:e=tt.duration,bounce:t=tt.bounce,velocity:n=tt.velocity,mass:r=tt.mass}){let s,i;Of(e<=Br(tt.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=Gr(tt.minDamping,tt.maxDamping,o),e=Gr(tt.minDuration,tt.maxDuration,Vn(e)),o<1?(s=c=>{const d=c*o,h=d*e,f=d-n,m=iv(c,o),b=Math.exp(-h);return Jp-f/m*b},i=c=>{const h=c*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-h),p=iv(Math.pow(c,2),o);return(-s(c)+Jp>0?-1:1)*((f-m)*b)/p}):(s=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-Jp+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=v3(s,i,a);if(e=Br(e),isNaN(l))return{stiffness:tt.stiffness,damping:tt.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const g3=12;function v3(e,t,n){let r=n;for(let s=1;s<g3;s++)r=r-e(r)/t(r);return r}function iv(e,t){return e*Math.sqrt(1-t*t)}const y3=["duration","bounce"],w3=["stiffness","damping","mass"];function kS(e,t){return t.some(n=>e[n]!==void 0)}function b3(e){let t={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...e};if(!kS(e,w3)&&kS(e,y3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Gr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:tt.mass,stiffness:s,damping:i}}else{const n=m3(e);t={...t,...n,mass:tt.mass},t.isResolvedFromDuration=!0}return t}function jh(e=tt.visualDuration,t=tt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=b3({...n,velocity:-Vn(n.velocity||0)}),b=f||0,p=c/(2*Math.sqrt(l*d)),x=o-i,y=Vn(Math.sqrt(l/d)),w=Math.abs(x)<5;r||(r=w?tt.restSpeed.granular:tt.restSpeed.default),s||(s=w?tt.restDelta.granular:tt.restDelta.default);let S;if(p<1){const C=iv(y,p);S=T=>{const j=Math.exp(-p*y*T);return o-j*((b+p*y*x)/C*Math.sin(C*T)+x*Math.cos(C*T))}}else if(p===1)S=C=>o-Math.exp(-y*C)*(x+(b+y*x)*C);else{const C=y*Math.sqrt(p*p-1);S=T=>{const j=Math.exp(-p*y*T),N=Math.min(C*T,300);return o-j*((b+p*y*x)*Math.sinh(N)+C*x*Math.cosh(N))/C}}const E={calculatedDuration:m&&h||null,next:C=>{const T=S(C);if(m)a.done=C>=h;else{let j=C===0?b:0;p<1&&(j=C===0?Br(b):UA(S,C,T));const N=Math.abs(j)<=r,I=Math.abs(o-T)<=s;a.done=N&&I}return a.value=a.done?o:T,a},toString:()=>{const C=Math.min(i0(E),Th),T=VA(j=>E.next(C*j).value,C,30);return C+"ms "+T},toTransition:()=>{}};return E}jh.applyToOptions=e=>{const t=f3(e,100,jh);return e.ease=t.ease,e.duration=Br(t.duration),e.type="keyframes",e};function ov({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=N=>a!==void 0&&N<a||l!==void 0&&N>l,b=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let p=n*t;const x=h+p,y=o===void 0?x:o(x);y!==x&&(p=y-h);const w=N=>-p*Math.exp(-N/r),S=N=>y+w(N),E=N=>{const I=w(N),R=S(N);f.done=Math.abs(I)<=c,f.value=f.done?y:R};let C,T;const j=N=>{m(f.value)&&(C=N,T=jh({keyframes:[f.value,b(f.value)],velocity:UA(S,N,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:N=>{let I=!1;return!T&&C===void 0&&(I=!0,E(N),j(N)),C!==void 0&&N>=C?T.next(N-C):(!I&&E(N),f)}}}function x3(e,t,n){const r=[],s=n||ys.mix||FA,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||zn:t;a=ru(l,a)}r.push(a)}return r}function S3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Ba(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=x3(t,r,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Oc(e[h],e[h+1],d);return a[h](f)};return n?d=>c(Gr(e[0],e[i-1],d)):c}function _3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Oc(0,t,r);e.push(rt(n,1,s))}}function E3(e){const t=[0];return _3(t,e.length-1),t}function k3(e,t){return e.map(n=>n*t)}function C3(e,t){return e.map(()=>t||jA).splice(0,e.length-1)}function Xl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=$B(r)?r.map(yS):yS(r),i={done:!1,value:t[0]},o=k3(n&&n.length===t.length?n:E3(t),e),a=S3(o,t,{ease:Array.isArray(s)?s:C3(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const T3=e=>e!==null;function o0(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(T3),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const j3={decay:ov,inertia:ov,tween:Xl,keyframes:Xl,spring:jh};function BA(e){typeof e.type=="string"&&(e.type=j3[e.type])}class a0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const A3=e=>e/100;class l0 extends a0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==nn.now()&&this.tick(nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BA(t);const{type:n=Xl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Xl;l!==Xl&&typeof a[0]!="number"&&(this.mixKeyframes=ru(A3,FA(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=i0(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:b,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,E=r;if(h){const N=Math.min(this.currentTime,s)/a;let I=Math.floor(N),R=N%1;!R&&N>=1&&(R=1),R===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(f==="reverse"?(R=1-R,m&&(R-=m/a)):f==="mirror"&&(E=o)),S=Gr(0,1,R)*a}const C=w?{done:!1,value:d[0]}:E.next(S);i&&(C.value=i(C.value));let{done:T}=C;!w&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return j&&b!==ov&&(C.value=o0(d,this.options,x,this.speed)),p&&p(C.value),j&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return Vn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vn(t)}get time(){return Vn(this.currentTime)}set time(t){var n;t=Br(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(nn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=h3,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function P3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ui=e=>e*180/Math.PI,av=e=>{const t=Ui(Math.atan2(e[1],e[0]));return lv(t)},N3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:av,rotateZ:av,skewX:e=>Ui(Math.atan(e[1])),skewY:e=>Ui(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},lv=e=>(e=e%360,e<0&&(e+=360),e),CS=av,TS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),O3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TS,scaleY:jS,scale:e=>(TS(e)+jS(e))/2,rotateX:e=>lv(Ui(Math.atan2(e[6],e[5]))),rotateY:e=>lv(Ui(Math.atan2(-e[2],e[0]))),rotateZ:CS,rotate:CS,skewX:e=>Ui(Math.atan(e[4])),skewY:e=>Ui(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cv(e){return e.includes("scale")?1:0}function uv(e,t){if(!e||e==="none")return cv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=O3,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N3,s=a}if(!s)return cv(t);const i=r[t],o=s[1].split(",").map(I3);return typeof i=="function"?i(o):o[i]}const R3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return uv(n,t)};function I3(e){return parseFloat(e.trim())}const ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cl=new Set(ll),AS=e=>e===al||e===ne,M3=new Set(["x","y","z"]),D3=ll.filter(e=>!M3.has(e));function L3(e){const t=[];return D3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ys={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>uv(t,"x"),y:(e,{transform:t})=>uv(t,"y")};Ys.translateX=Ys.x;Ys.translateY=Ys.y;const Zi=new Set;let dv=!1,hv=!1,fv=!1;function zA(){if(hv){const e=Array.from(Zi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=L3(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hv=!1,dv=!1,Zi.forEach(e=>e.complete(fv)),Zi.clear()}function qA(){Zi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hv=!0)})}function $3(){fv=!0,qA(),zA(),fv=!1}class c0{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Zi.add(this),dv||(dv=!0,Ye.read(qA),Ye.resolveKeyframes(zA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}P3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Zi.delete(this)}cancel(){this.state==="scheduled"&&(Zi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const F3=e=>e.startsWith("--");function V3(e,t,n){F3(t)?e.style.setProperty(t,n):e.style[t]=n}const U3=Qw(()=>window.ScrollTimeline!==void 0),B3={};function z3(e,t){const n=Qw(e);return()=>B3[t]??n()}const WA=z3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ol=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,PS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ol([0,.65,.55,1]),circOut:Ol([.55,0,1,.45]),backIn:Ol([.31,.01,.66,-.59]),backOut:Ol([.33,1.53,.69,.99])};function HA(e,t){if(e)return typeof e=="function"?WA()?VA(e,t):"ease-out":AA(e)?Ol(e):Array.isArray(e)?e.map(n=>HA(n,t)||PS.easeOut):PS[e]}function q3(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=HA(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function GA(e){return typeof e=="function"&&"applyToOptions"in e}function W3({type:e,...t}){return GA(e)&&WA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class H3 extends a0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Ba(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=W3(t);this.animation=q3(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=o0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):V3(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Vn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vn(t)}get time(){return Vn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Br(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&U3()?(this.animation.timeline=t,zn):n(this)}}const KA={anticipate:kA,backInOut:EA,circInOut:TA};function G3(e){return e in KA}function K3(e){typeof e.ease=="string"&&G3(e.ease)&&(e.ease=KA[e.ease])}const Yp=10;class J3 extends H3{constructor(t){K3(t),BA(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new l0({...o,autoplay:!1}),l=Math.max(Yp,nn.now()-this.startTime),c=Gr(0,Yp,l-Yp);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const NS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hi.test(e)||e==="0")&&!e.startsWith("url("));function Y3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Q3(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=NS(s,t),a=NS(i,t);return Of(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:Y3(e)||(n==="spring"||GA(n))&&r}function pv(e){e.duration=0,e.type="keyframes"}const X3=new Set(["opacity","clipPath","filter","transform"]),Z3=Qw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e5(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Z3()&&n&&X3.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const t5=40;class n5 extends a0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var b;super(),this.stop=()=>{var p,x;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=nn.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||c0;this.keyframeResolver=new m(a,(p,x,y)=>this.onKeyframesResolved(p,x,f,!y),l,c,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=nn.now(),Q3(t,i,o,a)||((ys.instantAnimations||!l)&&(d==null||d(o0(t,r,n))),t[0]=t[t.length-1],pv(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>t5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&e5(f)?new J3({...f,element:f.motionValue.owner.current}):new l0(f);m.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),$3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const r5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s5(e){const t=r5.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const i5=4;function JA(e,t,n=1){Ba(n<=i5,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=s5(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return gA(o)?parseFloat(o):o}return t0(s)?JA(s,t,n+1):s}function u0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const YA=new Set(["width","height","top","left","right","bottom",...ll]),o5={test:e=>e==="auto",parse:e=>e},QA=e=>t=>t.test(e),XA=[al,ne,zr,Ps,YB,JB,o5],OS=e=>XA.find(QA(e));function a5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yA(e):!0}const l5=new Set(["brightness","contrast","saturate","opacity"]);function c5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(n0)||[];if(!r)return e;const s=n.replace(r,"");let i=l5.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const u5=/\b([a-z-]*)\(.*?\)/gu,mv={...hi,getAnimatableNone:e=>{const t=e.match(u5);return t?t.map(c5).join(" "):e}},RS={...al,transform:Math.round},d5={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:Bu,scaleX:Bu,scaleY:Bu,scaleZ:Bu,skew:Ps,skewX:Ps,skewY:Ps,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Rc,originX:xS,originY:xS,originZ:ne},d0={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,inset:ne,insetBlock:ne,insetBlockStart:ne,insetBlockEnd:ne,insetInline:ne,insetInlineStart:ne,insetInlineEnd:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,paddingBlock:ne,paddingBlockStart:ne,paddingBlockEnd:ne,paddingInline:ne,paddingInlineStart:ne,paddingInlineEnd:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,marginBlock:ne,marginBlockStart:ne,marginBlockEnd:ne,marginInline:ne,marginInlineStart:ne,marginInlineEnd:ne,backgroundPositionX:ne,backgroundPositionY:ne,...d5,zIndex:RS,fillOpacity:Rc,strokeOpacity:Rc,numOctaves:RS},h5={...d0,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:mv,WebkitFilter:mv},ZA=e=>h5[e];function eP(e,t){let n=ZA(e);return n!==mv&&(n=hi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const f5=new Set(["auto","none","0"]);function p5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!f5.has(i)&&Ic(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=eP(n,s)}class m5 extends c0{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),t0(h))){const f=JA(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!YA.has(r)||t.length!==2)return;const[s,i]=t,o=OS(s),a=OS(i),l=bS(s),c=bS(i);if(l!==c&&Ys[r]){this.needsMeasurement=!0;return}if(o!==a)if(AS(o)&&AS(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Ys[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||a5(t[s]))&&r.push(s);r.length&&p5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ys[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ys[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function g5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const tP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function nP(e){return vA(e)&&"offsetHeight"in e}const IS=30,v5=e=>!isNaN(parseFloat(e));class y5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=nn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=nn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=v5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>IS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IS);return wA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function za(e,t){return new y5(e,t)}const{schedule:h0,cancel:wY}=PA(queueMicrotask,!1),ir={x:!1,y:!1};function rP(){return ir.x||ir.y}function w5(e){return e==="x"||e==="y"?ir[e]?null:(ir[e]=!0,()=>{ir[e]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}function sP(e,t){const n=g5(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function MS(e){return!(e.pointerType==="touch"||rP())}function b5(e,t,n={}){const[r,s,i]=sP(e,n),o=a=>{if(!MS(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{MS(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const iP=(e,t)=>t?e===t?!0:iP(e,t.parentElement):!1,f0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,x5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oP(e){return x5.has(e.tagName)||e.isContentEditable===!0}const Pd=new WeakSet;function DS(e){return t=>{t.key==="Enter"&&e(t)}}function Qp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const S5=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=DS(()=>{if(Pd.has(n))return;Qp(n,"down");const s=DS(()=>{Qp(n,"up")}),i=()=>Qp(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function LS(e){return f0(e)&&!rP()}function _5(e,t,n={}){const[r,s,i]=sP(e,n),o=a=>{const l=a.currentTarget;if(!LS(a))return;Pd.add(l);const c=t(l,a),d=(m,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Pd.has(l)&&Pd.delete(l),LS(m)&&typeof c=="function"&&c(m,{success:b})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||iP(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),nP(a)&&(a.addEventListener("focus",c=>S5(c,s)),!oP(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function aP(e){return vA(e)&&"ownerSVGElement"in e}function E5(e){return aP(e)&&e.tagName==="svg"}const qt=e=>!!(e&&e.getVelocity),k5=[...XA,gt,hi],C5=e=>k5.find(QA(e)),p0=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function $S(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function T5(...e){return t=>{let n=!1;const r=e.map(s=>{const i=$S(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$S(e[s],null)}}}}function j5(...e){return v.useCallback(T5(...e),e)}class A5 extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=nP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function P5({children:e,isPresent:t,anchorX:n,root:r}){var d;const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(p0),l=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),c=j5(i,l);return v.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:b,right:p}=o.current;if(t||!i.current||!h||!f)return;const x=n==="left"?`left: ${b}`:`right: ${p}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),u.jsx(A5,{isPresent:t,childRef:i,sizeRef:o,children:v.cloneElement(e,{ref:c})})}const N5=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Gw(O5),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const b of c.values())if(!b)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(f={...f}),v.useMemo(()=>{c.forEach((m,b)=>c.set(b,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(P5,{isPresent:n,anchorX:a,root:l,children:e})),u.jsx(Nf.Provider,{value:f,children:e})};function O5(){return new Map}function lP(e=!0){const t=v.useContext(Nf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=v.useId();v.useEffect(()=>{if(e)return s(i)},[e]);const o=v.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const zu=e=>e.key||"";function FS(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const qa=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=lP(o),h=v.useMemo(()=>FS(e),[e]),f=o&&!c?[]:h.map(zu),m=v.useRef(!0),b=v.useRef(h),p=Gw(()=>new Map),x=v.useRef(new Set),[y,w]=v.useState(h),[S,E]=v.useState(h);mA(()=>{m.current=!1,b.current=h;for(let j=0;j<S.length;j++){const N=zu(S[j]);f.includes(N)?(p.delete(N),x.current.delete(N)):p.get(N)!==!0&&p.set(N,!1)}},[S,f.length,f.join("-")]);const C=[];if(h!==y){let j=[...h];for(let N=0;N<S.length;N++){const I=S[N],R=zu(I);f.includes(R)||(j.splice(N,0,I),C.push(I))}return i==="wait"&&C.length&&(j=C),E(FS(j)),w(h),null}const{forceRender:T}=v.useContext(Hw);return u.jsx(u.Fragment,{children:S.map(j=>{const N=zu(j),I=o&&!c?!1:h===S||f.includes(N),R=()=>{if(x.current.has(N))return;if(x.current.add(N),p.has(N))p.set(N,!0);else return;let O=!0;p.forEach(L=>{L||(O=!1)}),O&&(T==null||T(),E(b.current),o&&(d==null||d()),r&&r())};return u.jsx(N5,{isPresent:I,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:I?void 0:R,anchorX:a,children:j},N)})})},cP=v.createContext({strict:!1}),VS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wa={};for(const e in VS)Wa[e]={isEnabled:t=>VS[e].some(n=>!!t[n])};function R5(e){for(const t in e)Wa[t]={...Wa[t],...e[t]}}const I5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ah(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||I5.has(e)}let uP=e=>!Ah(e);function M5(e){typeof e=="function"&&(uP=t=>t.startsWith("on")?!Ah(t):e(t))}try{M5(require("@emotion/is-prop-valid").default)}catch{}function D5(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(uP(s)||n===!0&&Ah(s)||!t&&!Ah(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Rf=v.createContext({});function If(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mc(e){return typeof e=="string"||Array.isArray(e)}const m0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g0=["initial",...m0];function Mf(e){return If(e.animate)||g0.some(t=>Mc(e[t]))}function dP(e){return!!(Mf(e)||e.variants)}function L5(e,t){if(Mf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Mc(n)?n:void 0,animate:Mc(r)?r:void 0}}return e.inherit!==!1?t:{}}function $5(e){const{initial:t,animate:n}=L5(e,v.useContext(Rf));return v.useMemo(()=>({initial:t,animate:n}),[US(t),US(n)])}function US(e){return Array.isArray(e)?e.join(" "):e}function BS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const El={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ne.test(e))e=parseFloat(e);else return e;const n=BS(e,t.target.x),r=BS(e,t.target.y);return`${n}% ${r}%`}},F5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=hi.parse(e);if(s.length>5)return r;const i=hi.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=rt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},gv={borderRadius:{...El,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:El,borderTopRightRadius:El,borderBottomLeftRadius:El,borderBottomRightRadius:El,boxShadow:F5};function hP(e,{layout:t,layoutId:n}){return cl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!gv[e]||e==="opacity")}const V5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U5=ll.length;function B5(e,t,n){let r="",s=!0;for(let i=0;i<U5;i++){const o=ll[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=tP(a,d0[o]);if(!l){s=!1;const d=V5[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function v0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(cl.has(l)){o=!0;continue}else if(OA(l)){s[l]=c;continue}else{const d=tP(c,d0[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=B5(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const y0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fP(e,t,n){for(const r in t)!qt(t[r])&&!hP(r,n)&&(e[r]=t[r])}function z5({transformTemplate:e},t){return v.useMemo(()=>{const n=y0();return v0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function q5(e,t){const n=e.style||{},r={};return fP(r,n,e),Object.assign(r,z5(e,t)),r}function W5(e,t){const n={},r=q5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const H5={offset:"stroke-dashoffset",array:"stroke-dasharray"},G5={offset:"strokeDashoffset",array:"strokeDasharray"};function K5(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?H5:G5;e[i.offset]=ne.transform(-r);const o=ne.transform(t),a=ne.transform(n);e[i.array]=`${o} ${a}`}const J5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function pP(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(v0(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of J5)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&K5(h,s,i,o,!1)}const mP=()=>({...y0(),attrs:{}}),gP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Y5(e,t,n,r){const s=v.useMemo(()=>{const i=mP();return pP(i,t,gP(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};fP(i,e.style,e),s.style={...i,...s.style}}return s}const Q5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w0(e){return typeof e!="string"||e.includes("-")?!1:!!(Q5.indexOf(e)>-1||/[A-Z]/u.test(e))}function X5(e,t,n,{latestValues:r},s,i=!1,o){const l=(o??w0(e)?Y5:W5)(t,r,s,e),c=D5(t,typeof e=="string",i),d=e!==v.Fragment?{...c,...l,ref:n}:{},{children:h}=t,f=v.useMemo(()=>qt(h)?h.get():h,[h]);return v.createElement(e,{...d,children:f})}function zS(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function b0(e,t,n,r){if(typeof t=="function"){const[s,i]=zS(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=zS(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Nd(e){return qt(e)?e.get():e}function Z5({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:ez(n,r,s,e),renderState:t()}}function ez(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Nd(i[f]);let{initial:o,animate:a}=e;const l=Mf(e),c=dP(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!If(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const b=b0(e,f[m]);if(b){const{transitionEnd:p,transition:x,...y}=b;for(const w in y){let S=y[w];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(s[w]=S)}for(const w in p)s[w]=p[w]}}}return s}const vP=e=>(t,n)=>{const r=v.useContext(Rf),s=v.useContext(Nf),i=()=>Z5(e,t,r,s);return n?i():Gw(i)};function x0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(qt(r[o])||t.style&&qt(t.style[o])||hP(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const tz=vP({scrapeMotionValuesFromProps:x0,createRenderState:y0});function yP(e,t,n){const r=x0(e,t,n);for(const s in e)if(qt(e[s])||qt(t[s])){const i=ll.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const nz=vP({scrapeMotionValuesFromProps:yP,createRenderState:mP}),rz=Symbol.for("motionComponentSymbol");function sz(e,t,n){const r=v.useRef(n);v.useInsertionEffect(()=>{r.current=n});const s=v.useRef(null);return v.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const S0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iz="framerAppearId",wP="data-"+S0(iz),bP=v.createContext({});function Rl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function oz(e,t,n,r,s,i){var x,y;const{visualElement:o}=v.useContext(Rf),a=v.useContext(cP),l=v.useContext(Nf),c=v.useContext(p0).reducedMotion,d=v.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const h=d.current,f=v.useContext(bP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&az(d.current,n,s,f);const m=v.useRef(!1);v.useInsertionEffect(()=>{h&&m.current&&h.update(n,l)});const b=n[wP],p=v.useRef(!!b&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,b))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,b)));return mA(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,b)}),p.current=!1),h.enteringChildren=void 0)}),h}function az(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xP(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Rl(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function xP(e){if(e)return e.options.allowProjection!==!1?e.projection:xP(e.parent)}function Xp(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&R5(r);const i=n?n==="svg":w0(e),o=i?nz:tz;function a(c,d){let h;const f={...v.useContext(p0),...c,layoutId:lz(c)},{isStatic:m}=f,b=$5(c),p=o(c,m);if(!m&&Kw){cz();const x=uz(f);h=x.MeasureLayout,b.visualElement=oz(e,p,f,s,x.ProjectionNode,i)}return u.jsxs(Rf.Provider,{value:b,children:[h&&b.visualElement?u.jsx(h,{visualElement:b.visualElement,...f}):null,X5(e,c,sz(p,b.visualElement,d),p,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(a);return l[rz]=e,l}function lz({layoutId:e}){const t=v.useContext(Hw).id;return t&&e!==void 0?t+"-"+e:e}function cz(e,t){v.useContext(cP).strict}function uz(e){const{drag:t,layout:n}=Wa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function dz(e,t){if(typeof Proxy>"u")return Xp;const n=new Map,r=(i,o)=>Xp(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Xp(o,void 0,e,t)),n.get(o))})}function SP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function hz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function fz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zp(e){return e===void 0||e===1}function vv({scale:e,scaleX:t,scaleY:n}){return!Zp(e)||!Zp(t)||!Zp(n)}function Ri(e){return vv(e)||_P(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _P(e){return qS(e.x)||qS(e.y)}function qS(e){return e&&e!=="0%"}function Ph(e,t,n){const r=e-n,s=t*r;return n+s}function WS(e,t,n,r,s){return s!==void 0&&(e=Ph(e,s,r)),Ph(e,n,r)+t}function yv(e,t=0,n=1,r,s){e.min=WS(e.min,t,n,r,s),e.max=WS(e.max,t,n,r,s)}function EP(e,{x:t,y:n}){yv(e.x,t.translate,t.scale,t.originPoint),yv(e.y,n.translate,n.scale,n.originPoint)}const HS=.999999999999,GS=1.0000000000001;function pz(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Zo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,EP(e,o)),r&&Ri(i.latestValues)&&Zo(e,i.latestValues))}t.x<GS&&t.x>HS&&(t.x=1),t.y<GS&&t.y>HS&&(t.y=1)}function Xo(e,t){e.min=e.min+t,e.max=e.max+t}function KS(e,t,n,r,s=.5){const i=rt(e.min,e.max,s);yv(e,t,n,i,r)}function Zo(e,t){KS(e.x,t.x,t.scaleX,t.scale,t.originX),KS(e.y,t.y,t.scaleY,t.scale,t.originY)}function kP(e,t){return SP(fz(e.getBoundingClientRect(),t))}function mz(e,t,n){const r=kP(e,n),{scroll:s}=t;return s&&(Xo(r.x,s.offset.x),Xo(r.y,s.offset.y)),r}const JS=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:JS(),y:JS()}),YS=()=>({min:0,max:0}),bt=()=>({x:YS(),y:YS()}),wv={current:null},CP={current:!1};function gz(){if(CP.current=!0,!!Kw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wv.current=e.matches;e.addEventListener("change",t),t()}else wv.current=!1}const vz=new WeakMap;function yz(e,t,n){for(const r in t){const s=t[r],i=n[r];if(qt(s))e.addValue(r,s);else if(qt(i))e.addValue(r,za(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,za(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const QS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=nn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ye.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Mf(n),this.isVariantNode=dP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&qt(m)&&m.set(l[f])}}mount(t){var n;this.current=t,vz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(CP.current||gz(),this.shouldReduceMotion=wv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),di(this.notifyUpdate),di(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=cl.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wa){const n=Wa[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QS.length;r++){const s=QS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=yz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=za(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(gA(r)||yA(r))?r=parseFloat(r):!C5(r)&&hi.test(n)&&(r=eP(t,n)),this.setBaseTarget(t,qt(r)?r.get():r)),qt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=b0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){h0.render(this.render)}}class TP extends wz{constructor(){super(...arguments),this.KeyframeResolver=m5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jP(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function bz(e){return window.getComputedStyle(e)}class xz extends TP{constructor(){super(...arguments),this.type="html",this.renderInstance=jP}readValueFromInstance(t,n){var r;if(cl.has(n))return(r=this.projection)!=null&&r.isProjecting?cv(n):R3(t,n);{const s=bz(t),i=(OA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kP(t,n)}build(t,n,r){v0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return x0(t,n,r)}}const AP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sz(e,t,n,r){jP(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(AP.has(s)?s:S0(s),t.attrs[s])}class _z extends TP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(cl.has(n)){const r=ZA(n);return r&&r.default||0}return n=AP.has(n)?n:S0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return yP(t,n,r)}build(t,n,r){pP(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){Sz(t,n,r,s)}mount(t){this.isSVGTag=gP(t.tagName),super.mount(t)}}const Ez=(e,t)=>t.isSVG??w0(e)?new _z(t):new xz(t,{allowProjection:e!==v.Fragment});function da(e,t,n){const r=e.getProps();return b0(r,t,n!==void 0?n:r.custom,e)}const bv=e=>Array.isArray(e);function kz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,za(n))}function Cz(e){return bv(e)?e[e.length-1]||0:e}function Tz(e,t){const n=da(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Cz(i[o]);kz(e,o,a)}}function jz(e){return!!(qt(e)&&e.add)}function xv(e,t){const n=e.getValue("willChange");if(jz(n))return n.add(t);if(!n&&ys.WillChange){const r=new ys.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function PP(e){return e.props[wP]}const Az=e=>e!==null;function Pz(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Az),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Nz={type:"spring",stiffness:500,damping:25,restSpeed:10},Oz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rz={type:"keyframes",duration:.8},Iz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mz=(e,{keyframes:t})=>t.length>2?Rz:cl.has(e)?e.startsWith("scale")?Oz(t[1]):Nz:Iz;function Dz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const _0=(e,t,n,r={},s,i)=>o=>{const a=u0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Br(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Dz(a)||Object.assign(d,Mz(e,d)),d.duration&&(d.duration=Br(d.duration)),d.repeatDelay&&(d.repeatDelay=Br(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(pv(d),d.delay===0&&(h=!0)),(ys.instantAnimations||ys.skipAnimations)&&(h=!0,pv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=Pz(d.keyframes,a);if(f!==void 0){Ye.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new l0(d):new n5(d)};function Lz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function NP(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||c&&Lz(c,d))continue;const m={delay:n,...u0(i||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===b&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=PP(e);if(y){const w=window.MotionHandoffAnimation(y,d,Ye);w!==null&&(m.startTime=w,p=!0)}}xv(e,d),h.start(_0(d,h,f,e.shouldReduceMotion&&YA.has(d)?{type:!1}:m,e,p));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{Ye.update(()=>{o&&Tz(e,o)})}),l}function OP(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Sv(e,t,n={}){var l;const r=da(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(NP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return $z(e,t,c,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function $z(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Sv(l,t,{...o,delay:n+(typeof r=="function"?0:r)+OP(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Fz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Sv(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Sv(e,t,n);else{const s=typeof t=="function"?da(e,t,n.custom):t;r=Promise.all(NP(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function RP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Vz=g0.length;function IP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?IP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Vz;n++){const r=g0[n],s=e.props[r];(Mc(s)||s===!1)&&(t[r]=s)}return t}const Uz=[...m0].reverse(),Bz=m0.length;function zz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Fz(e,n,r)))}function qz(e){let t=zz(e),n=XS(),r=!0;const s=l=>(c,d)=>{var f;const h=da(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:b,...p}=h;c={...c,...p,...b}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=IP(e.parent)||{},h=[],f=new Set;let m={},b=1/0;for(let x=0;x<Bz;x++){const y=Uz[x],w=n[y],S=c[y]!==void 0?c[y]:d[y],E=Mc(S),C=y===l?w.isActive:null;C===!1&&(b=x);let T=S===d[y]&&S!==c[y]&&E;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&C===null||!S&&!w.prevProp||If(S)||typeof S=="boolean")continue;const j=Wz(w.prevProp,S);let N=j||y===l&&w.isActive&&!T&&E||x>b&&E,I=!1;const R=Array.isArray(S)?S:[S];let O=R.reduce(s(y),{});C===!1&&(O={});const{prevResolvedValues:L={}}=w,W={...L,...O},F=X=>{N=!0,f.has(X)&&(I=!0,f.delete(X)),w.needsAnimating[X]=!0;const $=e.getValue(X);$&&($.liveStyle=!1)};for(const X in W){const $=O[X],V=L[X];if(m.hasOwnProperty(X))continue;let Y=!1;bv($)&&bv(V)?Y=!RP($,V):Y=$!==V,Y?$!=null?F(X):f.add(X):$!==void 0&&f.has(X)?F(X):w.protectedKeys[X]=!0}w.prevProp=S,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(N=!1);const J=T&&j;N&&(!J||I)&&h.push(...R.map(X=>{const $={type:y};if(typeof X=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:V}=e,Y=da(V,X);if(V.enteringChildren&&Y){const{delayChildren:te}=Y.transition||{};$.delay=OP(V.enteringChildren,e,te)}}return{animation:X,options:$}}))}if(f.size){const x={};if(typeof c.initial!="boolean"){const y=da(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(x.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),x[y]=w??null}),h.push({animation:x})}let p=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=XS()}}}function Wz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!RP(t,e):!1}function Ei(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XS(){return{animate:Ei(!0),whileInView:Ei(),whileHover:Ei(),whileTap:Ei(),whileDrag:Ei(),whileFocus:Ei(),exit:Ei()}}class bi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Hz extends bi{constructor(t){super(t),t.animationState||(t.animationState=qz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();If(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Gz=0;class Kz extends bi{constructor(){super(...arguments),this.id=Gz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Jz={animation:{Feature:Hz},exit:{Feature:Kz}};function Dc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ou(e){return{point:{x:e.pageX,y:e.pageY}}}const Yz=e=>t=>f0(t)&&e(t,ou(t));function Zl(e,t,n,r){return Dc(e,t,Yz(n),r)}const MP=1e-4,Qz=1-MP,Xz=1+MP,DP=.01,Zz=0-DP,eq=0+DP;function rn(e){return e.max-e.min}function tq(e,t,n){return Math.abs(e-t)<=n}function ZS(e,t,n,r=.5){e.origin=r,e.originPoint=rt(t.min,t.max,e.origin),e.scale=rn(n)/rn(t),e.translate=rt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Qz&&e.scale<=Xz||isNaN(e.scale))&&(e.scale=1),(e.translate>=Zz&&e.translate<=eq||isNaN(e.translate))&&(e.translate=0)}function ec(e,t,n,r){ZS(e.x,t.x,n.x,r?r.originX:void 0),ZS(e.y,t.y,n.y,r?r.originY:void 0)}function e_(e,t,n){e.min=n.min+t.min,e.max=e.min+rn(t)}function nq(e,t,n){e_(e.x,t.x,n.x),e_(e.y,t.y,n.y)}function t_(e,t,n){e.min=t.min-n.min,e.max=e.min+rn(t)}function Nh(e,t,n){t_(e.x,t.x,n.x),t_(e.y,t.y,n.y)}function On(e){return[e("x"),e("y")]}const LP=({current:e})=>e?e.ownerDocument.defaultView:null,n_=(e,t)=>Math.abs(e-t);function rq(e,t){const n=n_(e.x,t.x),r=n_(e.y,t.y);return Math.sqrt(n**2+r**2)}const r_=new Set(["auto","scroll"]);class $P{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=tm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,p=rq(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!p)return;const{point:x}=m,{timestamp:y}=Mt;this.history.push({...x,timestamp:y});const{onStart:w,onMove:S}=this.handlers;b||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,b)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=em(b,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(m,b)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=tm(m.type==="pointercancel"?this.lastMoveEventInfo:em(b,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,w),x&&x(m,w)},!f0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=ou(t),c=em(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Mt;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,tm(c,this.history)),this.removeListeners=ru(Zl(this.contextWindow,"pointermove",this.handlePointerMove),Zl(this.contextWindow,"pointerup",this.handlePointerUp),Zl(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(r_.has(r.overflowX)||r_.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Ye.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),di(this.updatePoint)}}function em(e,t){return t?{point:t(e.point)}:e}function s_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tm({point:e},t){return{point:e,delta:s_(e,FP(t)),offset:s_(e,sq(t)),velocity:iq(t,.1)}}function sq(e){return e[0]}function FP(e){return e[e.length-1]}function iq(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=FP(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Br(t)));)n--;if(!r)return{x:0,y:0};const i=Vn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oq(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?rt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?rt(n,e,r.max):Math.min(e,n)),e}function i_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function aq(e,{top:t,left:n,bottom:r,right:s}){return{x:i_(e.x,n,s),y:i_(e.y,t,r)}}function o_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function lq(e,t){return{x:o_(e.x,t.x),y:o_(e.y,t.y)}}function cq(e,t){let n=.5;const r=rn(e),s=rn(t);return s>r?n=Oc(t.min,t.max-r,e.min):r>s&&(n=Oc(e.min,e.max-s,t.min)),Gr(0,1,n)}function uq(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const _v=.35;function dq(e=_v){return e===!1?e=0:e===!0&&(e=_v),{x:a_(e,"left","right"),y:a_(e,"top","bottom")}}function a_(e,t,n){return{min:l_(e,t),max:l_(e,n)}}function l_(e,t){return typeof e=="number"?e:e[t]||0}const hq=new WeakMap;class fq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(ou(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:m,dragPropagation:b,onDragStart:p}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=w5(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),On(y=>{let w=this.getAxisMotionValue(y).get()||0;if(zr.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[y];E&&(w=rn(E)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&Ye.postRender(()=>p(h,f)),xv(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:p,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(b&&this.currentDirection===null){this.currentDirection=pq(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),x&&x(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>On(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new $P(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:LP(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ye.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!qu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=oq(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Rl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=aq(r.layoutBox,t):this.constraints=!1,this.elastic=dq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&On(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=uq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Rl(t))return!1;const r=t.current;Ba(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=mz(r,s.root,this.visualElement.getTransformPagePoint());let o=lq(s.layout.layoutBox,i);if(n){const a=n(hz(o));this.hasMutatedConstraints=!!a,a&&(o=SP(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=On(d=>{if(!qu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return xv(this.visualElement,t),r.start(_0(t,r,0,n,this.visualElement,!1))}stopAnimation(){On(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){On(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){On(n=>{const{drag:r}=this.getProps();if(!qu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-rt(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Rl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};On(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=cq({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),On(o=>{if(!qu(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(rt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;hq.set(this.visualElement,this);const t=this.visualElement.current,n=Zl(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&!oP(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Rl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ye.read(r);const o=Dc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(On(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=_v,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function qu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function pq(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class mq extends bi{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new fq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const c_=e=>(t,n)=>{e&&Ye.postRender(()=>e(t,n))};class gq extends bi{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new $P(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:c_(t),onStart:c_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ye.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Od={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let nm=!1;class vq extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),nm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Od.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,nm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),h0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;nm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VP(e){const[t,n]=lP(),r=v.useContext(Hw);return u.jsx(vq,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(bP),isPresent:t,safeToRemove:n})}function yq(e,t,n){const r=qt(e)?e:za(e);return r.start(_0("",r,t,n)),r.animation}const wq=(e,t)=>e.depth-t.depth;class bq{constructor(){this.children=[],this.isDirty=!1}add(t){Jw(this.children,t),this.isDirty=!0}remove(t){Yw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wq),this.isDirty=!1,this.children.forEach(t)}}function xq(e,t){const n=nn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(di(r),e(i-t))};return Ye.setup(r,!0),()=>di(r)}const UP=["TopLeft","TopRight","BottomLeft","BottomRight"],Sq=UP.length,u_=e=>typeof e=="string"?parseFloat(e):e,d_=e=>typeof e=="number"||ne.test(e);function _q(e,t,n,r,s,i){s?(e.opacity=rt(0,n.opacity??1,Eq(r)),e.opacityExit=rt(t.opacity??1,0,kq(r))):i&&(e.opacity=rt(t.opacity??1,n.opacity??1,r));for(let o=0;o<Sq;o++){const a=`border${UP[o]}Radius`;let l=h_(t,a),c=h_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||d_(l)===d_(c)?(e[a]=Math.max(rt(u_(l),u_(c),r),0),(zr.test(c)||zr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=rt(t.rotate||0,n.rotate||0,r))}function h_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Eq=BP(0,.5,CA),kq=BP(.5,.95,zn);function BP(e,t,n){return r=>r<e?0:r>t?1:n(Oc(e,t,r))}function f_(e,t){e.min=t.min,e.max=t.max}function nr(e,t){f_(e.x,t.x),f_(e.y,t.y)}function p_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m_(e,t,n,r,s){return e-=t,e=Ph(e,1/n,r),s!==void 0&&(e=Ph(e,1/s,r)),e}function Cq(e,t=0,n=1,r=.5,s,i=e,o=e){if(zr.test(t)&&(t=parseFloat(t),t=rt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=rt(i.min,i.max,r);e===i&&(a-=t),e.min=m_(e.min,t,n,a,s),e.max=m_(e.max,t,n,a,s)}function g_(e,t,[n,r,s],i,o){Cq(e,t[n],t[r],t[s],t.scale,i,o)}const Tq=["x","scaleX","originX"],jq=["y","scaleY","originY"];function v_(e,t,n,r){g_(e.x,t,Tq,n?n.x:void 0,r?r.x:void 0),g_(e.y,t,jq,n?n.y:void 0,r?r.y:void 0)}function y_(e){return e.translate===0&&e.scale===1}function zP(e){return y_(e.x)&&y_(e.y)}function w_(e,t){return e.min===t.min&&e.max===t.max}function Aq(e,t){return w_(e.x,t.x)&&w_(e.y,t.y)}function b_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qP(e,t){return b_(e.x,t.x)&&b_(e.y,t.y)}function x_(e){return rn(e.x)/rn(e.y)}function S_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Pq{constructor(){this.members=[]}add(t){Jw(this.members,t),t.scheduleRender()}remove(t){if(Yw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nq(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const rm=["","X","Y","Z"],Oq=1e3;let Rq=0;function sm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function WP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=PP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ye,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&WP(r)}function HP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Rq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Dq),this.nodes.forEach(Vq),this.nodes.forEach(Uq),this.nodes.forEach(Lq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=aP(o)&&!E5(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=xq(f,250),Od.hasAnimatedSinceResize&&(Od.hasAnimatedSinceResize=!1,this.nodes.forEach(k_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||Hq,{onLayoutAnimationStart:p,onLayoutAnimationComplete:x}=c.getProps(),y=!this.targetLayout||!qP(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...u0(b,"layout"),onPlay:p,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,w)}else h||k_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(__);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(E_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fq),this.nodes.forEach(Iq),this.nodes.forEach(Mq)):this.nodes.forEach(E_),this.clearAllSnapshots();const a=nn.now();Mt.delta=Gr(0,1e3/60,a-Mt.timestamp),Mt.timestamp=a,Mt.isProcessing=!0,Wp.update.process(Mt),Wp.preRender.process(Mt),Wp.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,h0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($q),this.sharedNodes.forEach(zq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!zP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ri(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Gq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return bt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Kq))){const{scroll:d}=this.root;d&&(Xo(a.x,d.offset.x),Xo(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=bt();if(nr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&nr(a,o),Xo(a.x,h.offset.x),Xo(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=bt();nr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ri(d.latestValues)&&Zo(l,d.latestValues)}return Ri(this.latestValues)&&Zo(l,this.latestValues),l}removeTransform(o){const a=bt();nr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ri(c.latestValues))continue;vv(c.latestValues)&&c.updateSnapshot();const d=bt(),h=c.measurePageBox();nr(d,h),v_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ri(this.latestValues)&&v_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Mt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),EP(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||vv(this.parent.latestValues)||_P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),Nh(this.relativeTargetOrigin,a,l),nr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;nr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;pz(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p_(this.prevProjectionDelta.x,this.projectionDelta.x),p_(this.prevProjectionDelta.y,this.projectionDelta.y)),ec(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!S_(this.projectionDelta.x,this.prevProjectionDelta.x)||!S_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=bt(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,p=m!==b,x=this.getStack(),y=!x||x.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(Wq));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const C=E/1e3;C_(h.x,o.x,C),C_(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qq(this.relativeTarget,this.relativeTargetOrigin,f,C),S&&Aq(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=bt()),nr(S,this.relativeTarget)),p&&(this.animationValues=d,_q(d,c,this.latestValues,C,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Od.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=za(0)),this.currentAnimation=yq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&GP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||bt();const h=rn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=rn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}nr(a,l),Zo(a,d),ec(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Pq),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&sm("z",o,c,this.animationValues);for(let d=0;d<rm.length;d++)sm(`rotate${rm[d]}`,o,c,this.animationValues),sm(`skew${rm[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Nd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Nd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ri(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Nq(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in gv){if(d[b]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:y}=gv[b],w=h==="none"?d[b]:p(d[b],c);if(x){const S=x.length;for(let E=0;E<S;E++)o[x[E]]=w}else y?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=c===this?Nd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(__),this.root.sharedNodes.clear()}}}function Iq(e){e.updateLayout()}function Mq(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?On(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=rn(f);f.min=r[h].min,f.max=f.min+m}):GP(i,t.layoutBox,r)&&On(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=rn(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=ea();ec(a,r,t.layoutBox);const l=ea();o?ec(l,e.applyTransform(s,!0),t.measuredBox):ec(l,r,t.layoutBox);const c=!zP(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const b=bt();Nh(b,t.layoutBox,f.layoutBox);const p=bt();Nh(p,r,m.layoutBox),qP(b,p)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Dq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Lq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $q(e){e.clearSnapshot()}function __(e){e.clearMeasurements()}function E_(e){e.isLayoutDirty=!1}function Fq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function k_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Vq(e){e.resolveTargetDelta()}function Uq(e){e.calcProjection()}function Bq(e){e.resetSkewAndRotation()}function zq(e){e.removeLeadSnapshot()}function C_(e,t,n){e.translate=rt(t.translate,0,n),e.scale=rt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function T_(e,t,n,r){e.min=rt(t.min,n.min,r),e.max=rt(t.max,n.max,r)}function qq(e,t,n,r){T_(e.x,t.x,n.x,r),T_(e.y,t.y,n.y,r)}function Wq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Hq={duration:.45,ease:[.4,0,.1,1]},j_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),A_=j_("applewebkit/")&&!j_("chrome/")?Math.round:zn;function P_(e){e.min=A_(e.min),e.max=A_(e.max)}function Gq(e){P_(e.x),P_(e.y)}function GP(e,t,n){return e==="position"||e==="preserve-aspect"&&!tq(x_(t),x_(n),.2)}function Kq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Jq=HP({attachResizeListener:(e,t)=>Dc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),im={current:void 0},KP=HP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!im.current){const e=new Jq({});e.mount(window),e.setOptions({layoutScroll:!0}),im.current=e}return im.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Yq={pan:{Feature:gq},drag:{Feature:mq,ProjectionNode:KP,MeasureLayout:VP}};function N_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ye.postRender(()=>i(t,ou(t)))}class Qq extends bi{mount(){const{current:t}=this.node;t&&(this.unmount=b5(t,(n,r)=>(N_(this.node,r,"Start"),s=>N_(this.node,s,"End"))))}unmount(){}}class Xq extends bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ru(Dc(this.node.current,"focus",()=>this.onFocus()),Dc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ye.postRender(()=>i(t,ou(t)))}class Zq extends bi{mount(){const{current:t}=this.node;t&&(this.unmount=_5(t,(n,r)=>(O_(this.node,r,"Start"),(s,{success:i})=>O_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ev=new WeakMap,om=new WeakMap,e8=e=>{const t=Ev.get(e.target);t&&t(e)},t8=e=>{e.forEach(e8)};function n8({root:e,...t}){const n=e||document;om.has(n)||om.set(n,{});const r=om.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(t8,{root:e,...t})),r[s]}function r8(e,t,n){const r=n8(t);return Ev.set(e,n),r.observe(e),()=>{Ev.delete(e),r.unobserve(e)}}const s8={some:0,all:1};class i8 extends bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:s8[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return r8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(o8(t,n))&&this.startObserver()}unmount(){}}function o8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const a8={inView:{Feature:i8},tap:{Feature:Zq},focus:{Feature:Xq},hover:{Feature:Qq}},l8={layout:{ProjectionNode:KP,MeasureLayout:VP}},c8={...Jz,...a8,...Yq,...l8},Ee=dz(c8,Ez);function au(){const{theme:e,setTheme:t}=wj();return u.jsxs(fe,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[u.jsx(Ee.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:u.jsx(Q$,{className:"h-5 w-5"})}),u.jsx(Ee.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:u.jsx(z$,{className:"h-5 w-5"})}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const R_=[{icon:Xi,title:"Interview",description:"AI-powered voice conversations capture detailed insights from your team members"},{icon:Sw,title:"Analyze",description:"Advanced AI synthesizes responses to identify patterns and opportunities"},{icon:oj,title:"Insights",description:"Receive actionable recommendations for process improvements and automation"}];function u8(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(au,{}),u.jsx(fe,{asChild:!0,children:u.jsx(un,{to:"/admin/login",children:"Admin Login"})})]})]})}),u.jsx("section",{className:"container flex min-h-screen flex-col items-center justify-center pt-16 text-center",children:u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl",children:[u.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["AI-powered Discovery for"," ",u.jsx("span",{className:"text-accent",children:"consulting engagements"})]}),u.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Transform how you gather insights. Our voice-based AI conducts intelligent interviews with your team, analyzes responses, and delivers actionable recommendations for process improvement."}),u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:[u.jsx(fe,{asChild:!0,size:"lg",className:"gap-2",children:u.jsxs(un,{to:"/admin/login",children:["Get Started",u.jsx(Ec,{className:"h-4 w-4"})]})}),u.jsx(fe,{asChild:!0,variant:"outline",size:"lg",children:u.jsx(un,{to:"/interview/demo",children:"Try Demo Interview"})})]})]})}),u.jsx("section",{className:"border-t bg-muted/30 py-24",children:u.jsxs("div",{className:"container",children:[u.jsxs(Ee.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How It Works"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to transform your discovery process"})]}),u.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:R_.map((e,t)=>u.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[u.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-accent/10",children:u.jsx(e.icon,{className:"h-8 w-8 text-accent"})}),u.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[u.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs font-bold text-primary-foreground",children:t+1}),u.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e.title})]}),u.jsx("p",{className:"text-muted-foreground",children:e.description}),t<R_.length-1&&u.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:u.jsx(Ec,{className:"h-6 w-6 text-muted-foreground/50"})})]},e.title))})]})}),u.jsx("footer",{className:"border-t py-8",children:u.jsx("div",{className:"container text-center text-sm text-muted-foreground",children:u.jsx("p",{children:" 2024 AgentFlow Discovery Tool. Built for consulting excellence."})})})]})}const Re=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Re.displayName="Card";const Zt=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));Zt.displayName="CardHeader";const en=v.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));en.displayName="CardTitle";const qr=v.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));qr.displayName="CardDescription";const De=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ce("p-6 pt-0",e),...t}));De.displayName="CardContent";const d8=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",e),...t}));d8.displayName="CardFooter";var h8=v.createContext(void 0);function lu(e){const t=v.useContext(h8);return e||t||"ltr"}function kv(e,[t,n]){return Math.min(n,Math.max(t,e))}function f8(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var E0="ScrollArea",[JP,xY]=Kn(E0),[p8,Yn]=JP(E0),YP=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=v.useState(null),[c,d]=v.useState(null),[h,f]=v.useState(null),[m,b]=v.useState(null),[p,x]=v.useState(null),[y,w]=v.useState(0),[S,E]=v.useState(0),[C,T]=v.useState(!1),[j,N]=v.useState(!1),I=Te(t,O=>l(O)),R=lu(s);return u.jsx(p8,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:w,onCornerHeightChange:E,children:u.jsx(ge.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});YP.displayName=E0;var QP="ScrollAreaViewport",XP=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Yn(QP,n),a=v.useRef(null),l=Te(t,a,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});XP.displayName=QP;var Yr="ScrollAreaScrollbar",k0=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Yn(Yr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?u.jsx(m8,{...r,ref:t,forceMount:n}):s.type==="scroll"?u.jsx(g8,{...r,ref:t,forceMount:n}):s.type==="auto"?u.jsx(ZP,{...r,ref:t,forceMount:n}):s.type==="always"?u.jsx(C0,{...r,ref:t}):null});k0.displayName=Yr;var m8=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Yn(Yr,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(Jn,{present:n||i,children:u.jsx(ZP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),g8=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Yn(Yr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Lf(()=>l("SCROLL_END"),100),[a,l]=f8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let h=c[d];const f=()=>{const m=c[d];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),u.jsx(Jn,{present:n||a!=="hidden",children:u.jsx(C0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ZP=v.forwardRef((e,t)=>{const n=Yn(Yr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=v.useState(!1),a=e.orientation==="horizontal",l=Lf(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return Ha(n.viewport,l),Ha(n.content,l),u.jsx(Jn,{present:r||i,children:u.jsx(C0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),C0=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Yn(Yr,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=sN(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return S8(f,o.current,a,m)}return n==="horizontal"?u.jsx(v8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=I_(f,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?u.jsx(y8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=I_(f,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),v8=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Yn(Yr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Te(t,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(tN,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Df(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),oN(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Rh(o.paddingLeft),paddingEnd:Rh(o.paddingRight)}})}})}),y8=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Yn(Yr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Te(t,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(tN,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Df(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),oN(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Rh(o.paddingTop),paddingEnd:Rh(o.paddingBottom)}})}})}),[w8,eN]=JP(Yr),tN=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...f}=e,m=Yn(Yr,n),[b,p]=v.useState(null),x=Te(t,I=>p(I)),y=v.useRef(null),w=v.useRef(""),S=m.viewport,E=r.content-r.viewport,C=St(d),T=St(l),j=Lf(h,10);function N(I){if(y.current){const R=I.clientX-y.current.left,O=I.clientY-y.current.top;c({x:R,y:O})}}return v.useEffect(()=>{const I=R=>{const O=R.target;(b==null?void 0:b.contains(O))&&C(R,E)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,b,E,C]),v.useEffect(T,[r,T]),Ha(b,j),Ha(m.content,j),u.jsx(w8,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:St(i),onThumbPointerUp:St(o),onThumbPositionChange:T,onThumbPointerDown:St(a),children:u.jsx(ge.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:oe(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(I))}),onPointerMove:oe(e.onPointerMove,N),onPointerUp:oe(e.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Oh="ScrollAreaThumb",nN=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=eN(Oh,e.__scopeScrollArea);return u.jsx(Jn,{present:n||s.hasThumb,children:u.jsx(b8,{ref:t,...r})})}),b8=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Yn(Oh,n),o=eN(Oh,n),{onThumbPositionChange:a}=o,l=Te(t,h=>o.onThumbChange(h)),c=v.useRef(void 0),d=Lf(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!c.current){const m=_8(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,a]),u.jsx(ge.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),b=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x:b,y:p})}),onPointerUp:oe(e.onPointerUp,o.onThumbPointerUp)})});nN.displayName=Oh;var T0="ScrollAreaCorner",rN=v.forwardRef((e,t)=>{const n=Yn(T0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(x8,{...e,ref:t}):null});rN.displayName=T0;var x8=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Yn(T0,n),[i,o]=v.useState(0),[a,l]=v.useState(0),c=!!(i&&a);return Ha(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ha(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),c?u.jsx(ge.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Rh(e){return e?parseInt(e,10):0}function sN(e,t){const n=e/t;return isNaN(n)?0:n}function Df(e){const t=sN(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function S8(e,t,n,r="ltr"){const s=Df(n),i=s/2,o=t||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return iN([l,c],h)(e)}function I_(e,t,n="ltr"){const r=Df(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=kv(e,l);return iN([0,o],[0,a])(c)}function iN(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function oN(e,t){return e>0&&e<t}var _8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Lf(e,t){const n=St(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ha(e,t){const n=St(t);Et(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var aN=YP,E8=XP,k8=rN;const $f=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(aN,{ref:r,className:ce("relative overflow-hidden",e),...n,children:[u.jsx(E8,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(lN,{}),u.jsx(k8,{})]}));$f.displayName=aN.displayName;const lN=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(k0,{ref:r,orientation:t,className:ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(nN,{className:"relative flex-1 rounded-full bg-border"})}));lN.displayName=k0.displayName;var cN={};function M_(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)!==-1)continue;l[c]=o[c]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(e)}function uN(e){var t=function(n,r){if(Pe(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Pe(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Pe(t)=="symbol"?t:t+""}function D_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uN(r.key),r)}}function Nn(e,t,n){return t&&D_(e.prototype,t),n&&D_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ff(e,t){if(t&&(Pe(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function _r(e){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_r(e)}function Lc(e,t){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lc(e,t)}function Vf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lc(e,t)}function Ir(e,t,n){return(t=uN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function ye(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(l){L_(i,r,s,o,a,"next",l)}function a(l){L_(i,r,s,o,a,"throw",l)}o(void 0)})}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a,l,c=[],d=!0,h=!1;try{if(a=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=a.call(s)).done)&&(c.push(i.value),c.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return $_(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?$_(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F_,Wu={exports:{}},Cv=function(){if(F_)return Wu.exports;F_=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,x,y){return Function.prototype.apply.call(p,x,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function s(){s.init.call(this)}Wu.exports=s,Wu.exports.once=function(p,x){return new Promise(function(y,w){function S(C){p.removeListener(x,E),w(C)}function E(){typeof p.removeListener=="function"&&p.removeListener("error",S),y([].slice.call(arguments))}b(p,x,E,{once:!0}),x!=="error"&&function(C,T,j){typeof C.on=="function"&&b(C,"error",T,j)}(p,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function a(p){return p._maxListeners===void 0?s.defaultMaxListeners:p._maxListeners}function l(p,x,y,w){var S,E,C,T;if(o(y),(E=p._events)===void 0?(E=p._events=Object.create(null),p._eventsCount=0):(E.newListener!==void 0&&(p.emit("newListener",x,y.listener?y.listener:y),E=p._events),C=E[x]),C===void 0)C=E[x]=y,++p._eventsCount;else if(typeof C=="function"?C=E[x]=w?[y,C]:[C,y]:w?C.unshift(y):C.push(y),(S=a(p))>0&&C.length>S&&!C.warned){C.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=p,j.type=x,j.count=C.length,T=j,console&&console.warn&&console.warn(T)}return p}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,x,y){var w={fired:!1,wrapFn:void 0,target:p,type:x,listener:y},S=c.bind(w);return S.listener=y,w.wrapFn=S,S}function h(p,x,y){var w=p._events;if(w===void 0)return[];var S=w[x];return S===void 0?[]:typeof S=="function"?y?[S.listener||S]:[S]:y?function(E){for(var C=new Array(E.length),T=0;T<C.length;++T)C[T]=E[T].listener||E[T];return C}(S):m(S,S.length)}function f(p){var x=this._events;if(x!==void 0){var y=x[p];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(p,x){for(var y=new Array(x),w=0;w<x;++w)y[w]=p[w];return y}function b(p,x,y,w){if(typeof p.on=="function")w.once?p.once(x,y):p.on(x,y);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(x,function S(E){w.once&&p.removeEventListener(x,S),y(E)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(p){for(var x=[],y=1;y<arguments.length;y++)x.push(arguments[y]);var w=p==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var E;if(x.length>0&&(E=x[0]),E instanceof Error)throw E;var C=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw C.context=E,C}var T=S[p];if(T===void 0)return!1;if(typeof T=="function")n(T,this,x);else{var j=T.length,N=m(T,j);for(y=0;y<j;++y)n(N[y],this,x)}return!0},s.prototype.addListener=function(p,x){return l(this,p,x,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(p,x){return l(this,p,x,!0)},s.prototype.once=function(p,x){return o(x),this.on(p,d(this,p,x)),this},s.prototype.prependOnceListener=function(p,x){return o(x),this.prependListener(p,d(this,p,x)),this},s.prototype.removeListener=function(p,x){var y,w,S,E,C;if(o(x),(w=this._events)===void 0)return this;if((y=w[p])===void 0)return this;if(y===x||y.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete w[p],w.removeListener&&this.emit("removeListener",p,y.listener||x));else if(typeof y!="function"){for(S=-1,E=y.length-1;E>=0;E--)if(y[E]===x||y[E].listener===x){C=y[E].listener,S=E;break}if(S<0)return this;S===0?y.shift():function(T,j){for(;j+1<T.length;j++)T[j]=T[j+1];T.pop()}(y,S),y.length===1&&(w[p]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",p,C||x)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(p){var x,y,w;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[p]),this;if(arguments.length===0){var S,E=Object.keys(y);for(w=0;w<E.length;++w)(S=E[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=y[p])=="function")this.removeListener(p,x);else if(x!==void 0)for(w=x.length-1;w>=0;w--)this.removeListener(p,x[w]);return this},s.prototype.listeners=function(p){return h(this,p,!0)},s.prototype.rawListeners=function(p){return h(this,p,!1)},s.listenerCount=function(p,x){return typeof p.listenerCount=="function"?p.listenerCount(x):f.call(p,x)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Wu.exports}(),Hu=C8(Cv),V_=Object.prototype.hasOwnProperty;function U_(e,t,n){for(n of e.keys())if(Qt(n,t))return n}function Qt(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Qt(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=U_(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=U_(t,s))||!Qt(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(V_.call(e,n)&&++r&&!V_.call(t,n)||!(n in t)||!Qt(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const T8={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},dN={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},dt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Kt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ns={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class q{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=q.getVersionPrecision(t),i=q.getVersionPrecision(n);let o=Math.max(s,i),a=0;const l=q.map([t,n],c=>{const d=o-q.getVersionPrecision(c),h=c+new Array(d+1).join(".0");return q.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return T8[t]}static getBrowserTypeByAlias(t){return dN[t]||""}}const Ue=/version\/(\d+(\.?_?\d+)+)/i,j8=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=q.getFirstMatch(Ue,e)||q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=q.getFirstMatch(Ue,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:q.getFirstMatch(t,e),version:q.getSecondMatch(t,e)}}}];var A8=[{test:[/Roku\/DVP/],describe(e){const t=q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Kt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Kt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=q.getWindowsVersionName(t);return{name:Kt.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Kt.iOS},n=q.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=q.getMacOSVersionName(t),r={name:Kt.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Kt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=q.getAndroidVersionName(t),r={name:Kt.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Kt.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||q.getFirstMatch(/\bbb(\d+)/i,e);return{name:Kt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Kt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Kt.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Kt.Linux})},{test:[/CrOS/],describe:()=>({name:Kt.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Kt.PlayStation4,version:t}}}],P8=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=q.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:dt.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:dt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:dt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:dt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:dt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:dt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:dt.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=q.getFirstMatch(/(ipod|iphone)/i,e);return{type:dt.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:dt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:dt.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:dt.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:dt.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:dt.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:dt.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:dt.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:dt.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:dt.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:dt.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:dt.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:dt.tv})}],N8=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Ns.Blink};const t=q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Ns.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Ns.Trident},n=q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Ns.Presto},n=q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Ns.Gecko},n=q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Ns.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Ns.WebKit},n=q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class B_{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=q.find(j8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=q.find(A8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=q.find(P8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=q.find(N8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return q.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(s[o]=a,i+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=q.find(o,c=>this.isOS(c));if(a){const c=this.satisfies(n[a]);if(c!==void 0)return c}const l=q.find(o,c=>this.isPlatform(c));if(l){const c=this.satisfies(n[l]);if(c!==void 0)return c}}if(i>0){const o=Object.keys(s),a=q.find(o,l=>this.isBrowser(l,!0));if(a!==void 0)return this.compareVersion(s[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=q.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(q.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class O8{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new B_(t,n)}static parse(t){return new B_(t).getResult()}static get BROWSER_MAP(){return dN}static get ENGINE_MAP(){return Ns}static get OS_MAP(){return Kt}static get PLATFORMS_MAP(){return dt}}function Uf(){return Date.now()+Math.random().toString()}function kl(){throw new Error("Method must be implemented in subclass")}function hN(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Ih(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:hN("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Mh(e){try{new URL(e)}catch{return!1}return!0}const qe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,eo="8.55.0",Ie=globalThis;function Dh(e,t,n){const r=Ie,s=r.__SENTRY__=r.__SENTRY__||{},i=s[eo]=s[eo]||{};return i[e]||(i[e]=t())}const bo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Tv=["debug","info","warn","error","log","assert","trace"],Lh={};function cu(e){if(!("console"in Ie))return e();const t=Ie.console,n={},r=Object.keys(Lh);r.forEach(s=>{const i=Lh[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const we=Dh("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return bo?Tv.forEach(n=>{t[n]=(...r)=>{e&&cu(()=>{Ie.console[n](`Sentry Logger [${n}]:`,...r)})}}):Tv.forEach(n=>{t[n]=()=>{}}),t}),Bi="?",z_=/\(error: (.*)\)/,q_=/captureMessage|captureException/;function Gu(e){return e[e.length-1]||{}}const W_="<anonymous>";function fi(e){try{return e&&typeof e=="function"&&e.name||W_}catch{return W_}}function H_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Rd={},G_={};function to(e,t){Rd[e]=Rd[e]||[],Rd[e].push(t)}function no(e,t){if(!G_[e]){G_[e]=!0;try{t()}catch(n){bo&&we.error(`Error while instrumenting ${e}`,n)}}}function wr(e,t){const n=e&&Rd[e];if(n)for(const r of n)try{r(t)}catch(s){bo&&we.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${fi(r)}
Error:`,s)}}let am=null;function R8(){am=Ie.onerror,Ie.onerror=function(e,t,n,r,s){return wr("error",{column:r,error:s,line:n,msg:e,url:t}),!!am&&am.apply(this,arguments)},Ie.onerror.__SENTRY_INSTRUMENTED__=!0}let lm=null;function I8(){lm=Ie.onunhandledrejection,Ie.onunhandledrejection=function(e){return wr("unhandledrejection",e),!lm||lm.apply(this,arguments)},Ie.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Bf(){return j0(Ie),Ie}function j0(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||eo,t[eo]=t[eo]||{}}const fN=Object.prototype.toString;function A0(e){switch(fN.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return co(e,Error)}}function ul(e,t){return fN.call(e)===`[object ${t}]`}function pN(e){return ul(e,"ErrorEvent")}function K_(e){return ul(e,"DOMError")}function ls(e){return ul(e,"String")}function P0(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function jv(e){return e===null||P0(e)||typeof e!="object"&&typeof e!="function"}function Ga(e){return ul(e,"Object")}function zf(e){return typeof Event<"u"&&co(e,Event)}function qf(e){return!!(e&&e.then&&typeof e.then=="function")}function co(e,t){try{return e instanceof t}catch{return!1}}function mN(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const N0=Ie;function gN(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=M8(n,d),!(c==="html"||i>1&&o+s.length*l+c.length>=h));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function M8(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(N0.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ls(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function ha(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function J_(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{mN(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function D8(e,t,n=!1){return!!ls(e)&&(ul(t,"RegExp")?t.test(e):!!ls(t)&&(n?e===t:e.includes(t)))}function Ku(e,t=[],n=!1){return t.some(r=>D8(e,r,n))}function En(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&vN(s,r);try{e[t]=s}catch{bo&&we.log(`Failed to replace method "${t}" in object`,e)}}function uo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{bo&&we.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function vN(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,uo(e,"__sentry_original__",t)}catch{}}function O0(e){return e.__sentry_original__}function yN(e){if(A0(e))return{message:e.message,name:e.name,stack:e.stack,...Q_(e)};if(zf(e)){const t={type:e.type,target:Y_(e.target),currentTarget:Y_(e.currentTarget),...Q_(e)};return typeof CustomEvent<"u"&&co(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Y_(e){try{return t=e,typeof Element<"u"&&co(t,Element)?gN(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function Q_(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Un(e){return Av(e,new Map)}function Av(e,t){if(function(n){if(!Ga(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=Av(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Av(s,t))}),r}return e}function uu(){return Date.now()/1e3}const ds=function(){const{performance:e}=Ie;if(!e||!e.now)return uu;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function qn(){const e=Ie,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function wN(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ds(e){const{message:t,event_id:n}=e;if(t)return t;const r=wN(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Pv(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ka(e,t){const n=wN(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function X_(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{uo(e,"__sentry_captured__",!0)}catch{}return!1}var ts;function ho(e){return new Dn(t=>{t(e)})}function $h(e){return new Dn((t,n)=>{n(e)})}(()=>{const{performance:e}=Ie;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(i||a<t)&&s<=a&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(ts||(ts={}));class Dn{constructor(t){Dn.prototype.__init.call(this),Dn.prototype.__init2.call(this),Dn.prototype.__init3.call(this),Dn.prototype.__init4.call(this),this._state=ts.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Dn((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Dn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(ts.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ts.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===ts.PENDING&&(qf(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ts.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ts.RESOLVED&&n[1](this._value),this._state===ts.REJECTED&&n[2](this._value),n[0]=!0)})}}}function L8(e){const t=ds(),n={sid:qn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Un({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&Ja(n,e),n}function Ja(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ds(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:qn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Z_(){return qn()}function Nv(){return qn().substring(16)}function Wf(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Wf(r[s],t[s],n-1));return r}const Ov="_sentrySpan";function e1(e,t){t?uo(e,Ov,t):delete e[Ov]}function t1(e){return e[Ov]}class R0{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Z_(),spanId:Nv()}}clone(){const t=new R0;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,e1(t,t1(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ja(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof pi?[n.getScopeData(),n.getRequestSession()]:Ga(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:l,level:c,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,e1(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Z_()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:uu(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:t1(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Wf(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Nv(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:qn();if(!this._client)return we.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:qn();if(!this._client)return we.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:qn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(we.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const pi=R0;class $8{constructor(t,n){let r,s;r=t||new pi,s=n||new pi,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return qf(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Ya(){const e=j0(Bf());return e.stack=e.stack||new $8(Dh("defaultCurrentScope",()=>new pi),Dh("defaultIsolationScope",()=>new pi))}function F8(e){return Ya().withScope(e)}function V8(e,t){const n=Ya();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function n1(e){return Ya().withScope(()=>e(Ya().getIsolationScope()))}function I0(e){const t=j0(e);return t.acs?t.acs:{withIsolationScope:n1,withScope:F8,withSetScope:V8,withSetIsolationScope:(n,r)=>n1(r),getCurrentScope:()=>Ya().getScope(),getIsolationScope:()=>Ya().getIsolationScope()}}function xo(){return I0(Bf()).getCurrentScope()}function du(){return I0(Bf()).getIsolationScope()}function zt(){return xo().getClient()}function U8(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Un({trace_id:n,span_id:r,parent_span_id:s})}function B8(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Un(s));return n}const z8=/^sentry-/;function q8(e){const t=function(r){if(!(!r||!ls(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=r1(i);return Object.entries(o).forEach(([a,l])=>{s[a]=l}),s},{}):r1(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(z8)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function r1(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let s1=!1;function W8(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return Un({parent_span_id:r?t:M0(e).parent_span_id,span_id:r?Nv():t,trace_id:n})}function i1(e){return typeof e=="number"?o1(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?o1(e.getTime()):ds()}function o1(e){return e>9999999999?e/1e3:e}function M0(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l}=e;return Un({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:i1(s),timestamp:i1(o)||void 0,status:H8(l),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:B8(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function H8(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function bN(e){return e._sentryRootSpan||e}function G8(){s1||(cu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),s1=!0)}const D0="production";function xN(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Un({environment:n.environment||D0,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function K8(e){const t=zt();if(!t)return{};const n=bN(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&q8(i);if(o)return o;const a=xN(e.spanContext().traceId,t),l=M0(n),c=l.data||{},d=c["sentry.sample_rate"];d!=null&&(a.sample_rate=`${d}`);const h=c["sentry.source"],f=l.description;return h!=="url"&&f&&(a.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const b=zt(),p=b&&b.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(a.sampled=String(function(m){const{traceFlags:b}=m.spanContext();return b===1}(n))),t.emit("createDsc",a,n),a}const J8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Fh(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function a1(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Y8(e){const t=typeof e=="string"?function(n){const r=J8.exec(n);if(!r)return void cu(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",a="",l="",c=""]=r.slice(1);let d="",h=c;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return a1({host:a,pass:o,path:d,projectId:h,port:l,protocol:s,publicKey:i})}(e):a1(e);if(t&&function(n){if(!bo)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(we.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(we.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(we.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(we.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function ns(e,t=100,n=1/0){try{return Rv("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function SN(e,t=3,n=102400){const r=ns(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?SN(e,t-1,n):r;var s}function Rv(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(a){if(i)return!!o.has(a)||(o.add(a),!1);for(let l=0;l<o.length;l++)if(o[l]===a)return!0;return o.push(a),!1},function(a){if(i)o.delete(a);else for(let l=0;l<o.length;l++)if(o[l]===a){o.splice(l,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(m,b){try{if(m==="domain"&&b&&typeof b=="object"&&b._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&b===global)return"[Global]";if(typeof window<"u"&&b===window)return"[Window]";if(typeof document<"u"&&b===document)return"[Document]";if(mN(b))return"[VueViewModel]";if(Ga(p=b)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof b=="number"&&!Number.isFinite(b))return`[${b}]`;if(typeof b=="function")return`[Function: ${fi(b)}]`;if(typeof b=="symbol")return`[${String(b)}]`;if(typeof b=="bigint")return`[BigInt: ${String(b)}]`;const x=function(y){const w=Object.getPrototypeOf(y);return w?w.constructor.name:"null prototype"}(b);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var p}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{return Rv("",c.toJSON(),l-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=yN(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const b=f[m];d[m]=Rv(m,b,l-1,r,s),h++}return o(t),d}function $c(e,t=[]){return[e,t]}function Q8(e,t){const[n,r]=e;return[n,[...r,t]]}function l1(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function Iv(e){return Ie.__SENTRY__&&Ie.__SENTRY__.encodePolyfill?Ie.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function X8(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Iv(r),i]:r.push(typeof i=="string"?Iv(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ns(a))}s(l)}}return typeof r=="string"?r:function(i){const o=i.reduce((c,d)=>c+d.length,0),a=new Uint8Array(o);let l=0;for(const c of i)a.set(c,l),l+=c.length;return a}(r)}function Z8(e){const t=typeof e.data=="string"?Iv(e.data):e.data;return[Un({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const eW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function c1(e){return eW[e]}function _N(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function tW(e,t,n,r){const s=_N(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,l){l&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||l.name,a.sdk.version=a.sdk.version||l.version,a.sdk.integrations=[...a.sdk.integrations||[],...l.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...l.packages||[]])})(e,n&&n.sdk);const o=function(a,l,c,d){const h=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!c&&d&&{dsn:Fh(d)},...h&&{trace:Un({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,$c(o,[[{type:i},e]])}function Mv(e,t,n,r=0){return new Dn((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);qe&&o.id&&a===null&&we.log(`Event processor "${o.id}" dropped event`),qf(a)?a.then(l=>Mv(e,l,n,r+1).then(s)).then(null,i):Mv(e,a,n,r+1).then(s).then(null,i)}})}let Ju,u1,cm;function nW(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,a){const{extra:l,tags:c,user:d,contexts:h,level:f,transactionName:m}=a,b=Un(l);b&&Object.keys(b).length&&(o.extra={...b,...o.extra});const p=Un(c);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const x=Un(d);x&&Object.keys(x).length&&(o.user={...x,...o.user});const y=Un(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,a){o.contexts={trace:W8(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:K8(a),...o.sdkProcessingMetadata};const l=bN(a),c=M0(l).description;c&&!o.transaction&&o.type==="transaction"&&(o.transaction=c)}(e,r),function(o,a){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const l=[...o.breadcrumbs||[],...a];o.breadcrumbs=l.length?l:void 0}(e,s),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,i)}function d1(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:b}=t;Yu(e,"extra",n),Yu(e,"tags",r),Yu(e,"user",s),Yu(e,"contexts",i),e.sdkProcessingMetadata=Wf(e.sdkProcessingMetadata,a,2),o&&(e.level=o),m&&(e.transactionName=m),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function Yu(e,t,n){e[t]=Wf(e[t],n,1)}function rW(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||qn(),timestamp:t.timestamp||uu()},c=n.integrations||e.integrations.map(b=>b.name);(function(b,p){const{environment:x,release:y,dist:w,maxValueLength:S=250}=p;b.environment=b.environment||x||D0,!b.release&&y&&(b.release=y),!b.dist&&w&&(b.dist=w),b.message&&(b.message=ha(b.message,S));const E=b.exception&&b.exception.values&&b.exception.values[0];E&&E.value&&(E.value=ha(E.value,S));const C=b.request;C&&C.url&&(C.url=ha(C.url,S))})(l,e),function(b,p){p.length>0&&(b.sdk=b.sdk||{},b.sdk.integrations=[...b.sdk.integrations||[],...p])}(l,c),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(b,p){const x=function(y){const w=Ie._sentryDebugIds;if(!w)return{};const S=Object.keys(w);return cm&&S.length===u1||(u1=S.length,cm=S.reduce((E,C)=>{Ju||(Ju={});const T=Ju[C];if(T)E[T[0]]=T[1];else{const j=y(C);for(let N=j.length-1;N>=0;N--){const I=j[N],R=I&&I.filename,O=w[C];if(R&&O){E[R]=O,Ju[C]=[R,O];break}}}return E},{})),cm}(p);try{b.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{x&&w.filename&&(w.debug_id=x[w.filename])})})}catch{}}(l,e.stackParser);const d=function(b,p){if(!p)return b;const x=b?b.clone():new pi;return x.update(p),x}(r,n.captureContext);n.mechanism&&Ka(l,n.mechanism);const h=s?s.getEventProcessors():[],f=Dh("globalScope",()=>new pi).getScopeData();i&&d1(f,i.getScopeData()),d&&d1(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),nW(l,f),Mv([...h,...f.eventProcessors],l,n).then(b=>(b&&function(p){const x={};try{p.exception.values.forEach(w=>{w.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?x[S.abs_path]=S.debug_id:S.filename&&(x[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(x).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const y=p.debug_meta.images;Object.entries(x).forEach(([w,S])=>{y.push({type:"sourcemap",code_file:w,debug_id:S})})}(b),typeof o=="number"&&o>0?function(p,x,y){if(!p)return null;const w={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(S=>({...S,...S.data&&{data:ns(S.data,x,y)}}))},...p.user&&{user:ns(p.user,x,y)},...p.contexts&&{contexts:ns(p.contexts,x,y)},...p.extra&&{extra:ns(p.extra,x,y)}};return p.contexts&&p.contexts.trace&&w.contexts&&(w.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(w.contexts.trace.data=ns(p.contexts.trace.data,x,y))),p.spans&&(w.spans=p.spans.map(S=>({...S,...S.data&&{data:ns(S.data,x,y)}}))),p.contexts&&p.contexts.flags&&w.contexts&&(w.contexts.flags=ns(p.contexts.flags,3,y)),w}(b,o,a):b))}function h1(e,t){return xo().captureEvent(e,t)}function f1(e){const t=zt(),n=du(),r=xo(),{release:s,environment:i=D0}=t&&t.getOptions()||{},{userAgent:o}=Ie.navigator||{},a=L8({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Ja(l,{status:"exited"}),EN(),n.setSession(a),r.setSession(a),a}function EN(){const e=du(),t=xo(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),Ja(r,i)}(n),kN(),e.setSession(),t.setSession()}function kN(){const e=du(),t=xo(),n=zt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function p1(e=!1){e?EN():kN()}function sW(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const m1=[];function g1(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function v1(e,t,n){if(n[t.name])qe&&we.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,m1.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),m1.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}qe&&we.log(`Integration installed: ${t.name}`)}}class or extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const y1="Not capturing exception because it's already been captured.";class iW{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Y8(t.dsn):qe&&we.warn("No DSN provided, client will not send events."),this._dsn){const r=sW(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&cu(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=qn();if(X_(t))return qe&&we.log(y1),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:qn(),...r},o=P0(t)?t:String(t),a=jv(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(t,n,r){const s=qn();if(n&&n.originalException&&X_(n.originalException))return qe&&we.log(y1),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?qe&&we.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Ja(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):ho(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];v1(this,t,this._integrations),n||g1(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=tW(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Q8(r,Z8(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const a=_N(i);return $c({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&s&&{dsn:Fh(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;qe&&we.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(qe&&we.error("Error while sending envelope:",n),n)):(qe&&we.error("Transport disabled"),ho({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&v1(n,i,s)}),s}(this,t),g1(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const a of i){const l=a.mechanism;if(l&&l.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Ja(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Dn(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=xo(),s=du()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),rW(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:U8(r),...a.contexts};const l=function(c,d){const h=d.getPropagationContext();return h.dsc||xN(h.traceId,c)}(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{qe&&(s instanceof or&&s.logLevel==="log"?we.log(s.message):we.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=b1(t),a=w1(t),l=t.type||"error",c=`before send for type \`${l}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const b=typeof m=="string"?parseFloat(m):m;if(!(typeof b!="number"||isNaN(b)||b<0||b>1))return b;qe&&we.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),$h(new or(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=l==="replay_event"?"replay":l,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new or("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const b=function(p,x,y,w){const{beforeSend:S,beforeSendTransaction:E,beforeSendSpan:C}=x;if(w1(y)&&S)return S(y,w);if(b1(y)){if(y.spans&&C){const T=[];for(const j of y.spans){const N=C(j);N?T.push(N):(G8(),p.recordDroppedEvent("before_send","span"))}y.spans=T}if(E){if(y.spans){const T=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return E(y,w)}}return y}(this,s,m,n);return function(p,x){const y=`${x} must return \`null\` or a valid event.`;if(qf(p))return p.then(w=>{if(!Ga(w)&&w!==null)throw new or(y);return w},w=>{throw new or(`${x} rejected with ${w}`)});if(!Ga(p)&&p!==null)throw new or(y);return p}(b,c)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new or(`${c} returned \`null\`, will not send event.`,"log")}const b=r&&r.getSession();if(!o&&b&&this._updateSessionFromEvent(b,m),o){const x=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const x="custom";m.transaction_info={...p,source:x}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof or?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new or(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){qe&&we.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(qe&&we.log("No outcomes to send"));if(!this._dsn)return void(qe&&we.log("No dsn provided, will not send outcomes"));qe&&we.log("Sending outcomes:",t);const n=(r=t,$c((s=this._options.tunnel&&Fh(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||uu(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function w1(e){return e.type===void 0}function b1(e){return e.type==="transaction"}function oW(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return $h(new or("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new Dn((s,i)=>{let o=t.length;if(!o)return s(!0);const a=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(l=>{ho(l).then(()=>{--o||(clearTimeout(a),s(!0))},i)})})}}}function aW(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,c,,,d]=a.split(":",5),h=parseInt(l,10),f=1e3*(isNaN(h)?60:h);if(c)for(const m of c.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[m]=r+f);else s.all=r+f}else o?s.all=r+function(a,l=Date.now()){const c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;const d=Date.parse(`${a}`);return isNaN(d)?6e4:d-l}(o,r):t===429&&(s.all=r+6e4);return s}function lW(e,t,n=oW(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(l1(s,(l,c)=>{const d=c1(c);if(function(h,f,m=Date.now()){return function(b,p){return b[p]||b.all||0}(h,f)>m}(r,d)){const h=x1(l,c);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(l)}),i.length===0)return ho({});const o=$c(s[0],i),a=l=>{l1(o,(c,d)=>{const h=x1(c,d);e.recordDroppedEvent(l,c1(d),h)})};return n.add(()=>t({body:X8(o)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&qe&&we.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=aW(r,l),l),l=>{throw a("network_error"),l})).then(l=>l,l=>{if(l instanceof or)return qe&&we.error("Skipped sending event because buffer is full."),a("queue_overflow"),ho({});throw l})},flush:s=>n.drain(s)}}function x1(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const cW=100;function ki(e,t){const n=zt(),r=du();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=cW}=n.getOptions();if(i<=0)return;const o={timestamp:uu(),...e},a=s?cu(()=>s(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let S1;const _1=new WeakMap,uW=()=>({name:"FunctionToString",setupOnce(){S1=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=O0(this),n=_1.has(zt())&&t!==void 0?t:this;return S1.apply(n,e)}}catch{}},setup(e){_1.set(e,!0)}}),dW=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],hW=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:dW],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,a){return a.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(qe&&we.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ds(o)}`),!0):function(l,c){return l.type||!c||!c.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(l).some(d=>Ku(d,c))}(o,a.ignoreErrors)?(qe&&we.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ds(o)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(c=>c.stacktrace||c.type&&c.type!=="Error"||c.value)}(o)?(qe&&we.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ds(o)}`),!0):function(l,c){if(l.type!=="transaction"||!c||!c.length)return!1;const d=l.transaction;return!!d&&Ku(d,c)}(o,a.ignoreTransactions)?(qe&&we.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ds(o)}`),!0):function(l,c){if(!c||!c.length)return!1;const d=Qu(l);return!!d&&Ku(d,c)}(o,a.denyUrls)?(qe&&we.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ds(o)}.
Url: ${Qu(o)}`),!0):function(l,c){if(!c||!c.length)return!0;const d=Qu(l);return!d||Ku(d,c)}(o,a.allowUrls)?!1:(qe&&we.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ds(o)}.
Url: ${Qu(o)}`),!0)}(t,i)?null:t}});function Qu(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return qe&&we.error(`Cannot extract url for event ${Ds(e)}`),null}}function fW(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&co(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=Dv(e,t,s,o.originalException,r,i.exception.values,a,0),c=n,l.map(d=>(d.value&&(d.value=ha(d.value,c)),d))))}function Dv(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(co(r[s],Error)){E1(o,a);const c=e(t,r[s]),d=l.length;k1(c,s,d,a),l=Dv(e,t,n,r[s],s,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(co(c,Error)){E1(o,a);const h=e(t,c),f=l.length;k1(h,`errors[${d}]`,f,a),l=Dv(e,t,n,c,s,[h,...l],h,f)}}),l}function E1(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function k1(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function um(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function pW(){"console"in Ie&&Tv.forEach(function(e){e in Ie.console&&En(Ie.console,e,function(t){return Lh[e]=t,function(...n){wr("console",{args:n,level:e});const r=Lh[e];r&&r.apply(Ie.console,n)}})})}function mW(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const gW=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,a=i.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!T1(s,i)||!C1(s,i))}(n,r)||function(s,i){const o=j1(i),a=j1(s);return!(!o||!a||o.type!==a.type||o.value!==a.value||!T1(s,i)||!C1(s,i))}(n,r)):!1}(t,e))return qe&&we.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function C1(e,t){let n=H_(e),r=H_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function T1(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function j1(e){return e.exception&&e.exception.values&&e.exception.values[0]}function A1(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const dm=Ie;function Lv(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function vW(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in dm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Lv(dm.fetch))return!0;let e=!1;const t=dm.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Lv(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){bo&&we.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function yW(e,t){const n="fetch";to(n,e),no(n,()=>function(r,s=!1){s&&!vW()||En(Ie,"fetch",function(i){return function(...o){const a=new Error,{method:l,url:c}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,b]=h;return{url:P1(m),method:$v(b,"method")?String(b.method).toUpperCase():"GET"}}const f=h[0];return{url:P1(f),method:$v(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:l,url:c},startTimestamp:1e3*ds(),virtualError:a};return r||wr("fetch",{...d}),i.apply(Ie,o).then(async h=>(r?r(h):wr("fetch",{...d,endTimestamp:1e3*ds(),response:h}),h),h=>{throw wr("fetch",{...d,endTimestamp:1e3*ds(),error:h}),A0(h)&&h.stack===void 0&&(h.stack=a.stack,uo(h,"framesToPop",1)),h})}})}(void 0,t))}function $v(e,t){return!!e&&typeof e=="object"&&!!e[t]}function P1(e){return typeof e=="string"?e:e?$v(e,"url")?e.url:e.toString?e.toString():"":""}const Xu=Ie,At=Ie;let Fv=0;function N1(){return Fv>0}function Qa(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(O0(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>Qa(i,t));return e.apply(this,s)}catch(s){throw Fv++,setTimeout(()=>{Fv--}),function(...i){const o=I0(Bf());if(i.length===2){const[a,l]=i;return a?o.withSetScope(a,l):o.withScope(l)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(a=>(t.mechanism&&(Pv(a,void 0),Ka(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),o=s,xo().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}vN(n,e),uo(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const Hf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function L0(e,t){const n=$0(e,t),r={type:xW(t),value:SW(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function wW(e,t,n,r){const s=zt(),i=s&&s.getOptions().normalizeDepth,o=function(c){for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d)){const h=c[d];if(h instanceof Error)return h}}(t),a={__serialized__:SN(t,i)};if(o)return{exception:{values:[L0(e,o)]},extra:a};const l={exception:{values:[{type:zf(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:_W(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=$0(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function hm(e,t){return{exception:{values:[L0(e,t)]}}}function $0(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&bW.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const bW=/Minified React error #\d+;/i;function CN(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function xW(e){const t=e&&e.name;return!t&&CN(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function SW(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:CN(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Vv(e,t,n,r,s){let i;if(pN(t)&&t.error)return hm(e,t.error);if(K_(t)||ul(t,"DOMException")){const o=t;if("stack"in t)i=hm(e,t);else{const a=o.name||(K_(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=Uv(e,l,n,r),Pv(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return A0(t)?hm(e,t):Ga(t)||zf(t)?(i=wW(e,t,n,s),Ka(i,{synthetic:!0}),i):(i=Uv(e,t,n,r),Pv(i,`${t}`),Ka(i,{synthetic:!0}),i)}function Uv(e,t,n,r){const s={};if(r&&n){const i=$0(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ka(s,{synthetic:!0})}if(P0(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function _W(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(yN(s));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=i)return ha(a,i);for(let l=o.length;l>0;l--){const c=o.slice(0,l).join(", ");if(!(c.length>i))return l===o.length?c:ha(c,i)}return""}(e),r=t?"promise rejection":"exception";return pN(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:zf(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class EW extends iW{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${s}`,packages:i.map(l=>({name:`${o}:@sentry/${l}`,version:eo})),version:eo}),r._metadata=a})(n,"browser",["browser"],At.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&At.document&&At.document.addEventListener("visibilitychange",()=>{At.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const a=Vv(r,s,i&&i.syntheticException||void 0,o);return Ka(a),a.level="error",i&&i.event_id&&(a.event_id=i.event_id),ho(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",a,l){const c=Uv(s,i,a&&a.syntheticException||void 0,l);return c.level=o,a&&a.event_id&&(c.event_id=a.event_id),ho(c)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Hf&&we.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:Fh(o)}};return $c(a,[function(c){return[{type:"user_report"},c]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const kW=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,tn=Ie;let O1,fm,pm,Zu;function CW(){if(!tn.document)return;const e=wr.bind(null,"dom"),t=R1(e,!0);tn.document.addEventListener("click",t,!1),tn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=tn[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(En(s,"addEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=c[o]=c[o]||{refCount:0};if(!d.handler){const h=R1(e);d.handler=h,i.call(this,o,h,l)}d.refCount++}catch{}return i.call(this,o,a,l)}}),En(s,"removeEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},d=c[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,l),d.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,l)}}))})}function R1(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;uo(n,"_sentryCaptured",!0),r&&!r._sentryId&&uo(r,"_sentryId",qn());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==fm)return!1;try{if(!i.target||i.target._sentryId!==pm)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),fm=n.type,pm=r?r._sentryId:void 0),clearTimeout(O1),O1=tn.setTimeout(()=>{pm=void 0,fm=void 0},1e3)}}function TN(e){const t="history";to(t,e),no(t,TW)}function TW(){if(!function(){const n=Xu.chrome,r=n&&n.app&&n.app.runtime,s="history"in Xu&&!!Xu.history.pushState&&!!Xu.history.replaceState;return!r&&s}())return;const e=tn.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Zu,o=String(s);Zu=o,wr("history",{from:i,to:o})}return n.apply(this,r)}}tn.onpopstate=function(...n){const r=tn.location.href,s=Zu;if(Zu=r,wr("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},En(tn.history,"pushState",t),En(tn.history,"replaceState",t)}const Id={};function I1(e){Id[e]=void 0}const Il="__sentry_xhr_v3__";function jW(){if(!tn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*ds(),o=ls(r[0])?r[0].toUpperCase():void 0,a=function(c){if(ls(c))return c;try{return c.toString()}catch{}}(r[1]);if(!o||!a)return t.apply(n,r);n[Il]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Il];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}wr("xhr",{endTimestamp:1e3*ds(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(c,d,h)=>(l(),c.apply(d,h))}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,d,h){const[f,m]=h,b=d[Il];return b&&ls(f)&&ls(m)&&(b.request_headers[f.toLowerCase()]=m),c.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Il];return s?(r[0]!==void 0&&(s.body=r[0]),wr("xhr",{startTimestamp:1e3*ds(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function AW(e,t=function(n){const r=Id[n];if(r)return r;let s=tn[n];if(Lv(s))return Id[n]=s.bind(tn);const i=tn.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(s=a[n]),i.head.removeChild(o)}catch(o){kW&&we.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(Id[n]=s.bind(tn))}("fetch")){let n=0,r=0;return lW(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return I1("fetch"),$h("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return I1("fetch"),n-=i,r--,$h(a)}})}function mm(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Bi:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const PW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,NW=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,OW=/\((\S*)(?::(\d+))(?::(\d+))\)/,RW=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,IW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,MW=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=z_.test(l)?l.replace(z_,"$1"):l;if(!c.match(/\S*Error: /)){for(const d of t){const h=d(c);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(a){if(!a.length)return[];const l=Array.from(a);return/sentryWrapped/.test(Gu(l).function||"")&&l.pop(),l.reverse(),q_.test(Gu(l).function||"")&&(l.pop(),q_.test(Gu(l).function||"")&&l.pop()),l.slice(0,50).map(c=>({...c,filename:c.filename||Gu(l).filename,function:c.function||Bi}))}(i.slice(s))}}([30,e=>{const t=PW.exec(e);if(t){const[,r,s,i]=t;return mm(r,Bi,+s,+i)}const n=NW.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=OW.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=M1(n[1]||Bi,n[2]);return mm(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=RW.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=IW.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||Bi;return[r,n]=M1(r,n),mm(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),M1=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Bi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},D1=1024,DW=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";to(i,s),no(i,pW)}(function(s){return function(i){if(zt()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:mW(i.level),message:J_(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${J_(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}ki(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if(zt()!==s)return;let a,l,c=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>D1&&(Hf&&we.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=D1),typeof c=="string"&&(c=[c]);try{const f=o.event,m=function(b){return!!b&&!!b.target}(f)?f.target:f;a=gN(m,{keyAttrs:c,maxStringLength:d}),l=function(b){if(!N0.HTMLElement)return null;let p=b;for(let x=0;x<5;x++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{a="<unknown>"}if(a.length===0)return;const h={category:`ui.${o.name}`,message:a};l&&(h.data={"ui.component_name":l}),ki(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),to("dom",r),no("dom",CW)),t.xhr&&function(s){to("xhr",s),no("xhr",jW)}(function(s){return function(i){if(zt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i,l=i.xhr[Il];if(!o||!a||!l)return;const{method:c,url:d,status_code:h,body:f}=l,m={method:c,url:d,status_code:h},b={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:a};ki({category:"xhr",data:m,type:"http",level:A1(h)},b)}}(n)),t.fetch&&yW(function(s){return function(i){if(zt()!==s)return;const{startTimestamp:o,endTimestamp:a}=i;if(a&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)ki({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:a});else{const l=i.response,c={...i.fetchData,status_code:l&&l.status},d={input:i.args,response:l,startTimestamp:o,endTimestamp:a};ki({category:"fetch",data:c,type:"http",level:A1(c.status_code)},d)}}}(n)),t.history&&TN(function(s){return function(i){if(zt()!==s)return;let o=i.from,a=i.to;const l=um(At.location.href);let c=o?um(o):void 0;const d=um(a);c&&c.path||(c=l),l.protocol===d.protocol&&l.host===d.host&&(a=d.relative),l.protocol===c.protocol&&l.host===c.host&&(o=c.relative),ki({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){zt()===s&&ki({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Ds(i)},{event:i})}}(n))}}},LW=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],$W=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&En(At,"setTimeout",L1),t.setInterval&&En(At,"setInterval",L1),t.requestAnimationFrame&&En(At,"requestAnimationFrame",FW),t.XMLHttpRequest&&"XMLHttpRequest"in At&&En(XMLHttpRequest.prototype,"send",VW);const n=t.eventTarget;n&&(Array.isArray(n)?n:LW).forEach(UW)}}};function L1(e){return function(...t){const n=t[0];return t[0]=Qa(n,{mechanism:{data:{function:fi(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function FW(e){return function(t){return e.apply(this,[Qa(t,{mechanism:{data:{function:"requestAnimationFrame",handler:fi(e)},handled:!1,type:"instrument"}})])}}function VW(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&En(n,r,function(s){const i={mechanism:{data:{function:r,handler:fi(s)},handled:!1,type:"instrument"}},o=O0(s);return o&&(i.mechanism.data.handler=fi(o)),Qa(s,i)})}),e.apply(this,t)}}function UW(e){const t=At[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(En(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Qa(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:fi(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Qa(i,{mechanism:{data:{function:"addEventListener",handler:fi(i),target:e},handled:!1,type:"instrument"}}),o])}}),En(n,"removeEventListener",function(r){return function(s,i,o){try{const a=i.__sentry_wrapped__;a&&r.call(this,s,a,o)}catch{}return r.call(this,s,i,o)}}))}const BW=()=>({name:"BrowserSession",setupOnce(){At.document!==void 0?(f1({ignoreDuration:!0}),p1(),TN(({from:e,to:t})=>{e!==void 0&&e!==t&&(f1({ignoreDuration:!0}),p1())})):Hf&&we.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),zW=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";to(i,s),no(i,R8)})(s=>{const{stackParser:i,attachStacktrace:o}=F1();if(zt()!==r||N1())return;const{msg:a,url:l,line:c,column:d,error:h}=s,f=function(m,b,p,x){const y=m.exception=m.exception||{},w=y.values=y.values||[],S=w[0]=w[0]||{},E=S.stacktrace=S.stacktrace||{},C=E.frames=E.frames||[],T=x,j=p,N=ls(b)&&b.length>0?b:function(){try{return N0.document.location.href}catch{return""}}();return C.length===0&&C.push({colno:T,filename:N,function:Bi,in_app:!0,lineno:j}),m}(Vv(i,h||a,void 0,o,!1),l,c,d);f.level="error",h1(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),$1("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";to(i,s),no(i,I8)})(s=>{const{stackParser:i,attachStacktrace:o}=F1();if(zt()!==r||N1())return;const a=function(c){if(jv(c))return c;try{if("reason"in c)return c.reason;if("detail"in c&&"reason"in c.detail)return c.detail.reason}catch{}return c}(s),l=jv(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:Vv(i,a,void 0,o,!0);l.level="error",h1(l,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),$1("onunhandledrejection"))}}};function $1(e){Hf&&we.log(`Global Handler attached: ${e}`)}function F1(){const e=zt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const qW=()=>({name:"HttpContext",preprocessEvent(e){if(!At.navigator&&!At.location&&!At.document)return;const t=e.request&&e.request.url||At.location&&At.location.href,{referrer:n}=At.document||{},{userAgent:r}=At.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),WW=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();fW(L0,o.stackParser,o.maxValueLength,n,t,r,s)}}};var Bv="new",V1="loading",U1="loaded",Vh="joining-meeting",Vs="joined-meeting",Os="left-meeting",Zr="error",HW="blocked",GW="off",KW="sendable",JW="loading",YW="interrupted",jN="playable",Md="unknown",AN="full",QW="lobby",XW="none",PN="base",ZW="*",e6="ejected",t6="nbf-room",n6="nbf-token",r6="exp-room",s6="exp-token",zv="no-room",i6="meeting-full",NN="end-of-life",o6="not-allowed",ON="connection-error",a6="cam-in-use",l6="mic-in-use",c6="cam-mic-in-use",u6="permissions",d6="undefined-mediadevices",h6="not-found",f6="constraints",p6="unknown",RN="iframe-ready-for-launch-config",IN="iframe-launch-config",MN="theme-updated",DN="loading",LN="load-attempt-failed",qv="loaded",$N="started-camera",FN="camera-error",VN="joining-meeting",UN="joined-meeting",BN="left-meeting",zN="participant-joined",qN="participant-updated",WN="participant-left",HN="participant-counts-updated",GN="access-state-updated",KN="meeting-session-summary-updated",JN="meeting-session-state-updated",m6="meeting-session-data-error",YN="waiting-participant-added",QN="waiting-participant-updated",XN="waiting-participant-removed",ZN="track-started",eO="track-stopped",tO="transcription-started",nO="transcription-stopped",rO="transcription-error",Wv="recording-started",Hv="recording-stopped",sO="recording-stats",iO="recording-error",oO="recording-upload-completed",aO="recording-data",lO="app-message",cO="transcription-message",uO="remote-media-player-started",dO="remote-media-player-updated",hO="remote-media-player-stopped",fO="local-screen-share-started",pO="local-screen-share-stopped",mO="local-screen-share-canceled",gO="active-speaker-change",vO="active-speaker-mode-change",yO="network-quality-change",wO="network-connection",bO="cpu-load-change",xO="face-counts-updated",Ml="fullscreen",Dl="exited-fullscreen",SO="live-streaming-started",_O="live-streaming-updated",EO="live-streaming-stopped",kO="live-streaming-error",CO="lang-updated",TO="receive-settings-updated",Gv="input-settings-updated",Kv="nonfatal-error",Jv="error",gm=4096,B1=102400,vm="iframe-call-message",z1="local-screen-start",q1="daily-method-update-live-streaming-endpoints",ed="transmit-log",cs="daily-custom-track",Dd={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},jO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Yv={PLAY:"play",PAUSE:"pause"},ym=["jpg","png","jpeg"],g6="add-endpoints",v6="remove-endpoints",W1="sip-call-transfer";function Gn(){return!Ae()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Ae(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function AO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function y6(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(fo(),Uh())||Ae())}function H1(){if(Ae()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Qv="none",w6="software",b6="hardware",x6=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?w6:b6:Qv}catch{return Qv}}();function PO(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Ae()&&x6!==Qv&&(e?function(){return G1()?!1:["Chrome","Firefox"].includes(fo())}():function(){if(G1())return!1;var t=fo();if(t==="Safari"){var n=V0();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?F0().major>=77:t==="Firefox"?U0().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function NO(){if(Ae()||OO()||typeof AudioWorkletNode>"u")return!1;switch(fo()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Uh();return e.major>17||e.major===17&&e.minor>=4}return!1}function wm(){return AO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=fo();if(!Gn())return!0;switch(t){case"Chrome":return(e=F0()).major&&e.major>0&&e.major<75;case"Firefox":return(e=U0()).major<91;case"Safari":return(e=V0()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function OO(){return Gn().match(/Linux; Android/)}function G1(){var e,t=Gn(),n=t.match(/Mac/)&&(!Ae()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!Gn().match(/DailyAnd\//)||void 0}function fo(){if(typeof window<"u"){var e=Gn();return RO()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||IO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Uh(){switch(fo()){case"Chrome":return F0();case"Safari":return V0();case"Firefox":return U0();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Gn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function F0(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=Gn(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function RO(){return!!Gn().match(/iPad|iPhone|iPod/i)&&AO()}function IO(){return Gn().indexOf("AppleWebKit/605.1.15")>-1}function V0(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Gn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(RO()||IO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function U0(){var e=0,t=0;if(typeof window<"u"){var n=Gn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var MO=function(){return Nn(function e(){Pn(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){kl()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){kl()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){kl()}},{key:"sendMessageToDailyJs",value:function(e,t){kl()}},{key:"removeListener",value:function(e){kl()}}])}();function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(r){Ir(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}var S6=function(){function e(){var t,n,r,s;return Pn(this,e),n=this,r=_r(r=e),(t=Ff(n,DO()?Reflect.construct(r,[],_r(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return Vf(e,MO),Nn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var a=bm({},o.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var l=a.callbackStamp;s._messageCallbacks[l].call(r,a),delete s._messageCallbacks[l]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==vm||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var a=i.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=bm({},t);if(i.what=vm,i.from="module",i.callClientId=r,n){var o=Uf();this._messageCallbacks[o]=n,i.callbackStamp=o}var a=s?s.contentWindow:window,l=this._callMachineTargetOrigin(s);l&&a.postMessage(i,l)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=vm,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=bm({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}var _6=function(){function e(){var t,n,r,s;return Pn(this,e),n=this,r=_r(r=e),t=Ff(n,LO()?Reflect.construct(r,[],_r(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Cv.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Cv.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Vf(e,MO),Nn(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,a=function(l){if(l.callClientId===r){if(l.callbackStamp&&o._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;o._messageCallbacks[c].call(s,l),delete o._messageCallbacks[c]}t.call(s,l)}};this._wrappedListeners[t]=a,n.addListener("message",a)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(l){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?J1(Object(d),!0).forEach(function(h){Ir(l,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):J1(Object(d)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(d,h))})}return l}({},t);if(o.callClientId=r,s){var a=Uf();this._messageCallbacks[a]=s,o.callbackStamp=a}n.emit("message",o)}}])}(),Xv="replace",Zv="shallow-merge",Y1=[Xv,Zv],E6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?Xv:r;Pn(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return Nn(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===Zv}},{key:"_validateMergeStrategy",value:function(t){if(!Y1.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Y1,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Pe(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return l==null||l===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===Xv){var s=JSON.parse(r);Qt(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===Zv){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));Qt(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>B1)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(B1,"."))}}])}();function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function ey(e){var t=typeof Map=="function"?new Map:void 0;return ey=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if($O())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,i);var l=new(s.bind.apply(s,a));return o&&Lc(l,o.prototype),l}(n,arguments,_r(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Lc(r,n)},ey(e)}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function Q1(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var k6=function(){return Nn(function e(t){Pn(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new C6(n,function(){r(!1)},function(i,o){o||Q1(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),Q1(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),C6=function(){return Nn(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Pn(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new X1(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new X1(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),xm=function(){function e(){return Pn(this,e),t=this,r=arguments,n=_r(n=e),Ff(t,FO()?Reflect.construct(n,r||[],_r(t).constructor):n.apply(t,r));var t,n,r}return Vf(e,ey(Error)),Nn(e)}(),Bh=2e4,X1=function(){return Nn(function t(n,r,s){Pn(this,t),this._loadAttemptImpl=Ae()||!n.avoidEval?new T6(n,r,s):new j6(n,r,s)},[{key:"start",value:(e=ye(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),T6=function(){return Nn(function s(i,o,a){Pn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=a},[{key:"start",value:(r=ye(function*(){var s=Ih(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=ye(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=ye(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Bh," ms) when loading call object bundle ").concat(s),type:"timeout"})},Bh);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},a=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new xm;var l=yield this._getBundleCodeFromResponse(s,a);if(this.cancelled)throw new xm;Function('"use strict";'+l)(),this._iosCache&&this._iosCache.set(s,l,a.headers),this.succeeded=!0,this._successCallback()}catch(c){if(clearTimeout(this._networkTimeout),c instanceof xm||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(c),type:c.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=ye(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),j6=function(){return Nn(function e(t,n,r){Pn(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Uf(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Ih(this._dailyConfig);(typeof document>"u"?"undefined":Pe(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Bh," ms) when loading call object bundle ").concat(e),type:"timeout"})},Bh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),td=function(e,t,n){return P6(e.local,t,n)===!0},A6=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},ta=function(e,t,n,r){var s=N6(e,t,n,r);return s&&s.pendingTrack},P6=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},N6=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},O6=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function Z1(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,a=["video","audio"];o<a.length;o++){var l=a[o],c=i==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),d=e.tracks[c];if(d){var h=e.local?A6(n,i,l):ta(n,e.session_id,i,l);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function eE(e,t){try{var n=t.getState();for(var r in e.tracks)if(!R6(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?O6(n,r):ta(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function R6(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function tE(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&td(r,e.session_id,"cam-audio")){var o=ta(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&td(r,e.session_id,"cam-video")){var a=ta(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&td(r,e.session_id,"screen-audio")){var l=ta(r,e.session_id,"screen","audio");l&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===l.id?e.screenAudioTrack=l:l.muted||(e.screenAudioTrack=l))}if(e.screen&&td(r,e.session_id,"screen-video")){var c=ta(r,e.session_id,"screen","video");c&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===c.id?e.screenVideoTrack=c:c.muted||(e.screenVideoTrack=c))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function I6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return nE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?nE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ar=new Map,fa=null;function M6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return rE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?rE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function rE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pr=new Map,tc=null;function D6(e){VO()?function(t){Ar.has(t)||(Ar.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Ar.has(t)&&(Ar.get(t).lastDevicesString=JSON.stringify(n),fa||(fa=function(){var r=ye(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=I6(Ar.keys());try{for(o.s();!(s=o.n()).done;){var a=s.value,l=JSON.stringify(i);l!==Ar.get(a).lastDevicesString&&(Ar.get(a).lastDevicesString=l,a(i))}}catch(c){o.e(c)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",fa)))}).catch(function(){}))}(e):function(t){Pr.has(t)||(Pr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Pr.has(t)&&(Pr.get(t).lastDevicesString=JSON.stringify(n),tc||(tc=setInterval(ye(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=M6(Pr.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=JSON.stringify(s);a!==Pr.get(o).lastDevicesString&&(Pr.get(o).lastDevicesString=a,o(s))}}catch(l){i.e(l)}finally{i.f()}}),3e3)))}))}(e)}function L6(e){VO()?function(t){Ar.has(t)&&(Ar.delete(t),Ar.size===0&&fa&&(navigator.mediaDevices.removeEventListener("devicechange",fa),fa=null))}(e):function(t){Pr.has(t)&&(Pr.delete(t),Pr.size===0&&tc&&(clearInterval(tc),tc=null))}(e)}function VO(){var e;return Ae()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var $6=new Set;function F6(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!$6.has(n.id)}(e)}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(r){Ir(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ll=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),V6=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),nc=Object.values(Ll),iE=["v","a","sv","sa","cv","ca"];Object.freeze(nc.reduce(function(e,t,n){return e[t]=iE[n],e},{})),Object.freeze(iE.reduce(function(e,t,n){return e[t]=nc[n],e},{}));var U6=[Ll.VIDEO,Ll.AUDIO,Ll.SCREEN_VIDEO,Ll.SCREEN_AUDIO],oE=Object.values(V6),aE=["p","s","t"];Object.freeze(oE.reduce(function(e,t,n){return e[t]=aE[n],e},{})),Object.freeze(aE.reduce(function(e,t,n){return e[t]=oE[n],e},{}));var UO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;Pn(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return Nn(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof Nt?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Nt?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Nt?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof Nt&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Nt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Nt?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof Nt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Wt(t,2),r=n[0],s=n[1];return[r,s instanceof Nt?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Wt(t,2),r=n[0],s=n[1];return[r,s instanceof Nt?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:Nt.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:Nt.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var a in s={},t.byParticipantId){var l=t.byParticipantId[a];s[a]=typeof l=="boolean"?l:Nt.fromJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:Nt.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:Nt.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var a in s={},t.p){var l=t.p[a];s[a]=typeof l=="boolean"?l:Nt.fromMinifiedJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Pe(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Wt(Nt.validateJSONObject(t.base,!0),2),a=o[0],l=o[1];if(!a)return[!1,l]}else{if(Pe(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var c=0,d=Object.values(t[i]);c<d.length;c++){var h=d[c],f=Wt(Nt.validateJSONObject(h),2),m=f[0],b=f[1];if(!m)return[!1,b]}}}return[!0]}}])}(),Nt=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,a=t.customAudio;Pn(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=a}return Nn(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=js({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=js({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=js({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=js({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=js({},this.customVideo)),this.customAudio!==void 0&&(t.ca=js({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?js({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?js({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Pe(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!nc.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(U6.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Pe(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var a=0,l=Object.values(t[o]);a<l.length;a++)if(typeof l[a]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==nc.length?[!1,'canReceive "base" permission must specify all media types: '.concat(nc.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),B6=["result"],z6=["preserveIframe"];function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){Ir(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function cE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return uE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?uE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function uE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ci={},dE="video",q6="voice",hE=Ae()?{data:{}}:{data:{},topology:"none"},fE={present:0,hidden:0},zO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Sm=Object.keys(zO),pE=["state","volume","simulcastEncodings"],mE={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},zh={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},ty={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Ti={customIntegrations:{validate:QO,help:JO()},customTrayButtons:{validate:YO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(zh))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return XO(e,mE)},help:"reactNativeConfig should look like ".concat(JSON.stringify(mE),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return qO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:cs};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:cs};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Pe(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return WO(e,{allowAllParticipantsKey:!1})},help:KO({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!HO(e)&&(t._inputSettings||(t._inputSettings={}),GO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:ny()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},nd={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Ae()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in i)if(a==="custom"){if(!n.includes(i[a])&&!s(i[a],!0))return!1}else{var l=!o&&!r.includes(a),c=!n.includes(i[a]);if(l||c)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Ae()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Wt(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=cE(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(!a.includes(c))return!1}}catch(y){l.e(y)}finally{l.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Wt(UO.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,b=["participants","streaming","transcription"],p=cE(i);try{for(p.s();!(m=p.n()).done;){var x=m.value;if(!b.includes(x))return!1}}catch(y){p.e(y)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=ye(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var W6=function(){function e(g){var k,_,P,A,M,B,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Pn(this,e),P=this,A=_r(A=e),Ir(_=Ff(P,BO()?Reflect.construct(A,[],_r(P).constructor):A.apply(P,M)),"startListeningForDeviceChanges",function(){D6(_.handleDeviceChange)}),Ir(_,"stopListeningForDeviceChanges",function(){L6(_.handleDeviceChange)}),Ir(_,"handleDeviceChange",function(Z){Z=Z.map(function(he){return JSON.parse(JSON.stringify(he))}),_.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Z})}),Ir(_,"handleNativeAppStateChange",function(){var Z=ye(function*(he){if(he==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield _.destroy());var Ve=he==="active";_.disableReactNativeAutoDeviceManagement("video")||(Ve?_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!0):(_.camUnmutedBeforeLosingNativeActiveState=_.localVideo(),_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!1)))});return function(he){return Z.apply(this,arguments)}}()),Ir(_,"handleNativeAudioFocusChange",function(Z){_.disableReactNativeAutoDeviceManagement("audio")||(_._hasNativeAudioFocus=Z,_.toggleParticipantAudioBasedOnNativeAudioFocus(),_._hasNativeAudioFocus?_.micUnmutedBeforeLosingNativeAudioFocus&&_.setLocalAudio(!0):(_.micUnmutedBeforeLosingNativeAudioFocus=_.localAudio(),_.setLocalAudio(!1)))}),Ir(_,"handleNativeSystemScreenCaptureStop",function(){_.stopScreenShare()}),!wm()&&!Ae())throw new Error("WebRTC not supported or suppressed");if(_.strictMode=U.strictMode===void 0||U.strictMode,_.allowMultipleCallInstances=(k=U.allowMultipleCallInstances)!==null&&k!==void 0&&k,Object.keys(Ci).length&&(_._logDuplicateInstanceAttempt(),!_.allowMultipleCallInstances)){if(_.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),_.callClientId=Uf(),Ci[(B=_).callClientId]=B,window._daily.instances[_.callClientId]={},_._sharedTracks={},window._daily.instances[_.callClientId].tracks=_._sharedTracks,U.dailyJsVersion=e.version(),_._iframe=g,_._callObjectMode=U.layout==="none"&&!_._iframe,_._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},U.showLocalVideo!==void 0?_._callObjectMode?console.error("showLocalVideo is not available in call object mode"):_._showLocalVideo=!!U.showLocalVideo:_._showLocalVideo=!0,U.showParticipantsBar!==void 0?_._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):_._showParticipantsBar=!!U.showParticipantsBar:_._showParticipantsBar=!0,U.customIntegrations!==void 0?_._callObjectMode?console.error("customIntegrations is not available in call object mode"):_._customIntegrations=U.customIntegrations:_._customIntegrations={},U.customTrayButtons!==void 0?_._callObjectMode?console.error("customTrayButtons is not available in call object mode"):_._customTrayButtons=U.customTrayButtons:_._customTrayButtons={},U.activeSpeakerMode!==void 0?_._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):_._activeSpeakerMode=!!U.activeSpeakerMode:_._activeSpeakerMode=!1,U.receiveSettings?_._callObjectMode?_._receiveSettings=U.receiveSettings:console.error("receiveSettings is only available in call object mode"):_._receiveSettings={},_.validateProperties(U),_.properties=de({},U),_._inputSettings||(_._inputSettings={}),_._callObjectLoader=_._callObjectMode?new k6(_.callClientId):null,_._callState=Bv,_._isPreparingToJoin=!1,_._accessState={access:Md},_._meetingSessionSummary={},_._finalSummaryOfPrevSession={},_._meetingSessionState=km(hE,_._callObjectMode),_._nativeInCallAudioMode=dE,_._participants={},_._isScreenSharing=!1,_._participantCounts=fE,_._rmpPlayerState={},_._waitingParticipants={},_._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},_._activeSpeaker={},_._localAudioLevel=0,_._isLocalAudioLevelObserverRunning=!1,_._remoteParticipantsAudioLevel={},_._isRemoteParticipantsAudioLevelObserverRunning=!1,_._maxAppMessageSize=gm,_._messageChannel=Ae()?new _6:new S6,_._iframe&&(_._iframe.requestFullscreen?_._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Ml}),_.sendMessageToCallMachine({action:Ml})):(_.emitDailyJSEvent({action:Dl}),_.sendMessageToCallMachine({action:Dl}))}):_._iframe.webkitRequestFullscreen&&_._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Ml}),_.sendMessageToCallMachine({action:Ml})):(_.emitDailyJSEvent({action:Dl}),_.sendMessageToCallMachine({action:Dl}))})),Ae()){var H=_.nativeUtils();H.addAudioFocusChangeListener&&H.removeAudioFocusChangeListener&&H.addAppStateChangeListener&&H.removeAppStateChangeListener&&H.addSystemScreenCaptureStopListener&&H.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),_._hasNativeAudioFocus=!0,H.addAudioFocusChangeListener(_.handleNativeAudioFocusChange),H.addAppStateChangeListener(_.handleNativeAppStateChange),H.addSystemScreenCaptureStopListener(_.handleNativeSystemScreenCaptureStop)}return _._callObjectMode&&_.startListeningForDeviceChanges(),_._messageChannel.addListenerForMessagesFromCallMachine(_.handleMessageFromCallMachine,_.callClientId,_),_}return Vf(e,Hu),Nn(e,[{key:"destroy",value:(re=ye(function*(){var g;try{yield this.leave()}catch{}var k=this._iframe;if(k){var _=k.parentElement;_&&_.removeChild(k)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Ae()){var P=this.nativeUtils();P.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),P.removeAppStateChangeListener(this.handleNativeAppStateChange),P.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Ci[this.callClientId],!((g=window)===null||g===void 0||(g=g._daily)===null||g===void 0)&&g.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return re.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var k=g.bodyClass,_=g.cssFile,P=g.cssText;return je(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(_),bodyClass:k,cssText:P}),this}},{key:"iframe",value:function(){return je(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return rr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return rr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,k){for(var _ in k){if(!nd[_])throw new Error("unrecognized updateParticipant property ".concat(_));if(nd[_].validate&&!nd[_].validate(k[_],this,this._participants[g]))throw new Error(nd[_].help)}}},{key:"updateParticipant",value:function(g,k){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&k&&(this.validateParticipantProperties(g,k),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:k})),this}},{key:"updateParticipants",value:function(g){var k=this._participants.local&&this._participants.local.session_id;for(var _ in g)_===k&&(_="local"),_&&g[_]&&this.validateParticipantProperties(_,g[_]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(te=ye(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(rr(this._callObjectMode,"updateWaitingParticipant()"),Be(this._callState,"updateWaitingParticipant()"),typeof k!="string"||Pe(_)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(P,A){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:k,updates:_},function(M){M.error&&A(M.error),M.id||A(new Error("unknown error in updateWaitingParticipant()")),P({id:M.id})})})}),function(){return te.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(Y=ye(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rr(this._callObjectMode,"updateWaitingParticipants()"),Be(this._callState,"updateWaitingParticipants()"),Pe(k)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(_,P){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:k},function(A){A.error&&P(A.error),A.ids||P(new Error("unknown error in updateWaitingParticipants()")),_({ids:A.ids})})})}),function(){return Y.apply(this,arguments)})},{key:"requestAccess",value:(V=ye(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=k.access,P=_===void 0?{level:AN}:_,A=k.name,M=A===void 0?"":A;return rr(this._callObjectMode,"requestAccess()"),Be(this._callState,"requestAccess()"),new Promise(function(B,U){g.sendMessageToCallMachine({action:"daily-method-request-access",access:P,name:M},function(H){H.error&&U(H.error),H.access||U(new Error("unknown error in requestAccess()")),B({access:H.access,granted:H.granted})})})}),function(){return V.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in k&&(Ae()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),k={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),k={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:k}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:($=ye(function*(g){var k=this,_=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,P=_!==void 0&&_;if(rr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Pe(g)){case"string":return new Promise(function(A){k.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:P},function(M){A(M.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(g){return $.apply(this,arguments)})},{key:"updateReceiveSettings",value:(X=ye(function*(g){var k=this;if(rr(this._callObjectMode,"updateReceiveSettings()"),!WO(g,{allowAllParticipantsKey:!0}))throw new Error(KO({allowAllParticipantsKey:!0}));return Be(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(_){k.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},function(P){_({receiveSettings:P.receiveSettings})})})}),function(g){return X.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,k){if(g){var _={};if(g.audio){var P,A,M;g.audio.settings&&(!Object.keys(g.audio.settings).length&&k||(_.audio={settings:de({},g.audio.settings)})),k&&(P=_.audio)!==null&&P!==void 0&&(P=P.settings)!==null&&P!==void 0&&P.customTrack&&(_.audio.settings={customTrack:this._sharedTracks.audioTrack});var B=((A=g.audio.processor)===null||A===void 0?void 0:A.type)==="none"&&((M=g.audio.processor)===null||M===void 0?void 0:M._isDefaultWhenNone);if(g.audio.processor&&!B){var U=de({},g.audio.processor);delete U._isDefaultWhenNone,_.audio=de(de({},_.audio),{},{processor:U})}}if(g.video){var H,Z,he;g.video.settings&&(!Object.keys(g.video.settings).length&&k||(_.video={settings:de({},g.video.settings)})),k&&(H=_.video)!==null&&H!==void 0&&(H=H.settings)!==null&&H!==void 0&&H.customTrack&&(_.video.settings={customTrack:this._sharedTracks.videoTrack});var Ve=((Z=g.video.processor)===null||Z===void 0?void 0:Z.type)==="none"&&((he=g.video.processor)===null||he===void 0?void 0:he._isDefaultWhenNone);if(g.video.processor&&!Ve){var ue=de({},g.video.processor);delete ue._isDefaultWhenNone,_.video=de(de({},_.video),{},{processor:ue})}}return _}}},{key:"getInputSettings",value:function(){var g=this;return je(),new Promise(function(k){k(g._getInputSettings())})}},{key:"_getInputSettings",value:function(){var g,k,_,P,A,M,B={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=((_=this._inputSettings)===null||_===void 0?void 0:_.video)||B,k=((P=this._inputSettings)===null||P===void 0?void 0:P.audio)||B):(g=((A=this._preloadCache)===null||A===void 0||(A=A.inputSettings)===null||A===void 0?void 0:A.video)||B,k=((M=this._preloadCache)===null||M===void 0||(M=M.inputSettings)===null||M===void 0?void 0:M.audio)||B);var U={audio:k,video:g};return this._prepInputSettingsForSharing(U,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,k){var _=this._inputSettings||{},P={};if(g.video){var A,M,B;P.video={},g.video.settings?(P.video.settings={},k||g.video.settings.customTrack||(B=_.video)===null||B===void 0||!B.settings?P.video.settings=g.video.settings:P.video.settings=de(de({},_.video.settings),g.video.settings),Object.keys(P.video.settings).length||delete P.video.settings):(A=_.video)!==null&&A!==void 0&&A.settings&&(P.video.settings=_.video.settings),g.video.processor?P.video.processor=g.video.processor:(M=_.video)!==null&&M!==void 0&&M.processor&&(P.video.processor=_.video.processor)}else _.video&&(P.video=_.video);if(g.audio){var U,H,Z;P.audio={},g.audio.settings?(P.audio.settings={},k||g.audio.settings.customTrack||(Z=_.audio)===null||Z===void 0||!Z.settings?P.audio.settings=g.audio.settings:P.audio.settings=de(de({},_.audio.settings),g.audio.settings),Object.keys(P.audio.settings).length||delete P.audio.settings):(U=_.audio)!==null&&U!==void 0&&U.settings&&(P.audio.settings=_.audio.settings),g.audio.processor?P.audio.processor=g.audio.processor:(H=_.audio)!==null&&H!==void 0&&H.processor&&(P.audio.processor=_.audio.processor)}else _.audio&&(P.audio=_.audio);this._maybeUpdateInputSettings(P)}},{key:"_devicesFromInputSettings",value:function(g){var k,_,P=(g==null||(k=g.video)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,A=(g==null||(_=g.audio)===null||_===void 0||(_=_.settings)===null||_===void 0?void 0:_.deviceId)||null,M=this._preloadCache.outputDeviceId||null;return{camera:P?{deviceId:P}:{},mic:A?{deviceId:A}:{},speaker:M?{deviceId:M}:{}}}},{key:"updateInputSettings",value:(Q=ye(function*(g){var k=this;return je(),HO(g)?g.video||g.audio?(GO(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise(function(_,P){k.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},function(A){if(A.error)P(A.error);else{if(A.returnPreloadCache)return k._updatePreloadCacheInputSettings(g,!0),void _(k._getInputSettings());k._maybeUpdateInputSettings(A.inputSettings),_(k._prepInputSettingsForSharing(A.inputSettings,!0))}})})):this._getInputSettings():(console.error(ny()),Promise.reject(ny()))}),function(g){return Q.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var k=g.kbs,_=g.trackConstraints;if(je(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:k,trackConstraints:_}),this}},{key:"getDailyLang",value:function(){var g=this;if(je(),this._callMachineInitialized)return new Promise(function(k){g.sendMessageToCallMachine({action:"get-daily-lang"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}},{key:"setDailyLang",value:function(g){return je(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[Os,Zr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(J=ye(function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Be(this._callState,"getMeetingSession()"),new Promise(function(k){g.sendMessageToCallMachine({action:"get-meeting-session"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}),function(){return J.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Be(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";rr(this._callObjectMode,"setMeetingSessionData()"),Be(this._callState,"setMeetingSessionData");try{(function(_,P){new E6({data:_,mergeStrategy:P})})(g,k)}catch(_){throw console.error(_),_}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:k})}catch(_){throw new Error("Error setting meeting session data: ".concat(_))}}},{key:"setUserName",value:function(g,k){var _=this;return this.properties.userName=g,new Promise(function(P){_.sendMessageToCallMachine({action:"set-user-name",name:g??"",thisMeetingOnly:Ae()||!!k&&!!k.thisMeetingOnly},function(A){delete A.action,delete A.callbackStamp,P(A)})})}},{key:"setUserData",value:(F=ye(function*(g){var k=this;try{qO(g)}catch(_){throw console.error(_),_}if(this.properties.userData=g,this._callMachineInitialized)return new Promise(function(_){try{k.sendMessageToCallMachine({action:"set-user-data",userData:g},function(P){delete P.action,delete P.callbackStamp,_(P)})}catch(P){throw new Error("Error setting user data: ".concat(P))}})}),function(g){return F.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||typeof g!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var k=this;if(typeof AudioWorkletNode>"u"&&!Ae())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(_,P){k.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},function(A){k._isLocalAudioLevelObserverRunning=!A.error,A.error?P({error:A.error}):_()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var k=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(_,P){k.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},function(A){k._isRemoteParticipantsAudioLevelObserverRunning=!A.error,A.error?P({error:A.error}):_()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(W=ye(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rr(this._callObjectMode,"startCamera()"),_m(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(k)}catch(_){return Promise.reject(_)}else{if(this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(k),this.properties=de(de({},this.properties),k)}return new Promise(function(_){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:Co(g.properties,g.callClientId),preloadCache:Co(g._preloadCache,g.callClientId)},function(P){_({camera:P.camera,mic:P.mic,speaker:P.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,k,_){if(_&&_.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(k&&k!=="music"&&k!=="speech"&&!(k instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(_&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(_))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return je(),Be(this._callState,"startCustomTrack()"),this.validateCustomTrack(k.track,k.mode,k.trackName),new Promise(function(_,P){g._sharedTracks.customTrack=k.track,k.track=cs,g.sendMessageToCallMachine({action:"start-custom-track",properties:k},function(A){A.error?P({error:A.error}):_(A.mediaTag)})})}},{key:"stopCustomTrack",value:function(g){var k=this;return je(),Be(this._callState,"stopCustomTrack()"),new Promise(function(_){k.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},function(P){_(P.mediaTag)})})}},{key:"setCamera",value:function(g){var k=this;return Cl(),rd(this._callMachineInitialized,"setCamera()"),new Promise(function(_){k.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},function(P){_({device:P.device})})})}},{key:"setAudioDevice",value:(L=ye(function*(g){return Cl(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(g){return L.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(_){g.sendMessageToCallMachine({action:"cycle-camera",properties:k},function(P){_({device:P.device})})})}},{key:"cycleMic",value:function(){var g=this;return je(),new Promise(function(k){g.sendMessageToCallMachine({action:"cycle-mic"},function(_){k({device:_.device})})})}},{key:"getCameraFacingMode",value:function(){var g=this;return Cl(),new Promise(function(k){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(_){k(_.facingMode)})})}},{key:"setInputDevicesAsync",value:(O=ye(function*(g){var k=this,_=g.audioDeviceId,P=g.videoDeviceId,A=g.audioSource,M=g.videoSource;if(je(),A!==void 0&&(_=A),M!==void 0&&(P=M),typeof _=="boolean"&&(this._setAllowLocalAudio(_),_=void 0),typeof P=="boolean"&&(this._setAllowLocalVideo(P),P=void 0),!_&&!P)return yield this.getInputDevices();var B={};return _&&(_ instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=_,_=cs,B.audio={settings:{customTrack:_}}):(delete this._sharedTracks.audioTrack,B.audio={settings:{deviceId:_}})),P&&(P instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=P,P=cs,B.video={settings:{customTrack:P}}):(delete this._sharedTracks.videoTrack,B.video={settings:{deviceId:P}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(B,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(U){k.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:_,videoDeviceId:P},function(H){if(delete H.action,delete H.callbackStamp,H.returnPreloadCache)return k._updatePreloadCacheInputSettings(B,!1),void U(k._devicesFromInputSettings(k._inputSettings));U(H)})})}),function(g){return O.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=ye(function*(g){var k=this,_=g.outputDeviceId;if(je(),!_||typeof _!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=_,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P,A){k.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:_},function(M){if(delete M.action,delete M.callbackStamp,M.error){var B=new Error(M.error.message);return B.type=M.error.type,void A(B)}M.returnPreloadCache?P(k._devicesFromInputSettings(k._inputSettings)):P(M)})})}),function(g){return R.apply(this,arguments)})},{key:"getInputDevices",value:(I=ye(function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(k){g.sendMessageToCallMachine({action:"get-input-devices"},function(_){_.returnPreloadCache?k(g._devicesFromInputSettings(g._inputSettings)):k({camera:_.camera,mic:_.mic,speaker:_.speaker})})})}),function(){return I.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Cl(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(Cl(),[dE,q6].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&Ld(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(N=ye(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rr(this._callObjectMode,"preAuth()"),_m(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(k)),!k.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(k),this.properties=de(de({},this.properties),k),new Promise(function(_,P){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:Co(g.properties,g.callClientId),preloadCache:Co(g._preloadCache,g.callClientId)},function(A){return A.error?P(A.error):A.access?(g._didPreAuth=!0,void _({access:A.access})):P(new Error("unknown error in preAuth()"))})})}),function(){return N.apply(this,arguments)})},{key:"load",value:(j=ye(function*(g){var k=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=de(de({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(V1),this.emitDailyJSEvent({action:DN}),this._callObjectMode?new Promise(function(_,P){k._callObjectLoader.cancel();var A=Date.now();k._callObjectLoader.load(k.properties.dailyConfig,function(M){k._bundleLoadTime=M?"no-op":Date.now()-A,k._updateCallState(U1),M&&k.emitDailyJSEvent({action:qv}),_()},function(M,B){if(k.emitDailyJSEvent({action:LN}),!B){k._updateCallState(Zr),k.resetMeetingDependentVars();var U={action:Jv,errorMsg:M.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:M,bundleUrl:Ih(k.properties.dailyConfig)}}};k._maybeSendToSentry(U),k.emitDailyJSEvent(U),P(M.msg)}})}):(this._iframe.src=hN(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(_,P){k._loadedCallback=function(A){k._callState!==Zr?(k._updateCallState(U1),(k.properties.cssFile||k.properties.cssText)&&k.loadCss(k.properties),_()):P(A)}}))}}),function(g){return j.apply(this,arguments)})},{key:"join",value:(T=ye(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var _=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(k)}catch(P){return this.updateIsPreparingToJoin(!1),Promise.reject(P)}}else{if(_=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(k.url&&!this._callObjectMode&&k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(k.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(k),this.properties=de(de({},this.properties),k)}return k.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!k.showLocalVideo),k.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!k.showParticipantsBar),this._callState===Vs||this._callState===Vh?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Vh,!1),this.emitDailyJSEvent({action:VN}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Co(this.properties,this.callClientId),preloadCache:Co(this._preloadCache,this.callClientId)}),new Promise(function(P,A){g._joinedCallback=function(M,B){if(g._callState!==Zr){if(g._updateCallState(Vs),M)for(var U in M){if(g._callObjectMode){var H=g._callMachine().store;Z1(M[U],H),eE(M[U],H),tE(M[U],g._participants[U],H)}g._participants[U]=de({},M[U]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}_&&g.loadCss(g.properties),P(M)}else A(B)}}))}),function(){return T.apply(this,arguments)})},{key:"leave",value:(C=ye(function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(k){g._callState===Os||g._callState===Zr?k():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(Os),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:Os}),k()):(g._resolveLeave=k,g.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return C.apply(this,arguments)})},{key:"startScreenShare",value:(E=ye(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rd(this._callMachineInitialized,"startScreenShare()"),k.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",k.screenVideoSendSettings),k.mediaStream&&(this._sharedTracks.screenMediaStream=k.mediaStream,k.mediaStream=cs),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var _=this.nativeUtils();if(yield _.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:Kv,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});_.setSystemScreenCaptureStartCallback(function(){_.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:z1,captureOptions:k})}),_.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:z1,captureOptions:k})}),function(){return E.apply(this,arguments)})},{key:"stopScreenShare",value:function(){rd(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=g.type;if(k&&k!=="cloud"&&k!=="raw-tracks"&&k!=="local")throw new Error("invalid type: ".concat(k,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(de({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,P=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:_,instanceId:P})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(de({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(de({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,P=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:_,instanceId:P})}},{key:"addLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:q1,endpointsOp:g6,endpoints:k,instanceId:_})}},{key:"removeLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:q1,endpointsOp:v6,endpoints:k,instanceId:_})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(de({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),OO()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw new Error("encodings must be an Array");if(!bE(g.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var P=0;P<g.length;P++){var A=g[P];for(var M in this._validateEncodingLayerHasValidProperties(A),A)if(Sm.includes(M)){if(typeof A[M]!="number")throw new Error("".concat(M," must be a number"));if(k){var B=k[M],U=B.min,H=B.max;if(!bE(A[M],U,H))throw new Error("".concat(M," value not in range. valid range: ").concat(U," to ").concat(H))}}else if(!["active","scalabilityMode"].includes(M))throw new Error("Invalid key ".concat(M,", valid keys are:")+Object.values(Sm));if(_&&!A.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=ye(function*(g){var k=this,_=g.url,P=g.settings,A=P===void 0?{state:Yv.PLAY}:P;try{(function(M){if(typeof M!="string")throw new Error('url parameter must be "string" type')})(_),wE(A),function(M){for(var B in M)if(!pE.includes(B))throw new Error("Invalid key ".concat(B,", valid keys are: ").concat(pE));M.simulcastEncodings&&this.validateSimulcastEncodings(M.simulcastEncodings,zO,!0)}(A)}catch(M){throw console.error("invalid argument Error: ".concat(M)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),M}return new Promise(function(M,B){k.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:_,settings:A},function(U){U.error?B({error:U.error,errorMsg:U.errorMsg}):M({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(g){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=ye(function*(g){var k=this;if(typeof g!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(_,P){k.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},function(A){A.error?P({error:A.error,errorMsg:A.errorMsg}):_()})})}),function(g){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=ye(function*(g){var k=this,_=g.session_id,P=g.settings;try{wE(P)}catch(A){throw console.error("invalid argument Error: ".concat(A)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),A}return new Promise(function(A,M){k.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:_,settings:P},function(B){B.error?M({error:B.error,errorMsg:B.errorMsg}):A({session_id:B.session_id,remoteMediaPlayerState:{state:B.state,settings:B.settings}})})})}),function(g){return y.apply(this,arguments)})},{key:"startTranscription",value:function(g){Be(this._callState,"startTranscription()"),this.sendMessageToCallMachine(de({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if(Be(this._callState,"updateTranscription()"),!g)throw new Error("updateTranscription Error: options is mandatory");if(Pe(g)!=="object")throw new Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(de({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if(Be(this._callState,"stopTranscription()"),g&&Pe(g)!=="object")throw new Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(de({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(x=ye(function*(g){var k=this;Be(this._callState,"startDialOut()");var _=function(B){if(B){if(!Array.isArray(B))throw new Error("Error starting dial out: audio codec must be an array");if(B.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");B.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: audio codec must be a string");if(U!=="OPUS"&&U!=="PCMU"&&U!=="PCMA"&&U!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!g.sipUri&&!g.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if(typeof g.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&typeof g.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(B){if(B&&(_(B.audio),B.video)){if(!Array.isArray(B.video))throw new Error("Error starting dial out: video codec must be an array");if(B.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");B.video.forEach(function(U){if(typeof U!="string")throw new Error("Error starting dial out: video codec must be a string");if(U!=="H264"&&U!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(g.codecs)}if(g.phoneNumber){if(typeof g.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&_(g.codecs.audio)}if(g.callerId){if(typeof g.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if(typeof g.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if(typeof g.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(gE(g),g.permissions&&g.permissions.canReceive){var P=Wt(UO.validateJSONObject(g.permissions.canReceive),2),A=P[0],M=P[1];if(!A)throw new Error(M)}if(g.provider){if(g.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(B,U){k.sendMessageToCallMachine(de({action:"dialout-start"},g),function(H){H.error?U(H.error):B(H)})})}),function(g){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var k=this;return Be(this._callState,"stopDialOut()"),new Promise(function(_,P){k.sendMessageToCallMachine(de({action:"dialout-stop"},g),function(A){A.error?P(A.error):_(A)})})}},{key:"sipCallTransfer",value:(p=ye(function*(g){var k=this;if(Be(this._callState,"sipCallTransfer()"),!g)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,yE(g,"sipCallTransfer"),gE(g),new Promise(function(_,P){k.sendMessageToCallMachine(de({action:W1},g),function(A){A.error?P(A.error):_(A)})})}),function(g){return p.apply(this,arguments)})},{key:"sipRefer",value:(b=ye(function*(g){var k=this;if(Be(this._callState,"sipRefer()"),!g)throw new Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,yE(g,"sipRefer"),new Promise(function(_,P){k.sendMessageToCallMachine(de({action:W1},g),function(A){A.error?P(A.error):_(A)})})}),function(g){return b.apply(this,arguments)})},{key:"sendDTMF",value:(m=ye(function*(g){var k=this;return Be(this._callState,"sendDTMF()"),function(_){var P=_.sessionId,A=_.tones;if(!P||!A)throw new Error("sessionId and tones are mandatory parameter");if(typeof P!="string"||typeof A!="string")throw new Error("sessionId and tones should be of string type");if(A.length>20)throw new Error("tones string must be upto 20 characters");var M=/[^0-9A-D*#]/g,B=A.match(M);if(B&&B[0])throw new Error("".concat(B[0]," is not valid DTMF tone"))}(g),new Promise(function(_,P){k.sendMessageToCallMachine(de({action:"send-dtmf"},g),function(A){A.error?P(A.error):_(A)})})}),function(g){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==Vs?Promise.resolve(de({stats:{latest:{}}},this._network)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-calc-stats"},function(_){k(de(de({},g._network),{},{stats:_.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=ye(function*(){var g=this;if(Em(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}return new Promise(function(k,_){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(P){P.error?_(P.error):k(P.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!F6(g)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=ye(function*(){var g=this;je(),rr(this._callObjectMode,"testCallQuality()"),rd(this._callMachineInitialized,"testCallQuality()",null,!0),_m(this._callState,this._isPreparingToJoin,"testCallQuality()");var k=this._testCallAlreadyInProgress,_=function(A){k||(g._testCallInProgress=A)};if(_(!0),this.needsLoad())try{var P=this._callState;yield this.load(),this._callState=P}catch(A){return _(!1),Promise.reject(A)}return new Promise(function(A){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},function(M){var B=M.results,U=B.result,H=M_(B,B6);if(U==="failed"){var Z,he=de({},H);(Z=H.error)!==null&&Z!==void 0&&Z.details?(H.error.details=JSON.parse(H.error.details),he.error=de(de({},he.error),{},{details:de({},he.error.details)}),he.error.details.duringTest="testCallQuality"):(he.error=he.error?de({},he.error):{},he.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(he)}_(!1),A(de({result:U},H))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=ye(function*(g){var k;Ae()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),k=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),k=yield this.testCallQuality());var _={result:k.result,secondsElapsed:k.secondsElapsed};return k.data&&(_.data={maxRTT:k.data.maxRoundTripTime,packetLoss:k.data.avgRecvPacketLoss}),_}),function(g){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(c=ye(function*(g){var k=this;if(Em(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(A){return Promise.reject(A)}var _=g.videoTrack,P=g.duration;if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=_,new Promise(function(A,M){k.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:P},function(B){B.error?M(B.error):A(B.results)})})}),function(g){return c.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Ae()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(l=ye(function*(g){var k=this;if(Em(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(_){return Promise.reject(_)}if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise(function(_,P){k.sendMessageToCallMachine({action:"test-network-connectivity"},function(A){A.error?P(A.error):_(A.results)})})}),function(g){return l.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise(function(k){g._callState===Vs?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(_){k(_.cpuStats)}):k({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var k;if(!(((k=Object.keys(g))===null||k===void 0?void 0:k.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Sm))}},{key:"_validateVideoSendSettings",value:function(g,k){var _=g==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],P="Video send settings should be either an object or one of the supported presets: ".concat(_.join());if(typeof k=="string"){if(!_.includes(k))throw new Error(P)}else{if(Pe(k)!=="object")throw new Error(P);if(!k.maxQuality&&!k.encodings&&k.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(k.maxQuality&&["low","medium","high"].indexOf(k.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(k.encodings){var A=!1;switch(Object.keys(k.encodings).length){case 1:A=!k.encodings.low;break;case 2:A=!k.encodings.low||!k.encodings.medium;break;case 3:A=!k.encodings.low||!k.encodings.medium||!k.encodings.high;break;default:A=!0}if(A)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");k.encodings.low&&this._validateEncodingLayerHasValidProperties(k.encodings.low),k.encodings.medium&&this._validateEncodingLayerHasValidProperties(k.encodings.medium),k.encodings.high&&this._validateEncodingLayerHasValidProperties(k.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var k=this;if(!g||Object.keys(g).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(g).forEach(function(_){var P=Wt(_,2),A=P[0],M=P[1];k._validateVideoSendSettings(A,M)})}},{key:"updateSendSettings",value:function(g){var k=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(_,P){k.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},function(A){A.error?P(A.error):_(A.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return je(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return je(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return je(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return Be(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(a=ye(function*(){var g=this;if(this._callObjectMode){var k=yield navigator.mediaDevices.enumerateDevices();return fo()==="Firefox"&&Uh().major>115&&Uh().major<123&&(k=k.filter(function(_){return _.kind!=="audiooutput"})),{devices:k.map(function(_){var P=JSON.parse(JSON.stringify(_));if(!Ae()&&_.kind==="videoinput"&&_.getCapabilities){var A,M=_.getCapabilities();P.facing=(M==null||(A=M.facingMode)===null||A===void 0?void 0:A.length)>=1?M.facingMode[0]:void 0}return P})}}return new Promise(function(_){g.sendMessageToCallMachine({action:"enumerate-devices"},function(P){_({devices:P.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Be(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:k}),this}},{key:"addFakeParticipant",value:function(g){return je(),Be(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(de({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return mn(this._callObjectMode,"setShowNamesMode()"),je(),g&&g!=="always"&&g!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this)}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return mn(this._callObjectMode,"setShowLocalVideo()"),je(),Be(this._callState,"setShowLocalVideo()"),typeof g!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g,this)}},{key:"showLocalVideo",value:function(){return mn(this._callObjectMode,"showLocalVideo()"),je(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return mn(this._callObjectMode,"setShowParticipantsBar()"),je(),Be(this._callState,"setShowParticipantsBar()"),typeof g!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g,this)}},{key:"showParticipantsBar",value:function(){return mn(this._callObjectMode,"showParticipantsBar()"),je(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return je(),mn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return je(),mn(this._callObjectMode,"setCustomIntegrations()"),Be(this._callState,"setCustomIntegrations()"),QO(g)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g,this):this}},{key:"startCustomIntegrations",value:function(g){var k=this;if(je(),mn(this._callObjectMode,"startCustomIntegrations()"),Be(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some(function(A){return typeof A!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,P=_.filter(function(A){return!(A in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:_}),this)}},{key:"stopCustomIntegrations",value:function(g){var k=this;if(je(),mn(this._callObjectMode,"stopCustomIntegrations()"),Be(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some(function(A){return typeof A!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,P=_.filter(function(A){return!(A in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:_}),this)}},{key:"customTrayButtons",value:function(){return mn(this._callObjectMode,"customTrayButtons()"),je(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return mn(this._callObjectMode,"updateCustomTrayButtons()"),je(),Be(this._callState,"updateCustomTrayButtons()"),YO(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(zh))),this)}},{key:"theme",value:function(){return mn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var k=this;return mn(this._callObjectMode,"setTheme()"),new Promise(function(_,P){try{k.validateProperties({theme:g}),k.properties.theme=de({},g),k.sendMessageToCallMachine({action:"set-theme",theme:k.properties.theme});try{k.emitDailyJSEvent({action:MN,theme:k.properties.theme})}catch(A){console.log("could not emit 'theme-updated'",A)}_(k.properties.theme)}catch(A){P(A)}})}},{key:"requestFullscreen",value:(o=ye(function*(){if(je(),this._iframe&&!document.fullscreenElement&&H1())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){je(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=ye(function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-sidebar-view"},function(_){k(_.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this)}},{key:"room",value:(s=ye(function*(){var g=this,k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,_=k===void 0||k;return this._accessState.access===Md||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(P){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:_},function(A){delete A.action,delete A.callbackStamp,P(A)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=ye(function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(k){return console.error("geo lookup failed",k),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=ye(function*(g){var k=this;return je(),Be(this._callState,"setNetworkTopology()"),new Promise(function(_,P){k.sendMessageToCallMachine({action:"set-network-topology",opts:g},function(A){A.error?P({error:A.error}):_({workerId:A.workerId})})})}),function(g){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=ye(function*(){var g=this;return new Promise(function(k,_){g.needsLoad()&&k({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},function(P){P.error?_({error:P.error}):k({topology:P.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(je(),typeof g!="number"&&g!==!0&&g!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,k){return Hu.prototype.on.call(this,g,k)}},{key:"once",value:function(g,k){return Hu.prototype.once.call(this,g,k)}},{key:"off",value:function(g,k){return Hu.prototype.off.call(this,g,k)}},{key:"validateProperties",value:function(g){var k,_;if(g!=null&&(k=g.dailyConfig)!==null&&k!==void 0&&k.userMediaAudioConstraints){var P,A;Ae()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var M=g.inputSettings||{};M.audio=((P=g.inputSettings)===null||P===void 0?void 0:P.audio)||{},M.audio.settings=((A=g.inputSettings)===null||A===void 0||(A=A.audio)===null||A===void 0?void 0:A.settings)||{},M.audio.settings=de(de({},M.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=M,delete g.dailyConfig.userMediaAudioConstraints}if(g!=null&&(_=g.dailyConfig)!==null&&_!==void 0&&_.userMediaVideoConstraints){var B,U;Ae()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var H=g.inputSettings||{};H.video=((B=g.inputSettings)===null||B===void 0?void 0:B.video)||{},H.video.settings=((U=g.inputSettings)===null||U===void 0||(U=U.video)===null||U===void 0?void 0:U.settings)||{},H.video.settings=de(de({},H.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=H,delete g.dailyConfig.userMediaVideoConstraints}for(var Z in g)if(Ti[Z]){if(Ti[Z].validate&&!Ti[Z].validate(g[Z],this))throw new Error("property '".concat(Z,"': ").concat(Ti[Z].help))}else console.warn("Ignoring unrecognized property '".concat(Z,"'")),delete g[Z]}},{key:"assembleMeetingUrl",value:function(){var g,k,_=de(de({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(g=this.properties.dailyConfig)!==null&&g!==void 0&&g.proxyUrl?encodeURIComponent((k=this.properties.dailyConfig)===null||k===void 0?void 0:k.proxyUrl):void 0}),P=_.url.match(/\?/)?"&":"?";return _.url+P+Object.keys(Ti).filter(function(A){return Ti[A].queryString&&_[A]!==void 0}).map(function(A){return"".concat(Ti[A].queryString,"=").concat(_[A])}).join("&")}},{key:"needsLoad",value:function(){return[Bv,V1,Os,Zr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,k){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,k,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case RN:this.sendMessageToCallMachine(de({action:IN},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var k={action:ed,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Ih(this.properties.dailyConfig)}};this.sendMessageToCallMachine(k),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case qv:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case UN:var _,P=de({},g);delete P.internal,this._maxAppMessageSize=((_=g.internal)===null||_===void 0?void 0:_._maxAppMessageSize)||gm,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(P);break;case zN:case qN:if(this._callState===Os)return;if(g.participant&&g.participant.session_id){var A=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var M=this._callMachine().store;Z1(g.participant,M),eE(g.participant,M),tE(g.participant,this._participants[A],M)}try{this.maybeParticipantTracksStopped(this._participants[A],g.participant),this.maybeParticipantTracksStarted(this._participants[A],g.participant),this.maybeEventRecordingStopped(this._participants[A],g.participant),this.maybeEventRecordingStarted(this._participants[A],g.participant)}catch(He){console.error("track events error",He)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[A])||(this._participants[A]=de({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case WN:if(g.participant&&g.participant.session_id){var B=this._participants[g.participant.session_id];B&&this.maybeParticipantTracksStopped(B,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case HN:Qt(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case GN:var U={access:g.access};g.awaitingAccess&&(U.awaitingAccess=g.awaitingAccess),Qt(this._accessState,U)||(this._accessState=U,this.emitDailyJSEvent(g));break;case KN:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var H=de(de({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(H)}break;case Jv:var Z;this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(Zr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var he=M_(g,z6);he!=null&&(Z=he.error)!==null&&Z!==void 0&&Z.details&&(he.error.details=JSON.parse(he.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,he),this._joinedCallback=null),this.emitDailyJSEvent(he);break;case BN:this._callState!==Zr&&this._updateCallState(Os),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case yO:var Ve=g.state,ue=g.threshold,pt=g.quality,Me=Ve.state,ot=Ve.reasons;Me===this._network.networkState&&Qt(ot,this._network.networkStateReasons)&&ue===this._network.threshold&&pt===this._network.quality||(this._network.networkState=Me,this._network.networkStateReasons=ot,this._network.quality=pt,this._network.threshold=ue,g.networkState=Me,ot.length&&(g.networkStateReasons=ot),delete g.state,this.emitDailyJSEvent(g));break;case bO:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case xO:g&&g.faceCounts!==void 0&&this.emitDailyJSEvent(g);break;case gO:var kt=g.activeSpeaker;this._activeSpeaker.peerId!==kt.peerId&&(this._activeSpeaker.peerId=kt.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var ae=g.show;this._showLocalVideo=ae,this.emitDailyJSEvent({action:g.action,show:ae});break;case vO:var ie=g.enabled;this._activeSpeakerMode!==ie&&(this._activeSpeakerMode=ie,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case YN:case QN:case XN:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case TO:Qt(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case Gv:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":Qt(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case uO:var Qe=g.session_id;this._rmpPlayerState[Qe]=g.playerState,this.emitDailyJSEvent(g);break;case hO:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case dO:var D=g.session_id,ve=this._rmpPlayerState[D];ve&&this.compareEqualForRMPUpdateEvent(ve,g.remoteMediaPlayerState)||(this._rmpPlayerState[D]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case JN:var at=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=km(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||at)&&this.emitDailyJSEvent(g);break;case fO:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case pO:case mO:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case Wv:case Hv:case sO:case iO:case oO:case tO:case nO:case rO:case $N:case FN:case lO:case cO:case"test-completed":case wO:case aO:case SO:case _O:case EO:case kO:case Kv:case CO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,k){var _="record";g&&(k.local||k[_]!==!1||g[_]===k[_]||this.emitDailyJSEvent({action:Hv}))}},{key:"maybeEventRecordingStarted",value:function(g,k){var _="record";g&&(k.local||k[_]!==!0||g[_]===k[_]||this.emitDailyJSEvent({action:Wv}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==jN)}},{key:"_trackChanged",value:function(g,k){return(g==null?void 0:g.id)!==(k==null?void 0:k.id)}},{key:"maybeEventTrackStopped",value:function(g,k,_){var P,A,M=(P=k==null?void 0:k.tracks[g])!==null&&P!==void 0?P:null,B=(A=_==null?void 0:_.tracks[g])!==null&&A!==void 0?A:null,U=M==null?void 0:M.track;if(U){var H=this._trackStatePlayable(M),Z=this._trackStatePlayable(B),he=this._trackChanged(U,B==null?void 0:B.track);H&&(Z&&!he||this.emitDailyJSEvent({action:eO,track:U,participant:_??k,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,k,_){var P,A,M=(P=k==null?void 0:k.tracks[g])!==null&&P!==void 0?P:null,B=(A=_==null?void 0:_.tracks[g])!==null&&A!==void 0?A:null,U=B==null?void 0:B.track;if(U){var H=this._trackStatePlayable(M),Z=this._trackStatePlayable(B),he=this._trackChanged(M==null?void 0:M.track,U);Z&&(H&&!he||this.emitDailyJSEvent({action:ZN,track:U,participant:_,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,k){if(g)for(var _ in g.tracks)this.maybeEventTrackStopped(_,g,k)}},{key:"maybeParticipantTracksStarted",value:function(g,k){if(k)for(var _ in k.tracks)this.maybeEventTrackStarted(_,g,k)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,k){var _,P;return g.state===k.state&&((_=g.settings)===null||_===void 0?void 0:_.volume)===((P=k.settings)===null||P===void 0?void 0:P.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(k){console.log("could not emit",g,k)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,k){return!!Qt(g,k)&&(!g.videoTrack||!k.videoTrack||g.videoTrack.id===k.videoTrack.id&&g.videoTrack.muted===k.videoTrack.muted&&g.videoTrack.enabled===k.videoTrack.enabled)&&(!g.audioTrack||!k.audioTrack||g.audioTrack.id===k.audioTrack.id&&g.audioTrack.muted===k.audioTrack.muted&&g.audioTrack.enabled===k.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Ae()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||k!==this._isPreparingToJoin){var _=this._callState,P=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=k;var A=this._callState===Vs;this.updateShowAndroidOngoingMeetingNotification(A);var M=Ld(_,P),B=Ld(this._callState,this._isPreparingToJoin);M!==B&&(this.updateKeepDeviceAwake(B),this.updateDeviceAudioMode(B),this.updateNoOpRecordingEnsuringBackgroundContinuity(B))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=fE,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Md},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=km(hE,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=gm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){Ae()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(Ae()&&!this.disableReactNativeAutoDeviceManagement("audio")){var k=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(k)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(Ae()&&this.nativeUtils().setShowOngoingMeetingNotification){var k,_,P,A;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var M=this.properties.reactNativeConfig.androidInCallNotification;k=M.title,_=M.subtitle,P=M.iconName,A=M.disableForCustomOverride}A&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,k,_,P,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){Ae()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(Ae()){var k=(g=this._callMachine())===null||g===void 0||(g=g.store)===null||g===void 0?void 0:g.getState();for(var _ in k==null?void 0:k.streams){var P=k.streams[_];P&&P.pendingTrack&&P.pendingTrack.kind==="audio"&&(P.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(g!==void 0){var k=document.createElement("a");return k.href=g,k.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(Ci)[0];if(this.needsLoad())if(g&&!g.needsLoad()){var k={action:ed,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(k)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var _={action:ed,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(_,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,k=Object.values(Ci);g<k.length;g++){var _=k[g];_._callMachineInitialized?(_.sendMessageToCallMachine({action:ed,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),_._delayDuplicateInstanceLog=!1):_._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){var k,_,P,A;if(!((k=g.error)!==null&&k!==void 0&&k.type&&(![ON,NN,zv].includes(g.error.type)||g.error.type===zv&&g.error.msg.includes("deleted")))){var M=(_=this.properties)!==null&&_!==void 0&&_.url?new URL(this.properties.url):void 0,B="production";M&&M.host.includes(".staging.daily")&&(B="staging");var U,H,Z,he,Ve,ue=function(Qe){const D=[hW(),uW(),$W(),DW(),zW(),WW(),gW(),qW()];return Qe.autoSessionTracking!==!1&&D.push(BW()),D}({}).filter(function(Qe){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Qe.name)}),pt=new EW({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:AW,stackParser:MW,integrations:ue,environment:B}),Me=new pi;if(Me.setClient(pt),pt.init(),this.session_id&&Me.setExtra("sessionId",this.session_id),this.properties){var ot=de({},this.properties);ot.userName=ot.userName?"[Filtered]":void 0,ot.userData=ot.userData?"[Filtered]":void 0,ot.token=ot.token?"[Filtered]":void 0,Me.setExtra("properties",ot)}if(M){var kt=M.searchParams.get("domain");if(!kt){var ae=M.host.match(/(.*?)\./);kt=ae&&ae[1]||""}kt&&Me.setTag("domain",kt)}g.error&&(Me.setTag("fatalErrorType",g.error.type),Me.setExtra("errorDetails",g.error.details),!((U=g.error.details)===null||U===void 0)&&U.uri&&Me.setTag("serverAddress",g.error.details.uri),!((H=g.error.details)===null||H===void 0)&&H.workerGroup&&Me.setTag("workerGroup",g.error.details.workerGroup),!((Z=g.error.details)===null||Z===void 0)&&Z.geoGroup&&Me.setTag("geoGroup",g.error.details.geoGroup),!((he=g.error.details)===null||he===void 0)&&he.on&&Me.setTag("connectionAttempt",g.error.details.on),(Ve=g.error.details)!==null&&Ve!==void 0&&Ve.bundleUrl&&(Me.setTag("bundleUrl",g.error.details.bundleUrl),Me.setTag("bundleError",g.error.details.sourceError.type))),Me.setTags({callMode:this._callObjectMode?Ae()?"reactNative":(P=this.properties)!==null&&P!==void 0&&(P=P.dailyConfig)!==null&&P!==void 0&&(P=P.callMode)!==null&&P!==void 0&&P.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var ie=((A=g.error)===null||A===void 0?void 0:A.msg)||g.errorMsg;Me.captureException(new Error(ie))}}},{key:"_callMachine",value:function(){var g;return(g=window._daily)===null||g===void 0||(g=g.instances)===null||g===void 0||(g=g[this.callClientId])===null||g===void 0?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!Qt(this._inputSettings,g)){var k=this._getInputSettings();this._inputSettings=g;var _=this._getInputSettings();Qt(k,_)||this.emitDailyJSEvent({action:Gv,inputSettings:_})}}}],[{key:"supportedBrowser",value:function(){if(Ae())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=O8.getParser(Gn());return{supported:!!wm(),mobile:g.getPlatformType()==="mobile",name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!H1(),supportsScreenShare:!!y6(),supportsSfu:!!wm(),supportsVideoProcessing:PO(),supportsAudioProcessing:NO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.layout="none",new e(null,g)}},{key:"wrap",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(je(),!g||!g.contentWindow||typeof g.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return k.layout||(k.customLayout?k.layout="custom-v1":k.layout="browser"),new e(g,k)}},{key:"createFrame",value:function(g,k){var _,P;je(),g&&k?(_=g,P=k):g&&g.append?(_=g,P={}):(_=document.body,P=g||{});var A=P.iframeStyle;A||(A=_===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var M=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?M.allow="microphone, camera":M.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",M.style.visibility="hidden",_.appendChild(M),M.style.visibility=null,Object.keys(A).forEach(function(B){return M.style[B]=A[B]}),P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser");try{return new e(M,P)}catch(B){throw _.removeChild(M),B}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je();var k=document.createElement("iframe");return k.allow="microphone; camera; autoplay",k.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(k),g.layout||(g.layout="custom-v1"),e.wrap(k,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return g?Ci[g]:Object.values(Ci)[0]}}]);var t,n,r,s,i,o,a,l,c,d,h,f,m,b,p,x,y,w,S,E,C,T,j,N,I,R,O,L,W,F,J,Q,X,$,V,Y,te,re}();function gE(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Co(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=cs;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Be(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==Vs){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function Ld(e,t){return[Vh,Vs].includes(e)||t}function _m(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(Ld(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function rd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Em(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function rr(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function mn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function je(){if(Ae())throw new Error("This daily-js method is not currently supported in React Native")}function Cl(){if(!Ae())throw new Error("This daily-js method is only supported in React Native")}function qO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Qt(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function WO(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var l=Wt(a[o],2),c=l[0],d=l[1];if(!r(c)||!i(d))return!1}return!0}function HO(e){if(Pe(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Wt(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Pe(i)!=="object")return!1;for(var o=0,a=Object.entries(i);o<a.length;o++){var l=Wt(a[o],2),c=l[0],d=l[1];switch(c){case"processor":if(!G6(d))return!1;break;case"settings":if(!vE(d))return!1;break;default:return!1}}break;case"audio":if(Pe(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Wt(f[h],2),b=m[0],p=m[1];switch(b){case"processor":if(!H6(p))return!1;break;case"settings":if(!vE(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function GO(e,t,n){var r,s=[];e.video&&e.video.processor&&(PO((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(NO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:cs}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:cs}):delete n.videoTrack)}function H6(e){if(Ae())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Pe(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(jO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function G6(e){if(Ae())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Pe(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Dd).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Pe(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Dd.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Dd.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Mh(o.source))return o.type="url",!!function(c){var d=new URL(c),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return ym.includes(f)}catch(b){return console.error("failed to deduce blob content type",b),!1}var m=h.split(".").at(-1).toLowerCase().trim();return ym.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(ym.join(", "),"]")),!1);return a=o.source,l=Number(a),isNaN(l)||!Number.isInteger(l)||l<=0||l>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var a,l}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function vE(e){return Pe(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function ny(){var e=Object.values(Dd).join(" | "),t=Object.values(jO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function KO(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(PN).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function JO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(ty),".")}function YO(e){if(e&&Pe(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(zh),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Wt(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=Wt(i[s],2),a=o[0],l=o[1],c=zh.id[a];if(!c)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Mh(l))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(a," should be ").concat(c,". Got: ").concat(l)),!1;break;default:if(Pe(l)!==c)return console.error("customTrayButton ".concat(a," should be a ").concat(c,".")),!1}}return!0}function QO(e){if(!e||e&&Pe(e)!=="object"||Array.isArray(e))return console.error(JO()),!1;for(var t=function(h){return"".concat(h," should be ").concat(ty.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,s=Object.entries(e);r<s.length;r++){var i=Wt(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[i]);o<a.length;o++){var l=Wt(a[o],2),c=l[0],d=l[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(c)),!1;break;case"iconURL":if(!Mh(d))return n(i,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!Mh(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(c)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(c)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(c)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(c)),!1;break;default:if(!ty.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function XO(e,t){if(t===void 0)return!1;switch(Pe(t)){case"string":return Pe(e)===t;case"object":if(Pe(e)!=="object")return!1;for(var n in e)if(!XO(e[n],t[n]))return!1;return!0;default:return!1}}function yE(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function wE(e){if(Pe(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Yv).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Yv));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function bE(e,t,n){return!(typeof e!="number"||e<t||e>n)}function km(e,t){return e&&!t&&delete e.data,e}const K6=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:AN,DAILY_ACCESS_LEVEL_LOBBY:QW,DAILY_ACCESS_LEVEL_NONE:XW,DAILY_ACCESS_UNKNOWN:Md,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:c6,DAILY_CAMERA_ERROR_CAM_IN_USE:a6,DAILY_CAMERA_ERROR_CONSTRAINTS:f6,DAILY_CAMERA_ERROR_MIC_IN_USE:l6,DAILY_CAMERA_ERROR_NOT_FOUND:h6,DAILY_CAMERA_ERROR_PERMISSIONS:u6,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:d6,DAILY_CAMERA_ERROR_UNKNOWN:p6,DAILY_EVENT_ACCESS_STATE_UPDATED:GN,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:gO,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:vO,DAILY_EVENT_APP_MSG:lO,DAILY_EVENT_CAMERA_ERROR:FN,DAILY_EVENT_CPU_LOAD_CHANGE:bO,DAILY_EVENT_ERROR:Jv,DAILY_EVENT_EXIT_FULLSCREEN:Dl,DAILY_EVENT_FACE_COUNTS_UPDATED:xO,DAILY_EVENT_FULLSCREEN:Ml,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:IN,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:RN,DAILY_EVENT_INPUT_SETTINGS_UPDATED:Gv,DAILY_EVENT_JOINED_MEETING:UN,DAILY_EVENT_JOINING_MEETING:VN,DAILY_EVENT_LANG_UPDATED:CO,DAILY_EVENT_LEFT_MEETING:BN,DAILY_EVENT_LIVE_STREAMING_ERROR:kO,DAILY_EVENT_LIVE_STREAMING_STARTED:SO,DAILY_EVENT_LIVE_STREAMING_STOPPED:EO,DAILY_EVENT_LIVE_STREAMING_UPDATED:_O,DAILY_EVENT_LOADED:qv,DAILY_EVENT_LOADING:DN,DAILY_EVENT_LOAD_ATTEMPT_FAILED:LN,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:mO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:fO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:pO,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:m6,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:JN,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:KN,DAILY_EVENT_NETWORK_CONNECTION:wO,DAILY_EVENT_NETWORK_QUALITY_CHANGE:yO,DAILY_EVENT_NONFATAL_ERROR:Kv,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:HN,DAILY_EVENT_PARTICIPANT_JOINED:zN,DAILY_EVENT_PARTICIPANT_LEFT:WN,DAILY_EVENT_PARTICIPANT_UPDATED:qN,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:TO,DAILY_EVENT_RECORDING_DATA:aO,DAILY_EVENT_RECORDING_ERROR:iO,DAILY_EVENT_RECORDING_STARTED:Wv,DAILY_EVENT_RECORDING_STATS:sO,DAILY_EVENT_RECORDING_STOPPED:Hv,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:oO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:uO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:hO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:dO,DAILY_EVENT_STARTED_CAMERA:$N,DAILY_EVENT_THEME_UPDATED:MN,DAILY_EVENT_TRACK_STARTED:ZN,DAILY_EVENT_TRACK_STOPPED:eO,DAILY_EVENT_TRANSCRIPTION_ERROR:rO,DAILY_EVENT_TRANSCRIPTION_MSG:cO,DAILY_EVENT_TRANSCRIPTION_STARTED:tO,DAILY_EVENT_TRANSCRIPTION_STOPPED:nO,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:YN,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:XN,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:QN,DAILY_FATAL_ERROR_CONNECTION:ON,DAILY_FATAL_ERROR_EJECTED:e6,DAILY_FATAL_ERROR_EOL:NN,DAILY_FATAL_ERROR_EXP_ROOM:r6,DAILY_FATAL_ERROR_EXP_TOKEN:s6,DAILY_FATAL_ERROR_MEETING_FULL:i6,DAILY_FATAL_ERROR_NBF_ROOM:t6,DAILY_FATAL_ERROR_NBF_TOKEN:n6,DAILY_FATAL_ERROR_NOT_ALLOWED:o6,DAILY_FATAL_ERROR_NO_ROOM:zv,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:ZW,DAILY_RECEIVE_SETTINGS_BASE_KEY:PN,DAILY_STATE_ERROR:Zr,DAILY_STATE_JOINED:Vs,DAILY_STATE_JOINING:Vh,DAILY_STATE_LEFT:Os,DAILY_STATE_NEW:Bv,DAILY_TRACK_STATE_BLOCKED:HW,DAILY_TRACK_STATE_INTERRUPTED:YW,DAILY_TRACK_STATE_LOADING:JW,DAILY_TRACK_STATE_OFF:GW,DAILY_TRACK_STATE_PLAYABLE:jN,DAILY_TRACK_STATE_SENDABLE:KW,default:W6},Symbol.toStringTag,{value:"Module"})),J6=hD(K6);var B0={exports:{}},pa=typeof Reflect=="object"?Reflect:null,xE=pa&&typeof pa.apply=="function"?pa.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},$d;pa&&typeof pa.ownKeys=="function"?$d=pa.ownKeys:Object.getOwnPropertySymbols?$d=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:$d=function(t){return Object.getOwnPropertyNames(t)};function Y6(e){console&&console.warn&&console.warn(e)}var ZO=Number.isNaN||function(t){return t!==t};function Fe(){Fe.init.call(this)}B0.exports=Fe;B0.exports.once=eH;Fe.EventEmitter=Fe;Fe.prototype._events=void 0;Fe.prototype._eventsCount=0;Fe.prototype._maxListeners=void 0;var SE=10;function Gf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Fe,"defaultMaxListeners",{enumerable:!0,get:function(){return SE},set:function(e){if(typeof e!="number"||e<0||ZO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");SE=e}});Fe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Fe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ZO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function eR(e){return e._maxListeners===void 0?Fe.defaultMaxListeners:e._maxListeners}Fe.prototype.getMaxListeners=function(){return eR(this)};Fe.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[t];if(l===void 0)return!1;if(typeof l=="function")xE(l,this,n);else for(var c=l.length,d=iR(l,c),r=0;r<c;++r)xE(d[r],this,n);return!0};function tR(e,t,n,r){var s,i,o;if(Gf(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=eR(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,Y6(a)}return e}Fe.prototype.addListener=function(t,n){return tR(this,t,n,!1)};Fe.prototype.on=Fe.prototype.addListener;Fe.prototype.prependListener=function(t,n){return tR(this,t,n,!0)};function Q6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nR(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=Q6.bind(r);return s.listener=n,r.wrapFn=s,s}Fe.prototype.once=function(t,n){return Gf(n),this.on(t,nR(this,t,n)),this};Fe.prototype.prependOnceListener=function(t,n){return Gf(n),this.prependListener(t,nR(this,t,n)),this};Fe.prototype.removeListener=function(t,n){var r,s,i,o,a;if(Gf(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():X6(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Fe.prototype.off=Fe.prototype.removeListener;Fe.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function rR(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?Z6(s):iR(s,s.length)}Fe.prototype.listeners=function(t){return rR(this,t,!0)};Fe.prototype.rawListeners=function(t){return rR(this,t,!1)};Fe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):sR.call(e,t)};Fe.prototype.listenerCount=sR;function sR(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Fe.prototype.eventNames=function(){return this._eventsCount>0?$d(this._events):[]};function iR(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function X6(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Z6(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function eH(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}oR(e,t,i,{once:!0}),t!=="error"&&tH(e,s,{once:!0})})}function tH(e,t,n){typeof e.on=="function"&&oR(e,"error",t,n)}function oR(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var nH=B0.exports,Kf={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.Api=oi.HttpClient=oi.ContentType=void 0;var ee;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(ee||(oi.ContentType=ee={}));class aR{constructor(t={}){xe(this,"baseUrl","https://api.vapi.ai");xe(this,"securityData",null);xe(this,"securityWorker");xe(this,"abortControllers",new Map);xe(this,"customFetch",(...t)=>fetch(...t));xe(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});xe(this,"setSecurityData",t=>{this.securityData=t});xe(this,"contentFormatters",{[ee.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ee.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[ee.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[ee.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[ee.UrlEncoded]:t=>this.toQueryString(t)});xe(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});xe(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});xe(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:a,cancelToken:l,...c})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(c,d),f=i&&this.toQueryString(i),m=this.contentFormatters[s||ee.Json],b=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==ee.FormData?{"Content-Type":s}:{}},signal:(l?this.createAbortSignal(l):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const x=p;x.data=null,x.error=null;const y=b?p.clone():p,w=b?await y[b]().then(S=>(x.ok?x.data=S:x.error=S,x)).catch(S=>(x.error=S,x)):x;if(l&&this.abortControllers.delete(l),!p.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}oi.HttpClient=aR;class rH extends aR{constructor(){super(...arguments);xe(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:ee.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});xe(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});xe(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s})});xe(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:ee.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});xe(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});xe(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:ee.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:ee.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:ee.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});xe(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:ee.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:ee.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});xe(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});xe(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:ee.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});xe(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})});xe(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:ee.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:ee.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});xe(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:ee.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:ee.Json,...r})});xe(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:ee.Json,format:"json",...s})});xe(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:ee.FormData,...r})});xe(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:ee.Json,format:"json",...r})})}}oi.Api=rH;Object.defineProperty(Kf,"__esModule",{value:!0});Kf.client=void 0;const sH=oi,iH=new sH.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});Kf.client=iH;var dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.createSafeDailyConfig=oH;dl.safeSetLocalAudio=aH;dl.safeSetInputDevicesAsync=lH;dl.createSafeDailyFactoryOptions=cH;function oH(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function aH(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function lH(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function cH(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var lR=xb&&xb.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cN,"__esModule",{value:!0});const Cm=lR(J6),uH=lR(nH),Tm=Kf,ji=dl;function Gt(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function dH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function _E(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await dH(n,e),n}function EE(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function kE(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class hH extends uH.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class fH extends hH{constructor(n,r,s,i){super();xe(this,"started",!1);xe(this,"call",null);xe(this,"speakingTimeout",null);xe(this,"dailyCallConfig",{});xe(this,"dailyCallObject",{});xe(this,"hasEmittedCallEndedStatus",!1);Tm.client.baseUrl=r??"https://api.vapi.ai",Tm.client.setSecurityData(n),this.dailyCallConfig=(0,ji.createSafeDailyConfig)(s),this.dailyCallObject=(0,ji.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,a){var c,d,h,f,m,b,p;const l=Date.now();if(!n&&!s&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:Gt(x),timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),y=(await Tm.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:a==null?void 0:a.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((c=y==null?void 0:y.artifactPlan)==null?void 0:c.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,E=((b=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:b.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:E}});const C=Date.now();try{this.call=Cm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const O=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-C,W=Gt(O);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:W,timestamp:new Date().toISOString()}),O}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var L;this.emit("error",{type:"daily-error",error:Gt(O),timestamp:new Date().toISOString()}),S&&((L=this.call)==null||L.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:Gt(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var L,W,F;!O||!O.participant||(L=O.participant)!=null&&L.local||((W=O.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await _E(O.track,O.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||kE(O,this.call,S,E)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&EE(O.participant.session_id)});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const O=Date.now();await this.sleep(1e3);const L=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:L,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const j=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const O=Date.now()-j;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-j,W=Gt(O);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:W,duration:L,timestamp:new Date().toISOString()}),O}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=new Date().getTime(),L=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-L;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-O)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(W){const F=Date.now()-L,J=Gt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:J.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:J,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-N,W=Gt(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:W,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var L;(O==null?void 0:O.type)==="audio-processor-error"&&((L=this.call)==null||L.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,ji.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-I,W=Gt(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:W,timestamp:new Date().toISOString()})}const R=Date.now()-l;return this.emit("call-start-success",{totalDuration:R,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(x){const y=Date.now()-l,w=Gt(x);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,ji.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,ji.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const a=s.createMediaStreamDestination();o.connect(a);const[l]=a.stream.getAudioTracks();await(0,ji.safeSetInputDevicesAsync)(this.call,{audioSource:l})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,a,l,c,d,h,f,m,b,p,x;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((a=n==null?void 0:n.artifactPlan)==null?void 0:a.videoRecordingEnabled)??!1,w=((c=(l=n==null?void 0:n.assistant)==null?void 0:l.voice)==null?void 0:c.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:w}});const S=Date.now();this.call=Cm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const E=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var L;this.emit("error",{type:"daily-error",error:Gt(O),timestamp:new Date().toISOString()}),y&&((L=this.call)==null||L.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:Gt(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var L,W,F;!O||!O.participant||(L=O.participant)!=null&&L.local||((W=O.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await _E(O.track,O.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||kE(O,this.call,y,w)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&EE(O.participant.session_id)}),this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var L;(O==null?void 0:O.type)==="audio-processor-error"&&((L=this.call)==null||L.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,ji.safeSetLocalAudio)(this.call,!0)}))});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const O=Date.now();await this.sleep(1e3);const L=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:L,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const T=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const j=Date.now()-T;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:j,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now(),L=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-O;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-L)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(W){const F=Date.now()-O,J=Gt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:J.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-N,W=Gt(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:W.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const L=Date.now()-I,W=Gt(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:W.message}})}const R=Date.now()-r;this.emit("call-start-success",{totalDuration:R,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const w=Date.now()-r,S=Gt(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((b=n==null?void 0:n.artifactPlan)!=null&&b.videoRecordingEnabled),voiceProvider:((x=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=Cm.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var pH=cN.default=fH;const mH=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function gH(e={}){const[t,n]=v.useState("idle"),[r,s]=v.useState([]),[i,o]=v.useState(!1),[a,l]=v.useState(0),c=v.useRef(null),d=v.useCallback(b=>{var p;n(b),(p=e.onStatusChange)==null||p.call(e,b)},[e]);v.useEffect(()=>{const b="4755e6d9-a32f-474b-a4e7-8d103fc571b5",p=new pH(b);return c.current=p,p.on("call-start",()=>{console.log("Vapi: Call started"),d("connected")}),p.on("call-end",()=>{var x;console.log("Vapi: Call ended"),d("ended"),(x=e.onCallEnd)==null||x.call(e,r)}),p.on("speech-start",()=>{d("speaking")}),p.on("speech-end",()=>{d("listening")}),p.on("message",x=>{if(x.type==="transcript"){const y={role:x.role,content:x.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(w=>{var S,E;if(x.transcriptType==="partial"&&w.length>0&&w[w.length-1].role===x.role){const C=[...w];return C[C.length-1]=y,(S=e.onTranscriptUpdate)==null||S.call(e,C),C}else if(x.transcriptType==="final"){const C=[...w,y];return(E=e.onTranscriptUpdate)==null||E.call(e,C),C}return w})}}),p.on("volume-level",x=>{l(x)}),p.on("error",x=>{var y;console.error("Vapi error:",x),d("error"),(y=e.onError)==null||y.call(e,new Error(x.message||"Vapi error"))}),()=>{p.stop()}},[]);const h=v.useCallback(async b=>{var p;if(!c.current){console.error("Vapi not initialized");return}d("connecting");try{await c.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:mH,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:b?`Hello ${b}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(x){console.error("Failed to start Vapi call:",x),d("error"),(p=e.onError)==null||p.call(e,x)}},[d,e]),f=v.useCallback(()=>{c.current&&(c.current.stop(),d("ended"))},[d]),m=v.useCallback(()=>{if(c.current){const b=!i;c.current.setMuted(b),o(b)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:a,startCall:h,endCall:f,toggleMute:m,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}const bn=v.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));bn.displayName="Input";var Dr=function(){return Dr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dr.apply(this,arguments)};function hl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function vH(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function yH(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const wH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class z0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bH extends z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class CE extends z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class TE extends z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ry;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ry||(ry={}));class xH{constructor(t,{headers:n={},customFetch:r,region:s=ry.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=wH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return vH(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(f["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(f["Content-Type"]="application/json",p=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?p=JSON.stringify(c):p=c;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const y=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:p,signal:x}).catch(C=>{throw new bH(C)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new CE(y);if(!y.ok)throw new TE(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield y.json():S==="application/octet-stream"||S==="application/pdf"?E=yield y.blob():S==="text/event-stream"?E=y:S==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof TE||a instanceof CE?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var SH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},_H=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const p=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var b;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,d="OK")}catch{i.status===404&&p===""?(c=204,d="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&n.shouldThrowOnError)throw new SH(o)}return{error:o,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,d,h,f;const b=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",p=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${b}`,p&&(a+=` (${p})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},EH=class extends _H{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const jE=new RegExp("[,()]");var Do=class extends EH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&jE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&jE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},kH=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Do({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Do({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Do({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Do({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Do({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},CH=class cR{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new kH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{l.searchParams.append(m,b)})):(a="POST",c=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Do({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class TH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const jH="2.90.1",AH=`realtime-js/${jH}`,uR="1.0.0",PH="2.0.0",AE=uR,sy=1e4,NH=1e3,OH=100;var Ls;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ls||(Ls={}));var wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(wt||(wt={}));var pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pr||(pr={}));var iy;(function(e){e.websocket="websocket"})(iy||(iy={}));var Mi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Mi||(Mi={}));class RH{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,l.length),b.setUint8(p++,a.length),b.setUint8(p++,o.length),b.setUint8(p++,c.length),b.setUint8(p++,h.length),b.setUint8(p++,n),Array.from(l,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(c,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(h,y=>b.setUint8(p++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+i));l=l+i;const h=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,b={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class dR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const PE=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=IH(o,e,t,s),i),{}):{}},IH=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?hR(i,o):oy(o)},hR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $H(t,n)}switch(e){case ze.bool:return MH(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return DH(t);case ze.json:case ze.jsonb:return LH(t);case ze.timestamp:return FH(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return oy(t);default:return oy(t)}},oy=e=>e,MH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},LH=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},$H=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>hR(t,a))}return e},FH=e=>typeof e=="string"?e.replace(" ","T"):e,fR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jm{constructor(t,n,r={},s=sy){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var NE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(NE||(NE={}));class rc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=rc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);b.length>0&&(a[c]=b),p.length>0&&(l[c]=p)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(OE||(OE={}));var sc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sc||(sc={}));var rs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rs||(rs={}));class na{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jm(this,pr.join,this.params,this.timeout),this.rejoinTimer=new dR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new rc(this),this.broadcastEndpointURL=fR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[sc.PRESENCE]&&this.bindings[sc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(rs.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(rs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(rs.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,y=[];for(let w=0;w<x;w++){const S=p[w],{filter:{event:E,schema:C,table:T,filter:j}}=S,N=m&&m[w];if(N&&N.event===E&&na.isFilterValueEqual(N.schema,C)&&na.isFilterValueEqual(N.table,T)&&na.isFilterValueEqual(N.filter,j))y.push(Object.assign(Object.assign({},S),{id:N.id}));else{this.unsubscribe(),this.state=wt.errored,t==null||t(rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(rs.SUBSCRIBED);return}}).receive("error",m=>{this.state=wt.errored,t==null||t(rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===wt.joined&&t===sc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new jm(this,pr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OH){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=pr;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var b,p,x,y,w,S,E,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const T=m.id,j=(b=m.filter)===null||b===void 0?void 0:b.event;return T&&((p=n.ids)===null||p===void 0?void 0:p.includes(T))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((y=m.filter)===null||y===void 0)&&y.table)||m.filter.table===((w=n.data)===null||w===void 0?void 0:w.table))}else{const T=(E=(S=m==null?void 0:m.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:p,table:x,commit_timestamp:y,type:w,errors:S}=b;f=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(b))}m.callback(f,r)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&na.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pr.close,{},t)}_onError(t){this._on(pr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=PE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=PE(t.columns,t.old_record)),n}}const Am=()=>{},sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VH=[1e3,2e3,5e3,1e4],UH=1e4,BH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zH{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sy,this.transport=null,this.heartbeatIntervalMs=sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Am,this.ref=0,this.reconnectTimer=null,this.vsn=AE,this.logger=Am,this.conn=null,this.sendBuffer=[],this.serializer=new RH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${iy.websocket}`,this.httpEndpoint=fR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return Mi.Connecting;case Ls.open:return Mi.Open;case Ls.closing:return Mi.Closing;default:return Mi.Closed}}isConnected(){return this.connectionState()===Mi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new na(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(NH,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ls.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ls.open||this.conn.readyState===Ls.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([BH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:AH};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(pr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new dR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,c,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:sy,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:sd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Am,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:AE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:b=>VH[b-1]||UH,this.vsn){case uR:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,p)=>p(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,p)=>p(JSON.parse(b));break;case PH:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Fc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qH(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function WH(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function HH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=qH(e.baseUrl,r,s),l=await WH(e.auth),c=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!c.ok){const m=h?f:void 0,b=m==null?void 0:m.error;throw new Fc((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:c.status,headers:c.headers,data:f}}}}function id(e){return e.join("")}var GH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:id(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${id(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${id(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${id(e.namespace)}`}),!0}catch(t){if(t instanceof Fc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Fc&&n.status===409)return;throw n}}};function To(e){return e.join("")}var KH=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${To(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Fc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Fc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},JH=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=HH({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new GH(this.client,t),this.tableOps=new KH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Jf=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var YH=class extends Jf{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ay=class extends Jf{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const q0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QH=()=>Response,ly=e=>{if(Array.isArray(e))return e.map(n=>ly(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ly(r)}),t},XH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZH=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function e9(e,t){if(Vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t9(e){var t=e9(e,"string");return Vc(t)=="symbol"?t:t+""}function n9(e,t,n){return(t=t9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){n9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Pm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},r9=async(e,t,n)=>{e instanceof await QH()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new YH(Pm(r),s,i))}).catch(r=>{t(new ay(Pm(r),r))}):t(new ay(Pm(e),e))},s9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(XH(r)?(s.headers=me({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),me(me({},s),n))};async function hu(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,s9(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>r9(l,a,r))})}async function Uc(e,t,n,r){return hu(e,"GET",t,n,r)}async function ur(e,t,n,r,s){return hu(e,"POST",t,r,s,n)}async function cy(e,t,n,r,s){return hu(e,"PUT",t,r,s,n)}async function i9(e,t,n,r){return hu(e,"HEAD",t,me(me({},n),{},{noResolveJson:!0}),r)}async function W0(e,t,n,r,s){return hu(e,"DELETE",t,r,s,n)}var o9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}};let pR;pR=Symbol.toStringTag;var a9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[pR]="BlobDownloadBuilder",this.promise=null}asStream(){return new o9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}};const l9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var c9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=q0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=me(me({},IE),r);let a=me(me({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=me(me({},a),r.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),h=await(e=="PUT"?cy:ur)(s.fetch,`${s.url}/object/${d}`,i,me({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=me({upsert:IE.upsert},r),d=me(me({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await cy(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=me({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ur(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Jf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await ur(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await ur(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await ur(r.fetch,`${r.url}/object/sign/${s}`,me({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await ur(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>me(me({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Uc(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new a9(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:ly(await Uc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await i9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(et(r)&&r instanceof ay){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await W0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=me(me(me({},l9),t),{},{prefix:e||""});return{data:await ur(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(et(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=me({},e);return{data:await ur(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const mR="2.90.1",gR={"X-Client-Info":`storage-js/${mR}`};var u9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=me(me({},gR),t),this.fetch=q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Uc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Uc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await ur(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await cy(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await ur(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await W0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},d9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},gR),t),this.fetch=q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ur(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Uc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await W0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!ZH(e))throw new Jf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new JH({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const H0={"X-Client-Info":`storage-js/${mR}`,"Content-Type":"application/json"};var vR=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Nm=class extends vR{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},h9=class extends vR{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const G0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),f9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ME=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p9=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Nm(ME(i),r,o))}).catch(()=>{const i=r+"";t(new Nm(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Nm(s.statusText||`HTTP ${r} error`,r,i))}}else t(new h9(ME(e),e))},m9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(f9(r)?(s.headers=me({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,me(me({},s),n)):s};async function g9(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,m9(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>p9(l,a,r))})}async function Sn(e,t,n,r,s){return g9(e,"POST",t,r,s,n)}var v9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},H0),t),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(xn(r))return{data:null,error:r};throw r}}},y9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},H0),t),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Sn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}},w9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},H0),t),this.fetch=G0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(xn(n))return{data:null,error:n};throw n}}},b9=class extends w9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new x9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},x9=class extends v9{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new S9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},S9=class extends y9{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},_9=class extends u9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new c9(this.url,this.headers,e,this.fetch)}get vectors(){return new b9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d9(this.url+"/iceberg",this.headers,this.fetch)}};const yR="2.90.1",Lo=30*1e3,uy=3,Om=uy*Lo,E9="http://localhost:9999",k9="supabase.auth.token",C9={"X-Client-Info":`gotrue-js/${yR}`},dy="X-Supabase-Api-Version",wR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j9=10*60*1e3;class Bc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class A9 extends Bc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P9(e){return le(e)&&e.name==="AuthApiError"}class Di extends Bc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bs extends Bc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class vn extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N9(e){return le(e)&&e.name==="AuthSessionMissingError"}class jo extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class od extends bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ad extends bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O9(e){return le(e)&&e.name==="AuthImplicitGrantRedirectError"}class DE extends bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R9 extends bs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hy extends bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Rm(e){return le(e)&&e.name==="AuthRetryableFetchError"}class LE extends bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class fy extends bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$E=` 	
\r=`.split(""),I9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$E.length;t+=1)e[$E[t].charCodeAt(0)]=-2;for(let t=0;t<qh.length;t+=1)e[qh[t].charCodeAt(0)]=t;return e})();function FE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(qh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(qh[r]),t.queuedBits-=6}}function bR(e,t,n){const r=I9[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function VE(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{L9(o,r,n)};for(let o=0;o<e.length;o+=1)bR(e.charCodeAt(o),s,i);return t.join("")}function M9(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function D9(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}M9(r,t)}}function L9(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ma(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)bR(e.charCodeAt(s),n,r);return new Uint8Array(t)}function $9(e){const t=[];return D9(e,n=>t.push(n)),new Uint8Array(t)}function zi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>FE(s,n,r)),FE(null,n,r),t.join("")}function F9(e){return Math.round(Date.now()/1e3)+e}function V9(){return Symbol("auth-callback")}const Rt=()=>typeof window<"u"&&typeof document<"u",Ai={tested:!1,writable:!1},xR=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ai.tested)return Ai.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ai.tested=!0,Ai.writable=!0}catch{Ai.tested=!0,Ai.writable=!1}return Ai.writable};function U9(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const SR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$o=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Pi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ot=async(e,t)=>{await e.removeItem(t)};class Yf{constructor(){this.promise=new Yf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Yf.promiseConstructor=Promise;function Im(e){const t=e.split(".");if(t.length!==3)throw new fy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!T9.test(t[r]))throw new fy("JWT not in base64url format");return{header:JSON.parse(VE(t[0])),payload:JSON.parse(VE(t[1])),signature:ma(t[2]),raw:{header:t[0],payload:t[1]}}}async function z9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function q9(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function W9(e){return("0"+e.toString(16)).substr(-2)}function H9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,W9).join("")}async function G9(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function K9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await G9(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ao(e,t,n=!1){const r=H9();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $o(e,`${t}-code-verifier`,s);const i=await K9(r);return[i,r===i?"plain":"s256"]}const J9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Y9(e){const t=e.headers.get(dy);if(!t||!t.match(J9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function X9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(e){if(!Z9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eG(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function UE(e){return JSON.parse(JSON.stringify(e))}const Ii=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tG=[502,503,504];async function BE(e){var t;if(!B9(e))throw new hy(Ii(e),0);if(tG.includes(e.status))throw new hy(Ii(e),e.status);let n;try{n=await e.json()}catch(i){throw new Di(Ii(i),i)}let r;const s=Y9(e);if(s&&s.getTime()>=wR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new LE(Ii(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new LE(Ii(n),e.status,n.weak_password.reasons);throw new A9(Ii(n),e.status||500,r)}const nG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function pe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[dy]||(i[dy]=wR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rG(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rG(e,t,n,r,s,i){const o=nG(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new hy(Ii(l),0)}if(a.ok||await BE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await BE(l)}}function sr(e){var t;let n=null;oG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=F9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zE(e){const t=sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sG(e){return{data:e,error:null}}function iG(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=hl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qE(e){return e}function oG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dm=["global","local","others"];class aG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=SR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dm[0]){if(Dm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dm.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Us})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=hl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:iG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Us})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(le(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Po(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Us})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Po(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Us})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Po(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Us})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Po(t.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Po(t.userId),Po(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qE});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(le(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}}function WE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const No={debug:!!(globalThis&&xR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _R extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lG extends _R{}async function cG(e,t,n){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(No.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function uG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ER(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function dG(e){return parseInt(e,16)}function hG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function fG(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=ER(e.address),b=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}y+=w}return`${x}
${y}`}class mt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Wh extends mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function pG({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(kR(o)){if(i.rp.id!==o)return new mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function mG({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(kR(r)){if(n.rpId!==r)return new mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class gG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vG=new gG;function yG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=hl(e,["challenge","user","excludeCredentials"]),i=ma(t).buffer,o=Object.assign(Object.assign({},n),{id:ma(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:ma(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function wG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=hl(e,["challenge","allowCredentials"]),s=ma(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ma(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function bG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zi(new Uint8Array(e.response.attestationObject)),clientDataJSON:zi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zi(new Uint8Array(s.authenticatorData)),clientDataJSON:zi(new Uint8Array(s.clientDataJSON)),signature:zi(new Uint8Array(s.signature)),userHandle:s.userHandle?zi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function HE(){var e,t;return!!(Rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function SG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wh("Browser returned unexpected credential type",t)}:{data:null,error:new Wh("Empty credential response",t)}}catch(t){return{data:null,error:pG({error:t,options:e})}}}async function _G(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wh("Browser returned unexpected credential type",t)}:{data:null,error:new Wh("Empty credential response",t)}}catch(t){return{data:null,error:mG({error:t,options:e})}}}const EG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Hh(a,o):r[i]=Hh(o)}else r[i]=o}return r}function CG(e,t){return Hh(EG,e,t||{})}function TG(e,t){return Hh(kG,e,t||{})}class jG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??vG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=CG(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await SG({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=TG(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await _G(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return le(o)?{data:null,error:o}:{data:null,error:new Di("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Bc("rpId is required for WebAuthn authentication")};try{if(!HE())return{data:null,error:new Di("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return le(o)?{data:null,error:o}:{data:null,error:new Di("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Bc("rpId is required for WebAuthn registration")};try{if(!HE())return{data:null,error:new Di("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return le(o)?{data:null,error:o}:{data:null,error:new Di("Unexpected error in register",o)}}}}uG();const AG={url:E9,storageKey:k9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function GE(e,t,n){return await n()}const Oo={};class zc{get jwks(){var t,n;return(n=(t=Oo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Oo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},AG),t);if(this.storageKey=i.storageKey,this.instanceID=(n=zc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,zc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Rt()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new aG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=SR(i.fetch),this.lock=i.lock||GE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cG:this.lock=GE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:xR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WE(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Rt()&&(n=U9(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Rt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),O9(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?this._returnResult({error:n}):this._returnResult({error:new Di("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:sr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Ao(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:sr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sr})}else throw new od("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),le(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zE})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zE})}else throw new od("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new jo;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,c,d,h,f;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:y,options:w}=t;let S;if(Rt())if(typeof x=="object")S=x;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=ER(C[0]);let j=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const I=await S.request({method:"eth_chainId"});j=dG(I)}const N={domain:E.host,address:T,statement:y,uri:E.href,version:"1",chainId:j,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=fG(N),b=await S.request({method:"personal_sign",params:[hG(m),T]})}try{const{data:p,error:x}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:sr});if(x)throw x;if(!p||!p.session||!p.user){const y=new jo;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(le(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,i,o,a,l,c,d,h,f,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:w,options:S}=t;let E;if(Rt())if(typeof y=="object")E=y;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let j;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")j=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)j=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=T}}try{const{data:x,error:y}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:zi(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sr});if(y)throw y;if(!x||!x.session||!x.user){const w=new jo;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(le(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Pi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new R9;const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:sr});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new jo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),le(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sr}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new jo;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ao(this.storage,this.storageKey));const{error:h}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new od("You must provide either an email or phone number.")}catch(a){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:sr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ao(this.storage,this.storageKey));const c=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:sG});return!((i=c.data)===null||i===void 0)&&i.url&&Rt()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),le(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vn;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new od("You must provide either an email or phone number and a type")}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Om:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Pi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=eG(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Us}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Us})})}catch(n){if(le(n))return N9(n)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new vn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ao(this.storage,this.storageKey));const{data:c,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Us});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),le(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Im(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(le(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new vn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Rt())throw new ad("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ad(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new DE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ad("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new DE("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ad("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Pi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(P9(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=V9(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ao(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),le(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Rt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(le(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=t,h=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sr}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new jo}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q9(async s=>(s>0&&await z9(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Rm(i)&&Date.now()+o-r<Lo})}catch(r){if(this._debug(n,"error",r),le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Rt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Pi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $o(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mm()}else if(s&&!s.user&&!s.user){const o=await Pi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await $o(this.storage,this.storageKey,s)):s.user=Mm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Om;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Om}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Rm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new vn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),le(i)){const o={data:null,error:i};return Rm(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ot(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $o(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=UE(s);await $o(this.storage,this.storageKey,i)}else{const s=UE(n);await $o(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lo}ms, refresh threshold is ${uy} ticks`),s<=uy&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _R)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ao(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bG(t.webauthn.credential_response):xG(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:yG(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:wG(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Im(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vn})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vn});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Rt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vn});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Rt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new vn})})}catch(t){if(le(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vn})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+j9>s)return r;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Im(r);n!=null&&n.allowExpired||Q9(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=X9(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,$9(`${a}.${l}`)))throw new fy("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}}zc.nextInstanceID={};const PG=zc,NG="2.90.1";let $l="";typeof Deno<"u"?$l="deno":typeof document<"u"?$l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$l="react-native":$l="node";const OG={"X-Client-Info":`supabase-js-${$l}/${NG}`},RG={headers:OG},IG={schema:"public"},MG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DG={};function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function LG(e,t){if(qc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $G(e){var t=LG(e,"string");return qc(t)=="symbol"?t:t+""}function FG(e,t,n){return(t=$G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){FG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const VG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UG=()=>Headers,BG=(e,t,n)=>{const r=VG(n),s=UG();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,ct(ct({},o),{},{headers:c}))}};function zG(e){return e.endsWith("/")?e:e+"/"}function qG(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:ct(ct({},l),s),auth:ct(ct({},c),i),realtime:ct(ct({},d),o),storage:{},global:ct(ct(ct({},h),a),{},{headers:ct(ct({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function WG(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zG(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var HG=class extends PG{constructor(e){super(e)}},GG=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=WG(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:IG,realtime:DG,auth:ct(ct({},MG),{},{storageKey:o}),global:RG},l=qG(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=BG(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new CH(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new _9(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new xH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HG({url:this.authUrl.href,headers:ct(ct({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new zH(this.realtimeUrl.href,ct(ct({},e),{},{params:ct(ct({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const KG=(e,t,n)=>new GG(e,t,n);function JG(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}JG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YG="https://gsucaxeqzluzbmvonsmj.supabase.co",QG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",yt=KG(YG,QG);function XG(e={}){const[t,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=v.useRef(e.accessToken||null);v.useEffect(()=>{f.current=e.accessToken||null},[e.accessToken]);const m=async()=>{if(!f.current)throw new Error("No access token - session not started");const{data:w,error:S}=await yt.functions.invoke("deepgram-token",{body:{accessToken:f.current}});if(S)throw new Error(`Failed to get Deepgram token: ${S.message}`);if((w==null?void 0:w.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(w!=null&&w.key))throw new Error((w==null?void 0:w.error)||"No token returned from Deepgram");return w.key},b=v.useCallback(async()=>{var w;if(!t){l(null),s(""),o("");try{const S=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=S;const E=await m(),C=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true",["token",E]);c.current=C,C.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const T=new MediaRecorder(S,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});d.current=T,T.ondataavailable=j=>{j.data.size>0&&C.readyState===WebSocket.OPEN&&C.send(j.data)},T.start(250)},C.onmessage=T=>{var j,N,I,R;try{const O=JSON.parse(T.data);if((I=(N=(j=O.channel)==null?void 0:j.alternatives)==null?void 0:N[0])!=null&&I.transcript){const L=O.channel.alternatives[0].transcript;O.is_final?(s(W=>{var J;const F=W?`${W} ${L}`:L;return(J=e.onTranscript)==null||J.call(e,F),F}),o("")):(o(L),(R=e.onInterimTranscript)==null||R.call(e,L))}}catch(O){console.error("Error parsing Deepgram message:",O)}},C.onerror=T=>{var N;console.error("Deepgram WebSocket error:",T);const j=new Error("WebSocket connection error");l(j),(N=e.onError)==null||N.call(e,j)},C.onclose=T=>{console.log("Deepgram WebSocket closed:",T.code,T.reason),n(!1)}}catch(S){console.error("Failed to start listening:",S);const E=S instanceof Error?S:new Error("Failed to start listening");l(E),(w=e.onError)==null||w.call(e,E),n(!1)}}},[t,e]),p=v.useCallback(()=>{d.current&&d.current.state!=="inactive"&&d.current.stop(),d.current=null,c.current&&c.current.close(),c.current=null,h.current&&h.current.getTracks().forEach(w=>w.stop()),h.current=null,n(!1),o("")},[]),x=v.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=v.useCallback(()=>{s(""),o("")},[]);return v.useEffect(()=>()=>{p()},[p]),{isListening:t,transcript:r,interimTranscript:i,error:a,startListening:b,stopListening:p,getFullTranscript:x,clearTranscript:y}}function ZG(e={}){const[t,n]=v.useState([]),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(!1),c=v.useRef(null),d=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=v.useCallback(y=>{c.current=y},[]),f=v.useCallback(y=>{const w=y.map(S=>({role:S.role,content:S.content,timestamp:S.timestamp?new Date(S.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):d()}));n(w),l(!0)},[]),m=v.useCallback(async y=>{var w,S;o(null),s(!0);try{const{data:E,error:C}=await yt.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:y}});if(C)throw new Error(`Failed to start conversation: ${C.message}`);if(!(E!=null&&E.response))throw new Error("No response from chat service");const T={role:"assistant",content:E.response,timestamp:d()};n([T]),(w=e.onMessageReceived)==null||w.call(e,T)}catch(E){console.error("Error starting conversation:",E);const C=E instanceof Error?E:new Error("Failed to start conversation");o(C),(S=e.onError)==null||S.call(e,C)}finally{s(!1)}},[e]),b=v.useCallback(async y=>{var S,E,C,T;if(!y.trim())return;if(!c.current){const j=new Error("No access token - session not started");o(j),(S=e.onError)==null||S.call(e,j);return}o(null);const w={role:"user",content:y.trim(),timestamp:d()};n(j=>[...j,w]),s(!0);try{const{data:j,error:N}=await yt.functions.invoke("chat-interview",{body:{accessToken:c.current,message:y.trim()}});if(N)throw new Error(`Failed to send message: ${N.message}`);if((j==null?void 0:j.error)==="Invalid or expired session")throw(E=e.onSessionExpired)==null||E.call(e),new Error("Session expired. Please refresh the page to restart.");if(!(j!=null&&j.response))throw new Error("No response from chat service");const I={role:"assistant",content:j.response,timestamp:d()};n(R=>[...R,I]),(C=e.onMessageReceived)==null||C.call(e,I)}catch(j){console.error("Error sending message:",j);const N=j instanceof Error?j:new Error("Failed to send message");o(N),(T=e.onError)==null||T.call(e,N)}finally{s(!1)}},[e]),p=v.useCallback(()=>t,[t]),x=v.useCallback(()=>{n([]),c.current=null,o(null),s(!1),l(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:a,startConversation:m,sendMessage:b,getTranscript:p,resetConversation:x,setAccessToken:h,initializeMessages:f}}function eK({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s}){const[i,o]=v.useState(""),[a,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),{messages:h,isThinking:f,error:m,isResumed:b,startConversation:p,sendMessage:x,setAccessToken:y,initializeMessages:w}=ZG({onMessageReceived:()=>{setTimeout(()=>{var F;(F=c.current)==null||F.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},100)},onSessionExpired:()=>{l(!0)}});v.useEffect(()=>{t&&y(t)},[t,y]);const{isListening:S,transcript:E,interimTranscript:C,error:T,startListening:j,stopListening:N,clearTranscript:I}=XG({accessToken:t,onTranscript:F=>{o(J=>J?`${J} ${F}`:F)}});v.useEffect(()=>{n&&n.length>0?w(n):p(e)},[e,n,w,p]),v.useEffect(()=>{r==null||r(h)},[h,r]),v.useEffect(()=>{var F;(F=c.current)==null||F.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},[h]);const R=()=>{var J;const F=i.trim();!F||f||(x(F),o(""),I(),(J=d.current)==null||J.focus())},O=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),R())},L=async()=>{S?N():await j()},W=i+(S&&C?` ${C}`:"");return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsx($f,{className:"flex-1 p-4",ref:c,children:u.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[b&&h.length>0&&u.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),u.jsx(qa,{initial:!1,children:h.map((F,J)=>u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${F.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${F.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:F.content}),u.jsx("p",{className:`text-xs mt-1 ${F.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:F.timestamp})]})},J))}),f&&u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:u.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Ee.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),u.jsx(Ee.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),u.jsx(Ee.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})})]})}),a&&u.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(m||T)&&!a&&u.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(m==null?void 0:m.message)||(T==null?void 0:T.message)}),S&&u.jsx(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[u.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((F,J)=>u.jsx(Ee.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:J*.1},className:"w-1 bg-accent rounded-full"},J))}),u.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),C&&u.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:C})]})}),u.jsx("div",{className:"border-t bg-background p-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fe,{type:"button",variant:S?"default":"outline",size:"icon",onClick:L,disabled:a||!t,className:`shrink-0 ${S?"bg-accent hover:bg-accent/90":""}`,title:a?"Session expired":t?S?"Stop listening":"Start voice input":"Session not ready",children:S?u.jsx(J$,{className:"h-4 w-4"}):u.jsx(Xi,{className:"h-4 w-4"})}),u.jsx(bn,{ref:d,value:W,onChange:F=>o(F.target.value),onKeyDown:O,placeholder:a?"Session expired":S?"Speak now...":"Type your response or click the mic to speak...",disabled:f||a,className:"flex-1"}),u.jsx(fe,{type:"button",onClick:R,disabled:!i.trim()||f||a,size:"icon",className:"shrink-0",children:f?u.jsx(jt,{className:"h-4 w-4 animate-spin"}):u.jsx(H$,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Press Enter to send, or click the microphone to speak your answer"})]})})]})}var Lm="focusScope.autoFocusOnMount",$m="focusScope.autoFocusOnUnmount",JE={bubbles:!1,cancelable:!0},tK="FocusScope",K0=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=v.useState(null),c=St(s),d=St(i),h=v.useRef(null),f=Te(t,p=>l(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(S){if(m.paused||!a)return;const E=S.target;a.contains(E)?h.current=E:Rs(h.current,{select:!0})},x=function(S){if(m.paused||!a)return;const E=S.relatedTarget;E!==null&&(a.contains(E)||Rs(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Rs(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){QE.add(m);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(Lm,JE);a.addEventListener(Lm,c),a.dispatchEvent(y),y.defaultPrevented||(nK(aK(CR(a)),{select:!0}),document.activeElement===p&&Rs(a))}return()=>{a.removeEventListener(Lm,c),setTimeout(()=>{const y=new CustomEvent($m,JE);a.addEventListener($m,d),a.dispatchEvent(y),y.defaultPrevented||Rs(p??document.body,{select:!0}),a.removeEventListener($m,d),QE.remove(m)},0)}}},[a,c,d,m]);const b=v.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const w=p.currentTarget,[S,E]=rK(w);S&&E?!p.shiftKey&&y===E?(p.preventDefault(),n&&Rs(S,{select:!0})):p.shiftKey&&y===S&&(p.preventDefault(),n&&Rs(E,{select:!0})):y===w&&p.preventDefault()}},[n,r,m.paused]);return u.jsx(ge.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});K0.displayName=tK;function nK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Rs(r,{select:t}),document.activeElement!==n)return}function rK(e){const t=CR(e),n=YE(t,e),r=YE(t.reverse(),e);return[n,r]}function CR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function YE(e,t){for(const n of e)if(!sK(n,{upTo:t}))return n}function sK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iK(e){return e instanceof HTMLInputElement&&"select"in e}function Rs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iK(e)&&t&&e.select()}}var QE=oK();function oK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=XE(e,t),e.unshift(t)},remove(t){var n;e=XE(e,t),(n=e[0])==null||n.resume()}}}function XE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function aK(e){return e.filter(t=>t.tagName!=="A")}var Fm=0;function TR(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZE()),document.body.insertAdjacentElement("beforeend",e[1]??ZE()),Fm++,()=>{Fm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fm--}},[])}function ZE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fd="right-scroll-bar-position",Vd="width-before-scroll-bar",lK="with-scroll-bars-hidden",cK="--removed-body-scroll-bar-size";function Vm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uK(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var dK=typeof window<"u"?v.useLayoutEffect:v.useEffect,ek=new WeakMap;function hK(e,t){var n=uK(null,function(r){return e.forEach(function(s){return Vm(s,r)})});return dK(function(){var r=ek.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Vm(a,null)}),i.forEach(function(a){s.has(a)||Vm(a,o)})}ek.set(n,e)},[e]),n}function fK(e){return e}function pK(e,t){t===void 0&&(t=fK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function mK(e){e===void 0&&(e={});var t=pK(null);return t.options=Dr({async:!0,ssr:!1},e),t}var jR=function(e){var t=e.sideCar,n=hl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Dr({},n))};jR.isSideCarExport=!0;function gK(e,t){return e.useMedium(t),jR}var AR=mK(),Um=function(){},Qf=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,E=hl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,T=hK([n,t]),j=Dr(Dr({},E),s);return v.createElement(v.Fragment,null,d&&v.createElement(C,{sideCar:AR,removeScrollBar:c,shards:h,noRelative:m,noIsolation:b,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?v.cloneElement(v.Children.only(a),Dr(Dr({},j),{ref:T})):v.createElement(w,Dr({},j,{className:l,ref:T}),a))});Qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qf.classNames={fullWidth:Vd,zeroRight:Fd};var vK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vK();return t&&e.setAttribute("nonce",t),e}function wK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yK())&&(wK(t,n),bK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},SK=function(){var e=xK();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},PR=function(){var e=SK(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},_K={left:0,top:0,right:0,gap:0},Bm=function(e){return parseInt(e||"",10)||0},EK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bm(n),Bm(r),Bm(s)]},kK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _K;var t=EK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},CK=PR(),ga="data-scroll-locked",TK=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(lK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ga,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vd," .").concat(Vd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ga,`] {
    `).concat(cK,": ").concat(a,`px;
  }
`)},tk=function(){var e=parseInt(document.body.getAttribute(ga)||"0",10);return isFinite(e)?e:0},jK=function(){v.useEffect(function(){return document.body.setAttribute(ga,(tk()+1).toString()),function(){var e=tk()-1;e<=0?document.body.removeAttribute(ga):document.body.setAttribute(ga,e.toString())}},[])},AK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;jK();var i=v.useMemo(function(){return kK(s)},[s]);return v.createElement(CK,{styles:TK(i,!t,s,n?"":"!important")})},py=!1;if(typeof window<"u")try{var ld=Object.defineProperty({},"passive",{get:function(){return py=!0,!0}});window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{py=!1}var Ro=py?{passive:!1}:!1,PK=function(e){return e.tagName==="TEXTAREA"},NR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PK(e)&&n[t]==="visible")},NK=function(e){return NR(e,"overflowY")},OK=function(e){return NR(e,"overflowX")},nk=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OR(e,r);if(s){var i=RR(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},IK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},OR=function(e,t){return e==="v"?NK(t):OK(t)},RR=function(e,t){return e==="v"?RK(t):IK(t)},MK=function(e,t){return e==="h"&&t==="rtl"?-1:1},DK=function(e,t,n,r,s){var i=MK(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=RR(e,a),b=m[0],p=m[1],x=m[2],y=p-x-i*b;(b||y)&&OR(e,a)&&(h+=y,f+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(c=!0),c},cd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rk=function(e){return[e.deltaX,e.deltaY]},sk=function(e){return e&&"current"in e?e.current:e},LK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$K=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FK=0,Io=[];function VK(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(FK++)[0],i=v.useState(PR)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=yH([e.lockRef.current],(e.shards||[]).map(sk),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=cd(p),w=n.current,S="deltaX"in p?p.deltaX:w[0]-y[0],E="deltaY"in p?p.deltaY:w[1]-y[1],C,T=p.target,j=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in p&&j==="h"&&T.type==="range")return!1;var N=nk(j,T);if(!N)return!0;if(N?C=j:(C=j==="v"?"h":"v",N=nk(j,T)),!N)return!1;if(!r.current&&"changedTouches"in p&&(S||E)&&(r.current=C),!C)return!0;var I=r.current||C;return DK(I,x,p,I==="h"?S:E,!0)},[]),l=v.useCallback(function(p){var x=p;if(!(!Io.length||Io[Io.length-1]!==i)){var y="deltaY"in x?rk(x):cd(x),w=t.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&LK(C.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(sk).filter(Boolean).filter(function(C){return C.contains(x.target)}),E=S.length>0?a(x,S[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(p,x,y,w){var S={name:p,delta:x,target:y,should:w,shadowParent:UK(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),d=v.useCallback(function(p){n.current=cd(p),r.current=void 0},[]),h=v.useCallback(function(p){c(p.type,rk(p),p.target,a(p,e.lockRef.current))},[]),f=v.useCallback(function(p){c(p.type,cd(p),p.target,a(p,e.lockRef.current))},[]);v.useEffect(function(){return Io.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ro),document.addEventListener("touchmove",l,Ro),document.addEventListener("touchstart",d,Ro),function(){Io=Io.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Ro),document.removeEventListener("touchmove",l,Ro),document.removeEventListener("touchstart",d,Ro)}},[]);var m=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:$K(s)}):null,m?v.createElement(AK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function UK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BK=gK(AR,VK);var J0=v.forwardRef(function(e,t){return v.createElement(Qf,Dr({},e,{ref:t,sideCar:BK}))});J0.classNames=Qf.classNames;var zK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Mo=new WeakMap,ud=new WeakMap,dd={},zm=0,IR=function(e){return e&&(e.host||IR(e.parentNode))},qK=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=IR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},WK=function(e,t,n,r){var s=qK(t,Array.isArray(e)?e:[e]);dd[n]||(dd[n]=new WeakMap);var i=dd[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),b=m!==null&&m!=="false",p=(Mo.get(f)||0)+1,x=(i.get(f)||0)+1;Mo.set(f,p),i.set(f,x),o.push(f),p===1&&b&&ud.set(f,!0),x===1&&f.setAttribute(n,"true"),b||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),a.clear(),zm++,function(){o.forEach(function(h){var f=Mo.get(h)-1,m=i.get(h)-1;Mo.set(h,f),i.set(h,m),f||(ud.has(h)||h.removeAttribute(r),ud.delete(h)),m||h.removeAttribute(n)}),zm--,zm||(Mo=new WeakMap,Mo=new WeakMap,ud=new WeakMap,dd={})}},MR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=zK(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),WK(r,s,n,"aria-hidden")):function(){return null}},Xf="Dialog",[DR,LR]=Kn(Xf),[HK,Er]=DR(Xf),$R=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=v.useRef(null),l=v.useRef(null),[c,d]=Wr({prop:r,defaultProp:s??!1,onChange:i,caller:Xf});return u.jsx(HK,{scope:t,triggerRef:a,contentRef:l,contentId:yr(),titleId:yr(),descriptionId:yr(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};$R.displayName=Xf;var FR="DialogTrigger",VR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Er(FR,n),i=Te(t,s.triggerRef);return u.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":X0(s.open),...r,ref:i,onClick:oe(e.onClick,s.onOpenToggle)})});VR.displayName=FR;var Y0="DialogPortal",[GK,UR]=DR(Y0,{forceMount:void 0}),BR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Er(Y0,t);return u.jsx(GK,{scope:t,forceMount:n,children:v.Children.map(r,o=>u.jsx(Jn,{present:n||i.open,children:u.jsx(vf,{asChild:!0,container:s,children:o})}))})};BR.displayName=Y0;var Gh="DialogOverlay",zR=v.forwardRef((e,t)=>{const n=UR(Gh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Er(Gh,e.__scopeDialog);return i.modal?u.jsx(Jn,{present:r||i.open,children:u.jsx(JK,{...s,ref:t})}):null});zR.displayName=Gh;var KK=La("DialogOverlay.RemoveScroll"),JK=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Er(Gh,n);return u.jsx(J0,{as:KK,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ge.div,{"data-state":X0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),po="DialogContent",qR=v.forwardRef((e,t)=>{const n=UR(po,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Er(po,e.__scopeDialog);return u.jsx(Jn,{present:r||i.open,children:i.modal?u.jsx(YK,{...s,ref:t}):u.jsx(QK,{...s,ref:t})})});qR.displayName=po;var YK=v.forwardRef((e,t)=>{const n=Er(po,e.__scopeDialog),r=v.useRef(null),s=Te(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return MR(i)},[]),u.jsx(WR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),QK=v.forwardRef((e,t)=>{const n=Er(po,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return u.jsx(WR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),WR=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Er(po,n),l=v.useRef(null),c=Te(t,l);return TR(),u.jsxs(u.Fragment,{children:[u.jsx(K0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(eu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":X0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(ZK,{titleId:a.titleId}),u.jsx(t7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Q0="DialogTitle",HR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Er(Q0,n);return u.jsx(ge.h2,{id:s.titleId,...r,ref:t})});HR.displayName=Q0;var GR="DialogDescription",KR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Er(GR,n);return u.jsx(ge.p,{id:s.descriptionId,...r,ref:t})});KR.displayName=GR;var JR="DialogClose",YR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Er(JR,n);return u.jsx(ge.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});YR.displayName=JR;function X0(e){return e?"open":"closed"}var QR="DialogTitleWarning",[XK,XR]=z2(QR,{contentName:po,titleName:Q0,docsSlug:"dialog"}),ZK=({titleId:e})=>{const t=XR(QR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},e7="DialogDescriptionWarning",t7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XR(e7).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ZR=$R,n7=VR,eI=BR,Z0=zR,eb=qR,tb=HR,nb=KR,rb=YR,tI="AlertDialog",[r7,SY]=Kn(tI,[LR]),xs=LR(),nI=e=>{const{__scopeAlertDialog:t,...n}=e,r=xs(t);return u.jsx(ZR,{...r,...n,modal:!0})};nI.displayName=tI;var s7="AlertDialogTrigger",i7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=xs(n);return u.jsx(n7,{...s,...r,ref:t})});i7.displayName=s7;var o7="AlertDialogPortal",rI=e=>{const{__scopeAlertDialog:t,...n}=e,r=xs(t);return u.jsx(eI,{...r,...n})};rI.displayName=o7;var a7="AlertDialogOverlay",sI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=xs(n);return u.jsx(Z0,{...s,...r,ref:t})});sI.displayName=a7;var va="AlertDialogContent",[l7,c7]=r7(va),u7=NT("AlertDialogContent"),iI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=xs(n),o=v.useRef(null),a=Te(t,o),l=v.useRef(null);return u.jsx(XK,{contentName:va,titleName:oI,docsSlug:"alert-dialog",children:u.jsx(l7,{scope:n,cancelRef:l,children:u.jsxs(eb,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:oe(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(u7,{children:r}),u.jsx(h7,{contentRef:o})]})})})});iI.displayName=va;var oI="AlertDialogTitle",aI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=xs(n);return u.jsx(tb,{...s,...r,ref:t})});aI.displayName=oI;var lI="AlertDialogDescription",cI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=xs(n);return u.jsx(nb,{...s,...r,ref:t})});cI.displayName=lI;var d7="AlertDialogAction",uI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=xs(n);return u.jsx(rb,{...s,...r,ref:t})});uI.displayName=d7;var dI="AlertDialogCancel",hI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=c7(dI,n),i=xs(n),o=Te(t,s);return u.jsx(rb,{...i,...r,ref:o})});hI.displayName=dI;var h7=({contentRef:e})=>{const t=`\`${va}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${va}\` by passing a \`${lI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${va}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},f7=nI,p7=rI,fI=sI,pI=iI,mI=uI,gI=hI,vI=aI,yI=cI;const m7=f7,g7=p7,wI=v.forwardRef(({className:e,...t},n)=>u.jsx(fI,{className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));wI.displayName=fI.displayName;const bI=v.forwardRef(({className:e,...t},n)=>u.jsxs(g7,{children:[u.jsx(wI,{}),u.jsx(pI,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));bI.displayName=pI.displayName;const xI=({className:e,...t})=>u.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});xI.displayName="AlertDialogHeader";const SI=({className:e,...t})=>u.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});SI.displayName="AlertDialogFooter";const _I=v.forwardRef(({className:e,...t},n)=>u.jsx(vI,{ref:n,className:ce("text-lg font-semibold",e),...t}));_I.displayName=vI.displayName;const EI=v.forwardRef(({className:e,...t},n)=>u.jsx(yI,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));EI.displayName=yI.displayName;const kI=v.forwardRef(({className:e,...t},n)=>u.jsx(mI,{ref:n,className:ce(Ww(),e),...t}));kI.displayName=mI.displayName;const CI=v.forwardRef(({className:e,...t},n)=>u.jsx(gI,{ref:n,className:ce(Ww({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));CI.displayName=gI.displayName;const hd=!1;function v7(){const{token:e}=qw(),[t]=NB(),[n,r]=v.useState("loading"),[s,i]=v.useState(null),[o,a]=v.useState(""),[l,c]=v.useState(null),[d,h]=v.useState(null),[f,m]=v.useState(null),[b,p]=v.useState(null),[x,y]=v.useState(null),[w,S]=v.useState(!1),[E,C]=v.useState(0),[T,j]=v.useState(0),[N,I]=v.useState(0),[R,O]=v.useState(!1),[L,W]=v.useState(!1),[F,J]=v.useState(!1),{toast:Q}=Zc(),X=v.useRef([]),$=v.useRef(null);v.useEffect(()=>{const ae=t.get("mode");ae==="voice"&&!hd?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(ae==="chat"||ae==="voice"&&hd)&&i(ae)},[t]),v.useEffect(()=>{async function ae(){if(!e){r("invalid"),a("No interview token provided");return}try{const{data:ie,error:Qe}=await yt.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(Qe){console.error("Failed to validate token:",Qe),r("invalid"),a("Unable to validate interview link. Please try again.");return}if(ie!=null&&ie.error){r("invalid"),a(ie.error);return}if(!(ie!=null&&ie.interviewee)){r("invalid"),a("Interview not found");return}c(ie.interviewee),h(ie.org||null),r("before")}catch(ie){console.error("Error loading interview:",ie),r("invalid"),a("An unexpected error occurred. Please try again.")}}ae()},[e]);const{status:V,transcript:Y,isMuted:te,volumeLevel:re,startCall:g,endCall:k,toggleMute:_,isConnected:P,isSpeaking:A,isListening:M}=gH({onStatusChange:ae=>{console.log("Vapi status:",ae),ae==="connected"||ae==="speaking"||ae==="listening"?r("during"):ae==="ended"?pt():ae==="error"&&r("error")},onError:ae=>{console.error("Vapi error:",ae),Q({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:ae=>{X.current=ae}});v.useEffect(()=>{let ae;return n==="during"&&P&&(ae=setInterval(()=>{C(ie=>ie+1)},1e3)),()=>clearInterval(ae)},[n,P]);const B=ae=>{const ie=Math.floor(ae/60).toString().padStart(2,"0"),Qe=(ae%60).toString().padStart(2,"0");return`${ie}:${Qe}`},U=async ae=>{if(!(!l||!e)){i(ae),r("during"),$.current=Date.now();try{const{data:ie,error:Qe}=await yt.functions.invoke("start-interview",{body:{interviewToken:e}});if(Qe||!(ie!=null&&ie.accessToken))throw new Error((ie==null?void 0:ie.error)||(Qe==null?void 0:Qe.message)||"Failed to start interview");m(ie.interviewId),p(ie.accessToken),ie.resumed&&ie.transcript&&ie.transcript.length>0&&(y(ie.transcript),S(!0),console.log("[INFO] Resuming interview with",ie.transcript.length,"messages"))}catch(ie){console.error("Failed to start interview:",ie),Q({title:"Error",description:ie instanceof Error?ie.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),i(null)}}},H=ae=>{X.current=ae},Z=()=>{J(!0)},he=()=>{J(!1),pt()},Ve=()=>{J(!1),k()},ue=()=>{Q({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},pt=async()=>{W(!0);const ae=$.current?Math.floor((Date.now()-$.current)/1e3):E;if(C(ae),b)try{const{data:ie,error:Qe}=await yt.functions.invoke("complete-interview",{body:{accessToken:b,durationSeconds:ae}});(Qe||ie!=null&&ie.error)&&(console.error("Failed to complete interview:",Qe||(ie==null?void 0:ie.error)),Q({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(ie){console.error("Failed to complete interview:",ie),Q({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}W(!1),r("after")},Me=async ae=>{if(j(ae),b)try{await yt.functions.invoke("complete-interview",{body:{accessToken:b,rating:ae}})}catch(ie){console.error("Failed to save rating:",ie)}},ot=()=>{window.close()},kt=()=>{r("before"),C(0)};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(au,{}),!1]})]})}),u.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:u.jsxs(qa,{mode:"wait",children:[n==="loading"&&u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[u.jsx(jt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Re,{className:"border-0 shadow-lg",children:u.jsxs(De,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:u.jsx($a,{className:"h-10 w-10 text-destructive"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),u.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&l&&u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Re,{className:"border-0 shadow-lg",children:u.jsxs(De,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-accent/10",children:u.jsx(Xi,{className:"h-10 w-10 text-accent"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),u.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),u.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),u.jsx("p",{className:"font-semibold text-foreground",children:l.name}),l.role&&u.jsx("p",{className:"text-sm text-muted-foreground",children:l.role}),d&&u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.name})]}),u.jsxs("div",{className:"space-y-3",children:[hd,u.jsxs(fe,{size:"lg",variant:"default",onClick:()=>U("chat"),className:"w-full gap-2",children:[u.jsx(mh,{className:"h-5 w-5"}),"Text Chat"]})]}),u.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"Type your responses or use voice-to-text in your browser."}),u.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="during"&&s==="voice"&&u.jsx(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-8 inline-block",children:[P&&u.jsxs(u.Fragment,{children:[u.jsx(Ee.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),u.jsx(Ee.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),u.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${V==="connecting"?"bg-muted animate-pulse":A?"bg-accent":M?"bg-primary":"bg-muted"}`,children:te?u.jsx($x,{className:"h-12 w-12 text-white"}):u.jsx(Xi,{className:"h-12 w-12 text-white"})})]}),u.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:V==="connecting"?"Connecting...":A?"AI Speaking...":M?"Listening...":"Connected"}),u.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:B(E)}),P&&u.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((ae,ie)=>u.jsx(Ee.div,{className:`w-1 rounded-full ${ie<Math.floor(re*10)?"bg-accent":"bg-muted"}`,animate:{height:M?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:ie*.05}},ie))}),u.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[u.jsxs(fe,{variant:"outline",size:"lg",onClick:_,className:"gap-2",children:[te?u.jsx($x,{className:"h-5 w-5"}):u.jsx(aj,{className:"h-5 w-5"}),te?"Unmute":"Mute"]}),u.jsxs(fe,{variant:"outline",size:"lg",onClick:ue,className:"gap-2",children:[u.jsx(Fx,{className:"h-5 w-5"}),"Pause & Save"]}),u.jsx(fe,{variant:"outline",size:"lg",onClick:Z,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),u.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>O(!R),className:"mb-4",children:[R?"Hide":"Show"," Live Transcript"]}),u.jsx(qa,{children:R&&Y.length>0&&u.jsx(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:u.jsx(Re,{className:"mx-auto max-w-xl",children:u.jsx($f,{className:"h-48 p-4",children:u.jsx("div",{className:"space-y-3",children:Y.map((ae,ie)=>u.jsxs("div",{className:`text-sm ${ae.role==="assistant"?"text-accent":"text-foreground"}`,children:[u.jsx("span",{className:"font-medium",children:ae.role==="assistant"?"AI: ":"You: "}),ae.content]},ie))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&u.jsx(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:u.jsxs(Re,{className:"h-full border-0 shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mh,{className:"h-5 w-5 text-accent"}),u.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(fe,{variant:"outline",size:"sm",onClick:ue,className:"gap-1",children:[u.jsx(Fx,{className:"h-4 w-4"}),"Pause & Save"]}),u.jsx(fe,{variant:"outline",size:"sm",onClick:Z,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),u.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:u.jsx(eK,{intervieweeName:l==null?void 0:l.name,accessToken:b,initialMessages:x||void 0,onTranscriptUpdate:H,onEnd:he})})]})},"during-chat"),n==="after"&&u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Re,{className:"border-0 shadow-lg",children:u.jsx(De,{className:"p-8",children:L?u.jsxs(u.Fragment,{children:[u.jsx(jt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:u.jsx(ij,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),u.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),u.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",B(E)]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),u.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(ae=>u.jsx("button",{onClick:()=>Me(ae),onMouseEnter:()=>I(ae),onMouseLeave:()=>I(0),className:"transition-transform hover:scale-110",children:u.jsx(Y$,{className:`h-8 w-8 transition-colors ${ae<=(N||T)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},ae))}),T>0&&u.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),u.jsx(fe,{size:"lg",onClick:ot,className:"w-full",children:"Close"})]})})})},"after"),n==="error"&&u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Re,{className:"border-0 shadow-lg",children:u.jsxs(De,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:u.jsx($a,{className:"h-10 w-10 text-destructive"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),u.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),u.jsx(fe,{size:"lg",onClick:kt,className:"w-full",children:"Try Again"})]})})},"error")]})}),u.jsx(m7,{open:F,onOpenChange:J,children:u.jsxs(bI,{children:[u.jsxs(xI,{children:[u.jsx(_I,{children:"Complete Interview?"}),u.jsxs(EI,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",u.jsx("br",{}),u.jsx("br",{}),"If you need to take a break, use ",u.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),u.jsxs(SI,{children:[u.jsx(CI,{children:"Cancel"}),u.jsx(kI,{onClick:s==="voice"?Ve:he,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})})]})}const y7=bf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tt({className:e,variant:t,...n}){return u.jsx("div",{className:ce(y7({variant:t}),e),...n})}var Zf="Collapsible",[w7,TI]=Kn(Zf),[b7,sb]=w7(Zf),jI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,c]=Wr({prop:r,defaultProp:s??!1,onChange:o,caller:Zf});return u.jsx(b7,{scope:n,disabled:i,contentId:yr(),open:l,onOpenToggle:v.useCallback(()=>c(d=>!d),[c]),children:u.jsx(ge.div,{"data-state":ob(l),"data-disabled":i?"":void 0,...a,ref:t})})});jI.displayName=Zf;var AI="CollapsibleTrigger",PI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=sb(AI,n);return u.jsx(ge.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":ob(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:oe(e.onClick,s.onOpenToggle)})});PI.displayName=AI;var ib="CollapsibleContent",NI=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sb(ib,e.__scopeCollapsible);return u.jsx(Jn,{present:n||s.open,children:({present:i})=>u.jsx(x7,{...r,ref:t,present:i})})});NI.displayName=ib;var x7=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=sb(ib,n),[a,l]=v.useState(r),c=v.useRef(null),d=Te(t,c),h=v.useRef(0),f=h.current,m=v.useRef(0),b=m.current,p=o.open||a,x=v.useRef(p),y=v.useRef(void 0);return v.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),Et(()=>{const w=c.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();h.current=S.height,m.current=S.width,x.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),l(r)}},[o.open,r]),u.jsx(ge.div,{"data-state":ob(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function ob(e){return e?"open":"closed"}var S7=jI,_7=PI,E7=NI,kr="Accordion",k7=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ab,C7,T7]=gf(kr),[ep,_Y]=Kn(kr,[T7,TI]),lb=TI(),OI=G.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return u.jsx(ab.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(N7,{...i,ref:t}):u.jsx(P7,{...s,ref:t})})});OI.displayName=kr;var[RI,j7]=ep(kr),[II,A7]=ep(kr,{collapsible:!1}),P7=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=Wr({prop:n,defaultProp:r??"",onChange:s,caller:kr});return u.jsx(RI,{scope:e.__scopeAccordion,value:G.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:G.useCallback(()=>i&&l(""),[i,l]),children:u.jsx(II,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(MI,{...o,ref:t})})})}),N7=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=Wr({prop:n,defaultProp:r??[],onChange:s,caller:kr}),l=G.useCallback(d=>a((h=[])=>[...h,d]),[a]),c=G.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return u.jsx(RI,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:u.jsx(II,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(MI,{...i,ref:t})})})}),[O7,tp]=ep(kr),MI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=G.useRef(null),l=Te(a,t),c=C7(n),h=lu(s)==="ltr",f=oe(e.onKeyDown,m=>{var N;if(!k7.includes(m.key))return;const b=m.target,p=c().filter(I=>{var R;return!((R=I.ref.current)!=null&&R.disabled)}),x=p.findIndex(I=>I.ref.current===b),y=p.length;if(x===-1)return;m.preventDefault();let w=x;const S=0,E=y-1,C=()=>{w=x+1,w>E&&(w=S)},T=()=>{w=x-1,w<S&&(w=E)};switch(m.key){case"Home":w=S;break;case"End":w=E;break;case"ArrowRight":i==="horizontal"&&(h?C():T());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(h?T():C());break;case"ArrowUp":i==="vertical"&&T();break}const j=w%y;(N=p[j].ref.current)==null||N.focus()});return u.jsx(O7,{scope:n,disabled:r,direction:s,orientation:i,children:u.jsx(ab.Slot,{scope:n,children:u.jsx(ge.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:f})})})}),Kh="AccordionItem",[R7,cb]=ep(Kh),DI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=tp(Kh,n),o=j7(Kh,n),a=lb(n),l=yr(),c=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return u.jsx(R7,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(S7,{"data-orientation":i.orientation,"data-state":BI(c),...a,...s,ref:t,disabled:d,open:c,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});DI.displayName=Kh;var LI="AccordionHeader",$I=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=tp(kr,n),i=cb(LI,n);return u.jsx(ge.h3,{"data-orientation":s.orientation,"data-state":BI(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});$I.displayName=LI;var my="AccordionTrigger",FI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=tp(kr,n),i=cb(my,n),o=A7(my,n),a=lb(n);return u.jsx(ab.ItemSlot,{scope:n,children:u.jsx(_7,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});FI.displayName=my;var VI="AccordionContent",UI=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=tp(kr,n),i=cb(VI,n),o=lb(n);return u.jsx(E7,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});UI.displayName=VI;function BI(e){return e?"open":"closed"}var I7=OI,M7=DI,D7=$I,zI=FI,qI=UI;const gy=I7,Jh=v.forwardRef(({className:e,...t},n)=>u.jsx(M7,{ref:n,className:ce("border-b",e),...t}));Jh.displayName="AccordionItem";const Yh=v.forwardRef(({className:e,children:t,...n},r)=>u.jsx(D7,{className:"flex",children:u.jsxs(zI,{ref:r,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(_w,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Yh.displayName=zI.displayName;const Qh=v.forwardRef(({className:e,children:t,...n},r)=>u.jsx(qI,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:ce("pb-4 pt-0",e),children:t})}));Qh.displayName=qI.displayName;function L7({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return u.jsxs(Tt,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function $7({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return u.jsxs(Tt,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function F7({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return u.jsx(Tt,{variant:"secondary",children:t[e]||e})}function V7(){const{token:e}=qw(),[t,n]=v.useState("loading"),[r,s]=v.useState(""),[i,o]=v.useState(null);return v.useEffect(()=>{async function a(){if(!e){n("error"),s("No results token provided");return}try{const{data:l,error:c}=await yt.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(c){n("error"),s("Unable to load results. Please try again.");return}if(l!=null&&l.error){l.error.includes("still being generated")?n("pending"):(n("error"),s(l.error));return}o(l),n("success")}catch(l){console.error("Error loading results:",l),n("error"),s("An unexpected error occurred. Please try again.")}}a()},[e]),u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs(un,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsx(au,{})]})}),u.jsxs("main",{className:"container py-8",children:[t==="loading"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(jt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsx(Re,{className:"max-w-md text-center",children:u.jsxs(De,{className:"pt-6",children:[u.jsx(ph,{className:"mx-auto mb-4 h-12 w-12 text-accent"}),u.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),u.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsx(Re,{className:"max-w-md text-center",children:u.jsxs(De,{className:"pt-6",children:[u.jsx($a,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),u.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),u.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&u.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Your Discovery Insights"}),u.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Personalised for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.org.name})]}),i.analysis.executiveSummary&&u.jsxs(Re,{className:"border-accent/50 bg-accent/5",children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(gh,{className:"h-5 w-5 text-accent"}),"Executive Summary"]})}),u.jsx(De,{children:u.jsx("p",{className:"text-foreground leading-relaxed",children:i.analysis.executiveSummary})})]}),i.analysis.automationOpportunities.length>0&&u.jsxs("section",{children:[u.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[u.jsx(oj,{className:"h-6 w-6 text-accent"}),u.jsx("h2",{className:"text-2xl font-semibold",children:"Opportunities For You"})]}),u.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.analysis.automationOpportunities.map((a,l)=>u.jsxs(Re,{className:"relative overflow-hidden",children:[u.jsxs(Zt,{className:"pb-2",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(F7,{category:a.category}),u.jsx(L7,{level:a.confidence}),u.jsx($7,{level:a.estimated_impact})]}),u.jsx(en,{className:"mt-2 text-lg",children:a.title})]}),u.jsxs(De,{className:"space-y-3",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),a.affected_workflows.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:a.affected_workflows.map((c,d)=>u.jsx(Tt,{variant:"outline",className:"text-xs",children:c},d))})]}),a.prerequisites.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),u.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:a.prerequisites.slice(0,3).map((c,d)=>u.jsx("li",{children:c},d))})]})]})]},l))})]}),i.analysis.workflows.length>0&&u.jsxs("section",{children:[u.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[u.jsx(lj,{className:"h-6 w-6 text-accent"}),u.jsx("h2",{className:"text-2xl font-semibold",children:"Your Workflows"})]}),u.jsx(gy,{type:"multiple",className:"space-y-2",children:i.analysis.workflows.map((a,l)=>{var c,d,h,f,m,b;return u.jsxs(Jh,{value:`workflow-${l}`,className:"rounded-lg border bg-card",children:[u.jsx(Yh,{className:"px-4 hover:no-underline",children:u.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium",children:a.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:a.owner})]}),u.jsx(Tt,{variant:"outline",children:a.frequency})]})}),u.jsx(Qh,{className:"px-4 pb-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:a.description}),a.estimated_time&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(ph,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("span",{children:["Estimated time: ",a.estimated_time]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((c=a.components.triggers)==null?void 0:c.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Triggers"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.triggers.map((p,x)=>u.jsx("li",{children:p},x))})]}),((d=a.components.inputs)==null?void 0:d.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.inputs.map((p,x)=>u.jsx("li",{children:p},x))})]}),((h=a.components.outputs)==null?void 0:h.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Outputs"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.outputs.map((p,x)=>u.jsx("li",{children:p},x))})]}),((f=a.components.decisions)==null?void 0:f.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Decisions"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.decisions.map((p,x)=>u.jsx("li",{children:p},x))})]})]}),((m=a.systems_used)==null?void 0:m.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:a.systems_used.map((p,x)=>u.jsx(Tt,{variant:"secondary",className:"text-xs",children:p},x))})]}),((b=a.pain_points)==null?void 0:b.length)>0&&u.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),u.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:a.pain_points.map((p,x)=>u.jsx("li",{children:p},x))})]})]})})]},l)})})]}),u.jsx(Re,{className:"border-accent bg-gradient-to-r from-accent/10 to-accent/5",children:u.jsxs(De,{className:"flex flex-col items-center py-8 text-center",children:[u.jsx(Bg,{className:"mb-4 h-12 w-12 text-accent"}),u.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),u.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),u.jsx(fe,{size:"lg",className:"gap-2",asChild:!0,children:u.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[u.jsx(Yl,{className:"h-5 w-5"}),"Contact AgentFlow",u.jsx(Ec,{className:"h-4 w-4"})]})})]})}),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:u.jsxs("p",{children:["Analysis generated on"," ",new Date(i.analysis.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})]})]})}const WI=["hamish@goagentflow.com","stephen@goagentflow.com"],HI=v.createContext(void 0);function U7({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0),a=t!=null&&t.email?WI.includes(t.email.toLowerCase()):!1;v.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await yt.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:d}}=yt.auth.onAuthStateChange(async(h,f)=>{console.log("[Auth] State change:",h),s(f),n((f==null?void 0:f.user)??null),o(!1)});return()=>{d.unsubscribe()}},[]);const l=async()=>{try{await yt.auth.signOut(),n(null),s(null)}catch(c){throw console.error("Error signing out:",c),c}};return u.jsx(HI.Provider,{value:{user:t,session:r,isAdmin:a,loading:i,signOut:l},children:e})}function ub(){const e=v.useContext(HI);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function vy(e){return WI.includes(e.toLowerCase())}function B7(){const[e,t]=v.useState(""),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[o,a]=v.useState(null),l=ol(),{user:c,isAdmin:d,loading:h}=ub();v.useEffect(()=>{!h&&c&&d&&l("/admin/dashboard",{replace:!0})},[c,d,h,l]);const f=async m=>{if(m.preventDefault(),a(null),i(!0),!vy(e)){a("This email is not authorized for admin access."),i(!1);return}try{const{error:b}=await yt.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/admin/auth/callback`}});if(b)throw b;r(!0)}catch(b){console.error("Error sending magic link:",b),a(b instanceof Error?b.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx(jt,{className:"h-8 w-8 animate-spin text-accent"})}):u.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[u.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[u.jsxs(un,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold",children:"AgentFlow"})]}),u.jsx(au,{})]}),u.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:u.jsxs(Re,{className:"w-full max-w-md",children:[u.jsxs(Zt,{className:"text-center",children:[u.jsx(en,{children:"Admin Login"}),u.jsx(qr,{children:"Sign in with your email to access the dashboard"})]}),u.jsx(De,{children:u.jsx(qa,{mode:"wait",children:n?u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[u.jsx(ij,{className:"mx-auto mb-4 h-12 w-12 text-green-500"}),u.jsx("p",{className:"font-medium",children:"Check your email!"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),u.jsx(fe,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):u.jsxs(Ee.form,{exit:{opacity:0},onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Yl,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(bn,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:m=>{t(m.target.value),a(null)},className:"pl-9",required:!0,disabled:s})]}),o&&u.jsxs(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[u.jsx($a,{className:"h-4 w-4 flex-shrink-0"}),u.jsx("span",{children:o})]}),u.jsx(fe,{type:"submit",className:"w-full",disabled:s,children:s?u.jsxs(u.Fragment,{children:[u.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})})]})}function z7(){const[e,t]=v.useState(null),n=ol();return v.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:a}=await yt.auth.getSession();if(a)throw a;if(!o){const{error:l}=await yt.auth.exchangeCodeForSession(window.location.href);if(l)throw l;const{data:{session:c},error:d}=await yt.auth.getSession();if(d||!c)throw new Error("Failed to establish session");if(!((s=c.user)!=null&&s.email)||!vy(c.user.email))throw await yt.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!vy(o.user.email))throw await yt.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:u.jsx(Re,{className:"max-w-md",children:u.jsxs(De,{className:"pt-6 text-center",children:[u.jsx($a,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),u.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),u.jsx(fe,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx(jt,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}function ya({icon:e,label:t,value:n,className:r,iconClassName:s}){return u.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:u.jsx(Re,{className:ce("transition-shadow duration-200 hover:shadow-md",r),children:u.jsxs(De,{className:"flex items-center gap-4 p-6",children:[u.jsx("div",{className:ce("flex h-12 w-12 items-center justify-center rounded-lg bg-accent/10",s),children:u.jsx(e,{className:"h-6 w-6 text-accent"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),u.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const ic=ZR,q7=eI,GI=v.forwardRef(({className:e,...t},n)=>u.jsx(Z0,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GI.displayName=Z0.displayName;const wa=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(q7,{children:[u.jsx(GI,{}),u.jsxs(eb,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(rb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Ew,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wa.displayName=eb.displayName;const ba=({className:e,...t})=>u.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ba.displayName="DialogHeader";const oc=({className:e,...t})=>u.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});oc.displayName="DialogFooter";const xa=v.forwardRef(({className:e,...t},n)=>u.jsx(tb,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));xa.displayName=tb.displayName;const Ud=v.forwardRef(({className:e,...t},n)=>u.jsx(nb,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Ud.displayName=nb.displayName;const W7=[{id:"1",speaker:"agent",content:"That's really helpful context about your reporting process. Can you tell me more about what triggers this workflow? How do you know it's time to generate these reports?",timestamp:"18:15"},{id:"2",speaker:"interviewee",content:"Usually it's a Slack message from my manager, or sometimes an email from the executive team. There's no set schedule really, it's quite ad-hoc which is part of the problem.",timestamp:"18:32"},{id:"3",speaker:"agent",content:"I see. So the trigger is essentially a request from stakeholders rather than a scheduled task. And when you receive that request, what's the first thing you do?",timestamp:"18:45"}];function H7({open:e,onClose:t,conversationId:n,intervieweeName:r,clientName:s,role:i}){const[o,a]=v.useState(!1),[l,c]=v.useState(W7),[d,h]=v.useState("interviewee"),[f,m]=v.useState("18:52");return v.useEffect(()=>{if(!e)return;const b=setInterval(()=>{m(p=>{const[x,y]=p.split(":").map(Number),w=x*60+y+1,S=Math.floor(w/60).toString().padStart(2,"0"),E=(w%60).toString().padStart(2,"0");return`${S}:${E}`}),Math.random()>.7&&h(p=>p==="agent"?"interviewee":"agent")},1e3);return()=>clearInterval(b)},[e]),u.jsx(ic,{open:e,onOpenChange:b=>!b&&t(),children:u.jsxs(wa,{className:"max-w-2xl",children:[u.jsx(ba,{children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent/10",children:u.jsx(F$,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{children:[u.jsxs(xa,{className:"flex items-center gap-2",children:["Listening to Interview",u.jsx(Tt,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 animate-pulse",children:"LIVE"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"  ",s,"  ",i]})]})]})})}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?u.jsx(Xi,{className:"h-4 w-4 text-white"}):u.jsx(Fp,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:d==="agent"?"AI Agent":r}),u.jsx("p",{className:"text-xs text-muted-foreground",children:d==="agent"?"Speaking":"Responding"})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx(ph,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"font-mono",children:f})]})]}),u.jsx(fe,{variant:"outline",size:"sm",onClick:()=>a(!o),className:"gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(Z$,{className:"h-4 w-4"}),"Unmute"]}):u.jsxs(u.Fragment,{children:[u.jsx(aj,{className:"h-4 w-4"}),"Mute"]})})]}),u.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:[...Array(20)].map((b,p)=>u.jsx(Ee.div,{className:`w-1 rounded-full ${o?"bg-muted-foreground/30":"bg-accent"}`,animate:{height:o?8:[8,Math.random()*32+8,8]},transition:{duration:.5,repeat:1/0,delay:p*.05}},p))}),u.jsxs("div",{className:"rounded-lg border",children:[u.jsx("div",{className:"border-b bg-muted/50 px-4 py-2",children:u.jsx("p",{className:"text-sm font-medium",children:"Live Transcript"})}),u.jsx($f,{className:"h-[250px]",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx(qa,{children:l.map((b,p)=>u.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${b.speaker==="agent"?"":"flex-row-reverse"}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${b.speaker==="agent"?"bg-accent":"bg-primary"}`,children:b.speaker==="agent"?u.jsx(Xi,{className:"h-4 w-4 text-white"}):u.jsx(Fp,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:`flex-1 ${b.speaker==="agent"?"":"text-right"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-medium",children:b.speaker==="agent"?"AI Agent":r}),u.jsx("span",{className:"text-xs text-muted-foreground",children:b.timestamp})]}),u.jsx("p",{className:`text-sm rounded-lg p-3 ${b.speaker==="agent"?"bg-accent/10 text-foreground":"bg-muted text-foreground"}`,children:b.content})]})]},b.id))}),u.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:`flex gap-3 ${d==="agent"?"":"flex-row-reverse"}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?u.jsx(Xi,{className:"h-4 w-4 text-white"}):u.jsx(Fp,{className:"h-4 w-4 text-white"})}),u.jsx("div",{className:`flex-1 ${d==="agent"?"":"text-right"}`,children:u.jsxs("div",{className:`inline-flex items-center gap-1 rounded-lg p-3 ${d==="agent"?"bg-accent/10":"bg-muted"}`,children:[u.jsx(Ee.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0},className:"h-2 w-2 rounded-full bg-current"}),u.jsx(Ee.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.2},className:"h-2 w-2 rounded-full bg-current"}),u.jsx(Ee.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.4},className:"h-2 w-2 rounded-full bg-current"})]})})]})]})})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You are observing this conversation in listen-only mode. The interviewee is not aware you are listening."})]})})}function G7(){const[e,t]=v.useState(!0),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState({totalProjects:0,activeInterviews:0,completedInterviews:0}),[l,c]=v.useState(null),[d,h]=v.useState(!1);v.useEffect(()=>{f()},[]);async function f(){t(!0);const{data:b}=await yt.from("discovery_project").select(`
        *,
        org:org_id (*)
      `).order("created_at",{ascending:!1}).limit(5),{data:p}=await yt.from("discovery_interviewee").select(`
        *,
        project:project_id (name, org_id, org:org_id (name))
      `).order("created_at",{ascending:!1});if(b){const E=b.map(C=>{const T=(p==null?void 0:p.filter(j=>j.project_id===C.id))||[];return{...C,interviewee_count:T.length,completed_count:T.filter(j=>j.status==="completed").length}});r(E)}const x=(p==null?void 0:p.filter(E=>E.status==="pending"||E.status==="invited").slice(0,5).map(E=>{var C,T,j;return{id:E.id,name:E.name,role:E.role,status:E.status,project_name:((C=E.project)==null?void 0:C.name)||"Unknown",org_name:((j=(T=E.project)==null?void 0:T.org)==null?void 0:j.name)||"Unknown",project_id:E.project_id}}))||[];i(x);const y=(b==null?void 0:b.length)||0,w=(p==null?void 0:p.filter(E=>E.status==="completed").length)||0,S=(p==null?void 0:p.filter(E=>E.status==="in_progress").length)||0;a({totalProjects:y,activeInterviews:S,completedInterviews:w}),t(!1)}const m=()=>{h(!1),c(null)};return e?u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor interviews and manage discovery projects."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(fe,{variant:"outline",asChild:!0,children:u.jsx(un,{to:"/admin/projects",children:"View All Projects"})}),u.jsx(fe,{asChild:!0,children:u.jsxs(un,{to:"/admin/projects",children:[u.jsx(Fa,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})]}),u.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[u.jsx(ya,{icon:Td,label:"Total Projects",value:o.totalProjects}),u.jsx(ya,{icon:mh,label:"Active Interviews",value:o.activeInterviews}),u.jsx(ya,{icon:Sw,label:"Completed Interviews",value:o.completedInterviews})]}),u.jsxs("div",{className:"mb-8 grid gap-6 lg:grid-cols-2",children:[u.jsxs(Re,{children:[u.jsx(Zt,{className:"pb-3",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:u.jsx(Td,{className:"h-4 w-4 text-accent"})}),u.jsxs("div",{children:[u.jsx(en,{className:"text-lg",children:"Recent Projects"}),u.jsx(qr,{children:"Your latest discovery projects"})]})]})})}),u.jsx(De,{children:n.length>0?u.jsxs("div",{className:"space-y-3",children:[n.map((b,p)=>{var x;return u.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},children:u.jsxs(un,{to:`/admin/projects/${b.id}`,className:"flex items-center justify-between rounded-lg border bg-card p-4 hover:bg-muted/50 transition-colors",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:b.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[(x=b.org)==null?void 0:x.name,"  ",b.interviewee_count," interviewees"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx(Tt,{variant:b.status==="active"?"default":"secondary",children:b.status}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b.completed_count,"/",b.interviewee_count," complete"]})]})]})},b.id)}),u.jsx(fe,{variant:"ghost",className:"w-full",asChild:!0,children:u.jsxs(un,{to:"/admin/projects",children:["View all projects",u.jsx(Ec,{className:"ml-2 h-4 w-4"})]})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:u.jsx(Td,{className:"h-6 w-6 text-muted-foreground"})}),u.jsx("p",{className:"font-medium",children:"No projects yet"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first discovery project"}),u.jsx(fe,{asChild:!0,children:u.jsxs(un,{to:"/admin/projects",children:[u.jsx(Fa,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})})]}),u.jsxs(Re,{children:[u.jsx(Zt,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:u.jsx(gh,{className:"h-4 w-4 text-accent"})}),u.jsxs("div",{children:[u.jsx(en,{className:"text-lg",children:"Pending Interviews"}),u.jsx(qr,{children:"Interviews awaiting completion"})]})]})}),u.jsx(De,{children:s.length>0?u.jsx("div",{className:"space-y-3",children:s.map((b,p)=>u.jsxs(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center justify-between rounded-lg border p-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:b.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.org_name,"  ",b.role||"No role"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Tt,{variant:"secondary",children:b.status}),u.jsx(fe,{size:"sm",variant:"outline",asChild:!0,children:u.jsx(un,{to:`/admin/projects/${b.project_id}`,children:"View"})})]})]},b.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:u.jsx(vh,{className:"h-6 w-6 text-muted-foreground"})}),u.jsx("p",{className:"font-medium",children:"No pending interviews"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"All interviews have been completed"})]})})]})]}),u.jsx(H7,{open:d,onClose:m,conversationId:"",intervieweeName:"",clientName:"",role:""})]})}const db=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",e),...t})}));db.displayName="Table";const hb=v.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",e),...t}));hb.displayName="TableHeader";const fb=v.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",e),...t}));fb.displayName="TableBody";const K7=v.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));K7.displayName="TableFooter";const Wc=v.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:ce("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Wc.displayName="TableRow";const Ln=v.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ln.displayName="TableHead";const $n=v.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));$n.displayName="TableCell";const J7=v.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:ce("mt-4 text-sm text-muted-foreground",e),...t}));J7.displayName="TableCaption";var Y7="Label",KI=v.forwardRef((e,t)=>u.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));KI.displayName=Y7;var JI=KI;const Q7=bf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lr=v.forwardRef(({className:e,...t},n)=>u.jsx(JI,{ref:n,className:ce(Q7(),e),...t}));Lr.displayName=JI.displayName;function X7(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Z7=[" ","Enter","ArrowUp","ArrowDown"],eJ=[" ","Enter"],mo="Select",[np,rp,tJ]=gf(mo),[fl,EY]=Kn(mo,[tJ,Ef]),sp=Ef(),[nJ,xi]=fl(mo),[rJ,sJ]=fl(mo),YI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:f,required:m,form:b}=e,p=sp(t),[x,y]=v.useState(null),[w,S]=v.useState(null),[E,C]=v.useState(!1),T=lu(c),[j,N]=Wr({prop:r,defaultProp:s??!1,onChange:i,caller:mo}),[I,R]=Wr({prop:o,defaultProp:a,onChange:l,caller:mo}),O=v.useRef(null),L=x?b||!!x.closest("form"):!0,[W,F]=v.useState(new Set),J=Array.from(W).map(Q=>Q.props.value).join(";");return u.jsx(Uj,{...p,children:u.jsxs(nJ,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:yr(),value:I,onValueChange:R,open:j,onOpenChange:N,dir:T,triggerPointerDownPosRef:O,disabled:f,children:[u.jsx(np.Provider,{scope:t,children:u.jsx(rJ,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(Q=>{F(X=>new Set(X).add(Q))},[]),onNativeOptionRemove:v.useCallback(Q=>{F(X=>{const $=new Set(X);return $.delete(Q),$})},[]),children:n})}),L?u.jsxs(bM,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:Q=>R(Q.target.value),disabled:f,form:b,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(W)]},J):null]})})};YI.displayName=mo;var QI="SelectTrigger",XI=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=sp(n),o=xi(QI,n),a=o.disabled||r,l=Te(t,o.onTriggerChange),c=rp(n),d=v.useRef("touch"),[h,f,m]=SM(p=>{const x=c().filter(S=>!S.disabled),y=x.find(S=>S.value===o.value),w=_M(x,p,y);w!==void 0&&o.onValueChange(w.value)}),b=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return u.jsx(Bj,{asChild:!0,...i,children:u.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":xM(o.value)?"":void 0,...s,ref:l,onClick:oe(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&b(p)}),onPointerDown:oe(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:oe(s.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&Z7.includes(p.key)&&(b(),p.preventDefault())})})})});XI.displayName=QI;var ZI="SelectValue",eM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=xi(ZI,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Te(t,l.onValueNodeChange);return Et(()=>{c(d)},[c,d]),u.jsx(ge.span,{...a,ref:h,style:{pointerEvents:"none"},children:xM(l.value)?u.jsx(u.Fragment,{children:o}):i})});eM.displayName=ZI;var iJ="SelectIcon",tM=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(ge.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});tM.displayName=iJ;var oJ="SelectPortal",nM=e=>u.jsx(vf,{asChild:!0,...e});nM.displayName=oJ;var go="SelectContent",rM=v.forwardRef((e,t)=>{const n=xi(go,e.__scopeSelect),[r,s]=v.useState();if(Et(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?wo.createPortal(u.jsx(sM,{scope:e.__scopeSelect,children:u.jsx(np.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(iM,{...e,ref:t})});rM.displayName=go;var ar=10,[sM,Si]=fl(go),aJ="SelectContentImpl",lJ=La("SelectContent.RemoveScroll"),iM=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x,...y}=e,w=xi(go,n),[S,E]=v.useState(null),[C,T]=v.useState(null),j=Te(t,A=>E(A)),[N,I]=v.useState(null),[R,O]=v.useState(null),L=rp(n),[W,F]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(S)return MR(S)},[S]),TR();const Q=v.useCallback(A=>{const[M,...B]=L().map(Z=>Z.ref.current),[U]=B.slice(-1),H=document.activeElement;for(const Z of A)if(Z===H||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===M&&C&&(C.scrollTop=0),Z===U&&C&&(C.scrollTop=C.scrollHeight),Z==null||Z.focus(),document.activeElement!==H))return},[L,C]),X=v.useCallback(()=>Q([N,S]),[Q,N,S]);v.useEffect(()=>{W&&X()},[W,X]);const{onOpenChange:$,triggerPointerDownPosRef:V}=w;v.useEffect(()=>{if(S){let A={x:0,y:0};const M=U=>{var H,Z;A={x:Math.abs(Math.round(U.pageX)-(((H=V.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(U.pageY)-(((Z=V.current)==null?void 0:Z.y)??0))}},B=U=>{A.x<=10&&A.y<=10?U.preventDefault():S.contains(U.target)||$(!1),document.removeEventListener("pointermove",M),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",B,{capture:!0})}}},[S,$,V]),v.useEffect(()=>{const A=()=>$(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[$]);const[Y,te]=SM(A=>{const M=L().filter(H=>!H.disabled),B=M.find(H=>H.ref.current===document.activeElement),U=_M(M,A,B);U&&setTimeout(()=>U.ref.current.focus())}),re=v.useCallback((A,M,B)=>{const U=!J.current&&!B;(w.value!==void 0&&w.value===M||U)&&(I(A),U&&(J.current=!0))},[w.value]),g=v.useCallback(()=>S==null?void 0:S.focus(),[S]),k=v.useCallback((A,M,B)=>{const U=!J.current&&!B;(w.value!==void 0&&w.value===M||U)&&O(A)},[w.value]),_=r==="popper"?yy:oM,P=_===yy?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return u.jsx(sM,{scope:n,content:S,viewport:C,onViewportChange:T,itemRefCallback:re,selectedItem:N,onItemLeave:g,itemTextRefCallback:k,focusSelectedItem:X,selectedItemText:R,position:r,isPositioned:W,searchRef:Y,children:u.jsx(J0,{as:lJ,allowPinchZoom:!0,children:u.jsx(K0,{asChild:!0,trapped:w.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:oe(s,A=>{var M;(M=w.trigger)==null||M.focus({preventScroll:!0}),A.preventDefault()}),children:u.jsx(eu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(_,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:A=>A.preventDefault(),...y,...P,onPlaced:()=>F(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:oe(y.onKeyDown,A=>{const M=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!M&&A.key.length===1&&te(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let U=L().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(A.key)&&(U=U.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const H=A.target,Z=U.indexOf(H);U=U.slice(Z+1)}setTimeout(()=>Q(U)),A.preventDefault()}})})})})})})});iM.displayName=aJ;var cJ="SelectItemAlignedPosition",oM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=xi(go,n),o=Si(go,n),[a,l]=v.useState(null),[c,d]=v.useState(null),h=Te(t,j=>d(j)),f=rp(n),m=v.useRef(!1),b=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=o,S=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&p&&x&&y){const j=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(i.dir!=="rtl"){const H=R.left-N.left,Z=I.left-H,he=j.left-Z,Ve=j.width+he,ue=Math.max(Ve,N.width),pt=window.innerWidth-ar,Me=kv(Z,[ar,Math.max(ar,pt-ue)]);a.style.minWidth=Ve+"px",a.style.left=Me+"px"}else{const H=N.right-R.right,Z=window.innerWidth-I.right-H,he=window.innerWidth-j.right-Z,Ve=j.width+he,ue=Math.max(Ve,N.width),pt=window.innerWidth-ar,Me=kv(Z,[ar,Math.max(ar,pt-ue)]);a.style.minWidth=Ve+"px",a.style.right=Me+"px"}const O=f(),L=window.innerHeight-ar*2,W=p.scrollHeight,F=window.getComputedStyle(c),J=parseInt(F.borderTopWidth,10),Q=parseInt(F.paddingTop,10),X=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),V=J+Q+W+$+X,Y=Math.min(x.offsetHeight*5,V),te=window.getComputedStyle(p),re=parseInt(te.paddingTop,10),g=parseInt(te.paddingBottom,10),k=j.top+j.height/2-ar,_=L-k,P=x.offsetHeight/2,A=x.offsetTop+P,M=J+Q+A,B=V-M;if(M<=k){const H=O.length>0&&x===O[O.length-1].ref.current;a.style.bottom="0px";const Z=c.clientHeight-p.offsetTop-p.offsetHeight,he=Math.max(_,P+(H?g:0)+Z+X),Ve=M+he;a.style.height=Ve+"px"}else{const H=O.length>0&&x===O[0].ref.current;a.style.top="0px";const he=Math.max(k,J+p.offsetTop+(H?re:0)+P)+B;a.style.height=he+"px",p.scrollTop=M-k+p.offsetTop}a.style.margin=`${ar}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,a,c,p,x,y,i.dir,r]);Et(()=>S(),[S]);const[E,C]=v.useState();Et(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const T=v.useCallback(j=>{j&&b.current===!0&&(S(),w==null||w(),b.current=!1)},[S,w]);return u.jsx(dJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:u.jsx(ge.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oM.displayName=cJ;var uJ="SelectPopperPosition",yy=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ar,...i}=e,o=sp(n);return u.jsx(zj,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yy.displayName=uJ;var[dJ,pb]=fl(go,{}),wy="SelectViewport",aM=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Si(wy,n),o=pb(wy,n),a=Te(t,i.onViewportChange),l=v.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(np.Slot,{scope:n,children:u.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const b=window.innerHeight-ar*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<b){const w=y+m,S=Math.min(b,w),E=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});aM.displayName=wy;var lM="SelectGroup",[hJ,fJ]=fl(lM),pJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=yr();return u.jsx(hJ,{scope:n,id:s,children:u.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:t})})});pJ.displayName=lM;var cM="SelectLabel",uM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=fJ(cM,n);return u.jsx(ge.div,{id:s.id,...r,ref:t})});uM.displayName=cM;var Xh="SelectItem",[mJ,dM]=fl(Xh),hM=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=xi(Xh,n),l=Si(Xh,n),c=a.value===r,[d,h]=v.useState(i??""),[f,m]=v.useState(!1),b=Te(t,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),p=yr(),x=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(mJ,{scope:n,value:r,disabled:s,textId:p,isSelected:c,onItemTextChange:v.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(np.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(ge.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:oe(o.onFocus,()=>m(!0)),onBlur:oe(o.onBlur,()=>m(!1)),onClick:oe(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:oe(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:oe(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:oe(o.onPointerMove,w=>{var S;x.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:oe(o.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(eJ.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});hM.displayName=Xh;var Fl="SelectItemText",fM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=xi(Fl,n),a=Si(Fl,n),l=dM(Fl,n),c=sJ(Fl,n),[d,h]=v.useState(null),f=Te(t,y=>h(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,b=v.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=c;return Et(()=>(p(b),()=>x(b)),[p,x,b]),u.jsxs(u.Fragment,{children:[u.jsx(ge.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?wo.createPortal(i.children,o.valueNode):null]})});fM.displayName=Fl;var pM="SelectItemIndicator",mM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return dM(pM,n).isSelected?u.jsx(ge.span,{"aria-hidden":!0,...r,ref:t}):null});mM.displayName=pM;var by="SelectScrollUpButton",gM=v.forwardRef((e,t)=>{const n=Si(by,e.__scopeSelect),r=pb(by,e.__scopeSelect),[s,i]=v.useState(!1),o=Te(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(yM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});gM.displayName=by;var xy="SelectScrollDownButton",vM=v.forwardRef((e,t)=>{const n=Si(xy,e.__scopeSelect),r=pb(xy,e.__scopeSelect),[s,i]=v.useState(!1),o=Te(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(yM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});vM.displayName=xy;var yM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Si("SelectScrollButton",n),o=v.useRef(null),a=rp(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Et(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(ge.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{l()})})}),gJ="SelectSeparator",wM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(ge.div,{"aria-hidden":!0,...r,ref:t})});wM.displayName=gJ;var Sy="SelectArrow",vJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=sp(n),i=xi(Sy,n),o=Si(Sy,n);return i.open&&o.position==="popper"?u.jsx(qj,{...s,...r,ref:t}):null});vJ.displayName=Sy;var yJ="SelectBubbleInput",bM=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),i=Te(r,s),o=X7(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),u.jsx(ge.select,{...n,style:{...DT,...n.style},ref:i,defaultValue:t})});bM.displayName=yJ;function xM(e){return e===""||e===void 0}function SM(e){const t=St(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function _M(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=wJ(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function wJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bJ=YI,EM=XI,xJ=eM,SJ=tM,_J=nM,kM=rM,EJ=aM,CM=uM,TM=hM,kJ=fM,CJ=mM,jM=gM,AM=vM,PM=wM;const TJ=bJ,jJ=xJ,NM=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(EM,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(SJ,{asChild:!0,children:u.jsx(_w,{className:"h-4 w-4 opacity-50"})})]}));NM.displayName=EM.displayName;const OM=v.forwardRef(({className:e,...t},n)=>u.jsx(jM,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(L$,{className:"h-4 w-4"})}));OM.displayName=jM.displayName;const RM=v.forwardRef(({className:e,...t},n)=>u.jsx(AM,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(_w,{className:"h-4 w-4"})}));RM.displayName=AM.displayName;const IM=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>u.jsx(_J,{children:u.jsxs(kM,{ref:s,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(OM,{}),u.jsx(EJ,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(RM,{})]})}));IM.displayName=kM.displayName;const AJ=v.forwardRef(({className:e,...t},n)=>u.jsx(CM,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));AJ.displayName=CM.displayName;const MM=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(TM,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(CJ,{children:u.jsx(Ug,{className:"h-4 w-4"})})}),u.jsx(kJ,{children:t})]}));MM.displayName=TM.displayName;const PJ=v.forwardRef(({className:e,...t},n)=>u.jsx(PM,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));PJ.displayName=PM.displayName;const NJ="e4e0bfb1baa318d89644193708f23b3042256ae413555b5f7105c8bb5ec78e3f";async function Cr(e,t={}){const{data:n,error:r}=await yt.functions.invoke("admin-api",{body:{action:e,...t},headers:{"x-admin-key":NJ}});return r?(console.error(`Admin API error (${e}):`,r),{data:null,error:r.message}):n!=null&&n.error?{data:null,error:n.error}:{data:n,error:null}}async function OJ(){const{data:e,error:t}=await Cr("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function RJ(e){const{data:t,error:n}=await Cr("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function IJ(e,t){const{data:n,error:r}=await Cr("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function MJ(e,t,n,r,s){const{data:i,error:o}=await Cr("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s});return o||!i?{interviewee:null,error:o}:{interviewee:i.interviewee,error:null}}async function DJ(e){const{error:t}=await Cr("markIntervieweeInvited",{intervieweeId:e});return{error:t}}async function LJ(){const{data:e,error:t}=await Cr("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function $J(e){const{data:t,error:n}=await Cr("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}async function FJ(e){const{data:t,error:n}=await Cr("getProjectAnalysis",{projectId:e});return n||!t?{analysis:null,interviewCount:0,error:n}:{analysis:t.analysis,interviewCount:t.interviewCount,error:null}}async function VJ(e){const{data:t,error:n}=await Cr("triggerAnalysis",{projectId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function UJ(e){const{data:t,error:n}=await Cr("triggerIndividualAnalysis",{intervieweeId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function BJ(e){const{data:t,error:n}=await Cr("getIntervieweeResultsLink",{intervieweeId:e});return n||!t?{resultsToken:null,intervieweeName:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,error:null}}function zJ(){var I;const[e,t]=v.useState(""),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[d,h]=v.useState(""),[f,m]=v.useState(""),[b,p]=v.useState(""),[x,y]=v.useState(!1),[w,S]=v.useState(!1),{toast:E}=Zc();v.useEffect(()=>{C()},[]);async function C(){a(!0);const[R,O]=await Promise.all([OJ(),LJ()]);R.projects&&r(R.projects),O.orgs&&i(O.orgs),a(!1)}const T=n.filter(R=>{var O,L;return R.name.toLowerCase().includes(e.toLowerCase())||((L=(O=R.org)==null?void 0:O.name)==null?void 0:L.toLowerCase().includes(e.toLowerCase()))}),j=async()=>{var F;S(!0);let R=f;if(x&&b){const{org:J,error:Q}=await $J(b);if(Q||!J){E({title:"Error",description:Q||"Failed to create client",variant:"destructive"}),S(!1);return}R=J.id}if(!R){E({title:"Error",description:"Please select or create a client",variant:"destructive"}),S(!1);return}const O=d||`Discovery - ${x?b:(F=s.find(J=>J.id===R))==null?void 0:F.name}`,{project:L,error:W}=await IJ(R,O);if(W||!L){E({title:"Error",description:W||"Failed to create project",variant:"destructive"}),S(!1);return}E({title:"Project created!",description:`${O} has been created.`}),h(""),m(""),p(""),y(!1),c(!1),S(!1),C()},N=R=>{const O={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},L=O[R]||O.setup;return u.jsx(Tt,{className:L.className,children:L.label})};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),u.jsxs(fe,{onClick:()=>c(!0),children:[u.jsx(Fa,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),u.jsxs("div",{className:"mb-4 max-w-sm relative",children:[u.jsx(W$,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(bn,{placeholder:"Search projects...",value:e,onChange:R=>t(R.target.value),className:"pl-9"})]}),o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(Td,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),u.jsxs(fe,{onClick:()=>c(!0),children:[u.jsx(Fa,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):u.jsx("div",{className:"rounded-lg border",children:u.jsxs(db,{children:[u.jsx(hb,{children:u.jsxs(Wc,{children:[u.jsx(Ln,{children:"Project Name"}),u.jsx(Ln,{children:"Client"}),u.jsx(Ln,{children:"Status"}),u.jsx(Ln,{children:"Created"}),u.jsx(Ln,{})]})}),u.jsx(fb,{children:T.map(R=>{var O;return u.jsxs(Wc,{className:"cursor-pointer hover:bg-muted/50",children:[u.jsx($n,{className:"font-medium",children:R.name}),u.jsx($n,{children:((O=R.org)==null?void 0:O.name)||"Unknown"}),u.jsx($n,{children:N(R.status)}),u.jsx($n,{children:new Date(R.created_at).toLocaleDateString()}),u.jsx($n,{children:u.jsx(fe,{variant:"ghost",size:"sm",asChild:!0,children:u.jsx(un,{to:`/admin/projects/${R.id}`,children:"View"})})})]},R.id)})})]})}),u.jsx(ic,{open:l,onOpenChange:c,children:u.jsxs(wa,{children:[u.jsx(ba,{children:u.jsx(xa,{children:"New Discovery Project"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(Lr,{children:"Client *"}),x?u.jsxs("div",{className:"space-y-2 mt-1",children:[u.jsx(bn,{value:b,onChange:R=>p(R.target.value),placeholder:"Enter client name"}),u.jsx(fe,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),p("")},children:"Select existing client instead"})]}):u.jsxs("div",{className:"space-y-2 mt-1",children:[u.jsxs(TJ,{value:f,onValueChange:m,children:[u.jsx(NM,{children:u.jsx(jJ,{placeholder:"Select a client..."})}),u.jsx(IM,{children:s.map(R=>u.jsx(MM,{value:R.id,children:R.name},R.id))})]}),u.jsx(fe,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),u.jsxs("div",{children:[u.jsx(Lr,{children:"Project Name (optional)"}),u.jsx(bn,{value:d,onChange:R=>h(R.target.value),placeholder:`Discovery - ${x?b||"Client Name":((I=s.find(R=>R.id===f))==null?void 0:I.name)||"Client Name"}`,className:"mt-1"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),u.jsxs(oc,{children:[u.jsx(fe,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsxs(fe,{onClick:j,disabled:w||!f&&!b,children:[w?u.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var qm="rovingFocusGroup.onEntryFocus",qJ={bubbles:!1,cancelable:!0},fu="RovingFocusGroup",[_y,DM,WJ]=gf(fu),[HJ,LM]=Kn(fu,[WJ]),[GJ,KJ]=HJ(fu),$M=v.forwardRef((e,t)=>u.jsx(_y.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(_y.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(JJ,{...e,ref:t})})}));$M.displayName=fu;var JJ=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),m=Te(t,f),b=lu(i),[p,x]=Wr({prop:o,defaultProp:a??null,onChange:l,caller:fu}),[y,w]=v.useState(!1),S=St(c),E=DM(n),C=v.useRef(!1),[T,j]=v.useState(0);return v.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(qm,S),()=>N.removeEventListener(qm,S)},[S]),u.jsx(GJ,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(N=>x(N),[x]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>j(N=>N-1),[]),children:u.jsx(ge.div,{tabIndex:y||T===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{C.current=!0}),onFocus:oe(e.onFocus,N=>{const I=!C.current;if(N.target===N.currentTarget&&I&&!y){const R=new CustomEvent(qm,qJ);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=E().filter(Q=>Q.focusable),L=O.find(Q=>Q.active),W=O.find(Q=>Q.id===p),J=[L,W,...O].filter(Boolean).map(Q=>Q.ref.current);UM(J,d)}}C.current=!1}),onBlur:oe(e.onBlur,()=>w(!1))})})}),FM="RovingFocusGroupItem",VM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=yr(),c=i||l,d=KJ(FM,n),h=d.currentTabStopId===c,f=DM(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=d;return v.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),u.jsx(_y.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(ge.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:oe(e.onMouseDown,x=>{r?d.onItemFocus(c):x.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:oe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=XJ(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const E=S.indexOf(x.currentTarget);S=d.loop?ZJ(S,E+1):S.slice(E+1)}setTimeout(()=>UM(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});VM.displayName=FM;var YJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XJ(e,t,n){const r=QJ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return YJ[r]}function UM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ZJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var eY=$M,tY=VM,ip="Tabs",[nY,kY]=Kn(ip,[LM]),BM=LM(),[rY,mb]=nY(ip),zM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,d=lu(a),[h,f]=Wr({prop:r,onChange:s,defaultProp:i??"",caller:ip});return u.jsx(rY,{scope:n,baseId:yr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:u.jsx(ge.div,{dir:d,"data-orientation":o,...c,ref:t})})});zM.displayName=ip;var qM="TabsList",WM=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=mb(qM,n),o=BM(n);return u.jsx(eY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});WM.displayName=qM;var HM="TabsTrigger",GM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=mb(HM,n),a=BM(n),l=YM(o.baseId,r),c=QM(o.baseId,r),d=r===o.value;return u.jsx(tY,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:oe(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:oe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:oe(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});GM.displayName=HM;var KM="TabsContent",JM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=mb(KM,n),l=YM(a.baseId,r),c=QM(a.baseId,r),d=r===a.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),u.jsx(Jn,{present:s||d,children:({present:f})=>u.jsx(ge.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});JM.displayName=KM;function YM(e,t){return`${e}-trigger-${t}`}function QM(e,t){return`${e}-content-${t}`}var sY=zM,XM=WM,ZM=GM,eD=JM;const iY=sY,tD=v.forwardRef(({className:e,...t},n)=>u.jsx(XM,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tD.displayName=XM.displayName;const Bd=v.forwardRef(({className:e,...t},n)=>u.jsx(ZM,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Bd.displayName=ZM.displayName;const zd=v.forwardRef(({className:e,...t},n)=>u.jsx(eD,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));zd.displayName=eD.displayName;function oY(){var Qe;const{id:e}=qw(),[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState([]),[a,l]=v.useState(!0),[c,d]=v.useState(!1),[h,f]=v.useState(!1),[m,b]=v.useState(null),[p,x]=v.useState(null),[y,w]=v.useState({name:"",email:"",role:""}),[S,E]=v.useState(!1),[C,T]=v.useState(null),[j,N]=v.useState(!1),[I,R]=v.useState(!1),[O,L]=v.useState(!1),[W,F]=v.useState(null),[J,Q]=v.useState(null),[X,$]=v.useState(!1),[V,Y]=v.useState(null),{toast:te}=Zc();v.useEffect(()=>{re()},[e]);async function re(){if(!e)return;l(!0);const{project:D,org:ve,interviewees:at,error:He}=await RJ(e);if(He){te({title:"Error",description:He,variant:"destructive"}),l(!1);return}n(D),s(ve),o(at),l(!1)}const g=D=>`${window.location.origin}/discovery/interview/${D}`,k=D=>{navigator.clipboard.writeText(g(D.interview_token)),x(D.id),te({title:"Link copied!"}),setTimeout(()=>x(null),2e3)},_=async()=>{if(!t||!y.name||!y.email)return;E(!0);const{interviewee:D,error:ve}=await MJ(t.id,t.org_id,y.name,y.email,y.role||void 0);if(ve||!D){te({title:"Error",description:ve||"Failed to add interviewee",variant:"destructive"}),E(!1);return}te({title:"Interviewee added!",description:`${y.name} has been added to the project.`}),w({name:"",email:"",role:""}),d(!1),E(!1),b(D),f(!0),re()},P=async D=>{await DJ(D.id),te({title:"Marked as invited"}),re()},A=async()=>{if(!e)return;N(!0);const{analysis:D,error:ve}=await FJ(e);ve?te({title:"Error loading analysis",description:ve,variant:"destructive"}):T(D),N(!1)},M=async()=>{if(!e)return;R(!0);const{success:D,error:ve}=await VJ(e);ve?te({title:"Error generating analysis",description:ve,variant:"destructive"}):(te({title:"Analysis generated!",description:"The analysis has been updated."}),A()),R(!1)},B=D=>{b(D),f(!0)},U=D=>`${window.location.origin}/discovery/results/${D}`,H=async D=>{F(D),L(!0),$(!0),Q(null);const{resultsToken:ve,error:at}=await BJ(D.id);if(at){te({title:"Error",description:at,variant:"destructive"}),$(!1);return}Q(ve),$(!1)},Z=()=>{J&&(navigator.clipboard.writeText(U(J)),te({title:"Results link copied!"}))},he=async D=>{Y(D.id);const{success:ve,error:at}=await UJ(D.id);if(at){te({title:"Error",description:at,variant:"destructive"}),Y(null);return}te({title:"Analysis generated!",description:`Analysis for ${D.name} is ready.`}),Y(null),re()},Ve=D=>{D==="analysis"&&!C&&!j&&A()},ue=C==null?void 0:C.raw_output,pt=D=>{const ve={high:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return u.jsx(Tt,{className:ve[D]||ve.medium,children:D})},Me=D=>{const ve={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return u.jsxs(Tt,{className:ve[D]||ve.medium,children:[D," impact"]})},ot=D=>({triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy/Rule-Based",document:"Document Workflows",glue_work:"Glue Work",research:"Repetitive Research"})[D]||D,kt=D=>{const ve={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},at=ve[D]||ve.pending;return u.jsx(Tt,{className:at.className,children:at.label})};if(a)return u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!t)return u.jsx("div",{className:"p-6",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const ae=i.filter(D=>D.status==="completed").length,ie=i.filter(D=>D.status==="pending"||D.status==="invited").length;return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h1",{className:"text-2xl font-bold",children:t.name}),u.jsxs("p",{className:"text-muted-foreground",children:[r==null?void 0:r.name,"  Created ",new Date(t.created_at).toLocaleDateString()]})]}),u.jsxs(iY,{defaultValue:"interviewees",className:"mt-6",onValueChange:Ve,children:[u.jsxs(tD,{className:"mb-6",children:[u.jsx(Bd,{value:"interviewees",children:"Interviewees"}),u.jsx(Bd,{value:"overview",children:"Overview"}),u.jsx(Bd,{value:"analysis",disabled:ae===0,children:"Analysis"})]}),u.jsx(zd,{value:"overview",children:u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsx(ya,{icon:vh,label:"Total Interviewees",value:i.length}),u.jsx(ya,{icon:mh,label:"Completed",value:ae}),u.jsx(ya,{icon:Sw,label:"Pending",value:ie})]})}),u.jsxs(zd,{value:"interviewees",children:[u.jsx("div",{className:"mb-4 flex justify-end",children:u.jsxs(fe,{onClick:()=>d(!0),children:[u.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),i.length===0?u.jsx(Re,{children:u.jsxs(De,{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(vh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),u.jsxs(fe,{onClick:()=>d(!0),children:[u.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})}):u.jsx("div",{className:"rounded-lg border",children:u.jsxs(db,{children:[u.jsx(hb,{children:u.jsxs(Wc,{children:[u.jsx(Ln,{children:"Name"}),u.jsx(Ln,{children:"Role"}),u.jsx(Ln,{children:"Email"}),u.jsx(Ln,{children:"Status"}),u.jsx(Ln,{children:"Interview"}),u.jsx(Ln,{children:"Results"})]})}),u.jsx(fb,{children:i.map(D=>u.jsxs(Wc,{children:[u.jsx($n,{className:"font-medium",children:D.name}),u.jsx($n,{children:D.role||"-"}),u.jsx($n,{children:D.email}),u.jsx($n,{children:kt(D.status)}),u.jsx($n,{children:u.jsx(Yg,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs($u,{children:[u.jsx(Fu,{asChild:!0,children:u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>k(D),children:p===D.id?u.jsx(Ug,{className:"h-4 w-4"}):u.jsx(Mu,{className:"h-4 w-4"})})}),u.jsx(Nl,{children:u.jsx("p",{children:"Copy interview link"})})]}),D.status==="pending"&&u.jsxs($u,{children:[u.jsx(Fu,{asChild:!0,children:u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>B(D),children:u.jsx(Yl,{className:"h-4 w-4"})})}),u.jsx(Nl,{children:u.jsx("p",{children:"Send invite email"})})]})]})})}),u.jsx($n,{children:u.jsx(Yg,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[D.status==="completed"&&!D.has_individual_analysis&&u.jsxs($u,{children:[u.jsx(Fu,{asChild:!0,children:u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>he(D),disabled:V===D.id,children:V===D.id?u.jsx(jt,{className:"h-4 w-4 animate-spin"}):u.jsx(Bg,{className:"h-4 w-4"})})}),u.jsx(Nl,{children:u.jsx("p",{children:"Generate analysis"})})]}),D.status==="completed"&&D.has_individual_analysis&&u.jsxs($u,{children:[u.jsx(Fu,{asChild:!0,children:u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>H(D),children:u.jsx(K$,{className:"h-4 w-4"})})}),u.jsx(Nl,{children:u.jsx("p",{children:"Share results link"})})]}),D.status!=="completed"&&u.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})})]},D.id))})]})})]}),u.jsx(zd,{value:"analysis",children:j?u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):C?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated ",C.generated_at?new Date(C.generated_at).toLocaleString():"recently"]})}),u.jsxs(fe,{variant:"outline",size:"sm",onClick:M,disabled:I,children:[I?u.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(q$,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]}),(ue==null?void 0:ue.summary)&&u.jsxs(Re,{children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(X$,{className:"h-5 w-5"}),"Executive Summary"]})}),u.jsxs(De,{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:ue.summary.overall_assessment}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold",children:ue.summary.total_workflows_identified||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Workflows Identified"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold",children:ue.summary.total_automation_opportunities||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Automation Opportunities"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:ue.summary.high_confidence_opportunities||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]}),ue.summary.key_themes&&ue.summary.key_themes.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Key Themes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ue.summary.key_themes.map((D,ve)=>u.jsx(Tt,{variant:"secondary",children:D},ve))})]}),ue.summary.recommended_priorities&&ue.summary.recommended_priorities.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Recommended Priorities"}),u.jsx("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:ue.summary.recommended_priorities.map((D,ve)=>u.jsx("li",{children:D},ve))})]})]})]}),(ue==null?void 0:ue.automation_opportunities)&&ue.automation_opportunities.length>0&&u.jsxs(Re,{children:[u.jsxs(Zt,{children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(Bg,{className:"h-5 w-5"}),"Automation Opportunities"]}),u.jsx(qr,{children:"Identified areas where AI or automation could add value"})]}),u.jsx(De,{children:u.jsx(gy,{type:"single",collapsible:!0,className:"w-full",children:ue.automation_opportunities.map((D,ve)=>u.jsxs(Jh,{value:`opp-${ve}`,children:[u.jsx(Yh,{className:"hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("span",{className:"font-medium",children:D.title}),u.jsxs("div",{className:"flex items-center gap-2",children:[pt(D.confidence),Me(D.estimated_impact)]})]})}),u.jsxs(Qh,{className:"space-y-4 pt-2",children:[u.jsx("p",{className:"text-muted-foreground",children:D.description}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx(Tt,{variant:"outline",className:"mb-2",children:ot(D.category)}),D.confidence_reasoning&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.jsx("strong",{children:"Confidence:"})," ",D.confidence_reasoning]}),D.impact_reasoning&&u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u.jsx("strong",{children:"Impact:"})," ",D.impact_reasoning]})]}),u.jsxs("div",{className:"space-y-2",children:[D.affected_workflows&&D.affected_workflows.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Affected Workflows"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:D.affected_workflows.join(", ")})]}),D.affected_people&&D.affected_people.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Who Benefits"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:D.affected_people.join(", ")})]})]})]}),D.prerequisites&&D.prerequisites.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Prerequisites"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:D.prerequisites.map((at,He)=>u.jsx("li",{children:at},He))})]}),D.risks&&D.risks.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Risks"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:D.risks.map((at,He)=>u.jsx("li",{children:at},He))})]})]})]},ve))})})]}),((Qe=ue==null?void 0:ue.workflow_map)==null?void 0:Qe.workflows)&&ue.workflow_map.workflows.length>0&&u.jsxs(Re,{children:[u.jsxs(Zt,{children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(lj,{className:"h-5 w-5"}),"Identified Workflows"]}),u.jsx(qr,{children:"Workflows discovered during the interviews"})]}),u.jsx(De,{children:u.jsx(gy,{type:"single",collapsible:!0,className:"w-full",children:ue.workflow_map.workflows.map((D,ve)=>u.jsxs(Jh,{value:`workflow-${ve}`,children:[u.jsx(Yh,{className:"hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("span",{className:"font-medium",children:D.name}),D.frequency&&u.jsxs(Tt,{variant:"outline",className:"flex items-center gap-1",children:[u.jsx(ph,{className:"h-3 w-3"}),D.frequency]})]})}),u.jsxs(Qh,{className:"space-y-4 pt-2",children:[u.jsx("p",{className:"text-muted-foreground",children:D.description}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[D.owner&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Owner"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:D.owner})]}),D.estimated_time&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Typical Duration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:D.estimated_time})]}),D.systems_used&&D.systems_used.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Systems Used"}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:D.systems_used.map((at,He)=>u.jsx(Tt,{variant:"secondary",className:"text-xs",children:at},He))})]})]}),D.components&&u.jsxs("div",{className:"space-y-2 text-sm",children:[D.components.triggers&&D.components.triggers.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Triggers:"})," ",D.components.triggers.join(", ")]}),D.components.outputs&&D.components.outputs.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Outputs:"})," ",D.components.outputs.join(", ")]})]})]}),D.pain_points&&D.pain_points.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Pain Points"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:D.pain_points.map((at,He)=>u.jsx("li",{children:at},He))})]})]})]},ve))})})]}),(ue==null?void 0:ue.technical_questions)&&ue.technical_questions.length>0&&u.jsxs(Re,{children:[u.jsxs(Zt,{children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx($$,{className:"h-5 w-5"}),"Technical Questions"]}),u.jsx(qr,{children:"Questions that need answers before proceeding"})]}),u.jsx(De,{children:u.jsx("div",{className:"space-y-4",children:ue.technical_questions.map((D,ve)=>u.jsxs("div",{className:"border-l-2 border-muted-foreground/20 pl-4 py-2",children:[u.jsx("p",{className:"font-medium",children:D.question}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.context}),D.suggested_stakeholder&&u.jsxs("p",{className:"text-sm mt-2",children:[u.jsx("span",{className:"text-muted-foreground",children:"Ask:"})," ",u.jsx(Tt,{variant:"outline",children:D.suggested_stakeholder})]})]},ve))})})]}),(ue==null?void 0:ue.follow_up_suggestions)&&ue.follow_up_suggestions.length>0&&u.jsxs(Re,{children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(Ec,{className:"h-5 w-5"}),"Suggested Follow-ups"]})}),u.jsx(De,{children:u.jsx("div",{className:"space-y-3",children:ue.follow_up_suggestions.map((D,ve)=>u.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:D.description}),pt(D.priority)]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.reason}),D.suggested_participants&&D.suggested_participants.length>0&&u.jsxs("p",{className:"text-sm mt-1",children:[u.jsx("span",{className:"text-muted-foreground",children:"Participants:"})," ",D.suggested_participants.join(", ")]})]})},ve))})})]}),(ue==null?void 0:ue.gaps_and_uncertainties)&&ue.gaps_and_uncertainties.length>0&&u.jsxs(Re,{children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx($a,{className:"h-5 w-5"}),"Gaps & Uncertainties"]})}),u.jsx(De,{children:u.jsx("div",{className:"space-y-3",children:ue.gaps_and_uncertainties.map((D,ve)=>u.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-4 py-2",children:[u.jsx("p",{className:"font-medium",children:D.description}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u.jsx("strong",{children:"Impact:"})," ",D.impact]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.jsx("strong",{children:"Resolution:"})," ",D.suggested_resolution]})]},ve))})})]})]}):u.jsx(Re,{children:u.jsxs(De,{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(gh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No analysis yet"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Generate an analysis based on ",ae," completed interview",ae!==1?"s":"","."]}),u.jsxs(fe,{onClick:M,disabled:I,children:[I?u.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(gh,{className:"mr-2 h-4 w-4"}),"Generate Analysis"]})]})})})]}),u.jsx(ic,{open:c,onOpenChange:d,children:u.jsxs(wa,{children:[u.jsxs(ba,{children:[u.jsx(xa,{children:"Add Interviewee"}),u.jsx(Ud,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(Lr,{children:"Name *"}),u.jsx(bn,{value:y.name,onChange:D=>w({...y,name:D.target.value}),placeholder:"John Smith",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Lr,{children:"Email *"}),u.jsx(bn,{type:"email",value:y.email,onChange:D=>w({...y,email:D.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Lr,{children:"Role (optional)"}),u.jsx(bn,{value:y.role,onChange:D=>w({...y,role:D.target.value}),placeholder:"Operations Manager",className:"mt-1"})]})]}),u.jsxs(oc,{children:[u.jsx(fe,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),u.jsxs(fe,{onClick:_,disabled:S||!y.name||!y.email,children:[S?u.jsx(jt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})}),u.jsx(ic,{open:h,onOpenChange:f,children:u.jsxs(wa,{className:"sm:max-w-lg",children:[u.jsxs(ba,{children:[u.jsx(xa,{children:"Send Interview Invite"}),u.jsxs(Ud,{children:["Choose how to invite ",m==null?void 0:m.name," to their interview session."]})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(Lr,{className:"text-sm font-medium",children:"Interview Link"}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[u.jsx(bn,{readOnly:!0,value:m?g(m.interview_token):"",className:"font-mono text-sm"}),u.jsx(fe,{variant:"outline",size:"icon",onClick:()=>m&&k(m),children:p===(m==null?void 0:m.id)?u.jsx(Ug,{className:"h-4 w-4"}):u.jsx(Mu,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 14 days"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{m&&(k(m),P(m))},children:u.jsxs(De,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:u.jsx(D$,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),u.jsx($p,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsx(Re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{if(m){const D=encodeURIComponent("Your AgentFlow Discovery Interview"),ve=encodeURIComponent(`Hi ${m.name},

You've been invited to participate in a Discovery session.

Click the link below to start your interview when you're ready:
${g(m.interview_token)}

The conversation typically takes 20-30 minutes.

Best regards`);window.open(`mailto:${m.email}?subject=${D}&body=${ve}`),P(m)}},children:u.jsxs(De,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:u.jsx(Yl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Open in Email Client"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),u.jsx($p,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),u.jsx(oc,{children:u.jsx(fe,{variant:"outline",onClick:()=>f(!1),children:"Done"})})]})}),u.jsx(ic,{open:O,onOpenChange:L,children:u.jsxs(wa,{className:"sm:max-w-lg",children:[u.jsxs(ba,{children:[u.jsx(xa,{children:"Share Results"}),u.jsxs(Ud,{children:["Share the personalised analysis results with ",W==null?void 0:W.name,"."]})]}),u.jsx("div",{className:"space-y-4 py-4",children:X?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx(jt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):J?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Lr,{className:"text-sm font-medium",children:"Results Link"}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[u.jsx(bn,{readOnly:!0,value:U(J),className:"font-mono text-sm"}),u.jsx(fe,{variant:"outline",size:"icon",onClick:Z,children:u.jsx(Mu,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 30 days"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{Z(),L(!1)},children:u.jsxs(De,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:u.jsx(Mu,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Copy Link"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the results link to share manually"})]})]})}),u.jsx(Re,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{if(W&&J){const D=encodeURIComponent("Your Discovery Insights are Ready"),ve=encodeURIComponent(`Hi ${W.name},

Your personalised Discovery analysis is ready to view.

Click the link below to see your insights:
${U(J)}

This link will expire in 30 days.

Best regards,
The AgentFlow Team`);window.open(`mailto:${W.email}?subject=${D}&body=${ve}`),L(!1)}},children:u.jsxs(De,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:u.jsx(Yl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Open in Email Client"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send results via email to ",W==null?void 0:W.email]})]}),u.jsx($p,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}):u.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Unable to load results link. The analysis may not be ready yet."})}),u.jsx(oc,{children:u.jsx(fe,{variant:"outline",onClick:()=>L(!1),children:"Done"})})]})})]})}function aY(){const{toast:e}=Zc(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),u.jsxs("div",{className:"max-w-2xl space-y-6",children:[u.jsxs(Re,{children:[u.jsxs(Zt,{children:[u.jsx(en,{children:"Voice Platform"}),u.jsx(qr,{children:"Configure your Vapi integration"})]}),u.jsxs(De,{children:[u.jsx(Lr,{htmlFor:"vapi",children:"Vapi API Key"}),u.jsx(bn,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),u.jsxs(Re,{children:[u.jsxs(Zt,{children:[u.jsx(en,{children:"LLM"}),u.jsx(qr,{children:"Configure your AI provider"})]}),u.jsxs(De,{children:[u.jsx(Lr,{htmlFor:"anthropic",children:"Anthropic API Key"}),u.jsx(bn,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),u.jsxs(Re,{children:[u.jsxs(Zt,{children:[u.jsx(en,{children:"Admin Users"}),u.jsx(qr,{children:"Manage who can access this dashboard"})]}),u.jsxs(De,{children:[u.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"admin@example.com"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),u.jsx(fe,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),u.jsx(fe,{onClick:t,children:"Save Settings"})]})]})}const lY=[{icon:V$,label:"Dashboard",href:"/admin/dashboard"},{icon:vh,label:"Projects",href:"/admin/projects"},{icon:G$,label:"Settings",href:"/admin/settings"}];function ik({isOpen:e,onClose:t,isMobile:n}){const r=wi(),s=ol(),{user:i,signOut:o}=ub(),a=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(d){console.error("Sign out error:",d)}},l=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",c=u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[u.jsxs(un,{to:"/admin/dashboard",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),n&&u.jsx(fe,{variant:"ghost",size:"icon",onClick:t,children:u.jsx(Ew,{className:"h-5 w-5"})})]}),u.jsx("nav",{className:"flex-1 space-y-1 p-4",children:lY.map(d=>{const h=r.pathname===d.href||d.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return u.jsxs(un,{to:d.href,onClick:n?t:void 0,className:ce("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[u.jsx(d.icon,{className:"h-5 w-5"}),d.label,h&&u.jsx(Ee.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},d.href)})}),u.jsx("div",{className:"border-t p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:l})}),u.jsxs("div",{className:"flex-1 truncate",children:[u.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),u.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),u.jsx(fe,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:u.jsx(U$,{className:"h-4 w-4"})})]})})]});return n?u.jsx(qa,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),u.jsx(Ee.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:c})]})}):u.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:c})}function cY({onMenuClick:e,title:t}){return u.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[u.jsx(B$,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&u.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(au,{})})]})}function uY(){const[e,t]=v.useState(!1),{user:n,isAdmin:r,loading:s}=ub();return s?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx(jt,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?u.jsx(vB,{to:"/admin/login",replace:!0}):u.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[u.jsx(ik,{isOpen:!0,onClose:()=>{},isMobile:!1}),u.jsx(ik,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),u.jsxs("div",{className:"flex flex-1 flex-col",children:[u.jsx(cY,{onMenuClick:()=>t(!0)}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsx(yB,{})})]})]})}const dY=()=>{const e=wi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},hY=new k4,fY=()=>u.jsx(T4,{client:hY,children:u.jsx($F,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:u.jsxs(Yg,{children:[u.jsx(MF,{}),u.jsx(gV,{}),u.jsx(TB,{basename:"/discovery",children:u.jsxs(fS,{children:[u.jsx(gn,{path:"/",element:u.jsx(u8,{})}),u.jsx(gn,{path:"/interview/:token",element:u.jsx(v7,{})}),u.jsx(gn,{path:"/results/:token",element:u.jsx(V7,{})}),u.jsx(gn,{path:"/admin/*",element:u.jsx(U7,{children:u.jsxs(fS,{children:[u.jsx(gn,{path:"login",element:u.jsx(B7,{})}),u.jsx(gn,{path:"auth/callback",element:u.jsx(z7,{})}),u.jsxs(gn,{element:u.jsx(uY,{}),children:[u.jsx(gn,{path:"dashboard",element:u.jsx(G7,{})}),u.jsx(gn,{path:"projects",element:u.jsx(zJ,{})}),u.jsx(gn,{path:"projects/:id",element:u.jsx(oY,{})}),u.jsx(gn,{path:"settings",element:u.jsx(aY,{})})]})]})})}),u.jsx(gn,{path:"*",element:u.jsx(dY,{})})]})})]})})});jT(document.getElementById("root")).render(u.jsx(fY,{}));
