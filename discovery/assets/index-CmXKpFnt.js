var DD=Object.defineProperty;var Fx=e=>{throw TypeError(e)};var LD=(e,t,n)=>t in e?DD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xe=(e,t,n)=>LD(e,typeof t!="symbol"?t+"":t,n),jp=(e,t,n)=>t.has(e)||Fx("Cannot "+n);var B=(e,t,n)=>(jp(e,t,"read from private field"),n?n.call(e):t.get(e)),Oe=(e,t,n)=>t.has(e)?Fx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),be=(e,t,n,r)=>(jp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vt=(e,t,n)=>(jp(e,t,"access private method"),n);var Nu=(e,t,n,r)=>({set _(s){be(e,t,s,n)},get _(){return B(e,t,r)}});function $D(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function FD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Dk={exports:{}},af={},Lk={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=Symbol.for("react.element"),VD=Symbol.for("react.portal"),UD=Symbol.for("react.fragment"),BD=Symbol.for("react.strict_mode"),zD=Symbol.for("react.profiler"),qD=Symbol.for("react.provider"),WD=Symbol.for("react.context"),HD=Symbol.for("react.forward_ref"),GD=Symbol.for("react.suspense"),KD=Symbol.for("react.memo"),JD=Symbol.for("react.lazy"),Ux=Symbol.iterator;function YD(e){return e===null||typeof e!="object"?null:(e=Ux&&e[Ux]||e["@@iterator"],typeof e=="function"?e:null)}var $k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fk=Object.assign,Vk={};function al(e,t,n){this.props=e,this.context=t,this.refs=Vk,this.updater=n||$k}al.prototype.isReactComponent={};al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uk(){}Uk.prototype=al.prototype;function $y(e,t,n){this.props=e,this.context=t,this.refs=Vk,this.updater=n||$k}var Fy=$y.prototype=new Uk;Fy.constructor=$y;Fk(Fy,al.prototype);Fy.isPureReactComponent=!0;var Bx=Array.isArray,Bk=Object.prototype.hasOwnProperty,Vy={current:null},zk={key:!0,ref:!0,__self:!0,__source:!0};function qk(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Bk.call(t,r)&&!zk.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:iu,type:e,key:i,ref:o,props:s,_owner:Vy.current}}function QD(e,t){return{$$typeof:iu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uy(e){return typeof e=="object"&&e!==null&&e.$$typeof===iu}function XD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zx=/\/+/g;function Tp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XD(""+e.key):t.toString(36)}function Ed(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case iu:case VD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Tp(o,0):r,Bx(s)?(n="",e!=null&&(n=e.replace(zx,"$&/")+"/"),Ed(s,t,n,"",function(u){return u})):s!=null&&(Uy(s)&&(s=QD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zx,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Bx(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Tp(i,a);o+=Ed(i,t,n,c,s)}else if(c=YD(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Tp(i,a++),o+=Ed(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Au(e,t,n){if(e==null)return e;var r=[],s=0;return Ed(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ZD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cn={current:null},kd={transition:null},e2={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:kd,ReactCurrentOwner:Vy};function Wk(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Au,forEach:function(e,t,n){Au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Au(e,function(){t++}),t},toArray:function(e){return Au(e,function(t){return t})||[]},only:function(e){if(!Uy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ce.Component=al;Ce.Fragment=UD;Ce.Profiler=zD;Ce.PureComponent=$y;Ce.StrictMode=BD;Ce.Suspense=GD;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e2;Ce.act=Wk;Ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fk({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Vy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Bk.call(t,c)&&!zk.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:iu,type:e.type,key:s,ref:i,props:r,_owner:o}};Ce.createContext=function(e){return e={$$typeof:WD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qD,_context:e},e.Consumer=e};Ce.createElement=qk;Ce.createFactory=function(e){var t=qk.bind(null,e);return t.type=e,t};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(e){return{$$typeof:HD,render:e}};Ce.isValidElement=Uy;Ce.lazy=function(e){return{$$typeof:JD,_payload:{_status:-1,_result:e},_init:ZD}};Ce.memo=function(e,t){return{$$typeof:KD,type:e,compare:t===void 0?null:t}};Ce.startTransition=function(e){var t=kd.transition;kd.transition={};try{e()}finally{kd.transition=t}};Ce.unstable_act=Wk;Ce.useCallback=function(e,t){return cn.current.useCallback(e,t)};Ce.useContext=function(e){return cn.current.useContext(e)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(e){return cn.current.useDeferredValue(e)};Ce.useEffect=function(e,t){return cn.current.useEffect(e,t)};Ce.useId=function(){return cn.current.useId()};Ce.useImperativeHandle=function(e,t,n){return cn.current.useImperativeHandle(e,t,n)};Ce.useInsertionEffect=function(e,t){return cn.current.useInsertionEffect(e,t)};Ce.useLayoutEffect=function(e,t){return cn.current.useLayoutEffect(e,t)};Ce.useMemo=function(e,t){return cn.current.useMemo(e,t)};Ce.useReducer=function(e,t,n){return cn.current.useReducer(e,t,n)};Ce.useRef=function(e){return cn.current.useRef(e)};Ce.useState=function(e){return cn.current.useState(e)};Ce.useSyncExternalStore=function(e,t,n){return cn.current.useSyncExternalStore(e,t,n)};Ce.useTransition=function(){return cn.current.useTransition()};Ce.version="18.3.1";Lk.exports=Ce;var g=Lk.exports;const G=Mk(g),By=$D({__proto__:null,default:G},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=g,n2=Symbol.for("react.element"),r2=Symbol.for("react.fragment"),s2=Object.prototype.hasOwnProperty,i2=t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o2={key:!0,ref:!0,__self:!0,__source:!0};function Hk(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)s2.call(t,r)&&!o2.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:n2,type:e,key:i,ref:o,props:s,_owner:i2.current}}af.Fragment=r2;af.jsx=Hk;af.jsxs=Hk;Dk.exports=af;var l=Dk.exports,Gk={exports:{}},Tn={},Kk={exports:{}},Jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,$){var z=L.length;L.push($);e:for(;0<z;){var ee=z-1>>>1,ne=L[ee];if(0<s(ne,$))L[ee]=$,L[z]=ne,z=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],z=L.pop();if(z!==$){L[0]=z;e:for(var ee=0,ne=L.length,v=ne>>>1;ee<v;){var k=2*(ee+1)-1,E=L[k],A=k+1,N=L[A];if(0>s(E,z))A<ne&&0>s(N,E)?(L[ee]=N,L[A]=z,ee=A):(L[ee]=E,L[k]=z,ee=k);else if(A<ne&&0>s(N,z))L[ee]=N,L[A]=z,ee=A;else break e}}return $}function s(L,$){var z=L.sortIndex-$.sortIndex;return z!==0?z:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,m=!1,x=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=L)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function _(L){if(p=!1,S(L),!x)if(n(c)!==null)x=!0,J(C);else{var $=n(u);$!==null&&Y(_,$.startTime-L)}}function C(L,$){x=!1,p&&(p=!1,y(P),P=-1),m=!0;var z=f;try{for(S($),h=n(c);h!==null&&(!(h.expirationTime>$)||L&&!R());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var ne=ee(h.expirationTime<=$);$=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(c)&&r(c),S($)}else r(c);h=n(c)}if(h!==null)var v=!0;else{var k=n(u);k!==null&&Y(_,k.startTime-$),v=!1}return v}finally{h=null,f=z,m=!1}}var j=!1,T=null,P=-1,O=5,I=-1;function R(){return!(e.unstable_now()-I<O)}function D(){if(T!==null){var L=e.unstable_now();I=L;var $=!0;try{$=T(!0,L)}finally{$?W():(j=!1,T=null)}}else j=!1}var W;if(typeof w=="function")W=function(){w(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Q=F.port2;F.port1.onmessage=D,W=function(){Q.postMessage(null)}}else W=function(){b(D,0)};function J(L){T=L,j||(j=!0,W())}function Y(L,$){P=b(function(){L(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,J(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var z=f;f=$;try{return L()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=f;f=L;try{return $()}finally{f=z}},e.unstable_scheduleCallback=function(L,$,z){var ee=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,L={id:d++,callback:$,priorityLevel:L,startTime:z,expirationTime:ne,sortIndex:-1},z>ee?(L.sortIndex=z,t(u,L),n(c)===null&&L===n(u)&&(p?(y(P),P=-1):p=!0,Y(_,z-ee))):(L.sortIndex=ne,t(c,L),x||m||(x=!0,J(C))),L},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(L){var $=f;return function(){var z=f;f=$;try{return L.apply(this,arguments)}finally{f=z}}}})(Jk);Kk.exports=Jk;var a2=Kk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2=g,jn=a2;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yk=new Set,yc={};function To(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(yc[e]=t,e=0;e<t.length;e++)Yk.add(t[e])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=Object.prototype.hasOwnProperty,c2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qx={},Wx={};function u2(e){return lg.call(Wx,e)?!0:lg.call(qx,e)?!1:c2.test(e)?Wx[e]=!0:(qx[e]=!0,!1)}function d2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h2(e,t,n,r){if(t===null||typeof t>"u"||d2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var zy=/[\-:]([a-z])/g;function qy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zy,qy);$t[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zy,qy);$t[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zy,qy);$t[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wy(e,t,n,r){var s=$t.hasOwnProperty(t)?$t[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h2(t,n,s,r)&&(n=null),r||s===null?u2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xs=l2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pu=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),Qk=Symbol.for("react.provider"),Xk=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),Ky=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),Zk=Symbol.for("react.offscreen"),Hx=Symbol.iterator;function jl(e){return e===null||typeof e!="object"?null:(e=Hx&&e[Hx]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,Np;function Ul(e){if(Np===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Np=t&&t[1]||""}return`
`+Np+e}var Ap=!1;function Pp(e,t){if(!e||Ap)return"";Ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ap=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ul(e):""}function f2(e){switch(e.tag){case 5:return Ul(e.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return e=Pp(e.type,!1),e;case 11:return e=Pp(e.type.render,!1),e;case 1:return e=Pp(e.type,!0),e;default:return""}}function hg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zo:return"Fragment";case Xo:return"Portal";case cg:return"Profiler";case Hy:return"StrictMode";case ug:return"Suspense";case dg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xk:return(e.displayName||"Context")+".Consumer";case Qk:return(e._context.displayName||"Context")+".Provider";case Gy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ky:return t=e.displayName||null,t!==null?t:hg(e.type)||"Memo";case Ds:t=e._payload,e=e._init;try{return hg(e(t))}catch{}}return null}function p2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hg(t);case 8:return t===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function m2(e){var t=eC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ru(e){e._valueTracker||(e._valueTracker=m2(e))}function tC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function th(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fg(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nC(e,t){t=t.checked,t!=null&&Wy(e,"checked",t,!1)}function pg(e,t){nC(e,t);var n=hi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mg(e,t.type,n):t.hasOwnProperty("defaultValue")&&mg(e,t.type,hi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mg(e,t,n){(t!=="number"||th(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bl=Array.isArray;function ga(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function gg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Bl(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hi(n)}}function rC(e,t){var n=hi(t.value),r=hi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ou,iC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g2=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(e){g2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zl[t]=Zl[e]})});function oC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zl.hasOwnProperty(e)&&Zl[e]?(""+t).trim():t+"px"}function aC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var v2=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yg(e,t){if(t){if(v2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function wg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function Jy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bg=null,va=null,ya=null;function Qx(e){if(e=lu(e)){if(typeof bg!="function")throw Error(K(280));var t=e.stateNode;t&&(t=hf(t),bg(e.stateNode,e.type,t))}}function lC(e){va?ya?ya.push(e):ya=[e]:va=e}function cC(){if(va){var e=va,t=ya;if(ya=va=null,Qx(e),t)for(e=0;e<t.length;e++)Qx(t[e])}}function uC(e,t){return e(t)}function dC(){}var Rp=!1;function hC(e,t,n){if(Rp)return e(t,n);Rp=!0;try{return uC(e,t,n)}finally{Rp=!1,(va!==null||ya!==null)&&(dC(),cC())}}function xc(e,t){var n=e.stateNode;if(n===null)return null;var r=hf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Sg=!1;if(fs)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Sg=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Sg=!1}function y2(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ec=!1,nh=null,rh=!1,_g=null,w2={onError:function(e){ec=!0,nh=e}};function x2(e,t,n,r,s,i,o,a,c){ec=!1,nh=null,y2.apply(w2,arguments)}function b2(e,t,n,r,s,i,o,a,c){if(x2.apply(this,arguments),ec){if(ec){var u=nh;ec=!1,nh=null}else throw Error(K(198));rh||(rh=!0,_g=u)}}function No(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xx(e){if(No(e)!==e)throw Error(K(188))}function S2(e){var t=e.alternate;if(!t){if(t=No(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xx(s),e;if(i===r)return Xx(s),t;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function pC(e){return e=S2(e),e!==null?mC(e):null}function mC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mC(e);if(t!==null)return t;e=e.sibling}return null}var gC=jn.unstable_scheduleCallback,Zx=jn.unstable_cancelCallback,_2=jn.unstable_shouldYield,E2=jn.unstable_requestPaint,lt=jn.unstable_now,k2=jn.unstable_getCurrentPriorityLevel,Yy=jn.unstable_ImmediatePriority,vC=jn.unstable_UserBlockingPriority,sh=jn.unstable_NormalPriority,C2=jn.unstable_LowPriority,yC=jn.unstable_IdlePriority,lf=null,Ur=null;function j2(e){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(lf,e,void 0,(e.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:A2,T2=Math.log,N2=Math.LN2;function A2(e){return e>>>=0,e===0?32:31-(T2(e)/N2|0)|0}var Iu=64,Mu=4194304;function zl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ih(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=zl(a):(i&=o,i!==0&&(r=zl(i)))}else o=n&~s,o!==0?r=zl(o):i!==0&&(r=zl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vr(t),s=1<<n,r|=e[n],t&=~s;return r}function P2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=P2(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Eg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wC(){var e=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),e}function Op(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ou(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vr(t),e[t]=n}function O2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-vr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Qy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var De=0;function xC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bC,Xy,SC,_C,EC,kg=!1,Du=[],ei=null,ti=null,ni=null,bc=new Map,Sc=new Map,Vs=[],I2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eb(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":bc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(t.pointerId)}}function Nl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=lu(t),t!==null&&Xy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function M2(e,t,n,r,s){switch(t){case"focusin":return ei=Nl(ei,e,t,n,r,s),!0;case"dragenter":return ti=Nl(ti,e,t,n,r,s),!0;case"mouseover":return ni=Nl(ni,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return bc.set(i,Nl(bc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Sc.set(i,Nl(Sc.get(i)||null,e,t,n,r,s)),!0}return!1}function kC(e){var t=Hi(e.target);if(t!==null){var n=No(t);if(n!==null){if(t=n.tag,t===13){if(t=fC(n),t!==null){e.blockedOn=t,EC(e.priority,function(){SC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xg=r,n.target.dispatchEvent(r),xg=null}else return t=lu(n),t!==null&&Xy(t),e.blockedOn=n,!1;t.shift()}return!0}function tb(e,t,n){Cd(e)&&n.delete(t)}function D2(){kg=!1,ei!==null&&Cd(ei)&&(ei=null),ti!==null&&Cd(ti)&&(ti=null),ni!==null&&Cd(ni)&&(ni=null),bc.forEach(tb),Sc.forEach(tb)}function Al(e,t){e.blockedOn===t&&(e.blockedOn=null,kg||(kg=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,D2)))}function _c(e){function t(s){return Al(s,e)}if(0<Du.length){Al(Du[0],e);for(var n=1;n<Du.length;n++){var r=Du[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ei!==null&&Al(ei,e),ti!==null&&Al(ti,e),ni!==null&&Al(ni,e),bc.forEach(t),Sc.forEach(t),n=0;n<Vs.length;n++)r=Vs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)kC(n),n.blockedOn===null&&Vs.shift()}var wa=xs.ReactCurrentBatchConfig,oh=!0;function L2(e,t,n,r){var s=De,i=wa.transition;wa.transition=null;try{De=1,Zy(e,t,n,r)}finally{De=s,wa.transition=i}}function $2(e,t,n,r){var s=De,i=wa.transition;wa.transition=null;try{De=4,Zy(e,t,n,r)}finally{De=s,wa.transition=i}}function Zy(e,t,n,r){if(oh){var s=Cg(e,t,n,r);if(s===null)zp(e,t,r,ah,n),eb(e,r);else if(M2(s,e,t,n,r))r.stopPropagation();else if(eb(e,r),t&4&&-1<I2.indexOf(e)){for(;s!==null;){var i=lu(s);if(i!==null&&bC(i),i=Cg(e,t,n,r),i===null&&zp(e,t,r,ah,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zp(e,t,r,null,n)}}var ah=null;function Cg(e,t,n,r){if(ah=null,e=Jy(r),e=Hi(e),e!==null)if(t=No(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ah=e,null}function CC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k2()){case Yy:return 1;case vC:return 4;case sh:case C2:return 16;case yC:return 536870912;default:return 16}default:return 16}}var Ys=null,ew=null,jd=null;function jC(){if(jd)return jd;var e,t=ew,n=t.length,r,s="value"in Ys?Ys.value:Ys.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return jd=s.slice(e,1<r?1-r:void 0)}function Td(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lu(){return!0}function nb(){return!1}function Nn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lu:nb,this.isPropagationStopped=nb,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),t}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tw=Nn(ll),au=rt({},ll,{view:0,detail:0}),F2=Nn(au),Ip,Mp,Pl,cf=rt({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(Ip=e.screenX-Pl.screenX,Mp=e.screenY-Pl.screenY):Mp=Ip=0,Pl=e),Ip)},movementY:function(e){return"movementY"in e?e.movementY:Mp}}),rb=Nn(cf),V2=rt({},cf,{dataTransfer:0}),U2=Nn(V2),B2=rt({},au,{relatedTarget:0}),Dp=Nn(B2),z2=rt({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),q2=Nn(z2),W2=rt({},ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H2=Nn(W2),G2=rt({},ll,{data:0}),sb=Nn(G2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Y2[e])?!!t[e]:!1}function nw(){return Q2}var X2=rt({},au,{key:function(e){if(e.key){var t=K2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Td(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nw,charCode:function(e){return e.type==="keypress"?Td(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Td(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Z2=Nn(X2),eL=rt({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ib=Nn(eL),tL=rt({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nw}),nL=Nn(tL),rL=rt({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),sL=Nn(rL),iL=rt({},cf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oL=Nn(iL),aL=[9,13,27,32],rw=fs&&"CompositionEvent"in window,tc=null;fs&&"documentMode"in document&&(tc=document.documentMode);var lL=fs&&"TextEvent"in window&&!tc,TC=fs&&(!rw||tc&&8<tc&&11>=tc),ob=" ",ab=!1;function NC(e,t){switch(e){case"keyup":return aL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function cL(e,t){switch(e){case"compositionend":return AC(t);case"keypress":return t.which!==32?null:(ab=!0,ob);case"textInput":return e=t.data,e===ob&&ab?null:e;default:return null}}function uL(e,t){if(ea)return e==="compositionend"||!rw&&NC(e,t)?(e=jC(),jd=ew=Ys=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TC&&t.locale!=="ko"?null:t.data;default:return null}}var dL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dL[e.type]:t==="textarea"}function PC(e,t,n,r){lC(r),t=lh(t,"onChange"),0<t.length&&(n=new tw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nc=null,Ec=null;function hL(e){BC(e,0)}function uf(e){var t=ra(e);if(tC(t))return e}function fL(e,t){if(e==="change")return t}var RC=!1;if(fs){var Lp;if(fs){var $p="oninput"in document;if(!$p){var cb=document.createElement("div");cb.setAttribute("oninput","return;"),$p=typeof cb.oninput=="function"}Lp=$p}else Lp=!1;RC=Lp&&(!document.documentMode||9<document.documentMode)}function ub(){nc&&(nc.detachEvent("onpropertychange",OC),Ec=nc=null)}function OC(e){if(e.propertyName==="value"&&uf(Ec)){var t=[];PC(t,Ec,e,Jy(e)),hC(hL,t)}}function pL(e,t,n){e==="focusin"?(ub(),nc=t,Ec=n,nc.attachEvent("onpropertychange",OC)):e==="focusout"&&ub()}function mL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uf(Ec)}function gL(e,t){if(e==="click")return uf(t)}function vL(e,t){if(e==="input"||e==="change")return uf(t)}function yL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:yL;function kc(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lg.call(t,s)||!br(e[s],t[s]))return!1}return!0}function db(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hb(e,t){var n=db(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=db(n)}}function IC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?IC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function MC(){for(var e=window,t=th();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=th(e.document)}return t}function sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wL(e){var t=MC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&IC(n.ownerDocument.documentElement,n)){if(r!==null&&sw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=hb(n,i);var o=hb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xL=fs&&"documentMode"in document&&11>=document.documentMode,ta=null,jg=null,rc=null,Tg=!1;function fb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tg||ta==null||ta!==th(r)||(r=ta,"selectionStart"in r&&sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rc&&kc(rc,r)||(rc=r,r=lh(jg,"onSelect"),0<r.length&&(t=new tw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ta)))}function $u(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var na={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Fp={},DC={};fs&&(DC=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function df(e){if(Fp[e])return Fp[e];if(!na[e])return e;var t=na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in DC)return Fp[e]=t[n];return e}var LC=df("animationend"),$C=df("animationiteration"),FC=df("animationstart"),VC=df("transitionend"),UC=new Map,pb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(e,t){UC.set(e,t),To(t,[e])}for(var Vp=0;Vp<pb.length;Vp++){var Up=pb[Vp],bL=Up.toLowerCase(),SL=Up[0].toUpperCase()+Up.slice(1);bi(bL,"on"+SL)}bi(LC,"onAnimationEnd");bi($C,"onAnimationIteration");bi(FC,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(VC,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_L=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function mb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,b2(r,t,void 0,e),e.currentTarget=null}function BC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;mb(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;mb(s,a,u),i=c}}}if(rh)throw e=_g,rh=!1,_g=null,e}function He(e,t){var n=t[Og];n===void 0&&(n=t[Og]=new Set);var r=e+"__bubble";n.has(r)||(zC(t,e,2,!1),n.add(r))}function Bp(e,t,n){var r=0;t&&(r|=4),zC(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[Fu]){e[Fu]=!0,Yk.forEach(function(n){n!=="selectionchange"&&(_L.has(n)||Bp(n,!1,e),Bp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fu]||(t[Fu]=!0,Bp("selectionchange",!1,t))}}function zC(e,t,n,r){switch(CC(t)){case 1:var s=L2;break;case 4:s=$2;break;default:s=Zy}n=s.bind(null,t,n,e),s=void 0,!Sg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zp(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Hi(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}hC(function(){var u=i,d=Jy(n),h=[];e:{var f=UC.get(e);if(f!==void 0){var m=tw,x=e;switch(e){case"keypress":if(Td(n)===0)break e;case"keydown":case"keyup":m=Z2;break;case"focusin":x="focus",m=Dp;break;case"focusout":x="blur",m=Dp;break;case"beforeblur":case"afterblur":m=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=U2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nL;break;case LC:case $C:case FC:m=q2;break;case VC:m=sL;break;case"scroll":m=F2;break;case"wheel":m=oL;break;case"copy":case"cut":case"paste":m=H2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ib}var p=(t&4)!==0,b=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=u,S;w!==null;){S=w;var _=S.stateNode;if(S.tag===5&&_!==null&&(S=_,y!==null&&(_=xc(w,y),_!=null&&p.push(jc(w,_,S)))),b)break;w=w.return}0<p.length&&(f=new m(f,x,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==xg&&(x=n.relatedTarget||n.fromElement)&&(Hi(x)||x[ps]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?Hi(x):null,x!==null&&(b=No(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(p=rb,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=ib,_="onPointerLeave",y="onPointerEnter",w="pointer"),b=m==null?f:ra(m),S=x==null?f:ra(x),f=new p(_,w+"leave",m,n,d),f.target=b,f.relatedTarget=S,_=null,Hi(d)===u&&(p=new p(y,w+"enter",x,n,d),p.target=S,p.relatedTarget=b,_=p),b=_,m&&x)t:{for(p=m,y=x,w=0,S=p;S;S=$o(S))w++;for(S=0,_=y;_;_=$o(_))S++;for(;0<w-S;)p=$o(p),w--;for(;0<S-w;)y=$o(y),S--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=$o(p),y=$o(y)}p=null}else p=null;m!==null&&gb(h,f,m,p,!1),x!==null&&b!==null&&gb(h,b,x,p,!0)}}e:{if(f=u?ra(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=fL;else if(lb(f))if(RC)C=vL;else{C=mL;var j=pL}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=gL);if(C&&(C=C(e,u))){PC(h,C,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&mg(f,"number",f.value)}switch(j=u?ra(u):window,e){case"focusin":(lb(j)||j.contentEditable==="true")&&(ta=j,jg=u,rc=null);break;case"focusout":rc=jg=ta=null;break;case"mousedown":Tg=!0;break;case"contextmenu":case"mouseup":case"dragend":Tg=!1,fb(h,n,d);break;case"selectionchange":if(xL)break;case"keydown":case"keyup":fb(h,n,d)}var T;if(rw)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ea?NC(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(TC&&n.locale!=="ko"&&(ea||P!=="onCompositionStart"?P==="onCompositionEnd"&&ea&&(T=jC()):(Ys=d,ew="value"in Ys?Ys.value:Ys.textContent,ea=!0)),j=lh(u,P),0<j.length&&(P=new sb(P,e,null,n,d),h.push({event:P,listeners:j}),T?P.data=T:(T=AC(n),T!==null&&(P.data=T)))),(T=lL?cL(e,n):uL(e,n))&&(u=lh(u,"onBeforeInput"),0<u.length&&(d=new sb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}BC(h,t)})}function jc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function lh(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xc(e,n),i!=null&&r.unshift(jc(e,i,s)),i=xc(e,t),i!=null&&r.push(jc(e,i,s))),e=e.return}return r}function $o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gb(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=xc(n,i),c!=null&&o.unshift(jc(n,c,a))):s||(c=xc(n,i),c!=null&&o.push(jc(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var EL=/\r\n?/g,kL=/\u0000|\uFFFD/g;function vb(e){return(typeof e=="string"?e:""+e).replace(EL,`
`).replace(kL,"")}function Vu(e,t,n){if(t=vb(t),vb(e)!==t&&n)throw Error(K(425))}function ch(){}var Ng=null,Ag=null;function Pg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,CL=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,jL=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(e){return yb.resolve(null).then(e).catch(TL)}:Rg;function TL(e){setTimeout(function(){throw e})}function qp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),_c(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_c(t)}function ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cl=Math.random().toString(36).slice(2),$r="__reactFiber$"+cl,Tc="__reactProps$"+cl,ps="__reactContainer$"+cl,Og="__reactEvents$"+cl,NL="__reactListeners$"+cl,AL="__reactHandles$"+cl;function Hi(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[$r]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wb(e);e!==null;){if(n=e[$r])return n;e=wb(e)}return t}e=n,n=e.parentNode}return null}function lu(e){return e=e[$r]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function hf(e){return e[Tc]||null}var Ig=[],sa=-1;function Si(e){return{current:e}}function Ke(e){0>sa||(e.current=Ig[sa],Ig[sa]=null,sa--)}function ze(e,t){sa++,Ig[sa]=e.current,e.current=t}var fi={},Jt=Si(fi),pn=Si(!1),po=fi;function Ba(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mn(e){return e=e.childContextTypes,e!=null}function uh(){Ke(pn),Ke(Jt)}function xb(e,t,n){if(Jt.current!==fi)throw Error(K(168));ze(Jt,t),ze(pn,n)}function qC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(K(108,p2(e)||"Unknown",s));return rt({},n,r)}function dh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,po=Jt.current,ze(Jt,e),ze(pn,pn.current),!0}function bb(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=qC(e,t,po),r.__reactInternalMemoizedMergedChildContext=e,Ke(pn),Ke(Jt),ze(Jt,e)):Ke(pn),ze(pn,n)}var is=null,ff=!1,Wp=!1;function WC(e){is===null?is=[e]:is.push(e)}function PL(e){ff=!0,WC(e)}function _i(){if(!Wp&&is!==null){Wp=!0;var e=0,t=De;try{var n=is;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}is=null,ff=!1}catch(s){throw is!==null&&(is=is.slice(e+1)),gC(Yy,_i),s}finally{De=t,Wp=!1}}return null}var ia=[],oa=0,hh=null,fh=0,Ln=[],$n=0,mo=null,as=1,ls="";function $i(e,t){ia[oa++]=fh,ia[oa++]=hh,hh=e,fh=t}function HC(e,t,n){Ln[$n++]=as,Ln[$n++]=ls,Ln[$n++]=mo,mo=e;var r=as;e=ls;var s=32-vr(r)-1;r&=~(1<<s),n+=1;var i=32-vr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,as=1<<32-vr(t)+s|n<<s|r,ls=i+e}else as=1<<i|n<<s|r,ls=e}function iw(e){e.return!==null&&($i(e,1),HC(e,1,0))}function ow(e){for(;e===hh;)hh=ia[--oa],ia[oa]=null,fh=ia[--oa],ia[oa]=null;for(;e===mo;)mo=Ln[--$n],Ln[$n]=null,ls=Ln[--$n],Ln[$n]=null,as=Ln[--$n],Ln[$n]=null}var kn=null,_n=null,Qe=!1,gr=null;function GC(e,t){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sb(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,_n=ri(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mo!==null?{id:as,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,_n=null,!0):!1;default:return!1}}function Mg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dg(e){if(Qe){var t=_n;if(t){var n=t;if(!Sb(e,t)){if(Mg(e))throw Error(K(418));t=ri(n.nextSibling);var r=kn;t&&Sb(e,t)?GC(r,n):(e.flags=e.flags&-4097|2,Qe=!1,kn=e)}}else{if(Mg(e))throw Error(K(418));e.flags=e.flags&-4097|2,Qe=!1,kn=e}}}function _b(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function Uu(e){if(e!==kn)return!1;if(!Qe)return _b(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pg(e.type,e.memoizedProps)),t&&(t=_n)){if(Mg(e))throw KC(),Error(K(418));for(;t;)GC(e,t),t=ri(t.nextSibling)}if(_b(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=ri(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=kn?ri(e.stateNode.nextSibling):null;return!0}function KC(){for(var e=_n;e;)e=ri(e.nextSibling)}function za(){_n=kn=null,Qe=!1}function aw(e){gr===null?gr=[e]:gr.push(e)}var RL=xs.ReactCurrentBatchConfig;function Rl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Bu(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eb(e){var t=e._init;return t(e._payload)}function JC(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ai(y,w),y.index=0,y.sibling=null,y}function i(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,_){return w===null||w.tag!==6?(w=Xp(S,y.mode,_),w.return=y,w):(w=s(w,S),w.return=y,w)}function c(y,w,S,_){var C=S.type;return C===Zo?d(y,w,S.props.children,_,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ds&&Eb(C)===w.type)?(_=s(w,S.props),_.ref=Rl(y,w,S),_.return=y,_):(_=Md(S.type,S.key,S.props,null,y.mode,_),_.ref=Rl(y,w,S),_.return=y,_)}function u(y,w,S,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Zp(S,y.mode,_),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function d(y,w,S,_,C){return w===null||w.tag!==7?(w=ao(S,y.mode,_,C),w.return=y,w):(w=s(w,S),w.return=y,w)}function h(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Xp(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pu:return S=Md(w.type,w.key,w.props,null,y.mode,S),S.ref=Rl(y,null,w),S.return=y,S;case Xo:return w=Zp(w,y.mode,S),w.return=y,w;case Ds:var _=w._init;return h(y,_(w._payload),S)}if(Bl(w)||jl(w))return w=ao(w,y.mode,S,null),w.return=y,w;Bu(y,w)}return null}function f(y,w,S,_){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(y,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pu:return S.key===C?c(y,w,S,_):null;case Xo:return S.key===C?u(y,w,S,_):null;case Ds:return C=S._init,f(y,w,C(S._payload),_)}if(Bl(S)||jl(S))return C!==null?null:d(y,w,S,_,null);Bu(y,S)}return null}function m(y,w,S,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(S)||null,a(w,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pu:return y=y.get(_.key===null?S:_.key)||null,c(w,y,_,C);case Xo:return y=y.get(_.key===null?S:_.key)||null,u(w,y,_,C);case Ds:var j=_._init;return m(y,w,S,j(_._payload),C)}if(Bl(_)||jl(_))return y=y.get(S)||null,d(w,y,_,C,null);Bu(w,_)}return null}function x(y,w,S,_){for(var C=null,j=null,T=w,P=w=0,O=null;T!==null&&P<S.length;P++){T.index>P?(O=T,T=null):O=T.sibling;var I=f(y,T,S[P],_);if(I===null){T===null&&(T=O);break}e&&T&&I.alternate===null&&t(y,T),w=i(I,w,P),j===null?C=I:j.sibling=I,j=I,T=O}if(P===S.length)return n(y,T),Qe&&$i(y,P),C;if(T===null){for(;P<S.length;P++)T=h(y,S[P],_),T!==null&&(w=i(T,w,P),j===null?C=T:j.sibling=T,j=T);return Qe&&$i(y,P),C}for(T=r(y,T);P<S.length;P++)O=m(T,y,P,S[P],_),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?P:O.key),w=i(O,w,P),j===null?C=O:j.sibling=O,j=O);return e&&T.forEach(function(R){return t(y,R)}),Qe&&$i(y,P),C}function p(y,w,S,_){var C=jl(S);if(typeof C!="function")throw Error(K(150));if(S=C.call(S),S==null)throw Error(K(151));for(var j=C=null,T=w,P=w=0,O=null,I=S.next();T!==null&&!I.done;P++,I=S.next()){T.index>P?(O=T,T=null):O=T.sibling;var R=f(y,T,I.value,_);if(R===null){T===null&&(T=O);break}e&&T&&R.alternate===null&&t(y,T),w=i(R,w,P),j===null?C=R:j.sibling=R,j=R,T=O}if(I.done)return n(y,T),Qe&&$i(y,P),C;if(T===null){for(;!I.done;P++,I=S.next())I=h(y,I.value,_),I!==null&&(w=i(I,w,P),j===null?C=I:j.sibling=I,j=I);return Qe&&$i(y,P),C}for(T=r(y,T);!I.done;P++,I=S.next())I=m(T,y,P,I.value,_),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?P:I.key),w=i(I,w,P),j===null?C=I:j.sibling=I,j=I);return e&&T.forEach(function(D){return t(y,D)}),Qe&&$i(y,P),C}function b(y,w,S,_){if(typeof S=="object"&&S!==null&&S.type===Zo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Pu:e:{for(var C=S.key,j=w;j!==null;){if(j.key===C){if(C=S.type,C===Zo){if(j.tag===7){n(y,j.sibling),w=s(j,S.props.children),w.return=y,y=w;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ds&&Eb(C)===j.type){n(y,j.sibling),w=s(j,S.props),w.ref=Rl(y,j,S),w.return=y,y=w;break e}n(y,j);break}else t(y,j);j=j.sibling}S.type===Zo?(w=ao(S.props.children,y.mode,_,S.key),w.return=y,y=w):(_=Md(S.type,S.key,S.props,null,y.mode,_),_.ref=Rl(y,w,S),_.return=y,y=_)}return o(y);case Xo:e:{for(j=S.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Zp(S,y.mode,_),w.return=y,y=w}return o(y);case Ds:return j=S._init,b(y,w,j(S._payload),_)}if(Bl(S))return x(y,w,S,_);if(jl(S))return p(y,w,S,_);Bu(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=Xp(S,y.mode,_),w.return=y,y=w),o(y)):n(y,w)}return b}var qa=JC(!0),YC=JC(!1),ph=Si(null),mh=null,aa=null,lw=null;function cw(){lw=aa=mh=null}function uw(e){var t=ph.current;Ke(ph),e._currentValue=t}function Lg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){mh=e,lw=aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fn=!0),e.firstContext=null)}function Hn(e){var t=e._currentValue;if(lw!==e)if(e={context:e,memoizedValue:t,next:null},aa===null){if(mh===null)throw Error(K(308));aa=e,mh.dependencies={lanes:0,firstContext:e}}else aa=aa.next=e;return t}var Gi=null;function dw(e){Gi===null?Gi=[e]:Gi.push(e)}function QC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,dw(t)):(n.next=s.next,s.next=n),t.interleaved=n,ms(e,r)}function ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ls=!1;function hw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ms(e,n)}return s=r.interleaved,s===null?(t.next=t,dw(r)):(t.next=s.next,s.next=t),r.interleaved=t,ms(e,n)}function Nd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qy(e,n)}}function kb(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gh(e,t,n,r){var s=e.updateQueue;Ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,p=a;switch(f=t,m=n,p.tag){case 1:if(x=p.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=rt({},h,f);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);vo|=o,e.lanes=o,e.memoizedState=h}}function Cb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var cu={},Br=Si(cu),Nc=Si(cu),Ac=Si(cu);function Ki(e){if(e===cu)throw Error(K(174));return e}function fw(e,t){switch(ze(Ac,t),ze(Nc,e),ze(Br,cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vg(t,e)}Ke(Br),ze(Br,t)}function Wa(){Ke(Br),Ke(Nc),Ke(Ac)}function ZC(e){Ki(Ac.current);var t=Ki(Br.current),n=vg(t,e.type);t!==n&&(ze(Nc,e),ze(Br,n))}function pw(e){Nc.current===e&&(Ke(Br),Ke(Nc))}var et=Si(0);function vh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hp=[];function mw(){for(var e=0;e<Hp.length;e++)Hp[e]._workInProgressVersionPrimary=null;Hp.length=0}var Ad=xs.ReactCurrentDispatcher,Gp=xs.ReactCurrentBatchConfig,go=0,nt=null,wt=null,kt=null,yh=!1,sc=!1,Pc=0,OL=0;function Ut(){throw Error(K(321))}function gw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!br(e[n],t[n]))return!1;return!0}function vw(e,t,n,r,s,i){if(go=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ad.current=e===null||e.memoizedState===null?LL:$L,e=n(r,s),sc){i=0;do{if(sc=!1,Pc=0,25<=i)throw Error(K(301));i+=1,kt=wt=null,t.updateQueue=null,Ad.current=FL,e=n(r,s)}while(sc)}if(Ad.current=wh,t=wt!==null&&wt.next!==null,go=0,kt=wt=nt=null,yh=!1,t)throw Error(K(300));return e}function yw(){var e=Pc!==0;return Pc=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?nt.memoizedState=kt=e:kt=kt.next=e,kt}function Gn(){if(wt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var t=kt===null?nt.memoizedState:kt.next;if(t!==null)kt=t,wt=e;else{if(e===null)throw Error(K(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},kt===null?nt.memoizedState=kt=e:kt=kt.next=e}return kt}function Rc(e,t){return typeof t=="function"?t(e):t}function Kp(e){var t=Gn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((go&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,nt.lanes|=d,vo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,br(r,t.memoizedState)||(fn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,nt.lanes|=i,vo|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jp(e){var t=Gn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);br(i,t.memoizedState)||(fn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ej(){}function tj(e,t){var n=nt,r=Gn(),s=t(),i=!br(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,ww(sj.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Oc(9,rj.bind(null,n,r,s,t),void 0,null),Nt===null)throw Error(K(349));go&30||nj(n,t,s)}return s}function nj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rj(e,t,n,r){t.value=n,t.getSnapshot=r,ij(t)&&oj(e)}function sj(e,t,n){return n(function(){ij(t)&&oj(e)})}function ij(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!br(e,n)}catch{return!0}}function oj(e){var t=ms(e,1);t!==null&&yr(t,e,1,-1)}function jb(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:e},t.queue=e,e=e.dispatch=DL.bind(null,nt,e),[t.memoizedState,e]}function Oc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function aj(){return Gn().memoizedState}function Pd(e,t,n,r){var s=Pr();nt.flags|=e,s.memoizedState=Oc(1|t,n,void 0,r===void 0?null:r)}function pf(e,t,n,r){var s=Gn();r=r===void 0?null:r;var i=void 0;if(wt!==null){var o=wt.memoizedState;if(i=o.destroy,r!==null&&gw(r,o.deps)){s.memoizedState=Oc(t,n,i,r);return}}nt.flags|=e,s.memoizedState=Oc(1|t,n,i,r)}function Tb(e,t){return Pd(8390656,8,e,t)}function ww(e,t){return pf(2048,8,e,t)}function lj(e,t){return pf(4,2,e,t)}function cj(e,t){return pf(4,4,e,t)}function uj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dj(e,t,n){return n=n!=null?n.concat([e]):null,pf(4,4,uj.bind(null,t,e),n)}function xw(){}function hj(e,t){var n=Gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fj(e,t){var n=Gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pj(e,t,n){return go&21?(br(n,t)||(n=wC(),nt.lanes|=n,vo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fn=!0),e.memoizedState=n)}function IL(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=Gp.transition;Gp.transition={};try{e(!1),t()}finally{De=n,Gp.transition=r}}function mj(){return Gn().memoizedState}function ML(e,t,n){var r=oi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gj(e))vj(t,n);else if(n=QC(e,t,n,r),n!==null){var s=on();yr(n,e,r,s),yj(n,t,r)}}function DL(e,t,n){var r=oi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gj(e))vj(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,br(a,o)){var c=t.interleaved;c===null?(s.next=s,dw(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=QC(e,t,s,r),n!==null&&(s=on(),yr(n,e,r,s),yj(n,t,r))}}function gj(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function vj(e,t){sc=yh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qy(e,n)}}var wh={readContext:Hn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},LL={readContext:Hn,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:Hn,useEffect:Tb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pd(4194308,4,uj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pd(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ML.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:jb,useDebugValue:xw,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=jb(!1),t=e[0];return e=IL.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,s=Pr();if(Qe){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Nt===null)throw Error(K(349));go&30||nj(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Tb(sj.bind(null,r,i,e),[e]),r.flags|=2048,Oc(9,rj.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Nt.identifierPrefix;if(Qe){var n=ls,r=as;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=OL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$L={readContext:Hn,useCallback:hj,useContext:Hn,useEffect:ww,useImperativeHandle:dj,useInsertionEffect:lj,useLayoutEffect:cj,useMemo:fj,useReducer:Kp,useRef:aj,useState:function(){return Kp(Rc)},useDebugValue:xw,useDeferredValue:function(e){var t=Gn();return pj(t,wt.memoizedState,e)},useTransition:function(){var e=Kp(Rc)[0],t=Gn().memoizedState;return[e,t]},useMutableSource:ej,useSyncExternalStore:tj,useId:mj,unstable_isNewReconciler:!1},FL={readContext:Hn,useCallback:hj,useContext:Hn,useEffect:ww,useImperativeHandle:dj,useInsertionEffect:lj,useLayoutEffect:cj,useMemo:fj,useReducer:Jp,useRef:aj,useState:function(){return Jp(Rc)},useDebugValue:xw,useDeferredValue:function(e){var t=Gn();return wt===null?t.memoizedState=e:pj(t,wt.memoizedState,e)},useTransition:function(){var e=Jp(Rc)[0],t=Gn().memoizedState;return[e,t]},useMutableSource:ej,useSyncExternalStore:tj,useId:mj,unstable_isNewReconciler:!1};function cr(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $g(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mf={isMounted:function(e){return(e=e._reactInternals)?No(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=on(),s=oi(e),i=ds(r,s);i.payload=t,n!=null&&(i.callback=n),t=si(e,i,s),t!==null&&(yr(t,e,s,r),Nd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=on(),s=oi(e),i=ds(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=si(e,i,s),t!==null&&(yr(t,e,s,r),Nd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=on(),r=oi(e),s=ds(n,r);s.tag=2,t!=null&&(s.callback=t),t=si(e,s,r),t!==null&&(yr(t,e,r,n),Nd(t,e,r))}};function Nb(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!kc(n,r)||!kc(s,i):!0}function wj(e,t,n){var r=!1,s=fi,i=t.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=mn(t)?po:Jt.current,r=t.contextTypes,i=(r=r!=null)?Ba(e,s):fi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ab(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mf.enqueueReplaceState(t,t.state,null)}function Fg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},hw(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=mn(t)?po:Jt.current,s.context=Ba(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($g(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mf.enqueueReplaceState(s,s.state,null),gh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ha(e,t){try{var n="",r=t;do n+=f2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var VL=typeof WeakMap=="function"?WeakMap:Map;function xj(e,t,n){n=ds(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bh||(bh=!0,Yg=r),Vg(e,t)},n}function bj(e,t,n){n=ds(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Vg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vg(e,t),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Pb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new VL;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=e$.bind(null,e,t,n),t.then(e,e))}function Rb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ob(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ds(-1,1),t.tag=2,si(n,t,1))),n.lanes|=1),e)}var UL=xs.ReactCurrentOwner,fn=!1;function Zt(e,t,n,r){t.child=e===null?YC(t,null,n,r):qa(t,e.child,n,r)}function Ib(e,t,n,r,s){n=n.render;var i=t.ref;return xa(t,s),r=vw(e,t,n,r,i,s),n=yw(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gs(e,t,s)):(Qe&&n&&iw(t),t.flags|=1,Zt(e,t,r,s),t.child)}function Mb(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Tw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Sj(e,t,i,r,s)):(e=Md(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:kc,n(o,r)&&e.ref===t.ref)return gs(e,t,s)}return t.flags|=1,e=ai(i,r),e.ref=t.ref,e.return=t,t.child=e}function Sj(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(kc(i,r)&&e.ref===t.ref)if(fn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(fn=!0);else return t.lanes=e.lanes,gs(e,t,s)}return Ug(e,t,n,r,s)}function _j(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(ca,wn),wn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(ca,wn),wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(ca,wn),wn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ze(ca,wn),wn|=r;return Zt(e,t,s,n),t.child}function Ej(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ug(e,t,n,r,s){var i=mn(n)?po:Jt.current;return i=Ba(t,i),xa(t,s),n=vw(e,t,n,r,i,s),r=yw(),e!==null&&!fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gs(e,t,s)):(Qe&&r&&iw(t),t.flags|=1,Zt(e,t,n,s),t.child)}function Db(e,t,n,r,s){if(mn(n)){var i=!0;dh(t)}else i=!1;if(xa(t,s),t.stateNode===null)Rd(e,t),wj(t,n,r),Fg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Hn(u):(u=mn(n)?po:Jt.current,u=Ba(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Ab(t,o,r,u),Ls=!1;var f=t.memoizedState;o.state=f,gh(t,r,o,s),c=t.memoizedState,a!==r||f!==c||pn.current||Ls?(typeof d=="function"&&($g(t,n,d,r),c=t.memoizedState),(a=Ls||Nb(t,n,a,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,XC(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:cr(t.type,a),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Hn(c):(c=mn(n)?po:Jt.current,c=Ba(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Ab(t,o,r,c),Ls=!1,f=t.memoizedState,o.state=f,gh(t,r,o,s);var x=t.memoizedState;a!==h||f!==x||pn.current||Ls?(typeof m=="function"&&($g(t,n,m,r),x=t.memoizedState),(u=Ls||Nb(t,n,u,r,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Bg(e,t,n,r,i,s)}function Bg(e,t,n,r,s,i){Ej(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&bb(t,n,!1),gs(e,t,i);r=t.stateNode,UL.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qa(t,e.child,null,i),t.child=qa(t,null,a,i)):Zt(e,t,a,i),t.memoizedState=r.state,s&&bb(t,n,!0),t.child}function kj(e){var t=e.stateNode;t.pendingContext?xb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xb(e,t.context,!1),fw(e,t.containerInfo)}function Lb(e,t,n,r,s){return za(),aw(s),t.flags|=256,Zt(e,t,n,r),t.child}var zg={dehydrated:null,treeContext:null,retryLane:0};function qg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cj(e,t,n){var r=t.pendingProps,s=et.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(et,s&1),e===null)return Dg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yf(o,r,0,null),e=ao(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qg(n),t.memoizedState=zg,e):bw(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return BL(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ai(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ai(a,i):(i=ao(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?qg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zg,r}return i=e.child,e=i.sibling,r=ai(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bw(e,t){return t=yf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zu(e,t,n,r){return r!==null&&aw(r),qa(t,e.child,null,n),e=bw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BL(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Yp(Error(K(422))),zu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=yf({mode:"visible",children:r.children},s,0,null),i=ao(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&qa(t,e.child,null,o),t.child.memoizedState=qg(o),t.memoizedState=zg,i);if(!(t.mode&1))return zu(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Yp(i,r,void 0),zu(e,t,o,r)}if(a=(o&e.childLanes)!==0,fn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ms(e,s),yr(r,e,s,-1))}return jw(),r=Yp(Error(K(421))),zu(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=t$.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,_n=ri(s.nextSibling),kn=t,Qe=!0,gr=null,e!==null&&(Ln[$n++]=as,Ln[$n++]=ls,Ln[$n++]=mo,as=e.id,ls=e.overflow,mo=t),t=bw(t,r.children),t.flags|=4096,t)}function $b(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lg(e.return,t,n)}function Qp(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jj(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$b(e,n,t);else if(e.tag===19)$b(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(et,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&vh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qp(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qp(t,!0,n,null,i);break;case"together":Qp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zL(e,t,n){switch(t.tag){case 3:kj(t),za();break;case 5:ZC(t);break;case 1:mn(t.type)&&dh(t);break;case 4:fw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(ph,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?Cj(e,t,n):(ze(et,et.current&1),e=gs(e,t,n),e!==null?e.sibling:null);ze(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jj(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,_j(e,t,n)}return gs(e,t,n)}var Tj,Wg,Nj,Aj;Tj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wg=function(){};Nj=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ki(Br.current);var i=null;switch(n){case"input":s=fg(e,s),r=fg(e,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=gg(e,s),r=gg(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ch)}yg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Aj=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ol(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qL(e,t,n){var r=t.pendingProps;switch(ow(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return mn(t.type)&&uh(),Bt(t),null;case 3:return r=t.stateNode,Wa(),Ke(pn),Ke(Jt),mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gr!==null&&(Zg(gr),gr=null))),Wg(e,t),Bt(t),null;case 5:pw(t);var s=Ki(Ac.current);if(n=t.type,e!==null&&t.stateNode!=null)Nj(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Bt(t),null}if(e=Ki(Br.current),Uu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$r]=t,r[Tc]=i,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<ql.length;s++)He(ql[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Gx(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Jx(r,i),He("invalid",r)}yg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vu(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vu(r.textContent,a,e),s=["children",""+a]):yc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":Ru(r),Kx(r,i,!0);break;case"textarea":Ru(r),Yx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ch)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$r]=t,e[Tc]=r,Tj(e,t,!1,!1),t.stateNode=e;e:{switch(o=wg(n,r),n){case"dialog":He("cancel",e),He("close",e),s=r;break;case"iframe":case"object":case"embed":He("load",e),s=r;break;case"video":case"audio":for(s=0;s<ql.length;s++)He(ql[s],e);s=r;break;case"source":He("error",e),s=r;break;case"img":case"image":case"link":He("error",e),He("load",e),s=r;break;case"details":He("toggle",e),s=r;break;case"input":Gx(e,r),s=fg(e,r),He("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),He("invalid",e);break;case"textarea":Jx(e,r),s=gg(e,r),He("invalid",e);break;default:s=r}yg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?aC(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iC(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wc(e,c):typeof c=="number"&&wc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&He("scroll",e):c!=null&&Wy(e,i,c,o))}switch(n){case"input":Ru(e),Kx(e,r,!1);break;case"textarea":Ru(e),Yx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hi(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ga(e,!!r.multiple,i,!1):r.defaultValue!=null&&ga(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)Aj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Ki(Ac.current),Ki(Br.current),Uu(t)){if(r=t.stateNode,n=t.memoizedProps,r[$r]=t,(i=r.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:Vu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=t,t.stateNode=r}return Bt(t),null;case 13:if(Ke(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&_n!==null&&t.mode&1&&!(t.flags&128))KC(),za(),t.flags|=98560,i=!1;else if(i=Uu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[$r]=t}else za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),i=!1}else gr!==null&&(Zg(gr),gr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?St===0&&(St=3):jw())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Wa(),Wg(e,t),e===null&&Cc(t.stateNode.containerInfo),Bt(t),null;case 10:return uw(t.type._context),Bt(t),null;case 17:return mn(t.type)&&uh(),Bt(t),null;case 19:if(Ke(et),i=t.memoizedState,i===null)return Bt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ol(i,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vh(e),o!==null){for(t.flags|=128,Ol(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(et,et.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>Ga&&(t.flags|=128,r=!0,Ol(i,!1),t.lanes=4194304)}else{if(!r)if(e=vh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ol(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Bt(t),null}else 2*lt()-i.renderingStartTime>Ga&&n!==1073741824&&(t.flags|=128,r=!0,Ol(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,n=et.current,ze(et,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return Cw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wn&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function WL(e,t){switch(ow(t),t.tag){case 1:return mn(t.type)&&uh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wa(),Ke(pn),Ke(Jt),mw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pw(t),null;case 13:if(Ke(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(et),null;case 4:return Wa(),null;case 10:return uw(t.type._context),null;case 22:case 23:return Cw(),null;case 24:return null;default:return null}}var qu=!1,Wt=!1,HL=typeof WeakSet=="function"?WeakSet:Set,se=null;function la(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(e,t,r)}else n.current=null}function Hg(e,t,n){try{n()}catch(r){ot(e,t,r)}}var Fb=!1;function GL(e,t){if(Ng=oh,e=MC(),sw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ag={focusedElem:e,selectionRange:n},oh=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,b=x.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:cr(t.type,p),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(_){ot(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return x=Fb,Fb=!1,x}function ic(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hg(t,n,i)}s=s.next}while(s!==r)}}function gf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pj(e){var t=e.alternate;t!==null&&(e.alternate=null,Pj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$r],delete t[Tc],delete t[Og],delete t[NL],delete t[AL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rj(e){return e.tag===5||e.tag===3||e.tag===4}function Vb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ch));else if(r!==4&&(e=e.child,e!==null))for(Kg(e,t,n),e=e.sibling;e!==null;)Kg(e,t,n),e=e.sibling}function Jg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jg(e,t,n),e=e.sibling;e!==null;)Jg(e,t,n),e=e.sibling}var It=null,pr=!1;function js(e,t,n){for(n=n.child;n!==null;)Oj(e,t,n),n=n.sibling}function Oj(e,t,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(lf,n)}catch{}switch(n.tag){case 5:Wt||la(n,t);case 6:var r=It,s=pr;It=null,js(e,t,n),It=r,pr=s,It!==null&&(pr?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(pr?(e=It,n=n.stateNode,e.nodeType===8?qp(e.parentNode,n):e.nodeType===1&&qp(e,n),_c(e)):qp(It,n.stateNode));break;case 4:r=It,s=pr,It=n.stateNode.containerInfo,pr=!0,js(e,t,n),It=r,pr=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hg(n,t,o),s=s.next}while(s!==r)}js(e,t,n);break;case 1:if(!Wt&&(la(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,t,a)}js(e,t,n);break;case 21:js(e,t,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,js(e,t,n),Wt=r):js(e,t,n);break;default:js(e,t,n)}}function Ub(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HL),t.forEach(function(r){var s=n$.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,pr=!1;break e;case 3:It=a.stateNode.containerInfo,pr=!0;break e;case 4:It=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(It===null)throw Error(K(160));Oj(i,o,s),It=null,pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ot(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ij(t,e),t=t.sibling}function Ij(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tr(t,e),Ar(e),r&4){try{ic(3,e,e.return),gf(3,e)}catch(p){ot(e,e.return,p)}try{ic(5,e,e.return)}catch(p){ot(e,e.return,p)}}break;case 1:tr(t,e),Ar(e),r&512&&n!==null&&la(n,n.return);break;case 5:if(tr(t,e),Ar(e),r&512&&n!==null&&la(n,n.return),e.flags&32){var s=e.stateNode;try{wc(s,"")}catch(p){ot(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nC(s,i),wg(a,o);var u=wg(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?aC(s,h):d==="dangerouslySetInnerHTML"?iC(s,h):d==="children"?wc(s,h):Wy(s,d,h,u)}switch(a){case"input":pg(s,i);break;case"textarea":rC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ga(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?ga(s,!!i.multiple,i.defaultValue,!0):ga(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tc]=i}catch(p){ot(e,e.return,p)}}break;case 6:if(tr(t,e),Ar(e),r&4){if(e.stateNode===null)throw Error(K(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){ot(e,e.return,p)}}break;case 3:if(tr(t,e),Ar(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(t.containerInfo)}catch(p){ot(e,e.return,p)}break;case 4:tr(t,e),Ar(e);break;case 13:tr(t,e),Ar(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ew=lt())),r&4&&Ub(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Wt=(u=Wt)||d,tr(t,e),Wt=u):tr(t,e),Ar(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(h=se=d;se!==null;){switch(f=se,m=f.child,f.tag){case 0:case 11:case 14:case 15:ic(4,f,f.return);break;case 1:la(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){ot(r,n,p)}}break;case 5:la(f,f.return);break;case 22:if(f.memoizedState!==null){zb(h);continue}}m!==null?(m.return=f,se=m):zb(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=oC("display",o))}catch(p){ot(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){ot(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(t,e),Ar(e),r&4&&Ub(e);break;case 21:break;default:tr(t,e),Ar(e)}}function Ar(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rj(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wc(s,""),r.flags&=-33);var i=Vb(e);Jg(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Vb(e);Kg(e,a,o);break;default:throw Error(K(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KL(e,t,n){se=e,Mj(e)}function Mj(e,t,n){for(var r=(e.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||qu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Wt;a=qu;var u=Wt;if(qu=o,(Wt=c)&&!u)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?qb(s):c!==null?(c.return=o,se=c):qb(s);for(;i!==null;)se=i,Mj(i),i=i.sibling;se=s,qu=a,Wt=u}Bb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):Bb(e)}}function Bb(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||gf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:cr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cb(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cb(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&_c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Wt||t.flags&512&&Gg(t)}catch(f){ot(t,t.return,f)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function zb(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function qb(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gf(4,t)}catch(c){ot(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ot(t,s,c)}}var i=t.return;try{Gg(t)}catch(c){ot(t,i,c)}break;case 5:var o=t.return;try{Gg(t)}catch(c){ot(t,o,c)}}}catch(c){ot(t,t.return,c)}if(t===e){se=null;break}var a=t.sibling;if(a!==null){a.return=t.return,se=a;break}se=t.return}}var JL=Math.ceil,xh=xs.ReactCurrentDispatcher,Sw=xs.ReactCurrentOwner,zn=xs.ReactCurrentBatchConfig,Pe=0,Nt=null,pt=null,Dt=0,wn=0,ca=Si(0),St=0,Ic=null,vo=0,vf=0,_w=0,oc=null,hn=null,Ew=0,Ga=1/0,ts=null,bh=!1,Yg=null,ii=null,Wu=!1,Qs=null,Sh=0,ac=0,Qg=null,Od=-1,Id=0;function on(){return Pe&6?lt():Od!==-1?Od:Od=lt()}function oi(e){return e.mode&1?Pe&2&&Dt!==0?Dt&-Dt:RL.transition!==null?(Id===0&&(Id=wC()),Id):(e=De,e!==0||(e=window.event,e=e===void 0?16:CC(e.type)),e):1}function yr(e,t,n,r){if(50<ac)throw ac=0,Qg=null,Error(K(185));ou(e,n,r),(!(Pe&2)||e!==Nt)&&(e===Nt&&(!(Pe&2)&&(vf|=n),St===4&&Us(e,Dt)),gn(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Ga=lt()+500,ff&&_i()))}function gn(e,t){var n=e.callbackNode;R2(e,t);var r=ih(e,e===Nt?Dt:0);if(r===0)n!==null&&Zx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zx(n),t===1)e.tag===0?PL(Wb.bind(null,e)):WC(Wb.bind(null,e)),jL(function(){!(Pe&6)&&_i()}),n=null;else{switch(xC(r)){case 1:n=Yy;break;case 4:n=vC;break;case 16:n=sh;break;case 536870912:n=yC;break;default:n=sh}n=zj(n,Dj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dj(e,t){if(Od=-1,Id=0,Pe&6)throw Error(K(327));var n=e.callbackNode;if(ba()&&e.callbackNode!==n)return null;var r=ih(e,e===Nt?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_h(e,r);else{t=r;var s=Pe;Pe|=2;var i=$j();(Nt!==e||Dt!==t)&&(ts=null,Ga=lt()+500,oo(e,t));do try{XL();break}catch(a){Lj(e,a)}while(!0);cw(),xh.current=i,Pe=s,pt!==null?t=0:(Nt=null,Dt=0,t=St)}if(t!==0){if(t===2&&(s=Eg(e),s!==0&&(r=s,t=Xg(e,s))),t===1)throw n=Ic,oo(e,0),Us(e,r),gn(e,lt()),n;if(t===6)Us(e,r);else{if(s=e.current.alternate,!(r&30)&&!YL(s)&&(t=_h(e,r),t===2&&(i=Eg(e),i!==0&&(r=i,t=Xg(e,i))),t===1))throw n=Ic,oo(e,0),Us(e,r),gn(e,lt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Fi(e,hn,ts);break;case 3:if(Us(e,r),(r&130023424)===r&&(t=Ew+500-lt(),10<t)){if(ih(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){on(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Rg(Fi.bind(null,e,hn,ts),t);break}Fi(e,hn,ts);break;case 4:if(Us(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-vr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JL(r/1960))-r,10<r){e.timeoutHandle=Rg(Fi.bind(null,e,hn,ts),r);break}Fi(e,hn,ts);break;case 5:Fi(e,hn,ts);break;default:throw Error(K(329))}}}return gn(e,lt()),e.callbackNode===n?Dj.bind(null,e):null}function Xg(e,t){var n=oc;return e.current.memoizedState.isDehydrated&&(oo(e,t).flags|=256),e=_h(e,t),e!==2&&(t=hn,hn=n,t!==null&&Zg(t)),e}function Zg(e){hn===null?hn=e:hn.push.apply(hn,e)}function YL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!br(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Us(e,t){for(t&=~_w,t&=~vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vr(t),r=1<<n;e[n]=-1,t&=~r}}function Wb(e){if(Pe&6)throw Error(K(327));ba();var t=ih(e,0);if(!(t&1))return gn(e,lt()),null;var n=_h(e,t);if(e.tag!==0&&n===2){var r=Eg(e);r!==0&&(t=r,n=Xg(e,r))}if(n===1)throw n=Ic,oo(e,0),Us(e,t),gn(e,lt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fi(e,hn,ts),gn(e,lt()),null}function kw(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Ga=lt()+500,ff&&_i())}}function yo(e){Qs!==null&&Qs.tag===0&&!(Pe&6)&&ba();var t=Pe;Pe|=1;var n=zn.transition,r=De;try{if(zn.transition=null,De=1,e)return e()}finally{De=r,zn.transition=n,Pe=t,!(Pe&6)&&_i()}}function Cw(){wn=ca.current,Ke(ca)}function oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,CL(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(ow(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uh();break;case 3:Wa(),Ke(pn),Ke(Jt),mw();break;case 5:pw(r);break;case 4:Wa();break;case 13:Ke(et);break;case 19:Ke(et);break;case 10:uw(r.type._context);break;case 22:case 23:Cw()}n=n.return}if(Nt=e,pt=e=ai(e.current,null),Dt=wn=t,St=0,Ic=null,_w=vf=vo=0,hn=oc=null,Gi!==null){for(t=0;t<Gi.length;t++)if(n=Gi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gi=null}return e}function Lj(e,t){do{var n=pt;try{if(cw(),Ad.current=wh,yh){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yh=!1}if(go=0,kt=wt=nt=null,sc=!1,Pc=0,Sw.current=null,n===null||n.return===null){St=1,Ic=t,pt=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Dt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Rb(o);if(m!==null){m.flags&=-257,Ob(m,o,a,i,t),m.mode&1&&Pb(i,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){Pb(i,u,t),jw();break e}c=Error(K(426))}}else if(Qe&&a.mode&1){var b=Rb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ob(b,o,a,i,t),aw(Ha(c,a));break e}}i=c=Ha(c,a),St!==4&&(St=2),oc===null?oc=[i]:oc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=xj(i,c,t);kb(i,y);break e;case 1:a=c;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ii===null||!ii.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=bj(i,a,t);kb(i,_);break e}}i=i.return}while(i!==null)}Vj(n)}catch(C){t=C,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function $j(){var e=xh.current;return xh.current=wh,e===null?wh:e}function jw(){(St===0||St===3||St===2)&&(St=4),Nt===null||!(vo&268435455)&&!(vf&268435455)||Us(Nt,Dt)}function _h(e,t){var n=Pe;Pe|=2;var r=$j();(Nt!==e||Dt!==t)&&(ts=null,oo(e,t));do try{QL();break}catch(s){Lj(e,s)}while(!0);if(cw(),Pe=n,xh.current=r,pt!==null)throw Error(K(261));return Nt=null,Dt=0,St}function QL(){for(;pt!==null;)Fj(pt)}function XL(){for(;pt!==null&&!_2();)Fj(pt)}function Fj(e){var t=Bj(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?Vj(e):pt=t,Sw.current=null}function Vj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=WL(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,pt=null;return}}else if(n=qL(n,t,wn),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);St===0&&(St=5)}function Fi(e,t,n){var r=De,s=zn.transition;try{zn.transition=null,De=1,ZL(e,t,n,r)}finally{zn.transition=s,De=r}return null}function ZL(e,t,n,r){do ba();while(Qs!==null);if(Pe&6)throw Error(K(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(O2(e,i),e===Nt&&(pt=Nt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wu||(Wu=!0,zj(sh,function(){return ba(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zn.transition,zn.transition=null;var o=De;De=1;var a=Pe;Pe|=4,Sw.current=null,GL(e,n),Ij(n,e),wL(Ag),oh=!!Ng,Ag=Ng=null,e.current=n,KL(n),E2(),Pe=a,De=o,zn.transition=i}else e.current=n;if(Wu&&(Wu=!1,Qs=e,Sh=s),i=e.pendingLanes,i===0&&(ii=null),j2(n.stateNode),gn(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bh)throw bh=!1,e=Yg,Yg=null,e;return Sh&1&&e.tag!==0&&ba(),i=e.pendingLanes,i&1?e===Qg?ac++:(ac=0,Qg=e):ac=0,_i(),null}function ba(){if(Qs!==null){var e=xC(Sh),t=zn.transition,n=De;try{if(zn.transition=null,De=16>e?16:e,Qs===null)var r=!1;else{if(e=Qs,Qs=null,Sh=0,Pe&6)throw Error(K(331));var s=Pe;for(Pe|=4,se=e.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:ic(8,d,i)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var f=d.sibling,m=d.return;if(Pj(d),d===u){se=null;break}if(f!==null){f.return=m,se=f;break}se=m}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ic(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,se=y;break e}se=i.return}}var w=e.current;for(se=w;se!==null;){o=se;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,se=S;else e:for(o=w;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gf(9,a)}}catch(C){ot(a,a.return,C)}if(a===o){se=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,se=_;break e}se=a.return}}if(Pe=s,_i(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(lf,e)}catch{}r=!0}return r}finally{De=n,zn.transition=t}}return!1}function Hb(e,t,n){t=Ha(n,t),t=xj(e,t,1),e=si(e,t,1),t=on(),e!==null&&(ou(e,1,t),gn(e,t))}function ot(e,t,n){if(e.tag===3)Hb(e,e,n);else for(;t!==null;){if(t.tag===3){Hb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){e=Ha(n,e),e=bj(t,e,1),t=si(t,e,1),e=on(),t!==null&&(ou(t,1,e),gn(t,e));break}}t=t.return}}function e$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(Dt&n)===n&&(St===4||St===3&&(Dt&130023424)===Dt&&500>lt()-Ew?oo(e,0):_w|=n),gn(e,t)}function Uj(e,t){t===0&&(e.mode&1?(t=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):t=1);var n=on();e=ms(e,t),e!==null&&(ou(e,t,n),gn(e,n))}function t$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uj(e,n)}function n$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),Uj(e,n)}var Bj;Bj=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pn.current)fn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return fn=!1,zL(e,t,n);fn=!!(e.flags&131072)}else fn=!1,Qe&&t.flags&1048576&&HC(t,fh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Rd(e,t),e=t.pendingProps;var s=Ba(t,Jt.current);xa(t,n),s=vw(null,t,r,e,s,n);var i=yw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(r)?(i=!0,dh(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hw(t),s.updater=mf,t.stateNode=s,s._reactInternals=t,Fg(t,r,e,n),t=Bg(null,t,r,!0,i,n)):(t.tag=0,Qe&&i&&iw(t),Zt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Rd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=s$(r),e=cr(r,e),s){case 0:t=Ug(null,t,r,e,n);break e;case 1:t=Db(null,t,r,e,n);break e;case 11:t=Ib(null,t,r,e,n);break e;case 14:t=Mb(null,t,r,cr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),Ug(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),Db(e,t,r,s,n);case 3:e:{if(kj(t),e===null)throw Error(K(387));r=t.pendingProps,i=t.memoizedState,s=i.element,XC(e,t),gh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ha(Error(K(423)),t),t=Lb(e,t,r,n,s);break e}else if(r!==s){s=Ha(Error(K(424)),t),t=Lb(e,t,r,n,s);break e}else for(_n=ri(t.stateNode.containerInfo.firstChild),kn=t,Qe=!0,gr=null,n=YC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(za(),r===s){t=gs(e,t,n);break e}Zt(e,t,r,n)}t=t.child}return t;case 5:return ZC(t),e===null&&Dg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Pg(r,s)?o=null:i!==null&&Pg(r,i)&&(t.flags|=32),Ej(e,t),Zt(e,t,o,n),t.child;case 6:return e===null&&Dg(t),null;case 13:return Cj(e,t,n);case 4:return fw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qa(t,null,r,n):Zt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),Ib(e,t,r,s,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ze(ph,r._currentValue),r._currentValue=o,i!==null)if(br(i.value,o)){if(i.children===s.children&&!pn.current){t=gs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ds(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Lg(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lg(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,xa(t,n),s=Hn(s),r=r(s),t.flags|=1,Zt(e,t,r,n),t.child;case 14:return r=t.type,s=cr(r,t.pendingProps),s=cr(r.type,s),Mb(e,t,r,s,n);case 15:return Sj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cr(r,s),Rd(e,t),t.tag=1,mn(r)?(e=!0,dh(t)):e=!1,xa(t,n),wj(t,r,s),Fg(t,r,s,n),Bg(null,t,r,!0,e,n);case 19:return jj(e,t,n);case 22:return _j(e,t,n)}throw Error(K(156,t.tag))};function zj(e,t){return gC(e,t)}function r$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,t,n,r){return new r$(e,t,n,r)}function Tw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s$(e){if(typeof e=="function")return Tw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gy)return 11;if(e===Ky)return 14}return 2}function ai(e,t){var n=e.alternate;return n===null?(n=Vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Md(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Tw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zo:return ao(n.children,s,i,t);case Hy:o=8,s|=8;break;case cg:return e=Vn(12,n,t,s|2),e.elementType=cg,e.lanes=i,e;case ug:return e=Vn(13,n,t,s),e.elementType=ug,e.lanes=i,e;case dg:return e=Vn(19,n,t,s),e.elementType=dg,e.lanes=i,e;case Zk:return yf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qk:o=10;break e;case Xk:o=9;break e;case Gy:o=11;break e;case Ky:o=14;break e;case Ds:o=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Vn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ao(e,t,n,r){return e=Vn(7,e,r,t),e.lanes=n,e}function yf(e,t,n,r){return e=Vn(22,e,r,t),e.elementType=Zk,e.lanes=n,e.stateNode={isHidden:!1},e}function Xp(e,t,n){return e=Vn(6,e,null,t),e.lanes=n,e}function Zp(e,t,n){return t=Vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i$(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Op(0),this.expirationTimes=Op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Op(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nw(e,t,n,r,s,i,o,a,c){return e=new i$(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(i),e}function o$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qj(e){if(!e)return fi;e=e._reactInternals;e:{if(No(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(mn(n))return qC(e,n,t)}return t}function Wj(e,t,n,r,s,i,o,a,c){return e=Nw(n,r,!0,e,s,i,o,a,c),e.context=qj(null),n=e.current,r=on(),s=oi(n),i=ds(r,s),i.callback=t??null,si(n,i,s),e.current.lanes=s,ou(e,s,r),gn(e,r),e}function wf(e,t,n,r){var s=t.current,i=on(),o=oi(s);return n=qj(n),t.context===null?t.context=n:t.pendingContext=n,t=ds(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=si(s,t,o),e!==null&&(yr(e,s,o,i),Nd(e,s,o)),o}function Eh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Aw(e,t){Gb(e,t),(e=e.alternate)&&Gb(e,t)}function a$(){return null}var Hj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pw(e){this._internalRoot=e}xf.prototype.render=Pw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));wf(e,t,null,null)};xf.prototype.unmount=Pw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){wf(null,e,null,null)}),t[ps]=null}};function xf(e){this._internalRoot=e}xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=_C();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vs.length&&t!==0&&t<Vs[n].priority;n++);Vs.splice(n,0,e),n===0&&kC(e)}};function Rw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kb(){}function l$(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Eh(o);i.call(u)}}var o=Wj(t,r,e,0,null,!1,!1,"",Kb);return e._reactRootContainer=o,e[ps]=o.current,Cc(e.nodeType===8?e.parentNode:e),yo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Eh(c);a.call(u)}}var c=Nw(e,0,!1,null,null,!1,!1,"",Kb);return e._reactRootContainer=c,e[ps]=c.current,Cc(e.nodeType===8?e.parentNode:e),yo(function(){wf(t,c,n,r)}),c}function Sf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Eh(o);a.call(c)}}wf(t,o,e,s)}else o=l$(n,t,e,s,r);return Eh(o)}bC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zl(t.pendingLanes);n!==0&&(Qy(t,n|1),gn(t,lt()),!(Pe&6)&&(Ga=lt()+500,_i()))}break;case 13:yo(function(){var r=ms(e,1);if(r!==null){var s=on();yr(r,e,1,s)}}),Aw(e,1)}};Xy=function(e){if(e.tag===13){var t=ms(e,134217728);if(t!==null){var n=on();yr(t,e,134217728,n)}Aw(e,134217728)}};SC=function(e){if(e.tag===13){var t=oi(e),n=ms(e,t);if(n!==null){var r=on();yr(n,e,t,r)}Aw(e,t)}};_C=function(){return De};EC=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};bg=function(e,t,n){switch(t){case"input":if(pg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hf(r);if(!s)throw Error(K(90));tC(r),pg(r,s)}}}break;case"textarea":rC(e,n);break;case"select":t=n.value,t!=null&&ga(e,!!n.multiple,t,!1)}};uC=kw;dC=yo;var c$={usingClientEntryPoint:!1,Events:[lu,ra,hf,lC,cC,kw]},Il={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u$={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pC(e),e===null?null:e.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||a$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{lf=Hu.inject(u$),Ur=Hu}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c$;Tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(t))throw Error(K(200));return o$(e,t,null,n)};Tn.createRoot=function(e,t){if(!Rw(e))throw Error(K(299));var n=!1,r="",s=Hj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Nw(e,1,!1,null,null,n,!1,r,s),e[ps]=t.current,Cc(e.nodeType===8?e.parentNode:e),new Pw(t)};Tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=pC(t),e=e===null?null:e.stateNode,e};Tn.flushSync=function(e){return yo(e)};Tn.hydrate=function(e,t,n){if(!bf(t))throw Error(K(200));return Sf(null,e,t,!0,n)};Tn.hydrateRoot=function(e,t,n){if(!Rw(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Hj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Wj(t,null,e,1,n??null,s,!1,i,o),e[ps]=t.current,Cc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xf(t)};Tn.render=function(e,t,n){if(!bf(t))throw Error(K(200));return Sf(null,e,t,!1,n)};Tn.unmountComponentAtNode=function(e){if(!bf(e))throw Error(K(40));return e._reactRootContainer?(yo(function(){Sf(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};Tn.unstable_batchedUpdates=kw;Tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bf(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Sf(e,t,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function Gj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gj)}catch(e){console.error(e)}}Gj(),Gk.exports=Tn;var Ao=Gk.exports;const Kj=Mk(Ao);var Jj,Jb=Ao;Jj=Jb.createRoot,Jb.hydrateRoot;const d$=1,h$=1e6;let em=0;function f$(){return em=(em+1)%Number.MAX_SAFE_INTEGER,em.toString()}const tm=new Map,Yb=e=>{if(tm.has(e))return;const t=setTimeout(()=>{tm.delete(e),lc({type:"REMOVE_TOAST",toastId:e})},h$);tm.set(e,t)},p$=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,d$)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Yb(n):e.toasts.forEach(r=>{Yb(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Dd=[];let Ld={toasts:[]};function lc(e){Ld=p$(Ld,e),Dd.forEach(t=>{t(Ld)})}function m$({...e}){const t=f$(),n=s=>lc({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>lc({type:"DISMISS_TOAST",toastId:t});return lc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function uu(){const[e,t]=g.useState(Ld);return g.useEffect(()=>(Dd.push(t),()=>{const n=Dd.indexOf(t);n>-1&&Dd.splice(n,1)}),[e]),{...e,toast:m$,dismiss:n=>lc({type:"DISMISS_TOAST",toastId:n})}}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Qb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yj(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Qb(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Qb(e[s],null)}}}}function ke(...e){return g.useCallback(Yj(...e),e)}function g$(e,t){const n=g.createContext(t),r=i=>{const{children:o,...a}=i,c=g.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function An(e,t=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:m,...x}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[c])||a,b=g.useMemo(()=>x,Object.values(x));return l.jsx(p.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||a,x=g.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,v$(s,...t)]}function v$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ka(e){const t=w$(e),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),c=a.find(x$);if(c){const u=c.props.children,d=a.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...o,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var y$=Ka("Slot");function w$(e){const t=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=S$(s),a=b$(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Yj(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Qj=Symbol("radix.slottable");function Xj(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Qj,t}function x$(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Qj}function b$(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function S$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _f(e){const t=e+"CollectionProvider",[n,r]=An(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:y}=p,w=G.useRef(null),S=G.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:S,collectionRef:w,children:y})};o.displayName=t;const a=e+"CollectionSlot",c=Ka(a),u=G.forwardRef((p,b)=>{const{scope:y,children:w}=p,S=i(a,y),_=ke(b,S.collectionRef);return l.jsx(c,{ref:_,children:w})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Ka(d),m=G.forwardRef((p,b)=>{const{scope:y,children:w,...S}=p,_=G.useRef(null),C=ke(b,_),j=i(d,y);return G.useEffect(()=>(j.itemMap.set(_,{ref:_,...S}),()=>void j.itemMap.delete(_))),l.jsx(f,{[h]:"",ref:C,children:w})});m.displayName=d;function x(p){const b=i(e+"CollectionConsumer",p);return G.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((j,T)=>S.indexOf(j.ref.current)-S.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,r]}var _$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=_$.reduce((e,t)=>{const n=Ka(`Primitive.${t}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Zj(e,t){e&&Ao.flushSync(()=>e.dispatchEvent(t))}function xt(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function E$(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var k$="DismissableLayer",ev="dismissableLayer.update",C$="dismissableLayer.pointerDownOutside",j$="dismissableLayer.focusOutside",Xb,eT=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),du=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=g.useContext(eT),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),x=ke(t,T=>h(T)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(b),w=d?p.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,C=N$(T=>{const P=T.target,O=[...u.branches].some(I=>I.contains(P));!_||O||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},f),j=A$(T=>{const P=T.target;[...u.branches].some(I=>I.contains(P))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},f);return E$(T=>{w===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},f),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Zb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Xb)}},[d,f,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Zb())},[d,u]),g.useEffect(()=>{const T=()=>m({});return document.addEventListener(ev,T),()=>document.removeEventListener(ev,T)},[]),l.jsx(fe.div,{...c,ref:x,style:{pointerEvents:S?_?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,j.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,C.onPointerDownCapture)})});du.displayName=k$;var T$="DismissableLayerBranch",tT=g.forwardRef((e,t)=>{const n=g.useContext(eT),r=g.useRef(null),s=ke(t,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(fe.div,{...e,ref:s})});tT.displayName=T$;function N$(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){nT(C$,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function A$(e,t=globalThis==null?void 0:globalThis.document){const n=xt(e),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&nT(j$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zb(){const e=new CustomEvent(ev);document.dispatchEvent(e)}function nT(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Zj(s,i):s.dispatchEvent(i)}var P$=du,R$=tT,Et=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},O$="Portal",Ef=g.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=g.useState(!1);Et(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Kj.createPortal(l.jsx(fe.div,{...r,ref:t}),o):null});Ef.displayName=O$;function I$(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var Pn=e=>{const{present:t,children:n}=e,r=M$(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=ke(r.ref,D$(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Pn.displayName="Presence";function M$(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[a,c]=I$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Gu(r.current);i.current=a==="mounted"?u:"none"},[a]),Et(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,m=Gu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=Gu(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=m=>{m.target===t&&(i.current=Gu(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Gu(e){return(e==null?void 0:e.animationName)||"none"}function D$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var L$=By[" useInsertionEffect ".trim().toString()]||Et;function Sr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=$$({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=g.useCallback(d=>{var h;if(a){const f=F$(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,e,i,o]);return[c,u]}function $$({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),i=g.useRef(t);return L$(()=>{i.current=t},[t]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function F$(e){return typeof e=="function"}var rT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V$="VisuallyHidden",kf=g.forwardRef((e,t)=>l.jsx(fe.span,{...e,ref:t,style:{...rT,...e.style}}));kf.displayName=V$;var U$=kf,Ow="ToastProvider",[Iw,B$,z$]=_f("Toast"),[sT,cQ]=An("Toast",[z$]),[q$,Cf]=sT(Ow),iT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ow}\`. Expected non-empty \`string\`.`),l.jsx(Iw.Provider,{scope:t,children:l.jsx(q$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};iT.displayName=Ow;var oT="ToastViewport",W$=["F8"],tv="toast.viewportPause",nv="toast.viewportResume",aT=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=W$,label:s="Notifications ({hotkey})",...i}=e,o=Cf(oT,n),a=B$(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=ke(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;g.useEffect(()=>{const b=y=>{var S;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=c.current,y=h.current;if(x&&b&&y){const w=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(tv);y.dispatchEvent(j),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(nv);y.dispatchEvent(j),o.isClosePausedRef.current=!1}},_=j=>{!b.contains(j.relatedTarget)&&S()},C=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",_),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:b})=>{const w=a().map(S=>{const _=S.ref.current,C=[_,...sF(_)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const b=h.current;if(b){const y=w=>{var C,j,T;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const P=document.activeElement,O=w.shiftKey;if(w.target===b&&O){(C=u.current)==null||C.focus();return}const D=p({tabbingDirection:O?"backwards":"forwards"}),W=D.findIndex(F=>F===P);nm(D.slice(W+1))?w.preventDefault():O?(j=u.current)==null||j.focus():(T=d.current)==null||T.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[a,p]),l.jsxs(R$,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&l.jsx(rv,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});nm(b)}}),l.jsx(Iw.Slot,{scope:n,children:l.jsx(fe.ol,{tabIndex:-1,...i,ref:f})}),x&&l.jsx(rv,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});nm(b)}})]})});aT.displayName=oT;var lT="ToastFocusProxy",rv=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Cf(lT,n);return l.jsx(kf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});rv.displayName=lT;var hu="Toast",H$="toast.swipeStart",G$="toast.swipeMove",K$="toast.swipeCancel",J$="toast.swipeEnd",cT=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,c]=Sr({prop:r,defaultProp:s??!0,onChange:i,caller:hu});return l.jsx(Pn,{present:n||a,children:l.jsx(X$,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:xt(e.onPause),onResume:xt(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});cT.displayName=hu;var[Y$,Q$]=sT(hu,{onClose(){}}),X$=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...x}=e,p=Cf(hu,n),[b,y]=g.useState(null),w=ke(t,F=>y(F)),S=g.useRef(null),_=g.useRef(null),C=s||p.duration,j=g.useRef(0),T=g.useRef(C),P=g.useRef(0),{onToastAdd:O,onToastRemove:I}=p,R=xt(()=>{var Q;(b==null?void 0:b.contains(document.activeElement))&&((Q=p.viewport)==null||Q.focus()),o()}),D=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(P.current),j.current=new Date().getTime(),P.current=window.setTimeout(R,F))},[R]);g.useEffect(()=>{const F=p.viewport;if(F){const Q=()=>{D(T.current),u==null||u()},J=()=>{const Y=new Date().getTime()-j.current;T.current=T.current-Y,window.clearTimeout(P.current),c==null||c()};return F.addEventListener(tv,J),F.addEventListener(nv,Q),()=>{F.removeEventListener(tv,J),F.removeEventListener(nv,Q)}}},[p.viewport,C,c,u,D]),g.useEffect(()=>{i&&!p.isClosePausedRef.current&&D(C)},[i,C,p.isClosePausedRef,D]),g.useEffect(()=>(O(),()=>I()),[O,I]);const W=g.useMemo(()=>b?gT(b):null,[b]);return p.viewport?l.jsxs(l.Fragment,{children:[W&&l.jsx(Z$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),l.jsx(Y$,{scope:n,onClose:R,children:Ao.createPortal(l.jsx(Iw.ItemSlot,{scope:n,children:l.jsx(P$,{asChild:!0,onEscapeKeyDown:oe(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:oe(e.onPointerDown,F=>{F.button===0&&(S.current={x:F.clientX,y:F.clientY})}),onPointerMove:oe(e.onPointerMove,F=>{if(!S.current)return;const Q=F.clientX-S.current.x,J=F.clientY-S.current.y,Y=!!_.current,L=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=L?$(0,Q):0,ee=L?0:$(0,J),ne=F.pointerType==="touch"?10:2,v={x:z,y:ee},k={originalEvent:F,delta:v};Y?(_.current=v,Ku(G$,h,k,{discrete:!1})):eS(v,p.swipeDirection,ne)?(_.current=v,Ku(H$,d,k,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(Q)>ne||Math.abs(J)>ne)&&(S.current=null)}),onPointerUp:oe(e.onPointerUp,F=>{const Q=_.current,J=F.target;if(J.hasPointerCapture(F.pointerId)&&J.releasePointerCapture(F.pointerId),_.current=null,S.current=null,Q){const Y=F.currentTarget,L={originalEvent:F,delta:Q};eS(Q,p.swipeDirection,p.swipeThreshold)?Ku(J$,m,L,{discrete:!0}):Ku(K$,f,L,{discrete:!0}),Y.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Z$=e=>{const{__scopeToast:t,children:n,...r}=e,s=Cf(hu,t),[i,o]=g.useState(!1),[a,c]=g.useState(!1);return nF(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Ef,{asChild:!0,children:l.jsx(kf,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},eF="ToastTitle",uT=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(fe.div,{...r,ref:t})});uT.displayName=eF;var tF="ToastDescription",dT=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(fe.div,{...r,ref:t})});dT.displayName=tF;var hT="ToastAction",fT=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(mT,{altText:n,asChild:!0,children:l.jsx(Mw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${hT}\`. Expected non-empty \`string\`.`),null)});fT.displayName=hT;var pT="ToastClose",Mw=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=Q$(pT,n);return l.jsx(mT,{asChild:!0,children:l.jsx(fe.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,s.onClose)})})});Mw.displayName=pT;var mT=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function gT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),rF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...gT(r))}}),t}function Ku(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Zj(s,i):s.dispatchEvent(i)}var eS=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function nF(e=()=>{}){const t=xt(e);Et(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function rF(e){return e.nodeType===e.ELEMENT_NODE}function sF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var iF=iT,vT=aT,yT=cT,wT=uT,xT=dT,bT=fT,ST=Mw;function _T(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=_T(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ET(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=_T(e))&&(r&&(r+=" "),r+=t);return r}const tS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nS=ET,jf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return nS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=tS(d)||tS(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(x=>{let[p,b]=x;return Array.isArray(b)?b.includes({...i,...a}[p]):{...i,...a}[p]===b})?[...u,h,f]:u},[]);return nS(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kT=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>g.createElement("svg",{ref:c,...aF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:kT("lucide",s),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(lF,{ref:i,iconNode:t,className:kT(`lucide-${oF(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=ve("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ve("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=ve("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ve("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ve("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ve("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ve("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ve("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ve("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Vw="-",jF=e=>{const t=NF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Vw);return a[0]===""&&a.length!==1&&a.shift(),AT(a,t)||TF(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},AT=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?AT(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Vw);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},oS=/^\[(.+)\]$/,TF=e=>{if(oS.test(e)){const t=oS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},NF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return PF(Object.entries(e.classGroups),n).forEach(([i,o])=>{iv(o,r,i,t)}),r},iv=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:aS(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(AF(s)){iv(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{iv(o,aS(t,i),n,r)})})},aS=(e,t)=>{let n=e;return t.split(Vw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AF=e=>e.isThemeGetter,PF=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,RF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},PT="!",OF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const c=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let y=a[b];if(u===0){if(y===s&&(r||a.slice(b,b+i)===t)){c.push(a.slice(d,b)),d=b+i;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?a:a.substring(d),m=f.startsWith(PT),x=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},IF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},MF=e=>({cache:RF(e.cacheSize),parseClassName:OF(e),...jF(e)}),DF=/\s+/,LF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(DF);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let x=!!m,p=r(x?f.substring(0,m):f);if(!p){if(!x){a=u+(a.length>0?" "+a:a);continue}if(p=r(f),!p){a=u+(a.length>0?" "+a:a);continue}x=!1}const b=IF(d).join(":"),y=h?b+PT:b,w=y+p;if(i.includes(w))continue;i.push(w);const S=s(p,x);for(let _=0;_<S.length;++_){const C=S[_];i.push(y+C)}a=u+(a.length>0?" "+a:a)}return a};function $F(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=RT(t))&&(r&&(r+=" "),r+=n);return r}const RT=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=RT(e[r]))&&(n&&(n+=" "),n+=t);return n};function FF(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=MF(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=LF(c,n);return s(c,d),d}return function(){return i($F.apply(null,arguments))}}const We=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},OT=/^\[(?:([a-z-]+):)?(.+)\]$/i,VF=/^\d+\/\d+$/,UF=new Set(["px","full","screen"]),BF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=e=>Sa(e)||UF.has(e)||VF.test(e),Ts=e=>ul(e,"length",e4),Sa=e=>!!e&&!Number.isNaN(Number(e)),rm=e=>ul(e,"number",Sa),Ml=e=>!!e&&Number.isInteger(Number(e)),GF=e=>e.endsWith("%")&&Sa(e.slice(0,-1)),_e=e=>OT.test(e),Ns=e=>BF.test(e),KF=new Set(["length","size","percentage"]),JF=e=>ul(e,KF,IT),YF=e=>ul(e,"position",IT),QF=new Set(["image","url"]),XF=e=>ul(e,QF,n4),ZF=e=>ul(e,"",t4),Dl=()=>!0,ul=(e,t,n)=>{const r=OT.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},e4=e=>zF.test(e)&&!qF.test(e),IT=()=>!1,t4=e=>WF.test(e),n4=e=>HF.test(e),r4=()=>{const e=We("colors"),t=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),c=We("contrast"),u=We("grayscale"),d=We("hueRotate"),h=We("invert"),f=We("gap"),m=We("gradientColorStops"),x=We("gradientColorStopPositions"),p=We("inset"),b=We("margin"),y=We("opacity"),w=We("padding"),S=We("saturate"),_=We("scale"),C=We("sepia"),j=We("skew"),T=We("space"),P=We("translate"),O=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",_e,t],D=()=>[_e,t],W=()=>["",Xr,Ts],F=()=>["auto",Sa,_e],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",_e],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Sa,_e];return{cacheSize:500,separator:":",theme:{colors:[Dl],spacing:[Xr,Ts],blur:["none","",Ns,_e],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Ns,_e],borderSpacing:D(),borderWidth:W(),contrast:ee(),grayscale:$(),hueRotate:ee(),invert:$(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[GF,Ts],inset:R(),margin:R(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:$(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),_e]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ml,_e]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ml,_e]}],"grid-cols":[{"grid-cols":[Dl]}],"col-start-end":[{col:["auto",{span:["full",Ml,_e]},_e]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Dl]}],"row-start-end":[{row:["auto",{span:[Ml,_e]},_e]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rm]}],"font-family":[{font:[Dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Sa,rm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,Ts]}],"underline-offset":[{"underline-offset":["auto",Xr,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),YF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Xr,_e]}],"outline-w":[{outline:[Xr,Ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Xr,Ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ns,ZF]}],"shadow-color":[{shadow:[Dl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ns,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ml,_e]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xr,Ts,rm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},s4=FF(r4);function ie(...e){return s4(ET(e))}const i4=iF,MT=g.forwardRef(({className:e,...t},n)=>l.jsx(vT,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));MT.displayName=vT.displayName;const o4=jf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DT=g.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(yT,{ref:r,className:ie(o4({variant:t}),e),...n}));DT.displayName=yT.displayName;const a4=g.forwardRef(({className:e,...t},n)=>l.jsx(bT,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));a4.displayName=bT.displayName;const LT=g.forwardRef(({className:e,...t},n)=>l.jsx(ST,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Nf,{className:"h-4 w-4"})}));LT.displayName=ST.displayName;const $T=g.forwardRef(({className:e,...t},n)=>l.jsx(wT,{ref:n,className:ie("text-sm font-semibold",e),...t}));$T.displayName=wT.displayName;const FT=g.forwardRef(({className:e,...t},n)=>l.jsx(xT,{ref:n,className:ie("text-sm opacity-90",e),...t}));FT.displayName=xT.displayName;function l4(){const{toasts:e}=uu();return l.jsxs(i4,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return l.jsxs(DT,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx($T,{children:n}),r&&l.jsx(FT,{children:r})]}),s,l.jsx(LT,{})]},t)}),l.jsx(MT,{})]})}var Th=["light","dark"],Uw="(prefers-color-scheme: dark)",c4=typeof window>"u",Bw=g.createContext(void 0),u4={setTheme:e=>{},themes:[]},VT=()=>{var e;return(e=g.useContext(Bw))!=null?e:u4},d4=e=>g.useContext(Bw)?e.children:g.createElement(f4,{...e}),h4=["light","dark"],f4=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=h4,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:c,children:u,nonce:d})=>{let[h,f]=g.useState(()=>lS(s,o)),[m,x]=g.useState(()=>lS(s)),p=c?Object.values(c):i,b=g.useCallback(_=>{let C=_;if(!C)return;_==="system"&&n&&(C=cS());let j=c?c[C]:C,T=t?m4():null,P=document.documentElement;if(a==="class"?(P.classList.remove(...p),j&&P.classList.add(j)):j?P.setAttribute(a,j):P.removeAttribute(a),r){let O=Th.includes(o)?o:null,I=Th.includes(C)?C:O;P.style.colorScheme=I}T==null||T()},[]),y=g.useCallback(_=>{let C=typeof _=="function"?_(_):_;f(C);try{localStorage.setItem(s,C)}catch{}},[e]),w=g.useCallback(_=>{let C=cS(_);x(C),h==="system"&&n&&!e&&b("system")},[h,e]);g.useEffect(()=>{let _=window.matchMedia(Uw);return _.addListener(w),w(_),()=>_.removeListener(w)},[w]),g.useEffect(()=>{let _=C=>{if(C.key!==s)return;let j=C.newValue||o;y(j)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),g.useEffect(()=>{b(e??h)},[e,h]);let S=g.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,y,e,m,n,i]);return g.createElement(Bw.Provider,{value:S},g.createElement(p4,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:c,children:u,attrs:p,nonce:d}),u)},p4=g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Th.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,p=!1,b=!0)=>{let y=o?o[x]:x,w=p?x+"|| ''":`'${y}'`,S="";return s&&b&&!p&&Th.includes(x)&&(S+=`d.style.colorScheme = '${x}';`),n==="class"?p||y?S+=`c.add(${w})`:S+="null":y&&(S+=`d[s](n,${w})`),S},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Uw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),lS=(e,t)=>{if(c4)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},m4=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},cS=e=>(e||(e=window.matchMedia(Uw)),e.matches?"dark":"light"),g4=e=>{switch(e){case"success":return w4;case"info":return b4;case"warning":return x4;case"error":return S4;default:return null}},v4=Array(12).fill(0),y4=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},v4.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),w4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),b4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),S4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_4=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),E4=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ov=1,k4=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:ov++,o=this.toasts.find(c=>c.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],G.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(j4(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||ov++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dn=new k4,C4=(e,t)=>{let n=(t==null?void 0:t.id)||ov++;return dn.addToast({title:e,...t,id:n}),n},j4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",T4=C4,N4=()=>dn.toasts,A4=()=>dn.getActiveToasts();Object.assign(T4,{success:dn.success,info:dn.info,warning:dn.warning,error:dn.error,custom:dn.custom,message:dn.message,promise:dn.promise,dismiss:dn.dismiss,loading:dn.loading},{getHistory:N4,getToasts:A4});function P4(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}P4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ju(e){return e.label!==void 0}var R4=3,O4="32px",I4="16px",uS=4e3,M4=356,D4=14,L4=20,$4=200;function nr(...e){return e.filter(Boolean).join(" ")}function F4(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var V4=e=>{var t,n,r,s,i,o,a,c,u,d,h;let{invert:f,toast:m,unstyled:x,interacting:p,setHeights:b,visibleToasts:y,heights:w,index:S,toasts:_,expanded:C,removeToast:j,defaultRichColors:T,closeButton:P,style:O,cancelButtonStyle:I,actionButtonStyle:R,className:D="",descriptionClassName:W="",duration:F,position:Q,gap:J,loadingIcon:Y,expandByDefault:L,classNames:$,icons:z,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:ne}=e,[v,k]=G.useState(null),[E,A]=G.useState(null),[N,M]=G.useState(!1),[U,V]=G.useState(!1),[H,X]=G.useState(!1),[ue,Re]=G.useState(!1),[dt,he]=G.useState(!1),[Se,qe]=G.useState(0),[gt,Tr]=G.useState(0),In=G.useRef(m.duration||F||uS),Qn=G.useRef(null),Ft=G.useRef(null),Io=S===0,Mo=S+1<=y,At=m.type,_s=m.dismissible!==!1,_p=m.className||"",Ep=m.descriptionClassName||"",te=G.useMemo(()=>w.findIndex(we=>we.toastId===m.id)||0,[w,m.id]),Ee=G.useMemo(()=>{var we;return(we=m.closeButton)!=null?we:P},[m.closeButton,P]),Nr=G.useMemo(()=>m.duration||F||uS,[m.duration,F]),kp=G.useRef(0),Do=G.useRef(0),Dx=G.useRef(0),Lo=G.useRef(null),[RD,OD]=Q.split("-"),Lx=G.useMemo(()=>w.reduce((we,Le,Ye)=>Ye>=te?we:we+Le.height,0),[w,te]),$x=E4(),ID=m.invert||f,Cp=At==="loading";Do.current=G.useMemo(()=>te*J+Lx,[te,Lx]),G.useEffect(()=>{In.current=Nr},[Nr]),G.useEffect(()=>{M(!0)},[]),G.useEffect(()=>{let we=Ft.current;if(we){let Le=we.getBoundingClientRect().height;return Tr(Le),b(Ye=>[{toastId:m.id,height:Le,position:m.position},...Ye]),()=>b(Ye=>Ye.filter(Xn=>Xn.toastId!==m.id))}},[b,m.id]),G.useLayoutEffect(()=>{if(!N)return;let we=Ft.current,Le=we.style.height;we.style.height="auto";let Ye=we.getBoundingClientRect().height;we.style.height=Le,Tr(Ye),b(Xn=>Xn.find(Zn=>Zn.toastId===m.id)?Xn.map(Zn=>Zn.toastId===m.id?{...Zn,height:Ye}:Zn):[{toastId:m.id,height:Ye,position:m.position},...Xn])},[N,m.title,m.description,b,m.id]);let Es=G.useCallback(()=>{V(!0),qe(Do.current),b(we=>we.filter(Le=>Le.toastId!==m.id)),setTimeout(()=>{j(m)},$4)},[m,j,b,Do]);G.useEffect(()=>{if(m.promise&&At==="loading"||m.duration===1/0||m.type==="loading")return;let we;return C||p||ne&&$x?(()=>{if(Dx.current<kp.current){let Le=new Date().getTime()-kp.current;In.current=In.current-Le}Dx.current=new Date().getTime()})():In.current!==1/0&&(kp.current=new Date().getTime(),we=setTimeout(()=>{var Le;(Le=m.onAutoClose)==null||Le.call(m,m),Es()},In.current)),()=>clearTimeout(we)},[C,p,m,At,ne,$x,Es]),G.useEffect(()=>{m.delete&&Es()},[Es,m.delete]);function MD(){var we,Le,Ye;return z!=null&&z.loading?G.createElement("div",{className:nr($==null?void 0:$.loader,(we=m==null?void 0:m.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":At==="loading"},z.loading):Y?G.createElement("div",{className:nr($==null?void 0:$.loader,(Le=m==null?void 0:m.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":At==="loading"},Y):G.createElement(y4,{className:nr($==null?void 0:$.loader,(Ye=m==null?void 0:m.classNames)==null?void 0:Ye.loader),visible:At==="loading"})}return G.createElement("li",{tabIndex:0,ref:Ft,className:nr(D,_p,$==null?void 0:$.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[At],(n=m==null?void 0:m.classNames)==null?void 0:n[At]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:T,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":N,"data-promise":!!m.promise,"data-swiped":dt,"data-removed":U,"data-visible":Mo,"data-y-position":RD,"data-x-position":OD,"data-index":S,"data-front":Io,"data-swiping":H,"data-dismissible":_s,"data-type":At,"data-invert":ID,"data-swipe-out":ue,"data-swipe-direction":E,"data-expanded":!!(C||L&&N),style:{"--index":S,"--toasts-before":S,"--z-index":_.length-S,"--offset":`${U?Se:Do.current}px`,"--initial-height":L?"auto":`${gt}px`,...O,...m.style},onDragEnd:()=>{X(!1),k(null),Lo.current=null},onPointerDown:we=>{Cp||!_s||(Qn.current=new Date,qe(Do.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(X(!0),Lo.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,Le,Ye,Xn;if(ue||!_s)return;Lo.current=null;let Zn=Number(((we=Ft.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ks=Number(((Le=Ft.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ai=new Date().getTime()-((Ye=Qn.current)==null?void 0:Ye.getTime()),er=v==="x"?Zn:ks,Cs=Math.abs(er)/Ai;if(Math.abs(er)>=L4||Cs>.11){qe(Do.current),(Xn=m.onDismiss)==null||Xn.call(m,m),A(v==="x"?Zn>0?"right":"left":ks>0?"down":"up"),Es(),Re(!0),he(!1);return}X(!1),k(null)},onPointerMove:we=>{var Le,Ye,Xn,Zn;if(!Lo.current||!_s||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;let ks=we.clientY-Lo.current.y,Ai=we.clientX-Lo.current.x,er=(Ye=e.swipeDirections)!=null?Ye:F4(Q);!v&&(Math.abs(Ai)>1||Math.abs(ks)>1)&&k(Math.abs(Ai)>Math.abs(ks)?"x":"y");let Cs={x:0,y:0};v==="y"?(er.includes("top")||er.includes("bottom"))&&(er.includes("top")&&ks<0||er.includes("bottom")&&ks>0)&&(Cs.y=ks):v==="x"&&(er.includes("left")||er.includes("right"))&&(er.includes("left")&&Ai<0||er.includes("right")&&Ai>0)&&(Cs.x=Ai),(Math.abs(Cs.x)>0||Math.abs(Cs.y)>0)&&he(!0),(Xn=Ft.current)==null||Xn.style.setProperty("--swipe-amount-x",`${Cs.x}px`),(Zn=Ft.current)==null||Zn.style.setProperty("--swipe-amount-y",`${Cs.y}px`)}},Ee&&!m.jsx?G.createElement("button",{"aria-label":ee,"data-disabled":Cp,"data-close-button":!0,onClick:Cp||!_s?()=>{}:()=>{var we;Es(),(we=m.onDismiss)==null||we.call(m,m)},className:nr($==null?void 0:$.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=z==null?void 0:z.close)!=null?i:_4):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,At||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:nr($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||MD():null,m.type!=="loading"?m.icon||(z==null?void 0:z[At])||g4(At):null):null,G.createElement("div",{"data-content":"",className:nr($==null?void 0:$.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:nr($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:nr(W,Ep,$==null?void 0:$.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&Ju(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:we=>{var Le,Ye;Ju(m.cancel)&&_s&&((Ye=(Le=m.cancel).onClick)==null||Ye.call(Le,we),Es())},className:nr($==null?void 0:$.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&Ju(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:we=>{var Le,Ye;Ju(m.action)&&((Ye=(Le=m.action).onClick)==null||Ye.call(Le,we),!we.defaultPrevented&&Es())},className:nr($==null?void 0:$.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function dS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function U4(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?I4:O4;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var B4=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:x=R4,toastOptions:p,dir:b=dS(),gap:y=D4,loadingIcon:w,icons:S,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:C}=e,[j,T]=G.useState([]),P=G.useMemo(()=>Array.from(new Set([r].concat(j.filter(ne=>ne.position).map(ne=>ne.position)))),[j,r]),[O,I]=G.useState([]),[R,D]=G.useState(!1),[W,F]=G.useState(!1),[Q,J]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=G.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=G.useRef(null),z=G.useRef(!1),ee=G.useCallback(ne=>{T(v=>{var k;return(k=v.find(E=>E.id===ne.id))!=null&&k.delete||dn.dismiss(ne.id),v.filter(({id:E})=>E!==ne.id)})},[]);return G.useEffect(()=>dn.subscribe(ne=>{if(ne.dismiss){T(v=>v.map(k=>k.id===ne.id?{...k,delete:!0}:k));return}setTimeout(()=>{Kj.flushSync(()=>{T(v=>{let k=v.findIndex(E=>E.id===ne.id);return k!==-1?[...v.slice(0,k),{...v[k],...ne},...v.slice(k+1)]:[ne,...v]})})})}),[]),G.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:v})=>{J(v?"dark":"light")})}catch{ne.addListener(({matches:k})=>{try{J(k?"dark":"light")}catch(E){console.error(E)}})}},[d]),G.useEffect(()=>{j.length<=1&&D(!1)},[j]),G.useEffect(()=>{let ne=v=>{var k,E;s.every(A=>v[A]||v.code===A)&&(D(!0),(k=Y.current)==null||k.focus()),v.code==="Escape"&&(document.activeElement===Y.current||(E=Y.current)!=null&&E.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),G.useEffect(()=>{if(Y.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,z.current=!1)}},[Y.current]),G.createElement("section",{ref:t,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ne,v)=>{var k;let[E,A]=ne.split("-");return j.length?G.createElement("ol",{key:ne,dir:b==="auto"?dS():b,tabIndex:-1,ref:Y,className:a,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":E,"data-lifted":R&&j.length>1&&!i,"data-x-position":A,style:{"--front-toast-height":`${((k=O[0])==null?void 0:k.height)||0}px`,"--width":`${M4}px`,"--gap":`${y}px`,...m,...U4(c,u)},onBlur:N=>{z.current&&!N.currentTarget.contains(N.relatedTarget)&&(z.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||z.current||(z.current=!0,$.current=N.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{W||D(!1)},onDragEnd:()=>D(!1),onPointerDown:N=>{N.target instanceof HTMLElement&&N.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},j.filter(N=>!N.position&&v===0||N.position===ne).map((N,M)=>{var U,V;return G.createElement(V4,{key:N.id,icons:S,index:M,toast:N,defaultRichColors:h,duration:(U=p==null?void 0:p.duration)!=null?U:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:x,closeButton:(V=p==null?void 0:p.closeButton)!=null?V:o,interacting:W,position:ne,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:j.filter(H=>H.position==N.position),heights:O.filter(H=>H.position==N.position),setHeights:I,expandByDefault:i,gap:y,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const z4=({...e})=>{const{theme:t="system"}=VT();return l.jsx(B4,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var q4=By[" useId ".trim().toString()]||(()=>{}),W4=0;function wr(e){const[t,n]=g.useState(q4());return Et(()=>{n(r=>r??String(W4++))},[e]),t?`radix-${t}`:""}const H4=["top","right","bottom","left"],pi=Math.min,xn=Math.max,Nh=Math.round,Yu=Math.floor,zr=e=>({x:e,y:e}),G4={left:"right",right:"left",bottom:"top",top:"bottom"},K4={start:"end",end:"start"};function av(e,t,n){return xn(e,pi(t,n))}function vs(e,t){return typeof e=="function"?e(t):e}function ys(e){return e.split("-")[0]}function dl(e){return e.split("-")[1]}function zw(e){return e==="x"?"y":"x"}function qw(e){return e==="y"?"height":"width"}const J4=new Set(["top","bottom"]);function Vr(e){return J4.has(ys(e))?"y":"x"}function Ww(e){return zw(Vr(e))}function Y4(e,t,n){n===void 0&&(n=!1);const r=dl(e),s=Ww(e),i=qw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ah(o)),[o,Ah(o)]}function Q4(e){const t=Ah(e);return[lv(e),t,lv(t)]}function lv(e){return e.replace(/start|end/g,t=>K4[t])}const hS=["left","right"],fS=["right","left"],X4=["top","bottom"],Z4=["bottom","top"];function eV(e,t,n){switch(e){case"top":case"bottom":return n?t?fS:hS:t?hS:fS;case"left":case"right":return t?X4:Z4;default:return[]}}function tV(e,t,n,r){const s=dl(e);let i=eV(ys(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(lv)))),i}function Ah(e){return e.replace(/left|right|bottom|top/g,t=>G4[t])}function nV(e){return{top:0,right:0,bottom:0,left:0,...e}}function UT(e){return typeof e!="number"?nV(e):{top:e,right:e,bottom:e,left:e}}function Ph(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function pS(e,t,n){let{reference:r,floating:s}=e;const i=Vr(t),o=Ww(t),a=qw(o),c=ys(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(dl(t)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const rV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=pS(u,r,c),f=r,m={},x=0;for(let p=0;p<a.length;p++){const{name:b,fn:y}=a[p],{x:w,y:S,data:_,reset:C}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,h=S??h,m={...m,[b]:{...m[b],..._}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=pS(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Lc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=vs(t,e),x=UT(m),b=a[f?h==="floating"?"reference":"floating":h],y=Ph(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=Ph(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:c}):w);return{top:(y.top-C.top+x.top)/_.y,bottom:(C.bottom-y.bottom+x.bottom)/_.y,left:(y.left-C.left+x.left)/_.x,right:(C.right-y.right+x.right)/_.x}}const sV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=vs(e,t)||{};if(u==null)return{};const h=UT(d),f={x:n,y:r},m=Ww(s),x=qw(m),p=await o.getDimensions(u),b=m==="y",y=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[m]-f[m]-i.floating[x],C=f[m]-i.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=j?j[S]:0;(!T||!await(o.isElement==null?void 0:o.isElement(j)))&&(T=a.floating[S]||i.floating[x]);const P=_/2-C/2,O=T/2-p[x]/2-1,I=pi(h[y],O),R=pi(h[w],O),D=I,W=T-p[x]-R,F=T/2-p[x]/2+P,Q=av(D,F,W),J=!c.arrow&&dl(s)!=null&&F!==Q&&i.reference[x]/2-(F<D?I:R)-p[x]/2<0,Y=J?F<D?F-D:F-W:0;return{[m]:f[m]+Y,data:{[m]:Q,centerOffset:F-Q-Y,...J&&{alignmentOffset:Y}},reset:J}}}),iV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...b}=vs(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ys(s),w=Vr(a),S=ys(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=f||(S||!p?[Ah(a)]:Q4(a)),j=x!=="none";!f&&j&&C.push(...tV(a,p,x,_));const T=[a,...C],P=await Lc(t,b),O=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&O.push(P[y]),h){const F=Y4(s,o,_);O.push(P[F[0]],P[F[1]])}if(I=[...I,{placement:s,overflows:O}],!O.every(F=>F<=0)){var R,D;const F=(((R=i.flip)==null?void 0:R.index)||0)+1,Q=T[F];if(Q&&(!(h==="alignment"?w!==Vr(Q):!1)||I.every(L=>L.overflows[0]>0&&Vr(L.placement)===w)))return{data:{index:F,overflows:I},reset:{placement:Q}};let J=(D=I.filter(Y=>Y.overflows[0]<=0).sort((Y,L)=>Y.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!J)switch(m){case"bestFit":{var W;const Y=(W=I.filter(L=>{if(j){const $=Vr(L.placement);return $===w||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,z)=>$+z,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:W[0];Y&&(J=Y);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function mS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gS(e){return H4.some(t=>e[t]>=0)}const oV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=vs(e,t);switch(r){case"referenceHidden":{const i=await Lc(t,{...s,elementContext:"reference"}),o=mS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gS(o)}}}case"escaped":{const i=await Lc(t,{...s,altBoundary:!0}),o=mS(i,n.floating);return{data:{escapedOffsets:o,escaped:gS(o)}}}default:return{}}}}},BT=new Set(["left","top"]);async function aV(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ys(n),a=dl(n),c=Vr(n)==="y",u=BT.has(o)?-1:1,d=i&&c?-1:1,h=vs(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const lV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await aV(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},cV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...c}=vs(e,t),u={x:n,y:r},d=await Lc(t,c),h=Vr(ys(s)),f=zw(h);let m=u[f],x=u[h];if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=m+d[b],S=m-d[y];m=av(w,m,S)}if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=x+d[b],S=x-d[y];x=av(w,x,S)}const p=a.fn({...t,[f]:m,[h]:x});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},uV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=vs(e,t),d={x:n,y:r},h=Vr(s),f=zw(h);let m=d[f],x=d[h];const p=vs(a,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const S=f==="y"?"height":"width",_=i.reference[f]-i.floating[S]+b.mainAxis,C=i.reference[f]+i.reference[S]-b.mainAxis;m<_?m=_:m>C&&(m=C)}if(u){var y,w;const S=f==="y"?"width":"height",_=BT.has(ys(s)),C=i.reference[h]-i.floating[S]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:b.crossAxis),j=i.reference[h]+i.reference[S]+(_?0:((w=o.offset)==null?void 0:w[h])||0)-(_?b.crossAxis:0);x<C?x=C:x>j&&(x=j)}return{[f]:m,[h]:x}}}},dV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...u}=vs(e,t),d=await Lc(t,u),h=ys(s),f=dl(s),m=Vr(s)==="y",{width:x,height:p}=i.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,b=f==="end"?"top":"bottom");const w=p-d.top-d.bottom,S=x-d.left-d.right,_=pi(p-d[b],w),C=pi(x-d[y],S),j=!t.middlewareData.shift;let T=_,P=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=w),j&&!f){const I=xn(d.left,0),R=xn(d.right,0),D=xn(d.top,0),W=xn(d.bottom,0);m?P=x-2*(I!==0||R!==0?I+R:xn(d.left,d.right)):T=p-2*(D!==0||W!==0?D+W:xn(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:T});const O=await o.getDimensions(a.floating);return x!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function Af(){return typeof window<"u"}function hl(e){return zT(e)?(e.nodeName||"").toLowerCase():"#document"}function Cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(zT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zT(e){return Af()?e instanceof Node||e instanceof Cn(e).Node:!1}function _r(e){return Af()?e instanceof Element||e instanceof Cn(e).Element:!1}function Gr(e){return Af()?e instanceof HTMLElement||e instanceof Cn(e).HTMLElement:!1}function vS(e){return!Af()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cn(e).ShadowRoot}const hV=new Set(["inline","contents"]);function gu(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Er(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!hV.has(s)}const fV=new Set(["table","td","th"]);function pV(e){return fV.has(hl(e))}const mV=[":popover-open",":modal"];function Pf(e){return mV.some(t=>{try{return e.matches(t)}catch{return!1}})}const gV=["transform","translate","scale","rotate","perspective"],vV=["transform","translate","scale","rotate","perspective","filter"],yV=["paint","layout","strict","content"];function Hw(e){const t=Gw(),n=_r(e)?Er(e):e;return gV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||vV.some(r=>(n.willChange||"").includes(r))||yV.some(r=>(n.contain||"").includes(r))}function wV(e){let t=mi(e);for(;Gr(t)&&!Ya(t);){if(Hw(t))return t;if(Pf(t))return null;t=mi(t)}return null}function Gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xV=new Set(["html","body","#document"]);function Ya(e){return xV.has(hl(e))}function Er(e){return Cn(e).getComputedStyle(e)}function Rf(e){return _r(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mi(e){if(hl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vS(e)&&e.host||Jr(e);return vS(t)?t.host:t}function qT(e){const t=mi(e);return Ya(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gr(t)&&gu(t)?t:qT(t)}function $c(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=qT(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Cn(s);if(i){const a=cv(o);return t.concat(o,o.visualViewport||[],gu(s)?s:[],a&&n?$c(a):[])}return t.concat(s,$c(s,[],n))}function cv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function WT(e){const t=Er(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Gr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=Nh(n)!==i||Nh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Kw(e){return _r(e)?e:e.contextElement}function _a(e){const t=Kw(e);if(!Gr(t))return zr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=WT(t);let o=(i?Nh(n.width):n.width)/r,a=(i?Nh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bV=zr(0);function HT(e){const t=Cn(e);return!Gw()||!t.visualViewport?bV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cn(e)?!1:t}function wo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Kw(e);let o=zr(1);t&&(r?_r(r)&&(o=_a(r)):o=_a(e));const a=SV(i,n,r)?HT(i):zr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Cn(i),m=r&&_r(r)?Cn(r):r;let x=f,p=cv(x);for(;p&&r&&m!==x;){const b=_a(p),y=p.getBoundingClientRect(),w=Er(p),S=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*b.x,_=y.top+(p.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=S,u+=_,x=Cn(p),p=cv(x)}}return Ph({width:d,height:h,x:c,y:u})}function Jw(e,t){const n=Rf(e).scrollLeft;return t?t.left+n:wo(Jr(e)).left+n}function GT(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Jw(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function _V(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Jr(r),a=t?Pf(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=zr(1);const d=zr(0),h=Gr(r);if((h||!h&&!i)&&((hl(r)!=="body"||gu(o))&&(c=Rf(r)),Gr(r))){const m=wo(r);u=_a(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!i?GT(o,c,!0):zr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function EV(e){return Array.from(e.getClientRects())}function kV(e){const t=Jr(e),n=Rf(e),r=e.ownerDocument.body,s=xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jw(e);const a=-n.scrollTop;return Er(r).direction==="rtl"&&(o+=xn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function CV(e,t){const n=Cn(e),r=Jr(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Gw();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const jV=new Set(["absolute","fixed"]);function TV(e,t){const n=wo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Gr(e)?_a(e):zr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function yS(e,t,n){let r;if(t==="viewport")r=CV(e,n);else if(t==="document")r=kV(Jr(e));else if(_r(t))r=TV(t,n);else{const s=HT(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ph(r)}function KT(e,t){const n=mi(e);return n===t||!_r(n)||Ya(n)?!1:Er(n).position==="fixed"||KT(n,t)}function NV(e,t){const n=t.get(e);if(n)return n;let r=$c(e,[],!1).filter(a=>_r(a)&&hl(a)!=="body"),s=null;const i=Er(e).position==="fixed";let o=i?mi(e):e;for(;_r(o)&&!Ya(o);){const a=Er(o),c=Hw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&jV.has(s.position)||gu(o)&&!c&&KT(e,o))?r=r.filter(d=>d!==o):s=a,o=mi(o)}return t.set(e,r),r}function AV(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Pf(t)?[]:NV(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const h=yS(t,d,s);return u.top=xn(h.top,u.top),u.right=pi(h.right,u.right),u.bottom=pi(h.bottom,u.bottom),u.left=xn(h.left,u.left),u},yS(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PV(e){const{width:t,height:n}=WT(e);return{width:t,height:n}}function RV(e,t,n){const r=Gr(t),s=Jr(t),i=n==="fixed",o=wo(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=zr(0);function u(){c.x=Jw(s)}if(r||!r&&!i)if((hl(t)!=="body"||gu(s))&&(a=Rf(t)),r){const m=wo(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?GT(s,a):zr(0),h=o.left+a.scrollLeft-c.x-d.x,f=o.top+a.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function sm(e){return Er(e).position==="static"}function wS(e,t){if(!Gr(e)||Er(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Jr(e)===n&&(n=n.ownerDocument.body),n}function JT(e,t){const n=Cn(e);if(Pf(e))return n;if(!Gr(e)){let s=mi(e);for(;s&&!Ya(s);){if(_r(s)&&!sm(s))return s;s=mi(s)}return n}let r=wS(e,t);for(;r&&pV(r)&&sm(r);)r=wS(r,t);return r&&Ya(r)&&sm(r)&&!Hw(r)?n:r||wV(e)||n}const OV=async function(e){const t=this.getOffsetParent||JT,n=this.getDimensions,r=await n(e.floating);return{reference:RV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IV(e){return Er(e).direction==="rtl"}const MV={convertOffsetParentRelativeRectToViewportRelativeRect:_V,getDocumentElement:Jr,getClippingRect:AV,getOffsetParent:JT,getElementRects:OV,getClientRects:EV,getDimensions:PV,getScale:_a,isElement:_r,isRTL:IV};function YT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function DV(e,t){let n=null,r;const s=Jr(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||t(),!f||!m)return;const x=Yu(h),p=Yu(s.clientWidth-(d+f)),b=Yu(s.clientHeight-(h+m)),y=Yu(d),S={rootMargin:-x+"px "+-p+"px "+-b+"px "+-y+"px",threshold:xn(0,pi(1,c))||1};let _=!0;function C(j){const T=j[0].intersectionRatio;if(T!==c){if(!_)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!YT(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(C,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,S)}n.observe(e)}return o(!0),i}function LV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Kw(e),d=s||i?[...u?$c(u):[],...$c(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&a?DV(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let x,p=c?wo(e):null;c&&b();function b(){const y=wo(e);p&&!YT(p,y)&&n(),p=y,x=requestAnimationFrame(b)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const $V=lV,FV=cV,VV=iV,UV=dV,BV=oV,xS=sV,zV=uV,qV=(e,t,n)=>{const r=new Map,s={platform:MV,...n},i={...s.platform,_c:r};return rV(e,t,{...s,platform:i})};var WV=typeof document<"u",HV=function(){},Fd=WV?g.useLayoutEffect:HV;function Rh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Rh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Rh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function QT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bS(e,t){const n=QT(e);return Math.round(t*n)/n}function im(e){const t=g.useRef(e);return Fd(()=>{t.current=e}),t}function GV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,h]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(r);Rh(f,r)||m(r);const[x,p]=g.useState(null),[b,y]=g.useState(null),w=g.useCallback(L=>{L!==j.current&&(j.current=L,p(L))},[]),S=g.useCallback(L=>{L!==T.current&&(T.current=L,y(L))},[]),_=i||x,C=o||b,j=g.useRef(null),T=g.useRef(null),P=g.useRef(d),O=c!=null,I=im(c),R=im(s),D=im(u),W=g.useCallback(()=>{if(!j.current||!T.current)return;const L={placement:t,strategy:n,middleware:f};R.current&&(L.platform=R.current),qV(j.current,T.current,L).then($=>{const z={...$,isPositioned:D.current!==!1};F.current&&!Rh(P.current,z)&&(P.current=z,Ao.flushSync(()=>{h(z)}))})},[f,t,n,R,D]);Fd(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const F=g.useRef(!1);Fd(()=>(F.current=!0,()=>{F.current=!1}),[]),Fd(()=>{if(_&&(j.current=_),C&&(T.current=C),_&&C){if(I.current)return I.current(_,C,W);W()}},[_,C,W,I,O]);const Q=g.useMemo(()=>({reference:j,floating:T,setReference:w,setFloating:S}),[w,S]),J=g.useMemo(()=>({reference:_,floating:C}),[_,C]),Y=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!J.floating)return L;const $=bS(J.floating,d.x),z=bS(J.floating,d.y);return a?{...L,transform:"translate("+$+"px, "+z+"px)",...QT(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:z}},[n,a,J.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:W,refs:Q,elements:J,floatingStyles:Y}),[d,W,Q,J,Y])}const KV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?xS({element:r.current,padding:s}).fn(n):{}:r?xS({element:r,padding:s}).fn(n):{}}}},JV=(e,t)=>({...$V(e),options:[e,t]}),YV=(e,t)=>({...FV(e),options:[e,t]}),QV=(e,t)=>({...zV(e),options:[e,t]}),XV=(e,t)=>({...VV(e),options:[e,t]}),ZV=(e,t)=>({...UV(e),options:[e,t]}),eU=(e,t)=>({...BV(e),options:[e,t]}),tU=(e,t)=>({...KV(e),options:[e,t]});var nU="Arrow",XT=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(fe.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});XT.displayName=nU;var rU=XT;function ZT(e){const[t,n]=g.useState(void 0);return Et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Yw="Popper",[eN,Of]=An(Yw),[sU,tN]=eN(Yw),nN=e=>{const{__scopePopper:t,children:n}=e,[r,s]=g.useState(null);return l.jsx(sU,{scope:t,anchor:r,onAnchorChange:s,children:n})};nN.displayName=Yw;var rN="PopperAnchor",sN=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=tN(rN,n),o=g.useRef(null),a=ke(t,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(fe.div,{...s,ref:a})});sN.displayName=rN;var Qw="PopperContent",[iU,oU]=eN(Qw),iN=g.forwardRef((e,t)=>{var N,M,U,V,H,X;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=e,b=tN(Qw,n),[y,w]=g.useState(null),S=ke(t,ue=>w(ue)),[_,C]=g.useState(null),j=ZT(_),T=(j==null?void 0:j.width)??0,P=(j==null?void 0:j.height)??0,O=r+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],D=R.length>0,W={padding:I,boundary:R.filter(lU),altBoundary:D},{refs:F,floatingStyles:Q,placement:J,isPositioned:Y,middlewareData:L}=GV({strategy:"fixed",placement:O,whileElementsMounted:(...ue)=>LV(...ue,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[JV({mainAxis:s+P,alignmentAxis:o}),c&&YV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?QV():void 0,...W}),c&&XV({...W}),ZV({...W,apply:({elements:ue,rects:Re,availableWidth:dt,availableHeight:he})=>{const{width:Se,height:qe}=Re.reference,gt=ue.floating.style;gt.setProperty("--radix-popper-available-width",`${dt}px`),gt.setProperty("--radix-popper-available-height",`${he}px`),gt.setProperty("--radix-popper-anchor-width",`${Se}px`),gt.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),_&&tU({element:_,padding:a}),cU({arrowWidth:T,arrowHeight:P}),f&&eU({strategy:"referenceHidden",...W})]}),[$,z]=lN(J),ee=xt(x);Et(()=>{Y&&(ee==null||ee())},[Y,ee]);const ne=(N=L.arrow)==null?void 0:N.x,v=(M=L.arrow)==null?void 0:M.y,k=((U=L.arrow)==null?void 0:U.centerOffset)!==0,[E,A]=g.useState();return Et(()=>{y&&A(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:Y?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(V=L.transformOrigin)==null?void 0:V.x,(H=L.transformOrigin)==null?void 0:H.y].join(" "),...((X=L.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(iU,{scope:n,placedSide:$,onArrowChange:C,arrowX:ne,arrowY:v,shouldHideArrow:k,children:l.jsx(fe.div,{"data-side":$,"data-align":z,...p,ref:S,style:{...p.style,animation:Y?void 0:"none"}})})})});iN.displayName=Qw;var oN="PopperArrow",aU={top:"bottom",right:"left",bottom:"top",left:"right"},aN=g.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=oU(oN,r),o=aU[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(rU,{...s,ref:n,style:{...s.style,display:"block"}})})});aN.displayName=oN;function lU(e){return e!==null}var cU=e=>({name:"transformOrigin",options:e,fn(t){var b,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=lN(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let x="",p="";return u==="bottom"?(x=o?h:`${f}px`,p=`${-c}px`):u==="top"?(x=o?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,p=o?h:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,p=o?h:`${m}px`),{data:{x,y:p}}}});function lN(e){const[t,n="center"]=e.split("-");return[t,n]}var cN=nN,uN=sN,dN=iN,hN=aN,[If,dQ]=An("Tooltip",[Of]),Mf=Of(),fN="TooltipProvider",uU=700,uv="tooltip.open",[dU,Xw]=If(fN),pN=e=>{const{__scopeTooltip:t,delayDuration:n=uU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=g.useRef(!0),a=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(dU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};pN.displayName=fN;var Fc="Tooltip",[hU,Df]=If(Fc),mN=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,c=Xw(Fc,e.__scopeTooltip),u=Mf(t),[d,h]=g.useState(null),f=wr(),m=g.useRef(0),x=o??c.disableHoverableContent,p=a??c.delayDuration,b=g.useRef(!1),[y,w]=Sr({prop:r,defaultProp:s??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(uv))):c.onClose(),i==null||i(T)},caller:Fc}),S=g.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),_=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,w(!0)},[w]),C=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),j=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,w(!0),m.current=0},p)},[p,w]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(cN,{...u,children:l.jsx(hU,{scope:t,contentId:f,open:y,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?j():_()},[c.isOpenDelayedRef,j,_]),onTriggerLeave:g.useCallback(()=>{x?C():(window.clearTimeout(m.current),m.current=0)},[C,x]),onOpen:_,onClose:C,disableHoverableContent:x,children:n})})};mN.displayName=Fc;var dv="TooltipTrigger",gN=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Df(dv,n),i=Xw(dv,n),o=Mf(n),a=g.useRef(null),c=ke(t,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(uN,{asChild:!0,...o,children:l.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:oe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:oe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(e.onBlur,s.onClose),onClick:oe(e.onClick,s.onClose)})})});gN.displayName=dv;var fU="TooltipPortal",[hQ,pU]=If(fU,{forceMount:void 0}),Qa="TooltipContent",vN=g.forwardRef((e,t)=>{const n=pU(Qa,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Df(Qa,e.__scopeTooltip);return l.jsx(Pn,{present:r||o.open,children:o.disableHoverableContent?l.jsx(yN,{side:s,...i,ref:t}):l.jsx(mU,{side:s,...i,ref:t})})}),mU=g.forwardRef((e,t)=>{const n=Df(Qa,e.__scopeTooltip),r=Xw(Qa,e.__scopeTooltip),s=g.useRef(null),i=ke(t,s),[o,a]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=g.useCallback(()=>{a(null),h(!1)},[h]),m=g.useCallback((x,p)=>{const b=x.currentTarget,y={x:x.clientX,y:x.clientY},w=xU(y,b.getBoundingClientRect()),S=bU(y,w),_=SU(p.getBoundingClientRect()),C=EU([...S,..._]);a(C),h(!0)},[h]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&d){const x=b=>m(b,d),p=b=>m(b,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),g.useEffect(()=>{if(o){const x=p=>{const b=p.target,y={x:p.clientX,y:p.clientY},w=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),S=!_U(y,o);w?f():S&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),l.jsx(yN,{...e,ref:i})}),[gU,vU]=If(Fc,{isInside:!1}),yU=Xj("TooltipContent"),yN=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,c=Df(Qa,n),u=Mf(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(uv,d),()=>document.removeEventListener(uv,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(du,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(dN,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(yU,{children:r}),l.jsx(gU,{scope:n,isInside:!0,children:l.jsx(U$,{id:c.contentId,role:"tooltip",children:s||r})})]})})});vN.displayName=Qa;var wN="TooltipArrow",wU=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Mf(n);return vU(wN,n).isInside?null:l.jsx(hN,{...s,...r,ref:t})});wU.displayName=wN;function xU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function SU(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function _U(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],c=t[o],u=a.x,d=a.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function EU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kU(t)}function kU(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var CU=pN,jU=mN,TU=gN,xN=vN;const Ea=CU,Bi=jU,zi=TU,Bs=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(xN,{ref:r,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Bs.displayName=xN.displayName;var Lf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$f=typeof window>"u"||"Deno"in globalThis;function ur(){}function NU(e,t){return typeof e=="function"?e(t):e}function AU(e){return typeof e=="number"&&e>=0&&e!==1/0}function PU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hv(e,t){return typeof e=="function"?e(t):e}function RU(e,t){return typeof e=="function"?e(t):e}function SS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Zw(o,t.options))return!1}else if(!Uc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function _S(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Vc(t.options.mutationKey)!==Vc(i))return!1}else if(!Uc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Zw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vc)(e)}function Vc(e){return JSON.stringify(e,(t,n)=>fv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Uc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Uc(e[n],t[n])):!1}function bN(e,t){if(e===t)return e;const n=ES(e)&&ES(t);if(n||fv(e)&&fv(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,u++):(a[h]=bN(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&u++)}return s===o&&u===s?e:a}return t}function ES(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fv(e){if(!kS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!kS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kS(e){return Object.prototype.toString.call(e)==="[object Object]"}function OU(e){return new Promise(t=>{setTimeout(t,e)})}function IU(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bN(e,t):t}function MU(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function DU(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var e0=Symbol();function SN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===e0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var eo,Ws,Oa,jk,LU=(jk=class extends Lf{constructor(){super();Oe(this,eo);Oe(this,Ws);Oe(this,Oa);be(this,Oa,t=>{if(!$f&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Ws)||this.setEventListener(B(this,Oa))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Ws))==null||t.call(this),be(this,Ws,void 0))}setEventListener(t){var n;be(this,Oa,t),(n=B(this,Ws))==null||n.call(this),be(this,Ws,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,eo)!==t&&(be(this,eo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,eo)=="boolean"?B(this,eo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},eo=new WeakMap,Ws=new WeakMap,Oa=new WeakMap,jk),_N=new LU,Ia,Hs,Ma,Tk,$U=(Tk=class extends Lf{constructor(){super();Oe(this,Ia,!0);Oe(this,Hs);Oe(this,Ma);be(this,Ma,t=>{if(!$f&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Hs)||this.setEventListener(B(this,Ma))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Hs))==null||t.call(this),be(this,Hs,void 0))}setEventListener(t){var n;be(this,Ma,t),(n=B(this,Hs))==null||n.call(this),be(this,Hs,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ia)!==t&&(be(this,Ia,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,Ia)}},Ia=new WeakMap,Hs=new WeakMap,Ma=new WeakMap,Tk),Oh=new $U;function FU(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function VU(e){return Math.min(1e3*2**e,3e4)}function EN(e){return(e??"online")==="online"?Oh.isOnline():!0}var kN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function om(e){return e instanceof kN}function CN(e){let t=!1,n=0,r=!1,s;const i=FU(),o=p=>{var b;r||(f(new kN(p)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>_N.isFocused()&&(e.networkMode==="always"||Oh.isOnline())&&e.canRun(),d=()=>EN(e.networkMode)&&e.canRun(),h=p=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,p),s==null||s(),i.resolve(p))},f=p=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var b;s=y=>{(r||u())&&p(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(r)return;let p;const b=n===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var j;if(r)return;const w=e.retry??($f?0:3),S=e.retryDelay??VU,_=typeof S=="function"?S(n,y):S,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!C){f(y);return}n++,(j=e.onFail)==null||j.call(e,n,y),OU(_).then(()=>u()?void 0:m()).then(()=>{t?f(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),i)}}var UU=e=>setTimeout(e,0);function BU(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=UU;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var tn=BU(),to,Nk,jN=(Nk=class{constructor(){Oe(this,to)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AU(this.gcTime)&&be(this,to,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($f?1/0:5*60*1e3))}clearGcTimeout(){B(this,to)&&(clearTimeout(B(this,to)),be(this,to,void 0))}},to=new WeakMap,Nk),Da,no,Dn,ro,qt,ru,so,hr,Zr,Ak,zU=(Ak=class extends jN{constructor(t){super();Oe(this,hr);Oe(this,Da);Oe(this,no);Oe(this,Dn);Oe(this,ro);Oe(this,qt);Oe(this,ru);Oe(this,so);be(this,so,!1),be(this,ru,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,ro,t.client),be(this,Dn,B(this,ro).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,Da,WU(this.options)),this.state=t.state??B(this,Da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,qt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,ru),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Dn).remove(this)}setData(t,n){const r=IU(this.state.data,t,this.options);return Vt(this,hr,Zr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Vt(this,hr,Zr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,qt))==null?void 0:r.promise;return(s=B(this,qt))==null||s.cancel(t),n?n.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Da))}isActive(){return this.observers.some(t=>RU(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===e0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>hv(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!PU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,qt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,qt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,qt)&&(B(this,so)?B(this,qt).cancel({revert:!0}):B(this,qt).cancelRetry()),this.scheduleGc()),B(this,Dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,hr,Zr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,qt))return B(this,qt).continueRetry(),B(this,qt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,so,!0),r.signal)})},i=()=>{const f=SN(this.options,n),x=(()=>{const p={client:B(this,ro),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return be(this,so,!1),this.options.persister?this.options.persister(f,x,this):f(x)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,ro),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),be(this,no,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Vt(this,hr,Zr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,x,p,b;om(f)&&f.silent||Vt(this,hr,Zr).call(this,{type:"error",error:f}),om(f)||((x=(m=B(this,Dn).config).onError)==null||x.call(m,f,this),(b=(p=B(this,Dn).config).onSettled)==null||b.call(p,this.state.data,f,this)),this.scheduleGc()};return be(this,qt,CN({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,x,p,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(x=(m=B(this,Dn).config).onSuccess)==null||x.call(m,f,this),(b=(p=B(this,Dn).config).onSettled)==null||b.call(p,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{Vt(this,hr,Zr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Vt(this,hr,Zr).call(this,{type:"pause"})},onContinue:()=>{Vt(this,hr,Zr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,qt).start()}},Da=new WeakMap,no=new WeakMap,Dn=new WeakMap,ro=new WeakMap,qt=new WeakMap,ru=new WeakMap,so=new WeakMap,hr=new WeakSet,Zr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...qU(r.data,this.options),fetchMeta:t.meta??null};case"success":return be(this,no,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return om(s)&&s.revert&&B(this,no)?{...B(this,no),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),tn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,Dn).notify({query:this,type:"updated",action:t})})},Ak);function qU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function WU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ir,Pk,HU=(Pk=class extends Lf{constructor(t={}){super();Oe(this,Ir);this.config=t,be(this,Ir,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Zw(s,n);let o=this.get(i);return o||(o=new zU({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,Ir).has(t.queryHash)||(B(this,Ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Ir).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Ir).get(t)}getAll(){return[...B(this,Ir).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>SS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>SS(t,r)):n}notify(t){tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ir=new WeakMap,Pk),Mr,Xt,io,Dr,Ps,Rk,GU=(Rk=class extends jN{constructor(t){super();Oe(this,Dr);Oe(this,Mr);Oe(this,Xt);Oe(this,io);this.mutationId=t.mutationId,be(this,Xt,t.mutationCache),be(this,Mr,[]),this.state=t.state||KU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Mr).includes(t)||(B(this,Mr).push(t),this.clearGcTimeout(),B(this,Xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,Mr,B(this,Mr).filter(n=>n!==t)),this.scheduleGc(),B(this,Xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Mr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Xt).remove(this))}continue(){var t;return((t=B(this,io))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,c,u,d,h,f,m,x,p,b,y,w,S,_,C,j,T,P;const n=()=>{Vt(this,Dr,Ps).call(this,{type:"continue"})};be(this,io,CN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,I)=>{Vt(this,Dr,Ps).call(this,{type:"failed",failureCount:O,error:I})},onPause:()=>{Vt(this,Dr,Ps).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Xt).canRun(this)}));const r=this.state.status==="pending",s=!B(this,io).canStart();try{if(r)n();else{Vt(this,Dr,Ps).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=B(this,Xt).config).onMutate)==null?void 0:o.call(i,t,this));const I=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,t));I!==this.state.context&&Vt(this,Dr,Ps).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const O=await B(this,io).start();return await((d=(u=B(this,Xt).config).onSuccess)==null?void 0:d.call(u,O,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,O,t,this.state.context)),await((x=(m=B(this,Xt).config).onSettled)==null?void 0:x.call(m,O,null,this.state.variables,this.state.context,this)),await((b=(p=this.options).onSettled)==null?void 0:b.call(p,O,null,t,this.state.context)),Vt(this,Dr,Ps).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(y=B(this,Xt).config).onError)==null?void 0:w.call(y,O,t,this.state.context,this)),await((_=(S=this.options).onError)==null?void 0:_.call(S,O,t,this.state.context)),await((j=(C=B(this,Xt).config).onSettled)==null?void 0:j.call(C,void 0,O,this.state.variables,this.state.context,this)),await((P=(T=this.options).onSettled)==null?void 0:P.call(T,void 0,O,t,this.state.context)),O}finally{Vt(this,Dr,Ps).call(this,{type:"error",error:O})}}finally{B(this,Xt).runNext(this)}}},Mr=new WeakMap,Xt=new WeakMap,io=new WeakMap,Dr=new WeakSet,Ps=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tn.batch(()=>{B(this,Mr).forEach(r=>{r.onMutationUpdate(t)}),B(this,Xt).notify({mutation:this,type:"updated",action:t})})},Rk);function KU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var os,fr,su,Ok,JU=(Ok=class extends Lf{constructor(t={}){super();Oe(this,os);Oe(this,fr);Oe(this,su);this.config=t,be(this,os,new Set),be(this,fr,new Map),be(this,su,0)}build(t,n,r){const s=new GU({mutationCache:this,mutationId:++Nu(this,su)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){B(this,os).add(t);const n=Qu(t);if(typeof n=="string"){const r=B(this,fr).get(n);r?r.push(t):B(this,fr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,os).delete(t)){const n=Qu(t);if(typeof n=="string"){const r=B(this,fr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&B(this,fr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qu(t);if(typeof n=="string"){const r=B(this,fr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Qu(t);if(typeof n=="string"){const s=(r=B(this,fr).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tn.batch(()=>{B(this,os).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,os).clear(),B(this,fr).clear()})}getAll(){return Array.from(B(this,os))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_S(n,r))}findAll(t={}){return this.getAll().filter(n=>_S(t,n))}notify(t){tn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(t.map(n=>n.continue().catch(ur))))}},os=new WeakMap,fr=new WeakMap,su=new WeakMap,Ok);function Qu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function CS(e){return{onFetch:(t,n)=>{var d,h,f,m,x;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=SN(t.options,t.fetchOptions),w=async(S,_,C)=>{if(p)return Promise.reject();if(_==null&&S.pages.length)return Promise.resolve(S);const T=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:_,direction:C?"backward":"forward",meta:t.options.meta};return b(R),R})(),P=await y(T),{maxPages:O}=t.options,I=C?DU:MU;return{pages:I(S.pages,P,O),pageParams:I(S.pageParams,_,O)}};if(s&&i.length){const S=s==="backward",_=S?YU:jS,C={pages:i,pageParams:o},j=_(r,C);a=await w(C,j,S)}else{const S=e??i.length;do{const _=c===0?o[0]??r.initialPageParam:jS(r,a);if(c>0&&_==null)break;a=await w(a,_),c++}while(c<S)}return a};t.options.persister?t.fetchFn=()=>{var p,b;return(b=(p=t.options).persister)==null?void 0:b.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function jS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YU(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var st,Gs,Ks,La,$a,Js,Fa,Va,Ik,QU=(Ik=class{constructor(e={}){Oe(this,st);Oe(this,Gs);Oe(this,Ks);Oe(this,La);Oe(this,$a);Oe(this,Js);Oe(this,Fa);Oe(this,Va);be(this,st,e.queryCache||new HU),be(this,Gs,e.mutationCache||new JU),be(this,Ks,e.defaultOptions||{}),be(this,La,new Map),be(this,$a,new Map),be(this,Js,0)}mount(){Nu(this,Js)._++,B(this,Js)===1&&(be(this,Fa,_N.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,st).onFocus())})),be(this,Va,Oh.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,st).onOnline())})))}unmount(){var e,t;Nu(this,Js)._--,B(this,Js)===0&&((e=B(this,Fa))==null||e.call(this),be(this,Fa,void 0),(t=B(this,Va))==null||t.call(this),be(this,Va,void 0))}isFetching(e){return B(this,st).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Gs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,st).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,st).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(hv(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return B(this,st).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,st).get(r.queryHash),i=s==null?void 0:s.state.data,o=NU(t,i);if(o!==void 0)return B(this,st).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return tn.batch(()=>B(this,st).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,st).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,st);tn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,st);return tn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=tn.batch(()=>B(this,st).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ur).catch(ur)}invalidateQueries(e,t={}){return tn.batch(()=>(B(this,st).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=tn.batch(()=>B(this,st).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ur)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,st).build(this,t);return n.isStaleByTime(hv(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=CS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=CS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Oh.isOnline()?B(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,st)}getMutationCache(){return B(this,Gs)}getDefaultOptions(){return B(this,Ks)}setDefaultOptions(e){be(this,Ks,e)}setQueryDefaults(e,t){B(this,La).set(Vc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,La).values()],n={};return t.forEach(r=>{Uc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){B(this,$a).set(Vc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,$a).values()],n={};return t.forEach(r=>{Uc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Ks).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===e0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Ks).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,st).clear(),B(this,Gs).clear()}},st=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,La=new WeakMap,$a=new WeakMap,Js=new WeakMap,Fa=new WeakMap,Va=new WeakMap,Ik),XU=g.createContext(void 0),ZU=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(XU.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bc.apply(this,arguments)}var Xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xs||(Xs={}));const TS="popstate";function eB(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return pv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ih(s)}return nB(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function TN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tB(){return Math.random().toString(36).substr(2,8)}function NS(e,t){return{usr:e.state,key:e.key,idx:t}}function pv(e,t,n,r){return n===void 0&&(n=null),Bc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fl(t):t,{state:n,key:t&&t.key||r||tB()})}function Ih(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nB(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Xs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Bc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Xs.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:a,location:p.location,delta:y})}function f(b,y){a=Xs.Push;let w=pv(p.location,b,y);u=d()+1;let S=NS(w,u),_=p.createHref(w);try{o.pushState(S,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}i&&c&&c({action:a,location:p.location,delta:1})}function m(b,y){a=Xs.Replace;let w=pv(p.location,b,y);u=d();let S=NS(w,u),_=p.createHref(w);o.replaceState(S,"",_),i&&c&&c({action:a,location:p.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:Ih(b);return w=w.replace(/ $/,"%20"),ut(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return a},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(TS,h),c=b,()=>{s.removeEventListener(TS,h),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(b){return o.go(b)}};return p}var AS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(AS||(AS={}));function rB(e,t,n){return n===void 0&&(n="/"),sB(e,t,n,!1)}function sB(e,t,n,r){let s=typeof t=="string"?fl(t):t,i=t0(s.pathname||"/",n);if(i==null)return null;let o=NN(e);iB(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=gB(i);a=pB(o[c],u,r)}return a}function NN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ci([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NN(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:hB(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of AN(i.path))s(i,o,c)}),t}function AN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=AN(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function iB(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fB(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oB=/^:[\w-]+$/,aB=3,lB=2,cB=1,uB=10,dB=-2,PS=e=>e==="*";function hB(e,t){let n=e.split("/"),r=n.length;return n.some(PS)&&(r+=dB),t&&(r+=lB),n.filter(s=>!PS(s)).reduce((s,i)=>s+(oB.test(i)?aB:i===""?cB:uB),r)}function fB(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function pB(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=RS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=RS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ci([i,h.pathname]),pathnameBase:xB(ci([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ci([i,h.pathnameBase]))}return o}function RS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mB(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=a[h];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function mB(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),TN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function gB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return TN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function t0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vB(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?fl(e):e;return{pathname:n?n.startsWith("/")?n:yB(n,t):t,search:bB(r),hash:SB(s)}}function yB(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function am(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function n0(e,t){let n=wB(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function r0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=fl(e):(s=Bc({},e),ut(!s.pathname||!s.pathname.includes("?"),am("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),am("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),am("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let c=vB(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),xB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _B(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PN=["post","put","patch","delete"];new Set(PN);const EB=["get",...PN];new Set(EB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zc.apply(this,arguments)}const s0=g.createContext(null),kB=g.createContext(null),Ei=g.createContext(null),Ff=g.createContext(null),Yr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),RN=g.createContext(null);function CB(e,t){let{relative:n}=t===void 0?{}:t;pl()||ut(!1);let{basename:r,navigator:s}=g.useContext(Ei),{hash:i,pathname:o,search:a}=IN(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ci([r,o])),s.createHref({pathname:c,search:a,hash:i})}function pl(){return g.useContext(Ff)!=null}function ki(){return pl()||ut(!1),g.useContext(Ff).location}function ON(e){g.useContext(Ei).static||g.useLayoutEffect(e)}function Ci(){let{isDataRoute:e}=g.useContext(Yr);return e?UB():jB()}function jB(){pl()||ut(!1);let e=g.useContext(s0),{basename:t,future:n,navigator:r}=g.useContext(Ei),{matches:s}=g.useContext(Yr),{pathname:i}=ki(),o=JSON.stringify(n0(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return ON(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=r0(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ci([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const TB=g.createContext(null);function NB(e){let t=g.useContext(Yr).outlet;return t&&g.createElement(TB.Provider,{value:e},t)}function i0(){let{matches:e}=g.useContext(Yr),t=e[e.length-1];return t?t.params:{}}function IN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(Ei),{matches:s}=g.useContext(Yr),{pathname:i}=ki(),o=JSON.stringify(n0(s,r.v7_relativeSplatPath));return g.useMemo(()=>r0(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function AB(e,t){return PB(e,t)}function PB(e,t,n,r){pl()||ut(!1);let{navigator:s}=g.useContext(Ei),{matches:i}=g.useContext(Yr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ki(),d;if(t){var h;let b=typeof t=="string"?fl(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||ut(!1),d=b}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=rB(e,{pathname:m}),p=DB(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ci([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ci([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&p?g.createElement(Ff.Provider,{value:{location:zc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xs.Pop}},p):p}function RB(){let e=VB(),t=_B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const OB=g.createElement(RB,null);class IB extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(Yr.Provider,{value:this.props.routeContext},g.createElement(RN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MB(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(s0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Yr.Provider,{value:t},r)}function DB(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ut(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,p=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,p=h.route.errorElement||OB,c&&(u<0&&f===0?(x=!0,b=null):u===f&&(x=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let S;return m?S=p:x?S=b:h.route.Component?S=g.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,g.createElement(MB,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(IB,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var MN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(MN||{}),Mh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mh||{});function LB(e){let t=g.useContext(s0);return t||ut(!1),t}function $B(e){let t=g.useContext(kB);return t||ut(!1),t}function FB(e){let t=g.useContext(Yr);return t||ut(!1),t}function DN(e){let t=FB(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function VB(){var e;let t=g.useContext(RN),n=$B(Mh.UseRouteError),r=DN(Mh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function UB(){let{router:e}=LB(MN.UseNavigateStable),t=DN(Mh.UseNavigateStable),n=g.useRef(!1);return ON(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zc({fromRouteId:t},i)))},[e,t])}function BB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zB(e){let{to:t,replace:n,state:r,relative:s}=e;pl()||ut(!1);let{future:i,static:o}=g.useContext(Ei),{matches:a}=g.useContext(Yr),{pathname:c}=ki(),u=Ci(),d=r0(t,n0(a,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function qB(e){return NB(e.context)}function zt(e){ut(!1)}function WB(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Xs.Pop,navigator:i,static:o=!1,future:a}=e;pl()&&ut(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:zc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=fl(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=r,p=g.useMemo(()=>{let b=t0(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:x},navigationType:s}},[c,d,h,f,m,x,s]);return p==null?null:g.createElement(Ei.Provider,{value:u},g.createElement(Ff.Provider,{children:n,value:p}))}function OS(e){let{children:t,location:n}=e;return AB(mv(t),n)}new Promise(()=>{});function mv(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let i=[...t,s];if(r.type===g.Fragment){n.push.apply(n,mv(r.props.children,i));return}r.type!==zt&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(this,arguments)}function HB(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function GB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KB(e,t){return e.button===0&&(!t||t==="_self")&&!GB(e)}function vv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function JB(e,t){let n=vv(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const YB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QB="6";try{window.__reactRouterVersion=QB}catch{}const XB="startTransition",IS=By[XB];function ZB(e){let{basename:t,children:n,future:r,window:s}=e,i=g.useRef();i.current==null&&(i.current=eB({window:s,v5Compat:!0}));let o=i.current,[a,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(h=>{u&&IS?IS(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>BB(r),[r]),g.createElement(WB,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const e3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=g.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=HB(t,YB),{basename:m}=g.useContext(Ei),x,p=!1;if(typeof u=="string"&&t3.test(u)&&(x=u,e3))try{let S=new URL(window.location.href),_=u.startsWith("//")?new URL(S.protocol+u):new URL(u),C=t0(_.pathname,m);_.origin===S.origin&&C!=null?u=C+_.search+_.hash:p=!0}catch{}let b=CB(u,{relative:s}),y=n3(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(S){r&&r(S),S.defaultPrevented||y(S)}return g.createElement("a",gv({},f,{href:x||b,onClick:p||i?r:w,ref:n,target:c}))});var MS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MS||(MS={}));var DS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DS||(DS={}));function n3(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Ci(),u=ki(),d=IN(e,{relative:o});return g.useCallback(h=>{if(KB(h,n)){h.preventDefault();let f=r!==void 0?r:Ih(u)===Ih(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,e,i,o,a])}function r3(e){let t=g.useRef(vv(e)),n=g.useRef(!1),r=ki(),s=g.useMemo(()=>JB(r.search,n.current?null:t.current),[r.search]),i=Ci(),o=g.useCallback((a,c)=>{const u=vv(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}const o0=jf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ce=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?y$:"button";return l.jsx(o,{className:ie(o0({variant:t,size:n,className:e})),ref:i,...s})});ce.displayName="Button";const Lt=g.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Lt.displayName="Input";const a0=g.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));a0.displayName="Textarea";var s3="Label",LN=g.forwardRef((e,t)=>l.jsx(fe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LN.displayName=s3;var $N=LN;const i3=jf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bt=g.forwardRef(({className:e,...t},n)=>l.jsx($N,{ref:n,className:ie(i3(),e),...t}));bt.displayName=$N.displayName;const l0=g.createContext({});function c0(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const u0=typeof window<"u",FN=u0?g.useLayoutEffect:g.useEffect,Vf=g.createContext(null);function d0(e,t){e.indexOf(t)===-1&&e.push(t)}function h0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Kr=(e,t,n)=>n>t?t:n<e?e:n;let Uf=()=>{},Xa=()=>{};const ws={},VN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function UN(e){return typeof e=="object"&&e!==null}const BN=e=>/^0[^.\s]+$/u.test(e);function f0(e){let t;return()=>(t===void 0&&(t=e()),t)}const qn=e=>e,o3=(e,t)=>n=>t(e(n)),vu=(...e)=>e.reduce(o3),qc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class p0{constructor(){this.subscriptions=[]}add(t){return d0(this.subscriptions,t),()=>h0(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qr=e=>e*1e3,Un=e=>e/1e3;function zN(e,t){return t?e*(1e3/t):0}const qN=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,a3=1e-7,l3=12;function c3(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=qN(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>a3&&++a<l3);return o}function yu(e,t,n,r){if(e===t&&n===r)return qn;const s=i=>c3(i,0,1,e,n);return i=>i===0||i===1?i:qN(s(i),t,r)}const WN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HN=e=>t=>1-e(1-t),GN=yu(.33,1.53,.69,.99),m0=HN(GN),KN=WN(m0),JN=e=>(e*=2)<1?.5*m0(e):.5*(2-Math.pow(2,-10*(e-1))),g0=e=>1-Math.sin(Math.acos(e)),YN=HN(g0),QN=WN(g0),u3=yu(.42,0,1,1),d3=yu(0,0,.58,1),XN=yu(.42,0,.58,1),h3=e=>Array.isArray(e)&&typeof e[0]!="number",ZN=e=>Array.isArray(e)&&typeof e[0]=="number",LS={linear:qn,easeIn:u3,easeInOut:XN,easeOut:d3,circIn:g0,circInOut:QN,circOut:YN,backIn:m0,backInOut:KN,backOut:GN,anticipate:JN},f3=e=>typeof e=="string",$S=e=>{if(ZN(e)){Xa(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return yu(t,n,r,s)}else if(f3(e))return Xa(LS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),LS[e];return e},Xu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],FS={value:null,addProjectionMetrics:null};function p3(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(d.schedule(h),e()),c++,h(a)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&s?n:r;return f&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&FS.value&&FS.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const m3=40;function eA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Xu.reduce((S,_)=>(S[_]=p3(i,t?_:void 0),S),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:x}=o,p=()=>{const S=ws.useManualTiming?s.timestamp:performance.now();n=!1,ws.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,m3),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),x.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},b=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Xu.reduce((S,_)=>{const C=o[_];return S[_]=(j,T=!1,P=!1)=>(n||b(),C.schedule(j,T,P)),S},{}),cancel:S=>{for(let _=0;_<Xu.length;_++)o[Xu[_]].cancel(S)},state:s,steps:o}}const{schedule:Je,cancel:gi,state:Mt,steps:lm}=eA(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0);let Vd;function g3(){Vd=void 0}const rn={now:()=>(Vd===void 0&&rn.set(Mt.isProcessing||ws.useManualTiming?Mt.timestamp:performance.now()),Vd),set:e=>{Vd=e,queueMicrotask(g3)}},tA=e=>t=>typeof t=="string"&&t.startsWith(e),nA=tA("--"),v3=tA("var(--"),v0=e=>v3(e)?y3.test(e.split("/*")[0].trim()):!1,y3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function VS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ml={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wc={...ml,transform:e=>Kr(0,1,e)},Zu={...ml,default:1},uc=e=>Math.round(e*1e5)/1e5,y0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function w3(e){return e==null}const x3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,w0=(e,t)=>n=>!!(typeof n=="string"&&x3.test(n)&&n.startsWith(e)||t&&!w3(n)&&Object.prototype.hasOwnProperty.call(n,t)),rA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(y0);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},b3=e=>Kr(0,255,e),cm={...ml,transform:e=>Math.round(b3(e))},Yi={test:w0("rgb","red"),parse:rA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+cm.transform(e)+", "+cm.transform(t)+", "+cm.transform(n)+", "+uc(Wc.transform(r))+")"};function S3(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const yv={test:w0("#"),parse:S3,transform:Yi.transform},wu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Rs=wu("deg"),Wr=wu("%"),re=wu("px"),_3=wu("vh"),E3=wu("vw"),US={...Wr,parse:e=>Wr.parse(e)/100,transform:e=>Wr.transform(e*100)},ua={test:w0("hsl","hue"),parse:rA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Wr.transform(uc(t))+", "+Wr.transform(uc(n))+", "+uc(Wc.transform(r))+")"},ft={test:e=>Yi.test(e)||yv.test(e)||ua.test(e),parse:e=>Yi.test(e)?Yi.parse(e):ua.test(e)?ua.parse(e):yv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yi.transform(e):ua.transform(e),getAnimatableNone:e=>{const t=ft.parse(e);return t.alpha=0,ft.transform(t)}},k3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(y0))==null?void 0:t.length)||0)+(((n=e.match(k3))==null?void 0:n.length)||0)>0}const sA="number",iA="color",j3="var",T3="var(",BS="${}",N3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(N3,c=>(ft.test(c)?(r.color.push(i),s.push(iA),n.push(ft.parse(c))):c.startsWith(T3)?(r.var.push(i),s.push(j3),n.push(c)):(r.number.push(i),s.push(sA),n.push(parseFloat(c))),++i,BS)).split(BS);return{values:n,split:a,indexes:r,types:s}}function oA(e){return Hc(e).values}function aA(e){const{split:t,types:n}=Hc(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===sA?i+=uc(s[o]):a===iA?i+=ft.transform(s[o]):i+=s[o]}return i}}const A3=e=>typeof e=="number"?0:ft.test(e)?ft.getAnimatableNone(e):e;function P3(e){const t=oA(e);return aA(e)(t.map(A3))}const vi={test:C3,parse:oA,createTransformer:aA,getAnimatableNone:P3};function um(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function R3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=um(c,a,e+1/3),i=um(c,a,e),o=um(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Dh(e,t){return n=>n>0?t:e}const tt=(e,t,n)=>e+(t-e)*n,dm=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},O3=[yv,Yi,ua],I3=e=>O3.find(t=>t.test(e));function zS(e){const t=I3(e);if(Uf(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===ua&&(n=R3(n)),n}const qS=(e,t)=>{const n=zS(e),r=zS(t);if(!n||!r)return Dh(e,t);const s={...n};return i=>(s.red=dm(n.red,r.red,i),s.green=dm(n.green,r.green,i),s.blue=dm(n.blue,r.blue,i),s.alpha=tt(n.alpha,r.alpha,i),Yi.transform(s))},wv=new Set(["none","hidden"]);function M3(e,t){return wv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function D3(e,t){return n=>tt(e,t,n)}function x0(e){return typeof e=="number"?D3:typeof e=="string"?v0(e)?Dh:ft.test(e)?qS:F3:Array.isArray(e)?lA:typeof e=="object"?ft.test(e)?qS:L3:Dh}function lA(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>x0(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function L3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=x0(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function $3(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const F3=(e,t)=>{const n=vi.createTransformer(t),r=Hc(e),s=Hc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?wv.has(e)&&!s.values.length||wv.has(t)&&!r.values.length?M3(e,t):vu(lA($3(r,s),s.values),n):(Uf(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Dh(e,t))};function cA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tt(e,t,n):x0(e)(e,t)}const V3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Je.update(t,n),stop:()=>gi(t),now:()=>Mt.isProcessing?Mt.timestamp:rn.now()}},uA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Lh=2e4;function b0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Lh;)t+=n,r=e.next(t);return t>=Lh?1/0:t}function U3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(b0(r),Lh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Un(s)}}const B3=5;function dA(e,t,n){const r=Math.max(t-B3,0);return zN(n-e(r),t-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hm=.001;function z3({duration:e=Ze.duration,bounce:t=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let s,i;Uf(e<=qr(Ze.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=Kr(Ze.minDamping,Ze.maxDamping,o),e=Kr(Ze.minDuration,Ze.maxDuration,Un(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,m=xv(u,o),x=Math.exp(-h);return hm-f/m*x},i=u=>{const h=u*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),p=xv(Math.pow(u,2),o);return(-s(u)+hm>0?-1:1)*((f-m)*x)/p}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-hm+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,c=W3(s,i,a);if(e=qr(e),isNaN(c))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const q3=12;function W3(e,t,n){let r=n;for(let s=1;s<q3;s++)r=r-e(r)/t(r);return r}function xv(e,t){return e*Math.sqrt(1-t*t)}const H3=["duration","bounce"],G3=["stiffness","damping","mass"];function WS(e,t){return t.some(n=>e[n]!==void 0)}function K3(e){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...e};if(!WS(e,G3)&&WS(e,H3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Kr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ze.mass,stiffness:s,damping:i}}else{const n=z3(e);t={...t,...n,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function $h(e=Ze.visualDuration,t=Ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=K3({...n,velocity:-Un(n.velocity||0)}),x=f||0,p=u/(2*Math.sqrt(c*d)),b=o-i,y=Un(Math.sqrt(c/d)),w=Math.abs(b)<5;r||(r=w?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=w?Ze.restDelta.granular:Ze.restDelta.default);let S;if(p<1){const C=xv(y,p);S=j=>{const T=Math.exp(-p*y*j);return o-T*((x+p*y*b)/C*Math.sin(C*j)+b*Math.cos(C*j))}}else if(p===1)S=C=>o-Math.exp(-y*C)*(b+(x+y*b)*C);else{const C=y*Math.sqrt(p*p-1);S=j=>{const T=Math.exp(-p*y*j),P=Math.min(C*j,300);return o-T*((x+p*y*b)*Math.sinh(P)+C*b*Math.cosh(P))/C}}const _={calculatedDuration:m&&h||null,next:C=>{const j=S(C);if(m)a.done=C>=h;else{let T=C===0?x:0;p<1&&(T=C===0?qr(x):dA(S,C,j));const P=Math.abs(T)<=r,O=Math.abs(o-j)<=s;a.done=P&&O}return a.value=a.done?o:j,a},toString:()=>{const C=Math.min(b0(_),Lh),j=uA(T=>_.next(C*T).value,C,30);return C+"ms "+j},toTransition:()=>{}};return _}$h.applyToOptions=e=>{const t=U3(e,100,$h);return e.ease=t.ease,e.duration=qr(t.duration),e.type="keyframes",e};function bv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=P=>a!==void 0&&P<a||c!==void 0&&P>c,x=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let p=n*t;const b=h+p,y=o===void 0?b:o(b);y!==b&&(p=y-h);const w=P=>-p*Math.exp(-P/r),S=P=>y+w(P),_=P=>{const O=w(P),I=S(P);f.done=Math.abs(O)<=u,f.value=f.done?y:I};let C,j;const T=P=>{m(f.value)&&(C=P,j=$h({keyframes:[f.value,x(f.value)],velocity:dA(S,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:P=>{let O=!1;return!j&&C===void 0&&(O=!0,_(P),T(P)),C!==void 0&&P>=C?j.next(P-C):(!O&&_(P),f)}}}function J3(e,t,n){const r=[],s=n||ws.mix||cA,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||qn:t;a=vu(c,a)}r.push(a)}return r}function Y3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Xa(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=J3(t,r,s),c=a.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=qc(e[h],e[h+1],d);return a[h](f)};return n?d=>u(Kr(e[0],e[i-1],d)):u}function Q3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=qc(0,t,r);e.push(tt(n,1,s))}}function X3(e){const t=[0];return Q3(t,e.length-1),t}function Z3(e,t){return e.map(n=>n*t)}function e5(e,t){return e.map(()=>t||XN).splice(0,e.length-1)}function dc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=h3(r)?r.map($S):$S(r),i={done:!1,value:t[0]},o=Z3(n&&n.length===t.length?n:X3(t),e),a=Y3(o,t,{ease:Array.isArray(s)?s:e5(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}const t5=e=>e!==null;function S0(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(t5),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const n5={decay:bv,inertia:bv,tween:dc,keyframes:dc,spring:$h};function hA(e){typeof e.type=="string"&&(e.type=n5[e.type])}class _0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const r5=e=>e/100;class E0 extends _0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hA(t);const{type:n=dc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const c=n||dc;c!==dc&&typeof a[0]!="number"&&(this.mixKeyframes=vu(r5,cA(a[0],a[1])),a=[0,100]);const u=c({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=b0(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:x,onUpdate:p,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,_=r;if(h){const P=Math.min(this.currentTime,s)/a;let O=Math.floor(P),I=P%1;!I&&P>=1&&(I=1),I===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(f==="reverse"?(I=1-I,m&&(I-=m/a)):f==="mirror"&&(_=o)),S=Kr(0,1,I)*a}const C=w?{done:!1,value:d[0]}:_.next(S);i&&(C.value=i(C.value));let{done:j}=C;!w&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&x!==bv&&(C.value=S0(d,this.options,b,this.speed)),p&&p(C.value),T&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return Un(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(this.currentTime)}set time(t){var n;t=qr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(rn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Un(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=V3,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function s5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Qi=e=>e*180/Math.PI,Sv=e=>{const t=Qi(Math.atan2(e[1],e[0]));return _v(t)},i5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Sv,rotateZ:Sv,skewX:e=>Qi(Math.atan(e[1])),skewY:e=>Qi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_v=e=>(e=e%360,e<0&&(e+=360),e),HS=Sv,GS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),KS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),o5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GS,scaleY:KS,scale:e=>(GS(e)+KS(e))/2,rotateX:e=>_v(Qi(Math.atan2(e[6],e[5]))),rotateY:e=>_v(Qi(Math.atan2(-e[2],e[0]))),rotateZ:HS,rotate:HS,skewX:e=>Qi(Math.atan(e[4])),skewY:e=>Qi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ev(e){return e.includes("scale")?1:0}function kv(e,t){if(!e||e==="none")return Ev(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=o5,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=i5,s=a}if(!s)return Ev(t);const i=r[t],o=s[1].split(",").map(l5);return typeof i=="function"?i(o):o[i]}const a5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return kv(n,t)};function l5(e){return parseFloat(e.trim())}const gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vl=new Set(gl),JS=e=>e===ml||e===re,c5=new Set(["x","y","z"]),u5=gl.filter(e=>!c5.has(e));function d5(e){const t=[];return u5.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Zs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>kv(t,"x"),y:(e,{transform:t})=>kv(t,"y")};Zs.translateX=Zs.x;Zs.translateY=Zs.y;const co=new Set;let Cv=!1,jv=!1,Tv=!1;function fA(){if(jv){const e=Array.from(co).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=d5(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jv=!1,Cv=!1,co.forEach(e=>e.complete(Tv)),co.clear()}function pA(){co.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jv=!0)})}function h5(){Tv=!0,pA(),fA(),Tv=!1}class k0{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(co.add(this),Cv||(Cv=!0,Je.read(pA),Je.resolveKeyframes(fA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}s5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),co.delete(this)}cancel(){this.state==="scheduled"&&(co.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const f5=e=>e.startsWith("--");function p5(e,t,n){f5(t)?e.style.setProperty(t,n):e.style[t]=n}const m5=f0(()=>window.ScrollTimeline!==void 0),g5={};function v5(e,t){const n=f0(e);return()=>g5[t]??n()}const mA=v5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,YS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wl([0,.65,.55,1]),circOut:Wl([.55,0,1,.45]),backIn:Wl([.31,.01,.66,-.59]),backOut:Wl([.33,1.53,.69,.99])};function gA(e,t){if(e)return typeof e=="function"?mA()?uA(e,t):"ease-out":ZN(e)?Wl(e):Array.isArray(e)?e.map(n=>gA(n,t)||YS.easeOut):YS[e]}function y5(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=gA(a,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function vA(e){return typeof e=="function"&&"applyToOptions"in e}function w5({type:e,...t}){return vA(e)&&mA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class x5 extends _0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Xa(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=w5(t);this.animation=y5(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=S0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):p5(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Un(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Un(t)}get time(){return Un(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=qr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&m5()?(this.animation.timeline=t,qn):n(this)}}const yA={anticipate:JN,backInOut:KN,circInOut:QN};function b5(e){return e in yA}function S5(e){typeof e.ease=="string"&&b5(e.ease)&&(e.ease=yA[e.ease])}const fm=10;class _5 extends x5{constructor(t){S5(t),hA(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new E0({...o,autoplay:!1}),c=Math.max(fm,rn.now()-this.startTime),u=Kr(0,fm,c-fm);n.setWithVelocity(a.sample(Math.max(0,c-u)).value,a.sample(c).value,u),a.stop()}}const QS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vi.test(e)||e==="0")&&!e.startsWith("url("));function E5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function k5(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=QS(s,t),a=QS(i,t);return Uf(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:E5(e)||(n==="spring"||vA(n))&&r}function Nv(e){e.duration=0,e.type="keyframes"}const C5=new Set(["opacity","clipPath","filter","transform"]),j5=f0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function T5(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return j5()&&n&&C5.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const N5=40;class A5 extends _0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:d,...h}){var x;super(),this.stop=()=>{var p,b;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=rn.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||k0;this.keyframeResolver=new m(a,(p,b,y)=>this.onKeyframesResolved(p,b,f,!y),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=rn.now(),k5(t,i,o,a)||((ws.instantAnimations||!c)&&(d==null||d(S0(t,r,n))),t[0]=t[t.length-1],Nv(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>N5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&T5(f)?new _5({...f,element:f.motionValue.owner.current}):new E0(f);m.finished.then(()=>this.notifyFinished()).catch(qn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),h5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const P5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function R5(e){const t=P5.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const O5=4;function wA(e,t,n=1){Xa(n<=O5,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=R5(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return VN(o)?parseFloat(o):o}return v0(s)?wA(s,t,n+1):s}function C0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const xA=new Set(["width","height","top","left","right","bottom",...gl]),I5={test:e=>e==="auto",parse:e=>e},bA=e=>t=>t.test(e),SA=[ml,re,Wr,Rs,E3,_3,I5],XS=e=>SA.find(bA(e));function M5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||BN(e):!0}const D5=new Set(["brightness","contrast","saturate","opacity"]);function L5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(y0)||[];if(!r)return e;const s=n.replace(r,"");let i=D5.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const $5=/\b([a-z-]*)\(.*?\)/gu,Av={...vi,getAnimatableNone:e=>{const t=e.match($5);return t?t.map(L5).join(" "):e}},ZS={...ml,transform:Math.round},F5={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:Zu,scaleX:Zu,scaleY:Zu,scaleZ:Zu,skew:Rs,skewX:Rs,skewY:Rs,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Wc,originX:US,originY:US,originZ:re},j0={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,inset:re,insetBlock:re,insetBlockStart:re,insetBlockEnd:re,insetInline:re,insetInlineStart:re,insetInlineEnd:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,paddingBlock:re,paddingBlockStart:re,paddingBlockEnd:re,paddingInline:re,paddingInlineStart:re,paddingInlineEnd:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,marginBlock:re,marginBlockStart:re,marginBlockEnd:re,marginInline:re,marginInlineStart:re,marginInlineEnd:re,backgroundPositionX:re,backgroundPositionY:re,...F5,zIndex:ZS,fillOpacity:Wc,strokeOpacity:Wc,numOctaves:ZS},V5={...j0,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:Av,WebkitFilter:Av},_A=e=>V5[e];function EA(e,t){let n=_A(e);return n!==Av&&(n=vi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const U5=new Set(["auto","none","0"]);function B5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!U5.has(i)&&Hc(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=EA(n,s)}class z5 extends k0{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),v0(h))){const f=wA(h,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!xA.has(r)||t.length!==2)return;const[s,i]=t,o=XS(s),a=XS(i),c=VS(s),u=VS(i);if(c!==u&&Zs[r]){this.needsMeasurement=!0;return}if(o!==a)if(JS(o)&&JS(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Zs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||M5(t[s]))&&r.push(s);r.length&&B5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Zs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function q5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const kA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function CA(e){return UN(e)&&"offsetHeight"in e}const e_=30,W5=e=>!isNaN(parseFloat(e));class H5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=rn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=rn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=W5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new p0);const r=this.events[t].add(n);return t==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>e_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e_);return zN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Za(e,t){return new H5(e,t)}const{schedule:T0,cancel:fQ}=eA(queueMicrotask,!1),or={x:!1,y:!1};function jA(){return or.x||or.y}function G5(e){return e==="x"||e==="y"?or[e]?null:(or[e]=!0,()=>{or[e]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function TA(e,t){const n=q5(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function t_(e){return!(e.pointerType==="touch"||jA())}function K5(e,t,n={}){const[r,s,i]=TA(e,n),o=a=>{if(!t_(a))return;const{target:c}=a,u=t(c,a);if(typeof u!="function"||!c)return;const d=h=>{t_(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const NA=(e,t)=>t?e===t?!0:NA(e,t.parentElement):!1,N0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AA(e){return J5.has(e.tagName)||e.isContentEditable===!0}const Ud=new WeakSet;function n_(e){return t=>{t.key==="Enter"&&e(t)}}function pm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y5=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=n_(()=>{if(Ud.has(n))return;pm(n,"down");const s=n_(()=>{pm(n,"up")}),i=()=>pm(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function r_(e){return N0(e)&&!jA()}function Q5(e,t,n={}){const[r,s,i]=TA(e,n),o=a=>{const c=a.currentTarget;if(!r_(a))return;Ud.add(c);const u=t(c,a),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Ud.has(c)&&Ud.delete(c),r_(m)&&typeof u=="function"&&u(m,{success:x})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||NA(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),CA(a)&&(a.addEventListener("focus",u=>Y5(u,s)),!AA(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function PA(e){return UN(e)&&"ownerSVGElement"in e}function X5(e){return PA(e)&&e.tagName==="svg"}const Gt=e=>!!(e&&e.getVelocity),Z5=[...SA,ft,vi],e8=e=>Z5.find(bA(e)),A0=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function s_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function t8(...e){return t=>{let n=!1;const r=e.map(s=>{const i=s_(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():s_(e[s],null)}}}}function n8(...e){return g.useCallback(t8(...e),e)}class r8 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=CA(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function s8({children:e,isPresent:t,anchorX:n,root:r}){var d;const s=g.useId(),i=g.useRef(null),o=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=g.useContext(A0),c=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=n8(i,c);return g.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:x,right:p}=o.current;if(t||!i.current||!h||!f)return;const b=n==="left"?`left: ${x}`:`right: ${p}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),l.jsx(r8,{isPresent:t,childRef:i,sizeRef:o,children:g.cloneElement(e,{ref:u})})}const i8=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:c})=>{const u=c0(o8),d=g.useId();let h=!0,f=g.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const x of u.values())if(!x)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return i&&h&&(f={...f}),g.useMemo(()=>{u.forEach((m,x)=>u.set(x,!1))},[n]),g.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=l.jsx(s8,{isPresent:n,anchorX:a,root:c,children:e})),l.jsx(Vf.Provider,{value:f,children:e})};function o8(){return new Map}function RA(e=!0){const t=g.useContext(Vf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=g.useId();g.useEffect(()=>{if(e)return s(i)},[e]);const o=g.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const ed=e=>e.key||"";function i_(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const yi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[u,d]=RA(o),h=g.useMemo(()=>i_(e),[e]),f=o&&!u?[]:h.map(ed),m=g.useRef(!0),x=g.useRef(h),p=c0(()=>new Map),b=g.useRef(new Set),[y,w]=g.useState(h),[S,_]=g.useState(h);FN(()=>{m.current=!1,x.current=h;for(let T=0;T<S.length;T++){const P=ed(S[T]);f.includes(P)?(p.delete(P),b.current.delete(P)):p.get(P)!==!0&&p.set(P,!1)}},[S,f.length,f.join("-")]);const C=[];if(h!==y){let T=[...h];for(let P=0;P<S.length;P++){const O=S[P],I=ed(O);f.includes(I)||(T.splice(P,0,O),C.push(O))}return i==="wait"&&C.length&&(T=C),_(i_(T)),w(h),null}const{forceRender:j}=g.useContext(l0);return l.jsx(l.Fragment,{children:S.map(T=>{const P=ed(T),O=o&&!u?!1:h===S||f.includes(P),I=()=>{if(b.current.has(P))return;if(b.current.add(P),p.has(P))p.set(P,!0);else return;let R=!0;p.forEach(D=>{D||(R=!1)}),R&&(j==null||j(),_(x.current),o&&(d==null||d()),r&&r())};return l.jsx(i8,{isPresent:O,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:O?void 0:I,anchorX:a,children:T},P)})})},OA=g.createContext({strict:!1}),o_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const e in o_)el[e]={isEnabled:t=>o_[e].some(n=>!!t[n])};function a8(e){for(const t in e)el[t]={...el[t],...e[t]}}const l8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||l8.has(e)}let IA=e=>!Fh(e);function c8(e){typeof e=="function"&&(IA=t=>t.startsWith("on")?!Fh(t):e(t))}try{c8(require("@emotion/is-prop-valid").default)}catch{}function u8(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(IA(s)||n===!0&&Fh(s)||!t&&!Fh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Bf=g.createContext({});function zf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Gc(e){return typeof e=="string"||Array.isArray(e)}const P0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R0=["initial",...P0];function qf(e){return zf(e.animate)||R0.some(t=>Gc(e[t]))}function MA(e){return!!(qf(e)||e.variants)}function d8(e,t){if(qf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Gc(n)?n:void 0,animate:Gc(r)?r:void 0}}return e.inherit!==!1?t:{}}function h8(e){const{initial:t,animate:n}=d8(e,g.useContext(Bf));return g.useMemo(()=>({initial:t,animate:n}),[a_(t),a_(n)])}function a_(e){return Array.isArray(e)?e.join(" "):e}function l_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ll={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=l_(e,t.target.x),r=l_(e,t.target.y);return`${n}% ${r}%`}},f8={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=vi.parse(e);if(s.length>5)return r;const i=vi.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=tt(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Pv={borderRadius:{...Ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ll,borderTopRightRadius:Ll,borderBottomLeftRadius:Ll,borderBottomRightRadius:Ll,boxShadow:f8};function DA(e,{layout:t,layoutId:n}){return vl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pv[e]||e==="opacity")}const p8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m8=gl.length;function g8(e,t,n){let r="",s=!0;for(let i=0;i<m8;i++){const o=gl[i],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=kA(a,j0[o]);if(!c){s=!1;const d=p8[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function O0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const c in t){const u=t[c];if(vl.has(c)){o=!0;continue}else if(nA(c)){s[c]=u;continue}else{const d=kA(u,j0[c]);c.startsWith("origin")?(a=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=g8(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const I0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LA(e,t,n){for(const r in t)!Gt(t[r])&&!DA(r,n)&&(e[r]=t[r])}function v8({transformTemplate:e},t){return g.useMemo(()=>{const n=I0();return O0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function y8(e,t){const n=e.style||{},r={};return LA(r,n,e),Object.assign(r,v8(e,t)),r}function w8(e,t){const n={},r=y8(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const x8={offset:"stroke-dashoffset",array:"stroke-dasharray"},b8={offset:"strokeDashoffset",array:"strokeDasharray"};function S8(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?x8:b8;e[i.offset]=re.transform(-r);const o=re.transform(t),a=re.transform(n);e[i.array]=`${o} ${a}`}const _8=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function $A(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},c,u,d){if(O0(e,a,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of _8)h[m]!==void 0&&(f[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&S8(h,s,i,o,!1)}const FA=()=>({...I0(),attrs:{}}),VA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function E8(e,t,n,r){const s=g.useMemo(()=>{const i=FA();return $A(i,t,VA(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};LA(i,e.style,e),s.style={...i,...s.style}}return s}const k8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function M0(e){return typeof e!="string"||e.includes("-")?!1:!!(k8.indexOf(e)>-1||/[A-Z]/u.test(e))}function C8(e,t,n,{latestValues:r},s,i=!1,o){const c=(o??M0(e)?E8:w8)(t,r,s,e),u=u8(t,typeof e=="string",i),d=e!==g.Fragment?{...u,...c,ref:n}:{},{children:h}=t,f=g.useMemo(()=>Gt(h)?h.get():h,[h]);return g.createElement(e,{...d,children:f})}function c_(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function D0(e,t,n,r){if(typeof t=="function"){const[s,i]=c_(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=c_(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Bd(e){return Gt(e)?e.get():e}function j8({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:T8(n,r,s,e),renderState:t()}}function T8(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Bd(i[f]);let{initial:o,animate:a}=e;const c=qf(e),u=MA(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!zf(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=D0(e,f[m]);if(x){const{transitionEnd:p,transition:b,...y}=x;for(const w in y){let S=y[w];if(Array.isArray(S)){const _=d?S.length-1:0;S=S[_]}S!==null&&(s[w]=S)}for(const w in p)s[w]=p[w]}}}return s}const UA=e=>(t,n)=>{const r=g.useContext(Bf),s=g.useContext(Vf),i=()=>j8(e,t,r,s);return n?i():c0(i)};function L0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Gt(r[o])||t.style&&Gt(t.style[o])||DA(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const N8=UA({scrapeMotionValuesFromProps:L0,createRenderState:I0});function BA(e,t,n){const r=L0(e,t,n);for(const s in e)if(Gt(e[s])||Gt(t[s])){const i=gl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const A8=UA({scrapeMotionValuesFromProps:BA,createRenderState:FA}),P8=Symbol.for("motionComponentSymbol");function R8(e,t,n){const r=g.useRef(n);g.useInsertionEffect(()=>{r.current=n});const s=g.useRef(null);return g.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const c=o(i);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const $0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),O8="framerAppearId",zA="data-"+$0(O8),qA=g.createContext({});function Hl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function I8(e,t,n,r,s,i){var b,y;const{visualElement:o}=g.useContext(Bf),a=g.useContext(OA),c=g.useContext(Vf),u=g.useContext(A0).reducedMotion,d=g.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const h=d.current,f=g.useContext(qA);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&M8(d.current,n,s,f);const m=g.useRef(!1);g.useInsertionEffect(()=>{h&&m.current&&h.update(n,c)});const x=n[zA],p=g.useRef(!!x&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,x))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,x)));return FN(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),p.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!p.current&&h.animationState&&h.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,x)}),p.current=!1),h.enteringChildren=void 0)}),h}function M8(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:WA(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Hl(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function WA(e){if(e)return e.options.allowProjection!==!1?e.projection:WA(e.parent)}function mm(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&a8(r);const i=n?n==="svg":M0(e),o=i?A8:N8;function a(u,d){let h;const f={...g.useContext(A0),...u,layoutId:D8(u)},{isStatic:m}=f,x=h8(u),p=o(u,m);if(!m&&u0){L8();const b=$8(f);h=b.MeasureLayout,x.visualElement=I8(e,p,f,s,b.ProjectionNode,i)}return l.jsxs(Bf.Provider,{value:x,children:[h&&x.visualElement?l.jsx(h,{visualElement:x.visualElement,...f}):null,C8(e,u,R8(p,x.visualElement,d),p,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=g.forwardRef(a);return c[P8]=e,c}function D8({layoutId:e}){const t=g.useContext(l0).id;return t&&e!==void 0?t+"-"+e:e}function L8(e,t){g.useContext(OA).strict}function $8(e){const{drag:t,layout:n}=el;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function F8(e,t){if(typeof Proxy>"u")return mm;const n=new Map,r=(i,o)=>mm(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,mm(o,void 0,e,t)),n.get(o))})}function HA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function V8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gm(e){return e===void 0||e===1}function Rv({scale:e,scaleX:t,scaleY:n}){return!gm(e)||!gm(t)||!gm(n)}function Vi(e){return Rv(e)||GA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function GA(e){return u_(e.x)||u_(e.y)}function u_(e){return e&&e!=="0%"}function Vh(e,t,n){const r=e-n,s=t*r;return n+s}function d_(e,t,n,r,s){return s!==void 0&&(e=Vh(e,s,r)),Vh(e,n,r)+t}function Ov(e,t=0,n=1,r,s){e.min=d_(e.min,t,n,r,s),e.max=d_(e.max,t,n,r,s)}function KA(e,{x:t,y:n}){Ov(e.x,t.translate,t.scale,t.originPoint),Ov(e.y,n.translate,n.scale,n.originPoint)}const h_=.999999999999,f_=1.0000000000001;function B8(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ha(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,KA(e,o)),r&&Vi(i.latestValues)&&ha(e,i.latestValues))}t.x<f_&&t.x>h_&&(t.x=1),t.y<f_&&t.y>h_&&(t.y=1)}function da(e,t){e.min=e.min+t,e.max=e.max+t}function p_(e,t,n,r,s=.5){const i=tt(e.min,e.max,s);Ov(e,t,n,i,r)}function ha(e,t){p_(e.x,t.x,t.scaleX,t.scale,t.originX),p_(e.y,t.y,t.scaleY,t.scale,t.originY)}function JA(e,t){return HA(U8(e.getBoundingClientRect(),t))}function z8(e,t,n){const r=JA(e,n),{scroll:s}=t;return s&&(da(r.x,s.offset.x),da(r.y,s.offset.y)),r}const m_=()=>({translate:0,scale:1,origin:0,originPoint:0}),fa=()=>({x:m_(),y:m_()}),g_=()=>({min:0,max:0}),yt=()=>({x:g_(),y:g_()}),Iv={current:null},YA={current:!1};function q8(){if(YA.current=!0,!!u0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Iv.current=e.matches;e.addEventListener("change",t),t()}else Iv.current=!1}const W8=new WeakMap;function H8(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Gt(s))e.addValue(r,s);else if(Gt(i))e.addValue(r,Za(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Za(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const v_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G8{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=rn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Je.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=qf(n),this.isVariantNode=MA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Gt(m)&&m.set(c[f])}}mount(t){var n;this.current=t,W8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(YA.current||q8(),this.shouldReduceMotion=Iv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),gi(this.notifyUpdate),gi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=vl.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in el){const n=el[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<v_.length;r++){const s=v_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=H8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Za(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(VN(r)||BN(r))?r=parseFloat(r):!e8(r)&&vi.test(n)&&(r=EA(t,n)),this.setBaseTarget(t,Gt(r)?r.get():r)),Gt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=D0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Gt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new p0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){T0.render(this.render)}}class QA extends G8{constructor(){super(...arguments),this.KeyframeResolver=z5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XA(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function K8(e){return window.getComputedStyle(e)}class J8 extends QA{constructor(){super(...arguments),this.type="html",this.renderInstance=XA}readValueFromInstance(t,n){var r;if(vl.has(n))return(r=this.projection)!=null&&r.isProjecting?Ev(n):a5(t,n);{const s=K8(t),i=(nA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return JA(t,n)}build(t,n,r){O0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return L0(t,n,r)}}const ZA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y8(e,t,n,r){XA(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(ZA.has(s)?s:$0(s),t.attrs[s])}class Q8 extends QA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(vl.has(n)){const r=_A(n);return r&&r.default||0}return n=ZA.has(n)?n:$0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return BA(t,n,r)}build(t,n,r){$A(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){Y8(t,n,r,s)}mount(t){this.isSVGTag=VA(t.tagName),super.mount(t)}}const X8=(e,t)=>t.isSVG??M0(e)?new Q8(t):new J8(t,{allowProjection:e!==g.Fragment});function ka(e,t,n){const r=e.getProps();return D0(r,t,n!==void 0?n:r.custom,e)}const Mv=e=>Array.isArray(e);function Z8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Za(n))}function ez(e){return Mv(e)?e[e.length-1]||0:e}function tz(e,t){const n=ka(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=ez(i[o]);Z8(e,o,a)}}function nz(e){return!!(Gt(e)&&e.add)}function Dv(e,t){const n=e.getValue("willChange");if(nz(n))return n.add(t);if(!n&&ws.WillChange){const r=new ws.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function eP(e){return e.props[zA]}const rz=e=>e!==null;function sz(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(rz),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const iz={type:"spring",stiffness:500,damping:25,restSpeed:10},oz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),az={type:"keyframes",duration:.8},lz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cz=(e,{keyframes:t})=>t.length>2?az:vl.has(e)?e.startsWith("scale")?oz(t[1]):iz:lz;function uz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const F0=(e,t,n,r={},s,i)=>o=>{const a=C0(r,e)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-qr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};uz(a)||Object.assign(d,cz(e,d)),d.duration&&(d.duration=qr(d.duration)),d.repeatDelay&&(d.repeatDelay=qr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Nv(d),d.delay===0&&(h=!0)),(ws.instantAnimations||ws.skipAnimations)&&(h=!0,Nv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=sz(d.keyframes,a);if(f!==void 0){Je.update(()=>{d.onUpdate(f),d.onComplete()});return}}return a.isSync?new E0(d):new A5(d)};function dz({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function tP(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),f=a[d];if(f===void 0||u&&dz(u,d))continue;const m={delay:n,...C0(i||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=eP(e);if(y){const w=window.MotionHandoffAnimation(y,d,Je);w!==null&&(m.startTime=w,p=!0)}}Dv(e,d),h.start(F0(d,h,f,e.shouldReduceMotion&&xA.has(d)?{type:!1}:m,e,p));const b=h.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Je.update(()=>{o&&tz(e,o)})}),c}function nP(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Lv(e,t,n={}){var c;const r=ka(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(tP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return hz(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,d]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function hz(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(Lv(c,t,{...o,delay:n+(typeof r=="function"?0:r)+nP(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function fz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Lv(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Lv(e,t,n);else{const s=typeof t=="function"?ka(e,t,n.custom):t;r=Promise.all(tP(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function rP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const pz=R0.length;function sP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?sP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<pz;n++){const r=R0[n],s=e.props[r];(Gc(s)||s===!1)&&(t[r]=s)}return t}const mz=[...P0].reverse(),gz=P0.length;function vz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>fz(e,n,r)))}function yz(e){let t=vz(e),n=y_(),r=!0;const s=c=>(u,d)=>{var f;const h=ka(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:x,...p}=h;u={...u,...p,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=sP(e.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let b=0;b<gz;b++){const y=mz[b],w=n[y],S=u[y]!==void 0?u[y]:d[y],_=Gc(S),C=y===c?w.isActive:null;C===!1&&(x=b);let j=S===d[y]&&S!==u[y]&&_;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...m},!w.isActive&&C===null||!S&&!w.prevProp||zf(S)||typeof S=="boolean")continue;const T=wz(w.prevProp,S);let P=T||y===c&&w.isActive&&!j&&_||b>x&&_,O=!1;const I=Array.isArray(S)?S:[S];let R=I.reduce(s(y),{});C===!1&&(R={});const{prevResolvedValues:D={}}=w,W={...D,...R},F=Y=>{P=!0,f.has(Y)&&(O=!0,f.delete(Y)),w.needsAnimating[Y]=!0;const L=e.getValue(Y);L&&(L.liveStyle=!1)};for(const Y in W){const L=R[Y],$=D[Y];if(m.hasOwnProperty(Y))continue;let z=!1;Mv(L)&&Mv($)?z=!rP(L,$):z=L!==$,z?L!=null?F(Y):f.add(Y):L!==void 0&&f.has(Y)?F(Y):w.protectedKeys[Y]=!0}w.prevProp=S,w.prevResolvedValues=R,w.isActive&&(m={...m,...R}),r&&e.blockInitialAnimation&&(P=!1);const Q=j&&T;P&&(!Q||O)&&h.push(...I.map(Y=>{const L={type:y};if(typeof Y=="string"&&r&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,z=ka($,Y);if($.enteringChildren&&z){const{delayChildren:ee}=z.transition||{};L.delay=nP($.enteringChildren,e,ee)}}return{animation:Y,options:L}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const y=ka(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(b.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),b[y]=w??null}),h.push({animation:b})}let p=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=y_()}}}function wz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rP(t,e):!1}function Pi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y_(){return{animate:Pi(!0),whileInView:Pi(),whileHover:Pi(),whileTap:Pi(),whileDrag:Pi(),whileFocus:Pi(),exit:Pi()}}class ji{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xz extends ji{constructor(t){super(t),t.animationState||(t.animationState=yz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let bz=0;class Sz extends ji{constructor(){super(...arguments),this.id=bz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _z={animation:{Feature:xz},exit:{Feature:Sz}};function Kc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xu(e){return{point:{x:e.pageX,y:e.pageY}}}const Ez=e=>t=>N0(t)&&e(t,xu(t));function hc(e,t,n,r){return Kc(e,t,Ez(n),r)}const iP=1e-4,kz=1-iP,Cz=1+iP,oP=.01,jz=0-oP,Tz=0+oP;function sn(e){return e.max-e.min}function Nz(e,t,n){return Math.abs(e-t)<=n}function w_(e,t,n,r=.5){e.origin=r,e.originPoint=tt(t.min,t.max,e.origin),e.scale=sn(n)/sn(t),e.translate=tt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=kz&&e.scale<=Cz||isNaN(e.scale))&&(e.scale=1),(e.translate>=jz&&e.translate<=Tz||isNaN(e.translate))&&(e.translate=0)}function fc(e,t,n,r){w_(e.x,t.x,n.x,r?r.originX:void 0),w_(e.y,t.y,n.y,r?r.originY:void 0)}function x_(e,t,n){e.min=n.min+t.min,e.max=e.min+sn(t)}function Az(e,t,n){x_(e.x,t.x,n.x),x_(e.y,t.y,n.y)}function b_(e,t,n){e.min=t.min-n.min,e.max=e.min+sn(t)}function Uh(e,t,n){b_(e.x,t.x,n.x),b_(e.y,t.y,n.y)}function Mn(e){return[e("x"),e("y")]}const aP=({current:e})=>e?e.ownerDocument.defaultView:null,S_=(e,t)=>Math.abs(e-t);function Pz(e,t){const n=S_(e.x,t.x),r=S_(e.y,t.y);return Math.sqrt(n**2+r**2)}const __=new Set(["auto","scroll"]);class lP{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ym(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,p=Pz(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!p)return;const{point:b}=m,{timestamp:y}=Mt;this.history.push({...b,timestamp:y});const{onStart:w,onMove:S}=this.handlers;x||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=vm(x,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ym(m.type==="pointercancel"?this.lastMoveEventInfo:vm(x,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,w),b&&b(m,w)},!N0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const c=xu(t),u=vm(c,this.transformPagePoint),{point:d}=u,{timestamp:h}=Mt;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,ym(u,this.history)),this.removeListeners=vu(hc(this.contextWindow,"pointermove",this.handlePointerMove),hc(this.contextWindow,"pointerup",this.handlePointerUp),hc(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(__.has(r.overflowX)||__.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Je.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),gi(this.updatePoint)}}function vm(e,t){return t?{point:t(e.point)}:e}function E_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ym({point:e},t){return{point:e,delta:E_(e,cP(t)),offset:E_(e,Rz(t)),velocity:Oz(t,.1)}}function Rz(e){return e[0]}function cP(e){return e[e.length-1]}function Oz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=cP(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>qr(t)));)n--;if(!r)return{x:0,y:0};const i=Un(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Iz(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?tt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?tt(n,e,r.max):Math.min(e,n)),e}function k_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Mz(e,{top:t,left:n,bottom:r,right:s}){return{x:k_(e.x,n,s),y:k_(e.y,t,r)}}function C_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Dz(e,t){return{x:C_(e.x,t.x),y:C_(e.y,t.y)}}function Lz(e,t){let n=.5;const r=sn(e),s=sn(t);return s>r?n=qc(t.min,t.max-r,e.min):r>s&&(n=qc(e.min,e.max-s,t.min)),Kr(0,1,n)}function $z(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $v=.35;function Fz(e=$v){return e===!1?e=0:e===!0&&(e=$v),{x:j_(e,"left","right"),y:j_(e,"top","bottom")}}function j_(e,t,n){return{min:T_(e,t),max:T_(e,n)}}function T_(e,t){return typeof e=="number"?e:e[t]||0}const Vz=new WeakMap;class Uz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(xu(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:m,dragPropagation:x,onDragStart:p}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=G5(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Wr.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const _=S.layout.layoutBox[y];_&&(w=sn(_)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&Je.postRender(()=>p(h,f)),Dv(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:p,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(x&&this.currentDirection===null){this.currentDirection=Bz(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),b&&b(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Mn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new lP(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:aP(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Je.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!td(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Iz(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Hl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Mz(r.layoutBox,t):this.constraints=!1,this.elastic=Fz(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$z(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hl(t))return!1;const r=t.current;Xa(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=z8(r,s.root,this.visualElement.getTransformPagePoint());let o=Dz(s.layout.layoutBox,i);if(n){const a=n(V8(o));this.hasMutatedConstraints=!!a,a&&(o=HA(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Mn(d=>{if(!td(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Dv(this.visualElement,t),r.start(F0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Mn(n=>{const{drag:r}=this.getProps();if(!td(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],c=i.get()||0;i.set(t[n]-tt(o,a,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=Lz({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(o=>{if(!td(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(tt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Vz.set(this.visualElement,this);const t=this.visualElement.current,n=hc(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!AA(c.target)&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Hl(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Je.read(r);const o=Kc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=$v,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function td(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Bz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zz extends ji{constructor(t){super(t),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new Uz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const N_=e=>(t,n)=>{e&&Je.postRender(()=>e(t,n))};class qz extends ji{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(t){this.session=new lP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:N_(t),onStart:N_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Je.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=hc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let wm=!1;class Wz extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),wm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,wm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Je.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),T0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;wm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uP(e){const[t,n]=RA(),r=g.useContext(l0);return l.jsx(Wz,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(qA),isPresent:t,safeToRemove:n})}function Hz(e,t,n){const r=Gt(e)?e:Za(e);return r.start(F0("",r,t,n)),r.animation}const Gz=(e,t)=>e.depth-t.depth;class Kz{constructor(){this.children=[],this.isDirty=!1}add(t){d0(this.children,t),this.isDirty=!0}remove(t){h0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Gz),this.isDirty=!1,this.children.forEach(t)}}function Jz(e,t){const n=rn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(gi(r),e(i-t))};return Je.setup(r,!0),()=>gi(r)}const dP=["TopLeft","TopRight","BottomLeft","BottomRight"],Yz=dP.length,A_=e=>typeof e=="string"?parseFloat(e):e,P_=e=>typeof e=="number"||re.test(e);function Qz(e,t,n,r,s,i){s?(e.opacity=tt(0,n.opacity??1,Xz(r)),e.opacityExit=tt(t.opacity??1,0,Zz(r))):i&&(e.opacity=tt(t.opacity??1,n.opacity??1,r));for(let o=0;o<Yz;o++){const a=`border${dP[o]}Radius`;let c=R_(t,a),u=R_(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||P_(c)===P_(u)?(e[a]=Math.max(tt(A_(c),A_(u),r),0),(Wr.test(u)||Wr.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=tt(t.rotate||0,n.rotate||0,r))}function R_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Xz=hP(0,.5,YN),Zz=hP(.5,.95,qn);function hP(e,t,n){return r=>r<e?0:r>t?1:n(qc(e,t,r))}function O_(e,t){e.min=t.min,e.max=t.max}function rr(e,t){O_(e.x,t.x),O_(e.y,t.y)}function I_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function M_(e,t,n,r,s){return e-=t,e=Vh(e,1/n,r),s!==void 0&&(e=Vh(e,1/s,r)),e}function e6(e,t=0,n=1,r=.5,s,i=e,o=e){if(Wr.test(t)&&(t=parseFloat(t),t=tt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=tt(i.min,i.max,r);e===i&&(a-=t),e.min=M_(e.min,t,n,a,s),e.max=M_(e.max,t,n,a,s)}function D_(e,t,[n,r,s],i,o){e6(e,t[n],t[r],t[s],t.scale,i,o)}const t6=["x","scaleX","originX"],n6=["y","scaleY","originY"];function L_(e,t,n,r){D_(e.x,t,t6,n?n.x:void 0,r?r.x:void 0),D_(e.y,t,n6,n?n.y:void 0,r?r.y:void 0)}function $_(e){return e.translate===0&&e.scale===1}function fP(e){return $_(e.x)&&$_(e.y)}function F_(e,t){return e.min===t.min&&e.max===t.max}function r6(e,t){return F_(e.x,t.x)&&F_(e.y,t.y)}function V_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function pP(e,t){return V_(e.x,t.x)&&V_(e.y,t.y)}function U_(e){return sn(e.x)/sn(e.y)}function B_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class s6{constructor(){this.members=[]}add(t){d0(this.members,t),t.scheduleRender()}remove(t){if(h0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i6(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const xm=["","X","Y","Z"],o6=1e3;let a6=0;function bm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function mP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=eP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Je,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&mP(r)}function gP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=a6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u6),this.nodes.forEach(p6),this.nodes.forEach(m6),this.nodes.forEach(d6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new p0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=PA(o)&&!X5(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Je.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=Jz(f,250),zd.hasAnimatedSinceResize&&(zd.hasAnimatedSinceResize=!1,this.nodes.forEach(W_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||x6,{onLayoutAnimationStart:p,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!pP(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...C0(x,"layout"),onPlay:p,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,w)}else h||W_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g6),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f6),this.nodes.forEach(l6),this.nodes.forEach(c6)):this.nodes.forEach(q_),this.clearAllSnapshots();const a=rn.now();Mt.delta=Kr(0,1e3/60,a-Mt.timestamp),Mt.timestamp=a,Mt.isProcessing=!0,lm.update.process(Mt),lm.preRender.process(Mt),lm.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h6),this.sharedNodes.forEach(v6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!fP(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Vi(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),b6(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return yt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(S6))){const{scroll:d}=this.root;d&&(da(a.x,d.offset.x),da(a.y,d.offset.y))}return a}removeElementScroll(o){var c;const a=yt();if(rr(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&rr(a,o),da(a.x,h.offset.x),da(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const c=yt();rr(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ha(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Vi(d.latestValues)&&ha(c,d.latestValues)}return Vi(this.latestValues)&&ha(c,this.latestValues),c}removeTransform(o){const a=yt();rr(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Vi(u.latestValues))continue;Rv(u.latestValues)&&u.updateSnapshot();const d=yt(),h=u.measurePageBox();rr(d,h),L_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Vi(this.latestValues)&&L_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Mt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Az(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rr(this.target,this.layout.layoutBox),KA(this.target,this.targetDelta)):rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Rv(this.parent.latestValues)||GA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,c){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),Uh(this.relativeTargetOrigin,a,c),rr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;rr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;B8(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=yt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I_(this.prevProjectionDelta.x,this.projectionDelta.x),I_(this.prevProjectionDelta.y,this.projectionDelta.y)),fc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!B_(this.projectionDelta.x,this.prevProjectionDelta.x)||!B_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fa(),this.projectionDelta=fa(),this.projectionDeltaWithTransform=fa()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=yt(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,b=this.getStack(),y=!b||b.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(w6));this.animationProgress=0;let S;this.mixTargetDelta=_=>{const C=_/1e3;H_(h.x,o.x,C),H_(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y6(this.relativeTarget,this.relativeTargetOrigin,f,C),S&&r6(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=yt()),rr(S,this.relativeTarget)),p&&(this.animationValues=d,Qz(d,u,this.latestValues,C,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{zd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Za(0)),this.currentAnimation=Hz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&vP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||yt();const h=sn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=sn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}rr(a,c),ha(a,d),fc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new s6),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&bm("z",o,u,this.animationValues);for(let d=0;d<xm.length;d++)bm(`rotate${xm[d]}`,o,u,this.animationValues),bm(`skew${xm[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Bd(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Bd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Vi(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=i6(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Pv){if(d[x]===void 0)continue;const{correct:p,applyTo:b,isCSSVariable:y}=Pv[x],w=h==="none"?d[x]:p(d[x],u);if(b){const S=b.length;for(let _=0;_<S;_++)o[b[_]]=w}else y?this.options.visualElement.renderState.vars[x]=w:o[x]=w}this.options.layoutId&&(o.pointerEvents=u===this?Bd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(z_),this.root.sharedNodes.clear()}}}function l6(e){e.updateLayout()}function c6(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Mn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=sn(f);f.min=r[h].min,f.max=f.min+m}):vP(i,t.layoutBox,r)&&Mn(h=>{const f=o?t.measuredBox[h]:t.layoutBox[h],m=sn(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=fa();fc(a,r,t.layoutBox);const c=fa();o?fc(c,e.applyTransform(s,!0),t.measuredBox):fc(c,r,t.layoutBox);const u=!fP(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=yt();Uh(x,t.layoutBox,f.layoutBox);const p=yt();Uh(p,r,m.layoutBox),pP(x,p)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function u6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function d6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function h6(e){e.clearSnapshot()}function z_(e){e.clearMeasurements()}function q_(e){e.isLayoutDirty=!1}function f6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function W_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function p6(e){e.resolveTargetDelta()}function m6(e){e.calcProjection()}function g6(e){e.resetSkewAndRotation()}function v6(e){e.removeLeadSnapshot()}function H_(e,t,n){e.translate=tt(t.translate,0,n),e.scale=tt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function G_(e,t,n,r){e.min=tt(t.min,n.min,r),e.max=tt(t.max,n.max,r)}function y6(e,t,n,r){G_(e.x,t.x,n.x,r),G_(e.y,t.y,n.y,r)}function w6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const x6={duration:.45,ease:[.4,0,.1,1]},K_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),J_=K_("applewebkit/")&&!K_("chrome/")?Math.round:qn;function Y_(e){e.min=J_(e.min),e.max=J_(e.max)}function b6(e){Y_(e.x),Y_(e.y)}function vP(e,t,n){return e==="position"||e==="preserve-aspect"&&!Nz(U_(t),U_(n),.2)}function S6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const _6=gP({attachResizeListener:(e,t)=>Kc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sm={current:void 0},yP=gP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sm.current){const e=new _6({});e.mount(window),e.setOptions({layoutScroll:!0}),Sm.current=e}return Sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),E6={pan:{Feature:qz},drag:{Feature:zz,ProjectionNode:yP,MeasureLayout:uP}};function Q_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Je.postRender(()=>i(t,xu(t)))}class k6 extends ji{mount(){const{current:t}=this.node;t&&(this.unmount=K5(t,(n,r)=>(Q_(this.node,r,"Start"),s=>Q_(this.node,s,"End"))))}unmount(){}}class C6 extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vu(Kc(this.node.current,"focus",()=>this.onFocus()),Kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function X_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Je.postRender(()=>i(t,xu(t)))}class j6 extends ji{mount(){const{current:t}=this.node;t&&(this.unmount=Q5(t,(n,r)=>(X_(this.node,r,"Start"),(s,{success:i})=>X_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fv=new WeakMap,_m=new WeakMap,T6=e=>{const t=Fv.get(e.target);t&&t(e)},N6=e=>{e.forEach(T6)};function A6({root:e,...t}){const n=e||document;_m.has(n)||_m.set(n,{});const r=_m.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(N6,{root:e,...t})),r[s]}function P6(e,t,n){const r=A6(t);return Fv.set(e,n),r.observe(e),()=>{Fv.delete(e),r.unobserve(e)}}const R6={some:0,all:1};class O6 extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:R6[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return P6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(I6(t,n))&&this.startObserver()}unmount(){}}function I6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const M6={inView:{Feature:O6},tap:{Feature:j6},focus:{Feature:C6},hover:{Feature:k6}},D6={layout:{ProjectionNode:yP,MeasureLayout:uP}},L6={..._z,...M6,...E6,...D6},de=F8(L6,X8);function yl(){const{theme:e,setTheme:t}=VT();return l.jsxs(ce,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[l.jsx(de.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:l.jsx(kF,{className:"h-5 w-5"})}),l.jsx(de.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:l.jsx(yF,{className:"h-5 w-5"})}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const wl="/discovery/assets/logo-j4HpWWLy.svg",Z_=[{icon:li,title:"Interview",description:"Sophie has a 20-minute chat with each team member about how they actually work - the messy reality, not the process diagram."},{icon:Dw,title:"Analyse",description:"She spots patterns across all the conversations. The things everyone's frustrated by. The manual steps that don't need to be manual."},{icon:Lw,title:"Insights",description:"You get a prioritised list of opportunities - what to tackle first, what it'll take and how confident we are it'll work."}],$6=[{icon:Dc,title:"Done in Days, Not Months",description:"Traditional discovery means consultants interviewing people for weeks. Sophie does it in a fraction of the time."},{icon:mu,title:"Talk to Everyone Who Matters",description:"AI scales. Interview 5 people or 50 - the cost barely changes. So you get the full picture, not just the loudest voices."},{icon:jT,title:"Recommendations, Not Just Insights",description:"You don't need another report that sits in a drawer. You need a list of what to do, in what order and why."}];function F6(){const[e,t]=g.useState(!1),[n,r]=g.useState(1),[s,i]=g.useState(!1),[o,a]=g.useState({name:"",email:"",company:"",challenge:""}),c=f=>{a({...o,[f.target.name]:f.target.value})},u=async f=>{f.preventDefault(),i(!0);try{(await fetch("https://formspree.io/f/mzzakvbk",{method:"POST",body:JSON.stringify({...o,_subject:`Discovery Inquiry from ${o.name}`,source:"Discovery Landing Page"}),headers:{"Content-Type":"application/json",Accept:"application/json"}})).ok?(r(2),d()):alert("There was an error submitting your information. Please try again.")}catch{alert("There was an error submitting your information. Please try again.")}finally{i(!1)}},d=()=>{if(!document.querySelector('script[src*="calendly"]')){const m=document.createElement("script");m.src="https://assets.calendly.com/assets/external/widget.js",m.async=!0,document.body.appendChild(m)}const f=()=>{window.Calendly?window.Calendly.initInlineWidget({url:"https://calendly.com/hamish-goagentflow/30-minute-intro-call?utm_source=discovery_landing&utm_medium=web&utm_campaign=discovery_lead",parentElement:document.getElementById("calendly-container"),prefill:{name:o.name,email:o.email,customAnswers:{a1:`Discovery Inquiry | Company: ${o.company||"Not provided"}`,a2:o.challenge?`Challenge: ${o.challenge.substring(0,250)}`:"Via Discovery Landing Page"}}}):setTimeout(f,100)};f()},h=()=>{t(!1),r(1),a({name:"",email:"",company:"",challenge:""})};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("link",{href:"https://assets.calendly.com/assets/external/widget.css",rel:"stylesheet"}),l.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx("a",{href:"#hero",className:"flex items-center gap-2",children:l.jsx("img",{src:wl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsxs("nav",{className:"hidden items-center gap-6 md:flex",children:[l.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"How It Works"}),l.jsx("a",{href:"#benefits",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"Benefits"}),l.jsx("a",{href:"#who-its-for",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"Is This For You?"}),l.jsx("a",{href:"#contact",className:"text-sm font-medium text-muted-foreground transition-colors hover:text-foreground",children:"Contact"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(yl,{}),l.jsx(ce,{asChild:!0,variant:"ghost",className:"hidden sm:inline-flex",children:l.jsx(Ge,{to:"/admin/login",children:"Admin"})})]})]})}),l.jsxs("section",{id:"hero",className:"relative flex min-h-[calc(100vh-4rem)] flex-col items-center justify-center pt-16",children:[l.jsx("div",{className:"container text-center",children:l.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mx-auto max-w-3xl",children:[l.jsx("div",{className:"mb-6 inline-flex items-center rounded-full border px-4 py-1.5 text-sm",style:{borderColor:"#7952b3",color:"#7952b3"},children:"AI-Powered Process Discovery"}),l.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["Your Team Knows Where the Problems Are."," ",l.jsx("span",{style:{color:"#3d5fa8"},children:"They Just Need Someone to Listen."})]}),l.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Sophie is our AI interviewer. She talks to your people, maps out how work actually flows and finds the automation opportunities hiding in plain sight. No consultants. No six-month projects."}),l.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:l.jsxs(ce,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},onClick:()=>t(!0),children:["Book a Free Discovery Call",l.jsx(Ji,{className:"h-4 w-4"})]})})]})}),l.jsx(de.a,{href:"#how-it-works",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.5},className:"absolute bottom-8 left-1/2 -translate-x-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l.jsx(de.div,{animate:{y:[0,8,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},children:l.jsx(Tf,{className:"h-6 w-6"})})})]}),l.jsx("section",{id:"how-it-works",className:"bg-muted/30 py-16",children:l.jsxs("div",{className:"container",children:[l.jsxs(de.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-12 text-center",children:[l.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How Discovery Works"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to uncover your automation opportunities"})]}),l.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:Z_.map((f,m)=>l.jsxs(de.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:m*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[l.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(f.icon,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[l.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full text-xs font-bold text-white",style:{backgroundColor:"#7952b3"},children:m+1}),l.jsx("h3",{className:"text-xl font-semibold text-foreground",children:f.title})]}),l.jsx("p",{className:"text-muted-foreground",children:f.description}),m<Z_.length-1&&l.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:l.jsx(Ji,{className:"h-6 w-6 text-muted-foreground/50"})})]},f.title))})]})}),l.jsx("section",{id:"benefits",className:"py-16",children:l.jsxs("div",{className:"container",children:[l.jsxs(de.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-12 text-center",children:[l.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"Why Use AI Discovery?"}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"Traditional discovery is slow and expensive. We've fixed that."})]}),l.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:$6.map((f,m)=>l.jsxs(de.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:m*.1},className:"rounded-xl border bg-card p-8 shadow-sm",children:[l.jsx("div",{className:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-lg",style:{backgroundColor:"#7952b3"},children:l.jsx(f.icon,{className:"h-6 w-6 text-white"})}),l.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:f.title}),l.jsx("p",{className:"text-muted-foreground",children:f.description})]},f.title))})]})}),l.jsx("section",{id:"who-its-for",className:"bg-muted/30 py-16",children:l.jsx("div",{className:"container",children:l.jsx("div",{className:"mx-auto max-w-3xl text-center",children:l.jsxs(de.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},children:[l.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"Is This For You?"}),l.jsx("p",{className:"mb-8 text-lg text-muted-foreground",children:"Discovery is perfect if you're experiencing any of these:"}),l.jsx("div",{className:"space-y-4 text-left",children:["Your team spends hours on repetitive tasks that feel like they should be automated","You know there are inefficiencies but struggle to prioritise where to start","Previous automation attempts failed because they solved the wrong problems","You want to understand your workflows better before investing in new tools"].map((f,m)=>l.jsxs(de.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.3,delay:m*.1},className:"flex items-start gap-3 rounded-lg border bg-card p-4",children:[l.jsx(Mc,{className:"mt-0.5 h-5 w-5 flex-shrink-0",style:{color:"#7952b3"}}),l.jsx("span",{className:"text-foreground",children:f})]},m))})]})})})}),l.jsx("section",{id:"contact",className:"py-16",children:l.jsx("div",{className:"container",children:l.jsxs(de.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"mx-auto max-w-2xl rounded-2xl border-0 bg-card p-8 text-center shadow-lg sm:p-12",style:{borderLeft:"4px solid",borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Lw,{className:"h-8 w-8 text-white"})}),l.jsx("h2",{className:"mb-4 text-2xl font-bold text-foreground sm:text-3xl",children:"Fancy a Chat?"}),l.jsx("p",{className:"mb-8 text-muted-foreground",children:"Book 30 minutes with us. We'll talk through your situation and whether Sophie can help. No pitch, no pressure - and if we don't think it's right for you, we'll say so."}),l.jsxs(ce,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},onClick:()=>t(!0),children:["Book Your Free Discovery Call",l.jsx(Ji,{className:"h-4 w-4"})]})]})})}),l.jsx("footer",{className:"border-t py-8",children:l.jsxs("div",{className:"container",children:[l.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[l.jsx(Ge,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Ge,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Ge,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})}),l.jsx(yi,{children:e&&l.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:f=>f.target===f.currentTarget&&h(),children:l.jsxs(de.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative max-h-[90vh] w-full max-w-lg overflow-auto rounded-2xl bg-background p-6 shadow-xl sm:p-8",children:[l.jsx("button",{onClick:h,className:"absolute right-4 top-4 rounded-full p-1 text-muted-foreground hover:bg-muted hover:text-foreground",children:l.jsx(Nf,{className:"h-5 w-5"})}),l.jsxs(yi,{mode:"wait",children:[n===1&&l.jsxs(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[l.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold text-white",style:{backgroundColor:"#3d5fa8"},children:"1"}),l.jsx("div",{className:"h-1 w-12 rounded-full bg-muted"}),l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-sm font-semibold text-muted-foreground",children:"2"})]}),l.jsx("h3",{className:"mb-2 text-center text-xl font-bold text-foreground",children:"Tell Us About Your Challenge"}),l.jsx("p",{className:"mb-6 text-center text-sm text-muted-foreground",children:"We'll review this before our call so we can give you specific, relevant advice."}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(bt,{htmlFor:"name",children:"Name *"}),l.jsx(Lt,{id:"name",name:"name",value:o.name,onChange:c,required:!0,placeholder:"Your name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(bt,{htmlFor:"email",children:"Email *"}),l.jsx(Lt,{id:"email",name:"email",type:"email",value:o.email,onChange:c,required:!0,placeholder:"you@company.com"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(bt,{htmlFor:"company",children:"Company"}),l.jsx(Lt,{id:"company",name:"company",value:o.company,onChange:c,placeholder:"Your company name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(bt,{htmlFor:"challenge",children:"What's the biggest workflow challenge you're facing? *"}),l.jsx(a0,{id:"challenge",name:"challenge",value:o.challenge,onChange:c,required:!0,placeholder:"e.g., Our team spends hours manually processing invoices, copying data between systems...",rows:4})]}),l.jsx(ce,{type:"submit",className:"w-full gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(mt,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):l.jsxs(l.Fragment,{children:["Next: Book Your Call",l.jsx(Ji,{className:"h-4 w-4"})]})})]})]},"step1"),n===2&&l.jsxs(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[l.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-white",style:{backgroundColor:"#7952b3"},children:l.jsx(Mc,{className:"h-5 w-5"})}),l.jsx("div",{className:"h-1 w-12 rounded-full",style:{backgroundColor:"#7952b3"}}),l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-semibold text-white",style:{backgroundColor:"#3d5fa8"},children:"2"})]}),l.jsx("h3",{className:"mb-2 text-center text-xl font-bold text-foreground",children:"Pick a Time That Works"}),l.jsx("p",{className:"mb-6 text-center text-sm text-muted-foreground",children:"Choose a 30-minute slot for your free discovery call."}),l.jsx("div",{id:"calendly-container",className:"min-h-[500px]"}),l.jsx("button",{onClick:()=>r(1),className:"mt-4 w-full text-center text-sm text-muted-foreground hover:text-foreground",children:" Back to edit details"})]},"step2")]})]})})})]})}const Ne=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const an=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));an.displayName="CardHeader";const ln=g.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));ln.displayName="CardTitle";const Hr=g.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));Hr.displayName="CardDescription";const Ie=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const V6=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",e),...t}));V6.displayName="CardFooter";var U6=g.createContext(void 0);function bu(e){const t=g.useContext(U6);return e||t||"ltr"}function Vv(e,[t,n]){return Math.min(n,Math.max(t,e))}function B6(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var V0="ScrollArea",[wP,mQ]=An(V0),[z6,Jn]=wP(V0),xP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(null),[m,x]=g.useState(null),[p,b]=g.useState(null),[y,w]=g.useState(0),[S,_]=g.useState(0),[C,j]=g.useState(!1),[T,P]=g.useState(!1),O=ke(t,R=>c(R)),I=bu(s);return l.jsx(z6,{scope:n,type:r,dir:I,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:C,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:_,children:l.jsx(fe.div,{dir:I,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});xP.displayName=V0;var bP="ScrollAreaViewport",SP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Jn(bP,n),a=g.useRef(null),c=ke(t,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});SP.displayName=bP;var Qr="ScrollAreaScrollbar",U0=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Jn(Qr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return g.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(q6,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(W6,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(_P,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(B0,{...r,ref:t}):null});U0.displayName=Qr;var q6=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Jn(Qr,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Pn,{present:n||i,children:l.jsx(_P,{"data-state":i?"visible":"hidden",...r,ref:t})})}),W6=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Jn(Qr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Hf(()=>c("SCROLL_END"),100),[a,c]=B6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),g.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),l.jsx(Pn,{present:n||a!=="hidden",children:l.jsx(B0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),_P=g.forwardRef((e,t)=>{const n=Jn(Qr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=g.useState(!1),a=e.orientation==="horizontal",c=Hf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return tl(n.viewport,c),tl(n.content,c),l.jsx(Pn,{present:r||i,children:l.jsx(B0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),B0=g.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Jn(Qr,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[a,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=TP(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return Q6(f,o.current,a,m)}return n==="horizontal"?l.jsx(H6,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=e1(f,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?l.jsx(G6,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=e1(f,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),H6=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Jn(Qr,e.__scopeScrollArea),[o,a]=g.useState(),c=g.useRef(null),u=ke(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(kP,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),AP(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:zh(o.paddingLeft),paddingEnd:zh(o.paddingRight)}})}})}),G6=g.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Jn(Qr,e.__scopeScrollArea),[o,a]=g.useState(),c=g.useRef(null),u=ke(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(kP,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),AP(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:zh(o.paddingTop),paddingEnd:zh(o.paddingBottom)}})}})}),[K6,EP]=wP(Qr),kP=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Jn(Qr,n),[x,p]=g.useState(null),b=ke(t,O=>p(O)),y=g.useRef(null),w=g.useRef(""),S=m.viewport,_=r.content-r.viewport,C=xt(d),j=xt(c),T=Hf(h,10);function P(O){if(y.current){const I=O.clientX-y.current.left,R=O.clientY-y.current.top;u({x:I,y:R})}}return g.useEffect(()=>{const O=I=>{const R=I.target;(x==null?void 0:x.contains(R))&&C(I,_)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[S,x,_,C]),g.useEffect(j,[r,j]),tl(x,T),tl(m.content,T),l.jsx(K6,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:xt(i),onThumbPointerUp:xt(o),onThumbPositionChange:j,onThumbPointerDown:xt(a),children:l.jsx(fe.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:oe(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),y.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(O))}),onPointerMove:oe(e.onPointerMove,P),onPointerUp:oe(e.onPointerUp,O=>{const I=O.target;I.hasPointerCapture(O.pointerId)&&I.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Bh="ScrollAreaThumb",CP=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=EP(Bh,e.__scopeScrollArea);return l.jsx(Pn,{present:n||s.hasThumb,children:l.jsx(J6,{ref:t,...r})})}),J6=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Jn(Bh,n),o=EP(Bh,n),{onThumbPositionChange:a}=o,c=ke(t,h=>o.onThumbChange(h)),u=g.useRef(void 0),d=Hf(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=X6(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,a]),l.jsx(fe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,p=h.clientY-m.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:oe(e.onPointerUp,o.onThumbPointerUp)})});CP.displayName=Bh;var z0="ScrollAreaCorner",jP=g.forwardRef((e,t)=>{const n=Jn(z0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(Y6,{...e,ref:t}):null});jP.displayName=z0;var Y6=g.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Jn(z0,n),[i,o]=g.useState(0),[a,c]=g.useState(0),u=!!(i&&a);return tl(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),tl(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?l.jsx(fe.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zh(e){return e?parseInt(e,10):0}function TP(e,t){const n=e/t;return isNaN(n)?0:n}function Wf(e){const t=TP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Q6(e,t,n,r="ltr"){const s=Wf(n),i=s/2,o=t||i,a=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return NP([c,u],h)(e)}function e1(e,t,n="ltr"){const r=Wf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Vv(e,c);return NP([0,o],[0,a])(u)}function NP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function AP(e,t){return e>0&&e<t}var X6=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Hf(e,t){const n=xt(e),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function tl(e,t){const n=xt(t);Et(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var PP=xP,Z6=SP,eq=jP;const Gf=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(PP,{ref:r,className:ie("relative overflow-hidden",e),...n,children:[l.jsx(Z6,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(RP,{}),l.jsx(eq,{})]}));Gf.displayName=PP.displayName;const RP=g.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(U0,{ref:r,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(CP,{className:"relative flex-1 rounded-full bg-border"})}));RP.displayName=U0.displayName;function OP(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Kf="Checkbox",[tq,gQ]=An(Kf),[nq,q0]=tq(Kf);function rq(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=Sr({prop:n,defaultProp:s??!1,onChange:c,caller:Kf}),[x,p]=g.useState(null),[b,y]=g.useState(null),w=g.useRef(!1),S=x?!!o||!!x.closest("form"):!0,_={checked:f,disabled:i,setChecked:m,control:x,setControl:p,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:ui(s)?!1:s,isFormControl:S,bubbleInput:b,setBubbleInput:y};return l.jsx(nq,{scope:t,..._,children:sq(h)?h(_):r})}var IP="CheckboxTrigger",MP=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:x}=q0(IP,e),p=ke(s,d),b=g.useRef(c);return g.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const w=()=>h(b.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[i,h]),l.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":ui(c)?"mixed":c,"aria-required":u,"data-state":VP(c),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:p,onKeyDown:oe(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:oe(n,y=>{h(w=>ui(w)?!0:!w),x&&m&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});MP.displayName=IP;var W0=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c,onCheckedChange:u,form:d,...h}=e;return l.jsx(rq,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>l.jsxs(l.Fragment,{children:[l.jsx(MP,{...h,ref:t,__scopeCheckbox:n}),f&&l.jsx(FP,{__scopeCheckbox:n})]})})});W0.displayName=Kf;var DP="CheckboxIndicator",LP=g.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=q0(DP,n);return l.jsx(Pn,{present:r||ui(i.checked)||i.checked===!0,children:l.jsx(fe.span,{"data-state":VP(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});LP.displayName=DP;var $P="CheckboxBubbleInput",FP=g.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=q0($P,e),x=ke(n,m),p=OP(i),b=ZT(r);g.useEffect(()=>{const w=f;if(!w)return;const S=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(S,"checked").set,j=!s.current;if(p!==i&&C){const T=new Event("click",{bubbles:j});w.indeterminate=ui(i),C.call(w,ui(i)?!1:i),w.dispatchEvent(T)}},[f,p,i,s]);const y=g.useRef(ui(i)?!1:i);return l.jsx(fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:a,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});FP.displayName=$P;function sq(e){return typeof e=="function"}function ui(e){return e==="indeterminate"}function VP(e){return ui(e)?"indeterminate":e?"checked":"unchecked"}const qd=g.forwardRef(({className:e,...t},n)=>l.jsx(W0,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(LP,{className:ie("flex items-center justify-center text-current"),children:l.jsx(fu,{className:"h-4 w-4"})})}));qd.displayName=W0.displayName;var UP={};function t1(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(a.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(e)}function BP(e){var t=function(n,r){if(Ae(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Ae(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Ae(t)=="symbol"?t:t+""}function n1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BP(r.key),r)}}function On(e,t,n){return t&&n1(e.prototype,t),n&&n1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jf(e,t){if(t&&(Ae(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kr(e)}function Jc(e,t){return Jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Jc(e,t)}function Yf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jc(e,t)}function Lr(e,t,n){return(t=BP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r1(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,s)}function ge(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(c){r1(i,r,s,o,a,"next",c)}function a(c){r1(i,r,s,o,a,"throw",c)}o(void 0)})}}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kt(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a,c,u=[],d=!0,h=!1;try{if(a=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=a.call(s)).done)&&(u.push(i.value),u.length!==r);d=!0);}catch(f){h=!0,o=f}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw o}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return s1(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?s1(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iq(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i1,nd={exports:{}},Uv=function(){if(i1)return nd.exports;i1=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(p,b,y){return Function.prototype.apply.call(p,b,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var r=Number.isNaN||function(p){return p!=p};function s(){s.init.call(this)}nd.exports=s,nd.exports.once=function(p,b){return new Promise(function(y,w){function S(C){p.removeListener(b,_),w(C)}function _(){typeof p.removeListener=="function"&&p.removeListener("error",S),y([].slice.call(arguments))}x(p,b,_,{once:!0}),b!=="error"&&function(C,j,T){typeof C.on=="function"&&x(C,"error",j,T)}(p,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function a(p){return p._maxListeners===void 0?s.defaultMaxListeners:p._maxListeners}function c(p,b,y,w){var S,_,C,j;if(o(y),(_=p._events)===void 0?(_=p._events=Object.create(null),p._eventsCount=0):(_.newListener!==void 0&&(p.emit("newListener",b,y.listener?y.listener:y),_=p._events),C=_[b]),C===void 0)C=_[b]=y,++p._eventsCount;else if(typeof C=="function"?C=_[b]=w?[y,C]:[C,y]:w?C.unshift(y):C.push(y),(S=a(p))>0&&C.length>S&&!C.warned){C.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=p,T.type=b,T.count=C.length,j=T,console&&console.warn&&console.warn(j)}return p}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,b,y){var w={fired:!1,wrapFn:void 0,target:p,type:b,listener:y},S=u.bind(w);return S.listener=y,w.wrapFn=S,S}function h(p,b,y){var w=p._events;if(w===void 0)return[];var S=w[b];return S===void 0?[]:typeof S=="function"?y?[S.listener||S]:[S]:y?function(_){for(var C=new Array(_.length),j=0;j<C.length;++j)C[j]=_[j].listener||_[j];return C}(S):m(S,S.length)}function f(p){var b=this._events;if(b!==void 0){var y=b[p];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(p,b){for(var y=new Array(b),w=0;w<b;++w)y[w]=p[w];return y}function x(p,b,y,w){if(typeof p.on=="function")w.once?p.once(b,y):p.on(b,y);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(b,function S(_){w.once&&p.removeEventListener(b,S),y(_)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||r(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(p){for(var b=[],y=1;y<arguments.length;y++)b.push(arguments[y]);var w=p==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var _;if(b.length>0&&(_=b[0]),_ instanceof Error)throw _;var C=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw C.context=_,C}var j=S[p];if(j===void 0)return!1;if(typeof j=="function")n(j,this,b);else{var T=j.length,P=m(j,T);for(y=0;y<T;++y)n(P[y],this,b)}return!0},s.prototype.addListener=function(p,b){return c(this,p,b,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(p,b){return c(this,p,b,!0)},s.prototype.once=function(p,b){return o(b),this.on(p,d(this,p,b)),this},s.prototype.prependOnceListener=function(p,b){return o(b),this.prependListener(p,d(this,p,b)),this},s.prototype.removeListener=function(p,b){var y,w,S,_,C;if(o(b),(w=this._events)===void 0)return this;if((y=w[p])===void 0)return this;if(y===b||y.listener===b)--this._eventsCount==0?this._events=Object.create(null):(delete w[p],w.removeListener&&this.emit("removeListener",p,y.listener||b));else if(typeof y!="function"){for(S=-1,_=y.length-1;_>=0;_--)if(y[_]===b||y[_].listener===b){C=y[_].listener,S=_;break}if(S<0)return this;S===0?y.shift():function(j,T){for(;T+1<j.length;T++)j[T]=j[T+1];j.pop()}(y,S),y.length===1&&(w[p]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",p,C||b)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(p){var b,y,w;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[p]),this;if(arguments.length===0){var S,_=Object.keys(y);for(w=0;w<_.length;++w)(S=_[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(b=y[p])=="function")this.removeListener(p,b);else if(b!==void 0)for(w=b.length-1;w>=0;w--)this.removeListener(p,b[w]);return this},s.prototype.listeners=function(p){return h(this,p,!0)},s.prototype.rawListeners=function(p){return h(this,p,!1)},s.listenerCount=function(p,b){return typeof p.listenerCount=="function"?p.listenerCount(b):f.call(p,b)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},nd.exports}(),rd=iq(Uv),o1=Object.prototype.hasOwnProperty;function a1(e,t,n){for(n of e.keys())if(en(n,t))return n}function en(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&en(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=a1(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=a1(t,s))||!en(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(o1.call(e,n)&&++r&&!o1.call(t,n)||!(n in t)||!en(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const oq={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},zP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},at={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Qt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Os={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class q{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=q.getVersionPrecision(t),i=q.getVersionPrecision(n);let o=Math.max(s,i),a=0;const c=q.map([t,n],u=>{const d=o-q.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return q.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return oq[t]}static getBrowserTypeByAlias(t){return zP[t]||""}}const Fe=/version\/(\d+(\.?_?\d+)+)/i,aq=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=q.getFirstMatch(Fe,e)||q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=q.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:q.getFirstMatch(t,e),version:q.getSecondMatch(t,e)}}}];var lq=[{test:[/Roku\/DVP/],describe(e){const t=q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Qt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Qt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=q.getWindowsVersionName(t);return{name:Qt.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Qt.iOS},n=q.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=q.getMacOSVersionName(t),r={name:Qt.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Qt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=q.getAndroidVersionName(t),r={name:Qt.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Qt.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||q.getFirstMatch(/\bbb(\d+)/i,e);return{name:Qt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Qt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Qt.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Qt.Linux})},{test:[/CrOS/],describe:()=>({name:Qt.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Qt.PlayStation4,version:t}}}],cq=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=q.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:at.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:at.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:at.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:at.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:at.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:at.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:at.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=q.getFirstMatch(/(ipod|iphone)/i,e);return{type:at.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:at.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:at.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:at.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:at.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:at.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:at.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:at.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:at.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:at.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:at.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:at.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:at.tv})}],uq=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Os.Blink};const t=q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Os.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Os.Trident},n=q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Os.Presto},n=q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Os.Gecko},n=q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Os.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Os.WebKit},n=q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class l1{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=q.find(aq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=q.find(lq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=q.find(cq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=q.find(uq,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return q.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(s[o]=a,i+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=q.find(o,u=>this.isOS(u));if(a){const u=this.satisfies(n[a]);if(u!==void 0)return u}const c=q.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(n[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(s),a=q.find(o,c=>this.isBrowser(c,!0));if(a!==void 0)return this.compareVersion(s[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=q.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(q.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class dq{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new l1(t,n)}static parse(t){return new l1(t).getResult()}static get BROWSER_MAP(){return zP}static get ENGINE_MAP(){return Os}static get OS_MAP(){return Qt}static get PLATFORMS_MAP(){return at}}function Qf(){return Date.now()+Math.random().toString()}function $l(){throw new Error("Method must be implemented in subclass")}function qP(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function qh(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:qP("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Wh(e){try{new URL(e)}catch{return!1}return!0}const Be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,uo="8.55.0",Me=globalThis;function Hh(e,t,n){const r=Me,s=r.__SENTRY__=r.__SENTRY__||{},i=s[uo]=s[uo]||{};return i[e]||(i[e]=t())}const Po=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Bv=["debug","info","warn","error","log","assert","trace"],Gh={};function Su(e){if(!("console"in Me))return e();const t=Me.console,n={},r=Object.keys(Gh);r.forEach(s=>{const i=Gh[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const ye=Hh("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Po?Bv.forEach(n=>{t[n]=(...r)=>{e&&Su(()=>{Me.console[n](`Sentry Logger [${n}]:`,...r)})}}):Bv.forEach(n=>{t[n]=()=>{}}),t}),Xi="?",c1=/\(error: (.*)\)/,u1=/captureMessage|captureException/;function sd(e){return e[e.length-1]||{}}const d1="<anonymous>";function wi(e){try{return e&&typeof e=="function"&&e.name||d1}catch{return d1}}function h1(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Wd={},f1={};function ho(e,t){Wd[e]=Wd[e]||[],Wd[e].push(t)}function fo(e,t){if(!f1[e]){f1[e]=!0;try{t()}catch(n){Po&&ye.error(`Error while instrumenting ${e}`,n)}}}function xr(e,t){const n=e&&Wd[e];if(n)for(const r of n)try{r(t)}catch(s){Po&&ye.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${wi(r)}
Error:`,s)}}let Em=null;function hq(){Em=Me.onerror,Me.onerror=function(e,t,n,r,s){return xr("error",{column:r,error:s,line:n,msg:e,url:t}),!!Em&&Em.apply(this,arguments)},Me.onerror.__SENTRY_INSTRUMENTED__=!0}let km=null;function fq(){km=Me.onunhandledrejection,Me.onunhandledrejection=function(e){return xr("unhandledrejection",e),!km||km.apply(this,arguments)},Me.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Xf(){return H0(Me),Me}function H0(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||uo,t[uo]=t[uo]||{}}const WP=Object.prototype.toString;function G0(e){switch(WP.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return xo(e,Error)}}function xl(e,t){return WP.call(e)===`[object ${t}]`}function HP(e){return xl(e,"ErrorEvent")}function p1(e){return xl(e,"DOMError")}function cs(e){return xl(e,"String")}function K0(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function zv(e){return e===null||K0(e)||typeof e!="object"&&typeof e!="function"}function nl(e){return xl(e,"Object")}function Zf(e){return typeof Event<"u"&&xo(e,Event)}function ep(e){return!!(e&&e.then&&typeof e.then=="function")}function xo(e,t){try{return e instanceof t}catch{return!1}}function GP(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const J0=Me;function KP(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(u=pq(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=h));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function pq(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(J0.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&cs(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Ca(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function m1(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{GP(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function mq(e,t,n=!1){return!!cs(e)&&(xl(t,"RegExp")?t.test(e):!!cs(t)&&(n?e===t:e.includes(t)))}function id(e,t=[],n=!1){return t.some(r=>mq(e,r,n))}function En(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&JP(s,r);try{e[t]=s}catch{Po&&ye.log(`Failed to replace method "${t}" in object`,e)}}function bo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Po&&ye.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function JP(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,bo(e,"__sentry_original__",t)}catch{}}function Y0(e){return e.__sentry_original__}function YP(e){if(G0(e))return{message:e.message,name:e.name,stack:e.stack,...v1(e)};if(Zf(e)){const t={type:e.type,target:g1(e.target),currentTarget:g1(e.currentTarget),...v1(e)};return typeof CustomEvent<"u"&&xo(e,CustomEvent)&&(t.detail=e.detail),t}return e}function g1(e){try{return t=e,typeof Element<"u"&&xo(t,Element)?KP(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function v1(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Bn(e){return qv(e,new Map)}function qv(e,t){if(function(n){if(!nl(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=qv(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(qv(s,t))}),r}return e}function _u(){return Date.now()/1e3}const hs=function(){const{performance:e}=Me;if(!e||!e.now)return _u;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function Wn(){const e=Me,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function QP(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function $s(e){const{message:t,event_id:n}=e;if(t)return t;const r=QP(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Wv(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function rl(e,t){const n=QP(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function y1(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{bo(e,"__sentry_captured__",!0)}catch{}return!1}var ns;function So(e){return new Fn(t=>{t(e)})}function Kh(e){return new Fn((t,n)=>{n(e)})}(()=>{const{performance:e}=Me;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(i||a<t)&&s<=a&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(ns||(ns={}));class Fn{constructor(t){Fn.prototype.__init.call(this),Fn.prototype.__init2.call(this),Fn.prototype.__init3.call(this),Fn.prototype.__init4.call(this),this._state=ns.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Fn((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Fn((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(ns.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ns.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===ns.PENDING&&(ep(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ns.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ns.RESOLVED&&n[1](this._value),this._state===ns.REJECTED&&n[2](this._value),n[0]=!0)})}}}function gq(e){const t=hs(),n={sid:Wn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Bn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&sl(n,e),n}function sl(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||hs(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Wn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function w1(){return Wn()}function Hv(){return Wn().substring(16)}function tp(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=tp(r[s],t[s],n-1));return r}const Gv="_sentrySpan";function x1(e,t){t?bo(e,Gv,t):delete e[Gv]}function b1(e){return e[Gv]}class Q0{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:w1(),spanId:Hv()}}clone(){const t=new Q0;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,x1(t,b1(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&sl(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof xi?[n.getScopeData(),n.getRequestSession()]:nl(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,x1(this,void 0),this._attachments=[],this.setPropagationContext({traceId:w1()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:_u(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:b1(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=tp(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Hv(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Wn();if(!this._client)return ye.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Wn();if(!this._client)return ye.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Wn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ye.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const xi=Q0;class vq{constructor(t,n){let r,s;r=t||new xi,s=n||new xi,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return ep(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function il(){const e=H0(Xf());return e.stack=e.stack||new vq(Hh("defaultCurrentScope",()=>new xi),Hh("defaultIsolationScope",()=>new xi))}function yq(e){return il().withScope(e)}function wq(e,t){const n=il();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function S1(e){return il().withScope(()=>e(il().getIsolationScope()))}function X0(e){const t=H0(e);return t.acs?t.acs:{withIsolationScope:S1,withScope:yq,withSetScope:wq,withSetIsolationScope:(n,r)=>S1(r),getCurrentScope:()=>il().getScope(),getIsolationScope:()=>il().getIsolationScope()}}function Ro(){return X0(Xf()).getCurrentScope()}function Eu(){return X0(Xf()).getIsolationScope()}function Ht(){return Ro().getClient()}function xq(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Bn({trace_id:n,span_id:r,parent_span_id:s})}function bq(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Bn(s));return n}const Sq=/^sentry-/;function _q(e){const t=function(r){if(!(!r||!cs(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=_1(i);return Object.entries(o).forEach(([a,c])=>{s[a]=c}),s},{}):_1(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(Sq)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function _1(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let E1=!1;function Eq(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return Bn({parent_span_id:r?t:Z0(e).parent_span_id,span_id:r?Hv():t,trace_id:n})}function k1(e){return typeof e=="number"?C1(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?C1(e.getTime()):hs()}function C1(e){return e>9999999999?e/1e3:e}function Z0(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:c}=e;return Bn({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:k1(s),timestamp:k1(o)||void 0,status:kq(c),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:bq(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function kq(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function XP(e){return e._sentryRootSpan||e}function Cq(){E1||(Su(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),E1=!0)}const ex="production";function ZP(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Bn({environment:n.environment||ex,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function jq(e){const t=Ht();if(!t)return{};const n=XP(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&_q(i);if(o)return o;const a=ZP(e.spanContext().traceId,t),c=Z0(n),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(a.sample_rate=`${d}`);const h=u["sentry.source"],f=c.description;return h!=="url"&&f&&(a.transaction=f),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const x=Ht(),p=x&&x.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(a.sampled=String(function(m){const{traceFlags:x}=m.spanContext();return x===1}(n))),t.emit("createDsc",a,n),a}const Tq=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Jh(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function j1(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Nq(e){const t=typeof e=="string"?function(n){const r=Tq.exec(n);if(!r)return void Su(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",a="",c="",u=""]=r.slice(1);let d="",h=u;const f=h.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),h=f.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return j1({host:a,pass:o,path:d,projectId:h,port:c,protocol:s,publicKey:i})}(e):j1(e);if(t&&function(n){if(!Po)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ye.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ye.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ye.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ye.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function rs(e,t=100,n=1/0){try{return Kv("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function eR(e,t=3,n=102400){const r=rs(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?eR(e,t-1,n):r;var s}function Kv(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(a){if(i)return!!o.has(a)||(o.add(a),!1);for(let c=0;c<o.length;c++)if(o[c]===a)return!0;return o.push(a),!1},function(a){if(i)o.delete(a);else for(let c=0;c<o.length;c++)if(o[c]===a){o.splice(c,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(m,x){try{if(m==="domain"&&x&&typeof x=="object"&&x._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&x===global)return"[Global]";if(typeof window<"u"&&x===window)return"[Window]";if(typeof document<"u"&&x===document)return"[Document]";if(GP(x))return"[VueViewModel]";if(nl(p=x)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof x=="number"&&!Number.isFinite(x))return`[${x}]`;if(typeof x=="function")return`[Function: ${wi(x)}]`;if(typeof x=="symbol")return`[${String(x)}]`;if(typeof x=="bigint")return`[BigInt: ${String(x)}]`;const b=function(y){const w=Object.getPrototypeOf(y);return w?w.constructor.name:"null prototype"}(x);return/^HTML(\w*)Element$/.test(b)?`[HTMLElement: ${b}]`:`[object ${b}]`}catch(b){return`**non-serializable** (${b})`}var p}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return Kv("",u.toJSON(),c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const f=YP(t);for(const m in f){if(!Object.prototype.hasOwnProperty.call(f,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const x=f[m];d[m]=Kv(m,x,c-1,r,s),h++}return o(t),d}function Yc(e,t=[]){return[e,t]}function Aq(e,t){const[n,r]=e;return[n,[...r,t]]}function T1(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function Jv(e){return Me.__SENTRY__&&Me.__SENTRY__.encodePolyfill?Me.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Pq(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Jv(r),i]:r.push(typeof i=="string"?Jv(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(rs(a))}s(c)}}return typeof r=="string"?r:function(i){const o=i.reduce((u,d)=>u+d.length,0),a=new Uint8Array(o);let c=0;for(const u of i)a.set(u,c),c+=u.length;return a}(r)}function Rq(e){const t=typeof e.data=="string"?Jv(e.data):e.data;return[Bn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Oq={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function N1(e){return Oq[e]}function tR(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Iq(e,t,n,r){const s=tR(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,c){c&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||c.name,a.sdk.version=a.sdk.version||c.version,a.sdk.integrations=[...a.sdk.integrations||[],...c.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...c.packages||[]])})(e,n&&n.sdk);const o=function(a,c,u,d){const h=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Jh(d)},...h&&{trace:Bn({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,Yc(o,[[{type:i},e]])}function Yv(e,t,n,r=0){return new Fn((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);Be&&o.id&&a===null&&ye.log(`Event processor "${o.id}" dropped event`),ep(a)?a.then(c=>Yv(e,c,n,r+1).then(s)).then(null,i):Yv(e,a,n,r+1).then(s).then(null,i)}})}let od,A1,Cm;function Mq(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,a){const{extra:c,tags:u,user:d,contexts:h,level:f,transactionName:m}=a,x=Bn(c);x&&Object.keys(x).length&&(o.extra={...x,...o.extra});const p=Bn(u);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const b=Bn(d);b&&Object.keys(b).length&&(o.user={...b,...o.user});const y=Bn(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),f&&(o.level=f),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,a){o.contexts={trace:Eq(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:jq(a),...o.sdkProcessingMetadata};const c=XP(a),u=Z0(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,r),function(o,a){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const c=[...o.breadcrumbs||[],...a];o.breadcrumbs=c.length?c:void 0}(e,s),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,i)}function P1(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:h,propagationContext:f,transactionName:m,span:x}=t;ad(e,"extra",n),ad(e,"tags",r),ad(e,"user",s),ad(e,"contexts",i),e.sdkProcessingMetadata=tp(e.sdkProcessingMetadata,a,2),o&&(e.level=o),m&&(e.transactionName=m),x&&(e.span=x),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...f}}function ad(e,t,n){e[t]=tp(e[t],n,1)}function Dq(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Wn(),timestamp:t.timestamp||_u()},u=n.integrations||e.integrations.map(x=>x.name);(function(x,p){const{environment:b,release:y,dist:w,maxValueLength:S=250}=p;x.environment=x.environment||b||ex,!x.release&&y&&(x.release=y),!x.dist&&w&&(x.dist=w),x.message&&(x.message=Ca(x.message,S));const _=x.exception&&x.exception.values&&x.exception.values[0];_&&_.value&&(_.value=Ca(_.value,S));const C=x.request;C&&C.url&&(C.url=Ca(C.url,S))})(c,e),function(x,p){p.length>0&&(x.sdk=x.sdk||{},x.sdk.integrations=[...x.sdk.integrations||[],...p])}(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(x,p){const b=function(y){const w=Me._sentryDebugIds;if(!w)return{};const S=Object.keys(w);return Cm&&S.length===A1||(A1=S.length,Cm=S.reduce((_,C)=>{od||(od={});const j=od[C];if(j)_[j[0]]=j[1];else{const T=y(C);for(let P=T.length-1;P>=0;P--){const O=T[P],I=O&&O.filename,R=w[C];if(I&&R){_[I]=R,od[C]=[I,R];break}}}return _},{})),Cm}(p);try{x.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{b&&w.filename&&(w.debug_id=b[w.filename])})})}catch{}}(c,e.stackParser);const d=function(x,p){if(!p)return x;const b=x?x.clone():new xi;return b.update(p),b}(r,n.captureContext);n.mechanism&&rl(c,n.mechanism);const h=s?s.getEventProcessors():[],f=Hh("globalScope",()=>new xi).getScopeData();i&&P1(f,i.getScopeData()),d&&P1(f,d.getScopeData());const m=[...n.attachments||[],...f.attachments];return m.length&&(n.attachments=m),Mq(c,f),Yv([...h,...f.eventProcessors],c,n).then(x=>(x&&function(p){const b={};try{p.exception.values.forEach(w=>{w.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?b[S.abs_path]=S.debug_id:S.filename&&(b[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(b).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const y=p.debug_meta.images;Object.entries(b).forEach(([w,S])=>{y.push({type:"sourcemap",code_file:w,debug_id:S})})}(x),typeof o=="number"&&o>0?function(p,b,y){if(!p)return null;const w={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(S=>({...S,...S.data&&{data:rs(S.data,b,y)}}))},...p.user&&{user:rs(p.user,b,y)},...p.contexts&&{contexts:rs(p.contexts,b,y)},...p.extra&&{extra:rs(p.extra,b,y)}};return p.contexts&&p.contexts.trace&&w.contexts&&(w.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(w.contexts.trace.data=rs(p.contexts.trace.data,b,y))),p.spans&&(w.spans=p.spans.map(S=>({...S,...S.data&&{data:rs(S.data,b,y)}}))),p.contexts&&p.contexts.flags&&w.contexts&&(w.contexts.flags=rs(p.contexts.flags,3,y)),w}(x,o,a):x))}function R1(e,t){return Ro().captureEvent(e,t)}function O1(e){const t=Ht(),n=Eu(),r=Ro(),{release:s,environment:i=ex}=t&&t.getOptions()||{},{userAgent:o}=Me.navigator||{},a=gq({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&sl(c,{status:"exited"}),nR(),n.setSession(a),r.setSession(a),a}function nR(){const e=Eu(),t=Ro(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),sl(r,i)}(n),rR(),e.setSession(),t.setSession()}function rR(){const e=Eu(),t=Ro(),n=Ht(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function I1(e=!1){e?nR():rR()}function Lq(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const M1=[];function D1(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function L1(e,t,n){if(n[t.name])Be&&ye.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,M1.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),M1.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}Be&&ye.log(`Integration installed: ${t.name}`)}}class ar extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const $1="Not capturing exception because it's already been captured.";class $q{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Nq(t.dsn):Be&&ye.warn("No DSN provided, client will not send events."),this._dsn){const r=Lq(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&Su(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Wn();if(y1(t))return Be&&ye.log($1),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:Wn(),...r},o=K0(t)?t:String(t),a=zv(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,n,r){const s=Wn();if(n&&n.originalException&&y1(n.originalException))return Be&&ye.log($1),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?Be&&ye.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),sl(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):So(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];L1(this,t,this._integrations),n||D1(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Iq(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=Aq(r,Rq(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const a=tR(i);return Yc({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&s&&{dsn:Jh(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;Be&&ye.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Be&&ye.error("Error while sending envelope:",n),n)):(Be&&ye.error("Transport disabled"),So({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&L1(n,i,s)}),s}(this,t),D1(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const a of i){const c=a.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(sl(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Fn(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Ro(),s=Eu()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Dq(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:xq(r),...a.contexts};const c=function(u,d){const h=d.getPropagationContext();return h.dsc||ZP(h.traceId,u)}(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{Be&&(s instanceof ar&&s.logLevel==="log"?ye.log(s.message):ye.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=V1(t),a=F1(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const x=typeof m=="string"?parseFloat(m):m;if(!(typeof x!="number"||isNaN(x)||x<0||x>1))return x;Be&&ye.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Kh(new ar(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=c==="replay_event"?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,f).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new ar("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const x=function(p,b,y,w){const{beforeSend:S,beforeSendTransaction:_,beforeSendSpan:C}=b;if(F1(y)&&S)return S(y,w);if(V1(y)){if(y.spans&&C){const j=[];for(const T of y.spans){const P=C(T);P?j.push(P):(Cq(),p.recordDroppedEvent("before_send","span"))}y.spans=j}if(_){if(y.spans){const j=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:j}}return _(y,w)}}return y}(this,s,m,n);return function(p,b){const y=`${b} must return \`null\` or a valid event.`;if(ep(p))return p.then(w=>{if(!nl(w)&&w!==null)throw new ar(y);return w},w=>{throw new ar(`${b} rejected with ${w}`)});if(!nl(p)&&p!==null)throw new ar(y);return p}(x,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const b=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",b)}throw new ar(`${u} returned \`null\`, will not send event.`,"log")}const x=r&&r.getSession();if(!o&&x&&this._updateSessionFromEvent(x,m),o){const b=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);b>0&&this.recordDroppedEvent("before_send","span",b)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const b="custom";m.transaction_info={...p,source:b}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof ar?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new ar(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){Be&&ye.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Be&&ye.log("No outcomes to send"));if(!this._dsn)return void(Be&&ye.log("No dsn provided, will not send outcomes"));Be&&ye.log("Sending outcomes:",t);const n=(r=t,Yc((s=this._options.tunnel&&Jh(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||_u(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function F1(e){return e.type===void 0}function V1(e){return e.type==="transaction"}function Fq(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return Kh(new ar("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new Fn((s,i)=>{let o=t.length;if(!o)return s(!0);const a=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(c=>{So(c).then(()=>{--o||(clearTimeout(a),s(!0))},i)})})}}}function Vq(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,d]=a.split(":",5),h=parseInt(c,10),f=1e3*(isNaN(h)?60:h);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[m]=r+f);else s.all=r+f}else o?s.all=r+function(a,c=Date.now()){const u=parseInt(`${a}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${a}`);return isNaN(d)?6e4:d-c}(o,r):t===429&&(s.all=r+6e4);return s}function Uq(e,t,n=Fq(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(T1(s,(c,u)=>{const d=N1(u);if(function(h,f,m=Date.now()){return function(x,p){return x[p]||x.all||0}(h,f)>m}(r,d)){const h=U1(c,u);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(c)}),i.length===0)return So({});const o=Yc(s[0],i),a=c=>{T1(o,(u,d)=>{const h=U1(u,d);e.recordDroppedEvent(c,N1(d),h)})};return n.add(()=>t({body:Pq(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Be&&ye.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),r=Vq(r,c),c),c=>{throw a("network_error"),c})).then(c=>c,c=>{if(c instanceof ar)return Be&&ye.error("Skipped sending event because buffer is full."),a("queue_overflow"),So({});throw c})},flush:s=>n.drain(s)}}function U1(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const Bq=100;function Ri(e,t){const n=Ht(),r=Eu();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=Bq}=n.getOptions();if(i<=0)return;const o={timestamp:_u(),...e},a=s?Su(()=>s(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let B1;const z1=new WeakMap,zq=()=>({name:"FunctionToString",setupOnce(){B1=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Y0(this),n=z1.has(Ht())&&t!==void 0?t:this;return B1.apply(n,e)}}catch{}},setup(e){z1.set(e,!0)}}),qq=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Wq=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:qq],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,a){return a.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Be&&ye.warn(`Event dropped due to being internal Sentry Error.
Event: ${$s(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const h=[];d.message&&h.push(d.message);let f;try{f=d.exception.values[d.exception.values.length-1]}catch{}return f&&f.value&&(h.push(f.value),f.type&&h.push(`${f.type}: ${f.value}`)),h}(c).some(d=>id(d,u))}(o,a.ignoreErrors)?(Be&&ye.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$s(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(Be&&ye.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${$s(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&id(d,u)}(o,a.ignoreTransactions)?(Be&&ye.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$s(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=ld(c);return!!d&&id(d,u)}(o,a.denyUrls)?(Be&&ye.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$s(o)}.
Url: ${ld(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=ld(c);return!d||id(d,u)}(o,a.allowUrls)?!1:(Be&&ye.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$s(o)}.
Url: ${ld(o)}`),!0)}(t,i)?null:t}});function ld(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return Be&&ye.error(`Cannot extract url for event ${$s(e)}`),null}}function Hq(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&xo(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;a&&(i.exception.values=(c=Qv(e,t,s,o.originalException,r,i.exception.values,a,0),u=n,c.map(d=>(d.value&&(d.value=Ca(d.value,u)),d))))}function Qv(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(xo(r[s],Error)){q1(o,a);const u=e(t,r[s]),d=c.length;W1(u,s,d,a),c=Qv(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(xo(u,Error)){q1(o,a);const h=e(t,u),f=c.length;W1(h,`errors[${d}]`,f,a),c=Qv(e,t,n,u,s,[h,...c],h,f)}}),c}function q1(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function W1(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function jm(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Gq(){"console"in Me&&Bv.forEach(function(e){e in Me.console&&En(Me.console,e,function(t){return Gh[e]=t,function(...n){xr("console",{args:n,level:e});const r=Gh[e];r&&r.apply(Me.console,n)}})})}function Kq(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Jq=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,a=i.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!G1(s,i)||!H1(s,i))}(n,r)||function(s,i){const o=K1(i),a=K1(s);return!(!o||!a||o.type!==a.type||o.value!==a.value||!G1(s,i)||!H1(s,i))}(n,r)):!1}(t,e))return Be&&ye.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function H1(e,t){let n=h1(e),r=h1(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function G1(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function K1(e){return e.exception&&e.exception.values&&e.exception.values[0]}function J1(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const Tm=Me;function Xv(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Yq(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Tm))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Xv(Tm.fetch))return!0;let e=!1;const t=Tm.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Xv(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Po&&ye.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Qq(e,t){const n="fetch";ho(n,e),fo(n,()=>function(r,s=!1){s&&!Yq()||En(Me,"fetch",function(i){return function(...o){const a=new Error,{method:c,url:u}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,x]=h;return{url:Y1(m),method:Zv(x,"method")?String(x.method).toUpperCase():"GET"}}const f=h[0];return{url:Y1(f),method:Zv(f,"method")?String(f.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*hs(),virtualError:a};return r||xr("fetch",{...d}),i.apply(Me,o).then(async h=>(r?r(h):xr("fetch",{...d,endTimestamp:1e3*hs(),response:h}),h),h=>{throw xr("fetch",{...d,endTimestamp:1e3*hs(),error:h}),G0(h)&&h.stack===void 0&&(h.stack=a.stack,bo(h,"framesToPop",1)),h})}})}(void 0,t))}function Zv(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Y1(e){return typeof e=="string"?e:e?Zv(e,"url")?e.url:e.toString?e.toString():"":""}const cd=Me,Ct=Me;let ey=0;function Q1(){return ey>0}function ol(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(Y0(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>ol(i,t));return e.apply(this,s)}catch(s){throw ey++,setTimeout(()=>{ey--}),function(...i){const o=X0(Xf());if(i.length===2){const[a,c]=i;return a?o.withSetScope(a,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(a=>(t.mechanism&&(Wv(a,void 0),rl(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),o=s,Ro().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}JP(n,e),bo(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const np=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function tx(e,t){const n=nx(e,t),r={type:eW(t),value:tW(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Xq(e,t,n,r){const s=Ht(),i=s&&s.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const h=u[d];if(h instanceof Error)return h}}(t),a={__serialized__:eR(t,i)};if(o)return{exception:{values:[tx(e,o)]},extra:a};const c={exception:{values:[{type:Zf(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:nW(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=nx(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Nm(e,t){return{exception:{values:[tx(e,t)]}}}function nx(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&Zq.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const Zq=/Minified React error #\d+;/i;function sR(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function eW(e){const t=e&&e.name;return!t&&sR(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function tW(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:sR(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function ty(e,t,n,r,s){let i;if(HP(t)&&t.error)return Nm(e,t.error);if(p1(t)||xl(t,"DOMException")){const o=t;if("stack"in t)i=Nm(e,t);else{const a=o.name||(p1(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=ny(e,c,n,r),Wv(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return G0(t)?Nm(e,t):nl(t)||Zf(t)?(i=Xq(e,t,n,s),rl(i,{synthetic:!0}),i):(i=ny(e,t,n,r),Wv(i,`${t}`),rl(i,{synthetic:!0}),i)}function ny(e,t,n,r){const s={};if(r&&n){const i=nx(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),rl(s,{synthetic:!0})}if(K0(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function nW(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(YP(s));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=i)return Ca(a,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:Ca(u,i)}return""}(e),r=t?"promise rejection":"exception";return HP(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Zf(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class rW extends $q{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${s}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:uo})),version:uo}),r._metadata=a})(n,"browser",["browser"],Ct.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&Ct.document&&Ct.document.addEventListener("visibilitychange",()=>{Ct.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const a=ty(r,s,i&&i.syntheticException||void 0,o);return rl(a),a.level="error",i&&i.event_id&&(a.event_id=i.event_id),So(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",a,c){const u=ny(s,i,a&&a.syntheticException||void 0,c);return u.level=o,a&&a.event_id&&(u.event_id=a.event_id),So(u)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(np&&ye.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:Jh(o)}};return Yc(a,[function(u){return[{type:"user_report"},u]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const sW=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,nn=Me;let X1,Am,Pm,ud;function iW(){if(!nn.document)return;const e=xr.bind(null,"dom"),t=Z1(e,!0);nn.document.addEventListener("click",t,!1),nn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=nn[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(En(s,"addEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const h=Z1(e);d.handler=h,i.call(this,o,h,c)}d.refCount++}catch{}return i.call(this,o,a,c)}}),En(s,"removeEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,c)}}))})}function Z1(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;bo(n,"_sentryCaptured",!0),r&&!r._sentryId&&bo(r,"_sentryId",Wn());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==Am)return!1;try{if(!i.target||i.target._sentryId!==Pm)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),Am=n.type,Pm=r?r._sentryId:void 0),clearTimeout(X1),X1=nn.setTimeout(()=>{Pm=void 0,Am=void 0},1e3)}}function iR(e){const t="history";ho(t,e),fo(t,oW)}function oW(){if(!function(){const n=cd.chrome,r=n&&n.app&&n.app.runtime,s="history"in cd&&!!cd.history.pushState&&!!cd.history.replaceState;return!r&&s}())return;const e=nn.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=ud,o=String(s);ud=o,xr("history",{from:i,to:o})}return n.apply(this,r)}}nn.onpopstate=function(...n){const r=nn.location.href,s=ud;if(ud=r,xr("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},En(nn.history,"pushState",t),En(nn.history,"replaceState",t)}const Hd={};function eE(e){Hd[e]=void 0}const Gl="__sentry_xhr_v3__";function aW(){if(!nn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*hs(),o=cs(r[0])?r[0].toUpperCase():void 0,a=function(u){if(cs(u))return u;try{return u.toString()}catch{}}(r[1]);if(!o||!a)return t.apply(n,r);n[Gl]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Gl];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}xr("xhr",{endTimestamp:1e3*hs(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(u,d,h)=>(c(),u.apply(d,h))}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,h){const[f,m]=h,x=d[Gl];return x&&cs(f)&&cs(m)&&(x.request_headers[f.toLowerCase()]=m),u.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Gl];return s?(r[0]!==void 0&&(s.body=r[0]),xr("xhr",{startTimestamp:1e3*hs(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function lW(e,t=function(n){const r=Hd[n];if(r)return r;let s=nn[n];if(Xv(s))return Hd[n]=s.bind(nn);const i=nn.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(s=a[n]),i.head.removeChild(o)}catch(o){sW&&ye.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(Hd[n]=s.bind(nn))}("fetch")){let n=0,r=0;return Uq(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return eE("fetch"),Kh("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return eE("fetch"),n-=i,r--,Kh(a)}})}function Rm(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Xi:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const cW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,uW=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,dW=/\((\S*)(?::(\d+))(?::(\d+))\)/,hW=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,fW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,pW=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const c=o[a];if(c.length>1024)continue;const u=c1.test(c)?c.replace(c1,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const h=d(u);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(a){if(!a.length)return[];const c=Array.from(a);return/sentryWrapped/.test(sd(c).function||"")&&c.pop(),c.reverse(),u1.test(sd(c).function||"")&&(c.pop(),u1.test(sd(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||sd(c).filename,function:u.function||Xi}))}(i.slice(s))}}([30,e=>{const t=cW.exec(e);if(t){const[,r,s,i]=t;return Rm(r,Xi,+s,+i)}const n=uW.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=dW.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=tE(n[1]||Xi,n[2]);return Rm(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=hW.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=fW.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||Xi;return[r,n]=tE(r,n),Rm(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),tE=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Xi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},nE=1024,mW=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";ho(i,s),fo(i,Gq)}(function(s){return function(i){if(Ht()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:Kq(i.level),message:m1(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${m1(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}Ri(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if(Ht()!==s)return;let a,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>nE&&(np&&ye.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=nE),typeof u=="string"&&(u=[u]);try{const f=o.event,m=function(x){return!!x&&!!x.target}(f)?f.target:f;a=KP(m,{keyAttrs:u,maxStringLength:d}),c=function(x){if(!J0.HTMLElement)return null;let p=x;for(let b=0;b<5;b++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{a="<unknown>"}if(a.length===0)return;const h={category:`ui.${o.name}`,message:a};c&&(h.data={"ui.component_name":c}),Ri(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),ho("dom",r),fo("dom",iW)),t.xhr&&function(s){ho("xhr",s),fo("xhr",aW)}(function(s){return function(i){if(Ht()!==s)return;const{startTimestamp:o,endTimestamp:a}=i,c=i.xhr[Gl];if(!o||!a||!c)return;const{method:u,url:d,status_code:h,body:f}=c,m={method:u,url:d,status_code:h},x={xhr:i.xhr,input:f,startTimestamp:o,endTimestamp:a};Ri({category:"xhr",data:m,type:"http",level:J1(h)},x)}}(n)),t.fetch&&Qq(function(s){return function(i){if(Ht()!==s)return;const{startTimestamp:o,endTimestamp:a}=i;if(a&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)Ri({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:a});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:a};Ri({category:"fetch",data:u,type:"http",level:J1(u.status_code)},d)}}}(n)),t.history&&iR(function(s){return function(i){if(Ht()!==s)return;let o=i.from,a=i.to;const c=jm(Ct.location.href);let u=o?jm(o):void 0;const d=jm(a);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(a=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),Ri({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){Ht()===s&&Ri({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:$s(i)},{event:i})}}(n))}}},gW=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],vW=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&En(Ct,"setTimeout",rE),t.setInterval&&En(Ct,"setInterval",rE),t.requestAnimationFrame&&En(Ct,"requestAnimationFrame",yW),t.XMLHttpRequest&&"XMLHttpRequest"in Ct&&En(XMLHttpRequest.prototype,"send",wW);const n=t.eventTarget;n&&(Array.isArray(n)?n:gW).forEach(xW)}}};function rE(e){return function(...t){const n=t[0];return t[0]=ol(n,{mechanism:{data:{function:wi(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function yW(e){return function(t){return e.apply(this,[ol(t,{mechanism:{data:{function:"requestAnimationFrame",handler:wi(e)},handled:!1,type:"instrument"}})])}}function wW(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&En(n,r,function(s){const i={mechanism:{data:{function:r,handler:wi(s)},handled:!1,type:"instrument"}},o=Y0(s);return o&&(i.mechanism.data.handler=wi(o)),ol(s,i)})}),e.apply(this,t)}}function xW(e){const t=Ct[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(En(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=ol(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:wi(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,ol(i,{mechanism:{data:{function:"addEventListener",handler:wi(i),target:e},handled:!1,type:"instrument"}}),o])}}),En(n,"removeEventListener",function(r){return function(s,i,o){try{const a=i.__sentry_wrapped__;a&&r.call(this,s,a,o)}catch{}return r.call(this,s,i,o)}}))}const bW=()=>({name:"BrowserSession",setupOnce(){Ct.document!==void 0?(O1({ignoreDuration:!0}),I1(),iR(({from:e,to:t})=>{e!==void 0&&e!==t&&(O1({ignoreDuration:!0}),I1())})):np&&ye.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),SW=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";ho(i,s),fo(i,hq)})(s=>{const{stackParser:i,attachStacktrace:o}=iE();if(Ht()!==r||Q1())return;const{msg:a,url:c,line:u,column:d,error:h}=s,f=function(m,x,p,b){const y=m.exception=m.exception||{},w=y.values=y.values||[],S=w[0]=w[0]||{},_=S.stacktrace=S.stacktrace||{},C=_.frames=_.frames||[],j=b,T=p,P=cs(x)&&x.length>0?x:function(){try{return J0.document.location.href}catch{return""}}();return C.length===0&&C.push({colno:j,filename:P,function:Xi,in_app:!0,lineno:T}),m}(ty(i,h||a,void 0,o,!1),c,u,d);f.level="error",R1(f,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),sE("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";ho(i,s),fo(i,fq)})(s=>{const{stackParser:i,attachStacktrace:o}=iE();if(Ht()!==r||Q1())return;const a=function(u){if(zv(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(s),c=zv(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:ty(i,a,void 0,o,!0);c.level="error",R1(c,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),sE("onunhandledrejection"))}}};function sE(e){np&&ye.log(`Global Handler attached: ${e}`)}function iE(){const e=Ht();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const _W=()=>({name:"HttpContext",preprocessEvent(e){if(!Ct.navigator&&!Ct.location&&!Ct.document)return;const t=e.request&&e.request.url||Ct.location&&Ct.location.href,{referrer:n}=Ct.document||{},{userAgent:r}=Ct.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),EW=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();Hq(tx,o.stackParser,o.maxValueLength,n,t,r,s)}}};var ry="new",oE="loading",aE="loaded",Yh="joining-meeting",zs="joined-meeting",Is="left-meeting",es="error",kW="blocked",CW="off",jW="sendable",TW="loading",NW="interrupted",oR="playable",Gd="unknown",aR="full",AW="lobby",PW="none",lR="base",RW="*",OW="ejected",IW="nbf-room",MW="nbf-token",DW="exp-room",LW="exp-token",sy="no-room",$W="meeting-full",cR="end-of-life",FW="not-allowed",uR="connection-error",VW="cam-in-use",UW="mic-in-use",BW="cam-mic-in-use",zW="permissions",qW="undefined-mediadevices",WW="not-found",HW="constraints",GW="unknown",dR="iframe-ready-for-launch-config",hR="iframe-launch-config",fR="theme-updated",pR="loading",mR="load-attempt-failed",iy="loaded",gR="started-camera",vR="camera-error",yR="joining-meeting",wR="joined-meeting",xR="left-meeting",bR="participant-joined",SR="participant-updated",_R="participant-left",ER="participant-counts-updated",kR="access-state-updated",CR="meeting-session-summary-updated",jR="meeting-session-state-updated",KW="meeting-session-data-error",TR="waiting-participant-added",NR="waiting-participant-updated",AR="waiting-participant-removed",PR="track-started",RR="track-stopped",OR="transcription-started",IR="transcription-stopped",MR="transcription-error",oy="recording-started",ay="recording-stopped",DR="recording-stats",LR="recording-error",$R="recording-upload-completed",FR="recording-data",VR="app-message",UR="transcription-message",BR="remote-media-player-started",zR="remote-media-player-updated",qR="remote-media-player-stopped",WR="local-screen-share-started",HR="local-screen-share-stopped",GR="local-screen-share-canceled",KR="active-speaker-change",JR="active-speaker-mode-change",YR="network-quality-change",QR="network-connection",XR="cpu-load-change",ZR="face-counts-updated",Kl="fullscreen",Jl="exited-fullscreen",eO="live-streaming-started",tO="live-streaming-updated",nO="live-streaming-stopped",rO="live-streaming-error",sO="lang-updated",iO="receive-settings-updated",ly="input-settings-updated",cy="nonfatal-error",uy="error",Om=4096,lE=102400,Im="iframe-call-message",cE="local-screen-start",uE="daily-method-update-live-streaming-endpoints",dd="transmit-log",us="daily-custom-track",Kd={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},oO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},dy={PLAY:"play",PAUSE:"pause"},Mm=["jpg","png","jpeg"],JW="add-endpoints",YW="remove-endpoints",dE="sip-call-transfer";function Kn(){return!Te()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Te(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function aO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function QW(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(_o(),Qh())||Te())}function hE(){if(Te()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var hy="none",XW="software",ZW="hardware",eH=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?XW:ZW:hy}catch{return hy}}();function lO(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Te()&&eH!==hy&&(e?function(){return fE()?!1:["Chrome","Firefox"].includes(_o())}():function(){if(fE())return!1;var t=_o();if(t==="Safari"){var n=sx();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?rx().major>=77:t==="Firefox"?ix().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function cO(){if(Te()||uO()||typeof AudioWorkletNode>"u")return!1;switch(_o()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Qh();return e.major>17||e.major===17&&e.minor>=4}return!1}function Dm(){return aO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=_o();if(!Kn())return!0;switch(t){case"Chrome":return(e=rx()).major&&e.major>0&&e.major<75;case"Firefox":return(e=ix()).major<91;case"Safari":return(e=sx()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function uO(){return Kn().match(/Linux; Android/)}function fE(){var e,t=Kn(),n=t.match(/Mac/)&&(!Te()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!Kn().match(/DailyAnd\//)||void 0}function _o(){if(typeof window<"u"){var e=Kn();return dO()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||hO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Qh(){switch(_o()){case"Chrome":return rx();case"Safari":return sx();case"Firefox":return ix();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Kn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function rx(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=Kn(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function dO(){return!!Kn().match(/iPad|iPhone|iPod/i)&&aO()}function hO(){return Kn().indexOf("AppleWebKit/605.1.15")>-1}function sx(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Kn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(dO()||hO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function ix(){var e=0,t=0;if(typeof window<"u"){var n=Kn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var fO=function(){return On(function e(){Rn(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){$l()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){$l()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){$l()}},{key:"sendMessageToDailyJs",value:function(e,t){$l()}},{key:"removeListener",value:function(e){$l()}}])}();function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){Lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!e})()}var tH=function(){function e(){var t,n,r,s;return Rn(this,e),n=this,r=kr(r=e),(t=Jf(n,pO()?Reflect.construct(r,[],kr(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return Yf(e,fO),On(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var a=Lm({},o.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var c=a.callbackStamp;s._messageCallbacks[c].call(r,a),delete s._messageCallbacks[c]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==Im||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var a=i.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=Lm({},t);if(i.what=Im,i.from="module",i.callClientId=r,n){var o=Qf();this._messageCallbacks[o]=n,i.callbackStamp=o}var a=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&a.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=Im,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=Lm({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!e})()}var nH=function(){function e(){var t,n,r,s;return Rn(this,e),n=this,r=kr(r=e),t=Jf(n,mO()?Reflect.construct(r,[],kr(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Uv.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Uv.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Yf(e,fO),On(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,a=function(c){if(c.callClientId===r){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(s,c),delete o._messageCallbacks[u]}t.call(s,c)}};this._wrappedListeners[t]=a,n.addListener("message",a)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?mE(Object(d),!0).forEach(function(h){Lr(c,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):mE(Object(d)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))})}return c}({},t);if(o.callClientId=r,s){var a=Qf();this._messageCallbacks[a]=s,o.callbackStamp=a}n.emit("message",o)}}])}(),fy="replace",py="shallow-merge",gE=[fy,py],rH=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?fy:r;Rn(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return On(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===py}},{key:"_validateMergeStrategy",value:function(t){if(!gE.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(gE,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Ae(a)!=="object")return!1;var c=Object.getPrototypeOf(a);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===fy){var s=JSON.parse(r);en(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===py){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));en(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>lE)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(lE,"."))}}])}();function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!e})()}function my(e){var t=typeof Map=="function"?new Map:void 0;return my=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if(gO())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,i);var c=new(s.bind.apply(s,a));return o&&Jc(c,o.prototype),c}(n,arguments,kr(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Jc(r,n)},my(e)}function vO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!e})()}function vE(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var sH=function(){return On(function e(t){Rn(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new iH(n,function(){r(!1)},function(i,o){o||vE(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),vE(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),iH=function(){return On(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Rn(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new yE(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new yE(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),$m=function(){function e(){return Rn(this,e),t=this,r=arguments,n=kr(n=e),Jf(t,vO()?Reflect.construct(n,r||[],kr(t).constructor):n.apply(t,r));var t,n,r}return Yf(e,my(Error)),On(e)}(),Xh=2e4,yE=function(){return On(function t(n,r,s){Rn(this,t),this._loadAttemptImpl=Te()||!n.avoidEval?new oH(n,r,s):new aH(n,r,s)},[{key:"start",value:(e=ge(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),oH=function(){return On(function s(i,o,a){Rn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=a},[{key:"start",value:(r=ge(function*(){var s=qh(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=ge(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=ge(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Xh," ms) when loading call object bundle ").concat(s),type:"timeout"})},Xh);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},a=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new $m;var c=yield this._getBundleCodeFromResponse(s,a);if(this.cancelled)throw new $m;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,a.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof $m||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=ge(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),aH=function(){return On(function e(t,n,r){Rn(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Qf(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=qh(this._dailyConfig);(typeof document>"u"?"undefined":Ae(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Xh," ms) when loading call object bundle ").concat(e),type:"timeout"})},Xh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),hd=function(e,t,n){return cH(e.local,t,n)===!0},lH=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},pa=function(e,t,n,r){var s=uH(e,t,n,r);return s&&s.pendingTrack},cH=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},uH=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},dH=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function wE(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,a=["video","audio"];o<a.length;o++){var c=a[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var h=e.local?lH(n,i,c):pa(n,e.session_id,i,c);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function xE(e,t){try{var n=t.getState();for(var r in e.tracks)if(!hH(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?dH(n,r):pa(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function hH(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function bE(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&hd(r,e.session_id,"cam-audio")){var o=pa(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&hd(r,e.session_id,"cam-video")){var a=pa(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&hd(r,e.session_id,"screen-audio")){var c=pa(r,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&hd(r,e.session_id,"screen-video")){var u=pa(r,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function fH(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return SE(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?SE(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){a=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Rr=new Map,ja=null;function pH(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return _E(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?_E(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){a=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Or=new Map,pc=null;function mH(e){yO()?function(t){Rr.has(t)||(Rr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Rr.has(t)&&(Rr.get(t).lastDevicesString=JSON.stringify(n),ja||(ja=function(){var r=ge(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=fH(Rr.keys());try{for(o.s();!(s=o.n()).done;){var a=s.value,c=JSON.stringify(i);c!==Rr.get(a).lastDevicesString&&(Rr.get(a).lastDevicesString=c,a(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",ja)))}).catch(function(){}))}(e):function(t){Or.has(t)||(Or.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Or.has(t)&&(Or.get(t).lastDevicesString=JSON.stringify(n),pc||(pc=setInterval(ge(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=pH(Or.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=JSON.stringify(s);a!==Or.get(o).lastDevicesString&&(Or.get(o).lastDevicesString=a,o(s))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function gH(e){yO()?function(t){Rr.has(t)&&(Rr.delete(t),Rr.size===0&&ja&&(navigator.mediaDevices.removeEventListener("devicechange",ja),ja=null))}(e):function(t){Or.has(t)&&(Or.delete(t),Or.size===0&&pc&&(clearInterval(pc),pc=null))}(e)}function yO(){var e;return Te()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var vH=new Set;function yH(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!vH.has(n.id)}(e)}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){Lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Yl=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),wH=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),mc=Object.values(Yl),kE=["v","a","sv","sa","cv","ca"];Object.freeze(mc.reduce(function(e,t,n){return e[t]=kE[n],e},{})),Object.freeze(kE.reduce(function(e,t,n){return e[t]=mc[n],e},{}));var xH=[Yl.VIDEO,Yl.AUDIO,Yl.SCREEN_VIDEO,Yl.SCREEN_AUDIO],CE=Object.values(wH),jE=["p","s","t"];Object.freeze(CE.reduce(function(e,t,n){return e[t]=jE[n],e},{})),Object.freeze(jE.reduce(function(e,t,n){return e[t]=CE[n],e},{}));var wO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;Rn(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return On(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof Pt?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Pt?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Pt?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof Pt&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Pt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Pt?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof Pt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Kt(t,2),r=n[0],s=n[1];return[r,s instanceof Pt?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Kt(t,2),r=n[0],s=n[1];return[r,s instanceof Pt?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:Pt.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:Pt.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var a in s={},t.byParticipantId){var c=t.byParticipantId[a];s[a]=typeof c=="boolean"?c:Pt.fromJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:Pt.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:Pt.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var a in s={},t.p){var c=t.p[a];s[a]=typeof c=="boolean"?c:Pt.fromMinifiedJSONObject(c)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Ae(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Kt(Pt.validateJSONObject(t.base,!0),2),a=o[0],c=o[1];if(!a)return[!1,c]}else{if(Ae(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var h=d[u],f=Kt(Pt.validateJSONObject(h),2),m=f[0],x=f[1];if(!m)return[!1,x]}}}return[!0]}}])}(),Pt=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,a=t.customAudio;Rn(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=a}return On(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=As({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=As({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=As({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=As({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=As({},this.customVideo)),this.customAudio!==void 0&&(t.ca=As({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?As({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?As({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Ae(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!mc.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(xH.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Ae(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var a=0,c=Object.values(t[o]);a<c.length;a++)if(typeof c[a]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==mc.length?[!1,'canReceive "base" permission must specify all media types: '.concat(mc.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),bH=["result"],SH=["preserveIframe"];function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){Lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function NE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(c,u){if(c){if(typeof c=="string")return AE(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?AE(c,u):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return o=c.done,c},e:function(c){a=!0,i=c},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function AE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Oi={},PE="video",_H="voice",RE=Te()?{data:{}}:{data:{},topology:"none"},OE={present:0,hidden:0},bO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Fm=Object.keys(bO),IE=["state","volume","simulcastEncodings"],ME={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Zh={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},gy={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Ii={customIntegrations:{validate:NO,help:jO()},customTrayButtons:{validate:TO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Zh))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return AO(e,ME)},help:"reactNativeConfig should look like ".concat(JSON.stringify(ME),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return SO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:us};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:us};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Ae(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return _O(e,{allowAllParticipantsKey:!1})},help:CO({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!EO(e)&&(t._inputSettings||(t._inputSettings={}),kO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:vy()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},fd={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Te()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in i)if(a==="custom"){if(!n.includes(i[a])&&!s(i[a],!0))return!1}else{var c=!o&&!r.includes(a),u=!n.includes(i[a]);if(c||u)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Te()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Kt(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=NE(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!a.includes(u))return!1}}catch(y){c.e(y)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Kt(wO.validateJSONObject(i),2),h=d[0],f=d[1];if(!h)return console.error(f),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,x=["participants","streaming","transcription"],p=NE(i);try{for(p.s();!(m=p.n()).done;){var b=m.value;if(!x.includes(b))return!1}}catch(y){p.e(y)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=ge(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var EH=function(){function e(v){var k,E,A,N,M,U,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Rn(this,e),A=this,N=kr(N=e),Lr(E=Jf(A,xO()?Reflect.construct(N,[],kr(A).constructor):N.apply(A,M)),"startListeningForDeviceChanges",function(){mH(E.handleDeviceChange)}),Lr(E,"stopListeningForDeviceChanges",function(){gH(E.handleDeviceChange)}),Lr(E,"handleDeviceChange",function(X){X=X.map(function(ue){return JSON.parse(JSON.stringify(ue))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:X})}),Lr(E,"handleNativeAppStateChange",function(){var X=ge(function*(ue){if(ue==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Re=ue==="active";E.disableReactNativeAutoDeviceManagement("video")||(Re?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(ue){return X.apply(this,arguments)}}()),Lr(E,"handleNativeAudioFocusChange",function(X){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=X,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),Lr(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!Dm()&&!Te())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=V.strictMode===void 0||V.strictMode,E.allowMultipleCallInstances=(k=V.allowMultipleCallInstances)!==null&&k!==void 0&&k,Object.keys(Oi).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=Qf(),Oi[(U=E).callClientId]=U,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,V.dailyJsVersion=e.version(),E._iframe=v,E._callObjectMode=V.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},V.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!V.showLocalVideo:E._showLocalVideo=!0,V.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!V.showParticipantsBar:E._showParticipantsBar=!0,V.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=V.customIntegrations:E._customIntegrations={},V.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=V.customTrayButtons:E._customTrayButtons={},V.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!V.activeSpeakerMode:E._activeSpeakerMode=!1,V.receiveSettings?E._callObjectMode?E._receiveSettings=V.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(V),E.properties=le({},V),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new sH(E.callClientId):null,E._callState=ry,E._isPreparingToJoin=!1,E._accessState={access:Gd},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=Bm(RE,E._callObjectMode),E._nativeInCallAudioMode=PE,E._participants={},E._isScreenSharing=!1,E._participantCounts=OE,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=Om,E._messageChannel=Te()?new nH:new tH,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Kl}),E.sendMessageToCallMachine({action:Kl})):(E.emitDailyJSEvent({action:Jl}),E.sendMessageToCallMachine({action:Jl}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Kl}),E.sendMessageToCallMachine({action:Kl})):(E.emitDailyJSEvent({action:Jl}),E.sendMessageToCallMachine({action:Jl}))})),Te()){var H=E.nativeUtils();H.addAudioFocusChangeListener&&H.removeAudioFocusChangeListener&&H.addAppStateChangeListener&&H.removeAppStateChangeListener&&H.addSystemScreenCaptureStopListener&&H.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,H.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),H.addAppStateChangeListener(E.handleNativeAppStateChange),H.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return Yf(e,rd),On(e,[{key:"destroy",value:(ne=ge(function*(){var v;try{yield this.leave()}catch{}var k=this._iframe;if(k){var E=k.parentElement;E&&E.removeChild(k)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Te()){var A=this.nativeUtils();A.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),A.removeAppStateChangeListener(this.handleNativeAppStateChange),A.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Oi[this.callClientId],!((v=window)===null||v===void 0||(v=v._daily)===null||v===void 0)&&v.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return ne.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(v){var k=v.bodyClass,E=v.cssFile,A=v.cssText;return je(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:k,cssText:A}),this}},{key:"iframe",value:function(){return je(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return sr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return sr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(v,k){for(var E in k){if(!fd[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(fd[E].validate&&!fd[E].validate(k[E],this,this._participants[v]))throw new Error(fd[E].help)}}},{key:"updateParticipant",value:function(v,k){return this._participants.local&&this._participants.local.session_id===v&&(v="local"),v&&k&&(this.validateParticipantProperties(v,k),this.sendMessageToCallMachine({action:"update-participant",id:v,properties:k})),this}},{key:"updateParticipants",value:function(v){var k=this._participants.local&&this._participants.local.session_id;for(var E in v)E===k&&(E="local"),E&&v[E]&&this.validateParticipantProperties(E,v[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:v}),this}},{key:"updateWaitingParticipant",value:(ee=ge(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(sr(this._callObjectMode,"updateWaitingParticipant()"),Ve(this._callState,"updateWaitingParticipant()"),typeof k!="string"||Ae(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(A,N){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:k,updates:E},function(M){M.error&&N(M.error),M.id||N(new Error("unknown error in updateWaitingParticipant()")),A({id:M.id})})})}),function(){return ee.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(z=ge(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(sr(this._callObjectMode,"updateWaitingParticipants()"),Ve(this._callState,"updateWaitingParticipants()"),Ae(k)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,A){v.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:k},function(N){N.error&&A(N.error),N.ids||A(new Error("unknown error in updateWaitingParticipants()")),E({ids:N.ids})})})}),function(){return z.apply(this,arguments)})},{key:"requestAccess",value:($=ge(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=k.access,A=E===void 0?{level:aR}:E,N=k.name,M=N===void 0?"":N;return sr(this._callObjectMode,"requestAccess()"),Ve(this._callState,"requestAccess()"),new Promise(function(U,V){v.sendMessageToCallMachine({action:"daily-method-request-access",access:A,name:M},function(H){H.error&&V(H.error),H.access||V(new Error("unknown error in requestAccess()")),U({access:H.access,granted:H.granted})})})}),function(){return $.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in k&&(Te()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),k={}):v&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),k={})),this.sendMessageToCallMachine({action:"local-audio",state:v,options:k}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(v){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:v}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(v){return this.sendMessageToCallMachine({action:"local-video",state:v}),this}},{key:"_setAllowLocalAudio",value:function(v){if(this._preloadCache.allowLocalAudio=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:v}),this}},{key:"_setAllowLocalVideo",value:function(v){if(this._preloadCache.allowLocalVideo=v,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:v}),this}},{key:"getReceiveSettings",value:(L=ge(function*(v){var k=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,A=E!==void 0&&E;if(sr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ae(v)){case"string":return new Promise(function(N){k.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:v,showInheritedValues:A},function(M){N(M.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(v){return L.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Y=ge(function*(v){var k=this;if(sr(this._callObjectMode,"updateReceiveSettings()"),!_O(v,{allowAllParticipantsKey:!0}))throw new Error(CO({allowAllParticipantsKey:!0}));return Ve(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){k.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:v},function(A){E({receiveSettings:A.receiveSettings})})})}),function(v){return Y.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(v,k){if(v){var E={};if(v.audio){var A,N,M;v.audio.settings&&(!Object.keys(v.audio.settings).length&&k||(E.audio={settings:le({},v.audio.settings)})),k&&(A=E.audio)!==null&&A!==void 0&&(A=A.settings)!==null&&A!==void 0&&A.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var U=((N=v.audio.processor)===null||N===void 0?void 0:N.type)==="none"&&((M=v.audio.processor)===null||M===void 0?void 0:M._isDefaultWhenNone);if(v.audio.processor&&!U){var V=le({},v.audio.processor);delete V._isDefaultWhenNone,E.audio=le(le({},E.audio),{},{processor:V})}}if(v.video){var H,X,ue;v.video.settings&&(!Object.keys(v.video.settings).length&&k||(E.video={settings:le({},v.video.settings)})),k&&(H=E.video)!==null&&H!==void 0&&(H=H.settings)!==null&&H!==void 0&&H.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Re=((X=v.video.processor)===null||X===void 0?void 0:X.type)==="none"&&((ue=v.video.processor)===null||ue===void 0?void 0:ue._isDefaultWhenNone);if(v.video.processor&&!Re){var dt=le({},v.video.processor);delete dt._isDefaultWhenNone,E.video=le(le({},E.video),{},{processor:dt})}}return E}}},{key:"getInputSettings",value:function(){var v=this;return je(),new Promise(function(k){k(v._getInputSettings())})}},{key:"_getInputSettings",value:function(){var v,k,E,A,N,M,U={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(v=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||U,k=((A=this._inputSettings)===null||A===void 0?void 0:A.audio)||U):(v=((N=this._preloadCache)===null||N===void 0||(N=N.inputSettings)===null||N===void 0?void 0:N.video)||U,k=((M=this._preloadCache)===null||M===void 0||(M=M.inputSettings)===null||M===void 0?void 0:M.audio)||U);var V={audio:k,video:v};return this._prepInputSettingsForSharing(V,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(v,k){var E=this._inputSettings||{},A={};if(v.video){var N,M,U;A.video={},v.video.settings?(A.video.settings={},k||v.video.settings.customTrack||(U=E.video)===null||U===void 0||!U.settings?A.video.settings=v.video.settings:A.video.settings=le(le({},E.video.settings),v.video.settings),Object.keys(A.video.settings).length||delete A.video.settings):(N=E.video)!==null&&N!==void 0&&N.settings&&(A.video.settings=E.video.settings),v.video.processor?A.video.processor=v.video.processor:(M=E.video)!==null&&M!==void 0&&M.processor&&(A.video.processor=E.video.processor)}else E.video&&(A.video=E.video);if(v.audio){var V,H,X;A.audio={},v.audio.settings?(A.audio.settings={},k||v.audio.settings.customTrack||(X=E.audio)===null||X===void 0||!X.settings?A.audio.settings=v.audio.settings:A.audio.settings=le(le({},E.audio.settings),v.audio.settings),Object.keys(A.audio.settings).length||delete A.audio.settings):(V=E.audio)!==null&&V!==void 0&&V.settings&&(A.audio.settings=E.audio.settings),v.audio.processor?A.audio.processor=v.audio.processor:(H=E.audio)!==null&&H!==void 0&&H.processor&&(A.audio.processor=E.audio.processor)}else E.audio&&(A.audio=E.audio);this._maybeUpdateInputSettings(A)}},{key:"_devicesFromInputSettings",value:function(v){var k,E,A=(v==null||(k=v.video)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,N=(v==null||(E=v.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,M=this._preloadCache.outputDeviceId||null;return{camera:A?{deviceId:A}:{},mic:N?{deviceId:N}:{},speaker:M?{deviceId:M}:{}}}},{key:"updateInputSettings",value:(J=ge(function*(v){var k=this;return je(),EO(v)?v.video||v.audio?(kO(v,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(v,!0),this._getInputSettings()):new Promise(function(E,A){k.sendMessageToCallMachine({action:"update-input-settings",inputSettings:v},function(N){if(N.error)A(N.error);else{if(N.returnPreloadCache)return k._updatePreloadCacheInputSettings(v,!0),void E(k._getInputSettings());k._maybeUpdateInputSettings(N.inputSettings),E(k._prepInputSettingsForSharing(N.inputSettings,!0))}})})):this._getInputSettings():(console.error(vy()),Promise.reject(vy()))}),function(v){return J.apply(this,arguments)})},{key:"setBandwidth",value:function(v){var k=v.kbs,E=v.trackConstraints;if(je(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:k,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var v=this;if(je(),this._callMachineInitialized)return new Promise(function(k){v.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,k(E)})})}},{key:"setDailyLang",value:function(v){return je(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:v}),this}},{key:"setProxyUrl",value:function(v){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:v}),this}},{key:"setIceConfig",value:function(v){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:v}),this}},{key:"meetingSessionSummary",value:function(){return[Is,es].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Q=ge(function*(){var v=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ve(this._callState,"getMeetingSession()"),new Promise(function(k){v.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,k(E)})})}),function(){return Q.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ve(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";sr(this._callObjectMode,"setMeetingSessionData()"),Ve(this._callState,"setMeetingSessionData");try{(function(E,A){new rH({data:E,mergeStrategy:A})})(v,k)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:v,mergeStrategy:k})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(v,k){var E=this;return this.properties.userName=v,new Promise(function(A){E.sendMessageToCallMachine({action:"set-user-name",name:v??"",thisMeetingOnly:Te()||!!k&&!!k.thisMeetingOnly},function(N){delete N.action,delete N.callbackStamp,A(N)})})}},{key:"setUserData",value:(F=ge(function*(v){var k=this;try{SO(v)}catch(E){throw console.error(E),E}if(this.properties.userData=v,this._callMachineInitialized)return new Promise(function(E){try{k.sendMessageToCallMachine({action:"set-user-data",userData:v},function(A){delete A.action,delete A.callbackStamp,E(A)})}catch(A){throw new Error("Error setting user data: ".concat(A))}})}),function(v){return F.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(v){if(v&&(v<100||typeof v!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(v){var k=this;if(typeof AudioWorkletNode>"u"&&!Te())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,A){k.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:v},function(N){k._isLocalAudioLevelObserverRunning=!N.error,N.error?A({error:N.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:v}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(v){var k=this;if(this.validateAudioLevelInterval(v),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,A){k.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:v},function(N){k._isRemoteParticipantsAudioLevelObserverRunning=!N.error,N.error?A({error:N.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:v}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(W=ge(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(sr(this._callObjectMode,"startCamera()"),Vm(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(k)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(k),this.properties=le(le({},this.properties),k)}return new Promise(function(E){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"start-camera",properties:Fo(v.properties,v.callClientId),preloadCache:Fo(v._preloadCache,v.callClientId)},function(A){E({camera:A.camera,mic:A.mic,speaker:A.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"validateCustomTrack",value:function(v,k,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(k&&k!=="music"&&k!=="speech"&&!(k instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(v instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return je(),Ve(this._callState,"startCustomTrack()"),this.validateCustomTrack(k.track,k.mode,k.trackName),new Promise(function(E,A){v._sharedTracks.customTrack=k.track,k.track=us,v.sendMessageToCallMachine({action:"start-custom-track",properties:k},function(N){N.error?A({error:N.error}):E(N.mediaTag)})})}},{key:"stopCustomTrack",value:function(v){var k=this;return je(),Ve(this._callState,"stopCustomTrack()"),new Promise(function(E){k.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:v},function(A){E(A.mediaTag)})})}},{key:"setCamera",value:function(v){var k=this;return Fl(),pd(this._callMachineInitialized,"setCamera()"),new Promise(function(E){k.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:v},function(A){E({device:A.device})})})}},{key:"setAudioDevice",value:(D=ge(function*(v){return Fl(),this.nativeUtils().setAudioDevice(v),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(v){return D.apply(this,arguments)})},{key:"cycleCamera",value:function(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){v.sendMessageToCallMachine({action:"cycle-camera",properties:k},function(A){E({device:A.device})})})}},{key:"cycleMic",value:function(){var v=this;return je(),new Promise(function(k){v.sendMessageToCallMachine({action:"cycle-mic"},function(E){k({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var v=this;return Fl(),new Promise(function(k){v.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){k(E.facingMode)})})}},{key:"setInputDevicesAsync",value:(R=ge(function*(v){var k=this,E=v.audioDeviceId,A=v.videoDeviceId,N=v.audioSource,M=v.videoSource;if(je(),N!==void 0&&(E=N),M!==void 0&&(A=M),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof A=="boolean"&&(this._setAllowLocalVideo(A),A=void 0),!E&&!A)return yield this.getInputDevices();var U={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=us,U.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,U.audio={settings:{deviceId:E}})),A&&(A instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=A,A=us,U.video={settings:{customTrack:A}}):(delete this._sharedTracks.videoTrack,U.video={settings:{deviceId:A}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(U,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(V){k.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:A},function(H){if(delete H.action,delete H.callbackStamp,H.returnPreloadCache)return k._updatePreloadCacheInputSettings(U,!1),void V(k._devicesFromInputSettings(k._inputSettings));V(H)})})}),function(v){return R.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(I=ge(function*(v){var k=this,E=v.outputDeviceId;if(je(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(A,N){k.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(M){if(delete M.action,delete M.callbackStamp,M.error){var U=new Error(M.error.message);return U.type=M.error.type,void N(U)}M.returnPreloadCache?A(k._devicesFromInputSettings(k._inputSettings)):A(M)})})}),function(v){return I.apply(this,arguments)})},{key:"getInputDevices",value:(O=ge(function*(){var v=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(k){v.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?k(v._devicesFromInputSettings(v._inputSettings)):k({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return O.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Fl(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(v){if(Fl(),[PE,_H].includes(v)){if(v!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=v,!this.disableReactNativeAutoDeviceManagement("audio")&&Jd(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",v)}},{key:"preAuth",value:(P=ge(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(sr(this._callObjectMode,"preAuth()"),Vm(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(k)),!k.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(k),this.properties=le(le({},this.properties),k),new Promise(function(E,A){v._preloadCache.inputSettings=v._prepInputSettingsForSharing(v._inputSettings,!1),v.sendMessageToCallMachine({action:"daily-method-preauth",properties:Fo(v.properties,v.callClientId),preloadCache:Fo(v._preloadCache,v.callClientId)},function(N){return N.error?A(N.error):N.access?(v._didPreAuth=!0,void E({access:N.access})):A(new Error("unknown error in preAuth()"))})})}),function(){return P.apply(this,arguments)})},{key:"load",value:(T=ge(function*(v){var k=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(v&&(this.validateProperties(v),this.properties=le(le({},this.properties),v)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(oE),this.emitDailyJSEvent({action:pR}),this._callObjectMode?new Promise(function(E,A){k._callObjectLoader.cancel();var N=Date.now();k._callObjectLoader.load(k.properties.dailyConfig,function(M){k._bundleLoadTime=M?"no-op":Date.now()-N,k._updateCallState(aE),M&&k.emitDailyJSEvent({action:iy}),E()},function(M,U){if(k.emitDailyJSEvent({action:mR}),!U){k._updateCallState(es),k.resetMeetingDependentVars();var V={action:uy,errorMsg:M.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:M,bundleUrl:qh(k.properties.dailyConfig)}}};k._maybeSendToSentry(V),k.emitDailyJSEvent(V),A(M.msg)}})}):(this._iframe.src=qP(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,A){k._loadedCallback=function(N){k._callState!==es?(k._updateCallState(aE),(k.properties.cssFile||k.properties.cssText)&&k.loadCss(k.properties),E()):A(N)}}))}}),function(v){return T.apply(this,arguments)})},{key:"join",value:(j=ge(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(k)}catch(A){return this.updateIsPreparingToJoin(!1),Promise.reject(A)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(k.url&&!this._callObjectMode&&k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(k.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(k),this.properties=le(le({},this.properties),k)}return k.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!k.showLocalVideo),k.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!k.showParticipantsBar),this._callState===zs||this._callState===Yh?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Yh,!1),this.emitDailyJSEvent({action:yR}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Fo(this.properties,this.callClientId),preloadCache:Fo(this._preloadCache,this.callClientId)}),new Promise(function(A,N){v._joinedCallback=function(M,U){if(v._callState!==es){if(v._updateCallState(zs),M)for(var V in M){if(v._callObjectMode){var H=v._callMachine().store;wE(M[V],H),xE(M[V],H),bE(M[V],v._participants[V],H)}v._participants[V]=le({},M[V]),v.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&v.loadCss(v.properties),A(M)}else N(U)}}))}),function(){return j.apply(this,arguments)})},{key:"leave",value:(C=ge(function*(){var v=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(k){v._callState===Is||v._callState===es?k():v._callObjectLoader&&!v._callObjectLoader.loaded?(v._callObjectLoader.cancel(),v._updateCallState(Is),v.resetMeetingDependentVars(),v.emitDailyJSEvent({action:Is}),k()):(v._resolveLeave=k,v.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return C.apply(this,arguments)})},{key:"startScreenShare",value:(_=ge(function*(){var v=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(pd(this._callMachineInitialized,"startScreenShare()"),k.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",k.screenVideoSendSettings),k.mediaStream&&(this._sharedTracks.screenMediaStream=k.mediaStream,k.mediaStream=us),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:cy,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),v.sendMessageToCallMachine({action:cE,captureOptions:k})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:cE,captureOptions:k})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){pd(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=v.type;if(k&&k!=="cloud"&&k!=="raw-tracks"&&k!=="local")throw new Error("invalid type: ".concat(k,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(le({action:"local-recording-start"},v))}},{key:"updateRecording",value:function(v){var k=v.layout,E=k===void 0?{preset:"default"}:k,A=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:A})}},{key:"stopRecording",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"local-recording-stop"},v))}},{key:"startLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-start-live-streaming"},v))}},{key:"updateLiveStreaming",value:function(v){var k=v.layout,E=k===void 0?{preset:"default"}:k,A=v.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:A})}},{key:"addLiveStreamingEndpoints",value:function(v){var k=v.endpoints,E=v.instanceId;this.sendMessageToCallMachine({action:uE,endpointsOp:JW,endpoints:k,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(v){var k=v.endpoints,E=v.instanceId;this.sendMessageToCallMachine({action:uE,endpointsOp:YW,endpoints:k,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-stop-live-streaming"},v))}},{key:"validateDailyConfig",value:function(v){v.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(v.camSimulcastEncodings)),v.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),uO()&&v.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(v){if(!(v instanceof Array||Array.isArray(v)))throw new Error("encodings must be an Array");if(!VE(v.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var A=0;A<v.length;A++){var N=v[A];for(var M in this._validateEncodingLayerHasValidProperties(N),N)if(Fm.includes(M)){if(typeof N[M]!="number")throw new Error("".concat(M," must be a number"));if(k){var U=k[M],V=U.min,H=U.max;if(!VE(N[M],V,H))throw new Error("".concat(M," value not in range. valid range: ").concat(V," to ").concat(H))}}else if(!["active","scalabilityMode"].includes(M))throw new Error("Invalid key ".concat(M,", valid keys are:")+Object.values(Fm));if(E&&!N.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=ge(function*(v){var k=this,E=v.url,A=v.settings,N=A===void 0?{state:dy.PLAY}:A;try{(function(M){if(typeof M!="string")throw new Error('url parameter must be "string" type')})(E),FE(N),function(M){for(var U in M)if(!IE.includes(U))throw new Error("Invalid key ".concat(U,", valid keys are: ").concat(IE));M.simulcastEncodings&&this.validateSimulcastEncodings(M.simulcastEncodings,bO,!0)}(N)}catch(M){throw console.error("invalid argument Error: ".concat(M)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),M}return new Promise(function(M,U){k.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:N},function(V){V.error?U({error:V.error,errorMsg:V.errorMsg}):M({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(v){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=ge(function*(v){var k=this;if(typeof v!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,A){k.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:v},function(N){N.error?A({error:N.error,errorMsg:N.errorMsg}):E()})})}),function(v){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=ge(function*(v){var k=this,E=v.session_id,A=v.settings;try{FE(A)}catch(N){throw console.error("invalid argument Error: ".concat(N)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),N}return new Promise(function(N,M){k.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:A},function(U){U.error?M({error:U.error,errorMsg:U.errorMsg}):N({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(v){return y.apply(this,arguments)})},{key:"startTranscription",value:function(v){Ve(this._callState,"startTranscription()"),this.sendMessageToCallMachine(le({action:"daily-method-start-transcription"},v))}},{key:"updateTranscription",value:function(v){if(Ve(this._callState,"updateTranscription()"),!v)throw new Error("updateTranscription Error: options is mandatory");if(Ae(v)!=="object")throw new Error("updateTranscription Error: options must be object type");if(v.participants&&!Array.isArray(v.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(le({action:"daily-method-update-transcription"},v))}},{key:"stopTranscription",value:function(v){if(Ve(this._callState,"stopTranscription()"),v&&Ae(v)!=="object")throw new Error("stopTranscription Error: options must be object type");if(v&&!v.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(le({action:"daily-method-stop-transcription"},v))}},{key:"startDialOut",value:(b=ge(function*(v){var k=this;Ve(this._callState,"startDialOut()");var E=function(U){if(U){if(!Array.isArray(U))throw new Error("Error starting dial out: audio codec must be an array");if(U.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");U.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: audio codec must be a string");if(V!=="OPUS"&&V!=="PCMU"&&V!=="PCMA"&&V!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!v.sipUri&&!v.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(v.sipUri&&v.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(v.sipUri){if(typeof v.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!v.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(v.video&&typeof v.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(U){if(U&&(E(U.audio),U.video)){if(!Array.isArray(U.video))throw new Error("Error starting dial out: video codec must be an array");if(U.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");U.video.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: video codec must be a string");if(V!=="H264"&&V!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(v.codecs)}if(v.phoneNumber){if(typeof v.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(v.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");v.codecs&&E(v.codecs.audio)}if(v.callerId){if(typeof v.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(v.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(v.displayName){if(typeof v.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(v.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(v.userId){if(typeof v.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(v.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(DE(v),v.permissions&&v.permissions.canReceive){var A=Kt(wO.validateJSONObject(v.permissions.canReceive),2),N=A[0],M=A[1];if(!N)throw new Error(M)}if(v.provider){if(v.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(v.provider));if(v.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(U,V){k.sendMessageToCallMachine(le({action:"dialout-start"},v),function(H){H.error?V(H.error):U(H)})})}),function(v){return b.apply(this,arguments)})},{key:"stopDialOut",value:function(v){var k=this;return Ve(this._callState,"stopDialOut()"),new Promise(function(E,A){k.sendMessageToCallMachine(le({action:"dialout-stop"},v),function(N){N.error?A(N.error):E(N)})})}},{key:"sipCallTransfer",value:(p=ge(function*(v){var k=this;if(Ve(this._callState,"sipCallTransfer()"),!v)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return v.useSipRefer=!1,$E(v,"sipCallTransfer"),DE(v),new Promise(function(E,A){k.sendMessageToCallMachine(le({action:dE},v),function(N){N.error?A(N.error):E(N)})})}),function(v){return p.apply(this,arguments)})},{key:"sipRefer",value:(x=ge(function*(v){var k=this;if(Ve(this._callState,"sipRefer()"),!v)throw new Error("sessionId and toEndPoint are mandatory parameter");return v.useSipRefer=!0,$E(v,"sipRefer"),new Promise(function(E,A){k.sendMessageToCallMachine(le({action:dE},v),function(N){N.error?A(N.error):E(N)})})}),function(v){return x.apply(this,arguments)})},{key:"sendDTMF",value:(m=ge(function*(v){var k=this;return Ve(this._callState,"sendDTMF()"),function(E){var A=E.sessionId,N=E.tones;if(!A||!N)throw new Error("sessionId and tones are mandatory parameter");if(typeof A!="string"||typeof N!="string")throw new Error("sessionId and tones should be of string type");if(N.length>20)throw new Error("tones string must be upto 20 characters");var M=/[^0-9A-D*#]/g,U=N.match(M);if(U&&U[0])throw new Error("".concat(U[0]," is not valid DTMF tone"))}(v),new Promise(function(E,A){k.sendMessageToCallMachine(le({action:"send-dtmf"},v),function(N){N.error?A(N.error):E(N)})})}),function(v){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var v=this;return this._callState!==zs?Promise.resolve(le({stats:{latest:{}}},this._network)):new Promise(function(k){v.sendMessageToCallMachine({action:"get-calc-stats"},function(E){k(le(le({},v._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(f=ge(function*(){var v=this;if(Um(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}return new Promise(function(k,E){v.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(A){A.error?E(A.error):k(A.results)})})}),function(){return f.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(v){return v?v instanceof MediaStreamTrack?!!yH(v)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=ge(function*(){var v=this;je(),sr(this._callObjectMode,"testCallQuality()"),pd(this._callMachineInitialized,"testCallQuality()",null,!0),Vm(this._callState,this._isPreparingToJoin,"testCallQuality()");var k=this._testCallAlreadyInProgress,E=function(N){k||(v._testCallInProgress=N)};if(E(!0),this.needsLoad())try{var A=this._callState;yield this.load(),this._callState=A}catch(N){return E(!1),Promise.reject(N)}return new Promise(function(N){v.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:v.properties.dailyJsVersion},function(M){var U=M.results,V=U.result,H=t1(U,bH);if(V==="failed"){var X,ue=le({},H);(X=H.error)!==null&&X!==void 0&&X.details?(H.error.details=JSON.parse(H.error.details),ue.error=le(le({},ue.error),{},{details:le({},ue.error.details)}),ue.error.details.duringTest="testCallQuality"):(ue.error=ue.error?le({},ue.error):{},ue.error.details={duringTest:"testCallQuality"}),v._maybeSendToSentry(ue)}E(!1),N(le({result:V},H))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=ge(function*(v){var k;Te()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),k=yield this.testPeerToPeerCallQuality(v)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),k=yield this.testCallQuality());var E={result:k.result,secondsElapsed:k.secondsElapsed};return k.data&&(E.data={maxRTT:k.data.maxRoundTripTime,packetLoss:k.data.avgRecvPacketLoss}),E}),function(v){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=ge(function*(v){var k=this;if(Um(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(N){return Promise.reject(N)}var E=v.videoTrack,A=v.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(N,M){k.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:A},function(U){U.error?M(U.error):N(U.results)})})}),function(v){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Te()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=ge(function*(v){var k=this;if(Um(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(v))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=v,new Promise(function(E,A){k.sendMessageToCallMachine({action:"test-network-connectivity"},function(N){N.error?A(N.error):E(N.results)})})}),function(v){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var v=this;return new Promise(function(k){v._callState===zs?v.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){k(E.cpuStats)}):k({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(v){var k;if(!(((k=Object.keys(v))===null||k===void 0?void 0:k.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Fm))}},{key:"_validateVideoSendSettings",value:function(v,k){var E=v==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],A="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof k=="string"){if(!E.includes(k))throw new Error(A)}else{if(Ae(k)!=="object")throw new Error(A);if(!k.maxQuality&&!k.encodings&&k.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(k.maxQuality&&["low","medium","high"].indexOf(k.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(k.encodings){var N=!1;switch(Object.keys(k.encodings).length){case 1:N=!k.encodings.low;break;case 2:N=!k.encodings.low||!k.encodings.medium;break;case 3:N=!k.encodings.low||!k.encodings.medium||!k.encodings.high;break;default:N=!0}if(N)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");k.encodings.low&&this._validateEncodingLayerHasValidProperties(k.encodings.low),k.encodings.medium&&this._validateEncodingLayerHasValidProperties(k.encodings.medium),k.encodings.high&&this._validateEncodingLayerHasValidProperties(k.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(v){var k=this;if(!v||Object.keys(v).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(v).forEach(function(E){var A=Kt(E,2),N=A[0],M=A[1];k._validateVideoSendSettings(N,M)})}},{key:"updateSendSettings",value:function(v){var k=this;return this.validateUpdateSendSettings(v),this.needsLoad()?(this._preloadCache.sendSettings=v,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,A){k.sendMessageToCallMachine({action:"update-send-settings",sendSettings:v},function(N){N.error?A(N.error):E(N.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return je(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(v){return je(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:v}),this}},{key:"activeSpeakerMode",value:function(){return je(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(v){return Ve(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=v,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:v}),this}},{key:"enumerateDevices",value:(a=ge(function*(){var v=this;if(this._callObjectMode){var k=yield navigator.mediaDevices.enumerateDevices();return _o()==="Firefox"&&Qh().major>115&&Qh().major<123&&(k=k.filter(function(E){return E.kind!=="audiooutput"})),{devices:k.map(function(E){var A=JSON.parse(JSON.stringify(E));if(!Te()&&E.kind==="videoinput"&&E.getCapabilities){var N,M=E.getCapabilities();A.facing=(M==null||(N=M.facingMode)===null||N===void 0?void 0:N.length)>=1?M.facingMode[0]:void 0}return A})}}return new Promise(function(E){v.sendMessageToCallMachine({action:"enumerate-devices"},function(A){E({devices:A.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ve(this._callState,"sendAppMessage()"),JSON.stringify(v).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:v,to:k}),this}},{key:"addFakeParticipant",value:function(v){return je(),Ve(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(le({action:"add-fake-participant"},v)),this}},{key:"setShowNamesMode",value:function(v){return vn(this._callObjectMode,"setShowNamesMode()"),je(),v&&v!=="always"&&v!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:v}),this)}},{key:"setShowLocalVideo",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return vn(this._callObjectMode,"setShowLocalVideo()"),je(),Ve(this._callState,"setShowLocalVideo()"),typeof v!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:v}),this._showLocalVideo=v,this)}},{key:"showLocalVideo",value:function(){return vn(this._callObjectMode,"showLocalVideo()"),je(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var v=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return vn(this._callObjectMode,"setShowParticipantsBar()"),je(),Ve(this._callState,"setShowParticipantsBar()"),typeof v!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:v}),this._showParticipantsBar=v,this)}},{key:"showParticipantsBar",value:function(){return vn(this._callObjectMode,"showParticipantsBar()"),je(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return je(),vn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(v){return je(),vn(this._callObjectMode,"setCustomIntegrations()"),Ve(this._callState,"setCustomIntegrations()"),NO(v)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:v}),this._customIntegrations=v,this):this}},{key:"startCustomIntegrations",value:function(v){var k=this;if(je(),vn(this._callObjectMode,"startCustomIntegrations()"),Ve(this._callState,"startCustomIntegrations()"),Array.isArray(v)&&v.some(function(N){return typeof N!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof v=="string"?[v]:v,A=E.filter(function(N){return!(N in k._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(v){var k=this;if(je(),vn(this._callObjectMode,"stopCustomIntegrations()"),Ve(this._callState,"stopCustomIntegrations()"),Array.isArray(v)&&v.some(function(N){return typeof N!="string"})||!Array.isArray(v)&&typeof v!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof v=="string"?[v]:v,A=E.filter(function(N){return!(N in k._customIntegrations)});return A.length?(console.error(`Can't find custom integration(s): "`.concat(A.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return vn(this._callObjectMode,"customTrayButtons()"),je(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(v){return vn(this._callObjectMode,"updateCustomTrayButtons()"),je(),Ve(this._callState,"updateCustomTrayButtons()"),TO(v)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:v}),this._customTrayButtons=v,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Zh))),this)}},{key:"theme",value:function(){return vn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(v){var k=this;return vn(this._callObjectMode,"setTheme()"),new Promise(function(E,A){try{k.validateProperties({theme:v}),k.properties.theme=le({},v),k.sendMessageToCallMachine({action:"set-theme",theme:k.properties.theme});try{k.emitDailyJSEvent({action:fR,theme:k.properties.theme})}catch(N){console.log("could not emit 'theme-updated'",N)}E(k.properties.theme)}catch(N){A(N)}})}},{key:"requestFullscreen",value:(o=ge(function*(){if(je(),this._iframe&&!document.fullscreenElement&&hE())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(v){console.log("could not make video call fullscreen",v)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){je(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=ge(function*(){var v=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(k){v.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){k(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(v){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:v}),this)}},{key:"room",value:(s=ge(function*(){var v=this,k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=k===void 0||k;return this._accessState.access===Gd||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(A){v.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(N){delete N.action,delete N.callbackStamp,A(N)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=ge(function*(){try{var v=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield v.json()).geo}}catch(k){return console.error("geo lookup failed",k),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=ge(function*(v){var k=this;return je(),Ve(this._callState,"setNetworkTopology()"),new Promise(function(E,A){k.sendMessageToCallMachine({action:"set-network-topology",opts:v},function(N){N.error?A({error:N.error}):E({workerId:N.workerId})})})}),function(v){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=ge(function*(){var v=this;return new Promise(function(k,E){v.needsLoad()&&k({topology:"none"}),v.sendMessageToCallMachine({action:"get-network-topology"},function(A){A.error?E({error:A.error}):k({topology:A.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(v){if(je(),typeof v!="number"&&v!==!0&&v!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(v));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:v})}},{key:"on",value:function(v,k){return rd.prototype.on.call(this,v,k)}},{key:"once",value:function(v,k){return rd.prototype.once.call(this,v,k)}},{key:"off",value:function(v,k){return rd.prototype.off.call(this,v,k)}},{key:"validateProperties",value:function(v){var k,E;if(v!=null&&(k=v.dailyConfig)!==null&&k!==void 0&&k.userMediaAudioConstraints){var A,N;Te()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var M=v.inputSettings||{};M.audio=((A=v.inputSettings)===null||A===void 0?void 0:A.audio)||{},M.audio.settings=((N=v.inputSettings)===null||N===void 0||(N=N.audio)===null||N===void 0?void 0:N.settings)||{},M.audio.settings=le(le({},M.audio.settings),v.dailyConfig.userMediaAudioConstraints),v.inputSettings=M,delete v.dailyConfig.userMediaAudioConstraints}if(v!=null&&(E=v.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var U,V;Te()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var H=v.inputSettings||{};H.video=((U=v.inputSettings)===null||U===void 0?void 0:U.video)||{},H.video.settings=((V=v.inputSettings)===null||V===void 0||(V=V.video)===null||V===void 0?void 0:V.settings)||{},H.video.settings=le(le({},H.video.settings),v.dailyConfig.userMediaVideoConstraints),v.inputSettings=H,delete v.dailyConfig.userMediaVideoConstraints}for(var X in v)if(Ii[X]){if(Ii[X].validate&&!Ii[X].validate(v[X],this))throw new Error("property '".concat(X,"': ").concat(Ii[X].help))}else console.warn("Ignoring unrecognized property '".concat(X,"'")),delete v[X]}},{key:"assembleMeetingUrl",value:function(){var v,k,E=le(le({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(v=this.properties.dailyConfig)!==null&&v!==void 0&&v.proxyUrl?encodeURIComponent((k=this.properties.dailyConfig)===null||k===void 0?void 0:k.proxyUrl):void 0}),A=E.url.match(/\?/)?"&":"?";return E.url+A+Object.keys(Ii).filter(function(N){return Ii[N].queryString&&E[N]!==void 0}).map(function(N){return"".concat(Ii[N].queryString,"=").concat(E[N])}).join("&")}},{key:"needsLoad",value:function(){return[ry,oE,Is,es].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(v,k){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(v,k,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(v){this._messageChannel.forwardPackagedMessageToCallMachine(v,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(v){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(v,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(v){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(v)}},{key:"handleMessageFromCallMachine",value:function(v){switch(v.action){case dR:this.sendMessageToCallMachine(le({action:hR},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var k={action:dd,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:qh(this.properties.dailyConfig)}};this.sendMessageToCallMachine(k),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case iy:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(v);break;case wR:var E,A=le({},v);delete A.internal,this._maxAppMessageSize=((E=v.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||Om,this._joinedCallback&&(this._joinedCallback(v.participants),this._joinedCallback=null),this.emitDailyJSEvent(A);break;case bR:case SR:if(this._callState===Is)return;if(v.participant&&v.participant.session_id){var N=v.participant.local?"local":v.participant.session_id;if(this._callObjectMode){var M=this._callMachine().store;wE(v.participant,M),xE(v.participant,M),bE(v.participant,this._participants[N],M)}try{this.maybeParticipantTracksStopped(this._participants[N],v.participant),this.maybeParticipantTracksStarted(this._participants[N],v.participant),this.maybeEventRecordingStopped(this._participants[N],v.participant),this.maybeEventRecordingStarted(this._participants[N],v.participant)}catch(At){console.error("track events error",At)}this.compareEqualForParticipantUpdateEvent(v.participant,this._participants[N])||(this._participants[N]=le({},v.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(v))}break;case _R:if(v.participant&&v.participant.session_id){var U=this._participants[v.participant.session_id];U&&this.maybeParticipantTracksStopped(U,null),delete this._participants[v.participant.session_id],this.emitDailyJSEvent(v)}break;case ER:en(this._participantCounts,v.participantCounts)||(this._participantCounts=v.participantCounts,this.emitDailyJSEvent(v));break;case kR:var V={access:v.access};v.awaitingAccess&&(V.awaitingAccess=v.awaitingAccess),en(this._accessState,V)||(this._accessState=V,this.emitDailyJSEvent(v));break;case CR:if(v.meetingSession){this._meetingSessionSummary=v.meetingSession,this.emitDailyJSEvent(v);var H=le(le({},v),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(H)}break;case uy:var X;this._iframe&&!v.preserveIframe&&(this._iframe.src=""),this._updateCallState(es),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(v.errorMsg),this._loadedCallback=null),v.preserveIframe;var ue=t1(v,SH);ue!=null&&(X=ue.error)!==null&&X!==void 0&&X.details&&(ue.error.details=JSON.parse(ue.error.details)),this._maybeSendToSentry(v),this._joinedCallback&&(this._joinedCallback(null,ue),this._joinedCallback=null),this.emitDailyJSEvent(ue);break;case xR:this._callState!==es&&this._updateCallState(Is),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(v);break;case"selected-devices-updated":v.devices&&this.emitDailyJSEvent(v);break;case YR:var Re=v.state,dt=v.threshold,he=v.quality,Se=Re.state,qe=Re.reasons;Se===this._network.networkState&&en(qe,this._network.networkStateReasons)&&dt===this._network.threshold&&he===this._network.quality||(this._network.networkState=Se,this._network.networkStateReasons=qe,this._network.quality=he,this._network.threshold=dt,v.networkState=Se,qe.length&&(v.networkStateReasons=qe),delete v.state,this.emitDailyJSEvent(v));break;case XR:v&&v.cpuLoadState&&this.emitDailyJSEvent(v);break;case ZR:v&&v.faceCounts!==void 0&&this.emitDailyJSEvent(v);break;case KR:var gt=v.activeSpeaker;this._activeSpeaker.peerId!==gt.peerId&&(this._activeSpeaker.peerId=gt.peerId,this.emitDailyJSEvent({action:v.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Tr=v.show;this._showLocalVideo=Tr,this.emitDailyJSEvent({action:v.action,show:Tr});break;case JR:var In=v.enabled;this._activeSpeakerMode!==In&&(this._activeSpeakerMode=In,this.emitDailyJSEvent({action:v.action,enabled:this._activeSpeakerMode}));break;case TR:case NR:case AR:this._waitingParticipants=v.allWaitingParticipants,this.emitDailyJSEvent({action:v.action,participant:v.participant});break;case iO:en(this._receiveSettings,v.receiveSettings)||(this._receiveSettings=v.receiveSettings,this.emitDailyJSEvent({action:v.action,receiveSettings:v.receiveSettings}));break;case ly:this._maybeUpdateInputSettings(v.inputSettings);break;case"send-settings-updated":en(this._sendSettings,v.sendSettings)||(this._sendSettings=v.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:v.action,sendSettings:v.sendSettings}));break;case"local-audio-level":this._localAudioLevel=v.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=v.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(v);break;case BR:var Qn=v.session_id;this._rmpPlayerState[Qn]=v.playerState,this.emitDailyJSEvent(v);break;case qR:delete this._rmpPlayerState[v.session_id],this.emitDailyJSEvent(v);break;case zR:var Ft=v.session_id,Io=this._rmpPlayerState[Ft];Io&&this.compareEqualForRMPUpdateEvent(Io,v.remoteMediaPlayerState)||(this._rmpPlayerState[Ft]=v.remoteMediaPlayerState,this.emitDailyJSEvent(v));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(v);break;case jR:var Mo=this._meetingSessionState.topology!==(v.meetingSessionState&&v.meetingSessionState.topology);this._meetingSessionState=Bm(v.meetingSessionState,this._callObjectMode),(this._callObjectMode||Mo)&&this.emitDailyJSEvent(v);break;case WR:this._isScreenSharing=!0,this.emitDailyJSEvent(v);break;case HR:case GR:this._isScreenSharing=!1,this.emitDailyJSEvent(v);break;case oy:case ay:case DR:case LR:case $R:case OR:case IR:case MR:case gR:case vR:case VR:case UR:case"test-completed":case QR:case FR:case eO:case tO:case nO:case rO:case cy:case sO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(v);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(v,k){var E="record";v&&(k.local||k[E]!==!1||v[E]===k[E]||this.emitDailyJSEvent({action:ay}))}},{key:"maybeEventRecordingStarted",value:function(v,k){var E="record";v&&(k.local||k[E]!==!0||v[E]===k[E]||this.emitDailyJSEvent({action:oy}))}},{key:"_trackStatePlayable",value:function(v){return!(!v||v.state!==oR)}},{key:"_trackChanged",value:function(v,k){return(v==null?void 0:v.id)!==(k==null?void 0:k.id)}},{key:"maybeEventTrackStopped",value:function(v,k,E){var A,N,M=(A=k==null?void 0:k.tracks[v])!==null&&A!==void 0?A:null,U=(N=E==null?void 0:E.tracks[v])!==null&&N!==void 0?N:null,V=M==null?void 0:M.track;if(V){var H=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ue=this._trackChanged(V,U==null?void 0:U.track);H&&(X&&!ue||this.emitDailyJSEvent({action:RR,track:V,participant:E??k,type:v}))}}},{key:"maybeEventTrackStarted",value:function(v,k,E){var A,N,M=(A=k==null?void 0:k.tracks[v])!==null&&A!==void 0?A:null,U=(N=E==null?void 0:E.tracks[v])!==null&&N!==void 0?N:null,V=U==null?void 0:U.track;if(V){var H=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ue=this._trackChanged(M==null?void 0:M.track,V);X&&(H&&!ue||this.emitDailyJSEvent({action:PR,track:V,participant:E,type:v}))}}},{key:"maybeParticipantTracksStopped",value:function(v,k){if(v)for(var E in v.tracks)this.maybeEventTrackStopped(E,v,k)}},{key:"maybeParticipantTracksStarted",value:function(v,k){if(k)for(var E in k.tracks)this.maybeEventTrackStarted(E,v,k)}},{key:"compareEqualForRMPUpdateEvent",value:function(v,k){var E,A;return v.state===k.state&&((E=v.settings)===null||E===void 0?void 0:E.volume)===((A=k.settings)===null||A===void 0?void 0:A.volume)}},{key:"emitDailyJSEvent",value:function(v){try{v.callClientId=this.callClientId,this.emit(v.action,v)}catch(k){console.log("could not emit",v,k)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(v,k){return!!en(v,k)&&(!v.videoTrack||!k.videoTrack||v.videoTrack.id===k.videoTrack.id&&v.videoTrack.muted===k.videoTrack.muted&&v.videoTrack.enabled===k.videoTrack.enabled)&&(!v.audioTrack||!k.audioTrack||v.audioTrack.id===k.audioTrack.id&&v.audioTrack.muted===k.audioTrack.muted&&v.audioTrack.enabled===k.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Te()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(v){this._updateCallState(this._callState,v)}},{key:"_updateCallState",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(v!==this._callState||k!==this._isPreparingToJoin){var E=this._callState,A=this._isPreparingToJoin;this._callState=v,this._isPreparingToJoin=k;var N=this._callState===zs;this.updateShowAndroidOngoingMeetingNotification(N);var M=Jd(E,A),U=Jd(this._callState,this._isPreparingToJoin);M!==U&&(this.updateKeepDeviceAwake(U),this.updateDeviceAudioMode(U),this.updateNoOpRecordingEnsuringBackgroundContinuity(U))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=OE,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Gd},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Bm(RE,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Om,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(v){Te()&&this.nativeUtils().setKeepDeviceAwake(v,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(v){if(Te()&&!this.disableReactNativeAutoDeviceManagement("audio")){var k=v?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(k)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(v){if(Te()&&this.nativeUtils().setShowOngoingMeetingNotification){var k,E,A,N;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var M=this.properties.reactNativeConfig.androidInCallNotification;k=M.title,E=M.subtitle,A=M.iconName,N=M.disableForCustomOverride}N&&(v=!1),this.nativeUtils().setShowOngoingMeetingNotification(v,k,E,A,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(v){Te()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(v)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var v;if(Te()){var k=(v=this._callMachine())===null||v===void 0||(v=v.store)===null||v===void 0?void 0:v.getState();for(var E in k==null?void 0:k.streams){var A=k.streams[E];A&&A.pendingTrack&&A.pendingTrack.kind==="audio"&&(A.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(v){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[v]}},{key:"absoluteUrl",value:function(v){if(v!==void 0){var k=document.createElement("a");return k.href=v,k.href}}},{key:"sayHello",value:function(){var v="hello, world.";return console.log(v),v}},{key:"_logUseAfterDestroy",value:function(){var v=Object.values(Oi)[0];if(this.needsLoad())if(v&&!v.needsLoad()){var k={action:dd,level:"error",code:this.strictMode?9995:9997};v.sendMessageToCallMachine(k)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:dd,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var v=0,k=Object.values(Oi);v<k.length;v++){var E=k[v];E._callMachineInitialized?(E.sendMessageToCallMachine({action:dd,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(v){var k,E,A,N;if(!((k=v.error)!==null&&k!==void 0&&k.type&&(![uR,cR,sy].includes(v.error.type)||v.error.type===sy&&v.error.msg.includes("deleted")))){var M=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,U="production";M&&M.host.includes(".staging.daily")&&(U="staging");var V,H,X,ue,Re,dt=function(Qn){const Ft=[Wq(),zq(),vW(),mW(),SW(),EW(),Jq(),_W()];return Qn.autoSessionTracking!==!1&&Ft.push(bW()),Ft}({}).filter(function(Qn){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Qn.name)}),he=new rW({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:lW,stackParser:pW,integrations:dt,environment:U}),Se=new xi;if(Se.setClient(he),he.init(),this.session_id&&Se.setExtra("sessionId",this.session_id),this.properties){var qe=le({},this.properties);qe.userName=qe.userName?"[Filtered]":void 0,qe.userData=qe.userData?"[Filtered]":void 0,qe.token=qe.token?"[Filtered]":void 0,Se.setExtra("properties",qe)}if(M){var gt=M.searchParams.get("domain");if(!gt){var Tr=M.host.match(/(.*?)\./);gt=Tr&&Tr[1]||""}gt&&Se.setTag("domain",gt)}v.error&&(Se.setTag("fatalErrorType",v.error.type),Se.setExtra("errorDetails",v.error.details),!((V=v.error.details)===null||V===void 0)&&V.uri&&Se.setTag("serverAddress",v.error.details.uri),!((H=v.error.details)===null||H===void 0)&&H.workerGroup&&Se.setTag("workerGroup",v.error.details.workerGroup),!((X=v.error.details)===null||X===void 0)&&X.geoGroup&&Se.setTag("geoGroup",v.error.details.geoGroup),!((ue=v.error.details)===null||ue===void 0)&&ue.on&&Se.setTag("connectionAttempt",v.error.details.on),(Re=v.error.details)!==null&&Re!==void 0&&Re.bundleUrl&&(Se.setTag("bundleUrl",v.error.details.bundleUrl),Se.setTag("bundleError",v.error.details.sourceError.type))),Se.setTags({callMode:this._callObjectMode?Te()?"reactNative":(A=this.properties)!==null&&A!==void 0&&(A=A.dailyConfig)!==null&&A!==void 0&&(A=A.callMode)!==null&&A!==void 0&&A.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var In=((N=v.error)===null||N===void 0?void 0:N.msg)||v.errorMsg;Se.captureException(new Error(In))}}},{key:"_callMachine",value:function(){var v;return(v=window._daily)===null||v===void 0||(v=v.instances)===null||v===void 0||(v=v[this.callClientId])===null||v===void 0?void 0:v.callMachine}},{key:"_maybeUpdateInputSettings",value:function(v){if(!en(this._inputSettings,v)){var k=this._getInputSettings();this._inputSettings=v;var E=this._getInputSettings();en(k,E)||this.emitDailyJSEvent({action:ly,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(Te())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var v=dq.getParser(Kn());return{supported:!!Dm(),mobile:v.getPlatformType()==="mobile",name:v.getBrowserName(),version:v.getBrowserVersion(),supportsFullscreen:!!hE(),supportsScreenShare:!!QW(),supportsSfu:!!Dm(),supportsVideoProcessing:lO(),supportsAudioProcessing:cO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return v.layout="none",new e(null,v)}},{key:"wrap",value:function(v){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(je(),!v||!v.contentWindow||typeof v.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return k.layout||(k.customLayout?k.layout="custom-v1":k.layout="browser"),new e(v,k)}},{key:"createFrame",value:function(v,k){var E,A;je(),v&&k?(E=v,A=k):v&&v.append?(E=v,A={}):(E=document.body,A=v||{});var N=A.iframeStyle;N||(N=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var M=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?M.allow="microphone, camera":M.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",M.style.visibility="hidden",E.appendChild(M),M.style.visibility=null,Object.keys(N).forEach(function(U){return M.style[U]=N[U]}),A.layout||(A.customLayout?A.layout="custom-v1":A.layout="browser");try{return new e(M,A)}catch(U){throw E.removeChild(M),U}}},{key:"createTransparentFrame",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je();var k=document.createElement("iframe");return k.allow="microphone; camera; autoplay",k.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(k),v.layout||(v.layout="custom-v1"),e.wrap(k,v)}},{key:"getCallInstance",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return v?Oi[v]:Object.values(Oi)[0]}}]);var t,n,r,s,i,o,a,c,u,d,h,f,m,x,p,b,y,w,S,_,C,j,T,P,O,I,R,D,W,F,Q,J,Y,L,$,z,ee,ne}();function DE(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Fo(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=us;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Ve(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==zs){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function Jd(e,t){return[Yh,zs].includes(e)||t}function Vm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(Jd(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function pd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Um(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function sr(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function vn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function je(){if(Te())throw new Error("This daily-js method is not currently supported in React Native")}function Fl(){if(!Te())throw new Error("This daily-js method is only supported in React Native")}function SO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),en(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function _O(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var f=["local"];return n||f.push("*"),h&&!f.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var c=Kt(a[o],2),u=c[0],d=c[1];if(!r(u)||!i(d))return!1}return!0}function EO(e){if(Ae(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Kt(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Ae(i)!=="object")return!1;for(var o=0,a=Object.entries(i);o<a.length;o++){var c=Kt(a[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!CH(d))return!1;break;case"settings":if(!LE(d))return!1;break;default:return!1}}break;case"audio":if(Ae(i)!=="object")return!1;for(var h=0,f=Object.entries(i);h<f.length;h++){var m=Kt(f[h],2),x=m[0],p=m[1];switch(x){case"processor":if(!kH(p))return!1;break;case"settings":if(!LE(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function kO(e,t,n){var r,s=[];e.video&&e.video.processor&&(lO((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(cO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:us}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:us}):delete n.videoTrack)}function kH(e){if(Te())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Ae(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(oO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function CH(e){if(Te())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Ae(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Kd).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Ae(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Kd.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Kd.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Wh(o.source))return o.type="url",!!function(u){var d=new URL(u),h=d.pathname;if(d.protocol==="data:")try{var f=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return Mm.includes(f)}catch(x){return console.error("failed to deduce blob content type",x),!1}var m=h.split(".").at(-1).toLowerCase().trim();return Mm.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(Mm.join(", "),"]")),!1);return a=o.source,c=Number(a),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var a,c}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function LE(e){return Ae(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function vy(){var e=Object.values(Kd).join(" | "),t=Object.values(oO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function CO(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(lR).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function jO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(gy),".")}function TO(e){if(e&&Ae(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Zh),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Kt(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=Kt(i[s],2),a=o[0],c=o[1],u=Zh.id[a];if(!u)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Wh(c))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(a," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Ae(c)!==u)return console.error("customTrayButton ".concat(a," should be a ").concat(u,".")),!1}}return!0}function NO(e){if(!e||e&&Ae(e)!=="object"||Array.isArray(e))return console.error(jO()),!1;for(var t=function(h){return"".concat(h," should be ").concat(gy.id[h])},n=function(h,f){return console.error("customIntegration ".concat(h,": ").concat(f))},r=0,s=Object.entries(e);r<s.length;r++){var i=Kt(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[i]);o<a.length;o++){var c=Kt(a[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(u)),!1;break;case"iconURL":if(!Wh(d))return n(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!Wh(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(u)),!1;break;default:if(!gy.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function AO(e,t){if(t===void 0)return!1;switch(Ae(t)){case"string":return Ae(e)===t;case"object":if(Ae(e)!=="object")return!1;for(var n in e)if(!AO(e[n],t[n]))return!1;return!0;default:return!1}}function $E(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function FE(e){if(Ae(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(dy).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(dy));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function VE(e,t,n){return!(typeof e!="number"||e<t||e>n)}function Bm(e,t){return e&&!t&&delete e.data,e}const jH=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:aR,DAILY_ACCESS_LEVEL_LOBBY:AW,DAILY_ACCESS_LEVEL_NONE:PW,DAILY_ACCESS_UNKNOWN:Gd,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:BW,DAILY_CAMERA_ERROR_CAM_IN_USE:VW,DAILY_CAMERA_ERROR_CONSTRAINTS:HW,DAILY_CAMERA_ERROR_MIC_IN_USE:UW,DAILY_CAMERA_ERROR_NOT_FOUND:WW,DAILY_CAMERA_ERROR_PERMISSIONS:zW,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:qW,DAILY_CAMERA_ERROR_UNKNOWN:GW,DAILY_EVENT_ACCESS_STATE_UPDATED:kR,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:KR,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:JR,DAILY_EVENT_APP_MSG:VR,DAILY_EVENT_CAMERA_ERROR:vR,DAILY_EVENT_CPU_LOAD_CHANGE:XR,DAILY_EVENT_ERROR:uy,DAILY_EVENT_EXIT_FULLSCREEN:Jl,DAILY_EVENT_FACE_COUNTS_UPDATED:ZR,DAILY_EVENT_FULLSCREEN:Kl,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:hR,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:dR,DAILY_EVENT_INPUT_SETTINGS_UPDATED:ly,DAILY_EVENT_JOINED_MEETING:wR,DAILY_EVENT_JOINING_MEETING:yR,DAILY_EVENT_LANG_UPDATED:sO,DAILY_EVENT_LEFT_MEETING:xR,DAILY_EVENT_LIVE_STREAMING_ERROR:rO,DAILY_EVENT_LIVE_STREAMING_STARTED:eO,DAILY_EVENT_LIVE_STREAMING_STOPPED:nO,DAILY_EVENT_LIVE_STREAMING_UPDATED:tO,DAILY_EVENT_LOADED:iy,DAILY_EVENT_LOADING:pR,DAILY_EVENT_LOAD_ATTEMPT_FAILED:mR,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:GR,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:WR,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:HR,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:KW,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:jR,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:CR,DAILY_EVENT_NETWORK_CONNECTION:QR,DAILY_EVENT_NETWORK_QUALITY_CHANGE:YR,DAILY_EVENT_NONFATAL_ERROR:cy,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:ER,DAILY_EVENT_PARTICIPANT_JOINED:bR,DAILY_EVENT_PARTICIPANT_LEFT:_R,DAILY_EVENT_PARTICIPANT_UPDATED:SR,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:iO,DAILY_EVENT_RECORDING_DATA:FR,DAILY_EVENT_RECORDING_ERROR:LR,DAILY_EVENT_RECORDING_STARTED:oy,DAILY_EVENT_RECORDING_STATS:DR,DAILY_EVENT_RECORDING_STOPPED:ay,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:$R,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:BR,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:qR,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:zR,DAILY_EVENT_STARTED_CAMERA:gR,DAILY_EVENT_THEME_UPDATED:fR,DAILY_EVENT_TRACK_STARTED:PR,DAILY_EVENT_TRACK_STOPPED:RR,DAILY_EVENT_TRANSCRIPTION_ERROR:MR,DAILY_EVENT_TRANSCRIPTION_MSG:UR,DAILY_EVENT_TRANSCRIPTION_STARTED:OR,DAILY_EVENT_TRANSCRIPTION_STOPPED:IR,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:TR,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:AR,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:NR,DAILY_FATAL_ERROR_CONNECTION:uR,DAILY_FATAL_ERROR_EJECTED:OW,DAILY_FATAL_ERROR_EOL:cR,DAILY_FATAL_ERROR_EXP_ROOM:DW,DAILY_FATAL_ERROR_EXP_TOKEN:LW,DAILY_FATAL_ERROR_MEETING_FULL:$W,DAILY_FATAL_ERROR_NBF_ROOM:IW,DAILY_FATAL_ERROR_NBF_TOKEN:MW,DAILY_FATAL_ERROR_NOT_ALLOWED:FW,DAILY_FATAL_ERROR_NO_ROOM:sy,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:RW,DAILY_RECEIVE_SETTINGS_BASE_KEY:lR,DAILY_STATE_ERROR:es,DAILY_STATE_JOINED:zs,DAILY_STATE_JOINING:Yh,DAILY_STATE_LEFT:Is,DAILY_STATE_NEW:ry,DAILY_TRACK_STATE_BLOCKED:kW,DAILY_TRACK_STATE_INTERRUPTED:NW,DAILY_TRACK_STATE_LOADING:TW,DAILY_TRACK_STATE_OFF:CW,DAILY_TRACK_STATE_PLAYABLE:oR,DAILY_TRACK_STATE_SENDABLE:jW,default:EH},Symbol.toStringTag,{value:"Module"})),TH=FD(jH);var ox={exports:{}},Ta=typeof Reflect=="object"?Reflect:null,UE=Ta&&typeof Ta.apply=="function"?Ta.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Yd;Ta&&typeof Ta.ownKeys=="function"?Yd=Ta.ownKeys:Object.getOwnPropertySymbols?Yd=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Yd=function(t){return Object.getOwnPropertyNames(t)};function NH(e){console&&console.warn&&console.warn(e)}var PO=Number.isNaN||function(t){return t!==t};function $e(){$e.init.call(this)}ox.exports=$e;ox.exports.once=OH;$e.EventEmitter=$e;$e.prototype._events=void 0;$e.prototype._eventsCount=0;$e.prototype._maxListeners=void 0;var BE=10;function rp(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty($e,"defaultMaxListeners",{enumerable:!0,get:function(){return BE},set:function(e){if(typeof e!="number"||e<0||PO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");BE=e}});$e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$e.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||PO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function RO(e){return e._maxListeners===void 0?$e.defaultMaxListeners:e._maxListeners}$e.prototype.getMaxListeners=function(){return RO(this)};$e.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")UE(c,this,n);else for(var u=c.length,d=LO(c,u),r=0;r<u;++r)UE(d[r],this,n);return!0};function OO(e,t,n,r){var s,i,o;if(rp(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=RO(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,NH(a)}return e}$e.prototype.addListener=function(t,n){return OO(this,t,n,!1)};$e.prototype.on=$e.prototype.addListener;$e.prototype.prependListener=function(t,n){return OO(this,t,n,!0)};function AH(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function IO(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=AH.bind(r);return s.listener=n,r.wrapFn=s,s}$e.prototype.once=function(t,n){return rp(n),this.on(t,IO(this,t,n)),this};$e.prototype.prependOnceListener=function(t,n){return rp(n),this.prependListener(t,IO(this,t,n)),this};$e.prototype.removeListener=function(t,n){var r,s,i,o,a;if(rp(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():PH(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};$e.prototype.off=$e.prototype.removeListener;$e.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function MO(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?RH(s):LO(s,s.length)}$e.prototype.listeners=function(t){return MO(this,t,!0)};$e.prototype.rawListeners=function(t){return MO(this,t,!1)};$e.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):DO.call(e,t)};$e.prototype.listenerCount=DO;function DO(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}$e.prototype.eventNames=function(){return this._eventsCount>0?Yd(this._events):[]};function LO(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function PH(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function RH(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function OH(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}$O(e,t,i,{once:!0}),t!=="error"&&IH(e,s,{once:!0})})}function IH(e,t,n){typeof e.on=="function"&&$O(e,"error",t,n)}function $O(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var MH=ox.exports,sp={},di={};Object.defineProperty(di,"__esModule",{value:!0});di.Api=di.HttpClient=di.ContentType=void 0;var Z;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(Z||(di.ContentType=Z={}));class FO{constructor(t={}){xe(this,"baseUrl","https://api.vapi.ai");xe(this,"securityData",null);xe(this,"securityWorker");xe(this,"abortControllers",new Map);xe(this,"customFetch",(...t)=>fetch(...t));xe(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});xe(this,"setSecurityData",t=>{this.securityData=t});xe(this,"contentFormatters",{[Z.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[Z.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[Z.UrlEncoded]:t=>this.toQueryString(t)});xe(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});xe(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});xe(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:a,cancelToken:c,...u})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,d),f=i&&this.toQueryString(i),m=this.contentFormatters[s||Z.Json],x=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${f?`?${f}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==Z.FormData?{"Content-Type":s}:{}},signal:(c?this.createAbortSignal(c):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async p=>{const b=p;b.data=null,b.error=null;const y=x?p.clone():p,w=x?await y[x]().then(S=>(b.ok?b.data=S:b.error=S,b)).catch(S=>(b.error=S,b)):b;if(c&&this.abortControllers.delete(c),!p.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}di.HttpClient=FO;class DH extends FO{constructor(){super(...arguments);xe(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});xe(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});xe(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s})});xe(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:Z.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});xe(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:Z.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});xe(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});xe(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:Z.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:Z.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});xe(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});xe(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:Z.Json,...r})});xe(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s})});xe(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:Z.FormData,...r})});xe(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})})}}di.Api=DH;Object.defineProperty(sp,"__esModule",{value:!0});sp.client=void 0;const LH=di,$H=new LH.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});sp.client=$H;var bl={};Object.defineProperty(bl,"__esModule",{value:!0});bl.createSafeDailyConfig=FH;bl.safeSetLocalAudio=VH;bl.safeSetInputDevicesAsync=UH;bl.createSafeDailyFactoryOptions=BH;function FH(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function VH(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function UH(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function BH(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var VO=Vx&&Vx.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(UP,"__esModule",{value:!0});const zm=VO(TH),zH=VO(MH),qm=sp,Mi=bl;function Yt(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function qH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function zE(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await qH(n,e),n}function qE(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function WE(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class WH extends zH.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class HH extends WH{constructor(n,r,s,i){super();xe(this,"started",!1);xe(this,"call",null);xe(this,"speakingTimeout",null);xe(this,"dailyCallConfig",{});xe(this,"dailyCallObject",{});xe(this,"hasEmittedCallEndedStatus",!1);qm.client.baseUrl=r??"https://api.vapi.ai",qm.client.setSecurityData(n),this.dailyCallConfig=(0,Mi.createSafeDailyConfig)(s),this.dailyCallObject=(0,Mi.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,a){var u,d,h,f,m,x,p;const c=Date.now();if(!n&&!s&&!i){const b=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:Yt(b),timestamp:new Date().toISOString()}),b}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const b=Date.now(),y=(await qm.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:a==null?void 0:a.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-b;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((u=y==null?void 0:y.artifactPlan)==null?void 0:u.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((f=y==null?void 0:y.artifactPlan)==null?void 0:f.videoRecordingEnabled)??!1,_=((x=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:x.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:_}});const C=Date.now();try{this.call=zm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const R=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-C,W=Yt(R);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:W,timestamp:new Date().toISOString()}),R}(p=this.call.iframe())==null||p.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var R;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((R=this.call)==null||R.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",R=>{var D;this.emit("error",{type:"daily-error",error:Yt(R),timestamp:new Date().toISOString()}),S&&((D=this.call)==null||D.stopRecording())}),this.call.on("camera-error",R=>{this.emit("camera-error",{type:"camera-error",error:Yt(R),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",R=>{this.emit("network-quality-change",R)}),this.call.on("network-connection",R=>{this.emit("network-connection",R)}),this.call.on("track-started",async R=>{var D,W,F;!R||!R.participant||(D=R.participant)!=null&&D.local||((W=R.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(R.track.kind==="video"&&this.emit("video",R.track),R.track.kind==="audio"&&await zE(R.track,R.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",R=>{!R||!this.call||WE(R,this.call,S,_)}),this.call.on("participant-updated",R=>{R&&this.emit("daily-participant-updated",R.participant)}),this.call.on("participant-left",R=>{R&&qE(R.participant.session_id)});const j=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:j}}),j){const R=Date.now();await this.sleep(1e3);const D=Date.now()-R;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:D,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const T=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const R=Date.now()-T;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-T,W=Yt(R);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:W,duration:D,timestamp:new Date().toISOString()}),R}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const R=new Date().getTime(),D=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-D;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-R)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(W){const F=Date.now()-D,Q=Yt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:Q.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:Q,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const P=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const R=Date.now()-P;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-P,W=Yt(R);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:W,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",R=>{R&&this.handleRemoteParticipantsAudioLevel(R)}),this.call.on("app-message",R=>this.onAppMessage(R)),this.call.on("nonfatal-error",R=>{var D;(R==null?void 0:R.type)==="audio-processor-error"&&((D=this.call)==null||D.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Mi.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const R=Date.now()-O;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-O,W=Yt(R);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:W,timestamp:new Date().toISOString()})}const I=Date.now()-c;return this.emit("call-start-success",{totalDuration:I,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(b){const y=Date.now()-c,w=Yt(b);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Mi.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Mi.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const a=s.createMediaStreamDestination();o.connect(a);const[c]=a.stream.getAudioTracks();await(0,Mi.safeSetInputDevicesAsync)(this.call,{audioSource:c})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,a,c,u,d,h,f,m,x,p,b;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((a=n==null?void 0:n.artifactPlan)==null?void 0:a.videoRecordingEnabled)??!1,w=((u=(c=n==null?void 0:n.assistant)==null?void 0:c.voice)==null?void 0:u.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:w}});const S=Date.now();this.call=zm.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const _=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:_,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var R;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((R=this.call)==null||R.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",R=>{var D;this.emit("error",{type:"daily-error",error:Yt(R),timestamp:new Date().toISOString()}),y&&((D=this.call)==null||D.stopRecording())}),this.call.on("camera-error",R=>{this.emit("camera-error",{type:"camera-error",error:Yt(R),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",R=>{this.emit("network-quality-change",R)}),this.call.on("network-connection",R=>{this.emit("network-connection",R)}),this.call.on("track-started",async R=>{var D,W,F;!R||!R.participant||(D=R.participant)!=null&&D.local||((W=R.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(R.track.kind==="video"&&this.emit("video",R.track),R.track.kind==="audio"&&await zE(R.track,R.participant.session_id),(F=this.call)==null||F.sendAppMessage("playable"))}),this.call.on("participant-joined",R=>{!R||!this.call||WE(R,this.call,y,w)}),this.call.on("participant-updated",R=>{R&&this.emit("daily-participant-updated",R.participant)}),this.call.on("participant-left",R=>{R&&qE(R.participant.session_id)}),this.call.on("remote-participants-audio-level",R=>{R&&this.handleRemoteParticipantsAudioLevel(R)}),this.call.on("app-message",R=>this.onAppMessage(R)),this.call.on("nonfatal-error",R=>{var D;(R==null?void 0:R.type)==="audio-processor-error"&&((D=this.call)==null||D.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Mi.safeSetLocalAudio)(this.call,!0)}))});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const R=Date.now();await this.sleep(1e3);const D=Date.now()-R;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:D,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const j=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const T=Date.now()-j;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:T,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const R=Date.now(),D=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-R;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const F=(new Date().getTime()-D)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:F}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:F})})}catch(W){const F=Date.now()-R,Q=Yt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:F,timestamp:new Date().toISOString(),metadata:{error:Q.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const P=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const R=Date.now()-P;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-P,W=Yt(R);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:W.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const R=Date.now()-O;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:R,timestamp:new Date().toISOString()})}catch(R){const D=Date.now()-O,W=Yt(R);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:D,timestamp:new Date().toISOString(),metadata:{error:W.message}})}const I=Date.now()-r;this.emit("call-start-success",{totalDuration:I,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const w=Date.now()-r,S=Yt(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((x=n==null?void 0:n.artifactPlan)!=null&&x.videoRecordingEnabled),voiceProvider:((b=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:b.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=zm.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var GH=UP.default=HH;const KH=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function JH(e={}){const[t,n]=g.useState("idle"),[r,s]=g.useState([]),[i,o]=g.useState(!1),[a,c]=g.useState(0),u=g.useRef(null),d=g.useCallback(x=>{var p;n(x),(p=e.onStatusChange)==null||p.call(e,x)},[e]);g.useEffect(()=>{const x="4755e6d9-a32f-474b-a4e7-8d103fc571b5",p=new GH(x);return u.current=p,p.on("call-start",()=>{console.log("Vapi: Call started"),d("connected")}),p.on("call-end",()=>{var b;console.log("Vapi: Call ended"),d("ended"),(b=e.onCallEnd)==null||b.call(e,r)}),p.on("speech-start",()=>{d("speaking")}),p.on("speech-end",()=>{d("listening")}),p.on("message",b=>{if(b.type==="transcript"){const y={role:b.role,content:b.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(w=>{var S,_;if(b.transcriptType==="partial"&&w.length>0&&w[w.length-1].role===b.role){const C=[...w];return C[C.length-1]=y,(S=e.onTranscriptUpdate)==null||S.call(e,C),C}else if(b.transcriptType==="final"){const C=[...w,y];return(_=e.onTranscriptUpdate)==null||_.call(e,C),C}return w})}}),p.on("volume-level",b=>{c(b)}),p.on("error",b=>{var y;console.error("Vapi error:",b),d("error"),(y=e.onError)==null||y.call(e,new Error(b.message||"Vapi error"))}),()=>{p.stop()}},[]);const h=g.useCallback(async x=>{var p;if(!u.current){console.error("Vapi not initialized");return}d("connecting");try{await u.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:KH,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:x?`Hello ${x}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(b){console.error("Failed to start Vapi call:",b),d("error"),(p=e.onError)==null||p.call(e,b)}},[d,e]),f=g.useCallback(()=>{u.current&&(u.current.stop(),d("ended"))},[d]),m=g.useCallback(()=>{if(u.current){const x=!i;u.current.setMuted(x),o(x)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:a,startCall:h,endCall:f,toggleMute:m,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}var Fr=function(){return Fr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fr.apply(this,arguments)};function Sl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function YH(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function QH(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const XH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ax extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ZH extends ax{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class HE extends ax{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class GE extends ax{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yy||(yy={}));class e9{constructor(t,{headers:n={},customFetch:r,region:s=yy.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=XH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return YH(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const x=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,x.searchParams.set("forceFunctionRegion",m));let p;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(f["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(f["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let b=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:p,signal:b}).catch(C=>{throw new ZH(C)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new HE(y);if(!y.ok)throw new GE(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return S==="application/json"?_=yield y.json():S==="application/octet-stream"||S==="application/pdf"?_=yield y.blob():S==="text/event-stream"?_=y:S==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof GE||a instanceof HE?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var t9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},n9=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const p=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&b&&b.length>1&&(c=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var x;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(x=o.details)===null||x===void 0)&&x.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new t9(o)}return{error:o,data:a,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const x=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${x}`,p&&(a+=` (${p})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},r9=class extends n9{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const KE=new RegExp("[,()]");var Jo=class extends r9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&KE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&KE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},s9=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new Jo({method:s,url:a,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Jo({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Jo({method:o,url:a,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Jo({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Jo({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},i9=class UO{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new s9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new UO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",u=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,x])=>x!==void 0).map(([m,x])=>[m,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([m,x])=>{c.searchParams.append(m,x)})):(a="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Jo({method:a,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class o9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const a9="2.90.1",l9=`realtime-js/${a9}`,BO="1.0.0",c9="2.0.0",JE=BO,wy=1e4,u9=1e3,d9=100;var Fs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fs||(Fs={}));var vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(vt||(vt={}));var mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mr||(mr={}));var xy;(function(e){e.websocket="websocket"})(xy||(xy={}));var qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(qi||(qi={}));class h9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(m),p=0;x.setUint8(p++,this.KINDS.userBroadcastPush),x.setUint8(p++,c.length),x.setUint8(p++,a.length),x.setUint8(p++,o.length),x.setUint8(p++,u.length),x.setUint8(p++,h.length),x.setUint8(p++,n),Array.from(c,y=>x.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>x.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>x.setUint8(p++,y.charCodeAt(0))),Array.from(u,y=>x.setUint8(p++,y.charCodeAt(0))),Array.from(h,y=>x.setUint8(p++,y.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,c]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class zO{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ue||(Ue={}));const YE=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=f9(o,e,t,s),i),{}):{}},f9=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?qO(i,o):by(o)},qO=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return v9(t,n)}switch(e){case Ue.bool:return p9(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return m9(t);case Ue.json:case Ue.jsonb:return g9(t);case Ue.timestamp:return y9(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return by(t);default:return by(t)}},by=e=>e,p9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},m9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},v9=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>qO(t,a))}return e},y9=e=>typeof e=="string"?e.replace(" ","T"):e,WO=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Wm{constructor(t,n,r={},s=wy){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var QE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(QE||(QE={}));class gc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=gc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=gc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),x=d.filter(b=>m.indexOf(b.presence_ref)<0),p=h.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(a[u]=x),p.length>0&&(c[u]=p)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var XE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(XE||(XE={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var ss;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ss||(ss={}));class ma{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wm(this,mr.join,this.params,this.timeout),this.rejoinTimer=new zO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new gc(this),this.broadcastEndpointURL=WO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[vc.PRESENCE]&&this.bindings[vc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ss.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ss.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(ss.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,b=(x=p==null?void 0:p.length)!==null&&x!==void 0?x:0,y=[];for(let w=0;w<b;w++){const S=p[w],{filter:{event:_,schema:C,table:j,filter:T}}=S,P=m&&m[w];if(P&&P.event===_&&ma.isFilterValueEqual(P.schema,C)&&ma.isFilterValueEqual(P.table,j)&&ma.isFilterValueEqual(P.filter,T))y.push(Object.assign(Object.assign({},S),{id:P.id}));else{this.unsubscribe(),this.state=vt.errored,t==null||t(ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ss.SUBSCRIBED);return}}).receive("error",m=>{this.state=vt.errored,t==null||t(ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===vt.joined&&t===vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Wm(this,mr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d9){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=mr;if(r&&[a,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,p,b;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(p=m.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var x,p,b,y,w,S,_,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,T=(x=m.filter)===null||x===void 0?void 0:x.event;return j&&((p=n.ids)===null||p===void 0?void 0:p.includes(j))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((y=m.filter)===null||y===void 0)&&y.table)||m.filter.table===((w=n.data)===null||w===void 0?void 0:w.table))}else{const j=(_=(S=m==null?void 0:m.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return j==="*"||j===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:p,table:b,commit_timestamp:y,type:w,errors:S}=x;f=Object.assign(Object.assign({},{schema:p,table:b,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(x))}m.callback(f,r)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ma.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mr.close,{},t)}_onError(t){this._on(mr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=YE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=YE(t.columns,t.old_record)),n}}const Hm=()=>{},md={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w9=[1e3,2e3,5e3,1e4],x9=1e4,b9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S9{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wy,this.transport=null,this.heartbeatIntervalMs=md.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hm,this.ref=0,this.reconnectTimer=null,this.vsn=JE,this.logger=Hm,this.conn=null,this.sendBuffer=[],this.serializer=new h9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${xy.websocket}`,this.httpEndpoint=WO(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=o9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fs.connecting:return qi.Connecting;case Fs.open:return qi.Open;case Fs.closing:return qi.Closing;default:return qi.Closed}}isConnected(){return this.connectionState()===qi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ma(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(u9,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},md.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Fs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fs.open||this.conn.readyState===Fs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([b9],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:l9};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(mr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},md.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,c,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:wy,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:md.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Hm,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:JE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>w9[x-1]||x9,this.vsn){case BO:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(x,p)=>p(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,p)=>p(JSON.parse(x));break;case c9:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Qc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _9(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function E9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function k9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=_9(e.baseUrl,r,s),c=await E9(e.auth),u=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,x=m==null?void 0:m.error;throw new Qc((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function gd(e){return e.join("")}var C9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:gd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gd(e.namespace)}`}),!0}catch(t){if(t instanceof Qc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Qc&&n.status===409)return;throw n}}};function Vo(e){return e.join("")}var j9=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Qc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Qc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},T9=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=k9({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new C9(this.client,t),this.tableOps=new j9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ip=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var N9=class extends ip{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sy=class extends ip{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const lx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),A9=()=>Response,_y=e=>{if(Array.isArray(e))return e.map(n=>_y(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=_y(r)}),t},P9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},R9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function O9(e,t){if(Xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I9(e){var t=O9(e,"string");return Xc(t)=="symbol"?t:t+""}function M9(e,t,n){return(t=I9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){M9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Gm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},D9=async(e,t,n)=>{e instanceof await A9()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new N9(Gm(r),s,i))}).catch(r=>{t(new Sy(Gm(r),r))}):t(new Sy(Gm(e),e))},L9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(P9(r)?(s.headers=me({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),me(me({},s),n))};async function ku(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,L9(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>D9(c,a,r))})}async function Zc(e,t,n,r){return ku(e,"GET",t,n,r)}async function dr(e,t,n,r,s){return ku(e,"POST",t,r,s,n)}async function Ey(e,t,n,r,s){return ku(e,"PUT",t,r,s,n)}async function $9(e,t,n,r){return ku(e,"HEAD",t,me(me({},n),{},{noResolveJson:!0}),r)}async function cx(e,t,n,r,s){return ku(e,"DELETE",t,r,s,n)}var F9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}}};let HO;HO=Symbol.toStringTag;var V9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[HO]="BlobDownloadBuilder",this.promise=null}asStream(){return new F9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Xe(t))return{data:null,error:t};throw t}}};const U9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ek={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var B9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=lx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=me(me({},ek),r);let a=me(me({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=me(me({},a),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Ey:dr)(s.fetch,`${s.url}/object/${d}`,i,me({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let c;const u=me({upsert:ek.upsert},r),d=me(me({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Ey(s.fetch,a.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Xe(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=me({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await dr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new ip("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await dr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await dr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await dr(r.fetch,`${r.url}/object/sign/${s}`,me({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await dr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>me(me({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Zc(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new V9(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:_y(await Zc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await $9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Xe(r)&&r instanceof Sy){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await cx(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=me(me(me({},U9),t),{},{prefix:e||""});return{data:await dr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Xe(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=me({},e);return{data:await dr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const GO="2.90.1",KO={"X-Client-Info":`storage-js/${GO}`};var z9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=me(me({},KO),t),this.fetch=lx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Zc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Zc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await dr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Ey(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Xe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await dr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await cx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},q9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},KO),t),this.fetch=lx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await dr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Zc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await cx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!R9(e))throw new ip("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new T9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const ux={"X-Client-Info":`storage-js/${GO}`,"Content-Type":"application/json"};var JO=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Km=class extends JO{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},W9=class extends JO{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const dx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),H9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G9=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Km(tk(i),r,o))}).catch(()=>{const i=r+"";t(new Km(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Km(s.statusText||`HTTP ${r} error`,r,i))}}else t(new W9(tk(e),e))},K9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(H9(r)?(s.headers=me({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,me(me({},s),n)):s};async function J9(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,K9(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>G9(c,a,r))})}async function Sn(e,t,n,r,s){return J9(e,"POST",t,r,s,n)}var Y9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},ux),t),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}},Q9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},ux),t),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Sn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},X9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=me(me({},ux),t),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},Z9=class extends X9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new eG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},eG=class extends Y9{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new tG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tG=class extends Q9{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,me(me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},nG=class extends z9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new B9(this.url,this.headers,e,this.fetch)}get vectors(){return new Z9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new q9(this.url+"/iceberg",this.headers,this.fetch)}};const YO="2.90.1",Yo=30*1e3,ky=3,Jm=ky*Yo,rG="http://localhost:9999",sG="supabase.auth.token",iG={"X-Client-Info":`gotrue-js/${YO}`},Cy="X-Supabase-Api-Version",QO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aG=10*60*1e3;class eu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lG extends eu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cG(e){return ae(e)&&e.name==="AuthApiError"}class Wi extends eu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bs extends eu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class yn extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uG(e){return ae(e)&&e.name==="AuthSessionMissingError"}class Uo extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vd extends bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yd extends bs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dG(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class nk extends bs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hG extends bs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class jy extends bs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ym(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class rk extends bs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ty extends bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sk=` 	
\r=`.split(""),fG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sk.length;t+=1)e[sk[t].charCodeAt(0)]=-2;for(let t=0;t<ef.length;t+=1)e[ef[t].charCodeAt(0)]=t;return e})();function ik(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ef[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ef[r]),t.queuedBits-=6}}function XO(e,t,n){const r=fG[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ok(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{gG(o,r,n)};for(let o=0;o<e.length;o+=1)XO(e.charCodeAt(o),s,i);return t.join("")}function pG(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mG(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}pG(r,t)}}function gG(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Na(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)XO(e.charCodeAt(s),n,r);return new Uint8Array(t)}function vG(e){const t=[];return mG(e,n=>t.push(n)),new Uint8Array(t)}function Zi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ik(s,n,r)),ik(null,n,r),t.join("")}function yG(e){return Math.round(Date.now()/1e3)+e}function wG(){return Symbol("auth-callback")}const Ot=()=>typeof window<"u"&&typeof document<"u",Di={tested:!1,writable:!1},ZO=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Di.tested)return Di.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Di.tested=!0,Di.writable=!0}catch{Di.tested=!0,Di.writable=!1}return Di.writable};function xG(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const eI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Li=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rt=async(e,t)=>{await e.removeItem(t)};class op{constructor(){this.promise=new op.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}op.promiseConstructor=Promise;function Qm(e){const t=e.split(".");if(t.length!==3)throw new Ty("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!oG.test(t[r]))throw new Ty("JWT not in base64url format");return{header:JSON.parse(ok(t[0])),payload:JSON.parse(ok(t[1])),signature:Na(t[2]),raw:{header:t[0],payload:t[1]}}}async function SG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _G(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function EG(e){return("0"+e.toString(16)).substr(-2)}function kG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,EG).join("")}async function CG(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function jG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CG(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bo(e,t,n=!1){const r=kG();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,s);const i=await jG(r);return[i,r===i?"plain":"s256"]}const TG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NG(e){const t=e.headers.get(Cy);if(!t||!t.match(TG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zo(e){if(!RG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function OG(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function ak(e){return JSON.parse(JSON.stringify(e))}const Ui=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IG=[502,503,504];async function lk(e){var t;if(!bG(e))throw new jy(Ui(e),0);if(IG.includes(e.status))throw new jy(Ui(e),e.status);let n;try{n=await e.json()}catch(i){throw new Wi(Ui(i),i)}let r;const s=NG(e);if(s&&s.getTime()>=QO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rk(Ui(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new rk(Ui(n),e.status,n.weak_password.reasons);throw new lG(Ui(n),e.status||500,r)}const MG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function pe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Cy]||(i[Cy]=QO["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await DG(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function DG(e,t,n,r,s,i){const o=MG(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new jy(Ui(c),0)}if(a.ok||await lk(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await lk(c)}}function ir(e){var t;let n=null;FG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=yG(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ck(e){const t=ir(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LG(e){return{data:e,error:null}}function $G(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Sl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function uk(e){return e}function FG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zm=["global","local","others"];class VG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=eI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Zm[0]){if(Zm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zm.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Sl(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$G,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qs})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:uk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ae(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zo(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qs})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){zo(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){zo(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qs})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){zo(t.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(t){zo(t.userId),zo(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:uk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const p=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);u[`${b}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ae(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}}function dk(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const qo={debug:!!(globalThis&&ZO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UG extends tI{}async function BG(e,t,n){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),qo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function zG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function qG(e){return parseInt(e,16)}function WG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function HG(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=nI(e.address),x=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}y+=w}return`${b}
${y}`}class ht extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class tf extends ht{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function GG({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(rI(o)){if(i.rp.id!==o)return new ht({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function KG({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(rI(r)){if(n.rpId!==r)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class JG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YG=new JG;function QG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Sl(e,["challenge","user","excludeCredentials"]),i=Na(t).buffer,o=Object.assign(Object.assign({},n),{id:Na(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Na(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function XG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Sl(e,["challenge","allowCredentials"]),s=Na(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Na(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function ZG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Zi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Zi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Zi(new Uint8Array(s.authenticatorData)),clientDataJSON:Zi(new Uint8Array(s.clientDataJSON)),signature:Zi(new Uint8Array(s.signature)),userHandle:s.userHandle?Zi(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hk(){var e,t;return!!(Ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tf("Browser returned unexpected credential type",t)}:{data:null,error:new tf("Empty credential response",t)}}catch(t){return{data:null,error:GG({error:t,options:e})}}}async function nK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tf("Browser returned unexpected credential type",t)}:{data:null,error:new tf("Empty credential response",t)}}catch(t){return{data:null,error:KG({error:t,options:e})}}}const rK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nf(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=nf(a,o):r[i]=nf(o)}else r[i]=o}return r}function iK(e,t){return nf(rK,e,t||{})}function oK(e,t){return nf(sK,e,t||{})}class aK{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const c=s??YG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=iK(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await tK({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=oK(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await nK(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Wi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new eu("rpId is required for WebAuthn authentication")};try{if(!hk())return{data:null,error:new Wi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Wi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new eu("rpId is required for WebAuthn registration")};try{if(!hk())return{data:null,error:new Wi("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ae(o)?{data:null,error:o}:{data:null,error:new Wi("Unexpected error in register",o)}}}}zG();const lK={url:rG,storageKey:sG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function fk(e,t,n){return await n()}const Wo={};class tu{get jwks(){var t,n;return(n=(t=Wo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},lK),t);if(this.storageKey=i.storageKey,this.instanceID=(n=tu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,tu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ot()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=eI(i.fetch),this.lock=i.lock||fk,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=BG:this.lock=fk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aK(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dk(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=dk(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${YO}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ot()&&(n=xG(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ot()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dG(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ae(n)?this._returnResult({error:n}):this._returnResult({error:new Wi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ir}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Bo(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:ir})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ir})}else throw new vd("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ck})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ck})}else throw new vd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Uo;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,c,u,d,h,f;let m,x;if("message"in t)m=t.message,x=t.signature;else{const{chain:p,wallet:b,statement:y,options:w}=t;let S;if(Ot())if(typeof b=="object")S=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")S=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=nI(C[0]);let T=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const O=await S.request({method:"eth_chainId"});T=qG(O)}const P={domain:_.host,address:j,statement:y,uri:_.href,version:"1",chainId:T,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=HG(P),x=await S.request({method:"personal_sign",params:[WG(m),j]})}try{const{data:p,error:b}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ir});if(b)throw b;if(!p||!p.session||!p.user){const y=new Uo;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:b})}catch(p){if(ae(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,i,o,a,c,u,d,h,f,m;let x,p;if("message"in t)x=t.message,p=t.signature;else{const{chain:b,wallet:y,statement:w,options:S}=t;let _;if(Ot())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let T;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")T=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)T=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),p=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:b,error:y}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Zi(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ir});if(y)throw y;if(!b||!b.session||!b.user){const w=new Uo;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ae(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await Li(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new hG;const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ir});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Uo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ir}),{data:c,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Uo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bo(this.storage,this.storageKey));const{error:h}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new vd("You must provide either an email or phone number.")}catch(a){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ir});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await Bo(this.storage,this.storageKey));const u=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:LG});return!((i=u.data)===null||i===void 0)&&i.url&&Ot()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ae(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new yn;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new vd("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Jm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Li(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Xm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=OG(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qs})})}catch(n){if(ae(n))return uG(n)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new yn;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Bo(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:qs});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ae(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Qm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new yn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ot())throw new yd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nk("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new yd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:p,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(cG(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=wG(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Bo(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ot()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ae(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:c,access_token:u,nonce:d}=t,h=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ir}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Uo}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await Rt(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _G(async s=>(s>0&&await SG(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ir})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ym(i)&&Date.now()+o-r<Yo})}catch(r){if(this._debug(n,"error",r),ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Li(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Li(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Qo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Xm()}else if(s&&!s.user&&!s.user){const o=await Li(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Rt(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,s)):s.user=Xm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Jm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ym(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new op;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ae(i)){const o={data:null,error:i};return Ym(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ak(s);await Qo(this.storage,this.storageKey,i)}else{const s=ak(n);await Qo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yo}ms, refresh threshold is ${ky} ticks`),s<=ky&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ZG(t.webauthn.credential_response):eK(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:c}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:QG(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:XG(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Qm(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new yn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yn});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ot()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new yn});const o=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ot()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new yn})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yn})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+aG>s)return r;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return this._returnResult({data:null,error:x});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Qm(r);n!=null&&n.allowExpired||AG(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=PG(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,vG(`${a}.${c}`)))throw new Ty("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}}tu.nextInstanceID={};const cK=tu,uK="2.90.1";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const dK={"X-Client-Info":`supabase-js-${Ql}/${uK}`},hK={headers:dK},fK={schema:"public"},pK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mK={};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function gK(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vK(e){var t=gK(e,"string");return nu(t)=="symbol"?t:t+""}function yK(e,t,n){return(t=vK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(r){yK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const wK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xK=()=>Headers,bK=(e,t,n)=>{const r=wK(n),s=xK();return async(i,o)=>{var a;const c=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,it(it({},o),{},{headers:u}))}};function SK(e){return e.endsWith("/")?e:e+"/"}function _K(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:it(it({},c),s),auth:it(it({},u),i),realtime:it(it({},d),o),storage:{},global:it(it(it({},h),a),{},{headers:it(it({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function EK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var kK=class extends cK{constructor(e){super(e)}},CK=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=EK(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:fK,realtime:mK,auth:it(it({},pK),{},{storageKey:o}),global:hK},c=_K(n??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=bK(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(it({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new i9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new nG(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new e9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kK({url:this.authUrl.href,headers:it(it({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new S9(this.realtimeUrl.href,it(it({},e),{},{params:it(it({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jK=(e,t,n)=>new CK(e,t,n);function TK(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}TK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const NK="https://gsucaxeqzluzbmvonsmj.supabase.co",AK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",ct=jK(NK,AK),mk={generic_discovery:{name:"Generic Discovery",description:"Standard discovery interview to understand workflows and identify automation opportunities."},technical_deep_dive:{name:"Technical Deep-Dive",description:"Focus on tech stack, APIs, data flows, integrations, and system architecture."},process_efficiency:{name:"Process Efficiency",description:"Focus on pain points, bottlenecks, time spent, and improvement opportunities."},compliance_risk:{name:"Compliance & Risk",description:"Focus on controls, approvals, audit trails, regulatory requirements, and risk mitigation."}};function PK(e={}){const[t,n]=g.useState(!1),[r,s]=g.useState(""),[i,o]=g.useState(""),[a,c]=g.useState(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(e.accessToken||null);g.useEffect(()=>{f.current=e.accessToken||null},[e.accessToken]);const m=async()=>{if(!f.current)throw new Error("No access token - session not started");const{data:w,error:S}=await ct.functions.invoke("deepgram-token",{body:{accessToken:f.current}});if(S)throw new Error(`Failed to get Deepgram token: ${S.message}`);if((w==null?void 0:w.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(w!=null&&w.key))throw new Error((w==null?void 0:w.error)||"No token returned from Deepgram");return w.key},x=g.useCallback(async()=>{var w;if(!t){c(null),s(""),o("");try{const S=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=S;const _=await m(),C=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true&mip_opt_out=true",["token",_]);u.current=C,C.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const j=new MediaRecorder(S,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});d.current=j,j.ondataavailable=T=>{T.data.size>0&&C.readyState===WebSocket.OPEN&&C.send(T.data)},j.start(250)},C.onmessage=j=>{var T,P,O,I;try{const R=JSON.parse(j.data);if((O=(P=(T=R.channel)==null?void 0:T.alternatives)==null?void 0:P[0])!=null&&O.transcript){const D=R.channel.alternatives[0].transcript;R.is_final?(s(W=>{var Q;const F=W?`${W} ${D}`:D;return(Q=e.onTranscript)==null||Q.call(e,F),F}),o("")):(o(D),(I=e.onInterimTranscript)==null||I.call(e,D))}}catch(R){console.error("Error parsing Deepgram message:",R)}},C.onerror=j=>{var P;console.error("Deepgram WebSocket error:",j);const T=new Error("WebSocket connection error");c(T),(P=e.onError)==null||P.call(e,T)},C.onclose=j=>{console.log("Deepgram WebSocket closed:",j.code,j.reason),n(!1)}}catch(S){console.error("Failed to start listening:",S);const _=S instanceof Error?S:new Error("Failed to start listening");c(_),(w=e.onError)==null||w.call(e,_),n(!1)}}},[t,e]),p=g.useCallback(()=>{d.current&&d.current.state!=="inactive"&&d.current.stop(),d.current=null,u.current&&u.current.close(),u.current=null,h.current&&h.current.getTracks().forEach(w=>w.stop()),h.current=null,n(!1),o("")},[]),b=g.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=g.useCallback(()=>{s(""),o("")},[]);return g.useEffect(()=>()=>{p()},[p]),{isListening:t,transcript:r,interimTranscript:i,error:a,startListening:x,stopListening:p,getFullTranscript:b,clearTranscript:y}}function RK(e={}){const[t,n]=g.useState([]),[r,s]=g.useState(!1),[i,o]=g.useState(null),[a,c]=g.useState(!1),u=g.useRef(null),d=g.useRef(e);d.current=e;const h=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=g.useCallback(w=>{u.current=w},[]),m=g.useCallback(w=>{const S=w.map(_=>({role:_.role,content:_.content,timestamp:_.timestamp?new Date(_.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):h()}));n(S),c(!0)},[]),x=g.useCallback(async w=>{var S,_,C,j;o(null),s(!0);try{const{data:T,error:P}=await ct.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:w}});if(P)throw new Error(`Failed to start conversation: ${P.message}`);if(!(T!=null&&T.response))throw new Error("No response from chat service");const O={role:"assistant",content:T.response,timestamp:h()};n([O]),(_=(S=d.current).onMessageReceived)==null||_.call(S,O)}catch(T){console.error("Error starting conversation:",T);const P=T instanceof Error?T:new Error("Failed to start conversation");o(P),(j=(C=d.current).onError)==null||j.call(C,P)}finally{s(!1)}},[]),p=g.useCallback(async w=>{var _,C,j,T,P,O,I,R;if(!w.trim())return;if(!u.current){const D=new Error("No access token - session not started");o(D),(C=(_=d.current).onError)==null||C.call(_,D);return}o(null);const S={role:"user",content:w.trim(),timestamp:h()};n(D=>[...D,S]),s(!0);try{const{data:D,error:W}=await ct.functions.invoke("chat-interview",{body:{accessToken:u.current,message:w.trim()}});if(W)throw new Error(`Failed to send message: ${W.message}`);if((D==null?void 0:D.error)==="Invalid or expired session")throw(T=(j=d.current).onSessionExpired)==null||T.call(j),new Error("Session expired. Please refresh the page to restart.");if(!(D!=null&&D.response))throw new Error("No response from chat service");const F={role:"assistant",content:D.response,timestamp:h()};n(Q=>[...Q,F]),(O=(P=d.current).onMessageReceived)==null||O.call(P,F)}catch(D){console.error("Error sending message:",D);const W=D instanceof Error?D:new Error("Failed to send message");o(W),(R=(I=d.current).onError)==null||R.call(I,W)}finally{s(!1)}},[]),b=g.useCallback(()=>t,[t]),y=g.useCallback(()=>{n([]),u.current=null,o(null),s(!1),c(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:a,startConversation:x,sendMessage:p,getTranscript:b,resetConversation:y,setAccessToken:f,initializeMessages:m}}function OK({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s}){const[i,o]=g.useState(""),[a,c]=g.useState(!1),[u,d]=g.useState(!0),h=g.useRef(null),f=g.useRef(null),m=g.useRef(null),x=g.useCallback(()=>{setTimeout(()=>{var z;(z=f.current)==null||z.scrollIntoView({behavior:"smooth"})},100)},[]),p=g.useCallback(()=>{x()},[x]),b=g.useCallback(()=>{c(!0)},[]),{messages:y,isThinking:w,error:S,isResumed:_,startConversation:C,sendMessage:j,setAccessToken:T,initializeMessages:P}=RK({onMessageReceived:p,onSessionExpired:b});g.useEffect(()=>{t&&T(t)},[t,T]);const{isListening:O,transcript:I,interimTranscript:R,error:D,startListening:W,stopListening:F,clearTranscript:Q}=PK({accessToken:t,onTranscript:z=>{o(ee=>ee?`${ee} ${z}`:z)}});g.useEffect(()=>{n&&n.length>0?P(n):C(e)},[e,n,P,C]),g.useEffect(()=>{r==null||r(y)},[y,r]),g.useEffect(()=>{x()},[y,w,x]),g.useEffect(()=>{y.some(ee=>ee.role==="user")&&u&&d(!1)},[y,u]);const J=()=>{var ee;const z=i.trim();!z||w||(j(z),o(""),Q(),(ee=m.current)==null||ee.focus())},Y=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),J())},L=async()=>{O?F():await W()},$=i+(O&&R?` ${R}`:"");return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsx(Gf,{className:"flex-1 p-4",ref:h,children:l.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[_&&y.length>0&&l.jsx(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:l.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),l.jsx(yi,{initial:!1,children:y.map((z,ee)=>l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${z.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${z.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:z.content}),l.jsx("p",{className:`text-xs mt-1 ${z.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:z.timestamp})]})},ee))}),w&&l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:l.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(de.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),l.jsx(de.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),l.jsx(de.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})}),l.jsx("div",{ref:f})]})}),a&&l.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(S||D)&&!a&&l.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(S==null?void 0:S.message)||(D==null?void 0:D.message)}),O&&l.jsx(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[l.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((z,ee)=>l.jsx(de.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:ee*.1},className:"w-1 bg-accent rounded-full"},ee))}),l.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),R&&l.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:R})]})}),l.jsx("div",{className:"border-t bg-background p-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ce,{type:"button",variant:"default",size:"default",onClick:L,disabled:a||!t,className:`shrink-0 gap-2 ${O?"bg-destructive hover:bg-destructive/90":"bg-accent hover:bg-accent/90"} ${u&&!O?"animate-pulse-subtle":""}`,title:a?"Session expired":t?O?"Stop listening":"Start voice input":"Session not ready",children:O?l.jsxs(l.Fragment,{children:[l.jsx(_F,{className:"h-4 w-4"}),"Stop"]}):l.jsxs(l.Fragment,{children:[l.jsx(li,{className:"h-4 w-4"}),"Speak"]})}),l.jsx(Lt,{ref:m,value:$,onChange:z=>o(z.target.value),onKeyDown:Y,placeholder:a?"Session expired":O?"Speak now...":"Tap Speak to talk  or type here if you prefer",disabled:w||a,className:"flex-1"}),l.jsx(ce,{type:"button",onClick:J,disabled:!i.trim()||w||a,size:"icon",className:"shrink-0",children:w?l.jsx(mt,{className:"h-4 w-4 animate-spin"}):l.jsx(xF,{className:"h-4 w-4"})})]}),u&&l.jsxs("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:["Speaking is faster than typing  tap ",l.jsx("span",{className:"font-medium",children:"Speak"})," to talk, or type here if you prefer"]}),!u&&l.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Click Speak to talk, or type and press Enter"})]})})]})}function Cu({className:e=""}){return l.jsx("footer",{className:`py-4 text-center text-sm text-muted-foreground ${e}`,children:l.jsxs("nav",{className:"flex items-center justify-center gap-4",children:[l.jsx(Ge,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Ge,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Ge,{to:"/subprocessors",className:"hover:text-foreground transition-colors",children:"Sub-processors"})]})})}var eg="focusScope.autoFocusOnMount",tg="focusScope.autoFocusOnUnmount",gk={bubbles:!1,cancelable:!0},IK="FocusScope",hx=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=g.useState(null),u=xt(s),d=xt(i),h=g.useRef(null),f=ke(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let p=function(S){if(m.paused||!a)return;const _=S.target;a.contains(_)?h.current=_:Ms(h.current,{select:!0})},b=function(S){if(m.paused||!a)return;const _=S.relatedTarget;_!==null&&(a.contains(_)||Ms(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Ms(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){yk.add(m);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(eg,gk);a.addEventListener(eg,u),a.dispatchEvent(y),y.defaultPrevented||(MK(VK(sI(a)),{select:!0}),document.activeElement===p&&Ms(a))}return()=>{a.removeEventListener(eg,u),setTimeout(()=>{const y=new CustomEvent(tg,gk);a.addEventListener(tg,d),a.dispatchEvent(y),y.defaultPrevented||Ms(p??document.body,{select:!0}),a.removeEventListener(tg,d),yk.remove(m)},0)}}},[a,u,d,m]);const x=g.useCallback(p=>{if(!n&&!r||m.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(b&&y){const w=p.currentTarget,[S,_]=DK(w);S&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&Ms(S,{select:!0})):p.shiftKey&&y===S&&(p.preventDefault(),n&&Ms(_,{select:!0})):y===w&&p.preventDefault()}},[n,r,m.paused]);return l.jsx(fe.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});hx.displayName=IK;function MK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ms(r,{select:t}),document.activeElement!==n)return}function DK(e){const t=sI(e),n=vk(t,e),r=vk(t.reverse(),e);return[n,r]}function sI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vk(e,t){for(const n of e)if(!LK(n,{upTo:t}))return n}function LK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $K(e){return e instanceof HTMLInputElement&&"select"in e}function Ms(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$K(e)&&t&&e.select()}}var yk=FK();function FK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=wk(e,t),e.unshift(t)},remove(t){var n;e=wk(e,t),(n=e[0])==null||n.resume()}}}function wk(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function VK(e){return e.filter(t=>t.tagName!=="A")}var ng=0;function iI(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xk()),document.body.insertAdjacentElement("beforeend",e[1]??xk()),ng++,()=>{ng===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ng--}},[])}function xk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qd="right-scroll-bar-position",Xd="width-before-scroll-bar",UK="with-scroll-bars-hidden",BK="--removed-body-scroll-bar-size";function rg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zK(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var qK=typeof window<"u"?g.useLayoutEffect:g.useEffect,bk=new WeakMap;function WK(e,t){var n=zK(null,function(r){return e.forEach(function(s){return rg(s,r)})});return qK(function(){var r=bk.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||rg(a,null)}),i.forEach(function(a){s.has(a)||rg(a,o)})}bk.set(n,e)},[e]),n}function HK(e){return e}function GK(e,t){t===void 0&&(t=HK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function KK(e){e===void 0&&(e={});var t=GK(null);return t.options=Fr({async:!0,ssr:!1},e),t}var oI=function(e){var t=e.sideCar,n=Sl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Fr({},n))};oI.isSideCarExport=!0;function JK(e,t){return e.useMedium(t),oI}var aI=KK(),sg=function(){},ap=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:sg,onWheelCapture:sg,onTouchMoveCapture:sg}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,x=e.noIsolation,p=e.inert,b=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,_=Sl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,j=WK([n,t]),T=Fr(Fr({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(C,{sideCar:aI,removeScrollBar:u,shards:h,noRelative:m,noIsolation:x,inert:p,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:S}),o?g.cloneElement(g.Children.only(a),Fr(Fr({},T),{ref:j})):g.createElement(w,Fr({},T,{className:c,ref:j}),a))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ap.classNames={fullWidth:Xd,zeroRight:Qd};var YK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YK();return t&&e.setAttribute("nonce",t),e}function XK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var e7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=QK())&&(XK(t,n),ZK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},t7=function(){var e=e7();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},lI=function(){var e=t7(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},n7={left:0,top:0,right:0,gap:0},ig=function(e){return parseInt(e||"",10)||0},r7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ig(n),ig(r),ig(s)]},s7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return n7;var t=r7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},i7=lI(),Aa="data-scroll-locked",o7=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(UK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qd," .").concat(Qd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(BK,": ").concat(a,`px;
  }
`)},Sk=function(){var e=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(e)?e:0},a7=function(){g.useEffect(function(){return document.body.setAttribute(Aa,(Sk()+1).toString()),function(){var e=Sk()-1;e<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,e.toString())}},[])},l7=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;a7();var i=g.useMemo(function(){return s7(s)},[s]);return g.createElement(i7,{styles:o7(i,!t,s,n?"":"!important")})},Ny=!1;if(typeof window<"u")try{var wd=Object.defineProperty({},"passive",{get:function(){return Ny=!0,!0}});window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{Ny=!1}var Ho=Ny?{passive:!1}:!1,c7=function(e){return e.tagName==="TEXTAREA"},cI=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!c7(e)&&n[t]==="visible")},u7=function(e){return cI(e,"overflowY")},d7=function(e){return cI(e,"overflowX")},_k=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uI(e,r);if(s){var i=dI(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},h7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},f7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},uI=function(e,t){return e==="v"?u7(t):d7(t)},dI=function(e,t){return e==="v"?h7(t):f7(t)},p7=function(e,t){return e==="h"&&t==="rtl"?-1:1},m7=function(e,t,n,r,s){var i=p7(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=dI(e,a),x=m[0],p=m[1],b=m[2],y=p-b-i*x;(x||y)&&uI(e,a)&&(h+=y,f+=x);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},xd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ek=function(e){return[e.deltaX,e.deltaY]},kk=function(e){return e&&"current"in e?e.current:e},g7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},v7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},y7=0,Go=[];function w7(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(y7++)[0],i=g.useState(lI)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=QH([e.lockRef.current],(e.shards||[]).map(kk),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=g.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=xd(p),w=n.current,S="deltaX"in p?p.deltaX:w[0]-y[0],_="deltaY"in p?p.deltaY:w[1]-y[1],C,j=p.target,T=Math.abs(S)>Math.abs(_)?"h":"v";if("touches"in p&&T==="h"&&j.type==="range")return!1;var P=_k(T,j);if(!P)return!0;if(P?C=T:(C=T==="v"?"h":"v",P=_k(T,j)),!P)return!1;if(!r.current&&"changedTouches"in p&&(S||_)&&(r.current=C),!C)return!0;var O=r.current||C;return m7(O,b,p,O==="h"?S:_,!0)},[]),c=g.useCallback(function(p){var b=p;if(!(!Go.length||Go[Go.length-1]!==i)){var y="deltaY"in b?Ek(b):xd(b),w=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&g7(C.delta,y)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(kk).filter(Boolean).filter(function(C){return C.contains(b.target)}),_=S.length>0?a(b,S[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(p,b,y,w){var S={name:p,delta:b,target:y,should:w,shadowParent:x7(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(_){return _!==S})},1)},[]),d=g.useCallback(function(p){n.current=xd(p),r.current=void 0},[]),h=g.useCallback(function(p){u(p.type,Ek(p),p.target,a(p,e.lockRef.current))},[]),f=g.useCallback(function(p){u(p.type,xd(p),p.target,a(p,e.lockRef.current))},[]);g.useEffect(function(){return Go.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ho),document.addEventListener("touchmove",c,Ho),document.addEventListener("touchstart",d,Ho),function(){Go=Go.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Ho),document.removeEventListener("touchmove",c,Ho),document.removeEventListener("touchstart",d,Ho)}},[]);var m=e.removeScrollBar,x=e.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:v7(s)}):null,m?g.createElement(l7,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function x7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const b7=JK(aI,w7);var fx=g.forwardRef(function(e,t){return g.createElement(ap,Fr({},e,{ref:t,sideCar:b7}))});fx.classNames=ap.classNames;var S7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ko=new WeakMap,bd=new WeakMap,Sd={},og=0,hI=function(e){return e&&(e.host||hI(e.parentNode))},_7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hI(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},E7=function(e,t,n,r){var s=_7(t,Array.isArray(e)?e:[e]);Sd[n]||(Sd[n]=new WeakMap);var i=Sd[n],o=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),x=m!==null&&m!=="false",p=(Ko.get(f)||0)+1,b=(i.get(f)||0)+1;Ko.set(f,p),i.set(f,b),o.push(f),p===1&&x&&bd.set(f,!0),b===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),a.clear(),og++,function(){o.forEach(function(h){var f=Ko.get(h)-1,m=i.get(h)-1;Ko.set(h,f),i.set(h,m),f||(bd.has(h)||h.removeAttribute(r),bd.delete(h)),m||h.removeAttribute(n)}),og--,og||(Ko=new WeakMap,Ko=new WeakMap,bd=new WeakMap,Sd={})}},fI=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=S7(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),E7(r,s,n,"aria-hidden")):function(){return null}},lp="Dialog",[pI,mI]=An(lp),[k7,Cr]=pI(lp),gI=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=g.useRef(null),c=g.useRef(null),[u,d]=Sr({prop:r,defaultProp:s??!1,onChange:i,caller:lp});return l.jsx(k7,{scope:t,triggerRef:a,contentRef:c,contentId:wr(),titleId:wr(),descriptionId:wr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};gI.displayName=lp;var vI="DialogTrigger",yI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(vI,n),i=ke(t,s.triggerRef);return l.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gx(s.open),...r,ref:i,onClick:oe(e.onClick,s.onOpenToggle)})});yI.displayName=vI;var px="DialogPortal",[C7,wI]=pI(px,{forceMount:void 0}),xI=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Cr(px,t);return l.jsx(C7,{scope:t,forceMount:n,children:g.Children.map(r,o=>l.jsx(Pn,{present:n||i.open,children:l.jsx(Ef,{asChild:!0,container:s,children:o})}))})};xI.displayName=px;var rf="DialogOverlay",bI=g.forwardRef((e,t)=>{const n=wI(rf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cr(rf,e.__scopeDialog);return i.modal?l.jsx(Pn,{present:r||i.open,children:l.jsx(T7,{...s,ref:t})}):null});bI.displayName=rf;var j7=Ka("DialogOverlay.RemoveScroll"),T7=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(rf,n);return l.jsx(fx,{as:j7,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(fe.div,{"data-state":gx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Eo="DialogContent",SI=g.forwardRef((e,t)=>{const n=wI(Eo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cr(Eo,e.__scopeDialog);return l.jsx(Pn,{present:r||i.open,children:i.modal?l.jsx(N7,{...s,ref:t}):l.jsx(A7,{...s,ref:t})})});SI.displayName=Eo;var N7=g.forwardRef((e,t)=>{const n=Cr(Eo,e.__scopeDialog),r=g.useRef(null),s=ke(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return fI(i)},[]),l.jsx(_I,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),A7=g.forwardRef((e,t)=>{const n=Cr(Eo,e.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(_I,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_I=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Cr(Eo,n),c=g.useRef(null),u=ke(t,c);return iI(),l.jsxs(l.Fragment,{children:[l.jsx(hx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(du,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":gx(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(R7,{titleId:a.titleId}),l.jsx(I7,{contentRef:c,descriptionId:a.descriptionId})]})]})}),mx="DialogTitle",EI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(mx,n);return l.jsx(fe.h2,{id:s.titleId,...r,ref:t})});EI.displayName=mx;var kI="DialogDescription",CI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(kI,n);return l.jsx(fe.p,{id:s.descriptionId,...r,ref:t})});CI.displayName=kI;var jI="DialogClose",TI=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cr(jI,n);return l.jsx(fe.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});TI.displayName=jI;function gx(e){return e?"open":"closed"}var NI="DialogTitleWarning",[P7,AI]=g$(NI,{contentName:Eo,titleName:mx,docsSlug:"dialog"}),R7=({titleId:e})=>{const t=AI(NI),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},O7="DialogDescriptionWarning",I7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AI(O7).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PI=gI,M7=yI,RI=xI,vx=bI,yx=SI,wx=EI,xx=CI,bx=TI,OI="AlertDialog",[D7,vQ]=An(OI,[mI]),Ss=mI(),II=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ss(t);return l.jsx(PI,{...r,...n,modal:!0})};II.displayName=OI;var L7="AlertDialogTrigger",$7=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ss(n);return l.jsx(M7,{...s,...r,ref:t})});$7.displayName=L7;var F7="AlertDialogPortal",MI=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ss(t);return l.jsx(RI,{...r,...n})};MI.displayName=F7;var V7="AlertDialogOverlay",DI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ss(n);return l.jsx(vx,{...s,...r,ref:t})});DI.displayName=V7;var Pa="AlertDialogContent",[U7,B7]=D7(Pa),z7=Xj("AlertDialogContent"),LI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Ss(n),o=g.useRef(null),a=ke(t,o),c=g.useRef(null);return l.jsx(P7,{contentName:Pa,titleName:$I,docsSlug:"alert-dialog",children:l.jsx(U7,{scope:n,cancelRef:c,children:l.jsxs(yx,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:oe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(z7,{children:r}),l.jsx(W7,{contentRef:o})]})})})});LI.displayName=Pa;var $I="AlertDialogTitle",FI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ss(n);return l.jsx(wx,{...s,...r,ref:t})});FI.displayName=$I;var VI="AlertDialogDescription",UI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ss(n);return l.jsx(xx,{...s,...r,ref:t})});UI.displayName=VI;var q7="AlertDialogAction",BI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Ss(n);return l.jsx(bx,{...s,...r,ref:t})});BI.displayName=q7;var zI="AlertDialogCancel",qI=g.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=B7(zI,n),i=Ss(n),o=ke(t,s);return l.jsx(bx,{...i,...r,ref:o})});qI.displayName=zI;var W7=({contentRef:e})=>{const t=`\`${Pa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pa}\` by passing a \`${VI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},H7=II,G7=MI,WI=DI,HI=LI,GI=BI,KI=qI,JI=FI,YI=UI;const K7=H7,J7=G7,QI=g.forwardRef(({className:e,...t},n)=>l.jsx(WI,{className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));QI.displayName=WI.displayName;const XI=g.forwardRef(({className:e,...t},n)=>l.jsxs(J7,{children:[l.jsx(QI,{}),l.jsx(HI,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));XI.displayName=HI.displayName;const ZI=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});ZI.displayName="AlertDialogHeader";const eM=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eM.displayName="AlertDialogFooter";const tM=g.forwardRef(({className:e,...t},n)=>l.jsx(JI,{ref:n,className:ie("text-lg font-semibold",e),...t}));tM.displayName=JI.displayName;const nM=g.forwardRef(({className:e,...t},n)=>l.jsx(YI,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));nM.displayName=YI.displayName;const rM=g.forwardRef(({className:e,...t},n)=>l.jsx(GI,{ref:n,className:ie(o0(),e),...t}));rM.displayName=GI.displayName;const sM=g.forwardRef(({className:e,...t},n)=>l.jsx(KI,{ref:n,className:ie(o0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sM.displayName=KI.displayName;const Vl=!1,Y7="2026-01-22";function Q7(){const{token:e}=i0(),[t]=r3(),[n,r]=g.useState("loading"),[s,i]=g.useState(null),[o,a]=g.useState(""),[c,u]=g.useState(null),[d,h]=g.useState(null),[f,m]=g.useState(null),[x,p]=g.useState(null),[b,y]=g.useState(null),[w,S]=g.useState(!1),[_,C]=g.useState(0),[j,T]=g.useState(0),[P,O]=g.useState(0),[I,R]=g.useState(!1),[D,W]=g.useState(!1),[F,Q]=g.useState(!1),[J,Y]=g.useState(null),[L,$]=g.useState(!1),[z,ee]=g.useState(!1),[ne,v]=g.useState(!1),{toast:k}=uu(),E=g.useRef([]),A=g.useRef(null);g.useEffect(()=>{const te=t.get("mode");te==="voice"&&!Vl?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(te==="chat"||te==="voice"&&Vl)&&i(te)},[t]),g.useEffect(()=>{async function te(){if(!e){r("invalid"),a("No interview token provided");return}try{const{data:Ee,error:Nr}=await ct.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(Nr){console.error("Failed to validate token:",Nr),r("invalid"),a("Unable to validate interview link. Please try again.");return}if(Ee!=null&&Ee.error){r("invalid"),a(Ee.error);return}if(!(Ee!=null&&Ee.interviewee)){r("invalid"),a("Interview not found");return}u(Ee.interviewee),h(Ee.org||null),r("before")}catch(Ee){console.error("Error loading interview:",Ee),r("invalid"),a("An unexpected error occurred. Please try again.")}}te()},[e]);const{status:N,transcript:M,isMuted:U,volumeLevel:V,startCall:H,endCall:X,toggleMute:ue,isConnected:Re,isSpeaking:dt,isListening:he}=JH({onStatusChange:te=>{console.log("Vapi status:",te),te==="connected"||te==="speaking"||te==="listening"?r("during"):te==="ended"?At():te==="error"&&r("error")},onError:te=>{console.error("Vapi error:",te),k({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:te=>{E.current=te}});g.useEffect(()=>{let te;return n==="during"&&Re&&(te=setInterval(()=>{C(Ee=>Ee+1)},1e3)),()=>clearInterval(te)},[n,Re]);const Se=te=>{const Ee=Math.floor(te/60).toString().padStart(2,"0"),Nr=(te%60).toString().padStart(2,"0");return`${Ee}:${Nr}`},qe=te=>{!c||!e||(Y(te),r("consent"))},gt=async()=>{if(!(!J||!c||!e)){if(!L||!z){k({title:"Consent required",description:"Please acknowledge both checkboxes to continue.",variant:"destructive"});return}if(J==="voice"&&!ne){k({title:"Audio consent required",description:"Please consent to audio recording to use voice mode.",variant:"destructive"});return}i(J),r("during"),A.current=Date.now();try{const{data:te,error:Ee}=await ct.functions.invoke("start-interview",{body:{interviewToken:e,privacyAcknowledgedAt:new Date().toISOString(),privacyNoticeVersion:Y7,audioConsentGiven:J==="voice"?ne:!1}});if(Ee||!(te!=null&&te.accessToken))throw new Error((te==null?void 0:te.error)||(Ee==null?void 0:Ee.message)||"Failed to start interview");m(te.interviewId),p(te.accessToken),te.resumed&&te.transcript&&te.transcript.length>0&&(y(te.transcript),S(!0),console.log("[INFO] Resuming interview with",te.transcript.length,"messages")),J==="voice"&&Vl&&await H(c.name)}catch(te){console.error("Failed to start interview:",te),k({title:"Error",description:te instanceof Error?te.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),i(null),Y(null)}}},Tr=()=>{r("before"),Y(null),$(!1),ee(!1),v(!1)},In=te=>{E.current=te},Qn=()=>{Q(!0)},Ft=()=>{Q(!1),At()},Io=()=>{Q(!1),X()},Mo=()=>{k({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},At=async()=>{W(!0);const te=A.current?Math.floor((Date.now()-A.current)/1e3):_;if(C(te),x)try{const{data:Ee,error:Nr}=await ct.functions.invoke("complete-interview",{body:{accessToken:x,durationSeconds:te}});(Nr||Ee!=null&&Ee.error)&&(console.error("Failed to complete interview:",Nr||(Ee==null?void 0:Ee.error)),k({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(Ee){console.error("Failed to complete interview:",Ee),k({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}W(!1),r("after")},_s=async te=>{if(T(te),x)try{await ct.functions.invoke("complete-interview",{body:{accessToken:x,rating:te}})}catch(Ee){console.error("Failed to save rating:",Ee)}},_p=()=>{window.close()},Ep=()=>{r("before"),C(0)};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("img",{src:wl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yl,{}),!1]})]})}),l.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:l.jsxs(yi,{mode:"wait",children:[n==="loading"&&l.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[l.jsx(mt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Ne,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ie,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:l.jsx(Ja,{className:"h-10 w-10 text-destructive"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),l.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&c&&l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Ne,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ie,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(li,{className:"h-10 w-10 text-white"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),l.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),l.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4 border-l-4",style:{borderLeftColor:"#7952b3"},children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),l.jsx("p",{className:"font-semibold text-foreground",children:c.name}),c.role&&l.jsx("p",{className:"text-sm text-muted-foreground",children:c.role}),d&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.name})]}),l.jsxs("div",{className:"mb-6 rounded-lg bg-accent/10 p-4 text-left",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:"Quick tip:"})," Speaking is faster than typing, and people tend to share more when they talk naturally. Just tap the ",l.jsx("span",{className:"font-medium",children:"Speak"})," button when you're ready."]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Can't talk? No problem  typing works too."})]}),l.jsxs("div",{className:"space-y-3",children:[Vl,l.jsx(ce,{size:"lg",variant:"default",onClick:()=>qe("chat"),className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Let's Begin"})]}),l.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="consent"&&c&&l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Ne,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ie,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Quick bit of housekeeping"}),l.jsx("p",{className:"mb-6 text-muted-foreground text-left",children:"Before we dive in, we need to tick a couple of boxes - and I mean that literally. Here's why:"}),l.jsxs("div",{className:"space-y-4 text-left mb-6",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(qd,{id:"privacy",checked:L,onCheckedChange:te=>$(te===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none",children:l.jsxs(bt,{htmlFor:"privacy",className:"font-normal cursor-pointer",children:["I've read the"," ",l.jsx(Ge,{to:"/privacy",className:"text-accent underline hover:text-accent/80",children:"Privacy Notice"})," ","- this covers how we handle your data, who sees what, and confirms your responses are never used to train AI. The short version: everything stays confidential."]})})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(qd,{id:"recording",checked:z,onCheckedChange:te=>ee(te===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none",children:l.jsx(bt,{htmlFor:"recording",className:"font-normal cursor-pointer",children:"I understand this conversation will be recorded and analysed - this is how we turn a 20-minute chat into genuinely useful insights for your organisation."})})]}),J==="voice"&&Vl&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(qd,{id:"audio",checked:ne,onCheckedChange:te=>v(te===!0)}),l.jsx("div",{className:"grid gap-1.5 leading-none",children:l.jsx(bt,{htmlFor:"audio",className:"font-normal cursor-pointer",children:"I consent to audio recording and transcription"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ce,{size:"lg",onClick:gt,disabled:!L||!z||J==="voice"&&!ne,className:"w-full gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:J==="voice"?l.jsxs(l.Fragment,{children:[l.jsx(li,{className:"h-5 w-5"}),"Continue with Voice"]}):l.jsxs(l.Fragment,{children:[l.jsx(Ch,{className:"h-5 w-5"}),"Continue with Text"]})}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:Tr,className:"w-full",children:"Back"})]})]})})},"consent"),n==="during"&&s==="voice"&&l.jsx(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mb-8 inline-block",children:[Re&&l.jsxs(l.Fragment,{children:[l.jsx(de.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),l.jsx(de.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),l.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${N==="connecting"?"bg-muted animate-pulse":dt?"bg-accent":he?"bg-primary":"bg-muted"}`,children:U?l.jsx(sS,{className:"h-12 w-12 text-white"}):l.jsx(li,{className:"h-12 w-12 text-white"})})]}),l.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:N==="connecting"?"Connecting...":dt?"AI Speaking...":he?"Listening...":"Connected"}),l.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:Se(_)}),Re&&l.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((te,Ee)=>l.jsx(de.div,{className:`w-1 rounded-full ${Ee<Math.floor(V*10)?"bg-accent":"bg-muted"}`,animate:{height:he?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:Ee*.05}},Ee))}),l.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[l.jsxs(ce,{variant:"outline",size:"lg",onClick:ue,className:"gap-2",children:[U?l.jsx(sS,{className:"h-5 w-5"}):l.jsx(TT,{className:"h-5 w-5"}),U?"Unmute":"Mute"]}),l.jsxs(ce,{variant:"outline",size:"lg",onClick:Mo,className:"gap-2",children:[l.jsx(iS,{className:"h-5 w-5"}),"Pause & Save"]}),l.jsx(ce,{variant:"outline",size:"lg",onClick:Qn,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),l.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>R(!I),className:"mb-4",children:[I?"Hide":"Show"," Live Transcript"]}),l.jsx(yi,{children:I&&M.length>0&&l.jsx(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:l.jsx(Ne,{className:"mx-auto max-w-xl",children:l.jsx(Gf,{className:"h-48 p-4",children:l.jsx("div",{className:"space-y-3",children:M.map((te,Ee)=>l.jsxs("div",{className:`text-sm ${te.role==="assistant"?"text-accent":"text-foreground"}`,children:[l.jsx("span",{className:"font-medium",children:te.role==="assistant"?"AI: ":"You: "}),te.content]},Ee))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&l.jsx(de.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:l.jsxs(Ne,{className:"h-full border-0 shadow-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ch,{className:"h-5 w-5 text-accent"}),l.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ce,{variant:"outline",size:"sm",onClick:Mo,className:"gap-1",children:[l.jsx(iS,{className:"h-4 w-4"}),"Pause & Save"]}),l.jsx(ce,{variant:"outline",size:"sm",onClick:Qn,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),l.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:l.jsx(OK,{intervieweeName:c==null?void 0:c.name,accessToken:x,initialMessages:b||void 0,onTranscriptUpdate:In,onEnd:Ft})})]})},"during-chat"),n==="after"&&l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Ne,{className:"border-0 shadow-lg overflow-hidden",children:l.jsx(Ie,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:D?l.jsxs(l.Fragment,{children:[l.jsx(mt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(de.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Mc,{className:"h-12 w-12 text-white"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),l.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),l.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",Se(_)]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),l.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(te=>l.jsx("button",{onClick:()=>_s(te),onMouseEnter:()=>O(te),onMouseLeave:()=>O(0),className:"transition-transform hover:scale-110",children:l.jsx(EF,{className:`h-8 w-8 transition-colors ${te<=(P||j)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},te))}),j>0&&l.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),l.jsx(ce,{size:"lg",onClick:_p,className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Close"})]})})})},"after"),n==="error"&&l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:l.jsx(Ne,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ie,{className:"p-8 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:l.jsx(Ja,{className:"h-10 w-10 text-destructive"})}),l.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),l.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),l.jsx(ce,{size:"lg",onClick:Ep,className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Try Again"})]})})},"error")]})}),l.jsx(K7,{open:F,onOpenChange:Q,children:l.jsxs(XI,{children:[l.jsxs(ZI,{children:[l.jsx(tM,{children:"Complete Interview?"}),l.jsxs(nM,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",l.jsx("br",{}),l.jsx("br",{}),"If you need to take a break, use ",l.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),l.jsxs(eM,{children:[l.jsx(sM,{children:"Cancel"}),l.jsx(rM,{onClick:s==="voice"?Io:Ft,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})}),(n==="loading"||n==="invalid"||n==="before"||n==="consent"||n==="after"||n==="error")&&l.jsx(Cu,{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur border-t"})]})}const X7=jf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _t({className:e,variant:t,...n}){return l.jsx("div",{className:ie(X7({variant:t}),e),...n})}var cp="Collapsible",[Z7,iM]=An(cp),[eJ,Sx]=Z7(cp),oM=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[c,u]=Sr({prop:r,defaultProp:s??!1,onChange:o,caller:cp});return l.jsx(eJ,{scope:n,disabled:i,contentId:wr(),open:c,onOpenToggle:g.useCallback(()=>u(d=>!d),[u]),children:l.jsx(fe.div,{"data-state":Ex(c),"data-disabled":i?"":void 0,...a,ref:t})})});oM.displayName=cp;var aM="CollapsibleTrigger",lM=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Sx(aM,n);return l.jsx(fe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Ex(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:oe(e.onClick,s.onOpenToggle)})});lM.displayName=aM;var _x="CollapsibleContent",cM=g.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Sx(_x,e.__scopeCollapsible);return l.jsx(Pn,{present:n||s.open,children:({present:i})=>l.jsx(tJ,{...r,ref:t,present:i})})});cM.displayName=_x;var tJ=g.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=Sx(_x,n),[a,c]=g.useState(r),u=g.useRef(null),d=ke(t,u),h=g.useRef(0),f=h.current,m=g.useRef(0),x=m.current,p=o.open||a,b=g.useRef(p),y=g.useRef(void 0);return g.useEffect(()=>{const w=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(w)},[]),Et(()=>{const w=u.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();h.current=S.height,m.current=S.width,b.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),c(r)}},[o.open,r]),l.jsx(fe.div,{"data-state":Ex(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:p&&s})});function Ex(e){return e?"open":"closed"}var nJ=oM,rJ=lM,sJ=cM,jr="Accordion",iJ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[kx,oJ,aJ]=_f(jr),[up,yQ]=An(jr,[aJ,iM]),Cx=iM(),uM=G.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return l.jsx(kx.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?l.jsx(dJ,{...i,ref:t}):l.jsx(uJ,{...s,ref:t})})});uM.displayName=jr;var[dM,lJ]=up(jr),[hM,cJ]=up(jr,{collapsible:!1}),uJ=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,c]=Sr({prop:n,defaultProp:r??"",onChange:s,caller:jr});return l.jsx(dM,{scope:e.__scopeAccordion,value:G.useMemo(()=>a?[a]:[],[a]),onItemOpen:c,onItemClose:G.useCallback(()=>i&&c(""),[i,c]),children:l.jsx(hM,{scope:e.__scopeAccordion,collapsible:i,children:l.jsx(fM,{...o,ref:t})})})}),dJ=G.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=Sr({prop:n,defaultProp:r??[],onChange:s,caller:jr}),c=G.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=G.useCallback(d=>a((h=[])=>h.filter(f=>f!==d)),[a]);return l.jsx(dM,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:l.jsx(hM,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(fM,{...i,ref:t})})})}),[hJ,dp]=up(jr),fM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=G.useRef(null),c=ke(a,t),u=oJ(n),h=bu(s)==="ltr",f=oe(e.onKeyDown,m=>{var P;if(!iJ.includes(m.key))return;const x=m.target,p=u().filter(O=>{var I;return!((I=O.ref.current)!=null&&I.disabled)}),b=p.findIndex(O=>O.ref.current===x),y=p.length;if(b===-1)return;m.preventDefault();let w=b;const S=0,_=y-1,C=()=>{w=b+1,w>_&&(w=S)},j=()=>{w=b-1,w<S&&(w=_)};switch(m.key){case"Home":w=S;break;case"End":w=_;break;case"ArrowRight":i==="horizontal"&&(h?C():j());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(h?j():C());break;case"ArrowUp":i==="vertical"&&j();break}const T=w%y;(P=p[T].ref.current)==null||P.focus()});return l.jsx(hJ,{scope:n,disabled:r,direction:s,orientation:i,children:l.jsx(kx.Slot,{scope:n,children:l.jsx(fe.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:f})})})}),sf="AccordionItem",[fJ,jx]=up(sf),pM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=dp(sf,n),o=lJ(sf,n),a=Cx(n),c=wr(),u=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return l.jsx(fJ,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(nJ,{"data-orientation":i.orientation,"data-state":xM(u),...a,...s,ref:t,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});pM.displayName=sf;var mM="AccordionHeader",gM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=dp(jr,n),i=jx(mM,n);return l.jsx(fe.h3,{"data-orientation":s.orientation,"data-state":xM(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});gM.displayName=mM;var Ay="AccordionTrigger",vM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=dp(jr,n),i=jx(Ay,n),o=cJ(Ay,n),a=Cx(n);return l.jsx(kx.ItemSlot,{scope:n,children:l.jsx(rJ,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});vM.displayName=Ay;var yM="AccordionContent",wM=G.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=dp(jr,n),i=jx(yM,n),o=Cx(n);return l.jsx(sJ,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});wM.displayName=yM;function xM(e){return e?"open":"closed"}var pJ=uM,mJ=pM,gJ=gM,bM=vM,SM=wM;const Tx=pJ,hp=g.forwardRef(({className:e,...t},n)=>l.jsx(mJ,{ref:n,className:ie("border-b",e),...t}));hp.displayName="AccordionItem";const fp=g.forwardRef(({className:e,children:t,...n},r)=>l.jsx(gJ,{className:"flex",children:l.jsxs(bM,{ref:r,className:ie("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,l.jsx(Tf,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));fp.displayName=bM.displayName;const pp=g.forwardRef(({className:e,children:t,...n},r)=>l.jsx(SM,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:ie("pb-4 pt-0",e),children:t})}));pp.displayName=SM.displayName;function vJ({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return l.jsxs(_t,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function yJ({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return l.jsxs(_t,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function wJ({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return l.jsx(_t,{variant:"secondary",children:t[e]||e})}function xJ(){const{token:e}=i0(),[t,n]=g.useState("loading"),[r,s]=g.useState(""),[i,o]=g.useState(null);return g.useEffect(()=>{async function a(){if(!e){n("error"),s("No results token provided");return}try{const{data:c,error:u}=await ct.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(u){n("error"),s("Unable to load results. Please try again.");return}if(c!=null&&c.error){c.error.includes("still being generated")?n("pending"):(n("error"),s(c.error));return}o(c),n("success")}catch(c){console.error("Error loading results:",c),n("error"),s("An unexpected error occurred. Please try again.")}}a()},[e]),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx(Ge,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:wl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsx(yl,{})]})}),l.jsxs("main",{className:"container py-8",children:[t==="loading"&&l.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(mt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&l.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:l.jsx(Ne,{className:"max-w-md text-center overflow-hidden",children:l.jsxs(Ie,{className:"pt-6 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Dc,{className:"h-8 w-8 text-white"})}),l.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),l.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&l.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:l.jsx(Ne,{className:"max-w-md text-center overflow-hidden",children:l.jsxs(Ie,{className:"pt-6 border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:l.jsx(Ja,{className:"h-8 w-8 text-destructive"})}),l.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),l.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&l.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Your Discovery Insights"}),l.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Personalised for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i.org.name})]}),i.analysis.executiveSummary&&l.jsxs(Ne,{className:"overflow-hidden border-0 shadow-lg",children:[l.jsx(an,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx("div",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(jh,{className:"h-4 w-4 text-white"})}),"Executive Summary"]})}),l.jsx(Ie,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:l.jsx("p",{className:"text-foreground leading-relaxed",children:i.analysis.executiveSummary})})]}),i.analysis.automationOpportunities.length>0&&l.jsxs("section",{children:[l.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Lw,{className:"h-5 w-5 text-white"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Opportunities For You"})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.analysis.automationOpportunities.map((a,c)=>l.jsxs(Ne,{className:"relative overflow-hidden",children:[l.jsxs(an,{className:"pb-2",children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(wJ,{category:a.category}),l.jsx(vJ,{level:a.confidence}),l.jsx(yJ,{level:a.estimated_impact})]}),l.jsx(ln,{className:"mt-2 text-lg",children:a.title})]}),l.jsxs(Ie,{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),a.affected_workflows.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),l.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:a.affected_workflows.map((u,d)=>l.jsx(_t,{variant:"outline",className:"text-xs",children:u},d))})]}),a.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),l.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:a.prerequisites.slice(0,3).map((u,d)=>l.jsx("li",{children:u},d))})]})]})]},c))})]}),i.analysis.workflows.length>0&&l.jsxs("section",{children:[l.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[l.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full",style:{backgroundColor:"#7952b3"},children:l.jsx(NT,{className:"h-5 w-5 text-white"})}),l.jsx("h2",{className:"text-2xl font-semibold",children:"Your Workflows"})]}),l.jsx(Tx,{type:"multiple",className:"space-y-2",children:i.analysis.workflows.map((a,c)=>{var u,d,h,f,m,x,p,b;return l.jsxs(hp,{value:`workflow-${c}`,className:"rounded-lg border bg-card",children:[l.jsx(fp,{className:"px-4 hover:no-underline",children:l.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-medium",children:a.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:a.owner})]}),l.jsx(_t,{variant:"outline",children:a.frequency})]})}),l.jsx(pp,{className:"px-4 pb-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-muted-foreground",children:a.description}),a.estimated_time&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Dc,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{children:["Estimated time: ",a.estimated_time]})]}),l.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[l.jsx("p",{className:"mb-3 text-sm font-medium",children:"SIMPLE Breakdown"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((u=a.components.triggers)==null?void 0:u.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Signal (Triggers)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.triggers.map((y,w)=>l.jsx("li",{children:y},w))})]}),((d=a.components.inputs)==null?void 0:d.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.inputs.map((y,w)=>l.jsx("li",{children:y},w))})]}),((h=a.components.transformations)==null?void 0:h.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Make (Work Done)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.transformations.map((y,w)=>l.jsx("li",{children:y},w))})]}),((f=a.components.decisions)==null?void 0:f.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Pick (Decisions)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.decisions.map((y,w)=>l.jsx("li",{children:y},w))})]}),((m=a.components.outputs)==null?void 0:m.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Land (Outputs)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.outputs.map((y,w)=>l.jsx("li",{children:y},w))})]}),((x=a.components.checks)==null?void 0:x.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Examine (Quality Checks)"}),l.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.checks.map((y,w)=>l.jsx("li",{children:y},w))})]})]})]}),((p=a.systems_used)==null?void 0:p.length)>0&&l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:a.systems_used.map((y,w)=>l.jsx(_t,{variant:"secondary",className:"text-xs",children:y},w))})]}),((b=a.pain_points)==null?void 0:b.length)>0&&l.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[l.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),l.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:a.pain_points.map((y,w)=>l.jsx("li",{children:y},w))})]})]})})]},c)})})]}),l.jsx(Ne,{className:"border-0 shadow-lg overflow-hidden",children:l.jsxs(Ie,{className:"flex flex-col items-center py-8 text-center border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Fw,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),l.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),l.jsx(ce,{size:"lg",className:"gap-2 font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},asChild:!0,children:l.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[l.jsx(pu,{className:"h-5 w-5"}),"Contact AgentFlow",l.jsx(Ji,{className:"h-4 w-4"})]})})]})}),l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:l.jsxs("p",{children:["Analysis generated on"," ",new Date(i.analysis.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})]}),l.jsx(Cu,{className:"border-t"})]})}function Nx({children:e,title:t,lastUpdated:n}){const r=Ci();return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:l.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[l.jsx(Ge,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:wl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsx(yl,{})]})}),l.jsxs("main",{className:"container max-w-3xl pb-16 pt-24",children:[l.jsxs("button",{onClick:()=>r(-1),className:"mb-6 flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[l.jsx(cF,{className:"h-4 w-4"}),"Back"]}),l.jsxs("article",{className:"prose prose-slate dark:prose-invert max-w-none",children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground sm:text-4xl",children:t}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",n]}),l.jsx("hr",{className:"my-6"}),e]})]}),l.jsx("footer",{className:"border-t py-8",children:l.jsxs("div",{className:"container max-w-3xl",children:[l.jsxs("nav",{className:"mb-4 flex flex-wrap justify-center gap-4 text-sm",children:[l.jsx(Ge,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Ge,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"}),l.jsx("span",{className:"text-muted-foreground/50",children:"|"}),l.jsx(Ge,{to:"/subprocessors",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Sub-processors"})]}),l.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Contact: ",l.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"hover:text-foreground transition-colors",children:"hamish@goagentflow.com"})]}),l.jsxs("p",{className:"mt-2 text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," AgentFlow Ltd. All rights reserved."]})]})})]})}function bJ(){return l.jsxs(Nx,{title:"Privacy Notice - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Who we are"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd provides the AgentFlow Discovery Tool. If you are an interviewee, your organisation is the controller of your interview data and AgentFlow Ltd acts as its processor. The admin portal is for AgentFlow staff only; clients do not receive admin access unless separately agreed."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Contact"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["Privacy contact: ",l.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"If you are an interviewee"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation determines the lawful basis for processing your interview data. AgentFlow Ltd processes your data only on your organisation's instructions. To exercise your rights, contact your organisation or the person who invited you to take part. If you contact AgentFlow Ltd, we will route your request to your organisation."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"What we collect"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Identity and work details:"})," name, work email, role, organisation/project identifiers."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Interview responses:"})," text responses, timestamps, and ratings you choose to provide."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Audio data if voice mode is enabled:"})," recordings and transcripts."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Analysis outputs:"})," generated from interviews."]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Technical and security data:"})," IP address, device/browser details, access logs."]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"How we use your data and lawful bases"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:l.jsx("strong",{children:"Interviewees (on behalf of your organisation):"})}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Provide the interview experience and generate analysis outputs."}),l.jsx("li",{children:"Maintain the security and integrity of the service."})]}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Your organisation typically relies on legitimate interests or performance of a contract (such as an employment or contractor relationship). If audio recording is enabled, we will request your explicit consent before capturing audio."}),l.jsx("p",{className:"text-muted-foreground mb-2",children:l.jsx("strong",{children:"AgentFlow staff (internal users):"})}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Create and manage projects and interviewees (employment or contractor relationship)."}),l.jsx("li",{children:"Provide support and maintain service security (legitimate interests)."}),l.jsx("li",{children:"Meet legal obligations (legal obligation)."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"AI processing and automated decisions"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We use AI to analyse interview responses and generate summaries and recommendations. Outputs are advisory and are not used for solely automated decision-making."}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not use your data to train AI models. Our sub-processors are contractually prohibited from using your data for model training, and we have implemented technical controls to enforce this (e.g., opt-out parameters on speech-to-text APIs)."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Sharing and sub-processors"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["We use trusted service providers to host and operate the service. A current list is available at:"," ",l.jsx(Ge,{to:"/subprocessors",className:"text-accent hover:underline",children:"Sub-processors"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"International transfers"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Some service providers are outside the UK. We use UK-approved safeguards (UK IDTA or UK Addendum to SCCs) and conduct transfer impact assessments where required."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Retention"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Interview data and analysis outputs: 12 months."}),l.jsx("li",{children:"Results links: 30 days."}),l.jsx("li",{children:"Interview links: 7 days."}),l.jsx("li",{children:"Security and audit logs: 12 months."}),l.jsx("li",{children:"Backups: 30 days."})]}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"After these periods, data is deleted or anonymised."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Security"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We apply appropriate technical and organisational measures to protect personal data, including access controls, encryption in transit, and logging."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Your rights"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["You have rights to access, correct, erase, restrict, object, and port your data. Interviewees should contact their organisation or the person who invited them. AgentFlow staff should use internal HR/contact channels or email ",l.jsx("a",{href:"mailto:hamish@goagentflow.com",className:"text-accent hover:underline",children:"hamish@goagentflow.com"}),"."]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Complaints"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["You may complain to the UK Information Commissioner's Office (ICO):"," ",l.jsx("a",{href:"https://ico.org.uk/",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"https://ico.org.uk/"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Children"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"This service is intended for adults in a professional context and is not designed for use by children."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Changes"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We may update this notice from time to time. The latest version will be published at this URL."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"Cookies"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We use essential cookies or local storage needed to run the service (such as authentication and security). If we add non-essential analytics, we will request consent where required."})]})]})}function SJ(){return l.jsxs(Nx,{title:"Terms of Service - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"1. About these Terms"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:'These Terms govern access to and use of the AgentFlow Discovery Tool (the "Service") by the business or organisation that purchases or uses the Service (the "Client"). If you are an interviewee, you are not a party to these Terms; your participation is governed by your organisation. The admin portal is for AgentFlow staff only and is not made available to clients unless separately agreed.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"2. Definitions"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:'"Client Data"'})," means information submitted to or collected by the Service on behalf of the Client, including interview responses and analysis outputs."]}),l.jsxs("li",{children:[l.jsx("strong",{children:'"Interviewee"'})," means a person invited by the Client to participate in an interview."]}),l.jsxs("li",{children:[l.jsx("strong",{children:'"Order Form"'})," means the document or agreement describing pricing and scope, if applicable."]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"3. The Service"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The Service provides AI-assisted interviews and analysis to help clients identify workflow and automation opportunities. The Service may be in beta and features may change or be discontinued."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"4. Client responsibilities"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client will:"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Ensure it has the right to provide Client Data and to ask Interviewees to participate."}),l.jsx("li",{children:"Provide required privacy notices to Interviewees."}),l.jsx("li",{children:"Use the Service in compliance with applicable laws."}),l.jsx("li",{children:"Ensure Interviewees do not submit special category data unless explicitly agreed in writing."}),l.jsx("li",{children:"Not attempt to access the admin portal and ensure only Interviewees access the interview interface."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"5. Acceptable use"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"The Client and Interviewees must not:"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Use the Service for unlawful purposes."}),l.jsx("li",{children:"Provide sensitive personal data (health, union membership, criminal records, financial account numbers) unless agreed in writing."}),l.jsx("li",{children:"Attempt to reverse engineer or interfere with the Service."})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"6. Data protection"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["The parties will enter into a data processing agreement (DPA) consistent with UK GDPR Article 28. AgentFlow Ltd processes Client Data only on the Client's instructions. The Client is the controller of Client Data; AgentFlow Ltd is the processor. The Privacy Notice is available at"," ",l.jsx(Ge,{to:"/privacy",className:"text-accent hover:underline",children:"Privacy Policy"}),"."]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"7. AI outputs and no reliance"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AI-generated outputs are provided for informational purposes only. The Client is responsible for verifying outputs and for any decisions made using the outputs. Outputs must not be used as the sole basis for employment or other decisions affecting individuals."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"8. Security"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd applies reasonable technical and organisational measures to protect the Service and Client Data. No method of transmission or storage is completely secure; the Client acknowledges this risk."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"9. Fees and payment"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Fees, if any, are set out in the Order Form. Unless otherwise stated, fees are non-refundable."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"10. Intellectual property"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd retains all rights in the Service. The Client retains ownership of Client Data. AgentFlow Ltd may use aggregated and anonymised data for service improvement and analytics."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"11. Confidentiality"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Each party will protect the other party's confidential information using reasonable care and will use it only for the purposes of the Service."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"12. Warranties and disclaimers"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:'The Service is provided "as is." To the extent permitted by law, AgentFlow Ltd disclaims all warranties, including fitness for a particular purpose and non-infringement.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"13. Limitation of liability"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"To the extent permitted by law:"}),l.jsxs("ul",{className:"list-disc pl-6 text-muted-foreground mb-4 space-y-2",children:[l.jsx("li",{children:"Neither party is liable for indirect, incidental, or consequential damages."}),l.jsx("li",{children:"AgentFlow Ltd's total liability arising from the Service is limited to the fees paid by the Client in the 12 months before the event giving rise to the claim."})]}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Nothing limits liability for death or personal injury caused by negligence, fraud, or other liability that cannot be excluded by law."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"14. Indemnity"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The Client will indemnify AgentFlow Ltd against claims arising from Client Data, Client instructions, or use of the Service in violation of these Terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"15. Term and termination"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms start when the Client first uses the Service and continue until terminated. Either party may terminate for material breach with 30 days' notice if the breach is not remedied. On termination, AgentFlow Ltd will delete or return Client Data in accordance with the DPA."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"16. Changes"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"AgentFlow Ltd may update these Terms by posting a new version at this URL."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mt-8 mb-4",children:"17. Governing law"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"These Terms are governed by the laws of England and Wales. The courts of England and Wales have exclusive jurisdiction."})]})]})}const mp=g.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ie("w-full caption-bottom text-sm",e),...t})}));mp.displayName="Table";const gp=g.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:ie("[&_tr]:border-b",e),...t}));gp.displayName="TableHeader";const vp=g.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:ie("[&_tr:last-child]:border-0",e),...t}));vp.displayName="TableBody";const _J=g.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_J.displayName="TableFooter";const ko=g.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:ie("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));ko.displayName="TableRow";const jt=g.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));jt.displayName="TableHead";const Tt=g.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Tt.displayName="TableCell";const EJ=g.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));EJ.displayName="TableCaption";const kJ=[{provider:"Supabase",purpose:"Hosting, database, auth, edge functions",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (database)"},{provider:"Anthropic",purpose:"AI model processing",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (commercial API terms)"},{provider:"Deepgram",purpose:"Speech-to-text (if enabled)",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"Yes (mip_opt_out=true)"},{provider:"Resend",purpose:"Transactional email",location:"US",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (email)"},{provider:"Google Cloud (Cloud Run)",purpose:"App hosting",location:"UK/EU/US (configurable)",safeguards:"UK IDTA or UK Addendum to SCCs",trainingExcluded:"N/A (infrastructure)"}];function CJ(){return l.jsxs(Nx,{title:"Sub-processor List - AgentFlow Discovery Tool",lastUpdated:"2026-01-22",children:[l.jsxs("section",{children:[l.jsx("p",{className:"text-muted-foreground mb-6",children:"The following third-party service providers are used to host and operate the AgentFlow Discovery Tool. We have appropriate data processing agreements in place with each provider."}),l.jsx("div",{className:"overflow-x-auto rounded-lg border",children:l.jsxs(mp,{children:[l.jsx(gp,{children:l.jsxs(ko,{children:[l.jsx(jt,{className:"font-semibold",children:"Provider"}),l.jsx(jt,{className:"font-semibold",children:"Purpose"}),l.jsx(jt,{className:"font-semibold",children:"Data Location"}),l.jsx(jt,{className:"font-semibold",children:"Safeguards"}),l.jsx(jt,{className:"font-semibold",children:"Training Excluded"})]})}),l.jsx(vp,{children:kJ.map(e=>l.jsxs(ko,{children:[l.jsx(Tt,{className:"font-medium",children:e.provider}),l.jsx(Tt,{children:e.purpose}),l.jsx(Tt,{children:e.location}),l.jsx(Tt,{children:e.safeguards}),l.jsx(Tt,{children:e.trainingExcluded.startsWith("Yes")?l.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx(Mc,{className:"h-4 w-4"}),e.trainingExcluded]}):e.trainingExcluded})]},e.provider))})]})})]}),l.jsxs("section",{className:"mt-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"AI Model Training Policy"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not permit our sub-processors to use your data for AI model training. Where applicable, we have implemented technical opt-outs (e.g., Deepgram's Model Improvement Program opt-out) and rely on contractual terms (e.g., Anthropic's commercial API terms) to enforce this."})]}),l.jsxs("section",{className:"mt-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Changes to this list"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"We will notify clients of material changes to this list in advance where required by contract."})]})]})}const _M=["hamish@goagentflow.com","stephen@goagentflow.com"],EM=g.createContext(void 0);function jJ({children:e}){const[t,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0),a=t!=null&&t.email?_M.includes(t.email.toLowerCase()):!1;g.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await ct.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:d}}=ct.auth.onAuthStateChange(async(h,f)=>{console.log("[Auth] State change:",h),s(f),n((f==null?void 0:f.user)??null),o(!1)});return()=>{d.unsubscribe()}},[]);const c=async()=>{try{await ct.auth.signOut(),n(null),s(null)}catch(u){throw console.error("Error signing out:",u),u}};return l.jsx(EM.Provider,{value:{user:t,session:r,isAdmin:a,loading:i,signOut:c},children:e})}function Ax(){const e=g.useContext(EM);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function Py(e){return _M.includes(e.toLowerCase())}function TJ(){const[e,t]=g.useState(""),[n,r]=g.useState(!1),[s,i]=g.useState(!1),[o,a]=g.useState(null),c=Ci(),{user:u,isAdmin:d,loading:h}=Ax();g.useEffect(()=>{!h&&u&&d&&c("/admin/dashboard",{replace:!0})},[u,d,h,c]);const f=async m=>{if(m.preventDefault(),a(null),i(!0),!Py(e)){a("This email is not authorized for admin access."),i(!1);return}try{const{error:x}=await ct.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/discovery/admin/auth/callback`}});if(x)throw x;r(!0)}catch(x){console.error("Error sending magic link:",x),a(x instanceof Error?x.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx(mt,{className:"h-8 w-8 animate-spin text-accent"})}):l.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[l.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[l.jsx(Ge,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:wl,alt:"AgentFlow",className:"h-8 w-auto"})}),l.jsx(yl,{})]}),l.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:l.jsxs(Ne,{className:"w-full max-w-md overflow-hidden border-0 shadow-lg",children:[l.jsxs(an,{className:"text-center border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:[l.jsx(ln,{children:"Admin Login"}),l.jsx(Hr,{children:"Sign in with your email to access the dashboard"})]}),l.jsx(Ie,{className:"border-l-4 border-transparent",style:{borderImage:"linear-gradient(180deg, #a6c3e8 0%, #c6b8e4 100%) 1"},children:l.jsx(yi,{mode:"wait",children:n?l.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[l.jsx("div",{className:"mx-auto mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx(Mc,{className:"h-8 w-8 text-white"})}),l.jsx("p",{className:"font-medium",children:"Check your email!"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),l.jsx(ce,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):l.jsxs(de.form,{exit:{opacity:0},onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(pu,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(Lt,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:m=>{t(m.target.value),a(null)},className:"pl-9",required:!0,disabled:s})]}),o&&l.jsxs(de.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[l.jsx(Ja,{className:"h-4 w-4 flex-shrink-0"}),l.jsx("span",{children:o})]}),l.jsx(ce,{type:"submit",className:"w-full font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},disabled:s,children:s?l.jsxs(l.Fragment,{children:[l.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})}),l.jsx(Cu,{className:"border-t"})]})}function NJ(){const[e,t]=g.useState(null),n=Ci();return g.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:a}=await ct.auth.getSession();if(a)throw a;if(!o){const{error:c}=await ct.auth.exchangeCodeForSession(window.location.href);if(c)throw c;const{data:{session:u},error:d}=await ct.auth.getSession();if(d||!u)throw new Error("Failed to establish session");if(!((s=u.user)!=null&&s.email)||!Py(u.user.email))throw await ct.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!Py(o.user.email))throw await ct.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:l.jsx(Ne,{className:"max-w-md",children:l.jsxs(Ie,{className:"pt-6 text-center",children:[l.jsx(Ja,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),l.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),l.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),l.jsx(ce,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx(mt,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}function Ra({icon:e,label:t,value:n,className:r,iconClassName:s}){return l.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:l.jsx(Ne,{className:ie("transition-shadow duration-200 hover:shadow-md",r),children:l.jsxs(Ie,{className:"flex items-center gap-4 p-6",children:[l.jsx("div",{className:ie("flex h-12 w-12 items-center justify-center rounded-lg bg-gradient-brand",s),children:l.jsx(e,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const _l=PI,AJ=RI,kM=g.forwardRef(({className:e,...t},n)=>l.jsx(vx,{ref:n,className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kM.displayName=vx.displayName;const Oo=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(AJ,{children:[l.jsx(kM,{}),l.jsxs(yx,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(bx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Nf,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oo.displayName=yx.displayName;const El=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});El.displayName="DialogHeader";const ju=({className:e,...t})=>l.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ju.displayName="DialogFooter";const kl=g.forwardRef(({className:e,...t},n)=>l.jsx(wx,{ref:n,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));kl.displayName=wx.displayName;const yp=g.forwardRef(({className:e,...t},n)=>l.jsx(xx,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));yp.displayName=xx.displayName;const PJ=[{id:"1",speaker:"agent",content:"That's really helpful context about your reporting process. Can you tell me more about what triggers this workflow? How do you know it's time to generate these reports?",timestamp:"18:15"},{id:"2",speaker:"interviewee",content:"Usually it's a Slack message from my manager, or sometimes an email from the executive team. There's no set schedule really, it's quite ad-hoc which is part of the problem.",timestamp:"18:32"},{id:"3",speaker:"agent",content:"I see. So the trigger is essentially a request from stakeholders rather than a scheduled task. And when you receive that request, what's the first thing you do?",timestamp:"18:45"}];function RJ({open:e,onClose:t,conversationId:n,intervieweeName:r,clientName:s,role:i}){const[o,a]=g.useState(!1),[c,u]=g.useState(PJ),[d,h]=g.useState("interviewee"),[f,m]=g.useState("18:52");return g.useEffect(()=>{if(!e)return;const x=setInterval(()=>{m(p=>{const[b,y]=p.split(":").map(Number),w=b*60+y+1,S=Math.floor(w/60).toString().padStart(2,"0"),_=(w%60).toString().padStart(2,"0");return`${S}:${_}`}),Math.random()>.7&&h(p=>p==="agent"?"interviewee":"agent")},1e3);return()=>clearInterval(x)},[e]),l.jsx(_l,{open:e,onOpenChange:x=>!x&&t(),children:l.jsxs(Oo,{className:"max-w-2xl",children:[l.jsx(El,{children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent/10",children:l.jsx(pF,{className:"h-5 w-5 text-accent"})}),l.jsxs("div",{children:[l.jsxs(kl,{className:"flex items-center gap-2",children:["Listening to Interview",l.jsx(_t,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 animate-pulse",children:"LIVE"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"  ",s,"  ",i]})]})]})})}),l.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?l.jsx(li,{className:"h-4 w-4 text-white"}):l.jsx($d,{className:"h-4 w-4 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:d==="agent"?"AI Agent":r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:d==="agent"?"Speaking":"Responding"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Dc,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-mono",children:f})]})]}),l.jsx(ce,{variant:"outline",size:"sm",onClick:()=>a(!o),className:"gap-2",children:o?l.jsxs(l.Fragment,{children:[l.jsx(CF,{className:"h-4 w-4"}),"Unmute"]}):l.jsxs(l.Fragment,{children:[l.jsx(TT,{className:"h-4 w-4"}),"Mute"]})})]}),l.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:[...Array(20)].map((x,p)=>l.jsx(de.div,{className:`w-1 rounded-full ${o?"bg-muted-foreground/30":"bg-accent"}`,animate:{height:o?8:[8,Math.random()*32+8,8]},transition:{duration:.5,repeat:1/0,delay:p*.05}},p))}),l.jsxs("div",{className:"rounded-lg border",children:[l.jsx("div",{className:"border-b bg-muted/50 px-4 py-2",children:l.jsx("p",{className:"text-sm font-medium",children:"Live Transcript"})}),l.jsx(Gf,{className:"h-[250px]",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx(yi,{children:c.map((x,p)=>l.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${x.speaker==="agent"?"":"flex-row-reverse"}`,children:[l.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${x.speaker==="agent"?"bg-accent":"bg-primary"}`,children:x.speaker==="agent"?l.jsx(li,{className:"h-4 w-4 text-white"}):l.jsx($d,{className:"h-4 w-4 text-white"})}),l.jsxs("div",{className:`flex-1 ${x.speaker==="agent"?"":"text-right"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs font-medium",children:x.speaker==="agent"?"AI Agent":r}),l.jsx("span",{className:"text-xs text-muted-foreground",children:x.timestamp})]}),l.jsx("p",{className:`text-sm rounded-lg p-3 ${x.speaker==="agent"?"bg-accent/10 text-foreground":"bg-muted text-foreground"}`,children:x.content})]})]},x.id))}),l.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},className:`flex gap-3 ${d==="agent"?"":"flex-row-reverse"}`,children:[l.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?l.jsx(li,{className:"h-4 w-4 text-white"}):l.jsx($d,{className:"h-4 w-4 text-white"})}),l.jsx("div",{className:`flex-1 ${d==="agent"?"":"text-right"}`,children:l.jsxs("div",{className:`inline-flex items-center gap-1 rounded-lg p-3 ${d==="agent"?"bg-accent/10":"bg-muted"}`,children:[l.jsx(de.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0},className:"h-2 w-2 rounded-full bg-current"}),l.jsx(de.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.2},className:"h-2 w-2 rounded-full bg-current"}),l.jsx(de.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.4},className:"h-2 w-2 rounded-full bg-current"})]})})]})]})})]}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You are observing this conversation in listen-only mode. The interviewee is not aware you are listening."})]})})}function OJ(){const[e,t]=g.useState(!0),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,a]=g.useState({totalProjects:0,activeInterviews:0,completedInterviews:0}),[c,u]=g.useState(null),[d,h]=g.useState(!1);g.useEffect(()=>{f()},[]);async function f(){t(!0);const{data:x}=await ct.from("discovery_project").select(`
        *,
        org:org_id (*)
      `).order("created_at",{ascending:!1}).limit(5),{data:p}=await ct.from("discovery_interviewee").select(`
        *,
        project:project_id (name, org_id, org:org_id (name))
      `).order("created_at",{ascending:!1});if(x){const _=x.map(C=>{const j=(p==null?void 0:p.filter(T=>T.project_id===C.id))||[];return{...C,interviewee_count:j.length,completed_count:j.filter(T=>T.status==="completed").length}});r(_)}const b=(p==null?void 0:p.filter(_=>_.status==="pending"||_.status==="invited").slice(0,5).map(_=>{var C,j,T;return{id:_.id,name:_.name,role:_.role,status:_.status,project_name:((C=_.project)==null?void 0:C.name)||"Unknown",org_name:((T=(j=_.project)==null?void 0:j.org)==null?void 0:T.name)||"Unknown",project_id:_.project_id}}))||[];i(b);const y=(x==null?void 0:x.length)||0,w=(p==null?void 0:p.filter(_=>_.status==="completed").length)||0,S=(p==null?void 0:p.filter(_=>_.status==="in_progress").length)||0;a({totalProjects:y,activeInterviews:S,completedInterviews:w}),t(!1)}const m=()=>{h(!1),u(null)};return e?l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(mt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Center"}),l.jsx("p",{className:"text-muted-foreground",children:"Monitor interviews and manage discovery projects."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ce,{variant:"outline",asChild:!0,children:l.jsx(Ge,{to:"/admin/projects",children:"View All Projects"})}),l.jsx(ce,{asChild:!0,children:l.jsxs(Ge,{to:"/admin/projects",children:[l.jsx(lo,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})]}),l.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[l.jsx(Ra,{icon:cc,label:"Total Projects",value:o.totalProjects}),l.jsx(Ra,{icon:Ch,label:"Active Interviews",value:o.activeInterviews}),l.jsx(Ra,{icon:Dw,label:"Completed Interviews",value:o.completedInterviews})]}),l.jsxs("div",{className:"mb-8 grid gap-6 lg:grid-cols-2",children:[l.jsxs(Ne,{children:[l.jsx(an,{className:"pb-3",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:l.jsx(cc,{className:"h-4 w-4 text-accent"})}),l.jsxs("div",{children:[l.jsx(ln,{className:"text-lg",children:"Recent Projects"}),l.jsx(Hr,{children:"Your latest discovery projects"})]})]})})}),l.jsx(Ie,{children:n.length>0?l.jsxs("div",{className:"space-y-3",children:[n.map((x,p)=>{var b;return l.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},children:l.jsxs(Ge,{to:`/admin/projects/${x.id}`,className:"flex items-center justify-between rounded-lg border bg-card p-4 hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:x.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[(b=x.org)==null?void 0:b.name,"  ",x.interviewee_count," interviewees"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx(_t,{variant:x.status==="active"?"default":"secondary",children:x.status}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[x.completed_count,"/",x.interviewee_count," complete"]})]})]})},x.id)}),l.jsx(ce,{variant:"ghost",className:"w-full",asChild:!0,children:l.jsxs(Ge,{to:"/admin/projects",children:["View all projects",l.jsx(Ji,{className:"ml-2 h-4 w-4"})]})})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[l.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:l.jsx(cc,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx("p",{className:"font-medium",children:"No projects yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first discovery project"}),l.jsx(ce,{asChild:!0,children:l.jsxs(Ge,{to:"/admin/projects",children:[l.jsx(lo,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})})]}),l.jsxs(Ne,{children:[l.jsx(an,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:l.jsx(jh,{className:"h-4 w-4 text-accent"})}),l.jsxs("div",{children:[l.jsx(ln,{className:"text-lg",children:"Pending Interviews"}),l.jsx(Hr,{children:"Interviews awaiting completion"})]})]})}),l.jsx(Ie,{children:s.length>0?l.jsx("div",{className:"space-y-3",children:s.map((x,p)=>l.jsxs(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center justify-between rounded-lg border p-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:x.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.org_name,"  ",x.role||"No role"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{variant:"secondary",children:x.status}),l.jsx(ce,{size:"sm",variant:"outline",asChild:!0,children:l.jsx(Ge,{to:`/admin/projects/${x.project_id}`,children:"View"})})]})]},x.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[l.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:l.jsx(mu,{className:"h-6 w-6 text-muted-foreground"})}),l.jsx("p",{className:"font-medium",children:"No pending interviews"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"All interviews have been completed"})]})})]})]}),l.jsx(RJ,{open:d,onClose:m,conversationId:"",intervieweeName:"",clientName:"",role:""})]})}var IJ=[" ","Enter","ArrowUp","ArrowDown"],MJ=[" ","Enter"],Co="Select",[wp,xp,DJ]=_f(Co),[Cl,wQ]=An(Co,[DJ,Of]),bp=Of(),[LJ,Ti]=Cl(Co),[$J,FJ]=Cl(Co),CM=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:x}=e,p=bp(t),[b,y]=g.useState(null),[w,S]=g.useState(null),[_,C]=g.useState(!1),j=bu(u),[T,P]=Sr({prop:r,defaultProp:s??!1,onChange:i,caller:Co}),[O,I]=Sr({prop:o,defaultProp:a,onChange:c,caller:Co}),R=g.useRef(null),D=b?x||!!b.closest("form"):!0,[W,F]=g.useState(new Set),Q=Array.from(W).map(J=>J.props.value).join(";");return l.jsx(cN,{...p,children:l.jsxs(LJ,{required:m,scope:t,trigger:b,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:wr(),value:O,onValueChange:I,open:T,onOpenChange:P,dir:j,triggerPointerDownPosRef:R,disabled:f,children:[l.jsx(wp.Provider,{scope:t,children:l.jsx($J,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(J=>{F(Y=>new Set(Y).add(J))},[]),onNativeOptionRemove:g.useCallback(J=>{F(Y=>{const L=new Set(Y);return L.delete(J),L})},[]),children:n})}),D?l.jsxs(YM,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:J=>I(J.target.value),disabled:f,form:x,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(W)]},Q):null]})})};CM.displayName=Co;var jM="SelectTrigger",TM=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=bp(n),o=Ti(jM,n),a=o.disabled||r,c=ke(t,o.onTriggerChange),u=xp(n),d=g.useRef("touch"),[h,f,m]=XM(p=>{const b=u().filter(S=>!S.disabled),y=b.find(S=>S.value===o.value),w=ZM(b,p,y);w!==void 0&&o.onValueChange(w.value)}),x=p=>{a||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(uN,{asChild:!0,...i,children:l.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":QM(o.value)?"":void 0,...s,ref:c,onClick:oe(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&x(p)}),onPointerDown:oe(s.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:oe(s.onKeyDown,p=>{const b=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(b&&p.key===" ")&&IJ.includes(p.key)&&(x(),p.preventDefault())})})})});TM.displayName=jM;var NM="SelectValue",AM=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,c=Ti(NM,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ke(t,c.onValueNodeChange);return Et(()=>{u(d)},[u,d]),l.jsx(fe.span,{...a,ref:h,style:{pointerEvents:"none"},children:QM(c.value)?l.jsx(l.Fragment,{children:o}):i})});AM.displayName=NM;var VJ="SelectIcon",PM=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(fe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});PM.displayName=VJ;var UJ="SelectPortal",RM=e=>l.jsx(Ef,{asChild:!0,...e});RM.displayName=UJ;var jo="SelectContent",OM=g.forwardRef((e,t)=>{const n=Ti(jo,e.__scopeSelect),[r,s]=g.useState();if(Et(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ao.createPortal(l.jsx(IM,{scope:e.__scopeSelect,children:l.jsx(wp.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(MM,{...e,ref:t})});OM.displayName=jo;var lr=10,[IM,Ni]=Cl(jo),BJ="SelectContentImpl",zJ=Ka("SelectContent.RemoveScroll"),MM=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:b,...y}=e,w=Ti(jo,n),[S,_]=g.useState(null),[C,j]=g.useState(null),T=ke(t,N=>_(N)),[P,O]=g.useState(null),[I,R]=g.useState(null),D=xp(n),[W,F]=g.useState(!1),Q=g.useRef(!1);g.useEffect(()=>{if(S)return fI(S)},[S]),iI();const J=g.useCallback(N=>{const[M,...U]=D().map(X=>X.ref.current),[V]=U.slice(-1),H=document.activeElement;for(const X of N)if(X===H||(X==null||X.scrollIntoView({block:"nearest"}),X===M&&C&&(C.scrollTop=0),X===V&&C&&(C.scrollTop=C.scrollHeight),X==null||X.focus(),document.activeElement!==H))return},[D,C]),Y=g.useCallback(()=>J([P,S]),[J,P,S]);g.useEffect(()=>{W&&Y()},[W,Y]);const{onOpenChange:L,triggerPointerDownPosRef:$}=w;g.useEffect(()=>{if(S){let N={x:0,y:0};const M=V=>{var H,X;N={x:Math.abs(Math.round(V.pageX)-(((H=$.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(V.pageY)-(((X=$.current)==null?void 0:X.y)??0))}},U=V=>{N.x<=10&&N.y<=10?V.preventDefault():S.contains(V.target)||L(!1),document.removeEventListener("pointermove",M),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",U,{capture:!0})}}},[S,L,$]),g.useEffect(()=>{const N=()=>L(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[L]);const[z,ee]=XM(N=>{const M=D().filter(H=>!H.disabled),U=M.find(H=>H.ref.current===document.activeElement),V=ZM(M,N,U);V&&setTimeout(()=>V.ref.current.focus())}),ne=g.useCallback((N,M,U)=>{const V=!Q.current&&!U;(w.value!==void 0&&w.value===M||V)&&(O(N),V&&(Q.current=!0))},[w.value]),v=g.useCallback(()=>S==null?void 0:S.focus(),[S]),k=g.useCallback((N,M,U)=>{const V=!Q.current&&!U;(w.value!==void 0&&w.value===M||V)&&R(N)},[w.value]),E=r==="popper"?Ry:DM,A=E===Ry?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:b}:{};return l.jsx(IM,{scope:n,content:S,viewport:C,onViewportChange:j,itemRefCallback:ne,selectedItem:P,onItemLeave:v,itemTextRefCallback:k,focusSelectedItem:Y,selectedItemText:I,position:r,isPositioned:W,searchRef:z,children:l.jsx(fx,{as:zJ,allowPinchZoom:!0,children:l.jsx(hx,{asChild:!0,trapped:w.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:oe(s,N=>{var M;(M=w.trigger)==null||M.focus({preventScroll:!0}),N.preventDefault()}),children:l.jsx(du,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(E,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:N=>N.preventDefault(),...y,...A,onPlaced:()=>F(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:oe(y.onKeyDown,N=>{const M=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!M&&N.key.length===1&&ee(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let V=D().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(N.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const H=N.target,X=V.indexOf(H);V=V.slice(X+1)}setTimeout(()=>J(V)),N.preventDefault()}})})})})})})});MM.displayName=BJ;var qJ="SelectItemAlignedPosition",DM=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Ti(jo,n),o=Ni(jo,n),[a,c]=g.useState(null),[u,d]=g.useState(null),h=ke(t,T=>d(T)),f=xp(n),m=g.useRef(!1),x=g.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:y,focusSelectedItem:w}=o,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&p&&b&&y){const T=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(i.dir!=="rtl"){const H=I.left-P.left,X=O.left-H,ue=T.left-X,Re=T.width+ue,dt=Math.max(Re,P.width),he=window.innerWidth-lr,Se=Vv(X,[lr,Math.max(lr,he-dt)]);a.style.minWidth=Re+"px",a.style.left=Se+"px"}else{const H=P.right-I.right,X=window.innerWidth-O.right-H,ue=window.innerWidth-T.right-X,Re=T.width+ue,dt=Math.max(Re,P.width),he=window.innerWidth-lr,Se=Vv(X,[lr,Math.max(lr,he-dt)]);a.style.minWidth=Re+"px",a.style.right=Se+"px"}const R=f(),D=window.innerHeight-lr*2,W=p.scrollHeight,F=window.getComputedStyle(u),Q=parseInt(F.borderTopWidth,10),J=parseInt(F.paddingTop,10),Y=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),$=Q+J+W+L+Y,z=Math.min(b.offsetHeight*5,$),ee=window.getComputedStyle(p),ne=parseInt(ee.paddingTop,10),v=parseInt(ee.paddingBottom,10),k=T.top+T.height/2-lr,E=D-k,A=b.offsetHeight/2,N=b.offsetTop+A,M=Q+J+N,U=$-M;if(M<=k){const H=R.length>0&&b===R[R.length-1].ref.current;a.style.bottom="0px";const X=u.clientHeight-p.offsetTop-p.offsetHeight,ue=Math.max(E,A+(H?v:0)+X+Y),Re=M+ue;a.style.height=Re+"px"}else{const H=R.length>0&&b===R[0].ref.current;a.style.top="0px";const ue=Math.max(k,Q+p.offsetTop+(H?ne:0)+A)+U;a.style.height=ue+"px",p.scrollTop=M-k+p.offsetTop}a.style.margin=`${lr}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,a,u,p,b,y,i.dir,r]);Et(()=>S(),[S]);const[_,C]=g.useState();Et(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const j=g.useCallback(T=>{T&&x.current===!0&&(S(),w==null||w(),x.current=!1)},[S,w]);return l.jsx(HJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(fe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DM.displayName=qJ;var WJ="SelectPopperPosition",Ry=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=lr,...i}=e,o=bp(n);return l.jsx(dN,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ry.displayName=WJ;var[HJ,Px]=Cl(jo,{}),Oy="SelectViewport",LM=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Ni(Oy,n),o=Px(Oy,n),a=ke(t,i.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(wp.Slot,{scope:n,children:l.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-lr*2,p=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(p,b);if(y<x){const w=y+m,S=Math.min(x,w),_=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});LM.displayName=Oy;var $M="SelectGroup",[GJ,KJ]=Cl($M),JJ=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=wr();return l.jsx(GJ,{scope:n,id:s,children:l.jsx(fe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});JJ.displayName=$M;var FM="SelectLabel",VM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=KJ(FM,n);return l.jsx(fe.div,{id:s.id,...r,ref:t})});VM.displayName=FM;var of="SelectItem",[YJ,UM]=Cl(of),BM=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=Ti(of,n),c=Ni(of,n),u=a.value===r,[d,h]=g.useState(i??""),[f,m]=g.useState(!1),x=ke(t,w=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,w,r,s)}),p=wr(),b=g.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(YJ,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:g.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(wp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(fe.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:oe(o.onFocus,()=>m(!0)),onBlur:oe(o.onBlur,()=>m(!1)),onClick:oe(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:oe(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:oe(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:oe(o.onPointerMove,w=>{var S;b.current=w.pointerType,s?(S=c.onItemLeave)==null||S.call(c):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:oe(o.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(MJ.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});BM.displayName=of;var Xl="SelectItemText",zM=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Ti(Xl,n),a=Ni(Xl,n),c=UM(Xl,n),u=FJ(Xl,n),[d,h]=g.useState(null),f=ke(t,y=>h(y),c.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return Et(()=>(p(x),()=>b(x)),[p,b,x]),l.jsxs(l.Fragment,{children:[l.jsx(fe.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ao.createPortal(i.children,o.valueNode):null]})});zM.displayName=Xl;var qM="SelectItemIndicator",WM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return UM(qM,n).isSelected?l.jsx(fe.span,{"aria-hidden":!0,...r,ref:t}):null});WM.displayName=qM;var Iy="SelectScrollUpButton",HM=g.forwardRef((e,t)=>{const n=Ni(Iy,e.__scopeSelect),r=Px(Iy,e.__scopeSelect),[s,i]=g.useState(!1),o=ke(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(KM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});HM.displayName=Iy;var My="SelectScrollDownButton",GM=g.forwardRef((e,t)=>{const n=Ni(My,e.__scopeSelect),r=Px(My,e.__scopeSelect),[s,i]=g.useState(!1),o=ke(t,r.onScrollButtonChange);return Et(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(KM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});GM.displayName=My;var KM=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Ni("SelectScrollButton",n),o=g.useRef(null),a=xp(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Et(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{c()})})}),QJ="SelectSeparator",JM=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(fe.div,{"aria-hidden":!0,...r,ref:t})});JM.displayName=QJ;var Dy="SelectArrow",XJ=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=bp(n),i=Ti(Dy,n),o=Ni(Dy,n);return i.open&&o.position==="popper"?l.jsx(hN,{...s,...r,ref:t}):null});XJ.displayName=Dy;var ZJ="SelectBubbleInput",YM=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=g.useRef(null),i=ke(r,s),o=OP(t);return g.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),l.jsx(fe.select,{...n,style:{...rT,...n.style},ref:i,defaultValue:t})});YM.displayName=ZJ;function QM(e){return e===""||e===void 0}function XM(e){const t=xt(e),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ZM(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=eY(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function eY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tY=CM,eD=TM,nY=AM,rY=PM,sY=RM,tD=OM,iY=LM,nD=VM,rD=BM,oY=zM,aY=WM,sD=HM,iD=GM,oD=JM;const aD=tY,lD=nY,Rx=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(eD,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(rY,{asChild:!0,children:l.jsx(Tf,{className:"h-4 w-4 opacity-50"})})]}));Rx.displayName=eD.displayName;const cD=g.forwardRef(({className:e,...t},n)=>l.jsx(sD,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(hF,{className:"h-4 w-4"})}));cD.displayName=sD.displayName;const uD=g.forwardRef(({className:e,...t},n)=>l.jsx(iD,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Tf,{className:"h-4 w-4"})}));uD.displayName=iD.displayName;const Ox=g.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(sY,{children:l.jsxs(tD,{ref:s,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(cD,{}),l.jsx(iY,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(uD,{})]})}));Ox.displayName=tD.displayName;const lY=g.forwardRef(({className:e,...t},n)=>l.jsx(nD,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));lY.displayName=nD.displayName;const Ix=g.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(rD,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(aY,{children:l.jsx(fu,{className:"h-4 w-4"})})}),l.jsx(oY,{children:t})]}));Ix.displayName=rD.displayName;const cY=g.forwardRef(({className:e,...t},n)=>l.jsx(oD,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));cY.displayName=oD.displayName;async function Yn(e,t={}){const{data:{session:n},error:r}=await ct.auth.getSession();if(r||!n)return console.error("No active session for admin API call"),{data:null,error:"Not authenticated"};const{data:s,error:i}=await ct.functions.invoke("admin-api",{body:{action:e,...t}});return i?(console.error(`Admin API error (${e}):`,i),{data:null,error:i.message}):s!=null&&s.error?{data:null,error:s.error}:{data:s,error:null}}async function uY(){const{data:e,error:t}=await Yn("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function dY(e){const{data:t,error:n}=await Yn("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function hY(e,t){const{data:n,error:r}=await Yn("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function fY(e,t,n,r,s,i,o){const{data:a,error:c}=await Yn("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s,interviewType:i,preBriefContext:o});return c||!a?{interviewee:null,error:c}:{interviewee:a.interviewee,error:null}}async function pY(e){const{error:t}=await Yn("markIntervieweeInvited",{intervieweeId:e});return{error:t}}async function mY(){const{data:e,error:t}=await Yn("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function gY(e){const{data:t,error:n}=await Yn("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}async function vY(e){const{data:t,error:n}=await Yn("getProjectAnalysis",{projectId:e});return n||!t?{analysis:null,interviewCount:0,error:n}:{analysis:t.analysis,interviewCount:t.interviewCount,error:null}}async function yY(e){const{data:t,error:n}=await Yn("triggerAnalysis",{projectId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function wY(e){const{data:t,error:n}=await Yn("triggerIndividualAnalysis",{intervieweeId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function xY(e){const{data:t,error:n}=await Yn("getIntervieweeResultsLink",{intervieweeId:e});return n||!t?{resultsToken:null,intervieweeName:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,error:null}}async function bY(e){const{data:t,error:n}=await Yn("globalSearch",{query:e});return n||!t?{results:{interviewees:[],projects:[],orgs:[]},error:n}:{results:t,error:null}}function SY(){var O;const[e,t]=g.useState(""),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,a]=g.useState(!0),[c,u]=g.useState(!1),[d,h]=g.useState(""),[f,m]=g.useState(""),[x,p]=g.useState(""),[b,y]=g.useState(!1),[w,S]=g.useState(!1),{toast:_}=uu();g.useEffect(()=>{C()},[]);async function C(){a(!0);const[I,R]=await Promise.all([uY(),mY()]);I.projects&&r(I.projects),R.orgs&&i(R.orgs),a(!1)}const j=n.filter(I=>{var R,D;return I.name.toLowerCase().includes(e.toLowerCase())||((D=(R=I.org)==null?void 0:R.name)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))}),T=async()=>{var F;S(!0);let I=f;if(b&&x){const{org:Q,error:J}=await gY(x);if(J||!Q){_({title:"Error",description:J||"Failed to create client",variant:"destructive"}),S(!1);return}I=Q.id}if(!I){_({title:"Error",description:"Please select or create a client",variant:"destructive"}),S(!1);return}const R=d||`Discovery - ${b?x:(F=s.find(Q=>Q.id===I))==null?void 0:F.name}`,{project:D,error:W}=await hY(I,R);if(W||!D){_({title:"Error",description:W||"Failed to create project",variant:"destructive"}),S(!1);return}_({title:"Project created!",description:`${R} has been created.`}),h(""),m(""),p(""),y(!1),u(!1),S(!1),C()},P=I=>{const R={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},D=R[I]||R.setup;return l.jsx(_t,{className:D.className,children:D.label})};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),l.jsxs(ce,{onClick:()=>u(!0),children:[l.jsx(lo,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),l.jsxs("div",{className:"mb-4 max-w-sm relative",children:[l.jsx($w,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),l.jsx(Lt,{placeholder:"Search projects...",value:e,onChange:I=>t(I.target.value),className:"pl-9"})]}),o?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(mt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):j.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(cc,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),l.jsxs(ce,{onClick:()=>u(!0),children:[l.jsx(lo,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):l.jsx("div",{className:"rounded-lg border",children:l.jsxs(mp,{children:[l.jsx(gp,{children:l.jsxs(ko,{children:[l.jsx(jt,{children:"Project Name"}),l.jsx(jt,{children:"Client"}),l.jsx(jt,{children:"Status"}),l.jsx(jt,{children:"Created"}),l.jsx(jt,{})]})}),l.jsx(vp,{children:j.map(I=>{var R;return l.jsxs(ko,{className:"cursor-pointer hover:bg-muted/50",children:[l.jsx(Tt,{className:"font-medium",children:I.name}),l.jsx(Tt,{children:((R=I.org)==null?void 0:R.name)||"Unknown"}),l.jsx(Tt,{children:P(I.status)}),l.jsx(Tt,{children:new Date(I.created_at).toLocaleDateString()}),l.jsx(Tt,{children:l.jsx(ce,{variant:"ghost",size:"sm",asChild:!0,children:l.jsx(Ge,{to:`/admin/projects/${I.id}`,children:"View"})})})]},I.id)})})]})}),l.jsx(_l,{open:c,onOpenChange:u,children:l.jsxs(Oo,{children:[l.jsx(El,{children:l.jsx(kl,{children:"New Discovery Project"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(bt,{children:"Client *"}),b?l.jsxs("div",{className:"space-y-2 mt-1",children:[l.jsx(Lt,{value:x,onChange:I=>p(I.target.value),placeholder:"Enter client name"}),l.jsx(ce,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),p("")},children:"Select existing client instead"})]}):l.jsxs("div",{className:"space-y-2 mt-1",children:[l.jsxs(aD,{value:f,onValueChange:m,children:[l.jsx(Rx,{children:l.jsx(lD,{placeholder:"Select a client..."})}),l.jsx(Ox,{children:s.map(I=>l.jsx(Ix,{value:I.id,children:I.name},I.id))})]}),l.jsx(ce,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),l.jsxs("div",{children:[l.jsx(bt,{children:"Project Name (optional)"}),l.jsx(Lt,{value:d,onChange:I=>h(I.target.value),placeholder:`Discovery - ${b?x||"Client Name":((O=s.find(I=>I.id===f))==null?void 0:O.name)||"Client Name"}`,className:"mt-1"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),l.jsxs(ju,{children:[l.jsx(ce,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsxs(ce,{onClick:T,disabled:w||!f&&!x,children:[w?l.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var ag="rovingFocusGroup.onEntryFocus",_Y={bubbles:!1,cancelable:!0},Tu="RovingFocusGroup",[Ly,dD,EY]=_f(Tu),[kY,hD]=An(Tu,[EY]),[CY,jY]=kY(Tu),fD=g.forwardRef((e,t)=>l.jsx(Ly.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Ly.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(TY,{...e,ref:t})})}));fD.displayName=Tu;var TY=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=g.useRef(null),m=ke(t,f),x=bu(i),[p,b]=Sr({prop:o,defaultProp:a??null,onChange:c,caller:Tu}),[y,w]=g.useState(!1),S=xt(u),_=dD(n),C=g.useRef(!1),[j,T]=g.useState(0);return g.useEffect(()=>{const P=f.current;if(P)return P.addEventListener(ag,S),()=>P.removeEventListener(ag,S)},[S]),l.jsx(CY,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:p,onItemFocus:g.useCallback(P=>b(P),[b]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>T(P=>P+1),[]),onFocusableItemRemove:g.useCallback(()=>T(P=>P-1),[]),children:l.jsx(fe.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{C.current=!0}),onFocus:oe(e.onFocus,P=>{const O=!C.current;if(P.target===P.currentTarget&&O&&!y){const I=new CustomEvent(ag,_Y);if(P.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=_().filter(J=>J.focusable),D=R.find(J=>J.active),W=R.find(J=>J.id===p),Q=[D,W,...R].filter(Boolean).map(J=>J.ref.current);gD(Q,d)}}C.current=!1}),onBlur:oe(e.onBlur,()=>w(!1))})})}),pD="RovingFocusGroupItem",mD=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,c=wr(),u=i||c,d=jY(pD,n),h=d.currentTabStopId===u,f=dD(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:p}=d;return g.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),l.jsx(Ly.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:oe(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:oe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=PY(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const _=S.indexOf(b.currentTarget);S=d.loop?RY(S,_+1):S.slice(_+1)}setTimeout(()=>gD(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});mD.displayName=pD;var NY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AY(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function PY(e,t,n){const r=AY(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NY[r]}function gD(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function RY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var OY=fD,IY=mD,Sp="Tabs",[MY,xQ]=An(Sp,[hD]),vD=hD(),[DY,Mx]=MY(Sp),yD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=bu(a),[h,f]=Sr({prop:r,onChange:s,defaultProp:i??"",caller:Sp});return l.jsx(DY,{scope:n,baseId:wr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:l.jsx(fe.div,{dir:d,"data-orientation":o,...u,ref:t})})});yD.displayName=Sp;var wD="TabsList",xD=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Mx(wD,n),o=vD(n);return l.jsx(OY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(fe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});xD.displayName=wD;var bD="TabsTrigger",SD=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=Mx(bD,n),a=vD(n),c=kD(o.baseId,r),u=CD(o.baseId,r),d=r===o.value;return l.jsx(IY,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:oe(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:oe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:oe(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});SD.displayName=bD;var _D="TabsContent",ED=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=Mx(_D,n),c=kD(a.baseId,r),u=CD(a.baseId,r),d=r===a.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(Pn,{present:s||d,children:({present:f})=>l.jsx(fe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});ED.displayName=_D;function kD(e,t){return`${e}-trigger-${t}`}function CD(e,t){return`${e}-content-${t}`}var LY=yD,jD=xD,TD=SD,ND=ED;const $Y=LY,AD=g.forwardRef(({className:e,...t},n)=>l.jsx(jD,{ref:n,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));AD.displayName=jD.displayName;const Zd=g.forwardRef(({className:e,...t},n)=>l.jsx(TD,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Zd.displayName=TD.displayName;const eh=g.forwardRef(({className:e,...t},n)=>l.jsx(ND,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));eh.displayName=ND.displayName;function PD(e){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return l.jsx(_t,{className:t[e]||t.medium,children:e})}function FY(e){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return l.jsxs(_t,{className:t[e]||t.medium,children:[e," impact"]})}function VY(e){return{triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy/Rule-Based",document:"Document Workflows",glue_work:"Glue Work",research:"Repetitive Research"}[e]||e}function UY(e){const t={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},n=t[e]||t.pending;return l.jsx(_t,{className:n.className,children:n.label})}function BY({interviewees:e,copiedId:t,generatingAnalysisId:n,onAddClick:r,onCopyLink:s,onInviteClick:i,onGenerateAnalysis:o,onShareClick:a}){return e.length===0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 flex justify-end",children:l.jsxs(ce,{onClick:r,children:[l.jsx(lo,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),l.jsx(Ne,{children:l.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(mu,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),l.jsxs(ce,{onClick:r,children:[l.jsx(lo,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4 flex justify-end",children:l.jsxs(ce,{onClick:r,children:[l.jsx(lo,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),l.jsx("div",{className:"rounded-lg border",children:l.jsxs(mp,{children:[l.jsx(gp,{children:l.jsxs(ko,{children:[l.jsx(jt,{children:"Name"}),l.jsx(jt,{children:"Role"}),l.jsx(jt,{children:"Email"}),l.jsx(jt,{children:"Status"}),l.jsx(jt,{children:"Consent"}),l.jsx(jt,{children:"Interview"}),l.jsx(jt,{children:"Results"})]})}),l.jsx(vp,{children:e.map(c=>l.jsxs(ko,{children:[l.jsx(Tt,{className:"font-medium",children:c.name}),l.jsx(Tt,{children:c.role||"-"}),l.jsx(Tt,{children:c.email}),l.jsx(Tt,{children:UY(c.status)}),l.jsx(Tt,{children:c.consent_given?l.jsx(Ea,{children:l.jsxs(Bi,{children:[l.jsx(zi,{children:l.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx(CT,{className:"h-4 w-4"}),"Yes"]})}),l.jsx(Bs,{children:l.jsx("p",{children:"Privacy notice acknowledged"})})]})}):l.jsx("span",{className:"text-muted-foreground",children:""})}),l.jsx(Tt,{children:l.jsx(Ea,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(Bi,{children:[l.jsx(zi,{asChild:!0,children:l.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>s(c),children:t===c.id?l.jsx(fu,{className:"h-4 w-4"}):l.jsx(kh,{className:"h-4 w-4"})})}),l.jsx(Bs,{children:l.jsx("p",{children:"Copy interview link"})})]}),c.status==="pending"&&l.jsxs(Bi,{children:[l.jsx(zi,{asChild:!0,children:l.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>i(c),children:l.jsx(pu,{className:"h-4 w-4"})})}),l.jsx(Bs,{children:l.jsx("p",{children:"Send invite email"})})]})]})})}),l.jsx(Tt,{children:l.jsx(Ea,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[c.status==="completed"&&!c.has_individual_analysis&&l.jsxs(Bi,{children:[l.jsx(zi,{asChild:!0,children:l.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>o(c),disabled:n===c.id,children:n===c.id?l.jsx(mt,{className:"h-4 w-4 animate-spin"}):l.jsx(Fw,{className:"h-4 w-4"})})}),l.jsx(Bs,{children:l.jsx("p",{children:"Generate analysis"})})]}),c.status==="completed"&&c.has_individual_analysis&&l.jsxs(Bi,{children:[l.jsx(zi,{asChild:!0,children:l.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>a(c),children:l.jsx(SF,{className:"h-4 w-4"})})}),l.jsx(Bs,{children:l.jsx("p",{children:"Share results link"})})]}),c.status!=="completed"&&l.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})})]},c.id))})]})})]})}function zY({analysis:e,loading:t,generating:n,completedCount:r,onGenerate:s}){var o;if(t)return l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(mt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return l.jsx(Ne,{children:l.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx(jh,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No analysis yet"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:["Generate an analysis based on ",r," completed interview",r!==1?"s":"","."]}),l.jsxs(ce,{onClick:s,disabled:n,children:[n?l.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(jh,{className:"mr-2 h-4 w-4"}),"Generate Analysis"]})]})});const i=e.raw_output;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated ",e.generated_at?new Date(e.generated_at).toLocaleString():"recently"]})}),l.jsxs(ce,{variant:"outline",size:"sm",onClick:s,disabled:n,children:[n?l.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(wF,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]}),(i==null?void 0:i.summary)&&l.jsx(qY,{summary:i.summary}),((o=i==null?void 0:i.workflow_map)==null?void 0:o.workflows)&&i.workflow_map.workflows.length>0&&l.jsx(HY,{workflows:i.workflow_map.workflows}),(i==null?void 0:i.automation_opportunities)&&i.automation_opportunities.length>0&&l.jsx(WY,{opportunities:i.automation_opportunities}),(i==null?void 0:i.technical_questions)&&i.technical_questions.length>0&&l.jsx(GY,{questions:i.technical_questions}),(i==null?void 0:i.follow_up_suggestions)&&i.follow_up_suggestions.length>0&&l.jsx(KY,{suggestions:i.follow_up_suggestions}),(i==null?void 0:i.gaps_and_uncertainties)&&i.gaps_and_uncertainties.length>0&&l.jsx(JY,{gaps:i.gaps_and_uncertainties})]})}function qY({summary:e}){return l.jsxs(Ne,{children:[l.jsx(an,{children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(jT,{className:"h-5 w-5"}),"Executive Summary"]})}),l.jsxs(Ie,{className:"space-y-4",children:[e.interviewees_analyzed&&e.interviewees_analyzed.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Based on interviews with:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.interviewees_analyzed.map((t,n)=>l.jsxs(_t,{variant:"secondary",children:[t.name,t.role?` (${t.role})`:""]},n))}),e.total_interviews_pending!=null&&e.total_interviews_pending>0&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["+ ",e.total_interviews_pending," interview",e.total_interviews_pending>1?"s":""," pending"]})]}),l.jsx("p",{className:"text-muted-foreground",children:e.overall_assessment}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:e.total_workflows_identified||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Workflows Identified"})]}),l.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[l.jsx("div",{className:"text-3xl font-bold",children:e.total_automation_opportunities||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Automation Opportunities"})]}),l.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.high_confidence_opportunities||0}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]}),e.key_themes&&e.key_themes.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Key Themes"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.key_themes.map((t,n)=>l.jsx(_t,{variant:"secondary",children:t},n))})]}),e.recommended_priorities&&e.recommended_priorities.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Recommended Priorities"}),l.jsx("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:e.recommended_priorities.map((t,n)=>l.jsx("li",{children:t},n))})]})]})]})}function WY({opportunities:e}){return l.jsxs(Ne,{children:[l.jsxs(an,{children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(Fw,{className:"h-5 w-5"}),"Automation Opportunities"]}),l.jsx(Hr,{children:"Identified areas where AI or automation could add value"})]}),l.jsx(Ie,{children:l.jsx(Tx,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>l.jsxs(hp,{value:`opp-${n}`,children:[l.jsx(fp,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-3 text-left",children:[l.jsx("span",{className:"font-medium",children:t.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[PD(t.confidence),FY(t.estimated_impact)]})]})}),l.jsxs(pp,{className:"space-y-4 pt-2",children:[l.jsx("p",{className:"text-muted-foreground",children:t.description}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx(_t,{variant:"outline",className:"mb-2",children:VY(t.category)}),t.confidence_reasoning&&l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Confidence:"})," ",t.confidence_reasoning]}),t.impact_reasoning&&l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.jsx("strong",{children:"Impact:"})," ",t.impact_reasoning]})]}),l.jsxs("div",{className:"space-y-2",children:[t.affected_workflows&&t.affected_workflows.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Affected Workflows"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_workflows.join(", ")})]}),t.affected_people&&t.affected_people.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Who Benefits"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_people.join(", ")})]})]})]}),t.prerequisites&&t.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Prerequisites"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.prerequisites.map((r,s)=>l.jsx("li",{children:r},s))})]}),t.risks&&t.risks.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Risks"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.risks.map((r,s)=>l.jsx("li",{children:r},s))})]})]})]},n))})})]})}function HY({workflows:e}){return l.jsxs(Ne,{children:[l.jsxs(an,{children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(NT,{className:"h-5 w-5"}),"Identified Workflows"]}),l.jsx(Hr,{children:"Workflows discovered during the interviews"})]}),l.jsx(Ie,{children:l.jsx(Tx,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>l.jsxs(hp,{value:`workflow-${n}`,children:[l.jsx(fp,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-3 text-left",children:[l.jsx("span",{className:"font-medium",children:t.name}),t.frequency&&l.jsxs(_t,{variant:"outline",className:"flex items-center gap-1",children:[l.jsx(Dc,{className:"h-3 w-3"}),t.frequency]})]})}),l.jsxs(pp,{className:"space-y-4 pt-2",children:[l.jsx("p",{className:"text-muted-foreground",children:t.description}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[t.owner&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Owner"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.owner})]}),t.estimated_time&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Typical Duration"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t.estimated_time})]}),t.systems_used&&t.systems_used.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Systems Used"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.systems_used.map((r,s)=>l.jsx(_t,{variant:"secondary",className:"text-xs",children:r},s))})]})]}),t.components&&l.jsxs("div",{className:"space-y-3 text-sm border rounded-lg p-4 bg-muted/30",children:[l.jsx("h4",{className:"font-medium text-base",children:"SIMPLE Breakdown"}),t.components.triggers&&t.components.triggers.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Signal (Triggers):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.triggers.join(", ")})]}),t.components.inputs&&t.components.inputs.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Inputs:"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.inputs.join(", ")})]}),t.components.transformations&&t.components.transformations.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Make (Work Done):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.transformations.join(", ")})]}),t.components.decisions&&t.components.decisions.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Pick (Decisions):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.decisions.join(", ")})]}),t.components.outputs&&t.components.outputs.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Land (Outputs):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.outputs.join(", ")})]}),t.components.checks&&t.components.checks.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Examine (Quality Checks):"}),l.jsx("span",{className:"text-muted-foreground ml-2",children:t.components.checks.join(", ")})]})]})]}),t.pain_points&&t.pain_points.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Pain Points"}),l.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.pain_points.map((r,s)=>l.jsx("li",{children:r},s))})]})]})]},n))})})]})}function GY({questions:e}){return l.jsxs(Ne,{children:[l.jsxs(an,{children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(fF,{className:"h-5 w-5"}),"Technical Questions"]}),l.jsx(Hr,{children:"Questions that need answers before proceeding"})]}),l.jsx(Ie,{children:l.jsx("div",{className:"space-y-4",children:e.map((t,n)=>l.jsxs("div",{className:"border-l-2 border-muted-foreground/20 pl-4 py-2",children:[l.jsx("p",{className:"font-medium",children:t.question}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.context}),t.suggested_stakeholder&&l.jsxs("p",{className:"text-sm mt-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Ask:"})," ",l.jsx(_t,{variant:"outline",children:t.suggested_stakeholder})]})]},n))})})]})}function KY({suggestions:e}){return l.jsxs(Ne,{children:[l.jsx(an,{children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(Ji,{className:"h-5 w-5"}),"Suggested Follow-ups"]})}),l.jsx(Ie,{children:l.jsx("div",{className:"space-y-3",children:e.map((t,n)=>l.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium",children:t.description}),PD(t.priority)]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.reason}),t.suggested_participants&&t.suggested_participants.length>0&&l.jsxs("p",{className:"text-sm mt-1",children:[l.jsx("span",{className:"text-muted-foreground",children:"Participants:"})," ",t.suggested_participants.join(", ")]})]})},n))})})]})}function JY({gaps:e}){return l.jsxs(Ne,{children:[l.jsx(an,{children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(Ja,{className:"h-5 w-5"}),"Gaps & Uncertainties"]})}),l.jsx(Ie,{children:l.jsx("div",{className:"space-y-3",children:e.map((t,n)=>l.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-4 py-2",children:[l.jsx("p",{className:"font-medium",children:t.description}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.jsx("strong",{children:"Impact:"})," ",t.impact]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Resolution:"})," ",t.suggested_resolution]})]},n))})})]})}const _d=2e3;function YY({open:e,onOpenChange:t,form:n,onFormChange:r,onSubmit:s,saving:i}){const o=mk[n.interviewType];return l.jsx(_l,{open:e,onOpenChange:t,children:l.jsxs(Oo,{className:"max-w-lg",children:[l.jsxs(El,{children:[l.jsx(kl,{children:"Add Interviewee"}),l.jsx(yp,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(bt,{children:"Name *"}),l.jsx(Lt,{value:n.name,onChange:a=>r({...n,name:a.target.value}),placeholder:"John Smith",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(bt,{children:"Email *"}),l.jsx(Lt,{type:"email",value:n.email,onChange:a=>r({...n,email:a.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(bt,{children:"Role (optional)"}),l.jsx(Lt,{value:n.role,onChange:a=>r({...n,role:a.target.value}),placeholder:"Operations Manager",className:"mt-1"})]}),l.jsxs("div",{className:"border-t pt-4 mt-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(bt,{children:"Interview Type"}),l.jsx(Ea,{children:l.jsxs(Bi,{children:[l.jsx(zi,{children:l.jsx(rS,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(Bs,{className:"max-w-xs",children:l.jsx("p",{children:"Choose the interview focus. This changes what Sophie asks about during the conversation."})})]})})]}),l.jsxs(aD,{value:n.interviewType,onValueChange:a=>r({...n,interviewType:a}),children:[l.jsx(Rx,{className:"w-full",children:l.jsx(lD,{placeholder:"Select interview type"})}),l.jsx(Ox,{children:Object.entries(mk).map(([a,{name:c}])=>l.jsx(Ix,{value:a,children:c},a))})]}),o&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1.5",children:o.description})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(bt,{children:"Pre-Brief Context (optional)"}),l.jsx(Ea,{children:l.jsxs(Bi,{children:[l.jsx(zi,{children:l.jsx(rS,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(Bs,{className:"max-w-xs",children:l.jsx("p",{children:"Provide context Sophie should know before the interview: focus areas, known facts, or specific gaps to fill."})})]})})]}),l.jsx(a0,{value:n.preBriefContext,onChange:a=>{const c=a.target.value.slice(0,_d);r({...n,preBriefContext:c})},placeholder:"E.g., This is a follow-up interview. Focus on: tech stack details, data flow between AdWords API and Power BI. Known: Uses scheduled API calls. Gaps: What transformation happens mid-process?",className:"min-h-[100px]",maxLength:_d}),l.jsxs("div",{className:"flex justify-between items-center mt-1.5",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Sophie will treat this as facts and focus areas. Leave empty for a standard discovery conversation."}),l.jsxs("p",{className:`text-xs ${n.preBriefContext.length>=_d?"text-destructive":"text-muted-foreground"}`,children:[n.preBriefContext.length,"/",_d]})]})]})]}),l.jsxs(ju,{children:[l.jsx(ce,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsxs(ce,{onClick:s,disabled:i||!n.name||!n.email,children:[i?l.jsx(mt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})})}function QY({open:e,onOpenChange:t,interviewee:n,copiedId:r,onCopyLink:s,onMarkInvited:i,getInterviewLink:o}){if(!n)return null;const a=()=>{s(n),i(n)},c=()=>{const u=encodeURIComponent(`${n.name} - Your Discovery Conversation`),d=encodeURIComponent(`Hi ${n.name},

I hope this finds you well.

As part of our Discovery work, I'd love to have a short conversation with you about your role and how you spend your time. The aim is to understand where automation might genuinely help - freeing you up for the work that actually needs your brain and judgement.

Here's the thing: you know your job better than anyone, so this is really a collaborative chat rather than an interrogation. I'll walk you through a simple framework and then we'll map out your workflows together.

When you're ready, click the link below to start:
${o(n.interview_token)}

It takes around 20-30 minutes, and there are no wrong answers - I'm just trying to understand how things actually work.

If you have any questions before we start, just drop me a note.

Looking forward to it,

---
Privacy Notice: https://discovery.goagentflow.com/discovery/privacy
If you are an interviewee, your organisation is the controller of your interview data.`);window.open(`mailto:${n.email}?subject=${u}&body=${d}`),i(n)};return l.jsx(_l,{open:e,onOpenChange:t,children:l.jsxs(Oo,{className:"sm:max-w-lg",children:[l.jsxs(El,{children:[l.jsx(kl,{children:"Send Interview Invite"}),l.jsxs(yp,{children:["Choose how to invite ",n.name," to their interview session."]})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{children:[l.jsx(bt,{className:"text-sm font-medium",children:"Interview Link"}),l.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[l.jsx(Lt,{readOnly:!0,value:o(n.interview_token),className:"font-mono text-sm"}),l.jsx(ce,{variant:"outline",size:"icon",onClick:()=>s(n),children:r===n.id?l.jsx(fu,{className:"h-4 w-4"}):l.jsx(kh,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 14 days"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ne,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:a,children:l.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:l.jsx(dF,{className:"h-5 w-5 text-accent"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),l.jsx(sv,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsx(Ne,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:c,children:l.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:l.jsx(pu,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Open in Email Client"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),l.jsx(sv,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),l.jsx(ju,{children:l.jsx(ce,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function XY({open:e,onOpenChange:t,interviewee:n,resultsToken:r,loading:s,onCopyLink:i,getResultsLink:o}){const a=()=>{i(),t(!1)},c=()=>{if(n&&r){const u=encodeURIComponent(`${n.name} - Your Discovery Insights`),d=encodeURIComponent(`Hi ${n.name},

I wanted to say thank you again for taking the time to walk us through your work - I really appreciate you carving out that time.

I've now had a chance to analyse everything we discussed and pull together some insights specifically for you. The aim here isn't to tell you what to do - you know your job far better than I ever will - but to shine a light on where automation might genuinely free you up for the work that actually needs your brain and judgement.

I hope you find it useful:
${o(r)}

If anything doesn't make sense or you'd like to dig deeper into any of the findings, just drop me a note - I'm always happy to chat it through.

Best,

---
Privacy Notice: https://discovery.goagentflow.com/discovery/privacy
If you are an interviewee, your organisation is the controller of your interview data.`);window.open(`mailto:${n.email}?subject=${u}&body=${d}`),t(!1)}};return l.jsx(_l,{open:e,onOpenChange:t,children:l.jsxs(Oo,{className:"sm:max-w-lg",children:[l.jsxs(El,{children:[l.jsx(kl,{children:"Share Results"}),l.jsxs(yp,{children:["Share the personalised analysis results with ",n==null?void 0:n.name,"."]})]}),l.jsx("div",{className:"space-y-4 py-4",children:s?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(mt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx(bt,{className:"text-sm font-medium",children:"Results Link"}),l.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[l.jsx(Lt,{readOnly:!0,value:o(r),className:"font-mono text-sm"}),l.jsx(ce,{variant:"outline",size:"icon",onClick:i,children:l.jsx(kh,{className:"h-4 w-4"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 30 days"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ne,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:a,children:l.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:l.jsx(kh,{className:"h-5 w-5 text-accent"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Copy Link"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the results link to share manually"})]})]})}),l.jsx(Ne,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:c,children:l.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:l.jsx(pu,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Open in Email Client"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send results via email to ",n==null?void 0:n.email]})]}),l.jsx(sv,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}):l.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Unable to load results link. The analysis may not be ready yet."})}),l.jsx(ju,{children:l.jsx(ce,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function ZY(){const{id:e}=i0(),{toast:t}=uu(),[n,r]=g.useState(null),[s,i]=g.useState(null),[o,a]=g.useState([]),[c,u]=g.useState(!0),[d,h]=g.useState(null),[f,m]=g.useState(!1),[x,p]=g.useState(!1),[b,y]=g.useState(!1),[w,S]=g.useState(!1),[_,C]=g.useState(!1),[j,T]=g.useState(null),[P,O]=g.useState(null),[I,R]=g.useState(null),[D,W]=g.useState(!1),[F,Q]=g.useState({name:"",email:"",role:"",interviewType:"generic_discovery",preBriefContext:""}),[J,Y]=g.useState(!1),[L,$]=g.useState(null),[z,ee]=g.useState(null);g.useEffect(()=>{ne()},[e]);async function ne(){if(!e)return;u(!0);const{project:he,org:Se,interviewees:qe,error:gt}=await dY(e);if(gt){t({title:"Error",description:gt,variant:"destructive"}),u(!1);return}r(he),i(Se),a(qe),u(!1)}const v=he=>`${window.location.origin}/discovery/interview/${he}`,k=he=>`${window.location.origin}/discovery/results/${he}`,E=he=>{navigator.clipboard.writeText(v(he.interview_token)),$(he.id),t({title:"Link copied!"}),setTimeout(()=>$(null),2e3)},A=async he=>{await pY(he.id),t({title:"Marked as invited"}),ne()},N=async()=>{if(!n||!F.name||!F.email)return;Y(!0);const{interviewee:he,error:Se}=await fY(n.id,n.org_id,F.name,F.email,F.role||void 0,F.interviewType,F.preBriefContext||void 0);if(Se||!he){t({title:"Error",description:Se||"Failed to add interviewee",variant:"destructive"}),Y(!1);return}t({title:"Interviewee added!",description:`${F.name} has been added to the project.`}),Q({name:"",email:"",role:"",interviewType:"generic_discovery",preBriefContext:""}),y(!1),Y(!1),T(he),S(!0),ne()},M=async()=>{if(!e)return;m(!0);const{analysis:he,error:Se}=await vY(e);Se?t({title:"Error loading analysis",description:Se,variant:"destructive"}):h(he),m(!1)},U=async()=>{if(!e)return;p(!0);const{error:he}=await yY(e);he?t({title:"Error generating analysis",description:he,variant:"destructive"}):(t({title:"Analysis generated!",description:"The analysis has been updated."}),M()),p(!1)},V=async he=>{ee(he.id);const{error:Se}=await wY(he.id);if(Se){t({title:"Error",description:Se,variant:"destructive"}),ee(null);return}t({title:"Analysis generated!",description:`Analysis for ${he.name} is ready.`}),ee(null),ne()},H=async he=>{O(he),C(!0),W(!0),R(null);const{resultsToken:Se,error:qe}=await xY(he.id);if(qe){t({title:"Error",description:qe,variant:"destructive"}),W(!1);return}R(Se),W(!1)},X=()=>{I&&(navigator.clipboard.writeText(k(I)),t({title:"Results link copied!"}))},ue=he=>{he==="analysis"&&!d&&!f&&M()};if(c)return l.jsx("div",{className:"flex items-center justify-center p-12",children:l.jsx(mt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!n)return l.jsx("div",{className:"p-6",children:l.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const Re=o.filter(he=>he.status==="completed").length,dt=o.filter(he=>he.status==="pending"||he.status==="invited").length;return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("h1",{className:"text-2xl font-bold",children:n.name}),l.jsxs("p",{className:"text-muted-foreground",children:[s==null?void 0:s.name,"  Created ",new Date(n.created_at).toLocaleDateString()]})]}),l.jsxs($Y,{defaultValue:"interviewees",className:"mt-6",onValueChange:ue,children:[l.jsxs(AD,{className:"mb-6",children:[l.jsx(Zd,{value:"interviewees",children:"Interviewees"}),l.jsx(Zd,{value:"overview",children:"Overview"}),l.jsx(Zd,{value:"analysis",disabled:Re===0,children:"Analysis"})]}),l.jsx(eh,{value:"overview",children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsx(Ra,{icon:mu,label:"Total Interviewees",value:o.length}),l.jsx(Ra,{icon:Ch,label:"Completed",value:Re}),l.jsx(Ra,{icon:Dw,label:"Pending",value:dt})]})}),l.jsx(eh,{value:"interviewees",children:l.jsx(BY,{interviewees:o,copiedId:L,generatingAnalysisId:z,onAddClick:()=>y(!0),onCopyLink:E,onInviteClick:he=>{T(he),S(!0)},onGenerateAnalysis:V,onShareClick:H})}),l.jsx(eh,{value:"analysis",children:l.jsx(zY,{analysis:d,loading:f,generating:x,completedCount:Re,onGenerate:U})})]}),l.jsx(YY,{open:b,onOpenChange:y,form:F,onFormChange:Q,onSubmit:N,saving:J}),l.jsx(QY,{open:w,onOpenChange:S,interviewee:j,copiedId:L,onCopyLink:E,onMarkInvited:A,getInterviewLink:v}),l.jsx(XY,{open:_,onOpenChange:C,interviewee:P,resultsToken:I,loading:D,onCopyLink:X,getResultsLink:k})]})}function eQ(){const{toast:e}=uu(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),l.jsxs("div",{className:"max-w-2xl space-y-6",children:[l.jsxs(Ne,{children:[l.jsxs(an,{children:[l.jsx(ln,{children:"Voice Platform"}),l.jsx(Hr,{children:"Configure your Vapi integration"})]}),l.jsxs(Ie,{children:[l.jsx(bt,{htmlFor:"vapi",children:"Vapi API Key"}),l.jsx(Lt,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),l.jsxs(Ne,{children:[l.jsxs(an,{children:[l.jsx(ln,{children:"LLM"}),l.jsx(Hr,{children:"Configure your AI provider"})]}),l.jsxs(Ie,{children:[l.jsx(bt,{htmlFor:"anthropic",children:"Anthropic API Key"}),l.jsx(Lt,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),l.jsxs(Ne,{children:[l.jsxs(an,{children:[l.jsx(ln,{children:"Admin Users"}),l.jsx(Hr,{children:"Manage who can access this dashboard"})]}),l.jsxs(Ie,{children:[l.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"admin@example.com"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),l.jsx(ce,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),l.jsx(ce,{onClick:t,children:"Save Settings"})]})]})}const tQ=[{icon:mF,label:"Dashboard",href:"/admin/dashboard"},{icon:mu,label:"Projects",href:"/admin/projects"},{icon:bF,label:"Settings",href:"/admin/settings"}];function Ck({isOpen:e,onClose:t,isMobile:n}){const r=ki(),s=Ci(),{user:i,signOut:o}=Ax(),a=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(d){console.error("Sign out error:",d)}},c=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",u=l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[l.jsx(Ge,{to:"/admin/dashboard",className:"flex items-center gap-2",children:l.jsx("img",{src:wl,alt:"AgentFlow",className:"h-8 w-auto"})}),n&&l.jsx(ce,{variant:"ghost",size:"icon",onClick:t,children:l.jsx(Nf,{className:"h-5 w-5"})})]}),l.jsx("nav",{className:"flex-1 space-y-1 p-4",children:tQ.map(d=>{const h=r.pathname===d.href||d.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return l.jsxs(Ge,{to:d.href,onClick:n?t:void 0,className:ie("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[l.jsx(d.icon,{className:"h-5 w-5"}),d.label,h&&l.jsx(de.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},d.href)})}),l.jsx("div",{className:"border-t p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:l.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:c})}),l.jsxs("div",{className:"flex-1 truncate",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),l.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),l.jsx(ce,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:l.jsx(gF,{className:"h-4 w-4"})})]})})]});return n?l.jsx(yi,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),l.jsx(de.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:u})]})}):l.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:u})}function nQ({open:e,onOpenChange:t}){const n=Ci(),[r,s]=g.useState(""),[i,o]=g.useState({interviewees:[],projects:[],orgs:[]}),[a,c]=g.useState(!1),[u,d]=g.useState(0),h=g.useRef(null),f=g.useRef(),m=[...i.interviewees.map(_=>({type:"interviewee",data:_})),...i.projects.map(_=>({type:"project",data:_})),...i.orgs.map(_=>({type:"org",data:_}))],x=m.length>0;g.useEffect(()=>{e&&(s(""),o({interviewees:[],projects:[],orgs:[]}),d(0),setTimeout(()=>{var _;return(_=h.current)==null?void 0:_.focus()},50))},[e]);const p=g.useCallback(async _=>{if(_.trim().length<2){o({interviewees:[],projects:[],orgs:[]}),c(!1);return}c(!0);const{results:C,error:j}=await bY(_);j||(o(C),d(0)),c(!1)},[]);g.useEffect(()=>(f.current&&clearTimeout(f.current),r.trim().length>=2?(c(!0),f.current=setTimeout(()=>{p(r)},300)):(o({interviewees:[],projects:[],orgs:[]}),c(!1)),()=>{f.current&&clearTimeout(f.current)}),[r,p]);const b=_=>{switch(t(!1),_.type){case"interviewee":n(`/admin/projects/${_.data.project_id}`);break;case"project":n(`/admin/projects/${_.data.id}`);break;case"org":n(`/admin/clients/${_.data.id}`);break}},y=_=>{switch(_.key){case"ArrowDown":_.preventDefault(),d(C=>Math.min(C+1,m.length-1));break;case"ArrowUp":_.preventDefault(),d(C=>Math.max(C-1,0));break;case"Enter":_.preventDefault(),m[u]&&b(m[u]);break;case"Escape":_.preventDefault(),t(!1);break}},w=_=>_==="completed"?l.jsx(fu,{className:"h-3 w-3 text-green-500"}):null,S=_=>_?l.jsx(CT,{className:"h-3 w-3 text-green-500"}):null;return l.jsx(_l,{open:e,onOpenChange:t,children:l.jsxs(Oo,{className:"sm:max-w-lg p-0 gap-0 overflow-hidden",onKeyDown:y,children:[l.jsxs("div",{className:"flex items-center border-b px-3",children:[l.jsx($w,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),l.jsx(Lt,{ref:h,value:r,onChange:_=>s(_.target.value),placeholder:"Search people, projects, clients...",className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-12"}),a&&l.jsx(mt,{className:"h-4 w-4 animate-spin text-muted-foreground"})]}),l.jsx("div",{className:"max-h-80 overflow-y-auto p-2",children:r.length<2?l.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"Type at least 2 characters to search..."}):!x&&!a?l.jsxs("p",{className:"py-6 text-center text-sm text-muted-foreground",children:['No results found for "',r,'"']}):l.jsxs(l.Fragment,{children:[i.interviewees.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PEOPLE"}),i.interviewees.map((_,C)=>{var T,P,O;const j=C;return l.jsxs("button",{onClick:()=>b({type:"interviewee",data:_}),className:ie("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===j?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[l.jsx($d,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium truncate",children:_.name}),S(_.consent_given),w(_.status)]}),_.role&&l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:_.role}),l.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[(T=_.discovery_project)==null?void 0:T.name,"  ",(O=(P=_.discovery_project)==null?void 0:P.org)==null?void 0:O.name]})]})]},_.id)})]}),i.projects.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"PROJECTS"}),i.projects.map((_,C)=>{var T;const j=i.interviewees.length+C;return l.jsxs("button",{onClick:()=>b({type:"project",data:_}),className:ie("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===j?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[l.jsx(cc,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"font-medium truncate block",children:_.name}),l.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[(T=_.org)==null?void 0:T.name,"  ",_.status]})]})]},_.id)})]}),i.orgs.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"CLIENTS"}),i.orgs.map((_,C)=>{const j=i.interviewees.length+i.projects.length+C;return l.jsxs("button",{onClick:()=>b({type:"org",data:_}),className:ie("flex w-full items-start gap-3 rounded-md px-2 py-2 text-left transition-colors",u===j?"bg-accent text-accent-foreground":"hover:bg-muted"),children:[l.jsx(uF,{className:"h-4 w-4 mt-0.5 shrink-0"}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("span",{className:"font-medium truncate block",children:_.name})})]},_.id)})]})]})}),l.jsx("div",{className:"border-t px-3 py-2",children:l.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:""}),"navigate"]}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Enter"}),"select"]}),l.jsx("span",{className:"mx-2",children:""}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-muted font-mono text-[10px]",children:"Esc"}),"close"]})]})})]})})}function rQ({onMenuClick:e,title:t}){const[n,r]=g.useState(!1),i=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"":"Ctrl";return g.useEffect(()=>{const o=a=>{(a.metaKey||a.ctrlKey)&&a.key==="k"&&(a.preventDefault(),r(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ce,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[l.jsx(vF,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&l.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>r(!0),className:"gap-2 text-muted-foreground",children:[l.jsx($w,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Search"}),l.jsxs("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[i,"K"]})]}),l.jsx(yl,{})]})]}),l.jsx(nQ,{open:n,onOpenChange:r})]})}function sQ(){const[e,t]=g.useState(!1),{user:n,isAdmin:r,loading:s}=Ax();return s?l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:l.jsx(mt,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?l.jsx(zB,{to:"/admin/login",replace:!0}):l.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[l.jsx(Ck,{isOpen:!0,onClose:()=>{},isMobile:!1}),l.jsx(Ck,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx(rQ,{onMenuClick:()=>t(!0)}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx(qB,{})}),l.jsx(Cu,{className:"border-t"})]})]})}const iQ=()=>{const e=ki();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[l.jsx("div",{className:"flex flex-1 items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-gradient-brand",children:l.jsx("span",{className:"text-3xl font-bold text-white",children:"404"})}),l.jsx("h1",{className:"mb-2 text-2xl font-bold",children:"Page not found"}),l.jsx("p",{className:"mb-6 text-muted-foreground",children:"Sorry, we couldn't find the page you're looking for."}),l.jsx("a",{href:"/",className:"inline-flex items-center justify-center rounded-lg px-6 py-3 font-semibold transition-opacity hover:opacity-90",style:{backgroundColor:"#f7a89d",color:"#2c3e50"},children:"Return to Home"})]})}),l.jsx(Cu,{})]})},oQ=new QU,aQ=()=>l.jsx(ZU,{client:oQ,children:l.jsx(d4,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:l.jsxs(Ea,{children:[l.jsx(l4,{}),l.jsx(z4,{}),l.jsx(ZB,{basename:"/discovery",children:l.jsxs(OS,{children:[l.jsx(zt,{path:"/",element:l.jsx(F6,{})}),l.jsx(zt,{path:"/interview/:token",element:l.jsx(Q7,{})}),l.jsx(zt,{path:"/results/:token",element:l.jsx(xJ,{})}),l.jsx(zt,{path:"/privacy",element:l.jsx(bJ,{})}),l.jsx(zt,{path:"/terms",element:l.jsx(SJ,{})}),l.jsx(zt,{path:"/subprocessors",element:l.jsx(CJ,{})}),l.jsx(zt,{path:"/admin/*",element:l.jsx(jJ,{children:l.jsxs(OS,{children:[l.jsx(zt,{path:"login",element:l.jsx(TJ,{})}),l.jsx(zt,{path:"auth/callback",element:l.jsx(NJ,{})}),l.jsxs(zt,{element:l.jsx(sQ,{}),children:[l.jsx(zt,{path:"dashboard",element:l.jsx(OJ,{})}),l.jsx(zt,{path:"projects",element:l.jsx(SY,{})}),l.jsx(zt,{path:"projects/:id",element:l.jsx(ZY,{})}),l.jsx(zt,{path:"settings",element:l.jsx(eQ,{})})]})]})})}),l.jsx(zt,{path:"*",element:l.jsx(iQ,{})})]})})]})})});Jj(document.getElementById("root")).render(l.jsx(aQ,{}));
