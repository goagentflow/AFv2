var uD=Object.defineProperty;var bb=e=>{throw TypeError(e)};var dD=(e,t,n)=>t in e?uD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var we=(e,t,n)=>dD(e,typeof t!="symbol"?t+"":t,n),lp=(e,t,n)=>t.has(e)||bb("Cannot "+n);var B=(e,t,n)=>(lp(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?bb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),be=(e,t,n,r)=>(lp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),It=(e,t,n)=>(lp(e,t,"access private method"),n);var pu=(e,t,n,r)=>({set _(s){be(e,t,s,n)},get _(){return B(e,t,r)}});function hD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var mk={exports:{}},Gh={},gk={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),pD=Symbol.for("react.portal"),mD=Symbol.for("react.fragment"),gD=Symbol.for("react.strict_mode"),vD=Symbol.for("react.profiler"),yD=Symbol.for("react.provider"),wD=Symbol.for("react.context"),bD=Symbol.for("react.forward_ref"),xD=Symbol.for("react.suspense"),SD=Symbol.for("react.memo"),_D=Symbol.for("react.lazy"),Sb=Symbol.iterator;function ED(e){return e===null||typeof e!="object"?null:(e=Sb&&e[Sb]||e["@@iterator"],typeof e=="function"?e:null)}var vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yk=Object.assign,wk={};function Ga(e,t,n){this.props=e,this.context=t,this.refs=wk,this.updater=n||vk}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bk(){}bk.prototype=Ga.prototype;function xy(e,t,n){this.props=e,this.context=t,this.refs=wk,this.updater=n||vk}var Sy=xy.prototype=new bk;Sy.constructor=xy;yk(Sy,Ga.prototype);Sy.isPureReactComponent=!0;var _b=Array.isArray,xk=Object.prototype.hasOwnProperty,_y={current:null},Sk={key:!0,ref:!0,__self:!0,__source:!0};function _k(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)xk.call(t,r)&&!Sk.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zc,type:e,key:i,ref:o,props:s,_owner:_y.current}}function kD(e,t){return{$$typeof:zc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ey(e){return typeof e=="object"&&e!==null&&e.$$typeof===zc}function CD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Eb=/\/+/g;function cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CD(""+e.key):t.toString(36)}function dd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zc:case pD:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+cp(o,0):r,_b(s)?(n="",e!=null&&(n=e.replace(Eb,"$&/")+"/"),dd(s,t,n,"",function(c){return c})):s!=null&&(Ey(s)&&(s=kD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Eb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",_b(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+cp(i,a);o+=dd(i,t,n,l,s)}else if(l=ED(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+cp(i,a++),o+=dd(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mu(e,t,n){if(e==null)return e;var r=[],s=0;return dd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function TD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},hd={transition:null},jD={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:hd,ReactCurrentOwner:_y};function Ek(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:mu,forEach:function(e,t,n){mu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mu(e,function(){t++}),t},toArray:function(e){return mu(e,function(t){return t})||[]},only:function(e){if(!Ey(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=Ga;ke.Fragment=mD;ke.Profiler=vD;ke.PureComponent=xy;ke.StrictMode=gD;ke.Suspense=xD;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jD;ke.act=Ek;ke.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yk({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=_y.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)xk.call(t,l)&&!Sk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zc,type:e.type,key:s,ref:i,props:r,_owner:o}};ke.createContext=function(e){return e={$$typeof:wD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yD,_context:e},e.Consumer=e};ke.createElement=_k;ke.createFactory=function(e){var t=_k.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:bD,render:e}};ke.isValidElement=Ey;ke.lazy=function(e){return{$$typeof:_D,_payload:{_status:-1,_result:e},_init:TD}};ke.memo=function(e,t){return{$$typeof:SD,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=hd.transition;hd.transition={};try{e()}finally{hd.transition=t}};ke.unstable_act=Ek;ke.useCallback=function(e,t){return tn.current.useCallback(e,t)};ke.useContext=function(e){return tn.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};ke.useEffect=function(e,t){return tn.current.useEffect(e,t)};ke.useId=function(){return tn.current.useId()};ke.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};ke.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return tn.current.useMemo(e,t)};ke.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};ke.useRef=function(e){return tn.current.useRef(e)};ke.useState=function(e){return tn.current.useState(e)};ke.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};ke.useTransition=function(){return tn.current.useTransition()};ke.version="18.3.1";gk.exports=ke;var v=gk.exports;const H=pk(v),ky=hD({__proto__:null,default:H},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AD=v,PD=Symbol.for("react.element"),ND=Symbol.for("react.fragment"),OD=Object.prototype.hasOwnProperty,RD=AD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ID={key:!0,ref:!0,__self:!0,__source:!0};function kk(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)OD.call(t,r)&&!ID.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:PD,type:e,key:i,ref:o,props:s,_owner:RD.current}}Gh.Fragment=ND;Gh.jsx=kk;Gh.jsxs=kk;mk.exports=Gh;var u=mk.exports,Ck={exports:{}},Cn={},Tk={exports:{}},jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var K=D.length;D.push(F);e:for(;0<K;){var se=K-1>>>1,te=D[se];if(0<s(te,F))D[se]=F,D[K]=te,K=se;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],K=D.pop();if(K!==F){D[0]=K;e:for(var se=0,te=D.length,g=te>>>1;se<g;){var k=2*(se+1)-1,_=D[k],P=k+1,A=D[P];if(0>s(_,K))P<te&&0>s(A,_)?(D[se]=A,D[P]=K,se=P):(D[se]=_,D[k]=K,se=k);else if(P<te&&0>s(A,K))D[se]=A,D[P]=K,se=P;else break e}}return F}function s(D,F){var K=D.sortIndex-F.sortIndex;return K!==0?K:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,b=!1,f=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(c)}}function E(D){if(f=!1,S(D),!b)if(n(l)!==null)b=!0,Y(C);else{var F=n(c);F!==null&&Q(E,F.startTime-D)}}function C(D,F){b=!1,f&&(f=!1,y(N),N=-1),m=!0;var K=p;try{for(S(F),h=n(l);h!==null&&(!(h.expirationTime>F)||D&&!O());){var se=h.callback;if(typeof se=="function"){h.callback=null,p=h.priorityLevel;var te=se(h.expirationTime<=F);F=e.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),S(F)}else r(l);h=n(l)}if(h!==null)var g=!0;else{var k=n(c);k!==null&&Q(E,k.startTime-F),g=!1}return g}finally{h=null,p=K,m=!1}}var T=!1,j=null,N=-1,I=5,R=-1;function O(){return!(e.unstable_now()-R<I)}function $(){if(j!==null){var D=e.unstable_now();R=D;var F=!0;try{F=j(!0,D)}finally{F?W():(T=!1,j=null)}}else T=!1}var W;if(typeof w=="function")W=function(){w($)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,J=L.port2;L.port1.onmessage=$,W=function(){J.postMessage(null)}}else W=function(){x($,0)};function Y(D){j=D,T||(T=!0,W())}function Q(D,F){N=x(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,Y(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var K=p;p=F;try{return D()}finally{p=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=p;p=D;try{return F()}finally{p=K}},e.unstable_scheduleCallback=function(D,F,K){var se=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?se+K:se):K=se,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,D={id:d++,callback:F,priorityLevel:D,startTime:K,expirationTime:te,sortIndex:-1},K>se?(D.sortIndex=K,t(c,D),n(l)===null&&D===n(c)&&(f?(y(N),N=-1):f=!0,Q(E,K-se))):(D.sortIndex=te,t(l,D),b||m||(b=!0,Y(C))),D},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(D){var F=p;return function(){var K=p;p=F;try{return D.apply(this,arguments)}finally{p=K}}}})(jk);Tk.exports=jk;var MD=Tk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD=v,kn=MD;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ak=new Set,nc={};function go(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(nc[e]=t,e=0;e<t.length;e++)Ak.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qm=Object.prototype.hasOwnProperty,LD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kb={},Cb={};function $D(e){return qm.call(Cb,e)?!0:qm.call(kb,e)?!1:LD.test(e)?Cb[e]=!0:(kb[e]=!0,!1)}function FD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VD(e,t,n,r){if(t===null||typeof t>"u"||FD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cy=/[\-:]([a-z])/g;function Ty(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cy,Ty);Rt[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cy,Ty);Rt[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cy,Ty);Rt[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function jy(e,t,n,r){var s=Rt.hasOwnProperty(t)?Rt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VD(t,n,s,r)&&(n=null),r||s===null?$D(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vs=DD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),Pk=Symbol.for("react.provider"),Nk=Symbol.for("react.context"),Py=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Gm=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),Ok=Symbol.for("react.offscreen"),Tb=Symbol.iterator;function hl(e){return e===null||typeof e!="object"?null:(e=Tb&&e[Tb]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,up;function kl(e){if(up===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);up=t&&t[1]||""}return`
`+up+e}var dp=!1;function hp(e,t){if(!e||dp)return"";dp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{dp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kl(e):""}function UD(e){switch(e.tag){case 5:return kl(e.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return e=hp(e.type,!1),e;case 11:return e=hp(e.type.render,!1),e;case 1:return e=hp(e.type,!0),e;default:return""}}function Km(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fo:return"Fragment";case $o:return"Portal";case Wm:return"Profiler";case Ay:return"StrictMode";case Hm:return"Suspense";case Gm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nk:return(e.displayName||"Context")+".Consumer";case Pk:return(e._context.displayName||"Context")+".Provider";case Py:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ny:return t=e.displayName||null,t!==null?t:Km(e.type)||"Memo";case Os:t=e._payload,e=e._init;try{return Km(e(t))}catch{}}return null}function BD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Km(t);case 8:return t===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zD(e){var t=Rk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vu(e){e._valueTracker||(e._valueTracker=zD(e))}function Ik(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ud(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jm(e,t){var n=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mk(e,t){t=t.checked,t!=null&&jy(e,"checked",t,!1)}function Ym(e,t){Mk(e,t);var n=ii(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qm(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ab(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qm(e,t,n){(t!=="number"||Ud(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cl=Array.isArray;function na(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ii(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Cl(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ii(n)}}function Dk(e,t){var n=ii(t.value),r=ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yu,$k=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qD=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(e){qD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$l[t]=$l[e]})});function Fk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$l.hasOwnProperty(e)&&$l[e]?(""+t).trim():t+"px"}function Vk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var WD=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eg(e,t){if(t){if(WD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function tg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=null;function Oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rg=null,ra=null,sa=null;function Ob(e){if(e=Hc(e)){if(typeof rg!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Xh(t),rg(e.stateNode,e.type,t))}}function Uk(e){ra?sa?sa.push(e):sa=[e]:ra=e}function Bk(){if(ra){var e=ra,t=sa;if(sa=ra=null,Ob(e),t)for(e=0;e<t.length;e++)Ob(t[e])}}function zk(e,t){return e(t)}function qk(){}var fp=!1;function Wk(e,t,n){if(fp)return e(t,n);fp=!0;try{return zk(e,t,n)}finally{fp=!1,(ra!==null||sa!==null)&&(qk(),Bk())}}function sc(e,t){var n=e.stateNode;if(n===null)return null;var r=Xh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var sg=!1;if(us)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){sg=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{sg=!1}function HD(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Fl=!1,Bd=null,zd=!1,ig=null,GD={onError:function(e){Fl=!0,Bd=e}};function KD(e,t,n,r,s,i,o,a,l){Fl=!1,Bd=null,HD.apply(GD,arguments)}function JD(e,t,n,r,s,i,o,a,l){if(KD.apply(this,arguments),Fl){if(Fl){var c=Bd;Fl=!1,Bd=null}else throw Error(G(198));zd||(zd=!0,ig=c)}}function vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rb(e){if(vo(e)!==e)throw Error(G(188))}function YD(e){var t=e.alternate;if(!t){if(t=vo(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rb(s),e;if(i===r)return Rb(s),t;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function Gk(e){return e=YD(e),e!==null?Kk(e):null}function Kk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kk(e);if(t!==null)return t;e=e.sibling}return null}var Jk=kn.unstable_scheduleCallback,Ib=kn.unstable_cancelCallback,QD=kn.unstable_shouldYield,XD=kn.unstable_requestPaint,lt=kn.unstable_now,ZD=kn.unstable_getCurrentPriorityLevel,Ry=kn.unstable_ImmediatePriority,Yk=kn.unstable_UserBlockingPriority,qd=kn.unstable_NormalPriority,eL=kn.unstable_LowPriority,Qk=kn.unstable_IdlePriority,Kh=null,Dr=null;function tL(e){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Kh,e,void 0,(e.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:sL,nL=Math.log,rL=Math.LN2;function sL(e){return e>>>=0,e===0?32:31-(nL(e)/rL|0)|0}var wu=64,bu=4194304;function Tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Tl(a):(i&=o,i!==0&&(r=Tl(i)))}else o=n&~s,o!==0?r=Tl(o):i!==0&&(r=Tl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pr(t),s=1<<n,r|=e[n],t&=~s;return r}function iL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=iL(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function og(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xk(){var e=wu;return wu<<=1,!(wu&4194240)&&(wu=64),e}function pp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pr(t),e[t]=n}function aL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-pr(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Iy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var De=0;function Zk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eC,My,tC,nC,rC,ag=!1,xu=[],Js=null,Ys=null,Qs=null,ic=new Map,oc=new Map,Ds=[],lL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mb(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function pl(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hc(t),t!==null&&My(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cL(e,t,n,r,s){switch(t){case"focusin":return Js=pl(Js,e,t,n,r,s),!0;case"dragenter":return Ys=pl(Ys,e,t,n,r,s),!0;case"mouseover":return Qs=pl(Qs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ic.set(i,pl(ic.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oc.set(i,pl(oc.get(i)||null,e,t,n,r,s)),!0}return!1}function sC(e){var t=Mi(e.target);if(t!==null){var n=vo(t);if(n!==null){if(t=n.tag,t===13){if(t=Hk(n),t!==null){e.blockedOn=t,rC(e.priority,function(){tC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ng=r,n.target.dispatchEvent(r),ng=null}else return t=Hc(n),t!==null&&My(t),e.blockedOn=n,!1;t.shift()}return!0}function Db(e,t,n){fd(e)&&n.delete(t)}function uL(){ag=!1,Js!==null&&fd(Js)&&(Js=null),Ys!==null&&fd(Ys)&&(Ys=null),Qs!==null&&fd(Qs)&&(Qs=null),ic.forEach(Db),oc.forEach(Db)}function ml(e,t){e.blockedOn===t&&(e.blockedOn=null,ag||(ag=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,uL)))}function ac(e){function t(s){return ml(s,e)}if(0<xu.length){ml(xu[0],e);for(var n=1;n<xu.length;n++){var r=xu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&ml(Js,e),Ys!==null&&ml(Ys,e),Qs!==null&&ml(Qs,e),ic.forEach(t),oc.forEach(t),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)sC(n),n.blockedOn===null&&Ds.shift()}var ia=vs.ReactCurrentBatchConfig,Hd=!0;function dL(e,t,n,r){var s=De,i=ia.transition;ia.transition=null;try{De=1,Dy(e,t,n,r)}finally{De=s,ia.transition=i}}function hL(e,t,n,r){var s=De,i=ia.transition;ia.transition=null;try{De=4,Dy(e,t,n,r)}finally{De=s,ia.transition=i}}function Dy(e,t,n,r){if(Hd){var s=lg(e,t,n,r);if(s===null)Ep(e,t,r,Gd,n),Mb(e,r);else if(cL(s,e,t,n,r))r.stopPropagation();else if(Mb(e,r),t&4&&-1<lL.indexOf(e)){for(;s!==null;){var i=Hc(s);if(i!==null&&eC(i),i=lg(e,t,n,r),i===null&&Ep(e,t,r,Gd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ep(e,t,r,null,n)}}var Gd=null;function lg(e,t,n,r){if(Gd=null,e=Oy(r),e=Mi(e),e!==null)if(t=vo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gd=e,null}function iC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZD()){case Ry:return 1;case Yk:return 4;case qd:case eL:return 16;case Qk:return 536870912;default:return 16}default:return 16}}var Ws=null,Ly=null,pd=null;function oC(){if(pd)return pd;var e,t=Ly,n=t.length,r,s="value"in Ws?Ws.value:Ws.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return pd=s.slice(e,1<r?1-r:void 0)}function md(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Su(){return!0}function Lb(){return!1}function Tn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Su:Lb,this.isPropagationStopped=Lb,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=Tn(Ka),Wc=nt({},Ka,{view:0,detail:0}),fL=Tn(Wc),mp,gp,gl,Jh=nt({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(mp=e.screenX-gl.screenX,gp=e.screenY-gl.screenY):gp=mp=0,gl=e),mp)},movementY:function(e){return"movementY"in e?e.movementY:gp}}),$b=Tn(Jh),pL=nt({},Jh,{dataTransfer:0}),mL=Tn(pL),gL=nt({},Wc,{relatedTarget:0}),vp=Tn(gL),vL=nt({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),yL=Tn(vL),wL=nt({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bL=Tn(wL),xL=nt({},Ka,{data:0}),Fb=Tn(xL),SL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_L={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EL[e])?!!t[e]:!1}function Fy(){return kL}var CL=nt({},Wc,{key:function(e){if(e.key){var t=SL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=md(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_L[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fy,charCode:function(e){return e.type==="keypress"?md(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?md(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TL=Tn(CL),jL=nt({},Jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vb=Tn(jL),AL=nt({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fy}),PL=Tn(AL),NL=nt({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),OL=Tn(NL),RL=nt({},Jh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IL=Tn(RL),ML=[9,13,27,32],Vy=us&&"CompositionEvent"in window,Vl=null;us&&"documentMode"in document&&(Vl=document.documentMode);var DL=us&&"TextEvent"in window&&!Vl,aC=us&&(!Vy||Vl&&8<Vl&&11>=Vl),Ub=" ",Bb=!1;function lC(e,t){switch(e){case"keyup":return ML.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vo=!1;function LL(e,t){switch(e){case"compositionend":return cC(t);case"keypress":return t.which!==32?null:(Bb=!0,Ub);case"textInput":return e=t.data,e===Ub&&Bb?null:e;default:return null}}function $L(e,t){if(Vo)return e==="compositionend"||!Vy&&lC(e,t)?(e=oC(),pd=Ly=Ws=null,Vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aC&&t.locale!=="ko"?null:t.data;default:return null}}var FL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FL[e.type]:t==="textarea"}function uC(e,t,n,r){Uk(r),t=Kd(t,"onChange"),0<t.length&&(n=new $y("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ul=null,lc=null;function VL(e){xC(e,0)}function Yh(e){var t=zo(e);if(Ik(t))return e}function UL(e,t){if(e==="change")return t}var dC=!1;if(us){var yp;if(us){var wp="oninput"in document;if(!wp){var qb=document.createElement("div");qb.setAttribute("oninput","return;"),wp=typeof qb.oninput=="function"}yp=wp}else yp=!1;dC=yp&&(!document.documentMode||9<document.documentMode)}function Wb(){Ul&&(Ul.detachEvent("onpropertychange",hC),lc=Ul=null)}function hC(e){if(e.propertyName==="value"&&Yh(lc)){var t=[];uC(t,lc,e,Oy(e)),Wk(VL,t)}}function BL(e,t,n){e==="focusin"?(Wb(),Ul=t,lc=n,Ul.attachEvent("onpropertychange",hC)):e==="focusout"&&Wb()}function zL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yh(lc)}function qL(e,t){if(e==="click")return Yh(t)}function WL(e,t){if(e==="input"||e==="change")return Yh(t)}function HL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:HL;function cc(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!qm.call(t,s)||!yr(e[s],t[s]))return!1}return!0}function Hb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gb(e,t){var n=Hb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hb(n)}}function fC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pC(){for(var e=window,t=Ud();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ud(e.document)}return t}function Uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GL(e){var t=pC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fC(n.ownerDocument.documentElement,n)){if(r!==null&&Uy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Gb(n,i);var o=Gb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KL=us&&"documentMode"in document&&11>=document.documentMode,Uo=null,cg=null,Bl=null,ug=!1;function Kb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ug||Uo==null||Uo!==Ud(r)||(r=Uo,"selectionStart"in r&&Uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&cc(Bl,r)||(Bl=r,r=Kd(cg,"onSelect"),0<r.length&&(t=new $y("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uo)))}function _u(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bo={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},bp={},mC={};us&&(mC=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Qh(e){if(bp[e])return bp[e];if(!Bo[e])return e;var t=Bo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mC)return bp[e]=t[n];return e}var gC=Qh("animationend"),vC=Qh("animationiteration"),yC=Qh("animationstart"),wC=Qh("transitionend"),bC=new Map,Jb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){bC.set(e,t),go(t,[e])}for(var xp=0;xp<Jb.length;xp++){var Sp=Jb[xp],JL=Sp.toLowerCase(),YL=Sp[0].toUpperCase()+Sp.slice(1);fi(JL,"on"+YL)}fi(gC,"onAnimationEnd");fi(vC,"onAnimationIteration");fi(yC,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(wC,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QL=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function Yb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JD(r,t,void 0,e),e.currentTarget=null}function xC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Yb(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Yb(s,a,c),i=l}}}if(zd)throw e=ig,zd=!1,ig=null,e}function He(e,t){var n=t[mg];n===void 0&&(n=t[mg]=new Set);var r=e+"__bubble";n.has(r)||(SC(t,e,2,!1),n.add(r))}function _p(e,t,n){var r=0;t&&(r|=4),SC(n,e,r,t)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function uc(e){if(!e[Eu]){e[Eu]=!0,Ak.forEach(function(n){n!=="selectionchange"&&(QL.has(n)||_p(n,!1,e),_p(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Eu]||(t[Eu]=!0,_p("selectionchange",!1,t))}}function SC(e,t,n,r){switch(iC(t)){case 1:var s=dL;break;case 4:s=hL;break;default:s=Dy}n=s.bind(null,t,n,e),s=void 0,!sg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ep(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Wk(function(){var c=i,d=Oy(n),h=[];e:{var p=bC.get(e);if(p!==void 0){var m=$y,b=e;switch(e){case"keypress":if(md(n)===0)break e;case"keydown":case"keyup":m=TL;break;case"focusin":b="focus",m=vp;break;case"focusout":b="blur",m=vp;break;case"beforeblur":case"afterblur":m=vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PL;break;case gC:case vC:case yC:m=yL;break;case wC:m=OL;break;case"scroll":m=fL;break;case"wheel":m=IL;break;case"copy":case"cut":case"paste":m=bL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vb}var f=(t&4)!==0,x=!f&&e==="scroll",y=f?p!==null?p+"Capture":null:p;f=[];for(var w=c,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,y!==null&&(E=sc(w,y),E!=null&&f.push(dc(w,E,S)))),x)break;w=w.return}0<f.length&&(p=new m(p,b,null,n,d),h.push({event:p,listeners:f}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==ng&&(b=n.relatedTarget||n.fromElement)&&(Mi(b)||b[ds]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?Mi(b):null,b!==null&&(x=vo(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(f=$b,E="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(f=Vb,E="onPointerLeave",y="onPointerEnter",w="pointer"),x=m==null?p:zo(m),S=b==null?p:zo(b),p=new f(E,w+"leave",m,n,d),p.target=x,p.relatedTarget=S,E=null,Mi(d)===c&&(f=new f(y,w+"enter",b,n,d),f.target=S,f.relatedTarget=x,E=f),x=E,m&&b)t:{for(f=m,y=b,w=0,S=f;S;S=Eo(S))w++;for(S=0,E=y;E;E=Eo(E))S++;for(;0<w-S;)f=Eo(f),w--;for(;0<S-w;)y=Eo(y),S--;for(;w--;){if(f===y||y!==null&&f===y.alternate)break t;f=Eo(f),y=Eo(y)}f=null}else f=null;m!==null&&Qb(h,p,m,f,!1),b!==null&&x!==null&&Qb(h,x,b,f,!0)}}e:{if(p=c?zo(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=UL;else if(zb(p))if(dC)C=WL;else{C=zL;var T=BL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=qL);if(C&&(C=C(e,c))){uC(h,C,n,d);break e}T&&T(e,p,c),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Qm(p,"number",p.value)}switch(T=c?zo(c):window,e){case"focusin":(zb(T)||T.contentEditable==="true")&&(Uo=T,cg=c,Bl=null);break;case"focusout":Bl=cg=Uo=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,Kb(h,n,d);break;case"selectionchange":if(KL)break;case"keydown":case"keyup":Kb(h,n,d)}var j;if(Vy)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Vo?lC(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(aC&&n.locale!=="ko"&&(Vo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Vo&&(j=oC()):(Ws=d,Ly="value"in Ws?Ws.value:Ws.textContent,Vo=!0)),T=Kd(c,N),0<T.length&&(N=new Fb(N,e,null,n,d),h.push({event:N,listeners:T}),j?N.data=j:(j=cC(n),j!==null&&(N.data=j)))),(j=DL?LL(e,n):$L(e,n))&&(c=Kd(c,"onBeforeInput"),0<c.length&&(d=new Fb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}xC(h,t)})}function dc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sc(e,n),i!=null&&r.unshift(dc(e,i,s)),i=sc(e,t),i!=null&&r.push(dc(e,i,s))),e=e.return}return r}function Eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qb(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=sc(n,i),l!=null&&o.unshift(dc(n,l,a))):s||(l=sc(n,i),l!=null&&o.push(dc(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var XL=/\r\n?/g,ZL=/\u0000|\uFFFD/g;function Xb(e){return(typeof e=="string"?e:""+e).replace(XL,`
`).replace(ZL,"")}function ku(e,t,n){if(t=Xb(t),Xb(e)!==t&&n)throw Error(G(425))}function Jd(){}var dg=null,hg=null;function fg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pg=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(e){return Zb.resolve(null).then(e).catch(n2)}:pg;function n2(e){setTimeout(function(){throw e})}function kp(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ac(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ac(t)}function Xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ex(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Ja,hc="__reactProps$"+Ja,ds="__reactContainer$"+Ja,mg="__reactEvents$"+Ja,r2="__reactListeners$"+Ja,s2="__reactHandles$"+Ja;function Mi(e){var t=e[Rr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ds]||n[Rr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ex(e);e!==null;){if(n=e[Rr])return n;e=ex(e)}return t}e=n,n=e.parentNode}return null}function Hc(e){return e=e[Rr]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Xh(e){return e[hc]||null}var gg=[],qo=-1;function pi(e){return{current:e}}function Ge(e){0>qo||(e.current=gg[qo],gg[qo]=null,qo--)}function ze(e,t){qo++,gg[qo]=e.current,e.current=t}var oi={},Bt=pi(oi),cn=pi(!1),no=oi;function Ta(e,t){var n=e.type.contextTypes;if(!n)return oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function un(e){return e=e.childContextTypes,e!=null}function Yd(){Ge(cn),Ge(Bt)}function tx(e,t,n){if(Bt.current!==oi)throw Error(G(168));ze(Bt,t),ze(cn,n)}function _C(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,BD(e)||"Unknown",s));return nt({},n,r)}function Qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oi,no=Bt.current,ze(Bt,e),ze(cn,cn.current),!0}function nx(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=_C(e,t,no),r.__reactInternalMemoizedMergedChildContext=e,Ge(cn),Ge(Bt),ze(Bt,e)):Ge(cn),ze(cn,n)}var ns=null,Zh=!1,Cp=!1;function EC(e){ns===null?ns=[e]:ns.push(e)}function i2(e){Zh=!0,EC(e)}function mi(){if(!Cp&&ns!==null){Cp=!0;var e=0,t=De;try{var n=ns;for(De=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ns=null,Zh=!1}catch(s){throw ns!==null&&(ns=ns.slice(e+1)),Jk(Ry,mi),s}finally{De=t,Cp=!1}}return null}var Wo=[],Ho=0,Xd=null,Zd=0,On=[],Rn=0,ro=null,ss=1,is="";function Ai(e,t){Wo[Ho++]=Zd,Wo[Ho++]=Xd,Xd=e,Zd=t}function kC(e,t,n){On[Rn++]=ss,On[Rn++]=is,On[Rn++]=ro,ro=e;var r=ss;e=is;var s=32-pr(r)-1;r&=~(1<<s),n+=1;var i=32-pr(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ss=1<<32-pr(t)+s|n<<s|r,is=i+e}else ss=1<<i|n<<s|r,is=e}function By(e){e.return!==null&&(Ai(e,1),kC(e,1,0))}function zy(e){for(;e===Xd;)Xd=Wo[--Ho],Wo[Ho]=null,Zd=Wo[--Ho],Wo[Ho]=null;for(;e===ro;)ro=On[--Rn],On[Rn]=null,is=On[--Rn],On[Rn]=null,ss=On[--Rn],On[Rn]=null}var Sn=null,bn=null,Ye=!1,fr=null;function CC(e,t){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sn=e,bn=Xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ro!==null?{id:ss,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Sn=e,bn=null,!0):!1;default:return!1}}function vg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yg(e){if(Ye){var t=bn;if(t){var n=t;if(!rx(e,t)){if(vg(e))throw Error(G(418));t=Xs(n.nextSibling);var r=Sn;t&&rx(e,t)?CC(r,n):(e.flags=e.flags&-4097|2,Ye=!1,Sn=e)}}else{if(vg(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ye=!1,Sn=e}}}function sx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function Cu(e){if(e!==Sn)return!1;if(!Ye)return sx(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fg(e.type,e.memoizedProps)),t&&(t=bn)){if(vg(e))throw TC(),Error(G(418));for(;t;)CC(e,t),t=Xs(t.nextSibling)}if(sx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Xs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=Sn?Xs(e.stateNode.nextSibling):null;return!0}function TC(){for(var e=bn;e;)e=Xs(e.nextSibling)}function ja(){bn=Sn=null,Ye=!1}function qy(e){fr===null?fr=[e]:fr.push(e)}var o2=vs.ReactCurrentBatchConfig;function vl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function Tu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ix(e){var t=e._init;return t(e._payload)}function jC(e){function t(y,w){if(e){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=ni(y,w),y.index=0,y.sibling=null,y}function i(y,w,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,E){return w===null||w.tag!==6?(w=Rp(S,y.mode,E),w.return=y,w):(w=s(w,S),w.return=y,w)}function l(y,w,S,E){var C=S.type;return C===Fo?d(y,w,S.props.children,E,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Os&&ix(C)===w.type)?(E=s(w,S.props),E.ref=vl(y,w,S),E.return=y,E):(E=Sd(S.type,S.key,S.props,null,y.mode,E),E.ref=vl(y,w,S),E.return=y,E)}function c(y,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Ip(S,y.mode,E),w.return=y,w):(w=s(w,S.children||[]),w.return=y,w)}function d(y,w,S,E,C){return w===null||w.tag!==7?(w=Ji(S,y.mode,E,C),w.return=y,w):(w=s(w,S),w.return=y,w)}function h(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Rp(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:return S=Sd(w.type,w.key,w.props,null,y.mode,S),S.ref=vl(y,null,w),S.return=y,S;case $o:return w=Ip(w,y.mode,S),w.return=y,w;case Os:var E=w._init;return h(y,E(w._payload),S)}if(Cl(w)||hl(w))return w=Ji(w,y.mode,S,null),w.return=y,w;Tu(y,w)}return null}function p(y,w,S,E){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(y,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:return S.key===C?l(y,w,S,E):null;case $o:return S.key===C?c(y,w,S,E):null;case Os:return C=S._init,p(y,w,C(S._payload),E)}if(Cl(S)||hl(S))return C!==null?null:d(y,w,S,E,null);Tu(y,S)}return null}function m(y,w,S,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(S)||null,a(w,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case gu:return y=y.get(E.key===null?S:E.key)||null,l(w,y,E,C);case $o:return y=y.get(E.key===null?S:E.key)||null,c(w,y,E,C);case Os:var T=E._init;return m(y,w,S,T(E._payload),C)}if(Cl(E)||hl(E))return y=y.get(S)||null,d(w,y,E,C,null);Tu(w,E)}return null}function b(y,w,S,E){for(var C=null,T=null,j=w,N=w=0,I=null;j!==null&&N<S.length;N++){j.index>N?(I=j,j=null):I=j.sibling;var R=p(y,j,S[N],E);if(R===null){j===null&&(j=I);break}e&&j&&R.alternate===null&&t(y,j),w=i(R,w,N),T===null?C=R:T.sibling=R,T=R,j=I}if(N===S.length)return n(y,j),Ye&&Ai(y,N),C;if(j===null){for(;N<S.length;N++)j=h(y,S[N],E),j!==null&&(w=i(j,w,N),T===null?C=j:T.sibling=j,T=j);return Ye&&Ai(y,N),C}for(j=r(y,j);N<S.length;N++)I=m(j,y,N,S[N],E),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?N:I.key),w=i(I,w,N),T===null?C=I:T.sibling=I,T=I);return e&&j.forEach(function(O){return t(y,O)}),Ye&&Ai(y,N),C}function f(y,w,S,E){var C=hl(S);if(typeof C!="function")throw Error(G(150));if(S=C.call(S),S==null)throw Error(G(151));for(var T=C=null,j=w,N=w=0,I=null,R=S.next();j!==null&&!R.done;N++,R=S.next()){j.index>N?(I=j,j=null):I=j.sibling;var O=p(y,j,R.value,E);if(O===null){j===null&&(j=I);break}e&&j&&O.alternate===null&&t(y,j),w=i(O,w,N),T===null?C=O:T.sibling=O,T=O,j=I}if(R.done)return n(y,j),Ye&&Ai(y,N),C;if(j===null){for(;!R.done;N++,R=S.next())R=h(y,R.value,E),R!==null&&(w=i(R,w,N),T===null?C=R:T.sibling=R,T=R);return Ye&&Ai(y,N),C}for(j=r(y,j);!R.done;N++,R=S.next())R=m(j,y,N,R.value,E),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?N:R.key),w=i(R,w,N),T===null?C=R:T.sibling=R,T=R);return e&&j.forEach(function($){return t(y,$)}),Ye&&Ai(y,N),C}function x(y,w,S,E){if(typeof S=="object"&&S!==null&&S.type===Fo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case gu:e:{for(var C=S.key,T=w;T!==null;){if(T.key===C){if(C=S.type,C===Fo){if(T.tag===7){n(y,T.sibling),w=s(T,S.props.children),w.return=y,y=w;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Os&&ix(C)===T.type){n(y,T.sibling),w=s(T,S.props),w.ref=vl(y,T,S),w.return=y,y=w;break e}n(y,T);break}else t(y,T);T=T.sibling}S.type===Fo?(w=Ji(S.props.children,y.mode,E,S.key),w.return=y,y=w):(E=Sd(S.type,S.key,S.props,null,y.mode,E),E.ref=vl(y,w,S),E.return=y,y=E)}return o(y);case $o:e:{for(T=S.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),w=s(w,S.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Ip(S,y.mode,E),w.return=y,y=w}return o(y);case Os:return T=S._init,x(y,w,T(S._payload),E)}if(Cl(S))return b(y,w,S,E);if(hl(S))return f(y,w,S,E);Tu(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,S),w.return=y,y=w):(n(y,w),w=Rp(S,y.mode,E),w.return=y,y=w),o(y)):n(y,w)}return x}var Aa=jC(!0),AC=jC(!1),eh=pi(null),th=null,Go=null,Wy=null;function Hy(){Wy=Go=th=null}function Gy(e){var t=eh.current;Ge(eh),e._currentValue=t}function wg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oa(e,t){th=e,Wy=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(Wy!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(th===null)throw Error(G(308));Go=e,th.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Di=null;function Ky(e){Di===null?Di=[e]:Di.push(e)}function PC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ky(t)):(n.next=s.next,s.next=n),t.interleaved=n,hs(e,r)}function hs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rs=!1;function Jy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,hs(e,n)}return s=r.interleaved,s===null?(t.next=t,Ky(r)):(t.next=s.next,s.next=t),r.interleaved=t,hs(e,n)}function gd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}function ox(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nh(e,t,n,r){var s=e.updateQueue;Rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,f=a;switch(p=t,m=n,f.tag){case 1:if(b=f.payload,typeof b=="function"){h=b.call(m,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=f.payload,p=typeof b=="function"?b.call(m,h,p):b,p==null)break e;h=nt({},h,p);break e;case 2:Rs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);io|=o,e.lanes=o,e.memoizedState=h}}function ax(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Gc={},Lr=pi(Gc),fc=pi(Gc),pc=pi(Gc);function Li(e){if(e===Gc)throw Error(G(174));return e}function Yy(e,t){switch(ze(pc,t),ze(fc,e),ze(Lr,Gc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zm(t,e)}Ge(Lr),ze(Lr,t)}function Pa(){Ge(Lr),Ge(fc),Ge(pc)}function OC(e){Li(pc.current);var t=Li(Lr.current),n=Zm(t,e.type);t!==n&&(ze(fc,e),ze(Lr,n))}function Qy(e){fc.current===e&&(Ge(Lr),Ge(fc))}var Ze=pi(0);function rh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tp=[];function Xy(){for(var e=0;e<Tp.length;e++)Tp[e]._workInProgressVersionPrimary=null;Tp.length=0}var vd=vs.ReactCurrentDispatcher,jp=vs.ReactCurrentBatchConfig,so=0,tt=null,yt=null,St=null,sh=!1,zl=!1,mc=0,a2=0;function Mt(){throw Error(G(321))}function Zy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function ew(e,t,n,r,s,i){if(so=i,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vd.current=e===null||e.memoizedState===null?d2:h2,e=n(r,s),zl){i=0;do{if(zl=!1,mc=0,25<=i)throw Error(G(301));i+=1,St=yt=null,t.updateQueue=null,vd.current=f2,e=n(r,s)}while(zl)}if(vd.current=ih,t=yt!==null&&yt.next!==null,so=0,St=yt=tt=null,sh=!1,t)throw Error(G(300));return e}function tw(){var e=mc!==0;return mc=0,e}function Cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?tt.memoizedState=St=e:St=St.next=e,St}function qn(){if(yt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=St===null?tt.memoizedState:St.next;if(t!==null)St=t,yt=e;else{if(e===null)throw Error(G(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?tt.memoizedState=St=e:St=St.next=e}return St}function gc(e,t){return typeof t=="function"?t(e):t}function Ap(e){var t=qn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((so&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,tt.lanes|=d,io|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,yr(r,t.memoizedState)||(ln=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,tt.lanes|=i,io|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pp(e){var t=qn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);yr(i,t.memoizedState)||(ln=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function RC(){}function IC(e,t){var n=tt,r=qn(),s=t(),i=!yr(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,nw(LC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,vc(9,DC.bind(null,n,r,s,t),void 0,null),Et===null)throw Error(G(349));so&30||MC(n,t,s)}return s}function MC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DC(e,t,n,r){t.value=n,t.getSnapshot=r,$C(t)&&FC(e)}function LC(e,t,n){return n(function(){$C(t)&&FC(e)})}function $C(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function FC(e){var t=hs(e,1);t!==null&&mr(t,e,1,-1)}function lx(e){var t=Cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:e},t.queue=e,e=e.dispatch=u2.bind(null,tt,e),[t.memoizedState,e]}function vc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VC(){return qn().memoizedState}function yd(e,t,n,r){var s=Cr();tt.flags|=e,s.memoizedState=vc(1|t,n,void 0,r===void 0?null:r)}function ef(e,t,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&Zy(r,o.deps)){s.memoizedState=vc(t,n,i,r);return}}tt.flags|=e,s.memoizedState=vc(1|t,n,i,r)}function cx(e,t){return yd(8390656,8,e,t)}function nw(e,t){return ef(2048,8,e,t)}function UC(e,t){return ef(4,2,e,t)}function BC(e,t){return ef(4,4,e,t)}function zC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qC(e,t,n){return n=n!=null?n.concat([e]):null,ef(4,4,zC.bind(null,t,e),n)}function rw(){}function WC(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HC(e,t){var n=qn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GC(e,t,n){return so&21?(yr(n,t)||(n=Xk(),tt.lanes|=n,io|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=n)}function l2(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var r=jp.transition;jp.transition={};try{e(!1),t()}finally{De=n,jp.transition=r}}function KC(){return qn().memoizedState}function c2(e,t,n){var r=ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JC(e))YC(t,n);else if(n=PC(e,t,n,r),n!==null){var s=Xt();mr(n,e,r,s),QC(n,t,r)}}function u2(e,t,n){var r=ti(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JC(e))YC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,yr(a,o)){var l=t.interleaved;l===null?(s.next=s,Ky(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=PC(e,t,s,r),n!==null&&(s=Xt(),mr(n,e,r,s),QC(n,t,r))}}function JC(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function YC(e,t){zl=sh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function QC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iy(e,n)}}var ih={readContext:zn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},d2={readContext:zn,useCallback:function(e,t){return Cr().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:cx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yd(4194308,4,zC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yd(4194308,4,e,t)},useInsertionEffect:function(e,t){return yd(4,2,e,t)},useMemo:function(e,t){var n=Cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=c2.bind(null,tt,e),[r.memoizedState,e]},useRef:function(e){var t=Cr();return e={current:e},t.memoizedState=e},useState:lx,useDebugValue:rw,useDeferredValue:function(e){return Cr().memoizedState=e},useTransition:function(){var e=lx(!1),t=e[0];return e=l2.bind(null,e[1]),Cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tt,s=Cr();if(Ye){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Et===null)throw Error(G(349));so&30||MC(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,cx(LC.bind(null,r,i,e),[e]),r.flags|=2048,vc(9,DC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Cr(),t=Et.identifierPrefix;if(Ye){var n=is,r=ss;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=a2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h2={readContext:zn,useCallback:WC,useContext:zn,useEffect:nw,useImperativeHandle:qC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:HC,useReducer:Ap,useRef:VC,useState:function(){return Ap(gc)},useDebugValue:rw,useDeferredValue:function(e){var t=qn();return GC(t,yt.memoizedState,e)},useTransition:function(){var e=Ap(gc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:RC,useSyncExternalStore:IC,useId:KC,unstable_isNewReconciler:!1},f2={readContext:zn,useCallback:WC,useContext:zn,useEffect:nw,useImperativeHandle:qC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:HC,useReducer:Pp,useRef:VC,useState:function(){return Pp(gc)},useDebugValue:rw,useDeferredValue:function(e){var t=qn();return yt===null?t.memoizedState=e:GC(t,yt.memoizedState,e)},useTransition:function(){var e=Pp(gc)[0],t=qn().memoizedState;return[e,t]},useMutableSource:RC,useSyncExternalStore:IC,useId:KC,unstable_isNewReconciler:!1};function or(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tf={isMounted:function(e){return(e=e._reactInternals)?vo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xt(),s=ti(e),i=ls(r,s);i.payload=t,n!=null&&(i.callback=n),t=Zs(e,i,s),t!==null&&(mr(t,e,s,r),gd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xt(),s=ti(e),i=ls(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Zs(e,i,s),t!==null&&(mr(t,e,s,r),gd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xt(),r=ti(e),s=ls(n,r);s.tag=2,t!=null&&(s.callback=t),t=Zs(e,s,r),t!==null&&(mr(t,e,r,n),gd(t,e,r))}};function ux(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!cc(n,r)||!cc(s,i):!0}function XC(e,t,n){var r=!1,s=oi,i=t.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=un(t)?no:Bt.current,r=t.contextTypes,i=(r=r!=null)?Ta(e,s):oi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tf.enqueueReplaceState(t,t.state,null)}function xg(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Jy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=un(t)?no:Bt.current,s.context=Ta(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bg(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&tf.enqueueReplaceState(s,s.state,null),nh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Na(e,t){try{var n="",r=t;do n+=UD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Np(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p2=typeof WeakMap=="function"?WeakMap:Map;function ZC(e,t,n){n=ls(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ah||(ah=!0,Og=r),Sg(e,t)},n}function eT(e,t,n){n=ls(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Sg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sg(e,t),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new p2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=j2.bind(null,e,t,n),t.then(e,e))}function fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function px(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ls(-1,1),t.tag=2,Zs(n,t,1))),n.lanes|=1),e)}var m2=vs.ReactCurrentOwner,ln=!1;function Ht(e,t,n,r){t.child=e===null?AC(t,null,n,r):Aa(t,e.child,n,r)}function mx(e,t,n,r,s){n=n.render;var i=t.ref;return oa(t,s),r=ew(e,t,n,r,i,s),n=tw(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fs(e,t,s)):(Ye&&n&&By(t),t.flags|=1,Ht(e,t,r,s),t.child)}function gx(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!dw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,tT(e,t,i,r,s)):(e=Sd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:cc,n(o,r)&&e.ref===t.ref)return fs(e,t,s)}return t.flags|=1,e=ni(i,r),e.ref=t.ref,e.return=t,t.child=e}function tT(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(cc(i,r)&&e.ref===t.ref)if(ln=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,fs(e,t,s)}return _g(e,t,n,r,s)}function nT(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Jo,gn),gn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(Jo,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(Jo,gn),gn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ze(Jo,gn),gn|=r;return Ht(e,t,s,n),t.child}function rT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _g(e,t,n,r,s){var i=un(n)?no:Bt.current;return i=Ta(t,i),oa(t,s),n=ew(e,t,n,r,i,s),r=tw(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,fs(e,t,s)):(Ye&&r&&By(t),t.flags|=1,Ht(e,t,n,s),t.child)}function vx(e,t,n,r,s){if(un(n)){var i=!0;Qd(t)}else i=!1;if(oa(t,s),t.stateNode===null)wd(e,t),XC(t,n,r),xg(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zn(c):(c=un(n)?no:Bt.current,c=Ta(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dx(t,o,r,c),Rs=!1;var p=t.memoizedState;o.state=p,nh(t,r,o,s),l=t.memoizedState,a!==r||p!==l||cn.current||Rs?(typeof d=="function"&&(bg(t,n,d,r),l=t.memoizedState),(a=Rs||ux(t,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,NC(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:or(t.type,a),o.props=c,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=un(n)?no:Bt.current,l=Ta(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&dx(t,o,r,l),Rs=!1,p=t.memoizedState,o.state=p,nh(t,r,o,s);var b=t.memoizedState;a!==h||p!==b||cn.current||Rs?(typeof m=="function"&&(bg(t,n,m,r),b=t.memoizedState),(c=Rs||ux(t,n,c,r,p,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Eg(e,t,n,r,i,s)}function Eg(e,t,n,r,s,i){rT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&nx(t,n,!1),fs(e,t,i);r=t.stateNode,m2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Aa(t,e.child,null,i),t.child=Aa(t,null,a,i)):Ht(e,t,a,i),t.memoizedState=r.state,s&&nx(t,n,!0),t.child}function sT(e){var t=e.stateNode;t.pendingContext?tx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tx(e,t.context,!1),Yy(e,t.containerInfo)}function yx(e,t,n,r,s){return ja(),qy(s),t.flags|=256,Ht(e,t,n,r),t.child}var kg={dehydrated:null,treeContext:null,retryLane:0};function Cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function iT(e,t,n){var r=t.pendingProps,s=Ze.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Ze,s&1),e===null)return yg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sf(o,r,0,null),e=Ji(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cg(n),t.memoizedState=kg,e):sw(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return g2(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ni(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ni(a,i):(i=Ji(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Cg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=kg,r}return i=e.child,e=i.sibling,r=ni(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sw(e,t){return t=sf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ju(e,t,n,r){return r!==null&&qy(r),Aa(t,e.child,null,n),e=sw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Np(Error(G(422))),ju(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=sf({mode:"visible",children:r.children},s,0,null),i=Ji(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Aa(t,e.child,null,o),t.child.memoizedState=Cg(o),t.memoizedState=kg,i);if(!(t.mode&1))return ju(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Np(i,r,void 0),ju(e,t,o,r)}if(a=(o&e.childLanes)!==0,ln||a){if(r=Et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hs(e,s),mr(r,e,s,-1))}return uw(),r=Np(Error(G(421))),ju(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=A2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,bn=Xs(s.nextSibling),Sn=t,Ye=!0,fr=null,e!==null&&(On[Rn++]=ss,On[Rn++]=is,On[Rn++]=ro,ss=e.id,is=e.overflow,ro=t),t=sw(t,r.children),t.flags|=4096,t)}function wx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wg(e.return,t,n)}function Op(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function oT(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ht(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wx(e,n,t);else if(e.tag===19)wx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rh(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Op(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rh(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Op(t,!0,n,null,i);break;case"together":Op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),io|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function v2(e,t,n){switch(t.tag){case 3:sT(t),ja();break;case 5:OC(t);break;case 1:un(t.type)&&Qd(t);break;case 4:Yy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(eh,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?iT(e,t,n):(ze(Ze,Ze.current&1),e=fs(e,t,n),e!==null?e.sibling:null);ze(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oT(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,nT(e,t,n)}return fs(e,t,n)}var aT,Tg,lT,cT;aT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tg=function(){};lT=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Li(Lr.current);var i=null;switch(n){case"input":s=Jm(e,s),r=Jm(e,r),i=[];break;case"select":s=nt({},s,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":s=Xm(e,s),r=Xm(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jd)}eg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&He("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};cT=function(e,t,n,r){n!==r&&(t.flags|=4)};function yl(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function y2(e,t,n){var r=t.pendingProps;switch(zy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return un(t.type)&&Yd(),Dt(t),null;case 3:return r=t.stateNode,Pa(),Ge(cn),Ge(Bt),Xy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fr!==null&&(Mg(fr),fr=null))),Tg(e,t),Dt(t),null;case 5:Qy(t);var s=Li(pc.current);if(n=t.type,e!==null&&t.stateNode!=null)lT(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Dt(t),null}if(e=Li(Lr.current),Cu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rr]=t,r[hc]=i,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<jl.length;s++)He(jl[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":jb(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Pb(r,i),He("invalid",r)}eg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ku(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ku(r.textContent,a,e),s=["children",""+a]):nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":vu(r),Ab(r,i,!0);break;case"textarea":vu(r),Nb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rr]=t,e[hc]=r,aT(e,t,!1,!1),t.stateNode=e;e:{switch(o=tg(n,r),n){case"dialog":He("cancel",e),He("close",e),s=r;break;case"iframe":case"object":case"embed":He("load",e),s=r;break;case"video":case"audio":for(s=0;s<jl.length;s++)He(jl[s],e);s=r;break;case"source":He("error",e),s=r;break;case"img":case"image":case"link":He("error",e),He("load",e),s=r;break;case"details":He("toggle",e),s=r;break;case"input":jb(e,r),s=Jm(e,r),He("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=nt({},r,{value:void 0}),He("invalid",e);break;case"textarea":Pb(e,r),s=Xm(e,r),He("invalid",e);break;default:s=r}eg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Vk(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$k(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rc(e,l):typeof l=="number"&&rc(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",e):l!=null&&jy(e,i,l,o))}switch(n){case"input":vu(e),Ab(e,r,!1);break;case"textarea":vu(e),Nb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ii(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?na(e,!!r.multiple,i,!1):r.defaultValue!=null&&na(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)cT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=Li(pc.current),Li(Lr.current),Cu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rr]=t,(i=r.nodeValue!==n)&&(e=Sn,e!==null))switch(e.tag){case 3:ku(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ku(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=t,t.stateNode=r}return Dt(t),null;case 13:if(Ge(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&bn!==null&&t.mode&1&&!(t.flags&128))TC(),ja(),t.flags|=98560,i=!1;else if(i=Cu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Rr]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),i=!1}else fr!==null&&(Mg(fr),fr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?bt===0&&(bt=3):uw())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return Pa(),Tg(e,t),e===null&&uc(t.stateNode.containerInfo),Dt(t),null;case 10:return Gy(t.type._context),Dt(t),null;case 17:return un(t.type)&&Yd(),Dt(t),null;case 19:if(Ge(Ze),i=t.memoizedState,i===null)return Dt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)yl(i,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rh(e),o!==null){for(t.flags|=128,yl(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Ze,Ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&lt()>Oa&&(t.flags|=128,r=!0,yl(i,!1),t.lanes=4194304)}else{if(!r)if(e=rh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Dt(t),null}else 2*lt()-i.renderingStartTime>Oa&&n!==1073741824&&(t.flags|=128,r=!0,yl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=lt(),t.sibling=null,n=Ze.current,ze(Ze,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return cw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gn&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function w2(e,t){switch(zy(t),t.tag){case 1:return un(t.type)&&Yd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(),Ge(cn),Ge(Bt),Xy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qy(t),null;case 13:if(Ge(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ze),null;case 4:return Pa(),null;case 10:return Gy(t.type._context),null;case 22:case 23:return cw(),null;case 24:return null;default:return null}}var Au=!1,$t=!1,b2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ko(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function jg(e,t,n){try{n()}catch(r){it(e,t,r)}}var bx=!1;function x2(e,t){if(dg=Hd,e=pC(),Uy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hg={focusedElem:e,selectionRange:n},Hd=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var f=b.memoizedProps,x=b.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:or(t.type,f),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(E){it(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return b=bx,bx=!1,b}function ql(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&jg(t,n,i)}s=s.next}while(s!==r)}}function nf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ag(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uT(e){var t=e.alternate;t!==null&&(e.alternate=null,uT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[hc],delete t[mg],delete t[r2],delete t[s2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dT(e){return e.tag===5||e.tag===3||e.tag===4}function xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jd));else if(r!==4&&(e=e.child,e!==null))for(Pg(e,t,n),e=e.sibling;e!==null;)Pg(e,t,n),e=e.sibling}function Ng(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ng(e,t,n),e=e.sibling;e!==null;)Ng(e,t,n),e=e.sibling}var Pt=null,dr=!1;function _s(e,t,n){for(n=n.child;n!==null;)hT(e,t,n),n=n.sibling}function hT(e,t,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Kh,n)}catch{}switch(n.tag){case 5:$t||Ko(n,t);case 6:var r=Pt,s=dr;Pt=null,_s(e,t,n),Pt=r,dr=s,Pt!==null&&(dr?(e=Pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(dr?(e=Pt,n=n.stateNode,e.nodeType===8?kp(e.parentNode,n):e.nodeType===1&&kp(e,n),ac(e)):kp(Pt,n.stateNode));break;case 4:r=Pt,s=dr,Pt=n.stateNode.containerInfo,dr=!0,_s(e,t,n),Pt=r,dr=s;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jg(n,t,o),s=s.next}while(s!==r)}_s(e,t,n);break;case 1:if(!$t&&(Ko(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,t,a)}_s(e,t,n);break;case 21:_s(e,t,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,_s(e,t,n),$t=r):_s(e,t,n);break;default:_s(e,t,n)}}function Sx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b2),t.forEach(function(r){var s=P2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,dr=!1;break e;case 3:Pt=a.stateNode.containerInfo,dr=!0;break e;case 4:Pt=a.stateNode.containerInfo,dr=!0;break e}a=a.return}if(Pt===null)throw Error(G(160));hT(i,o,s),Pt=null,dr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){it(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fT(t,e),t=t.sibling}function fT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xn(t,e),kr(e),r&4){try{ql(3,e,e.return),nf(3,e)}catch(f){it(e,e.return,f)}try{ql(5,e,e.return)}catch(f){it(e,e.return,f)}}break;case 1:Xn(t,e),kr(e),r&512&&n!==null&&Ko(n,n.return);break;case 5:if(Xn(t,e),kr(e),r&512&&n!==null&&Ko(n,n.return),e.flags&32){var s=e.stateNode;try{rc(s,"")}catch(f){it(e,e.return,f)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Mk(s,i),tg(a,o);var c=tg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Vk(s,h):d==="dangerouslySetInnerHTML"?$k(s,h):d==="children"?rc(s,h):jy(s,d,h,c)}switch(a){case"input":Ym(s,i);break;case"textarea":Dk(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?na(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?na(s,!!i.multiple,i.defaultValue,!0):na(s,!!i.multiple,i.multiple?[]:"",!1))}s[hc]=i}catch(f){it(e,e.return,f)}}break;case 6:if(Xn(t,e),kr(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(f){it(e,e.return,f)}}break;case 3:if(Xn(t,e),kr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ac(t.containerInfo)}catch(f){it(e,e.return,f)}break;case 4:Xn(t,e),kr(e);break;case 13:Xn(t,e),kr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(aw=lt())),r&4&&Sx(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($t=(c=$t)||d,Xn(t,e),$t=c):Xn(t,e),kr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(h=ne=d;ne!==null;){switch(p=ne,m=p.child,p.tag){case 0:case 11:case 14:case 15:ql(4,p,p.return);break;case 1:Ko(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(f){it(r,n,f)}}break;case 5:Ko(p,p.return);break;case 22:if(p.memoizedState!==null){Ex(h);continue}}m!==null?(m.return=p,ne=m):Ex(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fk("display",o))}catch(f){it(e,e.return,f)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(f){it(e,e.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(t,e),kr(e),r&4&&Sx(e);break;case 21:break;default:Xn(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dT(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rc(s,""),r.flags&=-33);var i=xx(e);Ng(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xx(e);Pg(e,a,o);break;default:throw Error(G(161))}}catch(l){it(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S2(e,t,n){ne=e,pT(e)}function pT(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Au;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||$t;a=Au;var c=$t;if(Au=o,($t=l)&&!c)for(ne=s;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?kx(s):l!==null?(l.return=o,ne=l):kx(s);for(;i!==null;)ne=i,pT(i),i=i.sibling;ne=s,Au=a,$t=c}_x(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):_x(e)}}function _x(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||nf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$t)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:or(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ax(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ax(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ac(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}$t||t.flags&512&&Ag(t)}catch(p){it(t,t.return,p)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Ex(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function kx(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nf(4,t)}catch(l){it(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){it(t,s,l)}}var i=t.return;try{Ag(t)}catch(l){it(t,i,l)}break;case 5:var o=t.return;try{Ag(t)}catch(l){it(t,o,l)}}}catch(l){it(t,t.return,l)}if(t===e){ne=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ne=a;break}ne=t.return}}var _2=Math.ceil,oh=vs.ReactCurrentDispatcher,iw=vs.ReactCurrentOwner,Vn=vs.ReactCurrentBatchConfig,Pe=0,Et=null,ft=null,Ot=0,gn=0,Jo=pi(0),bt=0,yc=null,io=0,rf=0,ow=0,Wl=null,on=null,aw=0,Oa=1/0,Xr=null,ah=!1,Og=null,ei=null,Pu=!1,Hs=null,lh=0,Hl=0,Rg=null,bd=-1,xd=0;function Xt(){return Pe&6?lt():bd!==-1?bd:bd=lt()}function ti(e){return e.mode&1?Pe&2&&Ot!==0?Ot&-Ot:o2.transition!==null?(xd===0&&(xd=Xk()),xd):(e=De,e!==0||(e=window.event,e=e===void 0?16:iC(e.type)),e):1}function mr(e,t,n,r){if(50<Hl)throw Hl=0,Rg=null,Error(G(185));qc(e,n,r),(!(Pe&2)||e!==Et)&&(e===Et&&(!(Pe&2)&&(rf|=n),bt===4&&Ls(e,Ot)),dn(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Oa=lt()+500,Zh&&mi()))}function dn(e,t){var n=e.callbackNode;oL(e,t);var r=Wd(e,e===Et?Ot:0);if(r===0)n!==null&&Ib(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ib(n),t===1)e.tag===0?i2(Cx.bind(null,e)):EC(Cx.bind(null,e)),t2(function(){!(Pe&6)&&mi()}),n=null;else{switch(Zk(r)){case 1:n=Ry;break;case 4:n=Yk;break;case 16:n=qd;break;case 536870912:n=Qk;break;default:n=qd}n=ST(n,mT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mT(e,t){if(bd=-1,xd=0,Pe&6)throw Error(G(327));var n=e.callbackNode;if(aa()&&e.callbackNode!==n)return null;var r=Wd(e,e===Et?Ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ch(e,r);else{t=r;var s=Pe;Pe|=2;var i=vT();(Et!==e||Ot!==t)&&(Xr=null,Oa=lt()+500,Ki(e,t));do try{C2();break}catch(a){gT(e,a)}while(!0);Hy(),oh.current=i,Pe=s,ft!==null?t=0:(Et=null,Ot=0,t=bt)}if(t!==0){if(t===2&&(s=og(e),s!==0&&(r=s,t=Ig(e,s))),t===1)throw n=yc,Ki(e,0),Ls(e,r),dn(e,lt()),n;if(t===6)Ls(e,r);else{if(s=e.current.alternate,!(r&30)&&!E2(s)&&(t=ch(e,r),t===2&&(i=og(e),i!==0&&(r=i,t=Ig(e,i))),t===1))throw n=yc,Ki(e,0),Ls(e,r),dn(e,lt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Pi(e,on,Xr);break;case 3:if(Ls(e,r),(r&130023424)===r&&(t=aw+500-lt(),10<t)){if(Wd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pg(Pi.bind(null,e,on,Xr),t);break}Pi(e,on,Xr);break;case 4:if(Ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-pr(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_2(r/1960))-r,10<r){e.timeoutHandle=pg(Pi.bind(null,e,on,Xr),r);break}Pi(e,on,Xr);break;case 5:Pi(e,on,Xr);break;default:throw Error(G(329))}}}return dn(e,lt()),e.callbackNode===n?mT.bind(null,e):null}function Ig(e,t){var n=Wl;return e.current.memoizedState.isDehydrated&&(Ki(e,t).flags|=256),e=ch(e,t),e!==2&&(t=on,on=n,t!==null&&Mg(t)),e}function Mg(e){on===null?on=e:on.push.apply(on,e)}function E2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ls(e,t){for(t&=~ow,t&=~rf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pr(t),r=1<<n;e[n]=-1,t&=~r}}function Cx(e){if(Pe&6)throw Error(G(327));aa();var t=Wd(e,0);if(!(t&1))return dn(e,lt()),null;var n=ch(e,t);if(e.tag!==0&&n===2){var r=og(e);r!==0&&(t=r,n=Ig(e,r))}if(n===1)throw n=yc,Ki(e,0),Ls(e,t),dn(e,lt()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pi(e,on,Xr),dn(e,lt()),null}function lw(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Oa=lt()+500,Zh&&mi())}}function oo(e){Hs!==null&&Hs.tag===0&&!(Pe&6)&&aa();var t=Pe;Pe|=1;var n=Vn.transition,r=De;try{if(Vn.transition=null,De=1,e)return e()}finally{De=r,Vn.transition=n,Pe=t,!(Pe&6)&&mi()}}function cw(){gn=Jo.current,Ge(Jo)}function Ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e2(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yd();break;case 3:Pa(),Ge(cn),Ge(Bt),Xy();break;case 5:Qy(r);break;case 4:Pa();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:Gy(r.type._context);break;case 22:case 23:cw()}n=n.return}if(Et=e,ft=e=ni(e.current,null),Ot=gn=t,bt=0,yc=null,ow=rf=io=0,on=Wl=null,Di!==null){for(t=0;t<Di.length;t++)if(n=Di[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Di=null}return e}function gT(e,t){do{var n=ft;try{if(Hy(),vd.current=ih,sh){for(var r=tt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sh=!1}if(so=0,St=yt=tt=null,zl=!1,mc=0,iw.current=null,n===null||n.return===null){bt=1,yc=t,ft=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=fx(o);if(m!==null){m.flags&=-257,px(m,o,a,i,t),m.mode&1&&hx(i,c,t),t=m,l=c;var b=t.updateQueue;if(b===null){var f=new Set;f.add(l),t.updateQueue=f}else b.add(l);break e}else{if(!(t&1)){hx(i,c,t),uw();break e}l=Error(G(426))}}else if(Ye&&a.mode&1){var x=fx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),px(x,o,a,i,t),qy(Na(l,a));break e}}i=l=Na(l,a),bt!==4&&(bt=2),Wl===null?Wl=[i]:Wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=ZC(i,l,t);ox(i,y);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ei===null||!ei.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=eT(i,a,t);ox(i,E);break e}}i=i.return}while(i!==null)}wT(n)}catch(C){t=C,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function vT(){var e=oh.current;return oh.current=ih,e===null?ih:e}function uw(){(bt===0||bt===3||bt===2)&&(bt=4),Et===null||!(io&268435455)&&!(rf&268435455)||Ls(Et,Ot)}function ch(e,t){var n=Pe;Pe|=2;var r=vT();(Et!==e||Ot!==t)&&(Xr=null,Ki(e,t));do try{k2();break}catch(s){gT(e,s)}while(!0);if(Hy(),Pe=n,oh.current=r,ft!==null)throw Error(G(261));return Et=null,Ot=0,bt}function k2(){for(;ft!==null;)yT(ft)}function C2(){for(;ft!==null&&!QD();)yT(ft)}function yT(e){var t=xT(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?wT(e):ft=t,iw.current=null}function wT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=w2(n,t),n!==null){n.flags&=32767,ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,ft=null;return}}else if(n=y2(n,t,gn),n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);bt===0&&(bt=5)}function Pi(e,t,n){var r=De,s=Vn.transition;try{Vn.transition=null,De=1,T2(e,t,n,r)}finally{Vn.transition=s,De=r}return null}function T2(e,t,n,r){do aa();while(Hs!==null);if(Pe&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(aL(e,i),e===Et&&(ft=Et=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pu||(Pu=!0,ST(qd,function(){return aa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=De;De=1;var a=Pe;Pe|=4,iw.current=null,x2(e,n),fT(n,e),GL(hg),Hd=!!dg,hg=dg=null,e.current=n,S2(n),XD(),Pe=a,De=o,Vn.transition=i}else e.current=n;if(Pu&&(Pu=!1,Hs=e,lh=s),i=e.pendingLanes,i===0&&(ei=null),tL(n.stateNode),dn(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ah)throw ah=!1,e=Og,Og=null,e;return lh&1&&e.tag!==0&&aa(),i=e.pendingLanes,i&1?e===Rg?Hl++:(Hl=0,Rg=e):Hl=0,mi(),null}function aa(){if(Hs!==null){var e=Zk(lh),t=Vn.transition,n=De;try{if(Vn.transition=null,De=16>e?16:e,Hs===null)var r=!1;else{if(e=Hs,Hs=null,lh=0,Pe&6)throw Error(G(331));var s=Pe;for(Pe|=4,ne=e.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:ql(8,d,i)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var p=d.sibling,m=d.return;if(uT(d),d===c){ne=null;break}if(p!==null){p.return=m,ne=p;break}ne=m}}}var b=i.alternate;if(b!==null){var f=b.child;if(f!==null){b.child=null;do{var x=f.sibling;f.sibling=null,f=x}while(f!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ql(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ne=y;break e}ne=i.return}}var w=e.current;for(ne=w;ne!==null;){o=ne;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ne=S;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nf(9,a)}}catch(C){it(a,a.return,C)}if(a===o){ne=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ne=E;break e}ne=a.return}}if(Pe=s,mi(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Kh,e)}catch{}r=!0}return r}finally{De=n,Vn.transition=t}}return!1}function Tx(e,t,n){t=Na(n,t),t=ZC(e,t,1),e=Zs(e,t,1),t=Xt(),e!==null&&(qc(e,1,t),dn(e,t))}function it(e,t,n){if(e.tag===3)Tx(e,e,n);else for(;t!==null;){if(t.tag===3){Tx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=Na(n,e),e=eT(t,e,1),t=Zs(t,e,1),e=Xt(),t!==null&&(qc(t,1,e),dn(t,e));break}}t=t.return}}function j2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xt(),e.pingedLanes|=e.suspendedLanes&n,Et===e&&(Ot&n)===n&&(bt===4||bt===3&&(Ot&130023424)===Ot&&500>lt()-aw?Ki(e,0):ow|=n),dn(e,t)}function bT(e,t){t===0&&(e.mode&1?(t=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):t=1);var n=Xt();e=hs(e,t),e!==null&&(qc(e,t,n),dn(e,n))}function A2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bT(e,n)}function P2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),bT(e,n)}var xT;xT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ln=!1,v2(e,t,n);ln=!!(e.flags&131072)}else ln=!1,Ye&&t.flags&1048576&&kC(t,Zd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wd(e,t),e=t.pendingProps;var s=Ta(t,Bt.current);oa(t,n),s=ew(null,t,r,e,s,n);var i=tw();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(r)?(i=!0,Qd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jy(t),s.updater=tf,t.stateNode=s,s._reactInternals=t,xg(t,r,e,n),t=Eg(null,t,r,!0,i,n)):(t.tag=0,Ye&&i&&By(t),Ht(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=O2(r),e=or(r,e),s){case 0:t=_g(null,t,r,e,n);break e;case 1:t=vx(null,t,r,e,n);break e;case 11:t=mx(null,t,r,e,n);break e;case 14:t=gx(null,t,r,or(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),_g(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),vx(e,t,r,s,n);case 3:e:{if(sT(t),e===null)throw Error(G(387));r=t.pendingProps,i=t.memoizedState,s=i.element,NC(e,t),nh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Na(Error(G(423)),t),t=yx(e,t,r,n,s);break e}else if(r!==s){s=Na(Error(G(424)),t),t=yx(e,t,r,n,s);break e}else for(bn=Xs(t.stateNode.containerInfo.firstChild),Sn=t,Ye=!0,fr=null,n=AC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===s){t=fs(e,t,n);break e}Ht(e,t,r,n)}t=t.child}return t;case 5:return OC(t),e===null&&yg(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,fg(r,s)?o=null:i!==null&&fg(r,i)&&(t.flags|=32),rT(e,t),Ht(e,t,o,n),t.child;case 6:return e===null&&yg(t),null;case 13:return iT(e,t,n);case 4:return Yy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Aa(t,null,r,n):Ht(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),mx(e,t,r,s,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ze(eh,r._currentValue),r._currentValue=o,i!==null)if(yr(i.value,o)){if(i.children===s.children&&!cn.current){t=fs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ls(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wg(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wg(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ht(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,oa(t,n),s=zn(s),r=r(s),t.flags|=1,Ht(e,t,r,n),t.child;case 14:return r=t.type,s=or(r,t.pendingProps),s=or(r.type,s),gx(e,t,r,s,n);case 15:return tT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),wd(e,t),t.tag=1,un(r)?(e=!0,Qd(t)):e=!1,oa(t,n),XC(t,r,s),xg(t,r,s,n),Eg(null,t,r,!0,e,n);case 19:return oT(e,t,n);case 22:return nT(e,t,n)}throw Error(G(156,t.tag))};function ST(e,t){return Jk(e,t)}function N2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,n,r){return new N2(e,t,n,r)}function dw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O2(e){if(typeof e=="function")return dw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Py)return 11;if(e===Ny)return 14}return 2}function ni(e,t){var n=e.alternate;return n===null?(n=Ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sd(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")dw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fo:return Ji(n.children,s,i,t);case Ay:o=8,s|=8;break;case Wm:return e=Ln(12,n,t,s|2),e.elementType=Wm,e.lanes=i,e;case Hm:return e=Ln(13,n,t,s),e.elementType=Hm,e.lanes=i,e;case Gm:return e=Ln(19,n,t,s),e.elementType=Gm,e.lanes=i,e;case Ok:return sf(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pk:o=10;break e;case Nk:o=9;break e;case Py:o=11;break e;case Ny:o=14;break e;case Os:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Ln(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Ji(e,t,n,r){return e=Ln(7,e,r,t),e.lanes=n,e}function sf(e,t,n,r){return e=Ln(22,e,r,t),e.elementType=Ok,e.lanes=n,e.stateNode={isHidden:!1},e}function Rp(e,t,n){return e=Ln(6,e,null,t),e.lanes=n,e}function Ip(e,t,n){return t=Ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hw(e,t,n,r,s,i,o,a,l){return e=new R2(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ln(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(i),e}function I2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _T(e){if(!e)return oi;e=e._reactInternals;e:{if(vo(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(un(n))return _C(e,n,t)}return t}function ET(e,t,n,r,s,i,o,a,l){return e=hw(n,r,!0,e,s,i,o,a,l),e.context=_T(null),n=e.current,r=Xt(),s=ti(n),i=ls(r,s),i.callback=t??null,Zs(n,i,s),e.current.lanes=s,qc(e,s,r),dn(e,r),e}function of(e,t,n,r){var s=t.current,i=Xt(),o=ti(s);return n=_T(n),t.context===null?t.context=n:t.pendingContext=n,t=ls(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zs(s,t,o),e!==null&&(mr(e,s,o,i),gd(e,s,o)),o}function uh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fw(e,t){jx(e,t),(e=e.alternate)&&jx(e,t)}function M2(){return null}var kT=typeof reportError=="function"?reportError:function(e){console.error(e)};function pw(e){this._internalRoot=e}af.prototype.render=pw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));of(e,t,null,null)};af.prototype.unmount=pw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;oo(function(){of(null,e,null,null)}),t[ds]=null}};function af(e){this._internalRoot=e}af.prototype.unstable_scheduleHydration=function(e){if(e){var t=nC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ds.length&&t!==0&&t<Ds[n].priority;n++);Ds.splice(n,0,e),n===0&&sC(e)}};function mw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ax(){}function D2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=uh(o);i.call(c)}}var o=ET(t,r,e,0,null,!1,!1,"",Ax);return e._reactRootContainer=o,e[ds]=o.current,uc(e.nodeType===8?e.parentNode:e),oo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=uh(l);a.call(c)}}var l=hw(e,0,!1,null,null,!1,!1,"",Ax);return e._reactRootContainer=l,e[ds]=l.current,uc(e.nodeType===8?e.parentNode:e),oo(function(){of(t,l,n,r)}),l}function cf(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=uh(o);a.call(l)}}of(t,o,e,s)}else o=D2(n,t,e,s,r);return uh(o)}eC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tl(t.pendingLanes);n!==0&&(Iy(t,n|1),dn(t,lt()),!(Pe&6)&&(Oa=lt()+500,mi()))}break;case 13:oo(function(){var r=hs(e,1);if(r!==null){var s=Xt();mr(r,e,1,s)}}),fw(e,1)}};My=function(e){if(e.tag===13){var t=hs(e,134217728);if(t!==null){var n=Xt();mr(t,e,134217728,n)}fw(e,134217728)}};tC=function(e){if(e.tag===13){var t=ti(e),n=hs(e,t);if(n!==null){var r=Xt();mr(n,e,t,r)}fw(e,t)}};nC=function(){return De};rC=function(e,t){var n=De;try{return De=e,t()}finally{De=n}};rg=function(e,t,n){switch(t){case"input":if(Ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Xh(r);if(!s)throw Error(G(90));Ik(r),Ym(r,s)}}}break;case"textarea":Dk(e,n);break;case"select":t=n.value,t!=null&&na(e,!!n.multiple,t,!1)}};zk=lw;qk=oo;var L2={usingClientEntryPoint:!1,Events:[Hc,zo,Xh,Uk,Bk,lw]},wl={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$2={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gk(e),e===null?null:e.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||M2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Kh=Nu.inject($2),Dr=Nu}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L2;Cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mw(t))throw Error(G(200));return I2(e,t,null,n)};Cn.createRoot=function(e,t){if(!mw(e))throw Error(G(299));var n=!1,r="",s=kT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hw(e,1,!1,null,null,n,!1,r,s),e[ds]=t.current,uc(e.nodeType===8?e.parentNode:e),new pw(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Gk(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return oo(e)};Cn.hydrate=function(e,t,n){if(!lf(t))throw Error(G(200));return cf(null,e,t,!0,n)};Cn.hydrateRoot=function(e,t,n){if(!mw(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ET(t,null,e,1,n??null,s,!1,i,o),e[ds]=t.current,uc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new af(t)};Cn.render=function(e,t,n){if(!lf(t))throw Error(G(200));return cf(null,e,t,!1,n)};Cn.unmountComponentAtNode=function(e){if(!lf(e))throw Error(G(40));return e._reactRootContainer?(oo(function(){cf(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};Cn.unstable_batchedUpdates=lw;Cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lf(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return cf(e,t,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function CT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CT)}catch(e){console.error(e)}}CT(),Ck.exports=Cn;var yo=Ck.exports;const TT=pk(yo);var jT,Px=yo;jT=Px.createRoot,Px.hydrateRoot;const F2=1,V2=1e6;let Mp=0;function U2(){return Mp=(Mp+1)%Number.MAX_SAFE_INTEGER,Mp.toString()}const Dp=new Map,Nx=e=>{if(Dp.has(e))return;const t=setTimeout(()=>{Dp.delete(e),Gl({type:"REMOVE_TOAST",toastId:e})},V2);Dp.set(e,t)},B2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,F2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Nx(n):e.toasts.forEach(r=>{Nx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},_d=[];let Ed={toasts:[]};function Gl(e){Ed=B2(Ed,e),_d.forEach(t=>{t(Ed)})}function z2({...e}){const t=U2(),n=s=>Gl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Gl({type:"DISMISS_TOAST",toastId:t});return Gl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Kc(){const[e,t]=v.useState(Ed);return v.useEffect(()=>(_d.push(t),()=>{const n=_d.indexOf(t);n>-1&&_d.splice(n,1)}),[e]),{...e,toast:z2,dismiss:n=>Gl({type:"DISMISS_TOAST",toastId:n})}}function ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ox(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AT(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Ox(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Ox(e[s],null)}}}}function Ce(...e){return v.useCallback(AT(...e),e)}function q2(e,t){const n=v.createContext(t),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Hn(e,t=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const c=h=>{var y;const{scope:p,children:m,...b}=h,f=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,x=v.useMemo(()=>b,Object.values(b));return u.jsx(f.Provider,{value:x,children:m})};c.displayName=i+"Provider";function d(h,p){var f;const m=((f=p==null?void 0:p[e])==null?void 0:f[l])||a,b=v.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,W2(s,...t)]}function W2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ra(e){const t=G2(e),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(K2);if(l){const c=l.props.children,d=a.map(h=>h===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var H2=Ra("Slot");function G2(e){const t=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=Y2(s),a=J2(i,s.props);return s.type!==v.Fragment&&(a.ref=r?AT(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PT=Symbol("radix.slottable");function NT(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=PT,t}function K2(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PT}function J2(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Y2(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function uf(e){const t=e+"CollectionProvider",[n,r]=Hn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:x,children:y}=f,w=H.useRef(null),S=H.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:S,collectionRef:w,children:y})};o.displayName=t;const a=e+"CollectionSlot",l=Ra(a),c=H.forwardRef((f,x)=>{const{scope:y,children:w}=f,S=i(a,y),E=Ce(x,S.collectionRef);return u.jsx(l,{ref:E,children:w})});c.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=Ra(d),m=H.forwardRef((f,x)=>{const{scope:y,children:w,...S}=f,E=H.useRef(null),C=Ce(x,E),T=i(d,y);return H.useEffect(()=>(T.itemMap.set(E,{ref:E,...S}),()=>void T.itemMap.delete(E))),u.jsx(p,{[h]:"",ref:C,children:w})});m.displayName=d;function b(f){const x=i(e+"CollectionConsumer",f);return H.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((T,j)=>S.indexOf(T.ref.current)-S.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},b,r]}var Q2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=Q2.reduce((e,t)=>{const n=Ra(`Primitive.${t}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function OT(e,t){e&&yo.flushSync(()=>e.dispatchEvent(t))}function wt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function X2(e,t=globalThis==null?void 0:globalThis.document){const n=wt(e);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Z2="DismissableLayer",Dg="dismissableLayer.update",e$="dismissableLayer.pointerDownOutside",t$="dismissableLayer.focusOutside",Rx,RT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=v.useContext(RT),[d,h]=v.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),b=Ce(t,j=>h(j)),f=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=f.indexOf(x),w=d?f.indexOf(d):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=y,C=r$(j=>{const N=j.target,I=[...c.branches].some(R=>R.contains(N));!E||I||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},p),T=s$(j=>{const N=j.target;[...c.branches].some(R=>R.contains(N))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},p);return X2(j=>{w===c.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},p),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Rx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Ix(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Rx)}},[d,p,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Ix())},[d,c]),v.useEffect(()=>{const j=()=>m({});return document.addEventListener(Dg,j),()=>document.removeEventListener(Dg,j)},[]),u.jsx(me.div,{...l,ref:b,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,C.onPointerDownCapture)})});Jc.displayName=Z2;var n$="DismissableLayerBranch",IT=v.forwardRef((e,t)=>{const n=v.useContext(RT),r=v.useRef(null),s=Ce(t,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(me.div,{...e,ref:s})});IT.displayName=n$;function r$(e,t=globalThis==null?void 0:globalThis.document){const n=wt(e),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){MT(e$,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function s$(e,t=globalThis==null?void 0:globalThis.document){const n=wt(e),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&MT(t$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ix(){const e=new CustomEvent(Dg);document.dispatchEvent(e)}function MT(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?OT(s,i):s.dispatchEvent(i)}var i$=Jc,o$=IT,xt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},a$="Portal",df=v.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=v.useState(!1);xt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?TT.createPortal(u.jsx(me.div,{...r,ref:t}),o):null});df.displayName=a$;function l$(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var Gn=e=>{const{present:t,children:n}=e,r=c$(t),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Ce(r.ref,u$(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Gn.displayName="Presence";function c$(e){const[t,n]=v.useState(),r=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[a,l]=l$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Ou(r.current);i.current=a==="mounted"?c:"none"},[a]),xt(()=>{const c=r.current,d=s.current;if(d!==e){const p=i.current,m=Ou(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),xt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=m=>{const f=Ou(r.current).includes(m.animationName);if(m.target===t&&f&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=m=>{m.target===t&&(i.current=Ou(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ou(e){return(e==null?void 0:e.animationName)||"none"}function u$(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var d$=ky[" useInsertionEffect ".trim().toString()]||xt;function zr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=h$({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=v.useCallback(d=>{var h;if(a){const p=f$(d)?d(e):d;p!==e&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,e,i,o]);return[l,c]}function h$({defaultProp:e,onChange:t}){const[n,r]=v.useState(e),s=v.useRef(n),i=v.useRef(t);return d$(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function f$(e){return typeof e=="function"}var DT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),p$="VisuallyHidden",hf=v.forwardRef((e,t)=>u.jsx(me.span,{...e,ref:t,style:{...DT,...e.style}}));hf.displayName=p$;var m$=hf,gw="ToastProvider",[vw,g$,v$]=uf("Toast"),[LT,PY]=Hn("Toast",[v$]),[y$,ff]=LT(gw),$T=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=v.useState(null),[c,d]=v.useState(0),h=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gw}\`. Expected non-empty \`string\`.`),u.jsx(vw.Provider,{scope:t,children:u.jsx(y$,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};$T.displayName=gw;var FT="ToastViewport",w$=["F8"],Lg="toast.viewportPause",$g="toast.viewportResume",VT=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=w$,label:s="Notifications ({hotkey})",...i}=e,o=ff(FT,n),a=g$(n),l=v.useRef(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=Ce(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const x=y=>{var S;r.length!==0&&r.every(E=>y[E]||y.code===E)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),v.useEffect(()=>{const x=l.current,y=h.current;if(b&&x&&y){const w=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(Lg);y.dispatchEvent(T),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent($g);y.dispatchEvent(T),o.isClosePausedRef.current=!1}},E=T=>{!x.contains(T.relatedTarget)&&S()},C=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",w),x.addEventListener("focusout",E),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const f=v.useCallback(({tabbingDirection:x})=>{const w=a().map(S=>{const E=S.ref.current,C=[E,...O$(E)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?w.reverse():w).flat()},[a]);return v.useEffect(()=>{const x=h.current;if(x){const y=w=>{var C,T,j;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const N=document.activeElement,I=w.shiftKey;if(w.target===x&&I){(C=c.current)==null||C.focus();return}const $=f({tabbingDirection:I?"backwards":"forwards"}),W=$.findIndex(L=>L===N);Lp($.slice(W+1))?w.preventDefault():I?(T=c.current)==null||T.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[a,f]),u.jsxs(o$,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(Fg,{ref:c,onFocusFromOutsideViewport:()=>{const x=f({tabbingDirection:"forwards"});Lp(x)}}),u.jsx(vw.Slot,{scope:n,children:u.jsx(me.ol,{tabIndex:-1,...i,ref:p})}),b&&u.jsx(Fg,{ref:d,onFocusFromOutsideViewport:()=>{const x=f({tabbingDirection:"backwards"});Lp(x)}})]})});VT.displayName=FT;var UT="ToastFocusProxy",Fg=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=ff(UT,n);return u.jsx(hf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Fg.displayName=UT;var Yc="Toast",b$="toast.swipeStart",x$="toast.swipeMove",S$="toast.swipeCancel",_$="toast.swipeEnd",BT=v.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=zr({prop:r,defaultProp:s??!0,onChange:i,caller:Yc});return u.jsx(Gn,{present:n||a,children:u.jsx(C$,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:wt(e.onPause),onResume:wt(e.onResume),onSwipeStart:ie(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(e.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ie(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(e.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});BT.displayName=Yc;var[E$,k$]=LT(Yc,{onClose(){}}),C$=v.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...b}=e,f=ff(Yc,n),[x,y]=v.useState(null),w=Ce(t,L=>y(L)),S=v.useRef(null),E=v.useRef(null),C=s||f.duration,T=v.useRef(0),j=v.useRef(C),N=v.useRef(0),{onToastAdd:I,onToastRemove:R}=f,O=wt(()=>{var J;(x==null?void 0:x.contains(document.activeElement))&&((J=f.viewport)==null||J.focus()),o()}),$=v.useCallback(L=>{!L||L===1/0||(window.clearTimeout(N.current),T.current=new Date().getTime(),N.current=window.setTimeout(O,L))},[O]);v.useEffect(()=>{const L=f.viewport;if(L){const J=()=>{$(j.current),c==null||c()},Y=()=>{const Q=new Date().getTime()-T.current;j.current=j.current-Q,window.clearTimeout(N.current),l==null||l()};return L.addEventListener(Lg,Y),L.addEventListener($g,J),()=>{L.removeEventListener(Lg,Y),L.removeEventListener($g,J)}}},[f.viewport,C,l,c,$]),v.useEffect(()=>{i&&!f.isClosePausedRef.current&&$(C)},[i,C,f.isClosePausedRef,$]),v.useEffect(()=>(I(),()=>R()),[I,R]);const W=v.useMemo(()=>x?JT(x):null,[x]);return f.viewport?u.jsxs(u.Fragment,{children:[W&&u.jsx(T$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),u.jsx(E$,{scope:n,onClose:O,children:yo.createPortal(u.jsx(vw.ItemSlot,{scope:n,children:u.jsx(i$,{asChild:!0,onEscapeKeyDown:ie(a,()=>{f.isFocusedToastEscapeKeyDownRef.current||O(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":f.swipeDirection,...b,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ie(e.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ie(e.onPointerDown,L=>{L.button===0&&(S.current={x:L.clientX,y:L.clientY})}),onPointerMove:ie(e.onPointerMove,L=>{if(!S.current)return;const J=L.clientX-S.current.x,Y=L.clientY-S.current.y,Q=!!E.current,D=["left","right"].includes(f.swipeDirection),F=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,K=D?F(0,J):0,se=D?0:F(0,Y),te=L.pointerType==="touch"?10:2,g={x:K,y:se},k={originalEvent:L,delta:g};Q?(E.current=g,Ru(x$,h,k,{discrete:!1})):Mx(g,f.swipeDirection,te)?(E.current=g,Ru(b$,d,k,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(J)>te||Math.abs(Y)>te)&&(S.current=null)}),onPointerUp:ie(e.onPointerUp,L=>{const J=E.current,Y=L.target;if(Y.hasPointerCapture(L.pointerId)&&Y.releasePointerCapture(L.pointerId),E.current=null,S.current=null,J){const Q=L.currentTarget,D={originalEvent:L,delta:J};Mx(J,f.swipeDirection,f.swipeThreshold)?Ru(_$,m,D,{discrete:!0}):Ru(S$,p,D,{discrete:!0}),Q.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),T$=e=>{const{__scopeToast:t,children:n,...r}=e,s=ff(Yc,t),[i,o]=v.useState(!1),[a,l]=v.useState(!1);return P$(()=>o(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(df,{asChild:!0,children:u.jsx(hf,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},j$="ToastTitle",zT=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(me.div,{...r,ref:t})});zT.displayName=j$;var A$="ToastDescription",qT=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(me.div,{...r,ref:t})});qT.displayName=A$;var WT="ToastAction",HT=v.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(KT,{altText:n,asChild:!0,children:u.jsx(yw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${WT}\`. Expected non-empty \`string\`.`),null)});HT.displayName=WT;var GT="ToastClose",yw=v.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=k$(GT,n);return u.jsx(KT,{asChild:!0,children:u.jsx(me.button,{type:"button",...r,ref:t,onClick:ie(e.onClick,s.onClose)})})});yw.displayName=GT;var KT=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function JT(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),N$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...JT(r))}}),t}function Ru(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?OT(s,i):s.dispatchEvent(i)}var Mx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function P$(e=()=>{}){const t=wt(e);xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function N$(e){return e.nodeType===e.ELEMENT_NODE}function O$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var R$=$T,YT=VT,QT=BT,XT=zT,ZT=qT,ej=HT,tj=yw;function nj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=nj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=nj(e))&&(r&&(r+=" "),r+=t);return r}const Dx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Lx=rj,pf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Lx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=Dx(d)||Dx(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(b=>{let[f,x]=b;return Array.isArray(x)?x.includes({...i,...a}[f]):{...i,...a}[f]===x})?[...c,h,p]:c},[]);return Lx(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...M$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:sj("lucide",s),...a},[...o.map(([c,d])=>v.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(D$,{ref:i,iconNode:t,className:sj(`lucide-${I$(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=xe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=xe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=xe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=xe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=xe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=xe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=xe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=xe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=xe("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ew="-",tF=e=>{const t=rF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Ew);return a[0]===""&&a.length!==1&&a.shift(),cj(a,t)||nF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},cj=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?cj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Ew);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Vx=/^\[(.+)\]$/,nF=e=>{if(Vx.test(e)){const t=Vx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},rF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return iF(Object.entries(e.classGroups),n).forEach(([i,o])=>{Ug(o,r,i,t)}),r},Ug=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ux(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(sF(s)){Ug(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ug(o,Ux(t,i),n,r)})})},Ux=(e,t)=>{let n=e;return t.split(Ew).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sF=e=>e.isThemeGetter,iF=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,oF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},uj="!",aF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let y=a[x];if(c===0){if(y===s&&(r||a.slice(x,x+i)===t)){l.push(a.slice(d,x)),d=x+i;continue}if(y==="/"){h=x;continue}}y==="["?c++:y==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(uj),b=m?p.substring(1):p,f=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:f}};return n?a=>n({className:a,parseClassName:o}):o},lF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},cF=e=>({cache:oF(e.cacheSize),parseClassName:aF(e),...tF(e)}),uF=/\s+/,dF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(uF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let b=!!m,f=r(b?p.substring(0,m):p);if(!f){if(!b){a=c+(a.length>0?" "+a:a);continue}if(f=r(p),!f){a=c+(a.length>0?" "+a:a);continue}b=!1}const x=lF(d).join(":"),y=h?x+uj:x,w=y+f;if(i.includes(w))continue;i.push(w);const S=s(f,b);for(let E=0;E<S.length;++E){const C=S[E];i.push(y+C)}a=c+(a.length>0?" "+a:a)}return a};function hF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=dj(t))&&(r&&(r+=" "),r+=n);return r}const dj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=dj(e[r]))&&(n&&(n+=" "),n+=t);return n};function fF(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return n=cF(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=dF(l,n);return s(l,d),d}return function(){return i(hF.apply(null,arguments))}}const We=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},hj=/^\[(?:([a-z-]+):)?(.+)\]$/i,pF=/^\d+\/\d+$/,mF=new Set(["px","full","screen"]),gF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jr=e=>la(e)||mF.has(e)||pF.test(e),Es=e=>Ya(e,"length",jF),la=e=>!!e&&!Number.isNaN(Number(e)),Fp=e=>Ya(e,"number",la),bl=e=>!!e&&Number.isInteger(Number(e)),xF=e=>e.endsWith("%")&&la(e.slice(0,-1)),Ee=e=>hj.test(e),ks=e=>gF.test(e),SF=new Set(["length","size","percentage"]),_F=e=>Ya(e,SF,fj),EF=e=>Ya(e,"position",fj),kF=new Set(["image","url"]),CF=e=>Ya(e,kF,PF),TF=e=>Ya(e,"",AF),xl=()=>!0,Ya=(e,t,n)=>{const r=hj.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},jF=e=>vF.test(e)&&!yF.test(e),fj=()=>!1,AF=e=>wF.test(e),PF=e=>bF.test(e),NF=()=>{const e=We("colors"),t=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),c=We("grayscale"),d=We("hueRotate"),h=We("invert"),p=We("gap"),m=We("gradientColorStops"),b=We("gradientColorStopPositions"),f=We("inset"),x=We("margin"),y=We("opacity"),w=We("padding"),S=We("saturate"),E=We("scale"),C=We("sepia"),T=We("skew"),j=We("space"),N=We("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ee,t],$=()=>[Ee,t],W=()=>["",Jr,Es],L=()=>["auto",la,Ee],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ee],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[la,Ee];return{cacheSize:500,separator:":",theme:{colors:[xl],spacing:[Jr,Es],blur:["none","",ks,Ee],brightness:se(),borderColor:[e],borderRadius:["none","","full",ks,Ee],borderSpacing:$(),borderWidth:W(),contrast:se(),grayscale:F(),hueRotate:se(),invert:F(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[xF,Es],inset:O(),margin:O(),opacity:se(),padding:$(),saturate:se(),scale:se(),sepia:F(),skew:se(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Ee]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bl,Ee]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",bl,Ee]}],"grid-cols":[{"grid-cols":[xl]}],"col-start-end":[{col:["auto",{span:["full",bl,Ee]},Ee]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[xl]}],"row-start-end":[{row:["auto",{span:[bl,Ee]},Ee]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fp]}],"font-family":[{font:[xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",la,Fp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jr,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jr,Es]}],"underline-offset":[{"underline-offset":["auto",Jr,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),EF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_F]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Jr,Ee]}],"outline-w":[{outline:[Jr,Es]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Jr,Es]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ks,TF]}],"shadow-color":[{shadow:[xl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ks,Ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[bl,Ee]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jr,Es,Fp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OF=fF(NF);function ae(...e){return OF(rj(e))}const RF=R$,pj=v.forwardRef(({className:e,...t},n)=>u.jsx(YT,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pj.displayName=YT.displayName;const IF=pf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mj=v.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(QT,{ref:r,className:ae(IF({variant:t}),e),...n}));mj.displayName=QT.displayName;const MF=v.forwardRef(({className:e,...t},n)=>u.jsx(ej,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));MF.displayName=ej.displayName;const gj=v.forwardRef(({className:e,...t},n)=>u.jsx(tj,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Sw,{className:"h-4 w-4"})}));gj.displayName=tj.displayName;const vj=v.forwardRef(({className:e,...t},n)=>u.jsx(XT,{ref:n,className:ae("text-sm font-semibold",e),...t}));vj.displayName=XT.displayName;const yj=v.forwardRef(({className:e,...t},n)=>u.jsx(ZT,{ref:n,className:ae("text-sm opacity-90",e),...t}));yj.displayName=ZT.displayName;function DF(){const{toasts:e}=Kc();return u.jsxs(RF,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return u.jsxs(mj,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(vj,{children:n}),r&&u.jsx(yj,{children:r})]}),s,u.jsx(gj,{})]},t)}),u.jsx(pj,{})]})}var mh=["light","dark"],kw="(prefers-color-scheme: dark)",LF=typeof window>"u",Cw=v.createContext(void 0),$F={setTheme:e=>{},themes:[]},wj=()=>{var e;return(e=v.useContext(Cw))!=null?e:$F},FF=e=>v.useContext(Cw)?e.children:v.createElement(UF,{...e}),VF=["light","dark"],UF=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=VF,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:d})=>{let[h,p]=v.useState(()=>Bx(s,o)),[m,b]=v.useState(()=>Bx(s)),f=l?Object.values(l):i,x=v.useCallback(E=>{let C=E;if(!C)return;E==="system"&&n&&(C=zx());let T=l?l[C]:C,j=t?zF():null,N=document.documentElement;if(a==="class"?(N.classList.remove(...f),T&&N.classList.add(T)):T?N.setAttribute(a,T):N.removeAttribute(a),r){let I=mh.includes(o)?o:null,R=mh.includes(C)?C:I;N.style.colorScheme=R}j==null||j()},[]),y=v.useCallback(E=>{let C=typeof E=="function"?E(E):E;p(C);try{localStorage.setItem(s,C)}catch{}},[e]),w=v.useCallback(E=>{let C=zx(E);b(C),h==="system"&&n&&!e&&x("system")},[h,e]);v.useEffect(()=>{let E=window.matchMedia(kw);return E.addListener(w),w(E),()=>E.removeListener(w)},[w]),v.useEffect(()=>{let E=C=>{if(C.key!==s)return;let T=C.newValue||o;y(T)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)},[y]),v.useEffect(()=>{x(e??h)},[e,h]);let S=v.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,y,e,m,n,i]);return v.createElement(Cw.Provider,{value:S},v.createElement(BF,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:c,attrs:f,nonce:d}),c)},BF=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?mh.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,f=!1,x=!0)=>{let y=o?o[b]:b,w=f?b+"|| ''":`'${y}'`,S="";return s&&x&&!f&&mh.includes(b)&&(S+=`d.style.colorScheme = '${b}';`),n==="class"?f||y?S+=`c.add(${w})`:S+="null":y&&(S+=`d[s](n,${w})`),S},m=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${kw}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),Bx=(e,t)=>{if(LF)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},zF=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},zx=e=>(e||(e=window.matchMedia(kw)),e.matches?"dark":"light"),qF=e=>{switch(e){case"success":return GF;case"info":return JF;case"warning":return KF;case"error":return YF;default:return null}},WF=Array(12).fill(0),HF=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},WF.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),GF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),JF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QF=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XF=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Bg=1,ZF=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Bg++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],H.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(tV(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Bg++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sn=new ZF,eV=(e,t)=>{let n=(t==null?void 0:t.id)||Bg++;return sn.addToast({title:e,...t,id:n}),n},tV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nV=eV,rV=()=>sn.toasts,sV=()=>sn.getActiveToasts();Object.assign(nV,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:rV,getToasts:sV});function iV(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}iV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Iu(e){return e.label!==void 0}var oV=3,aV="32px",lV="16px",qx=4e3,cV=356,uV=14,dV=20,hV=200;function Zn(...e){return e.filter(Boolean).join(" ")}function fV(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var pV=e=>{var t,n,r,s,i,o,a,l,c,d,h;let{invert:p,toast:m,unstyled:b,interacting:f,setHeights:x,visibleToasts:y,heights:w,index:S,toasts:E,expanded:C,removeToast:T,defaultRichColors:j,closeButton:N,style:I,cancelButtonStyle:R,actionButtonStyle:O,className:$="",descriptionClassName:W="",duration:L,position:J,gap:Y,loadingIcon:Q,expandByDefault:D,classNames:F,icons:K,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:te}=e,[g,k]=H.useState(null),[_,P]=H.useState(null),[A,M]=H.useState(!1),[U,V]=H.useState(!1),[q,X]=H.useState(!1),[ce,Me]=H.useState(!1),[ut,he]=H.useState(!1),[_e,qe]=H.useState(0),[mt,ue]=H.useState(0),re=H.useRef(m.duration||L||qx),ot=H.useRef(null),hn=H.useRef(null),hu=S===0,ip=S+1<=y,rn=m.type,xo=m.dismissible!==!1,rD=m.className||"",sD=m.descriptionClassName||"",fu=H.useMemo(()=>w.findIndex(ye=>ye.toastId===m.id)||0,[w,m.id]),iD=H.useMemo(()=>{var ye;return(ye=m.closeButton)!=null?ye:N},[m.closeButton,N]),gb=H.useMemo(()=>m.duration||L||qx,[m.duration,L]),op=H.useRef(0),So=H.useRef(0),vb=H.useRef(0),_o=H.useRef(null),[oD,aD]=J.split("-"),yb=H.useMemo(()=>w.reduce((ye,Le,Je)=>Je>=fu?ye:ye+Le.height,0),[w,fu]),wb=XF(),lD=m.invert||p,ap=rn==="loading";So.current=H.useMemo(()=>fu*Y+yb,[fu,yb]),H.useEffect(()=>{re.current=gb},[gb]),H.useEffect(()=>{M(!0)},[]),H.useEffect(()=>{let ye=hn.current;if(ye){let Le=ye.getBoundingClientRect().height;return ue(Le),x(Je=>[{toastId:m.id,height:Le,position:m.position},...Je]),()=>x(Je=>Je.filter(Jn=>Jn.toastId!==m.id))}},[x,m.id]),H.useLayoutEffect(()=>{if(!A)return;let ye=hn.current,Le=ye.style.height;ye.style.height="auto";let Je=ye.getBoundingClientRect().height;ye.style.height=Le,ue(Je),x(Jn=>Jn.find(Yn=>Yn.toastId===m.id)?Jn.map(Yn=>Yn.toastId===m.id?{...Yn,height:Je}:Yn):[{toastId:m.id,height:Je,position:m.position},...Jn])},[A,m.title,m.description,x,m.id]);let bs=H.useCallback(()=>{V(!0),qe(So.current),x(ye=>ye.filter(Le=>Le.toastId!==m.id)),setTimeout(()=>{T(m)},hV)},[m,T,x,So]);H.useEffect(()=>{if(m.promise&&rn==="loading"||m.duration===1/0||m.type==="loading")return;let ye;return C||f||te&&wb?(()=>{if(vb.current<op.current){let Le=new Date().getTime()-op.current;re.current=re.current-Le}vb.current=new Date().getTime()})():re.current!==1/0&&(op.current=new Date().getTime(),ye=setTimeout(()=>{var Le;(Le=m.onAutoClose)==null||Le.call(m,m),bs()},re.current)),()=>clearTimeout(ye)},[C,f,m,rn,te,wb,bs]),H.useEffect(()=>{m.delete&&bs()},[bs,m.delete]);function cD(){var ye,Le,Je;return K!=null&&K.loading?H.createElement("div",{className:Zn(F==null?void 0:F.loader,(ye=m==null?void 0:m.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":rn==="loading"},K.loading):Q?H.createElement("div",{className:Zn(F==null?void 0:F.loader,(Le=m==null?void 0:m.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":rn==="loading"},Q):H.createElement(HF,{className:Zn(F==null?void 0:F.loader,(Je=m==null?void 0:m.classNames)==null?void 0:Je.loader),visible:rn==="loading"})}return H.createElement("li",{tabIndex:0,ref:hn,className:Zn($,rD,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[rn],(n=m==null?void 0:m.classNames)==null?void 0:n[rn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":A,"data-promise":!!m.promise,"data-swiped":ut,"data-removed":U,"data-visible":ip,"data-y-position":oD,"data-x-position":aD,"data-index":S,"data-front":hu,"data-swiping":q,"data-dismissible":xo,"data-type":rn,"data-invert":lD,"data-swipe-out":ce,"data-swipe-direction":_,"data-expanded":!!(C||D&&A),style:{"--index":S,"--toasts-before":S,"--z-index":E.length-S,"--offset":`${U?_e:So.current}px`,"--initial-height":D?"auto":`${mt}px`,...I,...m.style},onDragEnd:()=>{X(!1),k(null),_o.current=null},onPointerDown:ye=>{ap||!xo||(ot.current=new Date,qe(So.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(X(!0),_o.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Le,Je,Jn;if(ce||!xo)return;_o.current=null;let Yn=Number(((ye=hn.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xs=Number(((Le=hn.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xi=new Date().getTime()-((Je=ot.current)==null?void 0:Je.getTime()),Qn=g==="x"?Yn:xs,Ss=Math.abs(Qn)/xi;if(Math.abs(Qn)>=dV||Ss>.11){qe(So.current),(Jn=m.onDismiss)==null||Jn.call(m,m),P(g==="x"?Yn>0?"right":"left":xs>0?"down":"up"),bs(),Me(!0),he(!1);return}X(!1),k(null)},onPointerMove:ye=>{var Le,Je,Jn,Yn;if(!_o.current||!xo||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;let xs=ye.clientY-_o.current.y,xi=ye.clientX-_o.current.x,Qn=(Je=e.swipeDirections)!=null?Je:fV(J);!g&&(Math.abs(xi)>1||Math.abs(xs)>1)&&k(Math.abs(xi)>Math.abs(xs)?"x":"y");let Ss={x:0,y:0};g==="y"?(Qn.includes("top")||Qn.includes("bottom"))&&(Qn.includes("top")&&xs<0||Qn.includes("bottom")&&xs>0)&&(Ss.y=xs):g==="x"&&(Qn.includes("left")||Qn.includes("right"))&&(Qn.includes("left")&&xi<0||Qn.includes("right")&&xi>0)&&(Ss.x=xi),(Math.abs(Ss.x)>0||Math.abs(Ss.y)>0)&&he(!0),(Jn=hn.current)==null||Jn.style.setProperty("--swipe-amount-x",`${Ss.x}px`),(Yn=hn.current)==null||Yn.style.setProperty("--swipe-amount-y",`${Ss.y}px`)}},iD&&!m.jsx?H.createElement("button",{"aria-label":se,"data-disabled":ap,"data-close-button":!0,onClick:ap||!xo?()=>{}:()=>{var ye;bs(),(ye=m.onDismiss)==null||ye.call(m,m)},className:Zn(F==null?void 0:F.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:QF):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,rn||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:Zn(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||cD():null,m.type!=="loading"?m.icon||(K==null?void 0:K[rn])||qF(rn):null):null,H.createElement("div",{"data-content":"",className:Zn(F==null?void 0:F.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Zn(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:Zn(W,sD,F==null?void 0:F.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Iu(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:ye=>{var Le,Je;Iu(m.cancel)&&xo&&((Je=(Le=m.cancel).onClick)==null||Je.call(Le,ye),bs())},className:Zn(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Iu(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:ye=>{var Le,Je;Iu(m.action)&&((Je=(Le=m.action).onClick)==null||Je.call(Le,ye),!ye.defaultPrevented&&bs())},className:Zn(F==null?void 0:F.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Wx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mV(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?lV:aV;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var gV=v.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:b=oV,toastOptions:f,dir:x=Wx(),gap:y=uV,loadingIcon:w,icons:S,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C}=e,[T,j]=H.useState([]),N=H.useMemo(()=>Array.from(new Set([r].concat(T.filter(te=>te.position).map(te=>te.position)))),[T,r]),[I,R]=H.useState([]),[O,$]=H.useState(!1),[W,L]=H.useState(!1),[J,Y]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=H.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=H.useRef(null),K=H.useRef(!1),se=H.useCallback(te=>{j(g=>{var k;return(k=g.find(_=>_.id===te.id))!=null&&k.delete||sn.dismiss(te.id),g.filter(({id:_})=>_!==te.id)})},[]);return H.useEffect(()=>sn.subscribe(te=>{if(te.dismiss){j(g=>g.map(k=>k.id===te.id?{...k,delete:!0}:k));return}setTimeout(()=>{TT.flushSync(()=>{j(g=>{let k=g.findIndex(_=>_.id===te.id);return k!==-1?[...g.slice(0,k),{...g[k],...te},...g.slice(k+1)]:[te,...g]})})})}),[]),H.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:g})=>{Y(g?"dark":"light")})}catch{te.addListener(({matches:k})=>{try{Y(k?"dark":"light")}catch(_){console.error(_)}})}},[d]),H.useEffect(()=>{T.length<=1&&$(!1)},[T]),H.useEffect(()=>{let te=g=>{var k,_;s.every(P=>g[P]||g.code===P)&&($(!0),(k=Q.current)==null||k.focus()),g.code==="Escape"&&(document.activeElement===Q.current||(_=Q.current)!=null&&_.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[s]),H.useEffect(()=>{if(Q.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,K.current=!1)}},[Q.current]),H.createElement("section",{ref:t,"aria-label":`${E} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((te,g)=>{var k;let[_,P]=te.split("-");return T.length?H.createElement("ol",{key:te,dir:x==="auto"?Wx():x,tabIndex:-1,ref:Q,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":_,"data-lifted":O&&T.length>1&&!i,"data-x-position":P,style:{"--front-toast-height":`${((k=I[0])==null?void 0:k.height)||0}px`,"--width":`${cV}px`,"--gap":`${y}px`,...m,...mV(l,c)},onBlur:A=>{K.current&&!A.currentTarget.contains(A.relatedTarget)&&(K.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||K.current||(K.current=!0,F.current=A.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{W||$(!1)},onDragEnd:()=>$(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},T.filter(A=>!A.position&&g===0||A.position===te).map((A,M)=>{var U,V;return H.createElement(pV,{key:A.id,icons:S,index:M,toast:A,defaultRichColors:h,duration:(U=f==null?void 0:f.duration)!=null?U:p,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:n,visibleToasts:b,closeButton:(V=f==null?void 0:f.closeButton)!=null?V:o,interacting:W,position:te,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:se,toasts:T.filter(q=>q.position==A.position),heights:I.filter(q=>q.position==A.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const vV=({...e})=>{const{theme:t="system"}=wj();return u.jsx(gV,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var yV=ky[" useId ".trim().toString()]||(()=>{}),wV=0;function gr(e){const[t,n]=v.useState(yV());return xt(()=>{n(r=>r??String(wV++))},[e]),t?`radix-${t}`:""}const bV=["top","right","bottom","left"],ai=Math.min,vn=Math.max,gh=Math.round,Mu=Math.floor,$r=e=>({x:e,y:e}),xV={left:"right",right:"left",bottom:"top",top:"bottom"},SV={start:"end",end:"start"};function zg(e,t,n){return vn(e,ai(t,n))}function ps(e,t){return typeof e=="function"?e(t):e}function ms(e){return e.split("-")[0]}function Qa(e){return e.split("-")[1]}function Tw(e){return e==="x"?"y":"x"}function jw(e){return e==="y"?"height":"width"}const _V=new Set(["top","bottom"]);function Mr(e){return _V.has(ms(e))?"y":"x"}function Aw(e){return Tw(Mr(e))}function EV(e,t,n){n===void 0&&(n=!1);const r=Qa(e),s=Aw(e),i=jw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=vh(o)),[o,vh(o)]}function kV(e){const t=vh(e);return[qg(e),t,qg(t)]}function qg(e){return e.replace(/start|end/g,t=>SV[t])}const Hx=["left","right"],Gx=["right","left"],CV=["top","bottom"],TV=["bottom","top"];function jV(e,t,n){switch(e){case"top":case"bottom":return n?t?Gx:Hx:t?Hx:Gx;case"left":case"right":return t?CV:TV;default:return[]}}function AV(e,t,n,r){const s=Qa(e);let i=jV(ms(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(qg)))),i}function vh(e){return e.replace(/left|right|bottom|top/g,t=>xV[t])}function PV(e){return{top:0,right:0,bottom:0,left:0,...e}}function bj(e){return typeof e!="number"?PV(e):{top:e,right:e,bottom:e,left:e}}function yh(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Kx(e,t,n){let{reference:r,floating:s}=e;const i=Mr(t),o=Aw(t),a=jw(o),l=ms(t),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Qa(t)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const NV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Kx(c,r,l),p=r,m={},b=0;for(let f=0;f<a.length;f++){const{name:x,fn:y}=a[f],{x:w,y:S,data:E,reset:C}=await y({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:e,floating:t}});d=w??d,h=S??h,m={...m,[x]:{...m[x],...E}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):C.rects),{x:d,y:h}=Kx(c,p,l)),f=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function bc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=ps(t,e),b=bj(m),x=a[p?h==="floating"?"reference":"floating":h],y=yh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},C=yh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(y.top-C.top+b.top)/E.y,bottom:(C.bottom-y.bottom+b.bottom)/E.y,left:(y.left-C.left+b.left)/E.x,right:(C.right-y.right+b.right)/E.x}}const OV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=ps(e,t)||{};if(c==null)return{};const h=bj(d),p={x:n,y:r},m=Aw(s),b=jw(m),f=await o.getDimensions(c),x=m==="y",y=x?"top":"left",w=x?"bottom":"right",S=x?"clientHeight":"clientWidth",E=i.reference[b]+i.reference[m]-p[m]-i.floating[b],C=p[m]-i.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let j=T?T[S]:0;(!j||!await(o.isElement==null?void 0:o.isElement(T)))&&(j=a.floating[S]||i.floating[b]);const N=E/2-C/2,I=j/2-f[b]/2-1,R=ai(h[y],I),O=ai(h[w],I),$=R,W=j-f[b]-O,L=j/2-f[b]/2+N,J=zg($,L,W),Y=!l.arrow&&Qa(s)!=null&&L!==J&&i.reference[b]/2-(L<$?R:O)-f[b]/2<0,Q=Y?L<$?L-$:L-W:0;return{[m]:p[m]+Q,data:{[m]:J,centerOffset:L-J-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),RV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:f=!0,...x}=ps(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=ms(s),w=Mr(a),S=ms(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(S||!f?[vh(a)]:kV(a)),T=b!=="none";!p&&T&&C.push(...AV(a,f,b,E));const j=[a,...C],N=await bc(t,x),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(N[y]),h){const L=EV(s,o,E);I.push(N[L[0]],N[L[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(L=>L<=0)){var O,$;const L=(((O=i.flip)==null?void 0:O.index)||0)+1,J=j[L];if(J&&(!(h==="alignment"?w!==Mr(J):!1)||R.every(D=>D.overflows[0]>0&&Mr(D.placement)===w)))return{data:{index:L,overflows:R},reset:{placement:J}};let Y=($=R.filter(Q=>Q.overflows[0]<=0).sort((Q,D)=>Q.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!Y)switch(m){case"bestFit":{var W;const Q=(W=R.filter(D=>{if(T){const F=Mr(D.placement);return F===w||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:W[0];Q&&(Y=Q);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function Jx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Yx(e){return bV.some(t=>e[t]>=0)}const IV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ps(e,t);switch(r){case"referenceHidden":{const i=await bc(t,{...s,elementContext:"reference"}),o=Jx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Yx(o)}}}case"escaped":{const i=await bc(t,{...s,altBoundary:!0}),o=Jx(i,n.floating);return{data:{escapedOffsets:o,escaped:Yx(o)}}}default:return{}}}}},xj=new Set(["left","top"]);async function MV(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ms(n),a=Qa(n),l=Mr(n)==="y",c=xj.has(o)?-1:1,d=i&&l?-1:1,h=ps(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const DV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await MV(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},LV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...l}=ps(e,t),c={x:n,y:r},d=await bc(t,l),h=Mr(ms(s)),p=Tw(h);let m=c[p],b=c[h];if(i){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",w=m+d[x],S=m-d[y];m=zg(w,m,S)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=b+d[x],S=b-d[y];b=zg(w,b,S)}const f=a.fn({...t,[p]:m,[h]:b});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[p]:i,[h]:o}}}}}},$V=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ps(e,t),d={x:n,y:r},h=Mr(s),p=Tw(h);let m=d[p],b=d[h];const f=ps(a,t),x=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const S=p==="y"?"height":"width",E=i.reference[p]-i.floating[S]+x.mainAxis,C=i.reference[p]+i.reference[S]-x.mainAxis;m<E?m=E:m>C&&(m=C)}if(c){var y,w;const S=p==="y"?"width":"height",E=xj.has(ms(s)),C=i.reference[h]-i.floating[S]+(E&&((y=o.offset)==null?void 0:y[h])||0)+(E?0:x.crossAxis),T=i.reference[h]+i.reference[S]+(E?0:((w=o.offset)==null?void 0:w[h])||0)-(E?x.crossAxis:0);b<C?b=C:b>T&&(b=T)}return{[p]:m,[h]:b}}}},FV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=ps(e,t),d=await bc(t,c),h=ms(s),p=Qa(s),m=Mr(s)==="y",{width:b,height:f}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,x=p==="end"?"top":"bottom");const w=f-d.top-d.bottom,S=b-d.left-d.right,E=ai(f-d[x],w),C=ai(b-d[y],S),T=!t.middlewareData.shift;let j=E,N=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=w),T&&!p){const R=vn(d.left,0),O=vn(d.right,0),$=vn(d.top,0),W=vn(d.bottom,0);m?N=b-2*(R!==0||O!==0?R+O:vn(d.left,d.right)):j=f-2*($!==0||W!==0?$+W:vn(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:j});const I=await o.getDimensions(a.floating);return b!==I.width||f!==I.height?{reset:{rects:!0}}:{}}}};function gf(){return typeof window<"u"}function Xa(e){return Sj(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hr(e){var t;return(t=(Sj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sj(e){return gf()?e instanceof Node||e instanceof _n(e).Node:!1}function wr(e){return gf()?e instanceof Element||e instanceof _n(e).Element:!1}function qr(e){return gf()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function Qx(e){return!gf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}const VV=new Set(["inline","contents"]);function Xc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!VV.has(s)}const UV=new Set(["table","td","th"]);function BV(e){return UV.has(Xa(e))}const zV=[":popover-open",":modal"];function vf(e){return zV.some(t=>{try{return e.matches(t)}catch{return!1}})}const qV=["transform","translate","scale","rotate","perspective"],WV=["transform","translate","scale","rotate","perspective","filter"],HV=["paint","layout","strict","content"];function Pw(e){const t=Nw(),n=wr(e)?br(e):e;return qV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||WV.some(r=>(n.willChange||"").includes(r))||HV.some(r=>(n.contain||"").includes(r))}function GV(e){let t=li(e);for(;qr(t)&&!Ma(t);){if(Pw(t))return t;if(vf(t))return null;t=li(t)}return null}function Nw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const KV=new Set(["html","body","#document"]);function Ma(e){return KV.has(Xa(e))}function br(e){return _n(e).getComputedStyle(e)}function yf(e){return wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function li(e){if(Xa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qx(e)&&e.host||Hr(e);return Qx(t)?t.host:t}function _j(e){const t=li(e);return Ma(t)?e.ownerDocument?e.ownerDocument.body:e.body:qr(t)&&Xc(t)?t:_j(t)}function xc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=_j(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=_n(s);if(i){const a=Wg(o);return t.concat(o,o.visualViewport||[],Xc(s)?s:[],a&&n?xc(a):[])}return t.concat(s,xc(s,[],n))}function Wg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ej(e){const t=br(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=qr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=gh(n)!==i||gh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ow(e){return wr(e)?e:e.contextElement}function ca(e){const t=Ow(e);if(!qr(t))return $r(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Ej(t);let o=(i?gh(n.width):n.width)/r,a=(i?gh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JV=$r(0);function kj(e){const t=_n(e);return!Nw()||!t.visualViewport?JV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YV(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_n(e)?!1:t}function ao(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Ow(e);let o=$r(1);t&&(r?wr(r)&&(o=ca(r)):o=ca(e));const a=YV(i,n,r)?kj(i):$r(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=_n(i),m=r&&wr(r)?_n(r):r;let b=p,f=Wg(b);for(;f&&r&&m!==b;){const x=ca(f),y=f.getBoundingClientRect(),w=br(f),S=y.left+(f.clientLeft+parseFloat(w.paddingLeft))*x.x,E=y.top+(f.clientTop+parseFloat(w.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=S,c+=E,b=_n(f),f=Wg(b)}}return yh({width:d,height:h,x:l,y:c})}function Rw(e,t){const n=yf(e).scrollLeft;return t?t.left+n:ao(Hr(e)).left+n}function Cj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Rw(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function QV(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Hr(r),a=t?vf(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=$r(1);const d=$r(0),h=qr(r);if((h||!h&&!i)&&((Xa(r)!=="body"||Xc(o))&&(l=yf(r)),qr(r))){const m=ao(r);c=ca(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!i?Cj(o,l,!0):$r(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function XV(e){return Array.from(e.getClientRects())}function ZV(e){const t=Hr(e),n=yf(e),r=e.ownerDocument.body,s=vn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=vn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Rw(e);const a=-n.scrollTop;return br(r).direction==="rtl"&&(o+=vn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function eU(e,t){const n=_n(e),r=Hr(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Nw();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const tU=new Set(["absolute","fixed"]);function nU(e,t){const n=ao(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=qr(e)?ca(e):$r(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function Xx(e,t,n){let r;if(t==="viewport")r=eU(e,n);else if(t==="document")r=ZV(Hr(e));else if(wr(t))r=nU(t,n);else{const s=kj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return yh(r)}function Tj(e,t){const n=li(e);return n===t||!wr(n)||Ma(n)?!1:br(n).position==="fixed"||Tj(n,t)}function rU(e,t){const n=t.get(e);if(n)return n;let r=xc(e,[],!1).filter(a=>wr(a)&&Xa(a)!=="body"),s=null;const i=br(e).position==="fixed";let o=i?li(e):e;for(;wr(o)&&!Ma(o);){const a=br(o),l=Pw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&tU.has(s.position)||Xc(o)&&!l&&Tj(e,o))?r=r.filter(d=>d!==o):s=a,o=li(o)}return t.set(e,r),r}function sU(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?vf(t)?[]:rU(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=Xx(t,d,s);return c.top=vn(h.top,c.top),c.right=ai(h.right,c.right),c.bottom=ai(h.bottom,c.bottom),c.left=vn(h.left,c.left),c},Xx(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function iU(e){const{width:t,height:n}=Ej(e);return{width:t,height:n}}function oU(e,t,n){const r=qr(t),s=Hr(t),i=n==="fixed",o=ao(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=$r(0);function c(){l.x=Rw(s)}if(r||!r&&!i)if((Xa(t)!=="body"||Xc(s))&&(a=yf(t)),r){const m=ao(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Cj(s,a):$r(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Vp(e){return br(e).position==="static"}function Zx(e,t){if(!qr(e)||br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hr(e)===n&&(n=n.ownerDocument.body),n}function jj(e,t){const n=_n(e);if(vf(e))return n;if(!qr(e)){let s=li(e);for(;s&&!Ma(s);){if(wr(s)&&!Vp(s))return s;s=li(s)}return n}let r=Zx(e,t);for(;r&&BV(r)&&Vp(r);)r=Zx(r,t);return r&&Ma(r)&&Vp(r)&&!Pw(r)?n:r||GV(e)||n}const aU=async function(e){const t=this.getOffsetParent||jj,n=this.getDimensions,r=await n(e.floating);return{reference:oU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lU(e){return br(e).direction==="rtl"}const cU={convertOffsetParentRelativeRectToViewportRelativeRect:QV,getDocumentElement:Hr,getClippingRect:sU,getOffsetParent:jj,getElementRects:aU,getClientRects:XV,getDimensions:iU,getScale:ca,isElement:wr,isRTL:lU};function Aj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uU(e,t){let n=null,r;const s=Hr(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||t(),!p||!m)return;const b=Mu(h),f=Mu(s.clientWidth-(d+p)),x=Mu(s.clientHeight-(h+m)),y=Mu(d),S={rootMargin:-b+"px "+-f+"px "+-x+"px "+-y+"px",threshold:vn(0,ai(1,l))||1};let E=!0;function C(T){const j=T[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!Aj(c,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,S)}n.observe(e)}return o(!0),i}function dU(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Ow(e),d=s||i?[...c?xc(c):[],...xc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=c&&a?uU(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let b,f=l?ao(e):null;l&&x();function x(){const y=ao(e);f&&!Aj(f,y)&&n(),f=y,b=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const hU=DV,fU=LV,pU=RV,mU=FV,gU=IV,eS=OV,vU=$V,yU=(e,t,n)=>{const r=new Map,s={platform:cU,...n},i={...s.platform,_c:r};return NV(e,t,{...s,platform:i})};var wU=typeof document<"u",bU=function(){},Cd=wU?v.useLayoutEffect:bU;function wh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!wh(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!wh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Pj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tS(e,t){const n=Pj(e);return Math.round(t*n)/n}function Up(e){const t=v.useRef(e);return Cd(()=>{t.current=e}),t}function xU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,h]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=v.useState(r);wh(p,r)||m(r);const[b,f]=v.useState(null),[x,y]=v.useState(null),w=v.useCallback(D=>{D!==T.current&&(T.current=D,f(D))},[]),S=v.useCallback(D=>{D!==j.current&&(j.current=D,y(D))},[]),E=i||b,C=o||x,T=v.useRef(null),j=v.useRef(null),N=v.useRef(d),I=l!=null,R=Up(l),O=Up(s),$=Up(c),W=v.useCallback(()=>{if(!T.current||!j.current)return;const D={placement:t,strategy:n,middleware:p};O.current&&(D.platform=O.current),yU(T.current,j.current,D).then(F=>{const K={...F,isPositioned:$.current!==!1};L.current&&!wh(N.current,K)&&(N.current=K,yo.flushSync(()=>{h(K)}))})},[p,t,n,O,$]);Cd(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[c]);const L=v.useRef(!1);Cd(()=>(L.current=!0,()=>{L.current=!1}),[]),Cd(()=>{if(E&&(T.current=E),C&&(j.current=C),E&&C){if(R.current)return R.current(E,C,W);W()}},[E,C,W,R,I]);const J=v.useMemo(()=>({reference:T,floating:j,setReference:w,setFloating:S}),[w,S]),Y=v.useMemo(()=>({reference:E,floating:C}),[E,C]),Q=v.useMemo(()=>{const D={position:n,left:0,top:0};if(!Y.floating)return D;const F=tS(Y.floating,d.x),K=tS(Y.floating,d.y);return a?{...D,transform:"translate("+F+"px, "+K+"px)",...Pj(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:K}},[n,a,Y.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:W,refs:J,elements:Y,floatingStyles:Q}),[d,W,J,Y,Q])}const SU=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eS({element:r.current,padding:s}).fn(n):{}:r?eS({element:r,padding:s}).fn(n):{}}}},_U=(e,t)=>({...hU(e),options:[e,t]}),EU=(e,t)=>({...fU(e),options:[e,t]}),kU=(e,t)=>({...vU(e),options:[e,t]}),CU=(e,t)=>({...pU(e),options:[e,t]}),TU=(e,t)=>({...mU(e),options:[e,t]}),jU=(e,t)=>({...gU(e),options:[e,t]}),AU=(e,t)=>({...SU(e),options:[e,t]});var PU="Arrow",Nj=v.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return u.jsx(me.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Nj.displayName=PU;var NU=Nj;function OU(e){const[t,n]=v.useState(void 0);return xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Iw="Popper",[Oj,wf]=Hn(Iw),[RU,Rj]=Oj(Iw),Ij=e=>{const{__scopePopper:t,children:n}=e,[r,s]=v.useState(null);return u.jsx(RU,{scope:t,anchor:r,onAnchorChange:s,children:n})};Ij.displayName=Iw;var Mj="PopperAnchor",Dj=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Rj(Mj,n),o=v.useRef(null),a=Ce(t,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(me.div,{...s,ref:a})});Dj.displayName=Mj;var Mw="PopperContent",[IU,MU]=Oj(Mw),Lj=v.forwardRef((e,t)=>{var A,M,U,V,q,X;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:b,...f}=e,x=Rj(Mw,n),[y,w]=v.useState(null),S=Ce(t,ce=>w(ce)),[E,C]=v.useState(null),T=OU(E),j=(T==null?void 0:T.width)??0,N=(T==null?void 0:T.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(c)?c:[c],$=O.length>0,W={padding:R,boundary:O.filter(LU),altBoundary:$},{refs:L,floatingStyles:J,placement:Y,isPositioned:Q,middlewareData:D}=xU({strategy:"fixed",placement:I,whileElementsMounted:(...ce)=>dU(...ce,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[_U({mainAxis:s+N,alignmentAxis:o}),l&&EU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?kU():void 0,...W}),l&&CU({...W}),TU({...W,apply:({elements:ce,rects:Me,availableWidth:ut,availableHeight:he})=>{const{width:_e,height:qe}=Me.reference,mt=ce.floating.style;mt.setProperty("--radix-popper-available-width",`${ut}px`),mt.setProperty("--radix-popper-available-height",`${he}px`),mt.setProperty("--radix-popper-anchor-width",`${_e}px`),mt.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),E&&AU({element:E,padding:a}),$U({arrowWidth:j,arrowHeight:N}),p&&jU({strategy:"referenceHidden",...W})]}),[F,K]=Vj(Y),se=wt(b);xt(()=>{Q&&(se==null||se())},[Q,se]);const te=(A=D.arrow)==null?void 0:A.x,g=(M=D.arrow)==null?void 0:M.y,k=((U=D.arrow)==null?void 0:U.centerOffset)!==0,[_,P]=v.useState();return xt(()=>{y&&P(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:Q?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_,"--radix-popper-transform-origin":[(V=D.transformOrigin)==null?void 0:V.x,(q=D.transformOrigin)==null?void 0:q.y].join(" "),...((X=D.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(IU,{scope:n,placedSide:F,onArrowChange:C,arrowX:te,arrowY:g,shouldHideArrow:k,children:u.jsx(me.div,{"data-side":F,"data-align":K,...f,ref:S,style:{...f.style,animation:Q?void 0:"none"}})})})});Lj.displayName=Mw;var $j="PopperArrow",DU={top:"bottom",right:"left",bottom:"top",left:"right"},Fj=v.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=MU($j,r),o=DU[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(NU,{...s,ref:n,style:{...s.style,display:"block"}})})});Fj.displayName=$j;function LU(e){return e!==null}var $U=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:n,rects:r,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=Vj(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let b="",f="";return c==="bottom"?(b=o?h:`${p}px`,f=`${-l}px`):c==="top"?(b=o?h:`${p}px`,f=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,f=o?h:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,f=o?h:`${m}px`),{data:{x:b,y:f}}}});function Vj(e){const[t,n="center"]=e.split("-");return[t,n]}var Uj=Ij,Bj=Dj,zj=Lj,qj=Fj,[bf,OY]=Hn("Tooltip",[wf]),xf=wf(),Wj="TooltipProvider",FU=700,Hg="tooltip.open",[VU,Dw]=bf(Wj),Hj=e=>{const{__scopeTooltip:t,delayDuration:n=FU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(VU,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};Hj.displayName=Wj;var Sc="Tooltip",[UU,Sf]=bf(Sc),Gj=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=e,l=Dw(Sc,e.__scopeTooltip),c=xf(t),[d,h]=v.useState(null),p=gr(),m=v.useRef(0),b=o??l.disableHoverableContent,f=a??l.delayDuration,x=v.useRef(!1),[y,w]=zr({prop:r,defaultProp:s??!1,onChange:j=>{j?(l.onOpen(),document.dispatchEvent(new CustomEvent(Hg))):l.onClose(),i==null||i(j)},caller:Sc}),S=v.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),E=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,w(!0)},[w]),C=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w(!1)},[w]),T=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,w(!0),m.current=0},f)},[f,w]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(Uj,{...c,children:u.jsx(UU,{scope:t,contentId:p,open:y,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{l.isOpenDelayedRef.current?T():E()},[l.isOpenDelayedRef,T,E]),onTriggerLeave:v.useCallback(()=>{b?C():(window.clearTimeout(m.current),m.current=0)},[C,b]),onOpen:E,onClose:C,disableHoverableContent:b,children:n})})};Gj.displayName=Sc;var Gg="TooltipTrigger",Kj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Sf(Gg,n),i=Dw(Gg,n),o=xf(n),a=v.useRef(null),l=Ce(t,a,s.onTriggerChange),c=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(Bj,{asChild:!0,...o,children:u.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ie(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:ie(e.onBlur,s.onClose),onClick:ie(e.onClick,s.onClose)})})});Kj.displayName=Gg;var BU="TooltipPortal",[RY,zU]=bf(BU,{forceMount:void 0}),Da="TooltipContent",Jj=v.forwardRef((e,t)=>{const n=zU(Da,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Sf(Da,e.__scopeTooltip);return u.jsx(Gn,{present:r||o.open,children:o.disableHoverableContent?u.jsx(Yj,{side:s,...i,ref:t}):u.jsx(qU,{side:s,...i,ref:t})})}),qU=v.forwardRef((e,t)=>{const n=Sf(Da,e.__scopeTooltip),r=Dw(Da,e.__scopeTooltip),s=v.useRef(null),i=Ce(t,s),[o,a]=v.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=v.useCallback(()=>{a(null),h(!1)},[h]),m=v.useCallback((b,f)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},w=JU(y,x.getBoundingClientRect()),S=YU(y,w),E=QU(f.getBoundingClientRect()),C=ZU([...S,...E]);a(C),h(!0)},[h]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(l&&d){const b=x=>m(x,d),f=x=>m(x,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",f),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",f)}}},[l,d,m,p]),v.useEffect(()=>{if(o){const b=f=>{const x=f.target,y={x:f.clientX,y:f.clientY},w=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),S=!XU(y,o);w?p():S&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,p]),u.jsx(Yj,{...e,ref:i})}),[WU,HU]=bf(Sc,{isInside:!1}),GU=NT("TooltipContent"),Yj=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Sf(Da,n),c=xf(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(Hg,d),()=>document.removeEventListener(Hg,d)),[d]),v.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(zj,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(GU,{children:r}),u.jsx(WU,{scope:n,isInside:!0,children:u.jsx(m$,{id:l.contentId,role:"tooltip",children:s||r})})]})})});Jj.displayName=Da;var Qj="TooltipArrow",KU=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=xf(n);return HU(Qj,n).isInside?null:u.jsx(qj,{...s,...r,ref:t})});KU.displayName=Qj;function JU(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YU(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function QU(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function XU(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function ZU(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),e4(t)}function e4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var t4=Hj,n4=Gj,r4=Kj,Xj=Jj;const Kg=t4,Du=n4,Lu=r4,Al=v.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(Xj,{ref:r,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Al.displayName=Xj.displayName;var _f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ef=typeof window>"u"||"Deno"in globalThis;function ar(){}function s4(e,t){return typeof e=="function"?e(t):e}function i4(e){return typeof e=="number"&&e>=0&&e!==1/0}function o4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jg(e,t){return typeof e=="function"?e(t):e}function a4(e,t){return typeof e=="function"?e(t):e}function nS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Lw(o,t.options))return!1}else if(!Ec(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function rS(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(_c(t.options.mutationKey)!==_c(i))return!1}else if(!Ec(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Lw(e,t){return((t==null?void 0:t.queryKeyHashFn)||_c)(e)}function _c(e){return JSON.stringify(e,(t,n)=>Yg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ec(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ec(e[n],t[n])):!1}function Zj(e,t){if(e===t)return e;const n=sS(e)&&sS(t);if(n||Yg(e)&&Yg(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=Zj(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function sS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yg(e){if(!iS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!iS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iS(e){return Object.prototype.toString.call(e)==="[object Object]"}function l4(e){return new Promise(t=>{setTimeout(t,e)})}function c4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Zj(e,t):t}function u4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function d4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var $w=Symbol();function eA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$w?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Bi,Vs,ya,ok,h4=(ok=class extends _f{constructor(){super();Ne(this,Bi);Ne(this,Vs);Ne(this,ya);be(this,ya,t=>{if(!Ef&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Vs)||this.setEventListener(B(this,ya))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Vs))==null||t.call(this),be(this,Vs,void 0))}setEventListener(t){var n;be(this,ya,t),(n=B(this,Vs))==null||n.call(this),be(this,Vs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,Bi)!==t&&(be(this,Bi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,Bi)=="boolean"?B(this,Bi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bi=new WeakMap,Vs=new WeakMap,ya=new WeakMap,ok),tA=new h4,wa,Us,ba,ak,f4=(ak=class extends _f{constructor(){super();Ne(this,wa,!0);Ne(this,Us);Ne(this,ba);be(this,ba,t=>{if(!Ef&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Us)||this.setEventListener(B(this,ba))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Us))==null||t.call(this),be(this,Us,void 0))}setEventListener(t){var n;be(this,ba,t),(n=B(this,Us))==null||n.call(this),be(this,Us,t(this.setOnline.bind(this)))}setOnline(t){B(this,wa)!==t&&(be(this,wa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,wa)}},wa=new WeakMap,Us=new WeakMap,ba=new WeakMap,ak),bh=new f4;function p4(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function m4(e){return Math.min(1e3*2**e,3e4)}function nA(e){return(e??"online")==="online"?bh.isOnline():!0}var rA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bp(e){return e instanceof rA}function sA(e){let t=!1,n=0,r=!1,s;const i=p4(),o=f=>{var x;r||(p(new rA(f)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>tA.isFocused()&&(e.networkMode==="always"||bh.isOnline())&&e.canRun(),d=()=>nA(e.networkMode)&&e.canRun(),h=f=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,f),s==null||s(),i.resolve(f))},p=f=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,f),s==null||s(),i.reject(f))},m=()=>new Promise(f=>{var x;s=y=>{(r||c())&&f(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var f;s=void 0,r||(f=e.onContinue)==null||f.call(e)}),b=()=>{if(r)return;let f;const x=n===0?e.initialPromise:void 0;try{f=x??e.fn()}catch(y){f=Promise.reject(y)}Promise.resolve(f).then(h).catch(y=>{var T;if(r)return;const w=e.retry??(Ef?0:3),S=e.retryDelay??m4,E=typeof S=="function"?S(n,y):S,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!C){p(y);return}n++,(T=e.onFail)==null||T.call(e,n,y),l4(E).then(()=>c()?void 0:m()).then(()=>{t?p(y):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():m().then(b),i)}}var g4=e=>setTimeout(e,0);function v4(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=g4;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Kt=v4(),zi,lk,iA=(lk=class{constructor(){Ne(this,zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),i4(this.gcTime)&&be(this,zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ef?1/0:5*60*1e3))}clearGcTimeout(){B(this,zi)&&(clearTimeout(B(this,zi)),be(this,zi,void 0))}},zi=new WeakMap,lk),xa,qi,Nn,Wi,Lt,Uc,Hi,cr,Yr,ck,y4=(ck=class extends iA{constructor(t){super();Ne(this,cr);Ne(this,xa);Ne(this,qi);Ne(this,Nn);Ne(this,Wi);Ne(this,Lt);Ne(this,Uc);Ne(this,Hi);be(this,Hi,!1),be(this,Uc,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,Wi,t.client),be(this,Nn,B(this,Wi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,xa,b4(this.options)),this.state=t.state??B(this,xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...B(this,Uc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Nn).remove(this)}setData(t,n){const r=c4(this.state.data,t,this.options);return It(this,cr,Yr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){It(this,cr,Yr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,Lt))==null?void 0:r.promise;return(s=B(this,Lt))==null||s.cancel(t),n?n.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,xa))}isActive(){return this.observers.some(t=>a4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$w||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Jg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!o4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Lt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Lt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Nn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Lt)&&(B(this,Hi)?B(this,Lt).cancel({revert:!0}):B(this,Lt).cancelRetry()),this.scheduleGc()),B(this,Nn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,cr,Yr).call(this,{type:"invalidate"})}fetch(t,n){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Lt))return B(this,Lt).continueRetry(),B(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(be(this,Hi,!0),r.signal)})},i=()=>{const p=eA(this.options,n),b=(()=>{const f={client:B(this,Wi),queryKey:this.queryKey,meta:this.meta};return s(f),f})();return be(this,Hi,!1),this.options.persister?this.options.persister(p,b,this):p(b)},a=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,Wi),state:this.state,fetchFn:i};return s(p),p})();(c=this.options.behavior)==null||c.onFetch(a,this),be(this,qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&It(this,cr,Yr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var m,b,f,x;Bp(p)&&p.silent||It(this,cr,Yr).call(this,{type:"error",error:p}),Bp(p)||((b=(m=B(this,Nn).config).onError)==null||b.call(m,p,this),(x=(f=B(this,Nn).config).onSettled)==null||x.call(f,this.state.data,p,this)),this.scheduleGc()};return be(this,Lt,sA({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,b,f,x;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){l(y);return}(b=(m=B(this,Nn).config).onSuccess)==null||b.call(m,p,this),(x=(f=B(this,Nn).config).onSettled)==null||x.call(f,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{It(this,cr,Yr).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{It(this,cr,Yr).call(this,{type:"pause"})},onContinue:()=>{It(this,cr,Yr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,Lt).start()}},xa=new WeakMap,qi=new WeakMap,Nn=new WeakMap,Wi=new WeakMap,Lt=new WeakMap,Uc=new WeakMap,Hi=new WeakMap,cr=new WeakSet,Yr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...w4(r.data,this.options),fetchMeta:t.meta??null};case"success":return be(this,qi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Bp(s)&&s.revert&&B(this,qi)?{...B(this,qi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Kt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,Nn).notify({query:this,type:"updated",action:t})})},ck);function w4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function b4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ar,uk,x4=(uk=class extends _f{constructor(t={}){super();Ne(this,Ar);this.config=t,be(this,Ar,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Lw(s,n);let o=this.get(i);return o||(o=new y4({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,Ar).has(t.queryHash)||(B(this,Ar).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Ar).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Ar).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Ar).get(t)}getAll(){return[...B(this,Ar).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>nS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>nS(t,r)):n}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ar=new WeakMap,uk),Pr,Wt,Gi,Nr,Ts,dk,S4=(dk=class extends iA{constructor(t){super();Ne(this,Nr);Ne(this,Pr);Ne(this,Wt);Ne(this,Gi);this.mutationId=t.mutationId,be(this,Wt,t.mutationCache),be(this,Pr,[]),this.state=t.state||_4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Pr).includes(t)||(B(this,Pr).push(t),this.clearGcTimeout(),B(this,Wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,Pr,B(this,Pr).filter(n=>n!==t)),this.scheduleGc(),B(this,Wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Pr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Wt).remove(this))}continue(){var t;return((t=B(this,Gi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,a,l,c,d,h,p,m,b,f,x,y,w,S,E,C,T,j,N;const n=()=>{It(this,Nr,Ts).call(this,{type:"continue"})};be(this,Gi,sA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{It(this,Nr,Ts).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{It(this,Nr,Ts).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Wt).canRun(this)}));const r=this.state.status==="pending",s=!B(this,Gi).canStart();try{if(r)n();else{It(this,Nr,Ts).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=B(this,Wt).config).onMutate)==null?void 0:o.call(i,t,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));R!==this.state.context&&It(this,Nr,Ts).call(this,{type:"pending",context:R,variables:t,isPaused:s})}const I=await B(this,Gi).start();return await((d=(c=B(this,Wt).config).onSuccess)==null?void 0:d.call(c,I,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,I,t,this.state.context)),await((b=(m=B(this,Wt).config).onSettled)==null?void 0:b.call(m,I,null,this.state.variables,this.state.context,this)),await((x=(f=this.options).onSettled)==null?void 0:x.call(f,I,null,t,this.state.context)),It(this,Nr,Ts).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(y=B(this,Wt).config).onError)==null?void 0:w.call(y,I,t,this.state.context,this)),await((E=(S=this.options).onError)==null?void 0:E.call(S,I,t,this.state.context)),await((T=(C=B(this,Wt).config).onSettled)==null?void 0:T.call(C,void 0,I,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,I,t,this.state.context)),I}finally{It(this,Nr,Ts).call(this,{type:"error",error:I})}}finally{B(this,Wt).runNext(this)}}},Pr=new WeakMap,Wt=new WeakMap,Gi=new WeakMap,Nr=new WeakSet,Ts=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Kt.batch(()=>{B(this,Pr).forEach(r=>{r.onMutationUpdate(t)}),B(this,Wt).notify({mutation:this,type:"updated",action:t})})},dk);function _4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rs,ur,Bc,hk,E4=(hk=class extends _f{constructor(t={}){super();Ne(this,rs);Ne(this,ur);Ne(this,Bc);this.config=t,be(this,rs,new Set),be(this,ur,new Map),be(this,Bc,0)}build(t,n,r){const s=new S4({mutationCache:this,mutationId:++pu(this,Bc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){B(this,rs).add(t);const n=$u(t);if(typeof n=="string"){const r=B(this,ur).get(n);r?r.push(t):B(this,ur).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,rs).delete(t)){const n=$u(t);if(typeof n=="string"){const r=B(this,ur).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&B(this,ur).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=$u(t);if(typeof n=="string"){const r=B(this,ur).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=$u(t);if(typeof n=="string"){const s=(r=B(this,ur).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{B(this,rs).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,rs).clear(),B(this,ur).clear()})}getAll(){return Array.from(B(this,rs))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rS(n,r))}findAll(t={}){return this.getAll().filter(n=>rS(t,n))}notify(t){Kt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Kt.batch(()=>Promise.all(t.map(n=>n.continue().catch(ar))))}},rs=new WeakMap,ur=new WeakMap,Bc=new WeakMap,hk);function $u(e){var t;return(t=e.options.scope)==null?void 0:t.id}function oS(e){return{onFetch:(t,n)=>{var d,h,p,m,b;const r=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let f=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},y=eA(t.options,t.fetchOptions),w=async(S,E,C)=>{if(f)return Promise.reject();if(E==null&&S.pages.length)return Promise.resolve(S);const j=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:E,direction:C?"backward":"forward",meta:t.options.meta};return x(O),O})(),N=await y(j),{maxPages:I}=t.options,R=C?d4:u4;return{pages:R(S.pages,N,I),pageParams:R(S.pageParams,E,I)}};if(s&&i.length){const S=s==="backward",E=S?k4:aS,C={pages:i,pageParams:o},T=E(r,C);a=await w(C,T,S)}else{const S=e??i.length;do{const E=l===0?o[0]??r.initialPageParam:aS(r,a);if(l>0&&E==null)break;a=await w(a,E),l++}while(l<S)}return a};t.options.persister?t.fetchFn=()=>{var f,x;return(x=(f=t.options).persister)==null?void 0:x.call(f,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function aS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function k4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var rt,Bs,zs,Sa,_a,qs,Ea,ka,fk,C4=(fk=class{constructor(e={}){Ne(this,rt);Ne(this,Bs);Ne(this,zs);Ne(this,Sa);Ne(this,_a);Ne(this,qs);Ne(this,Ea);Ne(this,ka);be(this,rt,e.queryCache||new x4),be(this,Bs,e.mutationCache||new E4),be(this,zs,e.defaultOptions||{}),be(this,Sa,new Map),be(this,_a,new Map),be(this,qs,0)}mount(){pu(this,qs)._++,B(this,qs)===1&&(be(this,Ea,tA.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,rt).onFocus())})),be(this,ka,bh.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,rt).onOnline())})))}unmount(){var e,t;pu(this,qs)._--,B(this,qs)===0&&((e=B(this,Ea))==null||e.call(this),be(this,Ea,void 0),(t=B(this,ka))==null||t.call(this),be(this,ka,void 0))}isFetching(e){return B(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Bs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,rt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=B(this,rt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Jg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return B(this,rt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,rt).get(r.queryHash),i=s==null?void 0:s.state.data,o=s4(t,i);if(o!==void 0)return B(this,rt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Kt.batch(()=>B(this,rt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,rt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,rt);Kt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,rt);return Kt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Kt.batch(()=>B(this,rt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ar).catch(ar)}invalidateQueries(e,t={}){return Kt.batch(()=>(B(this,rt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Kt.batch(()=>B(this,rt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ar)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,rt).build(this,t);return n.isStaleByTime(Jg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ar).catch(ar)}fetchInfiniteQuery(e){return e.behavior=oS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ar).catch(ar)}ensureInfiniteQueryData(e){return e.behavior=oS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bh.isOnline()?B(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,rt)}getMutationCache(){return B(this,Bs)}getDefaultOptions(){return B(this,zs)}setDefaultOptions(e){be(this,zs,e)}setQueryDefaults(e,t){B(this,Sa).set(_c(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Sa).values()],n={};return t.forEach(r=>{Ec(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){B(this,_a).set(_c(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,_a).values()],n={};return t.forEach(r=>{Ec(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,zs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$w&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,zs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,rt).clear(),B(this,Bs).clear()}},rt=new WeakMap,Bs=new WeakMap,zs=new WeakMap,Sa=new WeakMap,_a=new WeakMap,qs=new WeakMap,Ea=new WeakMap,ka=new WeakMap,fk),T4=v.createContext(void 0),j4=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(T4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(this,arguments)}var Gs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gs||(Gs={}));const lS="popstate";function A4(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Qg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xh(s)}return N4(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function oA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P4(){return Math.random().toString(36).substr(2,8)}function cS(e,t){return{usr:e.state,key:e.key,idx:t}}function Qg(e,t,n,r){return n===void 0&&(n=null),kc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Za(t):t,{state:n,key:t&&t.key||r||P4()})}function xh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Za(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function N4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Gs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(kc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Gs.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:a,location:f.location,delta:y})}function p(x,y){a=Gs.Push;let w=Qg(f.location,x,y);c=d()+1;let S=cS(w,c),E=f.createHref(w);try{o.pushState(S,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&l&&l({action:a,location:f.location,delta:1})}function m(x,y){a=Gs.Replace;let w=Qg(f.location,x,y);c=d();let S=cS(w,c),E=f.createHref(w);o.replaceState(S,"",E),i&&l&&l({action:a,location:f.location,delta:0})}function b(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:xh(x);return w=w.replace(/ $/,"%20"),ct(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let f={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(lS,h),l=x,()=>{s.removeEventListener(lS,h),l=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(x){return o.go(x)}};return f}var uS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uS||(uS={}));function O4(e,t,n){return n===void 0&&(n="/"),R4(e,t,n,!1)}function R4(e,t,n,r){let s=typeof t=="string"?Za(t):t,i=Fw(s.pathname||"/",n);if(i==null)return null;let o=aA(e);I4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=W4(i);a=z4(o[l],c,r)}return a}function aA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ri([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),aA(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:U4(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of lA(i.path))s(i,o,l)}),t}function lA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=lA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function I4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:B4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const M4=/^:[\w-]+$/,D4=3,L4=2,$4=1,F4=10,V4=-2,dS=e=>e==="*";function U4(e,t){let n=e.split("/"),r=n.length;return n.some(dS)&&(r+=V4),t&&(r+=L4),n.filter(s=>!dS(s)).reduce((s,i)=>s+(M4.test(i)?D4:i===""?$4:F4),r)}function B4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function z4(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=hS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=hS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ri([i,h.pathname]),pathnameBase:J4(ri([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ri([i,h.pathnameBase]))}return o}function hS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const b=a[h];return m&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function q4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),oA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function W4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function H4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Za(e):e;return{pathname:n?n.startsWith("/")?n:G4(n,t):t,search:Y4(r),hash:Q4(s)}}function G4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vw(e,t){let n=K4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uw(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Za(e):(s=kc({},e),ct(!s.pathname||!s.pathname.includes("?"),zp("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),zp("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),zp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=H4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ri=e=>e.join("/").replace(/\/\/+/g,"/"),J4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Q4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function X4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cA=["post","put","patch","delete"];new Set(cA);const Z4=["get",...cA];new Set(Z4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(this,arguments)}const Bw=v.createContext(null),eB=v.createContext(null),gi=v.createContext(null),kf=v.createContext(null),Gr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),uA=v.createContext(null);function tB(e,t){let{relative:n}=t===void 0?{}:t;el()||ct(!1);let{basename:r,navigator:s}=v.useContext(gi),{hash:i,pathname:o,search:a}=hA(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ri([r,o])),s.createHref({pathname:l,search:a,hash:i})}function el(){return v.useContext(kf)!=null}function vi(){return el()||ct(!1),v.useContext(kf).location}function dA(e){v.useContext(gi).static||v.useLayoutEffect(e)}function tl(){let{isDataRoute:e}=v.useContext(Gr);return e?gB():nB()}function nB(){el()||ct(!1);let e=v.useContext(Bw),{basename:t,future:n,navigator:r}=v.useContext(gi),{matches:s}=v.useContext(Gr),{pathname:i}=vi(),o=JSON.stringify(Vw(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return dA(()=>{a.current=!0}),v.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Uw(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ri([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const rB=v.createContext(null);function sB(e){let t=v.useContext(Gr).outlet;return t&&v.createElement(rB.Provider,{value:e},t)}function zw(){let{matches:e}=v.useContext(Gr),t=e[e.length-1];return t?t.params:{}}function hA(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(gi),{matches:s}=v.useContext(Gr),{pathname:i}=vi(),o=JSON.stringify(Vw(s,r.v7_relativeSplatPath));return v.useMemo(()=>Uw(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function iB(e,t){return oB(e,t)}function oB(e,t,n,r){el()||ct(!1);let{navigator:s}=v.useContext(gi),{matches:i}=v.useContext(Gr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vi(),d;if(t){var h;let x=typeof t=="string"?Za(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ct(!1),d=x}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=O4(e,{pathname:m}),f=dB(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ri([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ri([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&f?v.createElement(kf.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gs.Pop}},f):f}function aB(){let e=mB(),t=X4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,null)}const lB=v.createElement(aB,null);class cB extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Gr.Provider,{value:this.props.routeContext},v.createElement(uA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uB(e){let{routeContext:t,match:n,children:r}=e,s=v.useContext(Bw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Gr.Provider,{value:t},r)}function dB(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ct(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,b=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,b=!1,f=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,f=h.route.errorElement||lB,l&&(c<0&&p===0?(b=!0,x=null):c===p&&(b=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),w=()=>{let S;return m?S=f:b?S=x:h.route.Component?S=v.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=d,v.createElement(uB,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(cB,{location:n.location,revalidation:n.revalidation,component:f,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var fA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fA||{}),Sh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sh||{});function hB(e){let t=v.useContext(Bw);return t||ct(!1),t}function fB(e){let t=v.useContext(eB);return t||ct(!1),t}function pB(e){let t=v.useContext(Gr);return t||ct(!1),t}function pA(e){let t=pB(),n=t.matches[t.matches.length-1];return n.route.id||ct(!1),n.route.id}function mB(){var e;let t=v.useContext(uA),n=fB(Sh.UseRouteError),r=pA(Sh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function gB(){let{router:e}=hB(fA.UseNavigateStable),t=pA(Sh.UseNavigateStable),n=v.useRef(!1);return dA(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Cc({fromRouteId:t},i)))},[e,t])}function vB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yB(e){let{to:t,replace:n,state:r,relative:s}=e;el()||ct(!1);let{future:i,static:o}=v.useContext(gi),{matches:a}=v.useContext(Gr),{pathname:l}=vi(),c=tl(),d=Uw(t,Vw(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function wB(e){return sB(e.context)}function pn(e){ct(!1)}function bB(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Gs.Pop,navigator:i,static:o=!1,future:a}=e;el()&&ct(!1);let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Cc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Za(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:b="default"}=r,f=v.useMemo(()=>{let x=Fw(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:b},navigationType:s}},[l,d,h,p,m,b,s]);return f==null?null:v.createElement(gi.Provider,{value:c},v.createElement(kf.Provider,{children:n,value:f}))}function fS(e){let{children:t,location:n}=e;return iB(Xg(t),n)}new Promise(()=>{});function Xg(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let i=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Xg(r.props.children,i));return}r.type!==pn&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(this,arguments)}function xB(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function SB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _B(e,t){return e.button===0&&(!t||t==="_self")&&!SB(e)}function ev(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function EB(e,t){let n=ev(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const kB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CB="6";try{window.__reactRouterVersion=CB}catch{}const TB="startTransition",pS=ky[TB];function jB(e){let{basename:t,children:n,future:r,window:s}=e,i=v.useRef();i.current==null&&(i.current=A4({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=v.useCallback(h=>{c&&pS?pS(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>vB(r),[r]),v.createElement(bB,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const AB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=v.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,p=xB(t,kB),{basename:m}=v.useContext(gi),b,f=!1;if(typeof c=="string"&&PB.test(c)&&(b=c,AB))try{let S=new URL(window.location.href),E=c.startsWith("//")?new URL(S.protocol+c):new URL(c),C=Fw(E.pathname,m);E.origin===S.origin&&C!=null?c=C+E.search+E.hash:f=!0}catch{}let x=tB(c,{relative:s}),y=NB(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function w(S){r&&r(S),S.defaultPrevented||y(S)}return v.createElement("a",Zg({},p,{href:b||x,onClick:f||i?r:w,ref:n,target:l}))});var mS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mS||(mS={}));var gS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gS||(gS={}));function NB(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=tl(),c=vi(),d=hA(e,{relative:o});return v.useCallback(h=>{if(_B(h,n)){h.preventDefault();let p=r!==void 0?r:xh(c)===xh(d);l(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function OB(e){let t=v.useRef(ev(e)),n=v.useRef(!1),r=vi(),s=v.useMemo(()=>EB(r.search,n.current?null:t.current),[r.search]),i=tl(),o=v.useCallback((a,l)=>{const c=ev(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const qw=pf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=v.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?H2:"button";return u.jsx(o,{className:ae(qw({variant:t,size:n,className:e})),ref:i,...s})});de.displayName="Button";const Ww=v.createContext({});function Hw(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Gw=typeof window<"u",mA=Gw?v.useLayoutEffect:v.useEffect,Cf=v.createContext(null);function Kw(e,t){e.indexOf(t)===-1&&e.push(t)}function Jw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wr=(e,t,n)=>n>t?t:n<e?e:n;let Tf=()=>{},La=()=>{};const gs={},gA=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function vA(e){return typeof e=="object"&&e!==null}const yA=e=>/^0[^.\s]+$/u.test(e);function Yw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Un=e=>e,RB=(e,t)=>n=>t(e(n)),Zc=(...e)=>e.reduce(RB),Tc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Qw{constructor(){this.subscriptions=[]}add(t){return Kw(this.subscriptions,t),()=>Jw(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fr=e=>e*1e3,$n=e=>e/1e3;function wA(e,t){return t?e*(1e3/t):0}const bA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,IB=1e-7,MB=12;function DB(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=bA(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>IB&&++a<MB);return o}function eu(e,t,n,r){if(e===t&&n===r)return Un;const s=i=>DB(i,0,1,e,n);return i=>i===0||i===1?i:bA(s(i),t,r)}const xA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,SA=e=>t=>1-e(1-t),_A=eu(.33,1.53,.69,.99),Xw=SA(_A),EA=xA(Xw),kA=e=>(e*=2)<1?.5*Xw(e):.5*(2-Math.pow(2,-10*(e-1))),Zw=e=>1-Math.sin(Math.acos(e)),CA=SA(Zw),TA=xA(Zw),LB=eu(.42,0,1,1),$B=eu(0,0,.58,1),jA=eu(.42,0,.58,1),FB=e=>Array.isArray(e)&&typeof e[0]!="number",AA=e=>Array.isArray(e)&&typeof e[0]=="number",vS={linear:Un,easeIn:LB,easeInOut:jA,easeOut:$B,circIn:Zw,circInOut:TA,circOut:CA,backIn:Xw,backInOut:EA,backOut:_A,anticipate:kA},VB=e=>typeof e=="string",yS=e=>{if(AA(e)){La(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return eu(t,n,r,s)}else if(VB(e))return La(vS[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),vS[e];return e},Fu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],wS={value:null,addProjectionMetrics:null};function UB(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,p=!1,m=!1)=>{const f=m&&s?n:r;return p&&o.add(h),f.has(h)||f.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&wS.value&&wS.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const BB=40;function PA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Fu.reduce((S,E)=>(S[E]=UB(i,t?E:void 0),S),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:p,render:m,postRender:b}=o,f=()=>{const S=gs.useManualTiming?s.timestamp:performance.now();n=!1,gs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,BB),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),p.process(s),m.process(s),b.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(f))},x=()=>{n=!0,r=!0,s.isProcessing||e(f)};return{schedule:Fu.reduce((S,E)=>{const C=o[E];return S[E]=(T,j=!1,N=!1)=>(n||x(),C.schedule(T,j,N)),S},{}),cancel:S=>{for(let E=0;E<Fu.length;E++)o[Fu[E]].cancel(S)},state:s,steps:o}}const{schedule:Ke,cancel:ci,state:Nt,steps:qp}=PA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let Td;function zB(){Td=void 0}const Yt={now:()=>(Td===void 0&&Yt.set(Nt.isProcessing||gs.useManualTiming?Nt.timestamp:performance.now()),Td),set:e=>{Td=e,queueMicrotask(zB)}},NA=e=>t=>typeof t=="string"&&t.startsWith(e),OA=NA("--"),qB=NA("var(--"),e0=e=>qB(e)?WB.test(e.split("/*")[0].trim()):!1,WB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function bS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const nl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jc={...nl,transform:e=>Wr(0,1,e)},Vu={...nl,default:1},Kl=e=>Math.round(e*1e5)/1e5,t0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HB(e){return e==null}const GB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,n0=(e,t)=>n=>!!(typeof n=="string"&&GB.test(n)&&n.startsWith(e)||t&&!HB(n)&&Object.prototype.hasOwnProperty.call(n,t)),RA=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(t0);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},KB=e=>Wr(0,255,e),Wp={...nl,transform:e=>Math.round(KB(e))},$i={test:n0("rgb","red"),parse:RA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wp.transform(e)+", "+Wp.transform(t)+", "+Wp.transform(n)+", "+Kl(jc.transform(r))+")"};function JB(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const tv={test:n0("#"),parse:JB,transform:$i.transform},tu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),js=tu("deg"),Vr=tu("%"),ee=tu("px"),YB=tu("vh"),QB=tu("vw"),xS={...Vr,parse:e=>Vr.parse(e)/100,transform:e=>Vr.transform(e*100)},Yo={test:n0("hsl","hue"),parse:RA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Vr.transform(Kl(t))+", "+Vr.transform(Kl(n))+", "+Kl(jc.transform(r))+")"},ht={test:e=>$i.test(e)||tv.test(e)||Yo.test(e),parse:e=>$i.test(e)?$i.parse(e):Yo.test(e)?Yo.parse(e):tv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$i.transform(e):Yo.transform(e),getAnimatableNone:e=>{const t=ht.parse(e);return t.alpha=0,ht.transform(t)}},XB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZB(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(t0))==null?void 0:t.length)||0)+(((n=e.match(XB))==null?void 0:n.length)||0)>0}const IA="number",MA="color",e3="var",t3="var(",SS="${}",n3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ac(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(n3,l=>(ht.test(l)?(r.color.push(i),s.push(MA),n.push(ht.parse(l))):l.startsWith(t3)?(r.var.push(i),s.push(e3),n.push(l)):(r.number.push(i),s.push(IA),n.push(parseFloat(l))),++i,SS)).split(SS);return{values:n,split:a,indexes:r,types:s}}function DA(e){return Ac(e).values}function LA(e){const{split:t,types:n}=Ac(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===IA?i+=Kl(s[o]):a===MA?i+=ht.transform(s[o]):i+=s[o]}return i}}const r3=e=>typeof e=="number"?0:ht.test(e)?ht.getAnimatableNone(e):e;function s3(e){const t=DA(e);return LA(e)(t.map(r3))}const ui={test:ZB,parse:DA,createTransformer:LA,getAnimatableNone:s3};function Hp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function i3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Hp(l,a,e+1/3),i=Hp(l,a,e),o=Hp(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function _h(e,t){return n=>n>0?t:e}const et=(e,t,n)=>e+(t-e)*n,Gp=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},o3=[tv,$i,Yo],a3=e=>o3.find(t=>t.test(e));function _S(e){const t=a3(e);if(Tf(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Yo&&(n=i3(n)),n}const ES=(e,t)=>{const n=_S(e),r=_S(t);if(!n||!r)return _h(e,t);const s={...n};return i=>(s.red=Gp(n.red,r.red,i),s.green=Gp(n.green,r.green,i),s.blue=Gp(n.blue,r.blue,i),s.alpha=et(n.alpha,r.alpha,i),$i.transform(s))},nv=new Set(["none","hidden"]);function l3(e,t){return nv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function c3(e,t){return n=>et(e,t,n)}function r0(e){return typeof e=="number"?c3:typeof e=="string"?e0(e)?_h:ht.test(e)?ES:h3:Array.isArray(e)?$A:typeof e=="object"?ht.test(e)?ES:u3:_h}function $A(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>r0(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function u3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=r0(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function d3(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const h3=(e,t)=>{const n=ui.createTransformer(t),r=Ac(e),s=Ac(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?nv.has(e)&&!s.values.length||nv.has(t)&&!r.values.length?l3(e,t):Zc($A(d3(r,s),s.values),n):(Tf(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),_h(e,t))};function FA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?et(e,t,n):r0(e)(e,t)}const f3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ke.update(t,n),stop:()=>ci(t),now:()=>Nt.isProcessing?Nt.timestamp:Yt.now()}},VA=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Eh=2e4;function s0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Eh;)t+=n,r=e.next(t);return t>=Eh?1/0:t}function p3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(s0(r),Eh);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:$n(s)}}const m3=5;function UA(e,t,n){const r=Math.max(t-m3,0);return wA(n-e(r),t-r)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kp=.001;function g3({duration:e=Xe.duration,bounce:t=Xe.bounce,velocity:n=Xe.velocity,mass:r=Xe.mass}){let s,i;Tf(e<=Fr(Xe.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=Wr(Xe.minDamping,Xe.maxDamping,o),e=Wr(Xe.minDuration,Xe.maxDuration,$n(e)),o<1?(s=c=>{const d=c*o,h=d*e,p=d-n,m=rv(c,o),b=Math.exp(-h);return Kp-p/m*b},i=c=>{const h=c*o*e,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-h),f=rv(Math.pow(c,2),o);return(-s(c)+Kp>0?-1:1)*((p-m)*b)/f}):(s=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-Kp+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=y3(s,i,a);if(e=Fr(e),isNaN(l))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const v3=12;function y3(e,t,n){let r=n;for(let s=1;s<v3;s++)r=r-e(r)/t(r);return r}function rv(e,t){return e*Math.sqrt(1-t*t)}const w3=["duration","bounce"],b3=["stiffness","damping","mass"];function kS(e,t){return t.some(n=>e[n]!==void 0)}function x3(e){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...e};if(!kS(e,b3)&&kS(e,w3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Wr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Xe.mass,stiffness:s,damping:i}}else{const n=g3(e);t={...t,...n,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function kh(e=Xe.visualDuration,t=Xe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=x3({...n,velocity:-$n(n.velocity||0)}),b=p||0,f=c/(2*Math.sqrt(l*d)),x=o-i,y=$n(Math.sqrt(l/d)),w=Math.abs(x)<5;r||(r=w?Xe.restSpeed.granular:Xe.restSpeed.default),s||(s=w?Xe.restDelta.granular:Xe.restDelta.default);let S;if(f<1){const C=rv(y,f);S=T=>{const j=Math.exp(-f*y*T);return o-j*((b+f*y*x)/C*Math.sin(C*T)+x*Math.cos(C*T))}}else if(f===1)S=C=>o-Math.exp(-y*C)*(x+(b+y*x)*C);else{const C=y*Math.sqrt(f*f-1);S=T=>{const j=Math.exp(-f*y*T),N=Math.min(C*T,300);return o-j*((b+f*y*x)*Math.sinh(N)+C*x*Math.cosh(N))/C}}const E={calculatedDuration:m&&h||null,next:C=>{const T=S(C);if(m)a.done=C>=h;else{let j=C===0?b:0;f<1&&(j=C===0?Fr(b):UA(S,C,T));const N=Math.abs(j)<=r,I=Math.abs(o-T)<=s;a.done=N&&I}return a.value=a.done?o:T,a},toString:()=>{const C=Math.min(s0(E),Eh),T=VA(j=>E.next(C*j).value,C,30);return C+"ms "+T},toTransition:()=>{}};return E}kh.applyToOptions=e=>{const t=p3(e,100,kh);return e.ease=t.ease,e.duration=Fr(t.duration),e.type="keyframes",e};function sv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},m=N=>a!==void 0&&N<a||l!==void 0&&N>l,b=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let f=n*t;const x=h+f,y=o===void 0?x:o(x);y!==x&&(f=y-h);const w=N=>-f*Math.exp(-N/r),S=N=>y+w(N),E=N=>{const I=w(N),R=S(N);p.done=Math.abs(I)<=c,p.value=p.done?y:R};let C,T;const j=N=>{m(p.value)&&(C=N,T=kh({keyframes:[p.value,b(p.value)],velocity:UA(S,N,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:N=>{let I=!1;return!T&&C===void 0&&(I=!0,E(N),j(N)),C!==void 0&&N>=C?T.next(N-C):(!I&&E(N),p)}}}function S3(e,t,n){const r=[],s=n||gs.mix||FA,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Un:t;a=Zc(l,a)}r.push(a)}return r}function _3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(La(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=S3(t,r,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const p=Tc(e[h],e[h+1],d);return a[h](p)};return n?d=>c(Wr(e[0],e[i-1],d)):c}function E3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Tc(0,t,r);e.push(et(n,1,s))}}function k3(e){const t=[0];return E3(t,e.length-1),t}function C3(e,t){return e.map(n=>n*t)}function T3(e,t){return e.map(()=>t||jA).splice(0,e.length-1)}function Jl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=FB(r)?r.map(yS):yS(r),i={done:!1,value:t[0]},o=C3(n&&n.length===t.length?n:k3(t),e),a=_3(o,t,{ease:Array.isArray(s)?s:T3(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const j3=e=>e!==null;function i0(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(j3),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const A3={decay:sv,inertia:sv,tween:Jl,keyframes:Jl,spring:kh};function BA(e){typeof e.type=="string"&&(e.type=A3[e.type])}class o0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const P3=e=>e/100;class a0 extends o0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Yt.now()&&this.tick(Yt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BA(t);const{type:n=Jl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Jl;l!==Jl&&typeof a[0]!="number"&&(this.mixKeyframes=Zc(P3,FA(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=s0(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:m,type:b,onUpdate:f,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,E=r;if(h){const N=Math.min(this.currentTime,s)/a;let I=Math.floor(N),R=N%1;!R&&N>=1&&(R=1),R===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(p==="reverse"?(R=1-R,m&&(R-=m/a)):p==="mirror"&&(E=o)),S=Wr(0,1,R)*a}const C=w?{done:!1,value:d[0]}:E.next(S);i&&(C.value=i(C.value));let{done:T}=C;!w&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return j&&b!==sv&&(C.value=i0(d,this.options,x,this.speed)),f&&f(C.value),j&&this.finish(),C}then(t,n){return this.finished.then(t,n)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$n(t)}get time(){return $n(this.currentTime)}set time(t){var n;t=Fr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Yt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$n(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=f3,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function N3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fi=e=>e*180/Math.PI,iv=e=>{const t=Fi(Math.atan2(e[1],e[0]));return ov(t)},O3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:iv,rotateZ:iv,skewX:e=>Fi(Math.atan(e[1])),skewY:e=>Fi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ov=e=>(e=e%360,e<0&&(e+=360),e),CS=iv,TS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),R3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TS,scaleY:jS,scale:e=>(TS(e)+jS(e))/2,rotateX:e=>ov(Fi(Math.atan2(e[6],e[5]))),rotateY:e=>ov(Fi(Math.atan2(-e[2],e[0]))),rotateZ:CS,rotate:CS,skewX:e=>Fi(Math.atan(e[4])),skewY:e=>Fi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function av(e){return e.includes("scale")?1:0}function lv(e,t){if(!e||e==="none")return av(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=R3,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=O3,s=a}if(!s)return av(t);const i=r[t],o=s[1].split(",").map(M3);return typeof i=="function"?i(o):o[i]}const I3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return lv(n,t)};function M3(e){return parseFloat(e.trim())}const rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(rl),AS=e=>e===nl||e===ee,D3=new Set(["x","y","z"]),L3=rl.filter(e=>!D3.has(e));function $3(e){const t=[];return L3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ks={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>lv(t,"x"),y:(e,{transform:t})=>lv(t,"y")};Ks.translateX=Ks.x;Ks.translateY=Ks.y;const Xi=new Set;let cv=!1,uv=!1,dv=!1;function zA(){if(uv){const e=Array.from(Xi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=$3(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uv=!1,cv=!1,Xi.forEach(e=>e.complete(dv)),Xi.clear()}function qA(){Xi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uv=!0)})}function F3(){dv=!0,qA(),zA(),dv=!1}class l0{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xi.add(this),cv||(cv=!0,Ke.read(qA),Ke.resolveKeyframes(zA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}N3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xi.delete(this)}cancel(){this.state==="scheduled"&&(Xi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const V3=e=>e.startsWith("--");function U3(e,t,n){V3(t)?e.style.setProperty(t,n):e.style[t]=n}const B3=Yw(()=>window.ScrollTimeline!==void 0),z3={};function q3(e,t){const n=Yw(e);return()=>z3[t]??n()}const WA=q3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,PS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pl([0,.65,.55,1]),circOut:Pl([.55,0,1,.45]),backIn:Pl([.31,.01,.66,-.59]),backOut:Pl([.33,1.53,.69,.99])};function HA(e,t){if(e)return typeof e=="function"?WA()?VA(e,t):"ease-out":AA(e)?Pl(e):Array.isArray(e)?e.map(n=>HA(n,t)||PS.easeOut):PS[e]}function W3(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=HA(a,s);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(d,p)}function GA(e){return typeof e=="function"&&"applyToOptions"in e}function H3({type:e,...t}){return GA(e)&&WA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class G3 extends o0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,La(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=H3(t);this.animation=W3(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=i0(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):U3(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return $n(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$n(t)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Fr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&B3()?(this.animation.timeline=t,Un):n(this)}}const KA={anticipate:kA,backInOut:EA,circInOut:TA};function K3(e){return e in KA}function J3(e){typeof e.ease=="string"&&K3(e.ease)&&(e.ease=KA[e.ease])}const Jp=10;class Y3 extends G3{constructor(t){J3(t),BA(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new a0({...o,autoplay:!1}),l=Math.max(Jp,Yt.now()-this.startTime),c=Wr(0,Jp,l-Jp);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const NS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ui.test(e)||e==="0")&&!e.startsWith("url("));function Q3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X3(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=NS(s,t),a=NS(i,t);return Tf(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:Q3(e)||(n==="spring"||GA(n))&&r}function hv(e){e.duration=0,e.type="keyframes"}const Z3=new Set(["opacity","clipPath","filter","transform"]),e5=Yw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t5(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return e5()&&n&&Z3.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const n5=40;class r5 extends o0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var b;super(),this.stop=()=>{var f,x;this._animation&&(this._animation.stop(),(f=this.stopTimeline)==null||f.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Yt.now();const p={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||l0;this.keyframeResolver=new m(a,(f,x,y)=>this.onKeyframesResolved(f,x,p,!y),l,c,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Yt.now(),X3(t,i,o,a)||((gs.instantAnimations||!l)&&(d==null||d(i0(t,r,n))),t[0]=t[t.length-1],hv(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>n5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&t5(p)?new Y3({...p,element:p.motionValue.owner.current}):new a0(p);m.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),F3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const s5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function i5(e){const t=s5.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const o5=4;function JA(e,t,n=1){La(n<=o5,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=i5(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return gA(o)?parseFloat(o):o}return e0(s)?JA(s,t,n+1):s}function c0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const YA=new Set(["width","height","top","left","right","bottom",...rl]),a5={test:e=>e==="auto",parse:e=>e},QA=e=>t=>t.test(e),XA=[nl,ee,Vr,js,QB,YB,a5],OS=e=>XA.find(QA(e));function l5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yA(e):!0}const c5=new Set(["brightness","contrast","saturate","opacity"]);function u5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(t0)||[];if(!r)return e;const s=n.replace(r,"");let i=c5.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const d5=/\b([a-z-]*)\(.*?\)/gu,fv={...ui,getAnimatableNone:e=>{const t=e.match(d5);return t?t.map(u5).join(" "):e}},RS={...nl,transform:Math.round},h5={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Vu,scaleX:Vu,scaleY:Vu,scaleZ:Vu,skew:js,skewX:js,skewY:js,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:jc,originX:xS,originY:xS,originZ:ee},u0={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,inset:ee,insetBlock:ee,insetBlockStart:ee,insetBlockEnd:ee,insetInline:ee,insetInlineStart:ee,insetInlineEnd:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,paddingBlock:ee,paddingBlockStart:ee,paddingBlockEnd:ee,paddingInline:ee,paddingInlineStart:ee,paddingInlineEnd:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,marginBlock:ee,marginBlockStart:ee,marginBlockEnd:ee,marginInline:ee,marginInlineStart:ee,marginInlineEnd:ee,backgroundPositionX:ee,backgroundPositionY:ee,...h5,zIndex:RS,fillOpacity:jc,strokeOpacity:jc,numOctaves:RS},f5={...u0,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:fv,WebkitFilter:fv},ZA=e=>f5[e];function eP(e,t){let n=ZA(e);return n!==fv&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const p5=new Set(["auto","none","0"]);function m5(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!p5.has(i)&&Ac(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=eP(n,s)}class g5 extends l0{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),e0(h))){const p=JA(h,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!YA.has(r)||t.length!==2)return;const[s,i]=t,o=OS(s),a=OS(i),l=bS(s),c=bS(i);if(l!==c&&Ks[r]){this.needsMeasurement=!0;return}if(o!==a)if(AS(o)&&AS(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Ks[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||l5(t[s]))&&r.push(s);r.length&&m5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ks[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ks[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function v5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const tP=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function nP(e){return vA(e)&&"offsetHeight"in e}const IS=30,y5=e=>!isNaN(parseFloat(e));class w5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Yt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Yt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=y5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Qw);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>IS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,IS);return wA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $a(e,t){return new w5(e,t)}const{schedule:d0,cancel:IY}=PA(queueMicrotask,!1),rr={x:!1,y:!1};function rP(){return rr.x||rr.y}function b5(e){return e==="x"||e==="y"?rr[e]?null:(rr[e]=!0,()=>{rr[e]=!1}):rr.x||rr.y?null:(rr.x=rr.y=!0,()=>{rr.x=rr.y=!1})}function sP(e,t){const n=v5(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function MS(e){return!(e.pointerType==="touch"||rP())}function x5(e,t,n={}){const[r,s,i]=sP(e,n),o=a=>{if(!MS(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{MS(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const iP=(e,t)=>t?e===t?!0:iP(e,t.parentElement):!1,h0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,S5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oP(e){return S5.has(e.tagName)||e.isContentEditable===!0}const jd=new WeakSet;function DS(e){return t=>{t.key==="Enter"&&e(t)}}function Yp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _5=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=DS(()=>{if(jd.has(n))return;Yp(n,"down");const s=DS(()=>{Yp(n,"up")}),i=()=>Yp(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function LS(e){return h0(e)&&!rP()}function E5(e,t,n={}){const[r,s,i]=sP(e,n),o=a=>{const l=a.currentTarget;if(!LS(a))return;jd.add(l);const c=t(l,a),d=(m,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),jd.has(l)&&jd.delete(l),LS(m)&&typeof c=="function"&&c(m,{success:b})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||iP(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),nP(a)&&(a.addEventListener("focus",c=>_5(c,s)),!oP(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function aP(e){return vA(e)&&"ownerSVGElement"in e}function k5(e){return aP(e)&&e.tagName==="svg"}const Vt=e=>!!(e&&e.getVelocity),C5=[...XA,ht,ui],T5=e=>C5.find(QA(e)),f0=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function $S(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function j5(...e){return t=>{let n=!1;const r=e.map(s=>{const i=$S(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$S(e[s],null)}}}}function A5(...e){return v.useCallback(j5(...e),e)}class P5 extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=nP(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N5({children:e,isPresent:t,anchorX:n,root:r}){var d;const s=v.useId(),i=v.useRef(null),o=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=v.useContext(f0),l=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),c=A5(i,l);return v.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:b,right:f}=o.current;if(t||!i.current||!h||!p)return;const x=n==="left"?`left: ${b}`:`right: ${f}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),u.jsx(P5,{isPresent:t,childRef:i,sizeRef:o,children:v.cloneElement(e,{ref:c})})}const O5=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Hw(R5),d=v.useId();let h=!0,p=v.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const b of c.values())if(!b)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(p={...p}),v.useMemo(()=>{c.forEach((m,b)=>c.set(b,!1))},[n]),v.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(N5,{isPresent:n,anchorX:a,root:l,children:e})),u.jsx(Cf.Provider,{value:p,children:e})};function R5(){return new Map}function lP(e=!0){const t=v.useContext(Cf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=v.useId();v.useEffect(()=>{if(e)return s(i)},[e]);const o=v.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Uu=e=>e.key||"";function FS(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const Fa=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=lP(o),h=v.useMemo(()=>FS(e),[e]),p=o&&!c?[]:h.map(Uu),m=v.useRef(!0),b=v.useRef(h),f=Hw(()=>new Map),x=v.useRef(new Set),[y,w]=v.useState(h),[S,E]=v.useState(h);mA(()=>{m.current=!1,b.current=h;for(let j=0;j<S.length;j++){const N=Uu(S[j]);p.includes(N)?(f.delete(N),x.current.delete(N)):f.get(N)!==!0&&f.set(N,!1)}},[S,p.length,p.join("-")]);const C=[];if(h!==y){let j=[...h];for(let N=0;N<S.length;N++){const I=S[N],R=Uu(I);p.includes(R)||(j.splice(N,0,I),C.push(I))}return i==="wait"&&C.length&&(j=C),E(FS(j)),w(h),null}const{forceRender:T}=v.useContext(Ww);return u.jsx(u.Fragment,{children:S.map(j=>{const N=Uu(j),I=o&&!c?!1:h===S||p.includes(N),R=()=>{if(x.current.has(N))return;if(x.current.add(N),f.has(N))f.set(N,!0);else return;let O=!0;f.forEach($=>{$||(O=!1)}),O&&(T==null||T(),E(b.current),o&&(d==null||d()),r&&r())};return u.jsx(O5,{isPresent:I,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:I?void 0:R,anchorX:a,children:j},N)})})},cP=v.createContext({strict:!1}),VS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Va={};for(const e in VS)Va[e]={isEnabled:t=>VS[e].some(n=>!!t[n])};function I5(e){for(const t in e)Va[t]={...Va[t],...e[t]}}const M5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ch(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||M5.has(e)}let uP=e=>!Ch(e);function D5(e){typeof e=="function"&&(uP=t=>t.startsWith("on")?!Ch(t):e(t))}try{D5(require("@emotion/is-prop-valid").default)}catch{}function L5(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(uP(s)||n===!0&&Ch(s)||!t&&!Ch(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const jf=v.createContext({});function Af(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Pc(e){return typeof e=="string"||Array.isArray(e)}const p0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m0=["initial",...p0];function Pf(e){return Af(e.animate)||m0.some(t=>Pc(e[t]))}function dP(e){return!!(Pf(e)||e.variants)}function $5(e,t){if(Pf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Pc(n)?n:void 0,animate:Pc(r)?r:void 0}}return e.inherit!==!1?t:{}}function F5(e){const{initial:t,animate:n}=$5(e,v.useContext(jf));return v.useMemo(()=>({initial:t,animate:n}),[US(t),US(n)])}function US(e){return Array.isArray(e)?e.join(" "):e}function BS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=BS(e,t.target.x),r=BS(e,t.target.y);return`${n}% ${r}%`}},V5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ui.parse(e);if(s.length>5)return r;const i=ui.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=et(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},pv={borderRadius:{...Sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sl,borderTopRightRadius:Sl,borderBottomLeftRadius:Sl,borderBottomRightRadius:Sl,boxShadow:V5};function hP(e,{layout:t,layoutId:n}){return sl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!pv[e]||e==="opacity")}const U5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B5=rl.length;function z5(e,t,n){let r="",s=!0;for(let i=0;i<B5;i++){const o=rl[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=tP(a,u0[o]);if(!l){s=!1;const d=U5[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function g0(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(sl.has(l)){o=!0;continue}else if(OA(l)){s[l]=c;continue}else{const d=tP(c,u0[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=z5(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const v0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fP(e,t,n){for(const r in t)!Vt(t[r])&&!hP(r,n)&&(e[r]=t[r])}function q5({transformTemplate:e},t){return v.useMemo(()=>{const n=v0();return g0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function W5(e,t){const n=e.style||{},r={};return fP(r,n,e),Object.assign(r,q5(e,t)),r}function H5(e,t){const n={},r=W5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const G5={offset:"stroke-dashoffset",array:"stroke-dasharray"},K5={offset:"strokeDashoffset",array:"strokeDasharray"};function J5(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?G5:K5;e[i.offset]=ee.transform(-r);const o=ee.transform(t),a=ee.transform(n);e[i.array]=`${o} ${a}`}const Y5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function pP(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(g0(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const m of Y5)h[m]!==void 0&&(p[m]=h[m],delete h[m]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&J5(h,s,i,o,!1)}const mP=()=>({...v0(),attrs:{}}),gP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Q5(e,t,n,r){const s=v.useMemo(()=>{const i=mP();return pP(i,t,gP(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};fP(i,e.style,e),s.style={...i,...s.style}}return s}const X5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y0(e){return typeof e!="string"||e.includes("-")?!1:!!(X5.indexOf(e)>-1||/[A-Z]/u.test(e))}function Z5(e,t,n,{latestValues:r},s,i=!1,o){const l=(o??y0(e)?Q5:H5)(t,r,s,e),c=L5(t,typeof e=="string",i),d=e!==v.Fragment?{...c,...l,ref:n}:{},{children:h}=t,p=v.useMemo(()=>Vt(h)?h.get():h,[h]);return v.createElement(e,{...d,children:p})}function zS(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function w0(e,t,n,r){if(typeof t=="function"){const[s,i]=zS(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=zS(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Ad(e){return Vt(e)?e.get():e}function ez({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:tz(n,r,s,e),renderState:t()}}function tz(e,t,n,r){const s={},i=r(e,{});for(const p in i)s[p]=Ad(i[p]);let{initial:o,animate:a}=e;const l=Pf(e),c=dP(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Af(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const b=w0(e,p[m]);if(b){const{transitionEnd:f,transition:x,...y}=b;for(const w in y){let S=y[w];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(s[w]=S)}for(const w in f)s[w]=f[w]}}}return s}const vP=e=>(t,n)=>{const r=v.useContext(jf),s=v.useContext(Cf),i=()=>ez(e,t,r,s);return n?i():Hw(i)};function b0(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Vt(r[o])||t.style&&Vt(t.style[o])||hP(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const nz=vP({scrapeMotionValuesFromProps:b0,createRenderState:v0});function yP(e,t,n){const r=b0(e,t,n);for(const s in e)if(Vt(e[s])||Vt(t[s])){const i=rl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const rz=vP({scrapeMotionValuesFromProps:yP,createRenderState:mP}),sz=Symbol.for("motionComponentSymbol");function iz(e,t,n){const r=v.useRef(n);v.useInsertionEffect(()=>{r.current=n});const s=v.useRef(null);return v.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const x0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oz="framerAppearId",wP="data-"+x0(oz),bP=v.createContext({});function Nl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function az(e,t,n,r,s,i){var x,y;const{visualElement:o}=v.useContext(jf),a=v.useContext(cP),l=v.useContext(Cf),c=v.useContext(f0).reducedMotion,d=v.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const h=d.current,p=v.useContext(bP);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&lz(d.current,n,s,p);const m=v.useRef(!1);v.useInsertionEffect(()=>{h&&m.current&&h.update(n,l)});const b=n[wP],f=v.useRef(!!b&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,b))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,b)));return mA(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),f.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,b)}),f.current=!1),h.enteringChildren=void 0)}),h}function lz(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xP(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Nl(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function xP(e){if(e)return e.options.allowProjection!==!1?e.projection:xP(e.parent)}function Qp(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&I5(r);const i=n?n==="svg":y0(e),o=i?rz:nz;function a(c,d){let h;const p={...v.useContext(f0),...c,layoutId:cz(c)},{isStatic:m}=p,b=F5(c),f=o(c,m);if(!m&&Gw){uz();const x=dz(p);h=x.MeasureLayout,b.visualElement=az(e,f,p,s,x.ProjectionNode,i)}return u.jsxs(jf.Provider,{value:b,children:[h&&b.visualElement?u.jsx(h,{visualElement:b.visualElement,...p}):null,Z5(e,c,iz(f,b.visualElement,d),f,m,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(a);return l[sz]=e,l}function cz({layoutId:e}){const t=v.useContext(Ww).id;return t&&e!==void 0?t+"-"+e:e}function uz(e,t){v.useContext(cP).strict}function dz(e){const{drag:t,layout:n}=Va;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function hz(e,t){if(typeof Proxy>"u")return Qp;const n=new Map,r=(i,o)=>Qp(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Qp(o,void 0,e,t)),n.get(o))})}function SP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function fz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pz(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xp(e){return e===void 0||e===1}function mv({scale:e,scaleX:t,scaleY:n}){return!Xp(e)||!Xp(t)||!Xp(n)}function Ni(e){return mv(e)||_P(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _P(e){return qS(e.x)||qS(e.y)}function qS(e){return e&&e!=="0%"}function Th(e,t,n){const r=e-n,s=t*r;return n+s}function WS(e,t,n,r,s){return s!==void 0&&(e=Th(e,s,r)),Th(e,n,r)+t}function gv(e,t=0,n=1,r,s){e.min=WS(e.min,t,n,r,s),e.max=WS(e.max,t,n,r,s)}function EP(e,{x:t,y:n}){gv(e.x,t.translate,t.scale,t.originPoint),gv(e.y,n.translate,n.scale,n.originPoint)}const HS=.999999999999,GS=1.0000000000001;function mz(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,EP(e,o)),r&&Ni(i.latestValues)&&Xo(e,i.latestValues))}t.x<GS&&t.x>HS&&(t.x=1),t.y<GS&&t.y>HS&&(t.y=1)}function Qo(e,t){e.min=e.min+t,e.max=e.max+t}function KS(e,t,n,r,s=.5){const i=et(e.min,e.max,s);gv(e,t,n,i,r)}function Xo(e,t){KS(e.x,t.x,t.scaleX,t.scale,t.originX),KS(e.y,t.y,t.scaleY,t.scale,t.originY)}function kP(e,t){return SP(pz(e.getBoundingClientRect(),t))}function gz(e,t,n){const r=kP(e,n),{scroll:s}=t;return s&&(Qo(r.x,s.offset.x),Qo(r.y,s.offset.y)),r}const JS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zo=()=>({x:JS(),y:JS()}),YS=()=>({min:0,max:0}),vt=()=>({x:YS(),y:YS()}),vv={current:null},CP={current:!1};function vz(){if(CP.current=!0,!!Gw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vv.current=e.matches;e.addEventListener("change",t),t()}else vv.current=!1}const yz=new WeakMap;function wz(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Vt(s))e.addValue(r,s);else if(Vt(i))e.addValue(r,$a(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,$a(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const QS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bz{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Yt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ke.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Pf(n),this.isVariantNode=dP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&Vt(m)&&m.set(l[p])}}mount(t){var n;this.current=t,yz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(CP.current||vz(),this.shouldReduceMotion=vv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=sl.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Va){const n=Va[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QS.length;r++){const s=QS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=wz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=$a(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(gA(r)||yA(r))?r=parseFloat(r):!T5(r)&&ui.test(n)&&(r=eP(t,n)),this.setBaseTarget(t,Vt(r)?r.get():r)),Vt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=w0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Vt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Qw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){d0.render(this.render)}}class TP extends bz{constructor(){super(...arguments),this.KeyframeResolver=g5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jP(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function xz(e){return window.getComputedStyle(e)}class Sz extends TP{constructor(){super(...arguments),this.type="html",this.renderInstance=jP}readValueFromInstance(t,n){var r;if(sl.has(n))return(r=this.projection)!=null&&r.isProjecting?av(n):I3(t,n);{const s=xz(t),i=(OA(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kP(t,n)}build(t,n,r){g0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return b0(t,n,r)}}const AP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _z(e,t,n,r){jP(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(AP.has(s)?s:x0(s),t.attrs[s])}class Ez extends TP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sl.has(n)){const r=ZA(n);return r&&r.default||0}return n=AP.has(n)?n:x0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return yP(t,n,r)}build(t,n,r){pP(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){_z(t,n,r,s)}mount(t){this.isSVGTag=gP(t.tagName),super.mount(t)}}const kz=(e,t)=>t.isSVG??y0(e)?new Ez(t):new Sz(t,{allowProjection:e!==v.Fragment});function ua(e,t,n){const r=e.getProps();return w0(r,t,n!==void 0?n:r.custom,e)}const yv=e=>Array.isArray(e);function Cz(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$a(n))}function Tz(e){return yv(e)?e[e.length-1]||0:e}function jz(e,t){const n=ua(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=Tz(i[o]);Cz(e,o,a)}}function Az(e){return!!(Vt(e)&&e.add)}function wv(e,t){const n=e.getValue("willChange");if(Az(n))return n.add(t);if(!n&&gs.WillChange){const r=new gs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function PP(e){return e.props[wP]}const Pz=e=>e!==null;function Nz(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Pz),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Oz={type:"spring",stiffness:500,damping:25,restSpeed:10},Rz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Iz={type:"keyframes",duration:.8},Mz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dz=(e,{keyframes:t})=>t.length>2?Iz:sl.has(e)?e.startsWith("scale")?Rz(t[1]):Oz:Mz;function Lz({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const S0=(e,t,n,r={},s,i)=>o=>{const a=c0(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Fr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Lz(a)||Object.assign(d,Dz(e,d)),d.duration&&(d.duration=Fr(d.duration)),d.repeatDelay&&(d.repeatDelay=Fr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(hv(d),d.delay===0&&(h=!0)),(gs.instantAnimations||gs.skipAnimations)&&(h=!0,hv(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const p=Nz(d.keyframes,a);if(p!==void 0){Ke.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new a0(d):new r5(d)};function $z({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function NP(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d,e.latestValues[d]??null),p=a[d];if(p===void 0||c&&$z(c,d))continue;const m={delay:n,...c0(i||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===b&&!m.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const y=PP(e);if(y){const w=window.MotionHandoffAnimation(y,d,Ke);w!==null&&(m.startTime=w,f=!0)}}wv(e,d),h.start(S0(d,h,p,e.shouldReduceMotion&&YA.has(d)?{type:!1}:m,e,f));const x=h.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{Ke.update(()=>{o&&jz(e,o)})}),l}function OP(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function bv(e,t,n={}){var l;const r=ua(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(NP(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return Fz(e,t,c,d,h,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function Fz(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(bv(l,t,{...o,delay:n+(typeof r=="function"?0:r)+OP(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Vz(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>bv(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=bv(e,t,n);else{const s=typeof t=="function"?ua(e,t,n.custom):t;r=Promise.all(NP(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function RP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Uz=m0.length;function IP(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?IP(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Uz;n++){const r=m0[n],s=e.props[r];(Pc(s)||s===!1)&&(t[r]=s)}return t}const Bz=[...p0].reverse(),zz=p0.length;function qz(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Vz(e,n,r)))}function Wz(e){let t=qz(e),n=XS(),r=!0;const s=l=>(c,d)=>{var p;const h=ua(e,d,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:b,...f}=h;c={...c,...f,...b}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=IP(e.parent)||{},h=[],p=new Set;let m={},b=1/0;for(let x=0;x<zz;x++){const y=Bz[x],w=n[y],S=c[y]!==void 0?c[y]:d[y],E=Pc(S),C=y===l?w.isActive:null;C===!1&&(b=x);let T=S===d[y]&&S!==c[y]&&E;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...m},!w.isActive&&C===null||!S&&!w.prevProp||Af(S)||typeof S=="boolean")continue;const j=Hz(w.prevProp,S);let N=j||y===l&&w.isActive&&!T&&E||x>b&&E,I=!1;const R=Array.isArray(S)?S:[S];let O=R.reduce(s(y),{});C===!1&&(O={});const{prevResolvedValues:$={}}=w,W={...$,...O},L=Q=>{N=!0,p.has(Q)&&(I=!0,p.delete(Q)),w.needsAnimating[Q]=!0;const D=e.getValue(Q);D&&(D.liveStyle=!1)};for(const Q in W){const D=O[Q],F=$[Q];if(m.hasOwnProperty(Q))continue;let K=!1;yv(D)&&yv(F)?K=!RP(D,F):K=D!==F,K?D!=null?L(Q):p.add(Q):D!==void 0&&p.has(Q)?L(Q):w.protectedKeys[Q]=!0}w.prevProp=S,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(N=!1);const J=T&&j;N&&(!J||I)&&h.push(...R.map(Q=>{const D={type:y};if(typeof Q=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,K=ua(F,Q);if(F.enteringChildren&&K){const{delayChildren:se}=K.transition||{};D.delay=OP(F.enteringChildren,e,se)}}return{animation:Q,options:D}}))}if(p.size){const x={};if(typeof c.initial!="boolean"){const y=ua(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(x.transition=y.transition)}p.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),x[y]=w??null}),h.push({animation:x})}let f=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=XS()}}}function Hz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!RP(t,e):!1}function Si(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XS(){return{animate:Si(!0),whileInView:Si(),whileHover:Si(),whileTap:Si(),whileDrag:Si(),whileFocus:Si(),exit:Si()}}class yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Gz extends yi{constructor(t){super(t),t.animationState||(t.animationState=Wz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Af(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Kz=0;class Jz extends yi{constructor(){super(...arguments),this.id=Kz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Yz={animation:{Feature:Gz},exit:{Feature:Jz}};function Nc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function nu(e){return{point:{x:e.pageX,y:e.pageY}}}const Qz=e=>t=>h0(t)&&e(t,nu(t));function Yl(e,t,n,r){return Nc(e,t,Qz(n),r)}const MP=1e-4,Xz=1-MP,Zz=1+MP,DP=.01,eq=0-DP,tq=0+DP;function Qt(e){return e.max-e.min}function nq(e,t,n){return Math.abs(e-t)<=n}function ZS(e,t,n,r=.5){e.origin=r,e.originPoint=et(t.min,t.max,e.origin),e.scale=Qt(n)/Qt(t),e.translate=et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Xz&&e.scale<=Zz||isNaN(e.scale))&&(e.scale=1),(e.translate>=eq&&e.translate<=tq||isNaN(e.translate))&&(e.translate=0)}function Ql(e,t,n,r){ZS(e.x,t.x,n.x,r?r.originX:void 0),ZS(e.y,t.y,n.y,r?r.originY:void 0)}function e_(e,t,n){e.min=n.min+t.min,e.max=e.min+Qt(t)}function rq(e,t,n){e_(e.x,t.x,n.x),e_(e.y,t.y,n.y)}function t_(e,t,n){e.min=t.min-n.min,e.max=e.min+Qt(t)}function jh(e,t,n){t_(e.x,t.x,n.x),t_(e.y,t.y,n.y)}function Pn(e){return[e("x"),e("y")]}const LP=({current:e})=>e?e.ownerDocument.defaultView:null,n_=(e,t)=>Math.abs(e-t);function sq(e,t){const n=n_(e.x,t.x),r=n_(e.y,t.y);return Math.sqrt(n**2+r**2)}const r_=new Set(["auto","scroll"]);class $P{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=em(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,f=sq(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!f)return;const{point:x}=m,{timestamp:y}=Nt;this.history.push({...x,timestamp:y});const{onStart:w,onMove:S}=this.handlers;b||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,b)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Zp(b,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(m,b)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:y}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=em(m.type==="pointercancel"?this.lastMoveEventInfo:Zp(b,this.transformPagePoint),this.history);this.startEvent&&f&&f(m,w),x&&x(m,w)},!h0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=nu(t),c=Zp(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Nt;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,em(c,this.history)),this.removeListeners=Zc(Yl(this.contextWindow,"pointermove",this.handlePointerMove),Yl(this.contextWindow,"pointerup",this.handlePointerUp),Yl(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(r_.has(r.overflowX)||r_.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Ke.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ci(this.updatePoint)}}function Zp(e,t){return t?{point:t(e.point)}:e}function s_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function em({point:e},t){return{point:e,delta:s_(e,FP(t)),offset:s_(e,iq(t)),velocity:oq(t,.1)}}function iq(e){return e[0]}function FP(e){return e[e.length-1]}function oq(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=FP(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Fr(t)));)n--;if(!r)return{x:0,y:0};const i=$n(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function aq(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?et(n,e,r.max):Math.min(e,n)),e}function i_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lq(e,{top:t,left:n,bottom:r,right:s}){return{x:i_(e.x,n,s),y:i_(e.y,t,r)}}function o_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function cq(e,t){return{x:o_(e.x,t.x),y:o_(e.y,t.y)}}function uq(e,t){let n=.5;const r=Qt(e),s=Qt(t);return s>r?n=Tc(t.min,t.max-r,e.min):r>s&&(n=Tc(e.min,e.max-s,t.min)),Wr(0,1,n)}function dq(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const xv=.35;function hq(e=xv){return e===!1?e=0:e===!0&&(e=xv),{x:a_(e,"left","right"),y:a_(e,"top","bottom")}}function a_(e,t,n){return{min:l_(e,t),max:l_(e,n)}}function l_(e,t){return typeof e=="number"?e:e[t]||0}const fq=new WeakMap;class pq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(nu(h).point)):this.pauseAnimation()},o=(h,p)=>{this.stopAnimation();const{drag:m,dragPropagation:b,onDragStart:f}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b5(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Vr.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const E=S.layout.layoutBox[y];E&&(w=Qt(E)*(parseFloat(w)/100))}}this.originPoint[y]=w}),f&&Ke.postRender(()=>f(h,p)),wv(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:f,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=p;if(b&&this.currentDirection===null){this.currentDirection=mq(y),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",p.point,y),this.updateAxis("y",p.point,y),this.visualElement.render(),x&&x(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Pn(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new $P(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:LP(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ke.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Bu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=aq(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Nl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=lq(r.layoutBox,t):this.constraints=!1,this.elastic=hq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Nl(t))return!1;const r=t.current;La(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gz(r,s.root,this.visualElement.getTransformPagePoint());let o=cq(s.layout.layoutBox,i);if(n){const a=n(fz(o));this.hasMutatedConstraints=!!a,a&&(o=SP(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Pn(d=>{if(!Bu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return wv(this.visualElement,t),r.start(S0(t,r,0,n,this.visualElement,!1))}stopAnimation(){Pn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Pn(n=>{const{drag:r}=this.getProps();if(!Bu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-et(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Nl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Pn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=uq({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pn(o=>{if(!Bu(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(et(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;fq.set(this.visualElement,this);const t=this.visualElement.current,n=Yl(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&!oP(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Nl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ke.read(r);const o=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=xv,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Bu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mq(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class gq extends yi{constructor(t){super(t),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new pq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const c_=e=>(t,n)=>{e&&Ke.postRender(()=>e(t,n))};class vq extends yi{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(t){this.session=new $P(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:c_(t),onStart:c_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Ke.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Yl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let tm=!1;class yq extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),tm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,tm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Ke.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),d0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;tm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VP(e){const[t,n]=lP(),r=v.useContext(Ww);return u.jsx(yq,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(bP),isPresent:t,safeToRemove:n})}function wq(e,t,n){const r=Vt(e)?e:$a(e);return r.start(S0("",r,t,n)),r.animation}const bq=(e,t)=>e.depth-t.depth;class xq{constructor(){this.children=[],this.isDirty=!1}add(t){Kw(this.children,t),this.isDirty=!0}remove(t){Jw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bq),this.isDirty=!1,this.children.forEach(t)}}function Sq(e,t){const n=Yt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ci(r),e(i-t))};return Ke.setup(r,!0),()=>ci(r)}const UP=["TopLeft","TopRight","BottomLeft","BottomRight"],_q=UP.length,u_=e=>typeof e=="string"?parseFloat(e):e,d_=e=>typeof e=="number"||ee.test(e);function Eq(e,t,n,r,s,i){s?(e.opacity=et(0,n.opacity??1,kq(r)),e.opacityExit=et(t.opacity??1,0,Cq(r))):i&&(e.opacity=et(t.opacity??1,n.opacity??1,r));for(let o=0;o<_q;o++){const a=`border${UP[o]}Radius`;let l=h_(t,a),c=h_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||d_(l)===d_(c)?(e[a]=Math.max(et(u_(l),u_(c),r),0),(Vr.test(c)||Vr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=et(t.rotate||0,n.rotate||0,r))}function h_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kq=BP(0,.5,CA),Cq=BP(.5,.95,Un);function BP(e,t,n){return r=>r<e?0:r>t?1:n(Tc(e,t,r))}function f_(e,t){e.min=t.min,e.max=t.max}function er(e,t){f_(e.x,t.x),f_(e.y,t.y)}function p_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m_(e,t,n,r,s){return e-=t,e=Th(e,1/n,r),s!==void 0&&(e=Th(e,1/s,r)),e}function Tq(e,t=0,n=1,r=.5,s,i=e,o=e){if(Vr.test(t)&&(t=parseFloat(t),t=et(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=et(i.min,i.max,r);e===i&&(a-=t),e.min=m_(e.min,t,n,a,s),e.max=m_(e.max,t,n,a,s)}function g_(e,t,[n,r,s],i,o){Tq(e,t[n],t[r],t[s],t.scale,i,o)}const jq=["x","scaleX","originX"],Aq=["y","scaleY","originY"];function v_(e,t,n,r){g_(e.x,t,jq,n?n.x:void 0,r?r.x:void 0),g_(e.y,t,Aq,n?n.y:void 0,r?r.y:void 0)}function y_(e){return e.translate===0&&e.scale===1}function zP(e){return y_(e.x)&&y_(e.y)}function w_(e,t){return e.min===t.min&&e.max===t.max}function Pq(e,t){return w_(e.x,t.x)&&w_(e.y,t.y)}function b_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qP(e,t){return b_(e.x,t.x)&&b_(e.y,t.y)}function x_(e){return Qt(e.x)/Qt(e.y)}function S_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Nq{constructor(){this.members=[]}add(t){Kw(this.members,t),t.scheduleRender()}remove(t){if(Jw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Oq(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const nm=["","X","Y","Z"],Rq=1e3;let Iq=0;function rm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function WP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=PP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&WP(r)}function HP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Iq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lq),this.nodes.forEach(Uq),this.nodes.forEach(Bq),this.nodes.forEach($q)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new xq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Qw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=aP(o)&&!k5(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;Ke.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=Sq(p,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(k_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||Gq,{onLayoutAnimationStart:f,onLayoutAnimationComplete:x}=c.getProps(),y=!this.targetLayout||!qP(this.targetLayout,m),w=!h&&p;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...c0(b,"layout"),onPlay:f,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(d,w)}else h||k_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(__);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(E_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Vq),this.nodes.forEach(Mq),this.nodes.forEach(Dq)):this.nodes.forEach(E_),this.clearAllSnapshots();const a=Yt.now();Nt.delta=Wr(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,qp.update.process(Nt),qp.preRender.process(Nt),qp.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Fq),this.sharedNodes.forEach(qq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qt(this.snapshot.measuredBox.x)&&!Qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!zP(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ni(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Kq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return vt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Jq))){const{scroll:d}=this.root;d&&(Qo(a.x,d.offset.x),Qo(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=vt();if(er(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&er(a,o),Qo(a.x,h.offset.x),Qo(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=vt();er(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Xo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ni(d.latestValues)&&Xo(l,d.latestValues)}return Ni(this.latestValues)&&Xo(l,this.latestValues),l}removeTransform(o){const a=vt();er(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ni(c.latestValues))continue;mv(c.latestValues)&&c.updateSnapshot();const d=vt(),h=c.measurePageBox();er(d,h),v_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ni(this.latestValues)&&v_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Nt.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),EP(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mv(this.parent.latestValues)||_P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),jh(this.relativeTargetOrigin,a,l),er(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;er(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;mz(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=vt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p_(this.prevProjectionDelta.x,this.projectionDelta.x),p_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ql(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!S_(this.projectionDelta.x,this.prevProjectionDelta.x)||!S_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zo(),this.projectionDelta=Zo(),this.projectionDeltaWithTransform=Zo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=vt(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,f=m!==b,x=this.getStack(),y=!x||x.members.length<=1,w=!!(f&&!y&&this.options.crossfade===!0&&!this.path.some(Hq));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const C=E/1e3;C_(h.x,o.x,C),C_(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wq(this.relativeTarget,this.relativeTargetOrigin,p,C),S&&Pq(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=vt()),er(S,this.relativeTarget)),f&&(this.animationValues=d,Eq(d,c,this.latestValues,C,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$a(0)),this.currentAnimation=wq(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&GP(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||vt();const h=Qt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Qt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}er(a,l),Xo(a,d),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Nq),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&rm("z",o,c,this.animationValues);for(let d=0;d<nm.length;d++)rm(`rotate${nm[d]}`,o,c,this.animationValues),rm(`skew${nm[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ad(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ad(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Oq(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in pv){if(d[b]===void 0)continue;const{correct:f,applyTo:x,isCSSVariable:y}=pv[b],w=h==="none"?d[b]:f(d[b],c);if(x){const S=x.length;for(let E=0;E<S;E++)o[x[E]]=w}else y?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=c===this?Ad(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(__),this.root.sharedNodes.clear()}}}function Mq(e){e.updateLayout()}function Dq(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Pn(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Qt(p);p.min=r[h].min,p.max=p.min+m}):GP(i,t.layoutBox,r)&&Pn(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Qt(r[h]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Zo();Ql(a,r,t.layoutBox);const l=Zo();o?Ql(l,e.applyTransform(s,!0),t.measuredBox):Ql(l,r,t.layoutBox);const c=!zP(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const b=vt();jh(b,t.layoutBox,p.layoutBox);const f=vt();jh(f,r,m.layoutBox),qP(b,f)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Lq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $q(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Fq(e){e.clearSnapshot()}function __(e){e.clearMeasurements()}function E_(e){e.isLayoutDirty=!1}function Vq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function k_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Uq(e){e.resolveTargetDelta()}function Bq(e){e.calcProjection()}function zq(e){e.resetSkewAndRotation()}function qq(e){e.removeLeadSnapshot()}function C_(e,t,n){e.translate=et(t.translate,0,n),e.scale=et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function T_(e,t,n,r){e.min=et(t.min,n.min,r),e.max=et(t.max,n.max,r)}function Wq(e,t,n,r){T_(e.x,t.x,n.x,r),T_(e.y,t.y,n.y,r)}function Hq(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Gq={duration:.45,ease:[.4,0,.1,1]},j_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),A_=j_("applewebkit/")&&!j_("chrome/")?Math.round:Un;function P_(e){e.min=A_(e.min),e.max=A_(e.max)}function Kq(e){P_(e.x),P_(e.y)}function GP(e,t,n){return e==="position"||e==="preserve-aspect"&&!nq(x_(t),x_(n),.2)}function Jq(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Yq=HP({attachResizeListener:(e,t)=>Nc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sm={current:void 0},KP=HP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sm.current){const e=new Yq({});e.mount(window),e.setOptions({layoutScroll:!0}),sm.current=e}return sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Qq={pan:{Feature:vq},drag:{Feature:gq,ProjectionNode:KP,MeasureLayout:VP}};function N_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ke.postRender(()=>i(t,nu(t)))}class Xq extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=x5(t,(n,r)=>(N_(this.node,r,"Start"),s=>N_(this.node,s,"End"))))}unmount(){}}class Zq extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ke.postRender(()=>i(t,nu(t)))}class e8 extends yi{mount(){const{current:t}=this.node;t&&(this.unmount=E5(t,(n,r)=>(O_(this.node,r,"Start"),(s,{success:i})=>O_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sv=new WeakMap,im=new WeakMap,t8=e=>{const t=Sv.get(e.target);t&&t(e)},n8=e=>{e.forEach(t8)};function r8({root:e,...t}){const n=e||document;im.has(n)||im.set(n,{});const r=im.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(n8,{root:e,...t})),r[s]}function s8(e,t,n){const r=r8(t);return Sv.set(e,n),r.observe(e),()=>{Sv.delete(e),r.unobserve(e)}}const i8={some:0,all:1};class o8 extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:i8[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return s8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(a8(t,n))&&this.startObserver()}unmount(){}}function a8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const l8={inView:{Feature:o8},tap:{Feature:e8},focus:{Feature:Zq},hover:{Feature:Xq}},c8={layout:{ProjectionNode:KP,MeasureLayout:VP}},u8={...Yz,...l8,...Qq,...c8},Se=hz(u8,kz);function ru(){const{theme:e,setTheme:t}=wj();return u.jsxs(de,{variant:"ghost",size:"icon",onClick:()=>t(e==="dark"?"light":"dark"),className:"relative h-9 w-9",children:[u.jsx(Se.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3},className:"absolute",children:u.jsx(X$,{className:"h-5 w-5"})}),u.jsx(Se.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3},className:"absolute",children:u.jsx(q$,{className:"h-5 w-5"})}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const R_=[{icon:Yi,title:"Interview",description:"AI-powered voice conversations capture detailed insights from your team members"},{icon:ww,title:"Analyze",description:"Advanced AI synthesizes responses to identify patterns and opportunities"},{icon:oj,title:"Insights",description:"Receive actionable recommendations for process improvements and automation"}];function d8(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(ru,{}),u.jsx(de,{asChild:!0,children:u.jsx(an,{to:"/admin/login",children:"Admin Login"})})]})]})}),u.jsx("section",{className:"container flex min-h-screen flex-col items-center justify-center pt-16 text-center",children:u.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl",children:[u.jsxs("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-foreground sm:text-5xl md:text-6xl",children:["AI-powered Discovery for"," ",u.jsx("span",{className:"text-accent",children:"consulting engagements"})]}),u.jsx("p",{className:"mb-8 text-lg text-muted-foreground sm:text-xl",children:"Transform how you gather insights. Our voice-based AI conducts intelligent interviews with your team, analyzes responses, and delivers actionable recommendations for process improvement."}),u.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-center",children:[u.jsx(de,{asChild:!0,size:"lg",className:"gap-2",children:u.jsxs(an,{to:"/admin/login",children:["Get Started",u.jsx(wc,{className:"h-4 w-4"})]})}),u.jsx(de,{asChild:!0,variant:"outline",size:"lg",children:u.jsx(an,{to:"/interview/demo",children:"Try Demo Interview"})})]})]})}),u.jsx("section",{className:"border-t bg-muted/30 py-24",children:u.jsxs("div",{className:"container",children:[u.jsxs(Se.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-3xl font-bold text-foreground",children:"How It Works"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Three simple steps to transform your discovery process"})]}),u.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:R_.map((e,t)=>u.jsxs(Se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:t*.1},className:"relative rounded-xl border bg-card p-8 text-center shadow-sm transition-shadow hover:shadow-md",children:[u.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-accent/10",children:u.jsx(e.icon,{className:"h-8 w-8 text-accent"})}),u.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[u.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs font-bold text-primary-foreground",children:t+1}),u.jsx("h3",{className:"text-xl font-semibold text-foreground",children:e.title})]}),u.jsx("p",{className:"text-muted-foreground",children:e.description}),t<R_.length-1&&u.jsx("div",{className:"absolute -right-4 top-1/2 hidden -translate-y-1/2 md:block",children:u.jsx(wc,{className:"h-6 w-6 text-muted-foreground/50"})})]},e.title))})]})}),u.jsx("footer",{className:"border-t py-8",children:u.jsx("div",{className:"container text-center text-sm text-muted-foreground",children:u.jsx("p",{children:" 2024 AgentFlow Discovery Tool. Built for consulting excellence."})})})]})}const Oe=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Oe.displayName="Card";const Zt=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));Zt.displayName="CardHeader";const en=v.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));en.displayName="CardTitle";const Ur=v.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));Ur.displayName="CardDescription";const Ie=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const h8=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));h8.displayName="CardFooter";var f8=v.createContext(void 0);function su(e){const t=v.useContext(f8);return e||t||"ltr"}function _v(e,[t,n]){return Math.min(n,Math.max(t,e))}function p8(e,t){return v.useReducer((n,r)=>t[n][r]??n,e)}var _0="ScrollArea",[JP,DY]=Hn(_0),[m8,Kn]=JP(_0),YP=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=v.useState(null),[c,d]=v.useState(null),[h,p]=v.useState(null),[m,b]=v.useState(null),[f,x]=v.useState(null),[y,w]=v.useState(0),[S,E]=v.useState(0),[C,T]=v.useState(!1),[j,N]=v.useState(!1),I=Ce(t,O=>l(O)),R=su(s);return u.jsx(m8,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:C,onScrollbarXEnabledChange:T,scrollbarY:f,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:w,onCornerHeightChange:E,children:u.jsx(me.div,{dir:R,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});YP.displayName=_0;var QP="ScrollAreaViewport",XP=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=Kn(QP,n),a=v.useRef(null),l=Ce(t,a,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(me.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});XP.displayName=QP;var Kr="ScrollAreaScrollbar",E0=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Kr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?u.jsx(g8,{...r,ref:t,forceMount:n}):s.type==="scroll"?u.jsx(v8,{...r,ref:t,forceMount:n}):s.type==="auto"?u.jsx(ZP,{...r,ref:t,forceMount:n}):s.type==="always"?u.jsx(k0,{...r,ref:t}):null});E0.displayName=Kr;var g8=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Kr,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(Gn,{present:n||i,children:u.jsx(ZP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),v8=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kn(Kr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Of(()=>l("SCROLL_END"),100),[a,l]=p8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let h=c[d];const p=()=>{const m=c[d];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,i,l,o]),u.jsx(Gn,{present:n||a!=="hidden",children:u.jsx(k0,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ie(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ie(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ZP=v.forwardRef((e,t)=>{const n=Kn(Kr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=v.useState(!1),a=e.orientation==="horizontal",l=Of(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return Ua(n.viewport,l),Ua(n.content,l),u.jsx(Gn,{present:r||i,children:u.jsx(k0,{"data-state":i?"visible":"hidden",...s,ref:t})})}),k0=v.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Kn(Kr,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=sN(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,m){return _8(p,o.current,a,m)}return n==="horizontal"?u.jsx(y8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,m=I_(p,a,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?u.jsx(w8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,m=I_(p,a);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),y8=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Kn(Kr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Ce(t,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(tN,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Nf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),oN(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ph(o.paddingLeft),paddingEnd:Ph(o.paddingRight)}})}})}),w8=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Kn(Kr,e.__scopeScrollArea),[o,a]=v.useState(),l=v.useRef(null),c=Ce(t,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(tN,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Nf(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),oN(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ph(o.paddingTop),paddingEnd:Ph(o.paddingBottom)}})}})}),[b8,eN]=JP(Kr),tN=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...p}=e,m=Kn(Kr,n),[b,f]=v.useState(null),x=Ce(t,I=>f(I)),y=v.useRef(null),w=v.useRef(""),S=m.viewport,E=r.content-r.viewport,C=wt(d),T=wt(l),j=Of(h,10);function N(I){if(y.current){const R=I.clientX-y.current.left,O=I.clientY-y.current.top;c({x:R,y:O})}}return v.useEffect(()=>{const I=R=>{const O=R.target;(b==null?void 0:b.contains(O))&&C(R,E)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[S,b,E,C]),v.useEffect(T,[r,T]),Ua(b,j),Ua(m.content,j),u.jsx(b8,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:wt(i),onThumbPointerUp:wt(o),onThumbPositionChange:T,onThumbPointerDown:wt(a),children:u.jsx(me.div,{...p,ref:x,style:{position:"absolute",...p.style},onPointerDown:ie(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(I))}),onPointerMove:ie(e.onPointerMove,N),onPointerUp:ie(e.onPointerUp,I=>{const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Ah="ScrollAreaThumb",nN=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=eN(Ah,e.__scopeScrollArea);return u.jsx(Gn,{present:n||s.hasThumb,children:u.jsx(x8,{ref:t,...r})})}),x8=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Kn(Ah,n),o=eN(Ah,n),{onThumbPositionChange:a}=o,l=Ce(t,h=>o.onThumbChange(h)),c=v.useRef(void 0),d=Of(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!c.current){const m=E8(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),u.jsx(me.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ie(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),b=h.clientX-m.left,f=h.clientY-m.top;o.onThumbPointerDown({x:b,y:f})}),onPointerUp:ie(e.onPointerUp,o.onThumbPointerUp)})});nN.displayName=Ah;var C0="ScrollAreaCorner",rN=v.forwardRef((e,t)=>{const n=Kn(C0,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(S8,{...e,ref:t}):null});rN.displayName=C0;var S8=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Kn(C0,n),[i,o]=v.useState(0),[a,l]=v.useState(0),c=!!(i&&a);return Ua(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Ua(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),c?u.jsx(me.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ph(e){return e?parseInt(e,10):0}function sN(e,t){const n=e/t;return isNaN(n)?0:n}function Nf(e){const t=sN(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function _8(e,t,n,r="ltr"){const s=Nf(n),i=s/2,o=t||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return iN([l,c],h)(e)}function I_(e,t,n="ltr"){const r=Nf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=_v(e,l);return iN([0,o],[0,a])(c)}function iN(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function oN(e,t){return e>0&&e<t}var E8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Of(e,t){const n=wt(e),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ua(e,t){const n=wt(t);xt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var aN=YP,k8=XP,C8=rN;const Rf=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(aN,{ref:r,className:ae("relative overflow-hidden",e),...n,children:[u.jsx(k8,{className:"h-full w-full rounded-[inherit]",children:t}),u.jsx(lN,{}),u.jsx(C8,{})]}));Rf.displayName=aN.displayName;const lN=v.forwardRef(({className:e,orientation:t="vertical",...n},r)=>u.jsx(E0,{ref:r,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:u.jsx(nN,{className:"relative flex-1 rounded-full bg-border"})}));lN.displayName=E0.displayName;var cN={};function M_(e,t){if(e==null)return{};var n,r,s=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)!==-1)continue;l[c]=o[c]}return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e){return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(e)}function uN(e){var t=function(n,r){if(Ae(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,r||"default");if(Ae(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Ae(t)=="symbol"?t:t+""}function D_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uN(r.key),r)}}function An(e,t,n){return t&&D_(e.prototype,t),n&&D_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function If(e,t){if(t&&(Ae(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xr(e)}function Oc(e,t){return Oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Oc(e,t)}function Mf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oc(e,t)}function Or(e,t,n){return(t=uN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L_(e,t,n,r,s,i,o){try{var a=e[i](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function ge(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(l){L_(i,r,s,o,a,"next",l)}function a(l){L_(i,r,s,o,a,"throw",l)}o(void 0)})}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ut(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,o,a,l,c=[],d=!0,h=!1;try{if(a=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(i=a.call(s)).done)&&(c.push(i.value),c.length!==r);d=!0);}catch(p){h=!0,o=p}finally{try{if(!d&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return $_(n,r);var s={}.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?$_(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F_,zu={exports:{}},Ev=function(){if(F_)return zu.exports;F_=1;var e,t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(f,x,y){return Function.prototype.apply.call(f,x,y)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(f){return Object.getOwnPropertyNames(f).concat(Object.getOwnPropertySymbols(f))}:function(f){return Object.getOwnPropertyNames(f)};var r=Number.isNaN||function(f){return f!=f};function s(){s.init.call(this)}zu.exports=s,zu.exports.once=function(f,x){return new Promise(function(y,w){function S(C){f.removeListener(x,E),w(C)}function E(){typeof f.removeListener=="function"&&f.removeListener("error",S),y([].slice.call(arguments))}b(f,x,E,{once:!0}),x!=="error"&&function(C,T,j){typeof C.on=="function"&&b(C,"error",T,j)}(f,S,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function o(f){if(typeof f!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f)}function a(f){return f._maxListeners===void 0?s.defaultMaxListeners:f._maxListeners}function l(f,x,y,w){var S,E,C,T;if(o(y),(E=f._events)===void 0?(E=f._events=Object.create(null),f._eventsCount=0):(E.newListener!==void 0&&(f.emit("newListener",x,y.listener?y.listener:y),E=f._events),C=E[x]),C===void 0)C=E[x]=y,++f._eventsCount;else if(typeof C=="function"?C=E[x]=w?[y,C]:[C,y]:w?C.unshift(y):C.push(y),(S=a(f))>0&&C.length>S&&!C.warned){C.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=f,j.type=x,j.count=C.length,T=j,console&&console.warn&&console.warn(T)}return f}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(f,x,y){var w={fired:!1,wrapFn:void 0,target:f,type:x,listener:y},S=c.bind(w);return S.listener=y,w.wrapFn=S,S}function h(f,x,y){var w=f._events;if(w===void 0)return[];var S=w[x];return S===void 0?[]:typeof S=="function"?y?[S.listener||S]:[S]:y?function(E){for(var C=new Array(E.length),T=0;T<C.length;++T)C[T]=E[T].listener||E[T];return C}(S):m(S,S.length)}function p(f){var x=this._events;if(x!==void 0){var y=x[f];if(typeof y=="function")return 1;if(y!==void 0)return y.length}return 0}function m(f,x){for(var y=new Array(x),w=0;w<x;++w)y[w]=f[w];return y}function b(f,x,y,w){if(typeof f.on=="function")w.once?f.once(x,y):f.on(x,y);else{if(typeof f.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof f);f.addEventListener(x,function S(E){w.once&&f.removeEventListener(x,S),y(E)})}}return Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(f){if(typeof f!="number"||f<0||r(f))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+f+".");i=f}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(f){if(typeof f!="number"||f<0||r(f))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+f+".");return this._maxListeners=f,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(f){for(var x=[],y=1;y<arguments.length;y++)x.push(arguments[y]);var w=f==="error",S=this._events;if(S!==void 0)w=w&&S.error===void 0;else if(!w)return!1;if(w){var E;if(x.length>0&&(E=x[0]),E instanceof Error)throw E;var C=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw C.context=E,C}var T=S[f];if(T===void 0)return!1;if(typeof T=="function")n(T,this,x);else{var j=T.length,N=m(T,j);for(y=0;y<j;++y)n(N[y],this,x)}return!0},s.prototype.addListener=function(f,x){return l(this,f,x,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(f,x){return l(this,f,x,!0)},s.prototype.once=function(f,x){return o(x),this.on(f,d(this,f,x)),this},s.prototype.prependOnceListener=function(f,x){return o(x),this.prependListener(f,d(this,f,x)),this},s.prototype.removeListener=function(f,x){var y,w,S,E,C;if(o(x),(w=this._events)===void 0)return this;if((y=w[f])===void 0)return this;if(y===x||y.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete w[f],w.removeListener&&this.emit("removeListener",f,y.listener||x));else if(typeof y!="function"){for(S=-1,E=y.length-1;E>=0;E--)if(y[E]===x||y[E].listener===x){C=y[E].listener,S=E;break}if(S<0)return this;S===0?y.shift():function(T,j){for(;j+1<T.length;j++)T[j]=T[j+1];T.pop()}(y,S),y.length===1&&(w[f]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",f,C||x)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(f){var x,y,w;if((y=this._events)===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[f]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete y[f]),this;if(arguments.length===0){var S,E=Object.keys(y);for(w=0;w<E.length;++w)(S=E[w])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=y[f])=="function")this.removeListener(f,x);else if(x!==void 0)for(w=x.length-1;w>=0;w--)this.removeListener(f,x[w]);return this},s.prototype.listeners=function(f){return h(this,f,!0)},s.prototype.rawListeners=function(f){return h(this,f,!1)},s.listenerCount=function(f,x){return typeof f.listenerCount=="function"?f.listenerCount(x):p.call(f,x)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},zu.exports}(),qu=T8(Ev),V_=Object.prototype.hasOwnProperty;function U_(e,t,n){for(n of e.keys())if(Gt(n,t))return n}function Gt(e,t){var n,r,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Gt(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((s=r)&&typeof s=="object"&&!(s=U_(t,s))||!t.has(s))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((s=r[0])&&typeof s=="object"&&!(s=U_(t,s))||!Gt(r[1],t.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(V_.call(e,n)&&++r&&!V_.call(t,n)||!(n in t)||!Gt(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const j8={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},dN={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},at={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},qt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},As={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class z{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const s=z.getVersionPrecision(t),i=z.getVersionPrecision(n);let o=Math.max(s,i),a=0;const l=z.map([t,n],c=>{const d=o-z.getVersionPrecision(c),h=c+new Array(d+1).join(".0");return z.map(h.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(r&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(t,n){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(s=0;s<t.length;s+=1)r.push(n(t[s]));return r}static find(t,n){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,s=t.length;r<s;r+=1){const i=t[r];if(n(i,r))return i}}static assign(t,...n){const r=t;let s,i;if(Object.assign)return Object.assign(t,...n);for(s=0,i=n.length;s<i;s+=1){const o=n[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return j8[t]}static getBrowserTypeByAlias(t){return dN[t]||""}}const Fe=/version\/(\d+(\.?_?\d+)+)/i,A8=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=z.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=z.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=z.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=z.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=z.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=z.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=z.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=z.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=z.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=z.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=z.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=z.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=z.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=z.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=z.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=z.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=z.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=z.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=z.getFirstMatch(Fe,e)||z.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=z.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=z.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=z.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=z.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=z.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=z.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=z.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=z.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=z.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=z.getFirstMatch(Fe,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:z.getFirstMatch(t,e),version:z.getSecondMatch(t,e)}}}];var P8=[{test:[/Roku\/DVP/],describe(e){const t=z.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:qt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=z.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:qt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=z.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=z.getWindowsVersionName(t);return{name:qt.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:qt.iOS},n=z.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=z.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=z.getMacOSVersionName(t),r={name:qt.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=z.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:qt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=z.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=z.getAndroidVersionName(t),r={name:qt.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=z.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:qt.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=z.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||z.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||z.getFirstMatch(/\bbb(\d+)/i,e);return{name:qt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=z.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:qt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=z.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:qt.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:qt.Linux})},{test:[/CrOS/],describe:()=>({name:qt.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=z.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:qt.PlayStation4,version:t}}}],N8=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=z.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:at.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:at.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:at.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:at.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:at.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:at.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:at.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=z.getFirstMatch(/(ipod|iphone)/i,e);return{type:at.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:at.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:at.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:at.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:at.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:at.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:at.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:at.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:at.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:at.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:at.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:at.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:at.tv})}],O8=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:As.Blink};const t=z.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:As.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:As.Trident},n=z.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:As.Presto},n=z.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:As.Gecko},n=z.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:As.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:As.WebKit},n=z.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class B_{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=z.find(A8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=z.find(P8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=z.find(N8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=z.find(O8,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return z.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const s={};let i=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(s[o]=a,i+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=z.find(o,c=>this.isOS(c));if(a){const c=this.satisfies(n[a]);if(c!==void 0)return c}const l=z.find(o,c=>this.isPlatform(c));if(l){const c=this.satisfies(n[l]);if(c!==void 0)return c}}if(i>0){const o=Object.keys(s),a=z.find(o,l=>this.isBrowser(l,!0));if(a!==void 0)return this.compareVersion(s[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=z.getBrowserTypeByAlias(s);return n&&i&&(s=i.toLowerCase()),s===r}compareVersion(t){let n=[0],r=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(s=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(s=!0,r=t.substr(1)),n.indexOf(z.compareVersions(i,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class R8{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new B_(t,n)}static parse(t){return new B_(t).getResult()}static get BROWSER_MAP(){return dN}static get ENGINE_MAP(){return As}static get OS_MAP(){return qt}static get PLATFORMS_MAP(){return at}}function Df(){return Date.now()+Math.random().toString()}function _l(){throw new Error("Method must be implemented in subclass")}function hN(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Nh(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:hN("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Oh(e){try{new URL(e)}catch{return!1}return!0}const Be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Zi="8.55.0",Re=globalThis;function Rh(e,t,n){const r=Re,s=r.__SENTRY__=r.__SENTRY__||{},i=s[Zi]=s[Zi]||{};return i[e]||(i[e]=t())}const wo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,kv=["debug","info","warn","error","log","assert","trace"],Ih={};function iu(e){if(!("console"in Re))return e();const t=Re.console,n={},r=Object.keys(Ih);r.forEach(s=>{const i=Ih[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}const ve=Rh("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return wo?kv.forEach(n=>{t[n]=(...r)=>{e&&iu(()=>{Re.console[n](`Sentry Logger [${n}]:`,...r)})}}):kv.forEach(n=>{t[n]=()=>{}}),t}),Vi="?",z_=/\(error: (.*)\)/,q_=/captureMessage|captureException/;function Wu(e){return e[e.length-1]||{}}const W_="<anonymous>";function di(e){try{return e&&typeof e=="function"&&e.name||W_}catch{return W_}}function H_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Nd={},G_={};function eo(e,t){Nd[e]=Nd[e]||[],Nd[e].push(t)}function to(e,t){if(!G_[e]){G_[e]=!0;try{t()}catch(n){wo&&ve.error(`Error while instrumenting ${e}`,n)}}}function vr(e,t){const n=e&&Nd[e];if(n)for(const r of n)try{r(t)}catch(s){wo&&ve.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${di(r)}
Error:`,s)}}let om=null;function I8(){om=Re.onerror,Re.onerror=function(e,t,n,r,s){return vr("error",{column:r,error:s,line:n,msg:e,url:t}),!!om&&om.apply(this,arguments)},Re.onerror.__SENTRY_INSTRUMENTED__=!0}let am=null;function M8(){am=Re.onunhandledrejection,Re.onunhandledrejection=function(e){return vr("unhandledrejection",e),!am||am.apply(this,arguments)},Re.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Lf(){return T0(Re),Re}function T0(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Zi,t[Zi]=t[Zi]||{}}const fN=Object.prototype.toString;function j0(e){switch(fN.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return lo(e,Error)}}function il(e,t){return fN.call(e)===`[object ${t}]`}function pN(e){return il(e,"ErrorEvent")}function K_(e){return il(e,"DOMError")}function os(e){return il(e,"String")}function A0(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Cv(e){return e===null||A0(e)||typeof e!="object"&&typeof e!="function"}function Ba(e){return il(e,"Object")}function $f(e){return typeof Event<"u"&&lo(e,Event)}function Ff(e){return!!(e&&e.then&&typeof e.then=="function")}function lo(e,t){try{return e instanceof t}catch{return!1}}function mN(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const P0=Re;function gN(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=D8(n,d),!(c==="html"||i>1&&o+s.length*l+c.length>=h));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function D8(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(P0.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&os(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function da(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function J_(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{mN(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function L8(e,t,n=!1){return!!os(e)&&(il(t,"RegExp")?t.test(e):!!os(t)&&(n?e===t:e.includes(t)))}function Hu(e,t=[],n=!1){return t.some(r=>L8(e,r,n))}function xn(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);typeof s=="function"&&vN(s,r);try{e[t]=s}catch{wo&&ve.log(`Failed to replace method "${t}" in object`,e)}}function co(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{wo&&ve.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function vN(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,co(e,"__sentry_original__",t)}catch{}}function N0(e){return e.__sentry_original__}function yN(e){if(j0(e))return{message:e.message,name:e.name,stack:e.stack,...Q_(e)};if($f(e)){const t={type:e.type,target:Y_(e.target),currentTarget:Y_(e.currentTarget),...Q_(e)};return typeof CustomEvent<"u"&&lo(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Y_(e){try{return t=e,typeof Element<"u"&&lo(t,Element)?gN(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function Q_(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Fn(e){return Tv(e,new Map)}function Tv(e,t){if(function(n){if(!Ba(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const s of Object.getOwnPropertyNames(e))e[s]!==void 0&&(r[s]=Tv(e[s],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(s=>{r.push(Tv(s,t))}),r}return e}function ou(){return Date.now()/1e3}const cs=function(){const{performance:e}=Re;if(!e||!e.now)return ou;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function Bn(){const e=Re,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function wN(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Is(e){const{message:t,event_id:n}=e;if(t)return t;const r=wN(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function jv(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function za(e,t){const n=wN(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const s={...r&&r.data,...t.data};n.mechanism.data=s}}function X_(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{co(e,"__sentry_captured__",!0)}catch{}return!1}var Zr;function uo(e){return new In(t=>{t(e)})}function Mh(e){return new In((t,n)=>{n(e)})}(()=>{const{performance:e}=Re;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(i||a<t)&&s<=a&&e.timeOrigin})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Zr||(Zr={}));class In{constructor(t){In.prototype.__init.call(this),In.prototype.__init2.call(this),In.prototype.__init3.call(this),In.prototype.__init4.call(this),this._state=Zr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new In((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(o){s(o)}else r(i)},i=>{if(n)try{r(n(i))}catch(o){s(o)}else s(i)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new In((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{i?r(s):n(s)})})}__init(){this._resolve=t=>{this._setResult(Zr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Zr.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===Zr.PENDING&&(Ff(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Zr.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Zr.RESOLVED&&n[1](this._value),this._state===Zr.REJECTED&&n[2](this._value),n[0]=!0)})}}}function $8(e){const t=cs(),n={sid:Bn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(r){return Fn({sid:`${r.sid}`,init:r.init,started:new Date(1e3*r.started).toISOString(),timestamp:new Date(1e3*r.timestamp).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,abnormal_mechanism:r.abnormal_mechanism,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}(n)};return e&&qa(n,e),n}function qa(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||cs(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Bn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Z_(){return Bn()}function Av(){return Bn().substring(16)}function Vf(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Vf(r[s],t[s],n-1));return r}const Pv="_sentrySpan";function e1(e,t){t?co(e,Pv,t):delete e[Pv]}function t1(e){return e[Pv]}class O0{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Z_(),spanId:Av()}}clone(){const t=new O0;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,e1(t,t1(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&qa(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,s]=n instanceof hi?[n.getScopeData(),n.getRequestSession()]:Ba(n)?[t,t.requestSession]:[],{tags:i,extra:o,user:a,contexts:l,level:c,fingerprint:d=[],propagationContext:h}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),d.length&&(this._fingerprint=d),h&&(this._propagationContext=h),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,e1(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Z_()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const s={timestamp:ou(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:t1(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Vf(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Av(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Bn();if(!this._client)return ve.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r&&r.event_id?r.event_id:Bn();if(!this._client)return ve.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Bn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(ve.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const hi=O0;class F8{constructor(t,n){let r,s;r=t||new hi,s=n||new hi,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Ff(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Wa(){const e=T0(Lf());return e.stack=e.stack||new F8(Rh("defaultCurrentScope",()=>new hi),Rh("defaultIsolationScope",()=>new hi))}function V8(e){return Wa().withScope(e)}function U8(e,t){const n=Wa();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function n1(e){return Wa().withScope(()=>e(Wa().getIsolationScope()))}function R0(e){const t=T0(e);return t.acs?t.acs:{withIsolationScope:n1,withScope:V8,withSetScope:U8,withSetIsolationScope:(n,r)=>n1(r),getCurrentScope:()=>Wa().getScope(),getIsolationScope:()=>Wa().getIsolationScope()}}function bo(){return R0(Lf()).getCurrentScope()}function au(){return R0(Lf()).getIsolationScope()}function Ft(){return bo().getClient()}function B8(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Fn({trace_id:n,span_id:r,parent_span_id:s})}function z8(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,s]]of t)(n[r]||(n[r]=[])).push(Fn(s));return n}const q8=/^sentry-/;function W8(e){const t=function(r){if(!(!r||!os(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((s,i)=>{const o=r1(i);return Object.entries(o).forEach(([a,l])=>{s[a]=l}),s},{}):r1(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>(s.match(q8)&&(r[s.slice(7)]=i),r),{});return Object.keys(n).length>0?n:void 0}function r1(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}let s1=!1;function H8(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext();return Fn({parent_span_id:r?t:I0(e).parent_span_id,span_id:r?Av():t,trace_id:n})}function i1(e){return typeof e=="number"?o1(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?o1(e.getTime()):cs()}function o1(e){return e>9999999999?e/1e3:e}function I0(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const s=r;return!!(s.attributes&&s.startTime&&s.name&&s.endTime&&s.status)}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l}=e;return Fn({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:i1(s),timestamp:i1(o)||void 0,status:G8(l),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:z8(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function G8(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function bN(e){return e._sentryRootSpan||e}function K8(){s1||(iu(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),s1=!0)}const M0="production";function xN(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Fn({environment:n.environment||M0,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function J8(e){const t=Ft();if(!t)return{};const n=bN(e),r=n._frozenDsc;if(r)return r;const s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),o=i&&W8(i);if(o)return o;const a=xN(e.spanContext().traceId,t),l=I0(n),c=l.data||{},d=c["sentry.sample_rate"];d!=null&&(a.sample_rate=`${d}`);const h=c["sentry.source"],p=l.description;return h!=="url"&&p&&(a.transaction=p),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const b=Ft(),f=b&&b.getOptions();return!!f&&(f.enableTracing||"tracesSampleRate"in f||"tracesSampler"in f)}()&&(a.sampled=String(function(m){const{traceFlags:b}=m.spanContext();return b===1}(n))),t.emit("createDsc",a,n),a}const Y8=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Dh(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function a1(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Q8(e){const t=typeof e=="string"?function(n){const r=Y8.exec(n);if(!r)return void iu(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[s,i,o="",a="",l="",c=""]=r.slice(1);let d="",h=c;const p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){const m=h.match(/^\d+/);m&&(h=m[0])}return a1({host:a,pass:o,path:d,projectId:h,port:l,protocol:s,publicKey:i})}(e):a1(e);if(t&&function(n){if(!wo)return!0;const{port:r,projectId:s,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(ve.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(s.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?r&&isNaN(parseInt(r,10))&&(ve.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(ve.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(ve.error(`Invalid Sentry Dsn: Invalid projectId ${s}`),1)))}(t))return t}function es(e,t=100,n=1/0){try{return Nv("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function SN(e,t=3,n=102400){const r=es(e,t);return s=r,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(s))>n?SN(e,t-1,n):r;var s}function Nv(e,t,n=1/0,r=1/0,s=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(a){if(i)return!!o.has(a)||(o.add(a),!1);for(let l=0;l<o.length;l++)if(o[l]===a)return!0;return o.push(a),!1},function(a){if(i)o.delete(a);else for(let l=0;l<o.length;l++)if(o[l]===a){o.splice(l,1);break}}]}()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(m,b){try{if(m==="domain"&&b&&typeof b=="object"&&b._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&b===global)return"[Global]";if(typeof window<"u"&&b===window)return"[Window]";if(typeof document<"u"&&b===document)return"[Document]";if(mN(b))return"[VueViewModel]";if(Ba(f=b)&&"nativeEvent"in f&&"preventDefault"in f&&"stopPropagation"in f)return"[SyntheticEvent]";if(typeof b=="number"&&!Number.isFinite(b))return`[${b}]`;if(typeof b=="function")return`[Function: ${di(b)}]`;if(typeof b=="symbol")return`[${String(b)}]`;if(typeof b=="bigint")return`[BigInt: ${String(b)}]`;const x=function(y){const w=Object.getPrototypeOf(y);return w?w.constructor.name:"null prototype"}(b);return/^HTML(\w*)Element$/.test(x)?`[HTMLElement: ${x}]`:`[object ${x}]`}catch(x){return`**non-serializable** (${x})`}var f}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{return Nv("",c.toJSON(),l-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let h=0;const p=yN(t);for(const m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(h>=r){d[m]="[MaxProperties ~]";break}const b=p[m];d[m]=Nv(m,b,l-1,r,s),h++}return o(t),d}function Rc(e,t=[]){return[e,t]}function X8(e,t){const[n,r]=e;return[n,[...r,t]]}function l1(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function Ov(e){return Re.__SENTRY__&&Re.__SENTRY__.encodePolyfill?Re.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Z8(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Ov(r),i]:r.push(typeof i=="string"?Ov(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(es(a))}s(l)}}return typeof r=="string"?r:function(i){const o=i.reduce((c,d)=>c+d.length,0),a=new Uint8Array(o);let l=0;for(const c of i)a.set(c,l),l+=c.length;return a}(r)}function eW(e){const t=typeof e.data=="string"?Ov(e.data):e.data;return[Fn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const tW={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function c1(e){return tW[e]}function _N(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function nW(e,t,n,r){const s=_N(n),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,l){l&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||l.name,a.sdk.version=a.sdk.version||l.version,a.sdk.integrations=[...a.sdk.integrations||[],...l.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...l.packages||[]])})(e,n&&n.sdk);const o=function(a,l,c,d){const h=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!c&&d&&{dsn:Dh(d)},...h&&{trace:Fn({...h})}}}(e,s,r,t);return delete e.sdkProcessingMetadata,Rc(o,[[{type:i},e]])}function Rv(e,t,n,r=0){return new In((s,i)=>{const o=e[r];if(t===null||typeof o!="function")s(t);else{const a=o({...t},n);Be&&o.id&&a===null&&ve.log(`Event processor "${o.id}" dropped event`),Ff(a)?a.then(l=>Rv(e,l,n,r+1).then(s)).then(null,i):Rv(e,a,n,r+1).then(s).then(null,i)}})}let Gu,u1,lm;function rW(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;(function(o,a){const{extra:l,tags:c,user:d,contexts:h,level:p,transactionName:m}=a,b=Fn(l);b&&Object.keys(b).length&&(o.extra={...b,...o.extra});const f=Fn(c);f&&Object.keys(f).length&&(o.tags={...f,...o.tags});const x=Fn(d);x&&Object.keys(x).length&&(o.user={...x,...o.user});const y=Fn(h);y&&Object.keys(y).length&&(o.contexts={...y,...o.contexts}),p&&(o.level=p),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),r&&function(o,a){o.contexts={trace:H8(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:J8(a),...o.sdkProcessingMetadata};const l=bN(a),c=I0(l).description;c&&!o.transaction&&o.type==="transaction"&&(o.transaction=c)}(e,r),function(o,a){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const l=[...o.breadcrumbs||[],...a];o.breadcrumbs=l.length?l:void 0}(e,s),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,i)}function d1(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:p,transactionName:m,span:b}=t;Ku(e,"extra",n),Ku(e,"tags",r),Ku(e,"user",s),Ku(e,"contexts",i),e.sdkProcessingMetadata=Vf(e.sdkProcessingMetadata,a,2),o&&(e.level=o),m&&(e.transactionName=m),b&&(e.span=b),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...p}}function Ku(e,t,n){e[t]=Vf(e[t],n,1)}function sW(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Bn(),timestamp:t.timestamp||ou()},c=n.integrations||e.integrations.map(b=>b.name);(function(b,f){const{environment:x,release:y,dist:w,maxValueLength:S=250}=f;b.environment=b.environment||x||M0,!b.release&&y&&(b.release=y),!b.dist&&w&&(b.dist=w),b.message&&(b.message=da(b.message,S));const E=b.exception&&b.exception.values&&b.exception.values[0];E&&E.value&&(E.value=da(E.value,S));const C=b.request;C&&C.url&&(C.url=da(C.url,S))})(l,e),function(b,f){f.length>0&&(b.sdk=b.sdk||{},b.sdk.integrations=[...b.sdk.integrations||[],...f])}(l,c),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&function(b,f){const x=function(y){const w=Re._sentryDebugIds;if(!w)return{};const S=Object.keys(w);return lm&&S.length===u1||(u1=S.length,lm=S.reduce((E,C)=>{Gu||(Gu={});const T=Gu[C];if(T)E[T[0]]=T[1];else{const j=y(C);for(let N=j.length-1;N>=0;N--){const I=j[N],R=I&&I.filename,O=w[C];if(R&&O){E[R]=O,Gu[C]=[R,O];break}}}return E},{})),lm}(f);try{b.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{x&&w.filename&&(w.debug_id=x[w.filename])})})}catch{}}(l,e.stackParser);const d=function(b,f){if(!f)return b;const x=b?b.clone():new hi;return x.update(f),x}(r,n.captureContext);n.mechanism&&za(l,n.mechanism);const h=s?s.getEventProcessors():[],p=Rh("globalScope",()=>new hi).getScopeData();i&&d1(p,i.getScopeData()),d&&d1(p,d.getScopeData());const m=[...n.attachments||[],...p.attachments];return m.length&&(n.attachments=m),rW(l,p),Rv([...h,...p.eventProcessors],l,n).then(b=>(b&&function(f){const x={};try{f.exception.values.forEach(w=>{w.stacktrace.frames.forEach(S=>{S.debug_id&&(S.abs_path?x[S.abs_path]=S.debug_id:S.filename&&(x[S.filename]=S.debug_id),delete S.debug_id)})})}catch{}if(Object.keys(x).length===0)return;f.debug_meta=f.debug_meta||{},f.debug_meta.images=f.debug_meta.images||[];const y=f.debug_meta.images;Object.entries(x).forEach(([w,S])=>{y.push({type:"sourcemap",code_file:w,debug_id:S})})}(b),typeof o=="number"&&o>0?function(f,x,y){if(!f)return null;const w={...f,...f.breadcrumbs&&{breadcrumbs:f.breadcrumbs.map(S=>({...S,...S.data&&{data:es(S.data,x,y)}}))},...f.user&&{user:es(f.user,x,y)},...f.contexts&&{contexts:es(f.contexts,x,y)},...f.extra&&{extra:es(f.extra,x,y)}};return f.contexts&&f.contexts.trace&&w.contexts&&(w.contexts.trace=f.contexts.trace,f.contexts.trace.data&&(w.contexts.trace.data=es(f.contexts.trace.data,x,y))),f.spans&&(w.spans=f.spans.map(S=>({...S,...S.data&&{data:es(S.data,x,y)}}))),f.contexts&&f.contexts.flags&&w.contexts&&(w.contexts.flags=es(f.contexts.flags,3,y)),w}(b,o,a):b))}function h1(e,t){return bo().captureEvent(e,t)}function f1(e){const t=Ft(),n=au(),r=bo(),{release:s,environment:i=M0}=t&&t.getOptions()||{},{userAgent:o}=Re.navigator||{},a=$8({release:s,environment:i,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&qa(l,{status:"exited"}),EN(),n.setSession(a),r.setSession(a),a}function EN(){const e=au(),t=bo(),n=t.getSession()||e.getSession();n&&function(r,s){let i={};r.status==="ok"&&(i={status:"exited"}),qa(r,i)}(n),kN(),e.setSession(),t.setSession()}function kN(){const e=au(),t=bo(),n=Ft(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function p1(e=!1){e?EN():kN()}function iW(e,t,n){return t||`${function(r){return`${function(s){const i=s.protocol?`${s.protocol}:`:"",o=s.port?`:${s.port}`:"";return`${i}//${s.host}${o}${s.path?`/${s.path}`:""}/api/`}(r)}${r.projectId}/envelope/`}(e)}?${function(r,s){const i={sentry_version:"7"};return r.publicKey&&(i.sentry_key=r.publicKey),s&&(i.sentry_client=`${s.name}/${s.version}`),new URLSearchParams(i).toString()}(e,n)}`}const m1=[];function g1(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function v1(e,t,n){if(n[t.name])Be&&ve.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,m1.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),m1.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}Be&&ve.log(`Integration installed: ${t.name}`)}}class sr extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const y1="Not capturing exception because it's already been captured.";class oW{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Q8(t.dsn):Be&&ve.warn("No DSN provided, client will not send events."),this._dsn){const r=iW(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}const n=["enableTracing","tracesSampleRate","tracesSampler"].find(r=>r in t&&t[r]==null);n&&iu(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const s=Bn();if(X_(t))return Be&&ve.log(y1),s;const i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r))),i.event_id}captureMessage(t,n,r,s){const i={event_id:Bn(),...r},o=A0(t)?t:String(t),a=Cv(t)?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,s))),i.event_id}captureEvent(t,n,r){const s=Bn();if(n&&n.originalException&&X_(n.originalException))return Be&&ve.log(y1),s;const i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?Be&&ve.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),qa(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):uo(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];v1(this,t,this._integrations),n||g1(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=nW(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=X8(r,eW(i));const s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const n=function(r,s,i,o){const a=_N(i);return Rc({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&s&&{dsn:Dh(s)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const s=typeof r=="number"?r:1,i=`${t}:${n}`;Be&&ve.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Be&&ve.error("Error while sending envelope:",n),n)):(Be&&ve.error("Transport disabled"),uo({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const s={};return r.forEach(i=>{i&&v1(n,i,s)}),s}(this,t),g1(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception&&n.exception.values;if(i){s=!0;for(const a of i){const l=a.mechanism;if(l&&l.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(qa(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new In(n=>{let r=0;const s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=1,t&&r>=t&&(clearInterval(s),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=bo(),s=au()){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),sW(i,t,n,r,this,s).then(a=>{if(a===null)return a;a.contexts={trace:B8(r),...a.contexts};const l=function(c,d){const h=d.getPropagationContext();return h.dsc||xN(h.traceId,c)}(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{Be&&(s instanceof sr&&s.logLevel==="log"?ve.log(s.message):ve.warn(s))})}_processEvent(t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=b1(t),a=w1(t),l=t.type||"error",c=`before send for type \`${l}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const b=typeof m=="string"?parseFloat(m):m;if(!(typeof b!="number"||isNaN(b)||b<0||b>1))return b;Be&&ve.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Mh(new sr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",h,t),new sr("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return m;const b=function(f,x,y,w){const{beforeSend:S,beforeSendTransaction:E,beforeSendSpan:C}=x;if(w1(y)&&S)return S(y,w);if(b1(y)){if(y.spans&&C){const T=[];for(const j of y.spans){const N=C(j);N?T.push(N):(K8(),f.recordDroppedEvent("before_send","span"))}y.spans=T}if(E){if(y.spans){const T=y.spans.length;y.sdkProcessingMetadata={...y.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return E(y,w)}}return y}(this,s,m,n);return function(f,x){const y=`${x} must return \`null\` or a valid event.`;if(Ff(f))return f.then(w=>{if(!Ba(w)&&w!==null)throw new sr(y);return w},w=>{throw new sr(`${x} rejected with ${w}`)});if(!Ba(f)&&f!==null)throw new sr(y);return f}(b,c)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",h,t),o){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw new sr(`${c} returned \`null\`, will not send event.`,"log")}const b=r&&r.getSession();if(!o&&b&&this._updateSessionFromEvent(b,m),o){const x=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);x>0&&this.recordDroppedEvent("before_send","span",x)}const f=m.transaction_info;if(o&&f&&m.transaction!==t.transaction){const x="custom";m.transaction_info={...f,source:x}}return this.sendEvent(m,n),m}).then(null,m=>{throw m instanceof sr?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new sr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){Be&&ve.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Be&&ve.log("No outcomes to send"));if(!this._dsn)return void(Be&&ve.log("No dsn provided, will not send outcomes"));Be&&ve.log("Sending outcomes:",t);const n=(r=t,Rc((s=this._options.tunnel&&Dh(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:i||ou(),discarded_events:r}]]));var r,s,i;this.sendEnvelope(n)}}function w1(e){return e.type===void 0}function b1(e){return e.type==="transaction"}function aW(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return Mh(new sr("Not adding Promise because buffer limit was reached."));const s=r();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s},drain:function(r){return new In((s,i)=>{let o=t.length;if(!o)return s(!0);const a=setTimeout(()=>{r&&r>0&&s(!1)},r);t.forEach(l=>{uo(l).then(()=>{--o||(clearTimeout(a),s(!0))},i)})})}}}function lW(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,c,,,d]=a.split(":",5),h=parseInt(l,10),p=1e3*(isNaN(h)?60:h);if(c)for(const m of c.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(s[m]=r+p);else s.all=r+p}else o?s.all=r+function(a,l=Date.now()){const c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;const d=Date.parse(`${a}`);return isNaN(d)?6e4:d-l}(o,r):t===429&&(s.all=r+6e4);return s}function cW(e,t,n=aW(e.bufferSize||64)){let r={};return{send:function(s){const i=[];if(l1(s,(l,c)=>{const d=c1(c);if(function(h,p,m=Date.now()){return function(b,f){return b[f]||b.all||0}(h,p)>m}(r,d)){const h=x1(l,c);e.recordDroppedEvent("ratelimit_backoff",d,h)}else i.push(l)}),i.length===0)return uo({});const o=Rc(s[0],i),a=l=>{l1(o,(c,d)=>{const h=x1(c,d);e.recordDroppedEvent(l,c1(d),h)})};return n.add(()=>t({body:Z8(o)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&Be&&ve.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=lW(r,l),l),l=>{throw a("network_error"),l})).then(l=>l,l=>{if(l instanceof sr)return Be&&ve.error("Skipped sending event because buffer is full."),a("queue_overflow"),uo({});throw l})},flush:s=>n.drain(s)}}function x1(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const uW=100;function _i(e,t){const n=Ft(),r=au();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=uW}=n.getOptions();if(i<=0)return;const o={timestamp:ou(),...e},a=s?iu(()=>s(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let S1;const _1=new WeakMap,dW=()=>({name:"FunctionToString",setupOnce(){S1=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=N0(this),n=_1.has(Ft())&&t!==void 0?t:this;return S1.apply(n,e)}}catch{}},setup(e){_1.set(e,!0)}}),hW=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],fW=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const s=r.getOptions(),i=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:hW],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,s);return function(o,a){return a.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Be&&ve.warn(`Event dropped due to being internal Sentry Error.
Event: ${Is(o)}`),!0):function(l,c){return l.type||!c||!c.length?!1:function(d){const h=[];d.message&&h.push(d.message);let p;try{p=d.exception.values[d.exception.values.length-1]}catch{}return p&&p.value&&(h.push(p.value),p.type&&h.push(`${p.type}: ${p.value}`)),h}(l).some(d=>Hu(d,c))}(o,a.ignoreErrors)?(Be&&ve.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Is(o)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(c=>c.stacktrace||c.type&&c.type!=="Error"||c.value)}(o)?(Be&&ve.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Is(o)}`),!0):function(l,c){if(l.type!=="transaction"||!c||!c.length)return!1;const d=l.transaction;return!!d&&Hu(d,c)}(o,a.ignoreTransactions)?(Be&&ve.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Is(o)}`),!0):function(l,c){if(!c||!c.length)return!1;const d=Ju(l);return!!d&&Hu(d,c)}(o,a.denyUrls)?(Be&&ve.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Is(o)}.
Url: ${Ju(o)}`),!0):function(l,c){if(!c||!c.length)return!0;const d=Ju(l);return!d||Hu(d,c)}(o,a.allowUrls)?!1:(Be&&ve.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Is(o)}.
Url: ${Ju(o)}`),!0)}(t,i)?null:t}});function Ju(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const s=n[r];if(s&&s.filename!=="<anonymous>"&&s.filename!=="[native code]")return s.filename||null}return null}(t):null}catch{return Be&&ve.error(`Cannot extract url for event ${Is(e)}`),null}}function pW(e,t,n=250,r,s,i,o){if(!(i.exception&&i.exception.values&&o&&lo(o.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=Iv(e,t,s,o.originalException,r,i.exception.values,a,0),c=n,l.map(d=>(d.value&&(d.value=da(d.value,c)),d))))}function Iv(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(lo(r[s],Error)){E1(o,a);const c=e(t,r[s]),d=l.length;k1(c,s,d,a),l=Iv(e,t,n,r[s],s,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(lo(c,Error)){E1(o,a);const h=e(t,c),p=l.length;k1(h,`errors[${d}]`,p,a),l=Iv(e,t,n,c,s,[h,...l],h,p)}}),l}function E1(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function k1(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function cm(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function mW(){"console"in Re&&kv.forEach(function(e){e in Re.console&&xn(Re.console,e,function(t){return Ih[e]=t,function(...n){vr("console",{args:n,level:e});const r=Ih[e];r&&r.apply(Re.console,n)}})})}function gW(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const vW=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(s,i){const o=s.message,a=i.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!T1(s,i)||!C1(s,i))}(n,r)||function(s,i){const o=j1(i),a=j1(s);return!(!o||!a||o.type!==a.type||o.value!==a.value||!T1(s,i)||!C1(s,i))}(n,r)):!1}(t,e))return Be&&ve.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function C1(e,t){let n=H_(e),r=H_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function T1(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function j1(e){return e.exception&&e.exception.values&&e.exception.values[0]}function A1(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const um=Re;function Mv(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function yW(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in um))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Mv(um.fetch))return!0;let e=!1;const t=um.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Mv(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){wo&&ve.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function wW(e,t){const n="fetch";eo(n,e),to(n,()=>function(r,s=!1){s&&!yW()||xn(Re,"fetch",function(i){return function(...o){const a=new Error,{method:l,url:c}=function(h){if(h.length===0)return{method:"GET",url:""};if(h.length===2){const[m,b]=h;return{url:P1(m),method:Dv(b,"method")?String(b.method).toUpperCase():"GET"}}const p=h[0];return{url:P1(p),method:Dv(p,"method")?String(p.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:l,url:c},startTimestamp:1e3*cs(),virtualError:a};return r||vr("fetch",{...d}),i.apply(Re,o).then(async h=>(r?r(h):vr("fetch",{...d,endTimestamp:1e3*cs(),response:h}),h),h=>{throw vr("fetch",{...d,endTimestamp:1e3*cs(),error:h}),j0(h)&&h.stack===void 0&&(h.stack=a.stack,co(h,"framesToPop",1)),h})}})}(void 0,t))}function Dv(e,t){return!!e&&typeof e=="object"&&!!e[t]}function P1(e){return typeof e=="string"?e:e?Dv(e,"url")?e.url:e.toString?e.toString():"":""}const Yu=Re,_t=Re;let Lv=0;function N1(){return Lv>0}function Ha(e,t={}){if(!function(r){return typeof r=="function"}(e))return e;try{const r=e.__sentry_wrapped__;if(r)return typeof r=="function"?r:e;if(N0(e))return e}catch{return e}const n=function(...r){try{const s=r.map(i=>Ha(i,t));return e.apply(this,s)}catch(s){throw Lv++,setTimeout(()=>{Lv--}),function(...i){const o=R0(Lf());if(i.length===2){const[a,l]=i;return a?o.withSetScope(a,l):o.withScope(l)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(a=>(t.mechanism&&(jv(a,void 0),za(a,t.mechanism)),a.extra={...a.extra,arguments:r},a)),o=s,bo().captureException(o,void 0)}),s}};try{for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}catch{}vN(n,e),co(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}const Uf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function D0(e,t){const n=L0(e,t),r={type:SW(t),value:_W(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function bW(e,t,n,r){const s=Ft(),i=s&&s.getOptions().normalizeDepth,o=function(c){for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d)){const h=c[d];if(h instanceof Error)return h}}(t),a={__serialized__:SN(t,i)};if(o)return{exception:{values:[D0(e,o)]},extra:a};const l={exception:{values:[{type:$f(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:EW(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=L0(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function dm(e,t){return{exception:{values:[D0(e,t)]}}}function L0(e,t){const n=t.stacktrace||t.stack||"",r=function(i){return i&&xW.test(i.message)?1:0}(t),s=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(n,r,s)}catch{}return[]}const xW=/Minified React error #\d+;/i;function CN(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function SW(e){const t=e&&e.name;return!t&&CN(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function _W(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:CN(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function $v(e,t,n,r,s){let i;if(pN(t)&&t.error)return dm(e,t.error);if(K_(t)||il(t,"DOMException")){const o=t;if("stack"in t)i=dm(e,t);else{const a=o.name||(K_(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=Fv(e,l,n,r),jv(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return j0(t)?dm(e,t):Ba(t)||$f(t)?(i=bW(e,t,n,s),za(i,{synthetic:!0}),i):(i=Fv(e,t,n,r),jv(i,`${t}`),za(i,{synthetic:!0}),i)}function Fv(e,t,n,r){const s={};if(r&&n){const i=L0(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),za(s,{synthetic:!0})}if(A0(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function EW(e,{isUnhandledRejection:t}){const n=function(s,i=40){const o=Object.keys(yN(s));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=i)return da(a,i);for(let l=o.length;l>0;l--){const c=o.slice(0,l).join(", ");if(!(c.length>i))return l===o.length?c:da(c,i)}return""}(e),r=t?"promise rejection":"exception";return pN(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:$f(e)?`Event \`${function(s){try{const i=Object.getPrototypeOf(s);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class kW extends oW{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,s,i=[s],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${s}`,packages:i.map(l=>({name:`${o}:@sentry/${l}`,version:Zi})),version:Zi}),r._metadata=a})(n,"browser",["browser"],_t.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&_t.document&&_t.document.addEventListener("visibilitychange",()=>{_t.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,s,i,o){const a=$v(r,s,i&&i.syntheticException||void 0,o);return za(a),a.level="error",i&&i.event_id&&(a.event_id=i.event_id),uo(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(s,i,o="info",a,l){const c=Fv(s,i,a&&a.syntheticException||void 0,l);return c.level=o,a&&a.event_id&&(c.event_id=a.event_id),uo(c)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Uf&&ve.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:s,tunnel:i,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...s&&s.sdk&&{sdk:{name:s.sdk.name,version:s.sdk.version}},...!!i&&!!o&&{dsn:Dh(o)}};return Rc(a,[function(c){return[{type:"user_report"},c]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const CW=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Jt=Re;let O1,hm,fm,Qu;function TW(){if(!Jt.document)return;const e=vr.bind(null,"dom"),t=R1(e,!0);Jt.document.addEventListener("click",t,!1),Jt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Jt[n],s=r&&r.prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(xn(s,"addEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=c[o]=c[o]||{refCount:0};if(!d.handler){const h=R1(e);d.handler=h,i.call(this,o,h,l)}d.refCount++}catch{}return i.call(this,o,a,l)}}),xn(s,"removeEventListener",function(i){return function(o,a,l){if(o==="click"||o=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},d=c[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,l),d.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,l)}}))})}function R1(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(i){try{return i.target}catch{return null}}(n);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;co(n,"_sentryCaptured",!0),r&&!r._sentryId&&co(r,"_sentryId",Bn());const s=n.type==="keypress"?"input":n.type;(function(i){if(i.type!==hm)return!1;try{if(!i.target||i.target._sentryId!==fm)return!1}catch{}return!0})(n)||(e({event:n,name:s,global:t}),hm=n.type,fm=r?r._sentryId:void 0),clearTimeout(O1),O1=Jt.setTimeout(()=>{fm=void 0,hm=void 0},1e3)}}function TN(e){const t="history";eo(t,e),to(t,jW)}function jW(){if(!function(){const n=Yu.chrome,r=n&&n.app&&n.app.runtime,s="history"in Yu&&!!Yu.history.pushState&&!!Yu.history.replaceState;return!r&&s}())return;const e=Jt.onpopstate;function t(n){return function(...r){const s=r.length>2?r[2]:void 0;if(s){const i=Qu,o=String(s);Qu=o,vr("history",{from:i,to:o})}return n.apply(this,r)}}Jt.onpopstate=function(...n){const r=Jt.location.href,s=Qu;if(Qu=r,vr("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}},xn(Jt.history,"pushState",t),xn(Jt.history,"replaceState",t)}const Od={};function I1(e){Od[e]=void 0}const Ol="__sentry_xhr_v3__";function AW(){if(!Jt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=1e3*cs(),o=os(r[0])?r[0].toUpperCase():void 0,a=function(c){if(os(c))return c;try{return c.toString()}catch{}}(r[1]);if(!o||!a)return t.apply(n,r);n[Ol]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Ol];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}vr("xhr",{endTimestamp:1e3*cs(),startTimestamp:i,xhr:n,virtualError:s})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(c,d,h)=>(l(),c.apply(d,h))}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,d,h){const[p,m]=h,b=d[Ol];return b&&os(p)&&os(m)&&(b.request_headers[p.toLowerCase()]=m),c.apply(d,h)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Ol];return s?(r[0]!==void 0&&(s.body=r[0]),vr("xhr",{startTimestamp:1e3*cs(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function PW(e,t=function(n){const r=Od[n];if(r)return r;let s=Jt[n];if(Mv(s))return Od[n]=s.bind(Jt);const i=Jt.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(s=a[n]),i.head.removeChild(o)}catch(o){CW&&ve.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return s&&(Od[n]=s.bind(Jt))}("fetch")){let n=0,r=0;return cW(e,function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return I1("fetch"),Mh("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=i,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return I1("fetch"),n-=i,r--,Mh(a)}})}function pm(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Vi:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const NW=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,OW=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,RW=/\((\S*)(?::(\d+))(?::(\d+))\)/,IW=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,MW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,DW=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=z_.test(l)?l.replace(z_,"$1"):l;if(!c.match(/\S*Error: /)){for(const d of t){const h=d(c);if(h){i.push(h);break}}if(i.length>=50+s)break}}return function(a){if(!a.length)return[];const l=Array.from(a);return/sentryWrapped/.test(Wu(l).function||"")&&l.pop(),l.reverse(),q_.test(Wu(l).function||"")&&(l.pop(),q_.test(Wu(l).function||"")&&l.pop()),l.slice(0,50).map(c=>({...c,filename:c.filename||Wu(l).filename,function:c.function||Vi}))}(i.slice(s))}}([30,e=>{const t=NW.exec(e);if(t){const[,r,s,i]=t;return pm(r,Vi,+s,+i)}const n=OW.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=RW.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[r,s]=M1(n[1]||Vi,n[2]);return pm(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=IW.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=MW.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],r=t[1]||Vi;return[r,n]=M1(r,n),pm(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),M1=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Vi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},D1=1024,LW=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(s){const i="console";eo(i,s),to(i,mW)}(function(s){return function(i){if(Ft()!==s)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:gW(i.level),message:J_(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${J_(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}_i(o,{input:i.args,level:i.level})}}(n)),t.dom&&(r=function(s,i){return function(o){if(Ft()!==s)return;let a,l,c=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>D1&&(Uf&&ve.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=D1),typeof c=="string"&&(c=[c]);try{const p=o.event,m=function(b){return!!b&&!!b.target}(p)?p.target:p;a=gN(m,{keyAttrs:c,maxStringLength:d}),l=function(b){if(!P0.HTMLElement)return null;let f=b;for(let x=0;x<5;x++){if(!f)return null;if(f instanceof HTMLElement){if(f.dataset.sentryComponent)return f.dataset.sentryComponent;if(f.dataset.sentryElement)return f.dataset.sentryElement}f=f.parentNode}return null}(m)}catch{a="<unknown>"}if(a.length===0)return;const h={category:`ui.${o.name}`,message:a};l&&(h.data={"ui.component_name":l}),_i(h,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),eo("dom",r),to("dom",TW)),t.xhr&&function(s){eo("xhr",s),to("xhr",AW)}(function(s){return function(i){if(Ft()!==s)return;const{startTimestamp:o,endTimestamp:a}=i,l=i.xhr[Ol];if(!o||!a||!l)return;const{method:c,url:d,status_code:h,body:p}=l,m={method:c,url:d,status_code:h},b={xhr:i.xhr,input:p,startTimestamp:o,endTimestamp:a};_i({category:"xhr",data:m,type:"http",level:A1(h)},b)}}(n)),t.fetch&&wW(function(s){return function(i){if(Ft()!==s)return;const{startTimestamp:o,endTimestamp:a}=i;if(a&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)_i({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:a});else{const l=i.response,c={...i.fetchData,status_code:l&&l.status},d={input:i.args,response:l,startTimestamp:o,endTimestamp:a};_i({category:"fetch",data:c,type:"http",level:A1(c.status_code)},d)}}}(n)),t.history&&TN(function(s){return function(i){if(Ft()!==s)return;let o=i.from,a=i.to;const l=cm(_t.location.href);let c=o?cm(o):void 0;const d=cm(a);c&&c.path||(c=l),l.protocol===d.protocol&&l.host===d.host&&(a=d.relative),l.protocol===c.protocol&&l.host===c.host&&(o=c.relative),_i({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(s){return function(i){Ft()===s&&_i({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Is(i)},{event:i})}}(n))}}},$W=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],FW=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&xn(_t,"setTimeout",L1),t.setInterval&&xn(_t,"setInterval",L1),t.requestAnimationFrame&&xn(_t,"requestAnimationFrame",VW),t.XMLHttpRequest&&"XMLHttpRequest"in _t&&xn(XMLHttpRequest.prototype,"send",UW);const n=t.eventTarget;n&&(Array.isArray(n)?n:$W).forEach(BW)}}};function L1(e){return function(...t){const n=t[0];return t[0]=Ha(n,{mechanism:{data:{function:di(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function VW(e){return function(t){return e.apply(this,[Ha(t,{mechanism:{data:{function:"requestAnimationFrame",handler:di(e)},handled:!1,type:"instrument"}})])}}function UW(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&xn(n,r,function(s){const i={mechanism:{data:{function:r,handler:di(s)},handled:!1,type:"instrument"}},o=N0(s);return o&&(i.mechanism.data.handler=di(o)),Ha(s,i)})}),e.apply(this,t)}}function BW(e){const t=_t[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(xn(n,"addEventListener",function(r){return function(s,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ha(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:di(i),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[s,Ha(i,{mechanism:{data:{function:"addEventListener",handler:di(i),target:e},handled:!1,type:"instrument"}}),o])}}),xn(n,"removeEventListener",function(r){return function(s,i,o){try{const a=i.__sentry_wrapped__;a&&r.call(this,s,a,o)}catch{}return r.call(this,s,i,o)}}))}const zW=()=>({name:"BrowserSession",setupOnce(){_t.document!==void 0?(f1({ignoreDuration:!0}),p1(),TN(({from:e,to:t})=>{e!==void 0&&e!==t&&(f1({ignoreDuration:!0}),p1())})):Uf&&ve.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),qW=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(s){const i="error";eo(i,s),to(i,I8)})(s=>{const{stackParser:i,attachStacktrace:o}=F1();if(Ft()!==r||N1())return;const{msg:a,url:l,line:c,column:d,error:h}=s,p=function(m,b,f,x){const y=m.exception=m.exception||{},w=y.values=y.values||[],S=w[0]=w[0]||{},E=S.stacktrace=S.stacktrace||{},C=E.frames=E.frames||[],T=x,j=f,N=os(b)&&b.length>0?b:function(){try{return P0.document.location.href}catch{return""}}();return C.length===0&&C.push({colno:T,filename:N,function:Vi,in_app:!0,lineno:j}),m}($v(i,h||a,void 0,o,!1),l,c,d);p.level="error",h1(p,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(n),$1("onerror")),t.onunhandledrejection&&(function(r){(function(s){const i="unhandledrejection";eo(i,s),to(i,M8)})(s=>{const{stackParser:i,attachStacktrace:o}=F1();if(Ft()!==r||N1())return;const a=function(c){if(Cv(c))return c;try{if("reason"in c)return c.reason;if("detail"in c&&"reason"in c.detail)return c.detail.reason}catch{}return c}(s),l=Cv(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:$v(i,a,void 0,o,!0);l.level="error",h1(l,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),$1("onunhandledrejection"))}}};function $1(e){Uf&&ve.log(`Global Handler attached: ${e}`)}function F1(){const e=Ft();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const WW=()=>({name:"HttpContext",preprocessEvent(e){if(!_t.navigator&&!_t.location&&!_t.document)return;const t=e.request&&e.request.url||_t.location&&_t.location.href,{referrer:n}=_t.document||{},{userAgent:r}=_t.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),HW=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,s,i){const o=i.getOptions();pW(D0,o.stackParser,o.maxValueLength,n,t,r,s)}}};var Vv="new",V1="loading",U1="loaded",Lh="joining-meeting",$s="joined-meeting",Ps="left-meeting",Qr="error",GW="blocked",KW="off",JW="sendable",YW="loading",QW="interrupted",jN="playable",Rd="unknown",AN="full",XW="lobby",ZW="none",PN="base",e6="*",t6="ejected",n6="nbf-room",r6="nbf-token",s6="exp-room",i6="exp-token",Uv="no-room",o6="meeting-full",NN="end-of-life",a6="not-allowed",ON="connection-error",l6="cam-in-use",c6="mic-in-use",u6="cam-mic-in-use",d6="permissions",h6="undefined-mediadevices",f6="not-found",p6="constraints",m6="unknown",RN="iframe-ready-for-launch-config",IN="iframe-launch-config",MN="theme-updated",DN="loading",LN="load-attempt-failed",Bv="loaded",$N="started-camera",FN="camera-error",VN="joining-meeting",UN="joined-meeting",BN="left-meeting",zN="participant-joined",qN="participant-updated",WN="participant-left",HN="participant-counts-updated",GN="access-state-updated",KN="meeting-session-summary-updated",JN="meeting-session-state-updated",g6="meeting-session-data-error",YN="waiting-participant-added",QN="waiting-participant-updated",XN="waiting-participant-removed",ZN="track-started",eO="track-stopped",tO="transcription-started",nO="transcription-stopped",rO="transcription-error",zv="recording-started",qv="recording-stopped",sO="recording-stats",iO="recording-error",oO="recording-upload-completed",aO="recording-data",lO="app-message",cO="transcription-message",uO="remote-media-player-started",dO="remote-media-player-updated",hO="remote-media-player-stopped",fO="local-screen-share-started",pO="local-screen-share-stopped",mO="local-screen-share-canceled",gO="active-speaker-change",vO="active-speaker-mode-change",yO="network-quality-change",wO="network-connection",bO="cpu-load-change",xO="face-counts-updated",Rl="fullscreen",Il="exited-fullscreen",SO="live-streaming-started",_O="live-streaming-updated",EO="live-streaming-stopped",kO="live-streaming-error",CO="lang-updated",TO="receive-settings-updated",Wv="input-settings-updated",Hv="nonfatal-error",Gv="error",mm=4096,B1=102400,gm="iframe-call-message",z1="local-screen-start",q1="daily-method-update-live-streaming-endpoints",Xu="transmit-log",as="daily-custom-track",Id={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},jO={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Kv={PLAY:"play",PAUSE:"pause"},vm=["jpg","png","jpeg"],v6="add-endpoints",y6="remove-endpoints",W1="sip-call-transfer";function Wn(){return!je()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function je(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function AO(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function w6(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(ho(),$h())||je())}function H1(){if(je()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Jv="none",b6="software",x6="hardware",S6=function(){try{var e,t=document.createElement("canvas"),n=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(n=!0,e=t.getContext("webgl2"));var r=e!=null;return t.remove(),r?n?b6:x6:Jv}catch{return Jv}}();function PO(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!je()&&S6!==Jv&&(e?function(){return G1()?!1:["Chrome","Firefox"].includes(ho())}():function(){if(G1())return!1;var t=ho();if(t==="Safari"){var n=F0();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?$0().major>=77:t==="Firefox"?V0().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function NO(){if(je()||OO()||typeof AudioWorkletNode>"u")return!1;switch(ho()){case"Chrome":case"Firefox":return!0;case"Safari":var e=$h();return e.major>17||e.major===17&&e.minor>=4}return!1}function ym(){return AO()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=ho();if(!Wn())return!0;switch(t){case"Chrome":return(e=$0()).major&&e.major>0&&e.major<75;case"Firefox":return(e=V0()).major<91;case"Safari":return(e=F0()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function OO(){return Wn().match(/Linux; Android/)}function G1(){var e,t=Wn(),n=t.match(/Mac/)&&(!je()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||n)||!!Wn().match(/DailyAnd\//)||void 0}function ho(){if(typeof window<"u"){var e=Wn();return RO()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||IO()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function $h(){switch(ho()){case"Chrome":return $0();case"Safari":return F0();case"Firefox":return V0();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Wn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function $0(){var e=0,t=0,n=0,r=0,s=!1;if(typeof window<"u"){var i=Wn(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),s=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:s}}function RO(){return!!Wn().match(/iPad|iPhone|iPod/i)&&AO()}function IO(){return Wn().indexOf("AppleWebKit/605.1.15")>-1}function F0(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Wn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(RO()||IO())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function V0(){var e=0,t=0;if(typeof window<"u"){var n=Wn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var MO=function(){return An(function e(){jn(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){_l()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){_l()}},{key:"sendMessageToCallMachine",value:function(e,t,n,r){_l()}},{key:"sendMessageToDailyJs",value:function(e,t){_l()}},{key:"removeListener",value:function(e){_l()}}])}();function K1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}var _6=function(){function e(){var t,n,r,s;return jn(this,e),n=this,r=xr(r=e),(t=If(n,DO()?Reflect.construct(r,[],xr(n).constructor):r.apply(n,s)))._wrappedListeners={},t._messageCallbacks={},t}return Mf(e,MO),An(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){var s=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===n)&&(!o.data.from||o.data.from!=="module")){var a=wm({},o.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var l=a.callbackStamp;s._messageCallbacks[l].call(r,a),delete s._messageCallbacks[l]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){var s=function(i){var o;if(!(!i.data||i.data.what!==gm||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&n&&i.data.callClientId!==n||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var a=i.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,n,r,s){if(!r)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=wm({},t);if(i.what=gm,i.from="module",i.callClientId=r,n){var o=Df();this._messageCallbacks[o]=n,i.callbackStamp=o}var a=s?s.contentWindow:window,l=this._callMachineTargetOrigin(s);l&&a.postMessage(i,l)}},{key:"sendMessageToDailyJs",value:function(t,n){t.what=gm,t.callClientId=n,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,n,r){var s=wm({},t);s.callClientId=r;var i=n?n.contentWindow:window,o=this._callMachineTargetOrigin(n);o&&i.postMessage(s,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,n){var r=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===n)&&(!s.data.from||s.data.from!=="module")){var i=s.data;t(i)}};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var n=this._wrappedListeners[t];n&&(window.removeEventListener("message",n),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}var E6=function(){function e(){var t,n,r,s;return jn(this,e),n=this,r=xr(r=e),t=If(n,LO()?Reflect.construct(r,[],xr(n).constructor):r.apply(n,s)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Ev.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Ev.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Mf(e,MO),An(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){this._addListener(t,global.callMachineToDailyJsEmitter,n,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){this._addListener(t,global.dailyJsToCallMachineEmitter,n,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,n,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,n,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,n){this._sendMessage(t,global.callMachineToDailyJsEmitter,n,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var n=this._wrappedListeners[t];n&&(global.callMachineToDailyJsEmitter.removeListener("message",n),global.dailyJsToCallMachineEmitter.removeListener("message",n),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,n,r,s,i){var o=this,a=function(l){if(l.callClientId===r){if(l.callbackStamp&&o._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;o._messageCallbacks[c].call(s,l),delete o._messageCallbacks[c]}t.call(s,l)}};this._wrappedListeners[t]=a,n.addListener("message",a)}},{key:"_sendMessage",value:function(t,n,r,s,i){var o=function(l){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?J1(Object(d),!0).forEach(function(h){Or(l,h,d[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(d)):J1(Object(d)).forEach(function(h){Object.defineProperty(l,h,Object.getOwnPropertyDescriptor(d,h))})}return l}({},t);if(o.callClientId=r,s){var a=Df();this._messageCallbacks[a]=s,o.callbackStamp=a}n.emit("message",o)}}])}(),Yv="replace",Qv="shallow-merge",Y1=[Yv,Qv],k6=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,s=r===void 0?Yv:r;jn(this,e),e._validateMergeStrategy(s),e._validateData(n,s),this.mergeStrategy=s,this.data=n}return An(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===Qv}},{key:"_validateMergeStrategy",value:function(t){if(!Y1.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(Y1,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Ae(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return l==null||l===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===Yv){var s=JSON.parse(r);Gt(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(n===Qv){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));Gt(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>B1)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(B1,"."))}}])}();function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function Xv(e){var t=typeof Map=="function"?new Map:void 0;return Xv=function(n){if(n===null||!function(s){try{return Function.toString.call(s).indexOf("[native code]")!==-1}catch{return typeof s=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(s,i,o){if($O())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,i);var l=new(s.bind.apply(s,a));return o&&Oc(l,o.prototype),l}(n,arguments,xr(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Oc(r,n)},Xv(e)}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function Q1(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var C6=function(){return An(function e(t){jn(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void r(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new T6(n,function(){r(!1)},function(i,o){o||Q1(t._callClientId),s(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),Q1(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),T6=function(){return An(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;jn(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(n){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(n,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new X1(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new X1(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),bm=function(){function e(){return jn(this,e),t=this,r=arguments,n=xr(n=e),If(t,FO()?Reflect.construct(n,r||[],xr(t).constructor):n.apply(t,r));var t,n,r}return Mf(e,Xv(Error)),An(e)}(),Fh=2e4,X1=function(){return An(function t(n,r,s){jn(this,t),this._loadAttemptImpl=je()||!n.avoidEval?new j6(n,r,s):new A6(n,r,s)},[{key:"start",value:(e=ge(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),j6=function(){return An(function s(i,o,a){jn(this,s),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=a},[{key:"start",value:(r=ge(function*(){var s=Nh(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return r.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(n=ge(function*(s){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(s);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(s){return n.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=ge(function*(s){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Fh," ms) when loading call object bundle ").concat(s),type:"timeout"})},Fh);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},a=yield fetch(s,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new bm;var l=yield this._getBundleCodeFromResponse(s,a);if(this.cancelled)throw new bm;Function('"use strict";'+l)(),this._iosCache&&this._iosCache.set(s,l,a.headers),this.succeeded=!0,this._successCallback()}catch(c){if(clearTimeout(this._networkTimeout),c instanceof bm||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(c),type:c.message})}}),function(s){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=ge(function*(s,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(s,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(s,i){return e.apply(this,arguments)})}]);var e,t,n,r}(),A6=function(){return An(function e(t,n,r){jn(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Df(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Nh(this._dailyConfig);(typeof document>"u"?"undefined":Ae(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Fh," ms) when loading call object bundle ").concat(e),type:"timeout"})},Fh);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");this._scriptElement=r,r.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},r.onerror=function(s){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},r.src=e,n.appendChild(r)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Zu=function(e,t,n){return N6(e.local,t,n)===!0},P6=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},ea=function(e,t,n,r){var s=O6(e,t,n,r);return s&&s.pendingTrack},N6=function(e,t,n){if(!e)return!1;var r=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},s=e.public.subscribedTracks;return s&&s[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&s[t].custom?[!0,"staged"].includes(s[t].custom)?r(s[t].custom):r(s[t].custom[n]):r(s[t][n]):!s||r(s.ALL)},O6=function(e,t,n,r){var s=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===n&&i.pendingTrack&&i.pendingTrack.kind===r}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return s&&s[0]},R6=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function Z1(e,t){for(var n=t.getState(),r=0,s=["cam","screen"];r<s.length;r++)for(var i=s[r],o=0,a=["video","audio"];o<a.length;o++){var l=a[o],c=i==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),d=e.tracks[c];if(d){var h=e.local?P6(n,i,l):ea(n,e.session_id,i,l);d.state==="playable"&&(d.track=h),d.persistentTrack=h}}}function eE(e,t){try{var n=t.getState();for(var r in e.tracks)if(!I6(r)){var s=e.tracks[r].kind;if(s){var i=e.tracks[r];if(i){var o=e.local?R6(n,r):ea(n,e.session_id,r,s);i.state==="playable"&&(e.tracks[r].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function I6(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function tE(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var s=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(s=!1)}catch(d){console.error(d)}if(!s)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Zu(r,e.session_id,"cam-audio")){var o=ea(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Zu(r,e.session_id,"cam-video")){var a=ea(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&Zu(r,e.session_id,"screen-audio")){var l=ea(r,e.session_id,"screen","audio");l&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===l.id?e.screenAudioTrack=l:l.muted||(e.screenAudioTrack=l))}if(e.screen&&Zu(r,e.session_id,"screen-video")){var c=ea(r,e.session_id,"screen","video");c&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===c.id?e.screenVideoTrack=c:c.muted||(e.screenVideoTrack=c))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function M6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return nE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?nE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tr=new Map,ha=null;function D6(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return rE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?rE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function rE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var jr=new Map,Xl=null;function L6(e){VO()?function(t){Tr.has(t)||(Tr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){Tr.has(t)&&(Tr.get(t).lastDevicesString=JSON.stringify(n),ha||(ha=function(){var r=ge(function*(){var s,i=yield navigator.mediaDevices.enumerateDevices(),o=M6(Tr.keys());try{for(o.s();!(s=o.n()).done;){var a=s.value,l=JSON.stringify(i);l!==Tr.get(a).lastDevicesString&&(Tr.get(a).lastDevicesString=l,a(i))}}catch(c){o.e(c)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",ha)))}).catch(function(){}))}(e):function(t){jr.has(t)||(jr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){jr.has(t)&&(jr.get(t).lastDevicesString=JSON.stringify(n),Xl||(Xl=setInterval(ge(function*(){var r,s=yield navigator.mediaDevices.enumerateDevices(),i=D6(jr.keys());try{for(i.s();!(r=i.n()).done;){var o=r.value,a=JSON.stringify(s);a!==jr.get(o).lastDevicesString&&(jr.get(o).lastDevicesString=a,o(s))}}catch(l){i.e(l)}finally{i.f()}}),3e3)))}))}(e)}function $6(e){VO()?function(t){Tr.has(t)&&(Tr.delete(t),Tr.size===0&&ha&&(navigator.mediaDevices.removeEventListener("devicechange",ha),ha=null))}(e):function(t){jr.has(t)&&(jr.delete(t),jr.size===0&&Xl&&(clearInterval(Xl),Xl=null))}(e)}function VO(){var e;return je()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var F6=new Set;function V6(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!F6.has(n.id)}(e)}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ml=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),U6=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Zl=Object.values(Ml),iE=["v","a","sv","sa","cv","ca"];Object.freeze(Zl.reduce(function(e,t,n){return e[t]=iE[n],e},{})),Object.freeze(iE.reduce(function(e,t,n){return e[t]=Zl[n],e},{}));var B6=[Ml.VIDEO,Ml.AUDIO,Ml.SCREEN_VIDEO,Ml.SCREEN_AUDIO],oE=Object.values(U6),aE=["p","s","t"];Object.freeze(oE.reduce(function(e,t,n){return e[t]=aE[n],e},{})),Object.freeze(aE.reduce(function(e,t,n){return e[t]=oE[n],e},{}));var UO=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.base,r=t.byUserId,s=t.byParticipantId;jn(this,e),this.base=n,this.byUserId=r,this.byParticipantId=s}return An(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof Tt?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Tt?r.clone():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Tt?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof Tt&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var n in t.byUserId={},this.byUserId){var r=this.byUserId[n];t.byUserId[n]=r instanceof Tt?r.toJSONObject():r}if(this.byParticipantId!==void 0)for(var s in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[s];t.byParticipantId[s]=i instanceof Tt?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var n in t.u={},this.byUserId){var r=this.byUserId[n];t.u[n]=typeof r=="boolean"?r:r.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var s in t.p={},this.byParticipantId){var i=this.byParticipantId[s];t.p[s]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof Tt&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var n=Ut(t,2),r=n[0],s=n[1];return[r,s instanceof Tt?s.normalize():s]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var n=Ut(t,2),r=n[0],s=n[1];return[r,s instanceof Tt?s.normalize():s]}))),this}}],[{key:"fromJSONObject",value:function(t){var n,r,s;if(t.base!==void 0&&(n=typeof t.base=="boolean"?t.base:Tt.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in r={},t.byUserId){var o=t.byUserId[i];r[i]=typeof o=="boolean"?o:Tt.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var a in s={},t.byParticipantId){var l=t.byParticipantId[a];s[a]=typeof l=="boolean"?l:Tt.fromJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"fromMinifiedJSONObject",value:function(t){var n,r,s;if(t.b!==void 0&&(n=typeof t.b=="boolean"?t.b:Tt.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in r={},t.u){var o=t.u[i];r[i]=typeof o=="boolean"?o:Tt.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var a in s={},t.p){var l=t.p[a];s[a]=typeof l=="boolean"?l:Tt.fromMinifiedJSONObject(l)}return new e({base:n,byUserId:r,byParticipantId:s})}},{key:"validateJSONObject",value:function(t){if(Ae(t)!=="object")return[!1,"canReceive must be an object"];for(var n=["base","byUserId","byParticipantId"],r=0,s=Object.keys(t);r<s.length;r++){var i=s[r];if(!n.includes(i))return[!1,"canReceive can only contain keys (".concat(n.join(", "),")")];if(i==="base"){var o=Ut(Tt.validateJSONObject(t.base,!0),2),a=o[0],l=o[1];if(!a)return[!1,l]}else{if(Ae(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var c=0,d=Object.values(t[i]);c<d.length;c++){var h=d[c],p=Ut(Tt.validateJSONObject(h),2),m=p[0],b=p[1];if(!m)return[!1,b]}}}return[!0]}}])}(),Tt=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.video,r=t.audio,s=t.screenVideo,i=t.screenAudio,o=t.customVideo,a=t.customAudio;jn(this,e),this.video=n,this.audio=r,this.screenVideo=s,this.screenAudio=i,this.customVideo=o,this.customAudio=a}return An(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Cs({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Cs({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Cs({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Cs({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Cs({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Cs({},this.customAudio)),t}},{key:"normalize",value:function(){function t(n,r){return n&&Object.keys(n).length===1&&n["*"]===r}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Cs({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Cs({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,n){if(typeof t=="boolean")return[!0];if(Ae(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var r=Object.keys(t),s=0,i=r;s<i.length;s++){var o=i[s];if(!Zl.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(B6.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(Ae(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var a=0,l=Object.values(t[o]);a<l.length;a++)if(typeof l[a]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(n&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return n&&r.length!==Zl.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Zl.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),z6=["result"],q6=["preserveIframe"];function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function cE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return uE(l,c);var d={}.toString.call(l).slice(8,-1);return d==="Object"&&l.constructor&&(d=l.constructor.name),d==="Map"||d==="Set"?Array.from(l):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?uE(l,c):void 0}}(e))||t){n&&(e=n);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function uE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ei={},dE="video",W6="voice",hE=je()?{data:{}}:{data:{},topology:"none"},fE={present:0,hidden:0},zO={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},xm=Object.keys(zO),pE=["state","volume","simulcastEncodings"],mE={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Vh={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Zv={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},ki={customIntegrations:{validate:QO,help:JO()},customTrayButtons:{validate:YO,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Vh))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return XO(e,mE)},help:"reactNativeConfig should look like ".concat(JSON.stringify(mE),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return qO(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,n={customTrack:as};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:n}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var n;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,n={customTrack:as};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;n={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:n}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var s=0,i=Object.keys(r);s<i.length;s++){var o=i[s];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Ae(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return WO(e,{allowAllParticipantsKey:!1})},help:KO({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(s){return console.error("Failed to validate send settings",s),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!HO(e)&&(t._inputSettings||(t._inputSettings={}),GO(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:ey()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},ed={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!je()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],s=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in i)if(a==="custom"){if(!n.includes(i[a])&&!s(i[a],!0))return!1}else{var l=!o&&!r.includes(a),c=!n.includes(i[a]);if(l||c)return!1}return!0};return s(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(je()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ut(n[t],2),s=r[0],i=r[1];switch(s){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=cE(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(!a.includes(c))return!1}}catch(y){l.e(y)}finally{l.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=Ut(UO.validateJSONObject(i),2),h=d[0],p=d[1];if(!h)return console.error(p),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,b=["participants","streaming","transcription"],f=cE(i);try{for(f.s();!(m=f.n()).done;){var x=m.value;if(!b.includes(x))return!1}}catch(y){f.e(y)}finally{f.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=ge(function*(t){return new Promise(function(n,r){var s=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){n(o)}).catch(function(o){s.push(o),s.length===t.length&&r(s)})})})});return function(t){return e.apply(this,arguments)}}());var H6=function(){function e(g){var k,_,P,A,M,U,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jn(this,e),P=this,A=xr(A=e),Or(_=If(P,BO()?Reflect.construct(A,[],xr(P).constructor):A.apply(P,M)),"startListeningForDeviceChanges",function(){L6(_.handleDeviceChange)}),Or(_,"stopListeningForDeviceChanges",function(){$6(_.handleDeviceChange)}),Or(_,"handleDeviceChange",function(X){X=X.map(function(ce){return JSON.parse(JSON.stringify(ce))}),_.emitDailyJSEvent({action:"available-devices-updated",availableDevices:X})}),Or(_,"handleNativeAppStateChange",function(){var X=ge(function*(ce){if(ce==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield _.destroy());var Me=ce==="active";_.disableReactNativeAutoDeviceManagement("video")||(Me?_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!0):(_.camUnmutedBeforeLosingNativeActiveState=_.localVideo(),_.camUnmutedBeforeLosingNativeActiveState&&_.setLocalVideo(!1)))});return function(ce){return X.apply(this,arguments)}}()),Or(_,"handleNativeAudioFocusChange",function(X){_.disableReactNativeAutoDeviceManagement("audio")||(_._hasNativeAudioFocus=X,_.toggleParticipantAudioBasedOnNativeAudioFocus(),_._hasNativeAudioFocus?_.micUnmutedBeforeLosingNativeAudioFocus&&_.setLocalAudio(!0):(_.micUnmutedBeforeLosingNativeAudioFocus=_.localAudio(),_.setLocalAudio(!1)))}),Or(_,"handleNativeSystemScreenCaptureStop",function(){_.stopScreenShare()}),!ym()&&!je())throw new Error("WebRTC not supported or suppressed");if(_.strictMode=V.strictMode===void 0||V.strictMode,_.allowMultipleCallInstances=(k=V.allowMultipleCallInstances)!==null&&k!==void 0&&k,Object.keys(Ei).length&&(_._logDuplicateInstanceAttempt(),!_.allowMultipleCallInstances)){if(_.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),_.callClientId=Df(),Ei[(U=_).callClientId]=U,window._daily.instances[_.callClientId]={},_._sharedTracks={},window._daily.instances[_.callClientId].tracks=_._sharedTracks,V.dailyJsVersion=e.version(),_._iframe=g,_._callObjectMode=V.layout==="none"&&!_._iframe,_._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},V.showLocalVideo!==void 0?_._callObjectMode?console.error("showLocalVideo is not available in call object mode"):_._showLocalVideo=!!V.showLocalVideo:_._showLocalVideo=!0,V.showParticipantsBar!==void 0?_._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):_._showParticipantsBar=!!V.showParticipantsBar:_._showParticipantsBar=!0,V.customIntegrations!==void 0?_._callObjectMode?console.error("customIntegrations is not available in call object mode"):_._customIntegrations=V.customIntegrations:_._customIntegrations={},V.customTrayButtons!==void 0?_._callObjectMode?console.error("customTrayButtons is not available in call object mode"):_._customTrayButtons=V.customTrayButtons:_._customTrayButtons={},V.activeSpeakerMode!==void 0?_._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):_._activeSpeakerMode=!!V.activeSpeakerMode:_._activeSpeakerMode=!1,V.receiveSettings?_._callObjectMode?_._receiveSettings=V.receiveSettings:console.error("receiveSettings is only available in call object mode"):_._receiveSettings={},_.validateProperties(V),_.properties=le({},V),_._inputSettings||(_._inputSettings={}),_._callObjectLoader=_._callObjectMode?new C6(_.callClientId):null,_._callState=Vv,_._isPreparingToJoin=!1,_._accessState={access:Rd},_._meetingSessionSummary={},_._finalSummaryOfPrevSession={},_._meetingSessionState=Em(hE,_._callObjectMode),_._nativeInCallAudioMode=dE,_._participants={},_._isScreenSharing=!1,_._participantCounts=fE,_._rmpPlayerState={},_._waitingParticipants={},_._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},_._activeSpeaker={},_._localAudioLevel=0,_._isLocalAudioLevelObserverRunning=!1,_._remoteParticipantsAudioLevel={},_._isRemoteParticipantsAudioLevelObserverRunning=!1,_._maxAppMessageSize=mm,_._messageChannel=je()?new E6:new _6,_._iframe&&(_._iframe.requestFullscreen?_._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Rl}),_.sendMessageToCallMachine({action:Rl})):(_.emitDailyJSEvent({action:Il}),_.sendMessageToCallMachine({action:Il}))}):_._iframe.webkitRequestFullscreen&&_._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===_._iframe?(_.emitDailyJSEvent({action:Rl}),_.sendMessageToCallMachine({action:Rl})):(_.emitDailyJSEvent({action:Il}),_.sendMessageToCallMachine({action:Il}))})),je()){var q=_.nativeUtils();q.addAudioFocusChangeListener&&q.removeAudioFocusChangeListener&&q.addAppStateChangeListener&&q.removeAppStateChangeListener&&q.addSystemScreenCaptureStopListener&&q.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),_._hasNativeAudioFocus=!0,q.addAudioFocusChangeListener(_.handleNativeAudioFocusChange),q.addAppStateChangeListener(_.handleNativeAppStateChange),q.addSystemScreenCaptureStopListener(_.handleNativeSystemScreenCaptureStop)}return _._callObjectMode&&_.startListeningForDeviceChanges(),_._messageChannel.addListenerForMessagesFromCallMachine(_.handleMessageFromCallMachine,_.callClientId,_),_}return Mf(e,qu),An(e,[{key:"destroy",value:(te=ge(function*(){var g;try{yield this.leave()}catch{}var k=this._iframe;if(k){var _=k.parentElement;_&&_.removeChild(k)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),je()){var P=this.nativeUtils();P.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),P.removeAppStateChangeListener(this.handleNativeAppStateChange),P.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Ei[this.callClientId],!((g=window)===null||g===void 0||(g=g._daily)===null||g===void 0)&&g.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return te.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(g){var k=g.bodyClass,_=g.cssFile,P=g.cssText;return Te(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(_),bodyClass:k,cssText:P}),this}},{key:"iframe",value:function(){return Te(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return tr(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return tr(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(g,k){for(var _ in k){if(!ed[_])throw new Error("unrecognized updateParticipant property ".concat(_));if(ed[_].validate&&!ed[_].validate(k[_],this,this._participants[g]))throw new Error(ed[_].help)}}},{key:"updateParticipant",value:function(g,k){return this._participants.local&&this._participants.local.session_id===g&&(g="local"),g&&k&&(this.validateParticipantProperties(g,k),this.sendMessageToCallMachine({action:"update-participant",id:g,properties:k})),this}},{key:"updateParticipants",value:function(g){var k=this._participants.local&&this._participants.local.session_id;for(var _ in g)_===k&&(_="local"),_&&g[_]&&this.validateParticipantProperties(_,g[_]);return this.sendMessageToCallMachine({action:"update-participants",participants:g}),this}},{key:"updateWaitingParticipant",value:(se=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tr(this._callObjectMode,"updateWaitingParticipant()"),Ve(this._callState,"updateWaitingParticipant()"),typeof k!="string"||Ae(_)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(P,A){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:k,updates:_},function(M){M.error&&A(M.error),M.id||A(new Error("unknown error in updateWaitingParticipant()")),P({id:M.id})})})}),function(){return se.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(K=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(tr(this._callObjectMode,"updateWaitingParticipants()"),Ve(this._callState,"updateWaitingParticipants()"),Ae(k)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(_,P){g.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:k},function(A){A.error&&P(A.error),A.ids||P(new Error("unknown error in updateWaitingParticipants()")),_({ids:A.ids})})})}),function(){return K.apply(this,arguments)})},{key:"requestAccess",value:(F=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=k.access,P=_===void 0?{level:AN}:_,A=k.name,M=A===void 0?"":A;return tr(this._callObjectMode,"requestAccess()"),Ve(this._callState,"requestAccess()"),new Promise(function(U,V){g.sendMessageToCallMachine({action:"daily-method-request-access",access:P,name:M},function(q){q.error&&V(q.error),q.access||V(new Error("unknown error in requestAccess()")),U({access:q.access,granted:q.granted})})})}),function(){return F.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in k&&(je()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),k={}):g&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),k={})),this.sendMessageToCallMachine({action:"local-audio",state:g,options:k}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(g){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:g}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(g){return this.sendMessageToCallMachine({action:"local-video",state:g}),this}},{key:"_setAllowLocalAudio",value:function(g){if(this._preloadCache.allowLocalAudio=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:g}),this}},{key:"_setAllowLocalVideo",value:function(g){if(this._preloadCache.allowLocalVideo=g,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:g}),this}},{key:"getReceiveSettings",value:(D=ge(function*(g){var k=this,_=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,P=_!==void 0&&_;if(tr(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ae(g)){case"string":return new Promise(function(A){k.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:g,showInheritedValues:P},function(M){A(M.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(g){return D.apply(this,arguments)})},{key:"updateReceiveSettings",value:(Q=ge(function*(g){var k=this;if(tr(this._callObjectMode,"updateReceiveSettings()"),!WO(g,{allowAllParticipantsKey:!0}))throw new Error(KO({allowAllParticipantsKey:!0}));return Ve(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(_){k.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:g},function(P){_({receiveSettings:P.receiveSettings})})})}),function(g){return Q.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(g,k){if(g){var _={};if(g.audio){var P,A,M;g.audio.settings&&(!Object.keys(g.audio.settings).length&&k||(_.audio={settings:le({},g.audio.settings)})),k&&(P=_.audio)!==null&&P!==void 0&&(P=P.settings)!==null&&P!==void 0&&P.customTrack&&(_.audio.settings={customTrack:this._sharedTracks.audioTrack});var U=((A=g.audio.processor)===null||A===void 0?void 0:A.type)==="none"&&((M=g.audio.processor)===null||M===void 0?void 0:M._isDefaultWhenNone);if(g.audio.processor&&!U){var V=le({},g.audio.processor);delete V._isDefaultWhenNone,_.audio=le(le({},_.audio),{},{processor:V})}}if(g.video){var q,X,ce;g.video.settings&&(!Object.keys(g.video.settings).length&&k||(_.video={settings:le({},g.video.settings)})),k&&(q=_.video)!==null&&q!==void 0&&(q=q.settings)!==null&&q!==void 0&&q.customTrack&&(_.video.settings={customTrack:this._sharedTracks.videoTrack});var Me=((X=g.video.processor)===null||X===void 0?void 0:X.type)==="none"&&((ce=g.video.processor)===null||ce===void 0?void 0:ce._isDefaultWhenNone);if(g.video.processor&&!Me){var ut=le({},g.video.processor);delete ut._isDefaultWhenNone,_.video=le(le({},_.video),{},{processor:ut})}}return _}}},{key:"getInputSettings",value:function(){var g=this;return Te(),new Promise(function(k){k(g._getInputSettings())})}},{key:"_getInputSettings",value:function(){var g,k,_,P,A,M,U={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(g=((_=this._inputSettings)===null||_===void 0?void 0:_.video)||U,k=((P=this._inputSettings)===null||P===void 0?void 0:P.audio)||U):(g=((A=this._preloadCache)===null||A===void 0||(A=A.inputSettings)===null||A===void 0?void 0:A.video)||U,k=((M=this._preloadCache)===null||M===void 0||(M=M.inputSettings)===null||M===void 0?void 0:M.audio)||U);var V={audio:k,video:g};return this._prepInputSettingsForSharing(V,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(g,k){var _=this._inputSettings||{},P={};if(g.video){var A,M,U;P.video={},g.video.settings?(P.video.settings={},k||g.video.settings.customTrack||(U=_.video)===null||U===void 0||!U.settings?P.video.settings=g.video.settings:P.video.settings=le(le({},_.video.settings),g.video.settings),Object.keys(P.video.settings).length||delete P.video.settings):(A=_.video)!==null&&A!==void 0&&A.settings&&(P.video.settings=_.video.settings),g.video.processor?P.video.processor=g.video.processor:(M=_.video)!==null&&M!==void 0&&M.processor&&(P.video.processor=_.video.processor)}else _.video&&(P.video=_.video);if(g.audio){var V,q,X;P.audio={},g.audio.settings?(P.audio.settings={},k||g.audio.settings.customTrack||(X=_.audio)===null||X===void 0||!X.settings?P.audio.settings=g.audio.settings:P.audio.settings=le(le({},_.audio.settings),g.audio.settings),Object.keys(P.audio.settings).length||delete P.audio.settings):(V=_.audio)!==null&&V!==void 0&&V.settings&&(P.audio.settings=_.audio.settings),g.audio.processor?P.audio.processor=g.audio.processor:(q=_.audio)!==null&&q!==void 0&&q.processor&&(P.audio.processor=_.audio.processor)}else _.audio&&(P.audio=_.audio);this._maybeUpdateInputSettings(P)}},{key:"_devicesFromInputSettings",value:function(g){var k,_,P=(g==null||(k=g.video)===null||k===void 0||(k=k.settings)===null||k===void 0?void 0:k.deviceId)||null,A=(g==null||(_=g.audio)===null||_===void 0||(_=_.settings)===null||_===void 0?void 0:_.deviceId)||null,M=this._preloadCache.outputDeviceId||null;return{camera:P?{deviceId:P}:{},mic:A?{deviceId:A}:{},speaker:M?{deviceId:M}:{}}}},{key:"updateInputSettings",value:(Y=ge(function*(g){var k=this;return Te(),HO(g)?g.video||g.audio?(GO(g,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(g,!0),this._getInputSettings()):new Promise(function(_,P){k.sendMessageToCallMachine({action:"update-input-settings",inputSettings:g},function(A){if(A.error)P(A.error);else{if(A.returnPreloadCache)return k._updatePreloadCacheInputSettings(g,!0),void _(k._getInputSettings());k._maybeUpdateInputSettings(A.inputSettings),_(k._prepInputSettingsForSharing(A.inputSettings,!0))}})})):this._getInputSettings():(console.error(ey()),Promise.reject(ey()))}),function(g){return Y.apply(this,arguments)})},{key:"setBandwidth",value:function(g){var k=g.kbs,_=g.trackConstraints;if(Te(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:k,trackConstraints:_}),this}},{key:"getDailyLang",value:function(){var g=this;if(Te(),this._callMachineInitialized)return new Promise(function(k){g.sendMessageToCallMachine({action:"get-daily-lang"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}},{key:"setDailyLang",value:function(g){return Te(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:g}),this}},{key:"setProxyUrl",value:function(g){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:g}),this}},{key:"setIceConfig",value:function(g){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:g}),this}},{key:"meetingSessionSummary",value:function(){return[Ps,Qr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(J=ge(function*(){var g=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ve(this._callState,"getMeetingSession()"),new Promise(function(k){g.sendMessageToCallMachine({action:"get-meeting-session"},function(_){delete _.action,delete _.callbackStamp,k(_)})})}),function(){return J.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ve(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";tr(this._callObjectMode,"setMeetingSessionData()"),Ve(this._callState,"setMeetingSessionData");try{(function(_,P){new k6({data:_,mergeStrategy:P})})(g,k)}catch(_){throw console.error(_),_}try{this.sendMessageToCallMachine({action:"set-session-data",data:g,mergeStrategy:k})}catch(_){throw new Error("Error setting meeting session data: ".concat(_))}}},{key:"setUserName",value:function(g,k){var _=this;return this.properties.userName=g,new Promise(function(P){_.sendMessageToCallMachine({action:"set-user-name",name:g??"",thisMeetingOnly:je()||!!k&&!!k.thisMeetingOnly},function(A){delete A.action,delete A.callbackStamp,P(A)})})}},{key:"setUserData",value:(L=ge(function*(g){var k=this;try{qO(g)}catch(_){throw console.error(_),_}if(this.properties.userData=g,this._callMachineInitialized)return new Promise(function(_){try{k.sendMessageToCallMachine({action:"set-user-data",userData:g},function(P){delete P.action,delete P.callbackStamp,_(P)})}catch(P){throw new Error("Error setting user data: ".concat(P))}})}),function(g){return L.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(g){if(g&&(g<100||typeof g!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(g){var k=this;if(typeof AudioWorkletNode>"u"&&!je())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(_,P){k.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:g},function(A){k._isLocalAudioLevelObserverRunning=!A.error,A.error?P({error:A.error}):_()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:g}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(g){var k=this;if(this.validateAudioLevelInterval(g),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(_,P){k.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:g},function(A){k._isRemoteParticipantsAudioLevelObserverRunning=!A.error,A.error?P({error:A.error}):_()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:g}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(W=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(tr(this._callObjectMode,"startCamera()"),Sm(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(k)}catch(_){return Promise.reject(_)}else{if(this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(k),this.properties=le(le({},this.properties),k)}return new Promise(function(_){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"start-camera",properties:ko(g.properties,g.callClientId),preloadCache:ko(g._preloadCache,g.callClientId)},function(P){_({camera:P.camera,mic:P.mic,speaker:P.speaker})})})}),function(){return W.apply(this,arguments)})},{key:"validateCustomTrack",value:function(g,k,_){if(_&&_.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(k&&k!=="music"&&k!=="speech"&&!(k instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(_&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(_))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(g instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return Te(),Ve(this._callState,"startCustomTrack()"),this.validateCustomTrack(k.track,k.mode,k.trackName),new Promise(function(_,P){g._sharedTracks.customTrack=k.track,k.track=as,g.sendMessageToCallMachine({action:"start-custom-track",properties:k},function(A){A.error?P({error:A.error}):_(A.mediaTag)})})}},{key:"stopCustomTrack",value:function(g){var k=this;return Te(),Ve(this._callState,"stopCustomTrack()"),new Promise(function(_){k.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:g},function(P){_(P.mediaTag)})})}},{key:"setCamera",value:function(g){var k=this;return El(),td(this._callMachineInitialized,"setCamera()"),new Promise(function(_){k.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:g},function(P){_({device:P.device})})})}},{key:"setAudioDevice",value:($=ge(function*(g){return El(),this.nativeUtils().setAudioDevice(g),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(g){return $.apply(this,arguments)})},{key:"cycleCamera",value:function(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(_){g.sendMessageToCallMachine({action:"cycle-camera",properties:k},function(P){_({device:P.device})})})}},{key:"cycleMic",value:function(){var g=this;return Te(),new Promise(function(k){g.sendMessageToCallMachine({action:"cycle-mic"},function(_){k({device:_.device})})})}},{key:"getCameraFacingMode",value:function(){var g=this;return El(),new Promise(function(k){g.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(_){k(_.facingMode)})})}},{key:"setInputDevicesAsync",value:(O=ge(function*(g){var k=this,_=g.audioDeviceId,P=g.videoDeviceId,A=g.audioSource,M=g.videoSource;if(Te(),A!==void 0&&(_=A),M!==void 0&&(P=M),typeof _=="boolean"&&(this._setAllowLocalAudio(_),_=void 0),typeof P=="boolean"&&(this._setAllowLocalVideo(P),P=void 0),!_&&!P)return yield this.getInputDevices();var U={};return _&&(_ instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=_,_=as,U.audio={settings:{customTrack:_}}):(delete this._sharedTracks.audioTrack,U.audio={settings:{deviceId:_}})),P&&(P instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=P,P=as,U.video={settings:{customTrack:P}}):(delete this._sharedTracks.videoTrack,U.video={settings:{deviceId:P}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(U,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(V){k.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:_,videoDeviceId:P},function(q){if(delete q.action,delete q.callbackStamp,q.returnPreloadCache)return k._updatePreloadCacheInputSettings(U,!1),void V(k._devicesFromInputSettings(k._inputSettings));V(q)})})}),function(g){return O.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=ge(function*(g){var k=this,_=g.outputDeviceId;if(Te(),!_||typeof _!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=_,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P,A){k.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:_},function(M){if(delete M.action,delete M.callbackStamp,M.error){var U=new Error(M.error.message);return U.type=M.error.type,void A(U)}M.returnPreloadCache?P(k._devicesFromInputSettings(k._inputSettings)):P(M)})})}),function(g){return R.apply(this,arguments)})},{key:"getInputDevices",value:(I=ge(function*(){var g=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(k){g.sendMessageToCallMachine({action:"get-input-devices"},function(_){_.returnPreloadCache?k(g._devicesFromInputSettings(g._inputSettings)):k({camera:_.camera,mic:_.mic,speaker:_.speaker})})})}),function(){return I.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return El(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(g){if(El(),[dE,W6].includes(g)){if(g!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=g,!this.disableReactNativeAutoDeviceManagement("audio")&&Md(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",g)}},{key:"preAuth",value:(N=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(tr(this._callObjectMode,"preAuth()"),Sm(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(k)),!k.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(k),this.properties=le(le({},this.properties),k),new Promise(function(_,P){g._preloadCache.inputSettings=g._prepInputSettingsForSharing(g._inputSettings,!1),g.sendMessageToCallMachine({action:"daily-method-preauth",properties:ko(g.properties,g.callClientId),preloadCache:ko(g._preloadCache,g.callClientId)},function(A){return A.error?P(A.error):A.access?(g._didPreAuth=!0,void _({access:A.access})):P(new Error("unknown error in preAuth()"))})})}),function(){return N.apply(this,arguments)})},{key:"load",value:(j=ge(function*(g){var k=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(g&&(this.validateProperties(g),this.properties=le(le({},this.properties),g)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(V1),this.emitDailyJSEvent({action:DN}),this._callObjectMode?new Promise(function(_,P){k._callObjectLoader.cancel();var A=Date.now();k._callObjectLoader.load(k.properties.dailyConfig,function(M){k._bundleLoadTime=M?"no-op":Date.now()-A,k._updateCallState(U1),M&&k.emitDailyJSEvent({action:Bv}),_()},function(M,U){if(k.emitDailyJSEvent({action:LN}),!U){k._updateCallState(Qr),k.resetMeetingDependentVars();var V={action:Gv,errorMsg:M.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:M,bundleUrl:Nh(k.properties.dailyConfig)}}};k._maybeSendToSentry(V),k.emitDailyJSEvent(V),P(M.msg)}})}):(this._iframe.src=hN(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(_,P){k._loadedCallback=function(A){k._callState!==Qr?(k._updateCallState(U1),(k.properties.cssFile||k.properties.cssText)&&k.loadCss(k.properties),_()):P(A)}}))}}),function(g){return j.apply(this,arguments)})},{key:"join",value:(T=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var _=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(k)}catch(P){return this.updateIsPreparingToJoin(!1),Promise.reject(P)}}else{if(_=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(k.token&&k.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(k.url&&!this._callObjectMode&&k.url&&k.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(k.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(k),this.properties=le(le({},this.properties),k)}return k.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!k.showLocalVideo),k.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!k.showParticipantsBar),this._callState===$s||this._callState===Lh?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Lh,!1),this.emitDailyJSEvent({action:VN}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:ko(this.properties,this.callClientId),preloadCache:ko(this._preloadCache,this.callClientId)}),new Promise(function(P,A){g._joinedCallback=function(M,U){if(g._callState!==Qr){if(g._updateCallState($s),M)for(var V in M){if(g._callObjectMode){var q=g._callMachine().store;Z1(M[V],q),eE(M[V],q),tE(M[V],g._participants[V],q)}g._participants[V]=le({},M[V]),g.toggleParticipantAudioBasedOnNativeAudioFocus()}_&&g.loadCss(g.properties),P(M)}else A(U)}}))}),function(){return T.apply(this,arguments)})},{key:"leave",value:(C=ge(function*(){var g=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(k){g._callState===Ps||g._callState===Qr?k():g._callObjectLoader&&!g._callObjectLoader.loaded?(g._callObjectLoader.cancel(),g._updateCallState(Ps),g.resetMeetingDependentVars(),g.emitDailyJSEvent({action:Ps}),k()):(g._resolveLeave=k,g.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return C.apply(this,arguments)})},{key:"startScreenShare",value:(E=ge(function*(){var g=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(td(this._callMachineInitialized,"startScreenShare()"),k.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",k.screenVideoSendSettings),k.mediaStream&&(this._sharedTracks.screenMediaStream=k.mediaStream,k.mediaStream=as),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var _=this.nativeUtils();if(yield _.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:Hv,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});_.setSystemScreenCaptureStartCallback(function(){_.setSystemScreenCaptureStartCallback(null),g.sendMessageToCallMachine({action:z1,captureOptions:k})}),_.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:z1,captureOptions:k})}),function(){return E.apply(this,arguments)})},{key:"stopScreenShare",value:function(){td(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=g.type;if(k&&k!=="cloud"&&k!=="raw-tracks"&&k!=="local")throw new Error("invalid type: ".concat(k,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(le({action:"local-recording-start"},g))}},{key:"updateRecording",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,P=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:_,instanceId:P})}},{key:"stopRecording",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"local-recording-stop"},g))}},{key:"startLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-start-live-streaming"},g))}},{key:"updateLiveStreaming",value:function(g){var k=g.layout,_=k===void 0?{preset:"default"}:k,P=g.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:_,instanceId:P})}},{key:"addLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:q1,endpointsOp:v6,endpoints:k,instanceId:_})}},{key:"removeLiveStreamingEndpoints",value:function(g){var k=g.endpoints,_=g.instanceId;this.sendMessageToCallMachine({action:q1,endpointsOp:y6,endpoints:k,instanceId:_})}},{key:"stopLiveStreaming",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(le({action:"daily-method-stop-live-streaming"},g))}},{key:"validateDailyConfig",value:function(g){g.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(g.camSimulcastEncodings)),g.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),OO()&&g.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(g){if(!(g instanceof Array||Array.isArray(g)))throw new Error("encodings must be an Array");if(!bE(g.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var P=0;P<g.length;P++){var A=g[P];for(var M in this._validateEncodingLayerHasValidProperties(A),A)if(xm.includes(M)){if(typeof A[M]!="number")throw new Error("".concat(M," must be a number"));if(k){var U=k[M],V=U.min,q=U.max;if(!bE(A[M],V,q))throw new Error("".concat(M," value not in range. valid range: ").concat(V," to ").concat(q))}}else if(!["active","scalabilityMode"].includes(M))throw new Error("Invalid key ".concat(M,", valid keys are:")+Object.values(xm));if(_&&!A.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(S=ge(function*(g){var k=this,_=g.url,P=g.settings,A=P===void 0?{state:Kv.PLAY}:P;try{(function(M){if(typeof M!="string")throw new Error('url parameter must be "string" type')})(_),wE(A),function(M){for(var U in M)if(!pE.includes(U))throw new Error("Invalid key ".concat(U,", valid keys are: ").concat(pE));M.simulcastEncodings&&this.validateSimulcastEncodings(M.simulcastEncodings,zO,!0)}(A)}catch(M){throw console.error("invalid argument Error: ".concat(M)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),M}return new Promise(function(M,U){k.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:_,settings:A},function(V){V.error?U({error:V.error,errorMsg:V.errorMsg}):M({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(g){return S.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(w=ge(function*(g){var k=this;if(typeof g!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(_,P){k.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:g},function(A){A.error?P({error:A.error,errorMsg:A.errorMsg}):_()})})}),function(g){return w.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(y=ge(function*(g){var k=this,_=g.session_id,P=g.settings;try{wE(P)}catch(A){throw console.error("invalid argument Error: ".concat(A)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),A}return new Promise(function(A,M){k.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:_,settings:P},function(U){U.error?M({error:U.error,errorMsg:U.errorMsg}):A({session_id:U.session_id,remoteMediaPlayerState:{state:U.state,settings:U.settings}})})})}),function(g){return y.apply(this,arguments)})},{key:"startTranscription",value:function(g){Ve(this._callState,"startTranscription()"),this.sendMessageToCallMachine(le({action:"daily-method-start-transcription"},g))}},{key:"updateTranscription",value:function(g){if(Ve(this._callState,"updateTranscription()"),!g)throw new Error("updateTranscription Error: options is mandatory");if(Ae(g)!=="object")throw new Error("updateTranscription Error: options must be object type");if(g.participants&&!Array.isArray(g.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(le({action:"daily-method-update-transcription"},g))}},{key:"stopTranscription",value:function(g){if(Ve(this._callState,"stopTranscription()"),g&&Ae(g)!=="object")throw new Error("stopTranscription Error: options must be object type");if(g&&!g.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(le({action:"daily-method-stop-transcription"},g))}},{key:"startDialOut",value:(x=ge(function*(g){var k=this;Ve(this._callState,"startDialOut()");var _=function(U){if(U){if(!Array.isArray(U))throw new Error("Error starting dial out: audio codec must be an array");if(U.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");U.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: audio codec must be a string");if(V!=="OPUS"&&V!=="PCMU"&&V!=="PCMA"&&V!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!g.sipUri&&!g.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(g.sipUri&&g.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(g.sipUri){if(typeof g.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!g.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(g.video&&typeof g.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(U){if(U&&(_(U.audio),U.video)){if(!Array.isArray(U.video))throw new Error("Error starting dial out: video codec must be an array");if(U.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");U.video.forEach(function(V){if(typeof V!="string")throw new Error("Error starting dial out: video codec must be a string");if(V!=="H264"&&V!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(g.codecs)}if(g.phoneNumber){if(typeof g.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(g.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");g.codecs&&_(g.codecs.audio)}if(g.callerId){if(typeof g.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(g.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(g.displayName){if(typeof g.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(g.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(g.userId){if(typeof g.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(g.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(gE(g),g.permissions&&g.permissions.canReceive){var P=Ut(UO.validateJSONObject(g.permissions.canReceive),2),A=P[0],M=P[1];if(!A)throw new Error(M)}if(g.provider){if(g.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(g.provider));if(g.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(U,V){k.sendMessageToCallMachine(le({action:"dialout-start"},g),function(q){q.error?V(q.error):U(q)})})}),function(g){return x.apply(this,arguments)})},{key:"stopDialOut",value:function(g){var k=this;return Ve(this._callState,"stopDialOut()"),new Promise(function(_,P){k.sendMessageToCallMachine(le({action:"dialout-stop"},g),function(A){A.error?P(A.error):_(A)})})}},{key:"sipCallTransfer",value:(f=ge(function*(g){var k=this;if(Ve(this._callState,"sipCallTransfer()"),!g)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return g.useSipRefer=!1,yE(g,"sipCallTransfer"),gE(g),new Promise(function(_,P){k.sendMessageToCallMachine(le({action:W1},g),function(A){A.error?P(A.error):_(A)})})}),function(g){return f.apply(this,arguments)})},{key:"sipRefer",value:(b=ge(function*(g){var k=this;if(Ve(this._callState,"sipRefer()"),!g)throw new Error("sessionId and toEndPoint are mandatory parameter");return g.useSipRefer=!0,yE(g,"sipRefer"),new Promise(function(_,P){k.sendMessageToCallMachine(le({action:W1},g),function(A){A.error?P(A.error):_(A)})})}),function(g){return b.apply(this,arguments)})},{key:"sendDTMF",value:(m=ge(function*(g){var k=this;return Ve(this._callState,"sendDTMF()"),function(_){var P=_.sessionId,A=_.tones;if(!P||!A)throw new Error("sessionId and tones are mandatory parameter");if(typeof P!="string"||typeof A!="string")throw new Error("sessionId and tones should be of string type");if(A.length>20)throw new Error("tones string must be upto 20 characters");var M=/[^0-9A-D*#]/g,U=A.match(M);if(U&&U[0])throw new Error("".concat(U[0]," is not valid DTMF tone"))}(g),new Promise(function(_,P){k.sendMessageToCallMachine(le({action:"send-dtmf"},g),function(A){A.error?P(A.error):_(A)})})}),function(g){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var g=this;return this._callState!==$s?Promise.resolve(le({stats:{latest:{}}},this._network)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-calc-stats"},function(_){k(le(le({},g._network),{},{stats:_.stats}))})})}},{key:"testWebsocketConnectivity",value:(p=ge(function*(){var g=this;if(_m(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(k){return Promise.reject(k)}return new Promise(function(k,_){g.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(P){P.error?_(P.error):k(P.results)})})}),function(){return p.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(g){return g?g instanceof MediaStreamTrack?!!V6(g)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(h=ge(function*(){var g=this;Te(),tr(this._callObjectMode,"testCallQuality()"),td(this._callMachineInitialized,"testCallQuality()",null,!0),Sm(this._callState,this._isPreparingToJoin,"testCallQuality()");var k=this._testCallAlreadyInProgress,_=function(A){k||(g._testCallInProgress=A)};if(_(!0),this.needsLoad())try{var P=this._callState;yield this.load(),this._callState=P}catch(A){return _(!1),Promise.reject(A)}return new Promise(function(A){g.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:g.properties.dailyJsVersion},function(M){var U=M.results,V=U.result,q=M_(U,z6);if(V==="failed"){var X,ce=le({},q);(X=q.error)!==null&&X!==void 0&&X.details?(q.error.details=JSON.parse(q.error.details),ce.error=le(le({},ce.error),{},{details:le({},ce.error.details)}),ce.error.details.duringTest="testCallQuality"):(ce.error=ce.error?le({},ce.error):{},ce.error.details={duringTest:"testCallQuality"}),g._maybeSendToSentry(ce)}_(!1),A(le({result:V},q))})})}),function(){return h.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=ge(function*(g){var k;je()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),k=yield this.testPeerToPeerCallQuality(g)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),k=yield this.testCallQuality());var _={result:k.result,secondsElapsed:k.secondsElapsed};return k.data&&(_.data={maxRTT:k.data.maxRoundTripTime,packetLoss:k.data.avgRecvPacketLoss}),_}),function(g){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(c=ge(function*(g){var k=this;if(_m(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(A){return Promise.reject(A)}var _=g.videoTrack,P=g.duration;if(!this._validateVideoTrackForNetworkTests(_))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=_,new Promise(function(A,M){k.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:P},function(U){U.error?M(U.error):A(U.results)})})}),function(g){return c.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){je()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(l=ge(function*(g){var k=this;if(_m(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(_){return Promise.reject(_)}if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=g,new Promise(function(_,P){k.sendMessageToCallMachine({action:"test-network-connectivity"},function(A){A.error?P(A.error):_(A.results)})})}),function(g){return l.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var g=this;return new Promise(function(k){g._callState===$s?g.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(_){k(_.cpuStats)}):k({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(g){var k;if(!(((k=Object.keys(g))===null||k===void 0?void 0:k.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(xm))}},{key:"_validateVideoSendSettings",value:function(g,k){var _=g==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],P="Video send settings should be either an object or one of the supported presets: ".concat(_.join());if(typeof k=="string"){if(!_.includes(k))throw new Error(P)}else{if(Ae(k)!=="object")throw new Error(P);if(!k.maxQuality&&!k.encodings&&k.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(k.maxQuality&&["low","medium","high"].indexOf(k.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(k.encodings){var A=!1;switch(Object.keys(k.encodings).length){case 1:A=!k.encodings.low;break;case 2:A=!k.encodings.low||!k.encodings.medium;break;case 3:A=!k.encodings.low||!k.encodings.medium||!k.encodings.high;break;default:A=!0}if(A)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");k.encodings.low&&this._validateEncodingLayerHasValidProperties(k.encodings.low),k.encodings.medium&&this._validateEncodingLayerHasValidProperties(k.encodings.medium),k.encodings.high&&this._validateEncodingLayerHasValidProperties(k.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(g){var k=this;if(!g||Object.keys(g).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(g).forEach(function(_){var P=Ut(_,2),A=P[0],M=P[1];k._validateVideoSendSettings(A,M)})}},{key:"updateSendSettings",value:function(g){var k=this;return this.validateUpdateSendSettings(g),this.needsLoad()?(this._preloadCache.sendSettings=g,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(_,P){k.sendMessageToCallMachine({action:"update-send-settings",sendSettings:g},function(A){A.error?P(A.error):_(A.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Te(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(g){return Te(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:g}),this}},{key:"activeSpeakerMode",value:function(){return Te(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(g){return Ve(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=g,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:g}),this}},{key:"enumerateDevices",value:(a=ge(function*(){var g=this;if(this._callObjectMode){var k=yield navigator.mediaDevices.enumerateDevices();return ho()==="Firefox"&&$h().major>115&&$h().major<123&&(k=k.filter(function(_){return _.kind!=="audiooutput"})),{devices:k.map(function(_){var P=JSON.parse(JSON.stringify(_));if(!je()&&_.kind==="videoinput"&&_.getCapabilities){var A,M=_.getCapabilities();P.facing=(M==null||(A=M.facingMode)===null||A===void 0?void 0:A.length)>=1?M.facingMode[0]:void 0}return P})}}return new Promise(function(_){g.sendMessageToCallMachine({action:"enumerate-devices"},function(P){_({devices:P.devices})})})}),function(){return a.apply(this,arguments)})},{key:"sendAppMessage",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ve(this._callState,"sendAppMessage()"),JSON.stringify(g).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:g,to:k}),this}},{key:"addFakeParticipant",value:function(g){return Te(),Ve(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(le({action:"add-fake-participant"},g)),this}},{key:"setShowNamesMode",value:function(g){return fn(this._callObjectMode,"setShowNamesMode()"),Te(),g&&g!=="always"&&g!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:g}),this)}},{key:"setShowLocalVideo",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fn(this._callObjectMode,"setShowLocalVideo()"),Te(),Ve(this._callState,"setShowLocalVideo()"),typeof g!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:g}),this._showLocalVideo=g,this)}},{key:"showLocalVideo",value:function(){return fn(this._callObjectMode,"showLocalVideo()"),Te(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fn(this._callObjectMode,"setShowParticipantsBar()"),Te(),Ve(this._callState,"setShowParticipantsBar()"),typeof g!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:g}),this._showParticipantsBar=g,this)}},{key:"showParticipantsBar",value:function(){return fn(this._callObjectMode,"showParticipantsBar()"),Te(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Te(),fn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(g){return Te(),fn(this._callObjectMode,"setCustomIntegrations()"),Ve(this._callState,"setCustomIntegrations()"),QO(g)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:g}),this._customIntegrations=g,this):this}},{key:"startCustomIntegrations",value:function(g){var k=this;if(Te(),fn(this._callObjectMode,"startCustomIntegrations()"),Ve(this._callState,"startCustomIntegrations()"),Array.isArray(g)&&g.some(function(A){return typeof A!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,P=_.filter(function(A){return!(A in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:_}),this)}},{key:"stopCustomIntegrations",value:function(g){var k=this;if(Te(),fn(this._callObjectMode,"stopCustomIntegrations()"),Ve(this._callState,"stopCustomIntegrations()"),Array.isArray(g)&&g.some(function(A){return typeof A!="string"})||!Array.isArray(g)&&typeof g!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var _=typeof g=="string"?[g]:g,P=_.filter(function(A){return!(A in k._customIntegrations)});return P.length?(console.error(`Can't find custom integration(s): "`.concat(P.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:_}),this)}},{key:"customTrayButtons",value:function(){return fn(this._callObjectMode,"customTrayButtons()"),Te(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(g){return fn(this._callObjectMode,"updateCustomTrayButtons()"),Te(),Ve(this._callState,"updateCustomTrayButtons()"),YO(g)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:g}),this._customTrayButtons=g,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Vh))),this)}},{key:"theme",value:function(){return fn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(g){var k=this;return fn(this._callObjectMode,"setTheme()"),new Promise(function(_,P){try{k.validateProperties({theme:g}),k.properties.theme=le({},g),k.sendMessageToCallMachine({action:"set-theme",theme:k.properties.theme});try{k.emitDailyJSEvent({action:MN,theme:k.properties.theme})}catch(A){console.log("could not emit 'theme-updated'",A)}_(k.properties.theme)}catch(A){P(A)}})}},{key:"requestFullscreen",value:(o=ge(function*(){if(Te(),this._iframe&&!document.fullscreenElement&&H1())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(g){console.log("could not make video call fullscreen",g)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Te(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=ge(function*(){var g=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(k){g.sendMessageToCallMachine({action:"get-sidebar-view"},function(_){k(_.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(g){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:g}),this)}},{key:"room",value:(s=ge(function*(){var g=this,k=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,_=k===void 0||k;return this._accessState.access===Rd||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(P){g.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:_},function(A){delete A.action,delete A.callbackStamp,P(A)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=ge(function*(){try{var g=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield g.json()).geo}}catch(k){return console.error("geo lookup failed",k),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=ge(function*(g){var k=this;return Te(),Ve(this._callState,"setNetworkTopology()"),new Promise(function(_,P){k.sendMessageToCallMachine({action:"set-network-topology",opts:g},function(A){A.error?P({error:A.error}):_({workerId:A.workerId})})})}),function(g){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=ge(function*(){var g=this;return new Promise(function(k,_){g.needsLoad()&&k({topology:"none"}),g.sendMessageToCallMachine({action:"get-network-topology"},function(P){P.error?_({error:P.error}):k({topology:P.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(g){if(Te(),typeof g!="number"&&g!==!0&&g!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(g));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:g})}},{key:"on",value:function(g,k){return qu.prototype.on.call(this,g,k)}},{key:"once",value:function(g,k){return qu.prototype.once.call(this,g,k)}},{key:"off",value:function(g,k){return qu.prototype.off.call(this,g,k)}},{key:"validateProperties",value:function(g){var k,_;if(g!=null&&(k=g.dailyConfig)!==null&&k!==void 0&&k.userMediaAudioConstraints){var P,A;je()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var M=g.inputSettings||{};M.audio=((P=g.inputSettings)===null||P===void 0?void 0:P.audio)||{},M.audio.settings=((A=g.inputSettings)===null||A===void 0||(A=A.audio)===null||A===void 0?void 0:A.settings)||{},M.audio.settings=le(le({},M.audio.settings),g.dailyConfig.userMediaAudioConstraints),g.inputSettings=M,delete g.dailyConfig.userMediaAudioConstraints}if(g!=null&&(_=g.dailyConfig)!==null&&_!==void 0&&_.userMediaVideoConstraints){var U,V;je()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var q=g.inputSettings||{};q.video=((U=g.inputSettings)===null||U===void 0?void 0:U.video)||{},q.video.settings=((V=g.inputSettings)===null||V===void 0||(V=V.video)===null||V===void 0?void 0:V.settings)||{},q.video.settings=le(le({},q.video.settings),g.dailyConfig.userMediaVideoConstraints),g.inputSettings=q,delete g.dailyConfig.userMediaVideoConstraints}for(var X in g)if(ki[X]){if(ki[X].validate&&!ki[X].validate(g[X],this))throw new Error("property '".concat(X,"': ").concat(ki[X].help))}else console.warn("Ignoring unrecognized property '".concat(X,"'")),delete g[X]}},{key:"assembleMeetingUrl",value:function(){var g,k,_=le(le({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(g=this.properties.dailyConfig)!==null&&g!==void 0&&g.proxyUrl?encodeURIComponent((k=this.properties.dailyConfig)===null||k===void 0?void 0:k.proxyUrl):void 0}),P=_.url.match(/\?/)?"&":"?";return _.url+P+Object.keys(ki).filter(function(A){return ki[A].queryString&&_[A]!==void 0}).map(function(A){return"".concat(ki[A].queryString,"=").concat(_[A])}).join("&")}},{key:"needsLoad",value:function(){return[Vv,V1,Ps,Qr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(g,k){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(g,k,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(g){this._messageChannel.forwardPackagedMessageToCallMachine(g,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(g){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(g,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(g){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(g)}},{key:"handleMessageFromCallMachine",value:function(g){switch(g.action){case RN:this.sendMessageToCallMachine(le({action:IN},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var k={action:Xu,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Nh(this.properties.dailyConfig)}};this.sendMessageToCallMachine(k),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case Bv:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(g);break;case UN:var _,P=le({},g);delete P.internal,this._maxAppMessageSize=((_=g.internal)===null||_===void 0?void 0:_._maxAppMessageSize)||mm,this._joinedCallback&&(this._joinedCallback(g.participants),this._joinedCallback=null),this.emitDailyJSEvent(P);break;case zN:case qN:if(this._callState===Ps)return;if(g.participant&&g.participant.session_id){var A=g.participant.local?"local":g.participant.session_id;if(this._callObjectMode){var M=this._callMachine().store;Z1(g.participant,M),eE(g.participant,M),tE(g.participant,this._participants[A],M)}try{this.maybeParticipantTracksStopped(this._participants[A],g.participant),this.maybeParticipantTracksStarted(this._participants[A],g.participant),this.maybeEventRecordingStopped(this._participants[A],g.participant),this.maybeEventRecordingStarted(this._participants[A],g.participant)}catch(rn){console.error("track events error",rn)}this.compareEqualForParticipantUpdateEvent(g.participant,this._participants[A])||(this._participants[A]=le({},g.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(g))}break;case WN:if(g.participant&&g.participant.session_id){var U=this._participants[g.participant.session_id];U&&this.maybeParticipantTracksStopped(U,null),delete this._participants[g.participant.session_id],this.emitDailyJSEvent(g)}break;case HN:Gt(this._participantCounts,g.participantCounts)||(this._participantCounts=g.participantCounts,this.emitDailyJSEvent(g));break;case GN:var V={access:g.access};g.awaitingAccess&&(V.awaitingAccess=g.awaitingAccess),Gt(this._accessState,V)||(this._accessState=V,this.emitDailyJSEvent(g));break;case KN:if(g.meetingSession){this._meetingSessionSummary=g.meetingSession,this.emitDailyJSEvent(g);var q=le(le({},g),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(q)}break;case Gv:var X;this._iframe&&!g.preserveIframe&&(this._iframe.src=""),this._updateCallState(Qr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(g.errorMsg),this._loadedCallback=null),g.preserveIframe;var ce=M_(g,q6);ce!=null&&(X=ce.error)!==null&&X!==void 0&&X.details&&(ce.error.details=JSON.parse(ce.error.details)),this._maybeSendToSentry(g),this._joinedCallback&&(this._joinedCallback(null,ce),this._joinedCallback=null),this.emitDailyJSEvent(ce);break;case BN:this._callState!==Qr&&this._updateCallState(Ps),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(g);break;case"selected-devices-updated":g.devices&&this.emitDailyJSEvent(g);break;case yO:var Me=g.state,ut=g.threshold,he=g.quality,_e=Me.state,qe=Me.reasons;_e===this._network.networkState&&Gt(qe,this._network.networkStateReasons)&&ut===this._network.threshold&&he===this._network.quality||(this._network.networkState=_e,this._network.networkStateReasons=qe,this._network.quality=he,this._network.threshold=ut,g.networkState=_e,qe.length&&(g.networkStateReasons=qe),delete g.state,this.emitDailyJSEvent(g));break;case bO:g&&g.cpuLoadState&&this.emitDailyJSEvent(g);break;case xO:g&&g.faceCounts!==void 0&&this.emitDailyJSEvent(g);break;case gO:var mt=g.activeSpeaker;this._activeSpeaker.peerId!==mt.peerId&&(this._activeSpeaker.peerId=mt.peerId,this.emitDailyJSEvent({action:g.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var ue=g.show;this._showLocalVideo=ue,this.emitDailyJSEvent({action:g.action,show:ue});break;case vO:var re=g.enabled;this._activeSpeakerMode!==re&&(this._activeSpeakerMode=re,this.emitDailyJSEvent({action:g.action,enabled:this._activeSpeakerMode}));break;case YN:case QN:case XN:this._waitingParticipants=g.allWaitingParticipants,this.emitDailyJSEvent({action:g.action,participant:g.participant});break;case TO:Gt(this._receiveSettings,g.receiveSettings)||(this._receiveSettings=g.receiveSettings,this.emitDailyJSEvent({action:g.action,receiveSettings:g.receiveSettings}));break;case Wv:this._maybeUpdateInputSettings(g.inputSettings);break;case"send-settings-updated":Gt(this._sendSettings,g.sendSettings)||(this._sendSettings=g.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:g.action,sendSettings:g.sendSettings}));break;case"local-audio-level":this._localAudioLevel=g.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=g.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(g);break;case uO:var ot=g.session_id;this._rmpPlayerState[ot]=g.playerState,this.emitDailyJSEvent(g);break;case hO:delete this._rmpPlayerState[g.session_id],this.emitDailyJSEvent(g);break;case dO:var hn=g.session_id,hu=this._rmpPlayerState[hn];hu&&this.compareEqualForRMPUpdateEvent(hu,g.remoteMediaPlayerState)||(this._rmpPlayerState[hn]=g.remoteMediaPlayerState,this.emitDailyJSEvent(g));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(g);break;case JN:var ip=this._meetingSessionState.topology!==(g.meetingSessionState&&g.meetingSessionState.topology);this._meetingSessionState=Em(g.meetingSessionState,this._callObjectMode),(this._callObjectMode||ip)&&this.emitDailyJSEvent(g);break;case fO:this._isScreenSharing=!0,this.emitDailyJSEvent(g);break;case pO:case mO:this._isScreenSharing=!1,this.emitDailyJSEvent(g);break;case zv:case qv:case sO:case iO:case oO:case tO:case nO:case rO:case $N:case FN:case lO:case cO:case"test-completed":case wO:case aO:case SO:case _O:case EO:case kO:case Hv:case CO:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(g);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(g,k){var _="record";g&&(k.local||k[_]!==!1||g[_]===k[_]||this.emitDailyJSEvent({action:qv}))}},{key:"maybeEventRecordingStarted",value:function(g,k){var _="record";g&&(k.local||k[_]!==!0||g[_]===k[_]||this.emitDailyJSEvent({action:zv}))}},{key:"_trackStatePlayable",value:function(g){return!(!g||g.state!==jN)}},{key:"_trackChanged",value:function(g,k){return(g==null?void 0:g.id)!==(k==null?void 0:k.id)}},{key:"maybeEventTrackStopped",value:function(g,k,_){var P,A,M=(P=k==null?void 0:k.tracks[g])!==null&&P!==void 0?P:null,U=(A=_==null?void 0:_.tracks[g])!==null&&A!==void 0?A:null,V=M==null?void 0:M.track;if(V){var q=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ce=this._trackChanged(V,U==null?void 0:U.track);q&&(X&&!ce||this.emitDailyJSEvent({action:eO,track:V,participant:_??k,type:g}))}}},{key:"maybeEventTrackStarted",value:function(g,k,_){var P,A,M=(P=k==null?void 0:k.tracks[g])!==null&&P!==void 0?P:null,U=(A=_==null?void 0:_.tracks[g])!==null&&A!==void 0?A:null,V=U==null?void 0:U.track;if(V){var q=this._trackStatePlayable(M),X=this._trackStatePlayable(U),ce=this._trackChanged(M==null?void 0:M.track,V);X&&(q&&!ce||this.emitDailyJSEvent({action:ZN,track:V,participant:_,type:g}))}}},{key:"maybeParticipantTracksStopped",value:function(g,k){if(g)for(var _ in g.tracks)this.maybeEventTrackStopped(_,g,k)}},{key:"maybeParticipantTracksStarted",value:function(g,k){if(k)for(var _ in k.tracks)this.maybeEventTrackStarted(_,g,k)}},{key:"compareEqualForRMPUpdateEvent",value:function(g,k){var _,P;return g.state===k.state&&((_=g.settings)===null||_===void 0?void 0:_.volume)===((P=k.settings)===null||P===void 0?void 0:P.volume)}},{key:"emitDailyJSEvent",value:function(g){try{g.callClientId=this.callClientId,this.emit(g.action,g)}catch(k){console.log("could not emit",g,k)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(g,k){return!!Gt(g,k)&&(!g.videoTrack||!k.videoTrack||g.videoTrack.id===k.videoTrack.id&&g.videoTrack.muted===k.videoTrack.muted&&g.videoTrack.enabled===k.videoTrack.enabled)&&(!g.audioTrack||!k.audioTrack||g.audioTrack.id===k.audioTrack.id&&g.audioTrack.muted===k.audioTrack.muted&&g.audioTrack.enabled===k.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return je()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(g){this._updateCallState(this._callState,g)}},{key:"_updateCallState",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(g!==this._callState||k!==this._isPreparingToJoin){var _=this._callState,P=this._isPreparingToJoin;this._callState=g,this._isPreparingToJoin=k;var A=this._callState===$s;this.updateShowAndroidOngoingMeetingNotification(A);var M=Md(_,P),U=Md(this._callState,this._isPreparingToJoin);M!==U&&(this.updateKeepDeviceAwake(U),this.updateDeviceAudioMode(U),this.updateNoOpRecordingEnsuringBackgroundContinuity(U))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=fE,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Rd},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Em(hE,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=mm,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(g){je()&&this.nativeUtils().setKeepDeviceAwake(g,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(g){if(je()&&!this.disableReactNativeAutoDeviceManagement("audio")){var k=g?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(k)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(g){if(je()&&this.nativeUtils().setShowOngoingMeetingNotification){var k,_,P,A;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var M=this.properties.reactNativeConfig.androidInCallNotification;k=M.title,_=M.subtitle,P=M.iconName,A=M.disableForCustomOverride}A&&(g=!1),this.nativeUtils().setShowOngoingMeetingNotification(g,k,_,P,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(g){je()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(g)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var g;if(je()){var k=(g=this._callMachine())===null||g===void 0||(g=g.store)===null||g===void 0?void 0:g.getState();for(var _ in k==null?void 0:k.streams){var P=k.streams[_];P&&P.pendingTrack&&P.pendingTrack.kind==="audio"&&(P.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(g){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[g]}},{key:"absoluteUrl",value:function(g){if(g!==void 0){var k=document.createElement("a");return k.href=g,k.href}}},{key:"sayHello",value:function(){var g="hello, world.";return console.log(g),g}},{key:"_logUseAfterDestroy",value:function(){var g=Object.values(Ei)[0];if(this.needsLoad())if(g&&!g.needsLoad()){var k={action:Xu,level:"error",code:this.strictMode?9995:9997};g.sendMessageToCallMachine(k)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var _={action:Xu,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(_,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var g=0,k=Object.values(Ei);g<k.length;g++){var _=k[g];_._callMachineInitialized?(_.sendMessageToCallMachine({action:Xu,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),_._delayDuplicateInstanceLog=!1):_._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(g){var k,_,P,A;if(!((k=g.error)!==null&&k!==void 0&&k.type&&(![ON,NN,Uv].includes(g.error.type)||g.error.type===Uv&&g.error.msg.includes("deleted")))){var M=(_=this.properties)!==null&&_!==void 0&&_.url?new URL(this.properties.url):void 0,U="production";M&&M.host.includes(".staging.daily")&&(U="staging");var V,q,X,ce,Me,ut=function(ot){const hn=[fW(),dW(),FW(),LW(),qW(),HW(),vW(),WW()];return ot.autoSessionTracking!==!1&&hn.push(zW()),hn}({}).filter(function(ot){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(ot.name)}),he=new kW({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:PW,stackParser:DW,integrations:ut,environment:U}),_e=new hi;if(_e.setClient(he),he.init(),this.session_id&&_e.setExtra("sessionId",this.session_id),this.properties){var qe=le({},this.properties);qe.userName=qe.userName?"[Filtered]":void 0,qe.userData=qe.userData?"[Filtered]":void 0,qe.token=qe.token?"[Filtered]":void 0,_e.setExtra("properties",qe)}if(M){var mt=M.searchParams.get("domain");if(!mt){var ue=M.host.match(/(.*?)\./);mt=ue&&ue[1]||""}mt&&_e.setTag("domain",mt)}g.error&&(_e.setTag("fatalErrorType",g.error.type),_e.setExtra("errorDetails",g.error.details),!((V=g.error.details)===null||V===void 0)&&V.uri&&_e.setTag("serverAddress",g.error.details.uri),!((q=g.error.details)===null||q===void 0)&&q.workerGroup&&_e.setTag("workerGroup",g.error.details.workerGroup),!((X=g.error.details)===null||X===void 0)&&X.geoGroup&&_e.setTag("geoGroup",g.error.details.geoGroup),!((ce=g.error.details)===null||ce===void 0)&&ce.on&&_e.setTag("connectionAttempt",g.error.details.on),(Me=g.error.details)!==null&&Me!==void 0&&Me.bundleUrl&&(_e.setTag("bundleUrl",g.error.details.bundleUrl),_e.setTag("bundleError",g.error.details.sourceError.type))),_e.setTags({callMode:this._callObjectMode?je()?"reactNative":(P=this.properties)!==null&&P!==void 0&&(P=P.dailyConfig)!==null&&P!==void 0&&(P=P.callMode)!==null&&P!==void 0&&P.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var re=((A=g.error)===null||A===void 0?void 0:A.msg)||g.errorMsg;_e.captureException(new Error(re))}}},{key:"_callMachine",value:function(){var g;return(g=window._daily)===null||g===void 0||(g=g.instances)===null||g===void 0||(g=g[this.callClientId])===null||g===void 0?void 0:g.callMachine}},{key:"_maybeUpdateInputSettings",value:function(g){if(!Gt(this._inputSettings,g)){var k=this._getInputSettings();this._inputSettings=g;var _=this._getInputSettings();Gt(k,_)||this.emitDailyJSEvent({action:Wv,inputSettings:_})}}}],[{key:"supportedBrowser",value:function(){if(je())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var g=R8.getParser(Wn());return{supported:!!ym(),mobile:g.getPlatformType()==="mobile",name:g.getBrowserName(),version:g.getBrowserVersion(),supportsFullscreen:!!H1(),supportsScreenShare:!!w6(),supportsSfu:!!ym(),supportsVideoProcessing:PO(),supportsAudioProcessing:NO()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return g.layout="none",new e(null,g)}},{key:"wrap",value:function(g){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Te(),!g||!g.contentWindow||typeof g.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return k.layout||(k.customLayout?k.layout="custom-v1":k.layout="browser"),new e(g,k)}},{key:"createFrame",value:function(g,k){var _,P;Te(),g&&k?(_=g,P=k):g&&g.append?(_=g,P={}):(_=document.body,P=g||{});var A=P.iframeStyle;A||(A=_===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var M=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?M.allow="microphone, camera":M.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",M.style.visibility="hidden",_.appendChild(M),M.style.visibility=null,Object.keys(A).forEach(function(U){return M.style[U]=A[U]}),P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser");try{return new e(M,P)}catch(U){throw _.removeChild(M),U}}},{key:"createTransparentFrame",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te();var k=document.createElement("iframe");return k.allow="microphone; camera; autoplay",k.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(k),g.layout||(g.layout="custom-v1"),e.wrap(k,g)}},{key:"getCallInstance",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return g?Ei[g]:Object.values(Ei)[0]}}]);var t,n,r,s,i,o,a,l,c,d,h,p,m,b,f,x,y,w,S,E,C,T,j,N,I,R,O,$,W,L,J,Y,Q,D,F,K,se,te}();function gE(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function ko(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",r),n[r]=as;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Ve(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==$s){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function Md(e,t){return[Lh,$s].includes(e)||t}function Sm(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(Md(e,t)){var s="".concat(n," not supported after joining a meeting.");throw r&&(s+=" ".concat(r)),console.error(s),new Error(s)}}function td(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function _m(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function tr(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function fn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Te(){if(je())throw new Error("This daily-js method is not currently supported in React Native")}function El(){if(!je())throw new Error("This daily-js method is only supported in React Native")}function qO(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Gt(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function WO(e,t){for(var n=t.allowAllParticipantsKey,r=function(h){var p=["local"];return n||p.push("*"),h&&!p.includes(h)},s=function(h){return!!(h.layer===void 0||Number.isInteger(h.layer)&&h.layer>=0||h.layer==="inherit")},i=function(h){return!!h&&!(h.video&&!s(h.video))&&!(h.screenVideo&&!s(h.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var l=Ut(a[o],2),c=l[0],d=l[1];if(!r(c)||!i(d))return!1}return!0}function HO(e){if(Ae(e)!=="object")return!1;for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Ut(n[t],2),s=r[0],i=r[1];switch(s){case"video":if(Ae(i)!=="object")return!1;for(var o=0,a=Object.entries(i);o<a.length;o++){var l=Ut(a[o],2),c=l[0],d=l[1];switch(c){case"processor":if(!K6(d))return!1;break;case"settings":if(!vE(d))return!1;break;default:return!1}}break;case"audio":if(Ae(i)!=="object")return!1;for(var h=0,p=Object.entries(i);h<p.length;h++){var m=Ut(p[h],2),b=m[0],f=m[1];switch(b){case"processor":if(!G6(f))return!1;break;case"settings":if(!vE(f))return!1;break;default:return!1}}break;default:return!1}}return!0}function GO(e,t,n){var r,s=[];e.video&&e.video.processor&&(PO((r=t==null?void 0:t.useLegacyVideoProcessor)!==null&&r!==void 0&&r)||(e.video.settings?delete e.video.processor:delete e.video,s.push("video"))),e.audio&&e.audio.processor&&(NO()||(e.audio.settings?delete e.audio.processor:delete e.audio,s.push("audio"))),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(n.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:as}):delete n.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(n.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:as}):delete n.videoTrack)}function G6(e){if(je())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Ae(e)==="object"&&(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> audio -> processor : ".concat(n)),delete e[n]}),!!function(n){return typeof n!="string"?!1:Object.values(jO).includes(n)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function K6(e){if(je())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Ae(e)!=="object"||!function(n){return typeof n!="string"?!1:Object.values(Id).includes(n)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Ae(e.config)!=="object"||!function(n,r){var s=Object.keys(r);if(s.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(n){case Id.BGBLUR:return s.length>1||s[0]!=="strength"?(console.error(i),!1):!(typeof r.strength!="number"||r.strength<=0||r.strength>1||isNaN(r.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(r.strength)),!1);case Id.BGIMAGE:return!(r.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Oh(o.source))return o.type="url",!!function(c){var d=new URL(c),h=d.pathname;if(d.protocol==="data:")try{var p=h.substring(h.indexOf(":")+1,h.indexOf(";")).split("/")[1];return vm.includes(p)}catch(b){return console.error("failed to deduce blob content type",b),!1}var m=h.split(".").at(-1).toLowerCase().trim();return vm.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(vm.join(", "),"]")),!1);return a=o.source,l=Number(a),isNaN(l)||!Number.isInteger(l)||l<=0||l>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var a,l}(r));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(n){return!t.includes(n)}).forEach(function(n){console.warn("invalid key inputSettings -> video -> processor : ".concat(n)),delete e[n]}),!0)}function vE(e){return Ae(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function ey(){var e=Object.values(Id).join(" | "),t=Object.values(jO).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function KO(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(PN).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function JO(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Zv),".")}function YO(e){if(e&&Ae(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Vh),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=Ut(n[t],1)[0],s=0,i=Object.entries(e[r]);s<i.length;s++){var o=Ut(i[s],2),a=o[0],l=o[1],c=Vh.id[a];if(!c)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Oh(l))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(a," should be ").concat(c,". Got: ").concat(l)),!1;break;default:if(Ae(l)!==c)return console.error("customTrayButton ".concat(a," should be a ").concat(c,".")),!1}}return!0}function QO(e){if(!e||e&&Ae(e)!=="object"||Array.isArray(e))return console.error(JO()),!1;for(var t=function(h){return"".concat(h," should be ").concat(Zv.id[h])},n=function(h,p){return console.error("customIntegration ".concat(h,": ").concat(p))},r=0,s=Object.entries(e);r<s.length;r++){var i=Ut(s[r],1)[0];if(!("label"in e[i]))return n(i,"label is required"),!1;if(!("location"in e[i]))return n(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return n(i,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[i]);o<a.length;o++){var l=Ut(a[o],2),c=l[0],d=l[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return n(i,t(c)),!1;break;case"iconURL":if(!Oh(d))return n(i,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(!Oh(d))return n(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return n(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return n(i,t(c)),!1;break;case"location":if(!["main","sidebar"].includes(d))return n(i,t(c)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(h){return typeof h!="string"})))return n(i,t(c)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(h){return typeof h!="string"}))&&d!=="owners"&&typeof d!="boolean")return n(i,t(c)),!1;break;default:if(!Zv.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function XO(e,t){if(t===void 0)return!1;switch(Ae(t)){case"string":return Ae(e)===t;case"object":if(Ae(e)!=="object")return!1;for(var n in e)if(!XO(e[n],t[n]))return!1;return!0;default:return!1}}function yE(e,t){var n=e.sessionId,r=e.toEndPoint,s=e.callerId,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'));if(s&&typeof s!="string")throw new Error("callerId must be of type string");if(s&&!r.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function wE(e){if(Ae(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Kv).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Kv));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function bE(e,t,n){return!(typeof e!="number"||e<t||e>n)}function Em(e,t){return e&&!t&&delete e.data,e}const J6=Object.freeze(Object.defineProperty({__proto__:null,DAILY_ACCESS_LEVEL_FULL:AN,DAILY_ACCESS_LEVEL_LOBBY:XW,DAILY_ACCESS_LEVEL_NONE:ZW,DAILY_ACCESS_UNKNOWN:Rd,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:u6,DAILY_CAMERA_ERROR_CAM_IN_USE:l6,DAILY_CAMERA_ERROR_CONSTRAINTS:p6,DAILY_CAMERA_ERROR_MIC_IN_USE:c6,DAILY_CAMERA_ERROR_NOT_FOUND:f6,DAILY_CAMERA_ERROR_PERMISSIONS:d6,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:h6,DAILY_CAMERA_ERROR_UNKNOWN:m6,DAILY_EVENT_ACCESS_STATE_UPDATED:GN,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:gO,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:vO,DAILY_EVENT_APP_MSG:lO,DAILY_EVENT_CAMERA_ERROR:FN,DAILY_EVENT_CPU_LOAD_CHANGE:bO,DAILY_EVENT_ERROR:Gv,DAILY_EVENT_EXIT_FULLSCREEN:Il,DAILY_EVENT_FACE_COUNTS_UPDATED:xO,DAILY_EVENT_FULLSCREEN:Rl,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:IN,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:RN,DAILY_EVENT_INPUT_SETTINGS_UPDATED:Wv,DAILY_EVENT_JOINED_MEETING:UN,DAILY_EVENT_JOINING_MEETING:VN,DAILY_EVENT_LANG_UPDATED:CO,DAILY_EVENT_LEFT_MEETING:BN,DAILY_EVENT_LIVE_STREAMING_ERROR:kO,DAILY_EVENT_LIVE_STREAMING_STARTED:SO,DAILY_EVENT_LIVE_STREAMING_STOPPED:EO,DAILY_EVENT_LIVE_STREAMING_UPDATED:_O,DAILY_EVENT_LOADED:Bv,DAILY_EVENT_LOADING:DN,DAILY_EVENT_LOAD_ATTEMPT_FAILED:LN,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:mO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:fO,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:pO,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:g6,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:JN,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:KN,DAILY_EVENT_NETWORK_CONNECTION:wO,DAILY_EVENT_NETWORK_QUALITY_CHANGE:yO,DAILY_EVENT_NONFATAL_ERROR:Hv,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:HN,DAILY_EVENT_PARTICIPANT_JOINED:zN,DAILY_EVENT_PARTICIPANT_LEFT:WN,DAILY_EVENT_PARTICIPANT_UPDATED:qN,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:TO,DAILY_EVENT_RECORDING_DATA:aO,DAILY_EVENT_RECORDING_ERROR:iO,DAILY_EVENT_RECORDING_STARTED:zv,DAILY_EVENT_RECORDING_STATS:sO,DAILY_EVENT_RECORDING_STOPPED:qv,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:oO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:uO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:hO,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:dO,DAILY_EVENT_STARTED_CAMERA:$N,DAILY_EVENT_THEME_UPDATED:MN,DAILY_EVENT_TRACK_STARTED:ZN,DAILY_EVENT_TRACK_STOPPED:eO,DAILY_EVENT_TRANSCRIPTION_ERROR:rO,DAILY_EVENT_TRANSCRIPTION_MSG:cO,DAILY_EVENT_TRANSCRIPTION_STARTED:tO,DAILY_EVENT_TRANSCRIPTION_STOPPED:nO,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:YN,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:XN,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:QN,DAILY_FATAL_ERROR_CONNECTION:ON,DAILY_FATAL_ERROR_EJECTED:t6,DAILY_FATAL_ERROR_EOL:NN,DAILY_FATAL_ERROR_EXP_ROOM:s6,DAILY_FATAL_ERROR_EXP_TOKEN:i6,DAILY_FATAL_ERROR_MEETING_FULL:o6,DAILY_FATAL_ERROR_NBF_ROOM:n6,DAILY_FATAL_ERROR_NBF_TOKEN:r6,DAILY_FATAL_ERROR_NOT_ALLOWED:a6,DAILY_FATAL_ERROR_NO_ROOM:Uv,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:e6,DAILY_RECEIVE_SETTINGS_BASE_KEY:PN,DAILY_STATE_ERROR:Qr,DAILY_STATE_JOINED:$s,DAILY_STATE_JOINING:Lh,DAILY_STATE_LEFT:Ps,DAILY_STATE_NEW:Vv,DAILY_TRACK_STATE_BLOCKED:GW,DAILY_TRACK_STATE_INTERRUPTED:QW,DAILY_TRACK_STATE_LOADING:YW,DAILY_TRACK_STATE_OFF:KW,DAILY_TRACK_STATE_PLAYABLE:jN,DAILY_TRACK_STATE_SENDABLE:JW,default:H6},Symbol.toStringTag,{value:"Module"})),Y6=fD(J6);var U0={exports:{}},fa=typeof Reflect=="object"?Reflect:null,xE=fa&&typeof fa.apply=="function"?fa.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Dd;fa&&typeof fa.ownKeys=="function"?Dd=fa.ownKeys:Object.getOwnPropertySymbols?Dd=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Dd=function(t){return Object.getOwnPropertyNames(t)};function Q6(e){console&&console.warn&&console.warn(e)}var ZO=Number.isNaN||function(t){return t!==t};function $e(){$e.init.call(this)}U0.exports=$e;U0.exports.once=tH;$e.EventEmitter=$e;$e.prototype._events=void 0;$e.prototype._eventsCount=0;$e.prototype._maxListeners=void 0;var SE=10;function Bf(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty($e,"defaultMaxListeners",{enumerable:!0,get:function(){return SE},set:function(e){if(typeof e!="number"||e<0||ZO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");SE=e}});$e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$e.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ZO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function eR(e){return e._maxListeners===void 0?$e.defaultMaxListeners:e._maxListeners}$e.prototype.getMaxListeners=function(){return eR(this)};$e.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[t];if(l===void 0)return!1;if(typeof l=="function")xE(l,this,n);else for(var c=l.length,d=iR(l,c),r=0;r<c;++r)xE(d[r],this,n);return!0};function tR(e,t,n,r){var s,i,o;if(Bf(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=eR(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,Q6(a)}return e}$e.prototype.addListener=function(t,n){return tR(this,t,n,!1)};$e.prototype.on=$e.prototype.addListener;$e.prototype.prependListener=function(t,n){return tR(this,t,n,!0)};function X6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nR(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=X6.bind(r);return s.listener=n,r.wrapFn=s,s}$e.prototype.once=function(t,n){return Bf(n),this.on(t,nR(this,t,n)),this};$e.prototype.prependOnceListener=function(t,n){return Bf(n),this.prependListener(t,nR(this,t,n)),this};$e.prototype.removeListener=function(t,n){var r,s,i,o,a;if(Bf(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():Z6(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};$e.prototype.off=$e.prototype.removeListener;$e.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function rR(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?eH(s):iR(s,s.length)}$e.prototype.listeners=function(t){return rR(this,t,!0)};$e.prototype.rawListeners=function(t){return rR(this,t,!1)};$e.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):sR.call(e,t)};$e.prototype.listenerCount=sR;function sR(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}$e.prototype.eventNames=function(){return this._eventsCount>0?Dd(this._events):[]};function iR(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Z6(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function eH(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function tH(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}oR(e,t,i,{once:!0}),t!=="error"&&nH(e,s,{once:!0})})}function nH(e,t,n){typeof e.on=="function"&&oR(e,"error",t,n)}function oR(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var rH=U0.exports,zf={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.Api=si.HttpClient=si.ContentType=void 0;var Z;(function(e){e.Json="application/json",e.JsonApi="application/vnd.api+json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"})(Z||(si.ContentType=Z={}));class aR{constructor(t={}){we(this,"baseUrl","https://api.vapi.ai");we(this,"securityData",null);we(this,"securityWorker");we(this,"abortControllers",new Map);we(this,"customFetch",(...t)=>fetch(...t));we(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"});we(this,"setSecurityData",t=>{this.securityData=t});we(this,"contentFormatters",{[Z.Json]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.JsonApi]:t=>t!==null&&(typeof t=="object"||typeof t=="string")?JSON.stringify(t):t,[Z.Text]:t=>t!==null&&typeof t!="string"?JSON.stringify(t):t,[Z.FormData]:t=>t instanceof FormData?t:Object.keys(t||{}).reduce((n,r)=>{const s=t[r];return n.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),n},new FormData),[Z.UrlEncoded]:t=>this.toQueryString(t)});we(this,"createAbortSignal",t=>{if(this.abortControllers.has(t)){const r=this.abortControllers.get(t);return r?r.signal:void 0}const n=new AbortController;return this.abortControllers.set(t,n),n.signal});we(this,"abortRequest",t=>{const n=this.abortControllers.get(t);n&&(n.abort(),this.abortControllers.delete(t))});we(this,"request",async({body:t,secure:n,path:r,type:s,query:i,format:o,baseUrl:a,cancelToken:l,...c})=>{const d=(typeof n=="boolean"?n:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(c,d),p=i&&this.toQueryString(i),m=this.contentFormatters[s||Z.Json],b=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${p?`?${p}`:""}`,{...h,headers:{...h.headers||{},...s&&s!==Z.FormData?{"Content-Type":s}:{}},signal:(l?this.createAbortSignal(l):h.signal)||null,body:typeof t>"u"||t===null?null:m(t)}).then(async f=>{const x=f;x.data=null,x.error=null;const y=b?f.clone():f,w=b?await y[b]().then(S=>(x.ok?x.data=S:x.error=S,x)).catch(S=>(x.error=S,x)):x;if(l&&this.abortControllers.delete(l),!f.ok)throw w;return w})});Object.assign(this,t)}encodeQueryParam(t,n){return`${encodeURIComponent(t)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(t,n){return this.encodeQueryParam(n,t[n])}addArrayQueryParam(t,n){return t[n].map(s=>this.encodeQueryParam(n,s)).join("&")}toQueryString(t){const n=t||{};return Object.keys(n).filter(s=>typeof n[s]<"u").map(s=>Array.isArray(n[s])?this.addArrayQueryParam(n,s):this.addQueryParam(n,s)).join("&")}addQueryParams(t){const n=this.toQueryString(t);return n?`?${n}`:""}mergeRequestParams(t,n){return{...this.baseApiParams,...t,...n||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...n&&n.headers||{}}}}}si.HttpClient=aR;class sH extends aR{constructor(){super(...arguments);we(this,"assistant",{assistantControllerCreate:(n,r={})=>this.request({path:"/assistant",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),assistantControllerFindAll:(n,r={})=>this.request({path:"/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),assistantControllerFindOne:(n,r={})=>this.request({path:`/assistant/${n}`,method:"GET",secure:!0,format:"json",...r}),assistantControllerUpdate:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerReplace:(n,r,s={})=>this.request({path:`/assistant/${n}`,method:"PUT",body:r,secure:!0,type:Z.Json,format:"json",...s}),assistantControllerRemove:(n,r={})=>this.request({path:`/assistant/${n}`,method:"DELETE",secure:!0,format:"json",...r}),assistantControllerFindVersions:(n,r,s={})=>this.request({path:`/assistant/${n}/version`,method:"GET",query:r,secure:!0,format:"json",...s})});we(this,"v2",{assistantControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/assistant",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerCallsExport:(n,r={})=>this.request({path:"/v2/call/export",method:"GET",query:n,secure:!0,...r}),callControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindAllMetadataPaginated:(n,r={})=>this.request({path:"/v2/call/metadata",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindAllPaginated:(n,r={})=>this.request({path:"/v2/phone-number",method:"GET",query:n,secure:!0,format:"json",...r})});we(this,"squad",{squadControllerCreate:(n,r={})=>this.request({path:"/squad",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),squadControllerFindAll:(n,r={})=>this.request({path:"/squad",method:"GET",query:n,secure:!0,format:"json",...r}),squadControllerFindOne:(n,r={})=>this.request({path:`/squad/${n}`,method:"GET",secure:!0,format:"json",...r}),squadControllerUpdate:(n,r,s={})=>this.request({path:`/squad/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),squadControllerRemove:(n,r={})=>this.request({path:`/squad/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"workflow",{workflowControllerFindAll:(n={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...n}),workflowControllerCreate:(n,r={})=>this.request({path:"/workflow",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),workflowControllerFindOne:(n,r={})=>this.request({path:`/workflow/${n}`,method:"GET",secure:!0,format:"json",...r}),workflowControllerDelete:(n,r={})=>this.request({path:`/workflow/${n}`,method:"DELETE",secure:!0,format:"json",...r}),workflowControllerUpdate:(n,r,s={})=>this.request({path:`/workflow/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s})});we(this,"call",{callControllerCreate:(n,r={})=>this.request({path:"/call",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerFindAll:(n,r={})=>this.request({path:"/call",method:"GET",query:n,secure:!0,format:"json",...r}),callControllerFindOne:(n,r={})=>this.request({path:`/call/${n}`,method:"GET",secure:!0,format:"json",...r}),callControllerUpdate:(n,r,s={})=>this.request({path:`/call/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerDeleteCallData:(n,r,s={})=>this.request({path:`/call/${n}`,method:"DELETE",body:r,secure:!0,type:Z.Json,format:"json",...s}),callControllerCreatePhoneCall:(n,r={})=>this.request({path:"/call/phone",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),callControllerCreateWebCall:(n,r={})=>this.request({path:"/call/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});we(this,"chat",{chatControllerListChats:(n,r={})=>this.request({path:"/chat",method:"GET",query:n,secure:!0,format:"json",...r}),chatControllerCreateChat:(n,r={})=>this.request({path:"/chat",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerGetChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"GET",secure:!0,format:"json",...r}),chatControllerDeleteChat:(n,r={})=>this.request({path:`/chat/${n}`,method:"DELETE",secure:!0,format:"json",...r}),chatControllerCreateOpenAiChat:(n,r={})=>this.request({path:"/chat/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateWebChat:(n,r={})=>this.request({path:"/chat/web",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),chatControllerCreateOpenAiWebChat:(n,r={})=>this.request({path:"/chat/web/responses",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});we(this,"campaign",{campaignControllerCreate:(n,r={})=>this.request({path:"/campaign",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),campaignControllerFindAll:(n,r={})=>this.request({path:"/campaign",method:"GET",query:n,secure:!0,format:"json",...r}),campaignControllerFindOne:(n,r={})=>this.request({path:`/campaign/${n}`,method:"GET",secure:!0,format:"json",...r}),campaignControllerUpdate:(n,r,s={})=>this.request({path:`/campaign/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),campaignControllerRemove:(n,r={})=>this.request({path:`/campaign/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"session",{sessionControllerCreate:(n,r={})=>this.request({path:"/session",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),sessionControllerFindAllPaginated:(n,r={})=>this.request({path:"/session",method:"GET",query:n,secure:!0,format:"json",...r}),sessionControllerFindOne:(n,r={})=>this.request({path:`/session/${n}`,method:"GET",secure:!0,format:"json",...r}),sessionControllerUpdate:(n,r,s={})=>this.request({path:`/session/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),sessionControllerRemove:(n,r={})=>this.request({path:`/session/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"phoneNumber",{phoneNumberControllerImportTwilio:(n,r={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerImportVonage:(n,r={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerCreate:(n,r={})=>this.request({path:"/phone-number",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),phoneNumberControllerFindAll:(n,r={})=>this.request({path:"/phone-number",method:"GET",query:n,secure:!0,format:"json",...r}),phoneNumberControllerFindOne:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"GET",secure:!0,format:"json",...r}),phoneNumberControllerUpdate:(n,r,s={})=>this.request({path:`/phone-number/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),phoneNumberControllerRemove:(n,r={})=>this.request({path:`/phone-number/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"tool",{toolControllerCreate:(n,r={})=>this.request({path:"/tool",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),toolControllerFindAll:(n,r={})=>this.request({path:"/tool",method:"GET",query:n,secure:!0,format:"json",...r}),toolControllerFindOne:(n,r={})=>this.request({path:`/tool/${n}`,method:"GET",secure:!0,format:"json",...r}),toolControllerUpdate:(n,r,s={})=>this.request({path:`/tool/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),toolControllerRemove:(n,r={})=>this.request({path:`/tool/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"file",{fileControllerCreateDeprecated:(n,r={})=>this.request({path:"/file/upload",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerCreate:(n,r={})=>this.request({path:"/file",method:"POST",body:n,secure:!0,type:Z.FormData,format:"json",...r}),fileControllerFindAll:(n={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...n}),fileControllerFindOne:(n,r={})=>this.request({path:`/file/${n}`,method:"GET",secure:!0,format:"json",...r}),fileControllerUpdate:(n,r,s={})=>this.request({path:`/file/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),fileControllerRemove:(n,r={})=>this.request({path:`/file/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"knowledgeBase",{knowledgeBaseControllerCreate:(n,r={})=>this.request({path:"/knowledge-base",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),knowledgeBaseControllerFindAll:(n,r={})=>this.request({path:"/knowledge-base",method:"GET",query:n,secure:!0,format:"json",...r}),knowledgeBaseControllerFindOne:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"GET",secure:!0,format:"json",...r}),knowledgeBaseControllerUpdate:(n,r,s={})=>this.request({path:`/knowledge-base/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),knowledgeBaseControllerRemove:(n,r={})=>this.request({path:`/knowledge-base/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"structuredOutput",{structuredOutputControllerFindAll:(n,r={})=>this.request({path:"/structured-output",method:"GET",query:n,secure:!0,format:"json",...r}),structuredOutputControllerCreate:(n,r={})=>this.request({path:"/structured-output",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),structuredOutputControllerFindOne:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"GET",secure:!0,format:"json",...r}),structuredOutputControllerUpdate:(n,r,s,i={})=>this.request({path:`/structured-output/${n}`,method:"PATCH",query:r,body:s,secure:!0,type:Z.Json,format:"json",...i}),structuredOutputControllerRemove:(n,r={})=>this.request({path:`/structured-output/${n}`,method:"DELETE",secure:!0,format:"json",...r}),structuredOutputControllerRun:(n,r={})=>this.request({path:"/structured-output/run",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});we(this,"testSuite",{testSuiteControllerFindAllPaginated:(n,r={})=>this.request({path:"/test-suite",method:"GET",query:n,secure:!0,format:"json",...r}),testSuiteControllerCreate:(n,r={})=>this.request({path:"/test-suite",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),testSuiteControllerFindOne:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"GET",secure:!0,format:"json",...r}),testSuiteControllerUpdate:(n,r,s={})=>this.request({path:`/test-suite/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteControllerRemove:(n,r={})=>this.request({path:`/test-suite/${n}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteTestControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteTestControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/test`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteTestControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteTestControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteTestControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/test/${r}`,method:"DELETE",secure:!0,format:"json",...s}),testSuiteRunControllerFindAllPaginated:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"GET",query:r,secure:!0,format:"json",...s}),testSuiteRunControllerCreate:(n,r,s={})=>this.request({path:`/test-suite/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),testSuiteRunControllerFindOne:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"GET",secure:!0,format:"json",...s}),testSuiteRunControllerUpdate:(n,r,s,i={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"PATCH",body:s,secure:!0,type:Z.Json,format:"json",...i}),testSuiteRunControllerRemove:(n,r,s={})=>this.request({path:`/test-suite/${n}/run/${r}`,method:"DELETE",secure:!0,format:"json",...s})});we(this,"reporting",{insightControllerCreate:(n,r={})=>this.request({path:"/reporting/insight",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),insightControllerFindAll:(n,r={})=>this.request({path:"/reporting/insight",method:"GET",query:n,secure:!0,format:"json",...r}),insightControllerUpdate:(n,r,s={})=>this.request({path:`/reporting/insight/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerFindOne:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"GET",secure:!0,format:"json",...r}),insightControllerRemove:(n,r={})=>this.request({path:`/reporting/insight/${n}`,method:"DELETE",secure:!0,format:"json",...r}),insightControllerRun:(n,r,s={})=>this.request({path:`/reporting/insight/${n}/run`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),insightControllerPreview:(n,r={})=>this.request({path:"/reporting/insight/preview",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});we(this,"eval",{evalControllerCreate:(n,r={})=>this.request({path:"/eval",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),evalControllerGetPaginated:(n,r={})=>this.request({path:"/eval",method:"GET",query:n,secure:!0,format:"json",...r}),evalControllerUpdate:(n,r,s={})=>this.request({path:`/eval/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),evalControllerRemove:(n,r={})=>this.request({path:`/eval/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGet:(n,r={})=>this.request({path:`/eval/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRemoveRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"DELETE",secure:!0,format:"json",...r}),evalControllerGetRun:(n,r={})=>this.request({path:`/eval/run/${n}`,method:"GET",secure:!0,format:"json",...r}),evalControllerRun:(n,r={})=>this.request({path:"/eval/run",method:"POST",body:n,secure:!0,type:Z.Json,...r}),evalControllerGetRunsPaginated:(n,r={})=>this.request({path:"/eval/run",method:"GET",query:n,secure:!0,format:"json",...r})});we(this,"observability",{scorecardControllerGet:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"GET",secure:!0,format:"json",...r}),scorecardControllerUpdate:(n,r,s={})=>this.request({path:`/observability/scorecard/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),scorecardControllerRemove:(n,r={})=>this.request({path:`/observability/scorecard/${n}`,method:"DELETE",secure:!0,format:"json",...r}),scorecardControllerGetPaginated:(n,r={})=>this.request({path:"/observability/scorecard",method:"GET",query:n,secure:!0,format:"json",...r}),scorecardControllerCreate:(n,r={})=>this.request({path:"/observability/scorecard",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})});we(this,"org",{orgControllerCreate:(n,r={})=>this.request({path:"/org",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),orgControllerFindAll:(n={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...n}),orgControllerFeatureFlagEnabled:(n,r={})=>this.request({path:"/org/feature-flag",method:"GET",query:n,secure:!0,format:"json",...r}),orgControllerFindOne:(n,r={})=>this.request({path:`/org/${n}`,method:"GET",secure:!0,format:"json",...r}),orgControllerUpdate:(n,r,s={})=>this.request({path:`/org/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),orgControllerDeleteOrg:(n,r={})=>this.request({path:`/org/${n}`,method:"DELETE",secure:!0,...r}),orgControllerFindAllUsers:(n,r={})=>this.request({path:`/org/${n}/user`,method:"GET",secure:!0,format:"json",...r}),orgControllerOrgLeave:(n,r={})=>this.request({path:`/org/${n}/leave`,method:"DELETE",secure:!0,...r}),orgControllerOrgRemoveUser:(n,r,s={})=>this.request({path:`/org/${n}/member/${r}/leave`,method:"DELETE",secure:!0,...s}),orgControllerUsersInvite:(n,r,s={})=>this.request({path:`/org/${n}/invite`,method:"POST",body:r,secure:!0,type:Z.Json,...s}),orgControllerUserUpdate:(n,r,s={})=>this.request({path:`/org/${n}/role`,method:"PATCH",body:r,secure:!0,type:Z.Json,...s}),orgControllerOrgToken:(n,r={})=>this.request({path:`/org/${n}/auth`,method:"GET",secure:!0,format:"json",...r})});we(this,"token",{tokenControllerCreate:(n,r={})=>this.request({path:"/token",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),tokenControllerFindAll:(n,r={})=>this.request({path:"/token",method:"GET",query:n,secure:!0,format:"json",...r}),tokenControllerFindOne:(n,r={})=>this.request({path:`/token/${n}`,method:"GET",secure:!0,format:"json",...r}),tokenControllerUpdate:(n,r,s={})=>this.request({path:`/token/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),tokenControllerRemove:(n,r={})=>this.request({path:`/token/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"credential",{credentialControllerCreate:(n,r={})=>this.request({path:"/credential",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),credentialControllerFindAll:(n,r={})=>this.request({path:"/credential",method:"GET",query:n,secure:!0,format:"json",...r}),credentialControllerFindOne:(n,r={})=>this.request({path:`/credential/${n}`,method:"GET",secure:!0,format:"json",...r}),credentialControllerUpdate:(n,r,s={})=>this.request({path:`/credential/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),credentialControllerRemove:(n,r={})=>this.request({path:`/credential/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"template",{templateControllerCreate:(n,r={})=>this.request({path:"/template",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),templateControllerFindAll:(n,r={})=>this.request({path:"/template",method:"GET",query:n,secure:!0,format:"json",...r}),templateControllerFindAllPinned:(n={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...n}),templateControllerFindOne:(n,r={})=>this.request({path:`/template/${n}`,method:"GET",secure:!0,format:"json",...r}),templateControllerUpdate:(n,r,s={})=>this.request({path:`/template/${n}`,method:"PATCH",body:r,secure:!0,type:Z.Json,format:"json",...s}),templateControllerRemove:(n,r={})=>this.request({path:`/template/${n}`,method:"DELETE",secure:!0,format:"json",...r})});we(this,"voiceLibrary",{voiceLibraryControllerVoiceGetByProvider:(n,r,s={})=>this.request({path:`/voice-library/${n}`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceLibraryControllerVoiceGetAccentsByProvider:(n,r={})=>this.request({path:`/voice-library/${n}/accents`,method:"GET",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncByProvider:(n,r={})=>this.request({path:`/voice-library/sync/${n}`,method:"POST",secure:!0,format:"json",...r}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(n,r={})=>this.request({path:"/voice-library/sync",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(n,r={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:n,secure:!0,type:Z.Json,...r})});we(this,"provider",{providerResourceControllerCreateProviderResource:(n,r,s={})=>this.request({path:`/provider/${n}/${r}`,method:"POST",secure:!0,format:"json",...s}),providerResourceControllerGetProviderResourcesPaginated:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}`,method:"GET",query:s,secure:!0,format:"json",...i}),providerResourceControllerGetProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"GET",secure:!0,format:"json",...i}),providerResourceControllerDeleteProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"DELETE",secure:!0,format:"json",...i}),providerResourceControllerUpdateProviderResource:(n,r,s,i={})=>this.request({path:`/provider/${n}/${r}/${s}`,method:"PATCH",secure:!0,format:"json",...i}),providerControllerGetWorkflows:(n,r,s={})=>this.request({path:`/${n}/workflows`,method:"GET",query:r,secure:!0,format:"json",...s}),providerControllerGetWorkflowTriggerHook:(n,r,s={})=>this.request({path:`/${n}/workflows/${r}/hooks`,method:"GET",secure:!0,format:"json",...s}),providerControllerGetLocations:(n,r={})=>this.request({path:`/${n}/locations`,method:"GET",secure:!0,format:"json",...r}),voiceProviderControllerSearchVoices:(n,r,s={})=>this.request({path:`/${n}/voices/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerSearchVoice:(n,r,s={})=>this.request({path:`/${n}/voice/search`,method:"GET",query:r,secure:!0,format:"json",...s}),voiceProviderControllerAddVoices:(n,r,s={})=>this.request({path:`/${n}/voices/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s}),voiceProviderControllerAddVoice:(n,r,s={})=>this.request({path:`/${n}/voice/add`,method:"POST",body:r,secure:!0,type:Z.Json,format:"json",...s})});we(this,"v11Labs",{voiceProviderControllerCloneVoices:(n,r={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:n,secure:!0,type:Z.FormData,...r})});we(this,"analytics",{analyticsControllerQuery:(n,r={})=>this.request({path:"/analytics",method:"POST",body:n,secure:!0,type:Z.Json,format:"json",...r})})}}si.Api=sH;Object.defineProperty(zf,"__esModule",{value:!0});zf.client=void 0;const iH=si,oH=new iH.Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async e=>{if(e)return{headers:{Authorization:`Bearer ${e}`}}}});zf.client=oH;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.createSafeDailyConfig=aH;ol.safeSetLocalAudio=lH;ol.safeSetInputDevicesAsync=cH;ol.createSafeDailyFactoryOptions=uH;function aH(e){if(!e)return{};const{alwaysIncludeMicInPermissionPrompt:t,...n}=e;return t===!1?(console.warn("[Vapi] alwaysIncludeMicInPermissionPrompt:false detected. This can cause Chrome 140+ issues. Removing the property."),n):e}function lH(e,t){if(!e)throw new Error("Call object is not available.");e.setLocalAudio(t)}async function cH(e,t){if(!e)throw new Error("Call object is not available.");if("audioSource"in t&&t.audioSource===!1){console.warn("[Vapi] setInputDevicesAsync with audioSource:false detected. This can cause Chrome 140+ issues. Using default device instead.");const{audioSource:n,...r}=t;await e.setInputDevicesAsync(r);return}await e.setInputDevicesAsync(t)}function uH(e){return e?e.audioSource===!1?(console.warn("[Vapi] audioSource:false detected in factory options. This can cause Chrome 140+ issues. Defaulting to true."),{...e,audioSource:!0}):e:{}}var lR=xb&&xb.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cN,"__esModule",{value:!0});const km=lR(Y6),dH=lR(rH),Cm=zf,Ci=ol;function zt(e){if(e==null)return{message:"Unknown error (null or undefined)"};if(e instanceof Error){const t={message:e.message,name:e.name,stack:e.stack},n=e;return n.code!==void 0&&(t.code=n.code),n.cause!==void 0&&(t.cause=String(n.cause)),n.reason!==void 0&&(t.reason=n.reason),n.details!==void 0&&(t.details=n.details),n.errorMsg!==void 0&&(t.errorMsg=n.errorMsg),n.error!==void 0&&typeof n.error=="string"&&(t.errorDetail=n.error),t}if(typeof e=="string")return{message:e};if(typeof e=="object"){const t=e;return{message:t.message||t.error||JSON.stringify(e),...t}}return{message:String(e)}}async function hH(e,t){e.muted=!1,e.autoplay=!0,t!=null&&(e.srcObject=new MediaStream([t]),await e.play())}async function _E(e,t){const n=document.createElement("audio");return n.dataset.participantId=t,document.body.appendChild(n),await hH(n,e),n}function EE(e){const t=document.querySelector(`audio[data-participant-id="${e}"]`);t==null||t.remove()}function kE(e,t,n,r){e.participant.local||t.updateParticipant(e.participant.session_id,{setSubscribedTracks:{audio:!0,video:n||r}})}class fH extends dH.default{on(t,n){return super.on(t,n),this}once(t,n){return super.once(t,n),this}emit(t,...n){return super.emit(t,...n)}removeListener(t,n){return super.removeListener(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class pH extends fH{constructor(n,r,s,i){super();we(this,"started",!1);we(this,"call",null);we(this,"speakingTimeout",null);we(this,"dailyCallConfig",{});we(this,"dailyCallObject",{});we(this,"hasEmittedCallEndedStatus",!1);Cm.client.baseUrl=r??"https://api.vapi.ai",Cm.client.setSecurityData(n),this.dailyCallConfig=(0,Ci.createSafeDailyConfig)(s),this.dailyCallObject=(0,Ci.createSafeDailyFactoryOptions)(i)}async cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}isMobileDevice(){if(typeof navigator>"u")return!1;const n=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(n.toLowerCase())}async sleep(n){return new Promise(r=>setTimeout(r,n))}async start(n,r,s,i,o,a){var c,d,h,p,m,b,f;const l=Date.now();if(!n&&!s&&!i){const x=new Error("Assistant or Squad or Workflow must be provided.");throw this.emit("error",{type:"validation-error",stage:"input-validation",error:zt(x),timestamp:new Date().toISOString()}),x}if(this.started)return this.emit("call-start-progress",{stage:"validation",status:"failed",timestamp:new Date().toISOString(),metadata:{reason:"already-started"}}),null;this.emit("call-start-progress",{stage:"initialization",status:"started",timestamp:new Date().toISOString(),metadata:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i}}),this.started=!0;try{this.emit("call-start-progress",{stage:"web-call-creation",status:"started",timestamp:new Date().toISOString()});const x=Date.now(),y=(await Cm.client.call.callControllerCreateWebCall({assistant:typeof n=="string"?void 0:n,assistantId:typeof n=="string"?n:void 0,assistantOverrides:r,squad:typeof s=="string"?void 0:s,squadId:typeof s=="string"?s:void 0,workflow:typeof i=="string"?void 0:i,workflowId:typeof i=="string"?i:void 0,workflowOverrides:o,roomDeleteOnUserLeaveEnabled:a==null?void 0:a.roomDeleteOnUserLeaveEnabled})).data,w=Date.now()-x;this.emit("call-start-progress",{stage:"web-call-creation",status:"completed",duration:w,timestamp:new Date().toISOString(),metadata:{callId:(y==null?void 0:y.id)||"unknown",videoRecordingEnabled:((c=y==null?void 0:y.artifactPlan)==null?void 0:c.videoRecordingEnabled)??!1,voiceProvider:((h=(d=y==null?void 0:y.assistant)==null?void 0:d.voice)==null?void 0:h.provider)||"unknown"}}),this.call&&(this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{action:"cleanup-existing"}}),await this.cleanup());const S=((p=y==null?void 0:y.artifactPlan)==null?void 0:p.videoRecordingEnabled)??!1,E=((b=(m=y==null?void 0:y.assistant)==null?void 0:m.voice)==null?void 0:b.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,isVideoRecordingEnabled:S,isVideoEnabled:E}});const C=Date.now();try{this.call=km.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??S,dailyConfig:this.dailyCallConfig});const O=Date.now()-C;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-C,W=zt(O);throw this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-object-creation-error",stage:"daily-call-object-creation",error:W,timestamp:new Date().toISOString()}),O}(f=this.call.iframe())==null||f.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),S&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var $;this.emit("error",{type:"daily-error",error:zt(O),timestamp:new Date().toISOString()}),S&&(($=this.call)==null||$.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:zt(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var $,W,L;!O||!O.participant||($=O.participant)!=null&&$.local||((W=O.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await _E(O.track,O.participant.session_id),(L=this.call)==null||L.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||kE(O,this.call,S,E)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&EE(O.participant.session_id)});const T=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:T}}),T){const O=Date.now();await this.sleep(1e3);const $=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:$,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const j=Date.now();try{await this.call.join({url:y.webCallUrl,subscribeToTracksAutomatically:!1});const O=Date.now()-j;this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-j,W=zt(O);throw this.emit("call-start-progress",{stage:"daily-call-join",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"daily-call-join-error",stage:"daily-call-join",error:W,duration:$,timestamp:new Date().toISOString()}),O}if(S){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=new Date().getTime(),$=Date.now();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-$;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const L=(new Date().getTime()-O)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:L}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:L})})}catch(W){const L=Date.now()-$,J=zt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:J.message}}),this.emit("error",{type:"video-recording-setup-error",stage:"video-recording-setup",error:J,timestamp:new Date().toISOString()})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-N,W=zt(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-observer-setup-error",stage:"audio-observer-setup",error:W,timestamp:new Date().toISOString()})}this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var $;(O==null?void 0:O.type)==="audio-processor-error"&&(($=this.call)==null||$.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ci.safeSetLocalAudio)(this.call,!0)}))}),this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-I,W=zt(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}}),this.emit("error",{type:"audio-processing-setup-error",stage:"audio-processing-setup",error:W,timestamp:new Date().toISOString()})}const R=Date.now()-l;return this.emit("call-start-success",{totalDuration:R,callId:(y==null?void 0:y.id)||"unknown",timestamp:new Date().toISOString()}),y}catch(x){const y=Date.now()-l,w=zt(x);return this.emit("call-start-failed",{stage:"unknown",totalDuration:y,error:w.message,errorStack:w.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),this.emit("error",{type:"start-method-error",stage:"unknown",error:w,totalDuration:y,timestamp:new Date().toISOString(),context:{hasAssistant:!!n,hasSquad:!!s,hasWorkflow:!!i,isMobile:this.isMobileDevice()}}),await this.cleanup(),null}}onAppMessage(n){if(n)try{if(n.data==="listening")return this.emit("call-start");try{const r=JSON.parse(n.data);this.emit("message",r),r&&"type"in r&&"status"in r&&r.type==="status-update"&&r.status==="ended"&&(this.hasEmittedCallEndedStatus=!0)}catch(r){console.log("Error parsing message data: ",r)}}catch(r){console.error(r)}}handleRemoteParticipantsAudioLevel(n){const r=Object.values(n.participantsAudioLevel).reduce((i,o)=>i+o,0);this.emit("volume-level",Math.min(1,r/.15)),r>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}async stop(){this.started=!1,this.call&&(await this.call.destroy(),this.call=null),this.speakingTimeout=null}send(n){var r;(r=this.call)==null||r.sendAppMessage(JSON.stringify(n))}setMuted(n){(0,Ci.safeSetLocalAudio)(this.call,!n)}isMuted(){return this.call?this.call.localAudio()===!1:!1}say(n,r,s,i){this.send({type:"say",message:n,endCallAfterSpoken:r,interruptionsEnabled:s??!1,interruptAssistantEnabled:i??!1})}end(){this.send({type:"end-call"}),this.stop()}setInputDevicesAsync(n){return(0,Ci.safeSetInputDevicesAsync)(this.call,n)}async increaseMicLevel(n){if(!this.call)throw new Error("Call object is not available.");try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new AudioContext,i=s.createMediaStreamSource(r),o=s.createGain();o.gain.value=n,i.connect(o);const a=s.createMediaStreamDestination();o.connect(a);const[l]=a.stream.getAudioTracks();await(0,Ci.safeSetInputDevicesAsync)(this.call,{audioSource:l})}catch(r){console.error("Error adjusting microphone level:",r)}}setOutputDeviceAsync(n){var r;(r=this.call)==null||r.setOutputDeviceAsync(n)}getDailyCallObject(){return this.call}startScreenSharing(n,r){var s;(s=this.call)==null||s.startScreenShare({displayMediaOptions:n,screenVideoSendSettings:r})}stopScreenSharing(){var n;(n=this.call)==null||n.stopScreenShare()}async reconnect(n){var s,i,o,a,l,c,d,h,p,m,b,f,x;const r=Date.now();if(this.started)throw new Error("Cannot reconnect while a call is already in progress. Call stop() first.");if(!n.webCallUrl)throw new Error("webCallUrl is required for reconnection.");this.emit("call-start-progress",{stage:"reconnect-initialization",status:"started",timestamp:new Date().toISOString(),metadata:{callId:n.id||"unknown",hasVideoRecording:!!((s=n==null?void 0:n.artifactPlan)!=null&&s.videoRecordingEnabled),voiceProvider:((o=(i=n==null?void 0:n.assistant)==null?void 0:i.voice)==null?void 0:o.provider)||"unknown"}}),this.started=!0;try{this.call&&(this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"started",timestamp:new Date().toISOString()}),await this.cleanup(),this.emit("call-start-progress",{stage:"cleanup-existing-call",status:"completed",timestamp:new Date().toISOString()}));const y=((a=n==null?void 0:n.artifactPlan)==null?void 0:a.videoRecordingEnabled)??!1,w=((c=(l=n==null?void 0:n.assistant)==null?void 0:l.voice)==null?void 0:c.provider)==="tavus";this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"started",timestamp:new Date().toISOString(),metadata:{audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,isVideoRecordingEnabled:y,isVideoEnabled:w}});const S=Date.now();this.call=km.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??y,dailyConfig:this.dailyCallConfig});const E=Date.now()-S;this.emit("call-start-progress",{stage:"daily-call-object-creation",status:"completed",duration:E,timestamp:new Date().toISOString()}),(d=this.call.iframe())==null||d.style.setProperty("display","none"),this.call.on("left-meeting",()=>{var O;this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),y&&((O=this.call)==null||O.stopRecording()),this.cleanup().catch(console.error)}),this.call.on("error",O=>{var $;this.emit("error",{type:"daily-error",error:zt(O),timestamp:new Date().toISOString()}),y&&(($=this.call)==null||$.stopRecording())}),this.call.on("camera-error",O=>{this.emit("camera-error",{type:"camera-error",error:zt(O),timestamp:new Date().toISOString()})}),this.call.on("network-quality-change",O=>{this.emit("network-quality-change",O)}),this.call.on("network-connection",O=>{this.emit("network-connection",O)}),this.call.on("track-started",async O=>{var $,W,L;!O||!O.participant||($=O.participant)!=null&&$.local||((W=O.participant)==null?void 0:W.user_name)==="Vapi Speaker"&&(O.track.kind==="video"&&this.emit("video",O.track),O.track.kind==="audio"&&await _E(O.track,O.participant.session_id),(L=this.call)==null||L.sendAppMessage("playable"))}),this.call.on("participant-joined",O=>{!O||!this.call||kE(O,this.call,y,w)}),this.call.on("participant-updated",O=>{O&&this.emit("daily-participant-updated",O.participant)}),this.call.on("participant-left",O=>{O&&EE(O.participant.session_id)}),this.call.on("remote-participants-audio-level",O=>{O&&this.handleRemoteParticipantsAudioLevel(O)}),this.call.on("app-message",O=>this.onAppMessage(O)),this.call.on("nonfatal-error",O=>{var $;(O==null?void 0:O.type)==="audio-processor-error"&&(($=this.call)==null||$.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{(0,Ci.safeSetLocalAudio)(this.call,!0)}))});const C=this.isMobileDevice();if(this.emit("call-start-progress",{stage:"mobile-permissions",status:"started",timestamp:new Date().toISOString(),metadata:{isMobile:C}}),C){const O=Date.now();await this.sleep(1e3);const $=Date.now()-O;this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",duration:$,timestamp:new Date().toISOString(),metadata:{action:"permissions-wait"}})}else this.emit("call-start-progress",{stage:"mobile-permissions",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-mobile"}});this.emit("call-start-progress",{stage:"daily-call-join",status:"started",timestamp:new Date().toISOString()});const T=Date.now();await this.call.join({url:n.webCallUrl,subscribeToTracksAutomatically:!1});const j=Date.now()-T;if(this.emit("call-start-progress",{stage:"daily-call-join",status:"completed",duration:j,timestamp:new Date().toISOString()}),y){this.emit("call-start-progress",{stage:"video-recording-setup",status:"started",timestamp:new Date().toISOString()});const O=Date.now(),$=new Date().getTime();try{this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}});const W=Date.now()-O;this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",duration:W,timestamp:new Date().toISOString()}),this.call.on("recording-started",()=>{const L=(new Date().getTime()-$)/1e3;this.emit("call-start-progress",{stage:"video-recording-started",status:"completed",timestamp:new Date().toISOString(),metadata:{delaySeconds:L}}),this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:L})})}catch(W){const L=Date.now()-O,J=zt(W);this.emit("call-start-progress",{stage:"video-recording-setup",status:"failed",duration:L,timestamp:new Date().toISOString(),metadata:{error:J.message}})}}else this.emit("call-start-progress",{stage:"video-recording-setup",status:"completed",timestamp:new Date().toISOString(),metadata:{action:"skipped-not-enabled"}});this.emit("call-start-progress",{stage:"audio-observer-setup",status:"started",timestamp:new Date().toISOString()});const N=Date.now();try{this.call.startRemoteParticipantsAudioLevelObserver(100);const O=Date.now()-N;this.emit("call-start-progress",{stage:"audio-observer-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-N,W=zt(O);this.emit("call-start-progress",{stage:"audio-observer-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}})}this.emit("call-start-progress",{stage:"audio-processing-setup",status:"started",timestamp:new Date().toISOString()});const I=Date.now();try{this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}});const O=Date.now()-I;this.emit("call-start-progress",{stage:"audio-processing-setup",status:"completed",duration:O,timestamp:new Date().toISOString()})}catch(O){const $=Date.now()-I,W=zt(O);this.emit("call-start-progress",{stage:"audio-processing-setup",status:"failed",duration:$,timestamp:new Date().toISOString(),metadata:{error:W.message}})}const R=Date.now()-r;this.emit("call-start-success",{totalDuration:R,callId:(n==null?void 0:n.id)||"unknown",timestamp:new Date().toISOString()}),this.emit("call-start")}catch(y){const w=Date.now()-r,S=zt(y);throw this.emit("call-start-failed",{stage:"reconnect",totalDuration:w,error:S.message,errorStack:S.stack||"No stack trace available",timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((h=n==null?void 0:n.artifactPlan)!=null&&h.videoRecordingEnabled),voiceProvider:((m=(p=n==null?void 0:n.assistant)==null?void 0:p.voice)==null?void 0:m.provider)||"unknown",isMobile:this.isMobileDevice()}}),this.emit("error",{type:"reconnect-error",error:S,totalDuration:w,timestamp:new Date().toISOString(),context:{isReconnect:!0,callId:(n==null?void 0:n.id)||"unknown",hasVideoRecording:!!((b=n==null?void 0:n.artifactPlan)!=null&&b.videoRecordingEnabled),voiceProvider:((x=(f=n==null?void 0:n.assistant)==null?void 0:f.voice)==null?void 0:x.provider)||"unknown",isMobile:this.isMobileDevice()}}),await this.cleanup(),y}}static async runNetworkTestsStandalone(){console.log("Starting standalone network connectivity tests...");const n={};let r=null;try{console.log("Creating temporary call object for testing..."),r=km.default.createCallObject({audioSource:!0,videoSource:!0}),console.log(`
1. Testing network connectivity (TURN server)...`);let s=null;try{s=(await navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0];const o=await r.testNetworkConnectivity(s);n.networkConnectivity=o,console.log("Network connectivity test result:",o)}catch(i){n.networkConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Network connectivity test error:",i)}finally{s&&s.stop()}console.log(`
2. Testing websocket connectivity...`);try{const i=await r.testWebsocketConnectivity();n.websocketConnectivity=i,console.log("Websocket connectivity test result:",i)}catch(i){n.websocketConnectivity={result:"error",error:i==null?void 0:i.toString()},console.error("Websocket connectivity test error:",i)}console.log(`
3. Testing call quality...`);try{if(typeof r.testCallQuality=="function")try{console.log("Initializing call state with startCamera..."),await r.startCamera();const i=await r.testCallQuality();n.callQuality=i,console.log("Call quality test result:",i)}catch(i){console.error("Failed to start camera for call quality test:",i),n.callQuality={result:"error",error:i==null?void 0:i.toString(),message:"Failed to initialize camera for call quality test. Check camera permissions."}}else n.callQuality={result:"not-available",message:"testCallQuality method not available"},console.log("Call quality test not available in current Daily.co version")}catch(i){n.callQuality={result:"error",error:i==null?void 0:i.toString()},console.error("Call quality test error:",i)}}catch(s){console.error("Failed to create temporary call object:",s),n.error=s==null?void 0:s.toString()}finally{if(r)try{console.log("Cleaning up temporary call object..."),await r.destroy()}catch(s){console.error("Error destroying temporary call object:",s)}}return console.log(`
=== Network Test Summary ===`),console.log("Results:",JSON.stringify(n,null,2)),n}}var mH=cN.default=pH;const gH=`You are a Discovery consultant for AgentFlow, conducting intake conversations to understand how people work. Your goal is to decompose someone's job into discrete workflows and understand each workflow's components so we can identify automation opportunities.

## Your Personality
- Friendly, warm, and professional - like a knowledgeable consultant having a genuine conversation
- Curious and engaged - you find people's work genuinely interesting
- Patient and encouraging - you help people articulate things they may never have consciously mapped out
- Never robotic or interrogative - this should feel like a helpful conversation, not an interview

## The Discovery Framework
You're gathering information to map work against this framework:

Each workflow has components:
- **Triggers** - what starts the work
- **Inputs** - what information or materials are needed
- **Transformations** - what gets done to the inputs
- **Decisions** - what judgements are made
- **Outputs** - what gets produced
- **Checks** - how you know if it's correct

## Conversation Flow
1. Start warm - introduce yourself briefly, explain this is a conversation to understand their day-to-day work
2. Ask about their role and responsibilities
3. Listen for distinct activities that could be separate workflows
4. For key workflows, probe: triggers, inputs, what happens, decisions made, outputs, how they verify correctness
5. Ask about pain points, repetitive tasks, things they wish they didn't have to do
6. If technical questions arise they can't answer, note it for follow-up
7. Close by asking if there's anything else and who else overlaps with their work

## Key Techniques
- Probe vague answers: "You mentioned you 'handle' reports - can you walk me through exactly what that involves?"
- Redirect rambling: "That's helpful context. Can you walk me through a specific recent example?"
- Handle uncertainty gracefully: "That's fine if you don't know the technical details - we can follow up with your IT team"

Keep responses concise and conversational. Ask one question at a time. This is a conversation, not a questionnaire.`;function vH(e={}){const[t,n]=v.useState("idle"),[r,s]=v.useState([]),[i,o]=v.useState(!1),[a,l]=v.useState(0),c=v.useRef(null),d=v.useCallback(b=>{var f;n(b),(f=e.onStatusChange)==null||f.call(e,b)},[e]);v.useEffect(()=>{const b="4755e6d9-a32f-474b-a4e7-8d103fc571b5",f=new mH(b);return c.current=f,f.on("call-start",()=>{console.log("Vapi: Call started"),d("connected")}),f.on("call-end",()=>{var x;console.log("Vapi: Call ended"),d("ended"),(x=e.onCallEnd)==null||x.call(e,r)}),f.on("speech-start",()=>{d("speaking")}),f.on("speech-end",()=>{d("listening")}),f.on("message",x=>{if(x.type==="transcript"){const y={role:x.role,content:x.transcript,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})};s(w=>{var S,E;if(x.transcriptType==="partial"&&w.length>0&&w[w.length-1].role===x.role){const C=[...w];return C[C.length-1]=y,(S=e.onTranscriptUpdate)==null||S.call(e,C),C}else if(x.transcriptType==="final"){const C=[...w,y];return(E=e.onTranscriptUpdate)==null||E.call(e,C),C}return w})}}),f.on("volume-level",x=>{l(x)}),f.on("error",x=>{var y;console.error("Vapi error:",x),d("error"),(y=e.onError)==null||y.call(e,new Error(x.message||"Vapi error"))}),()=>{f.stop()}},[]);const h=v.useCallback(async b=>{var f;if(!c.current){console.error("Vapi not initialized");return}d("connecting");try{await c.current.start({model:{provider:"anthropic",model:"claude-sonnet-4-20250514",systemPrompt:gH,temperature:.7},voice:{provider:"eleven_labs",voiceId:"pNInz6obpgDQGcFmaJgB"},firstMessage:b?`Hello ${b}, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?`:"Hello, thank you for joining this discovery session. I'm here to learn about your role and daily workflows. This conversation typically takes about 20 to 30 minutes, and there are no wrong answers - I just want to understand how things actually work for you. Could you start by telling me a bit about your position and what you're responsible for?",transcriber:{provider:"deepgram",model:"nova-2",language:"en"}})}catch(x){console.error("Failed to start Vapi call:",x),d("error"),(f=e.onError)==null||f.call(e,x)}},[d,e]),p=v.useCallback(()=>{c.current&&(c.current.stop(),d("ended"))},[d]),m=v.useCallback(()=>{if(c.current){const b=!i;c.current.setMuted(b),o(b)}},[i]);return{status:t,transcript:r,isMuted:i,volumeLevel:a,startCall:h,endCall:p,toggleMute:m,isConnected:t==="connected"||t==="speaking"||t==="listening",isSpeaking:t==="speaking",isListening:t==="listening"}}const En=v.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));En.displayName="Input";var Ir=function(){return Ir=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ir.apply(this,arguments)};function al(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function yH(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function wH(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const bH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class B0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class xH extends B0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class CE extends B0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class TE extends B0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ty;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ty||(ty={}));class SH{constructor(t,{headers:n={},customFetch:r,region:s=ty.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=bH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return yH(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=r;let p={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(p["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let f;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",f=c):typeof c=="string"?(p["Content-Type"]="text/plain",f=c):typeof FormData<"u"&&c instanceof FormData?f=c:(p["Content-Type"]="application/json",f=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?f=JSON.stringify(c):f=c;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const y=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:f,signal:x}).catch(C=>{throw new xH(C)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new CE(y);if(!y.ok)throw new TE(y);let S=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield y.json():S==="application/octet-stream"||S==="application/pdf"?E=yield y.blob():S==="text/event-stream"?E=y:S==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof TE||a instanceof CE?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var _H=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},EH=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,d=i.statusText;if(i.ok){var h,p;if(n.method!=="HEAD"){var m;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}const f=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");f&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var b;const f=await i.text();try{o=JSON.parse(f),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,d="OK")}catch{i.status===404&&f===""?(c=204,d="No Content"):o={message:f}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&n.shouldThrowOnError)throw new _H(o)}return{error:o,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,d,h,p;const b=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",f=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${b}`,f&&(a+=` (${f})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var m;a=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},kH=class extends EH{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const jE=new RegExp("[,()]");var Mo=class extends kH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&jE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&jE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},CH=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Mo({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Mo({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Mo({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Mo({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Mo({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},TH=class cR{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{l.searchParams.append(m,b)})):(a="POST",c=n);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Mo({method:a,url:l,headers:p,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class jH{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AH="2.90.1",PH=`realtime-js/${AH}`,uR="1.0.0",NH="2.0.0",AE=uR,ny=1e4,OH=1e3,RH=100;var Ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ms||(Ms={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hr||(hr={}));var ry;(function(e){e.websocket="websocket"})(ry||(ry={}));var Ri;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ri||(Ri={}));class IH{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(m),f=0;b.setUint8(f++,this.KINDS.userBroadcastPush),b.setUint8(f++,l.length),b.setUint8(f++,a.length),b.setUint8(f++,o.length),b.setUint8(f++,c.length),b.setUint8(f++,h.length),b.setUint8(f++,n),Array.from(l,y=>b.setUint8(f++,y.charCodeAt(0))),Array.from(a,y=>b.setUint8(f++,y.charCodeAt(0))),Array.from(o,y=>b.setUint8(f++,y.charCodeAt(0))),Array.from(c,y=>b.setUint8(f++,y.charCodeAt(0))),Array.from(h,y=>b.setUint8(f++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+i));l=l+i;const h=r.decode(t.slice(l,l+o));l=l+o;const p=t.slice(l,t.byteLength),m=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,b={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class dR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ue||(Ue={}));const PE=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=MH(o,e,t,s),i),{}):{}},MH=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?hR(i,o):sy(o)},hR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return FH(t,n)}switch(e){case Ue.bool:return DH(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return LH(t);case Ue.json:case Ue.jsonb:return $H(t);case Ue.timestamp:return VH(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return sy(t);default:return sy(t)}},sy=e=>e,DH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LH=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$H=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},FH=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>hR(t,a))}return e},VH=e=>typeof e=="string"?e.replace(" ","T"):e,fR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Tm{constructor(t,n,r={},s=ny){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var NE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(NE||(NE={}));class ec{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ec.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ec.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),f=h.filter(x=>p.indexOf(x.presence_ref)<0);b.length>0&&(a[c]=b),f.length>0&&(l[c]=f)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),p=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(OE||(OE={}));var tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tc||(tc={}));var ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class ta{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Tm(this,hr.join,this.params,this.timeout),this.rejoinTimer=new dR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ec(this),this.broadcastEndpointURL=fR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[tc.PRESENCE]&&this.bindings[tc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ts.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(ts.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(b=f==null?void 0:f.length)!==null&&b!==void 0?b:0,y=[];for(let w=0;w<x;w++){const S=f[w],{filter:{event:E,schema:C,table:T,filter:j}}=S,N=m&&m[w];if(N&&N.event===E&&ta.isFilterValueEqual(N.schema,C)&&ta.isFilterValueEqual(N.table,T)&&ta.isFilterValueEqual(N.filter,j))y.push(Object.assign(Object.assign({},S),{id:N.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ts.SUBSCRIBED);return}}).receive("error",m=>{this.state=gt.errored,t==null||t(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===gt.joined&&t===tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Tm(this,hr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Tm(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>RH){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=hr;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,f,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(f=m.filter)===null||f===void 0?void 0:f.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var b,f,x,y,w,S,E,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const T=m.id,j=(b=m.filter)===null||b===void 0?void 0:b.event;return T&&((f=n.ids)===null||f===void 0?void 0:f.includes(T))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((y=m.filter)===null||y===void 0)&&y.table)||m.filter.table===((w=n.data)===null||w===void 0?void 0:w.table))}else{const T=(E=(S=m==null?void 0:m.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return T==="*"||T===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:f,table:x,commit_timestamp:y,type:w,errors:S}=b;p=Object.assign(Object.assign({},{schema:f,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(b))}m.callback(p,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ta.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hr.close,{},t)}_onError(t){this._on(hr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=PE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=PE(t.columns,t.old_record)),n}}const jm=()=>{},nd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UH=[1e3,2e3,5e3,1e4],BH=1e4,zH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qH{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ny,this.transport=null,this.heartbeatIntervalMs=nd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jm,this.ref=0,this.reconnectTimer=null,this.vsn=AE,this.logger=jm,this.conn=null,this.sendBuffer=[],this.serializer=new IH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ry.websocket}`,this.httpEndpoint=fR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jH.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Ri.Connecting;case Ms.open:return Ri.Open;case Ms.closing:return Ri.Closing;default:return Ri.Closed}}isConnected(){return this.connectionState()===Ri.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ta(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(OH,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},nd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ms.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ms.open||this.conn.readyState===Ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(hr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([zH],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:PH};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(hr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new dR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,c,d,h,p,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ny,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:nd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:jm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:AE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:b=>UH[b-1]||BH,this.vsn){case uR:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,f)=>f(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,f)=>f(JSON.parse(b));break;case NH:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ic=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WH(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function HH(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function GH(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=WH(e.baseUrl,r,s),l=await HH(e.auth),c=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!c.ok){const m=h?p:void 0,b=m==null?void 0:m.error;throw new Ic((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:c.status,headers:c.headers,data:p}}}}function rd(e){return e.join("")}var KH=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:rd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rd(e.namespace)}`}),!0}catch(t){if(t instanceof Ic&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ic&&n.status===409)return;throw n}}};function Co(e){return e.join("")}var JH=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Co(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Co(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Co(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Co(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Co(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Co(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ic&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ic&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},YH=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=GH({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new KH(this.client,t),this.tableOps=new JH(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},qf=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var QH=class extends qf{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iy=class extends qf{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const z0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XH=()=>Response,oy=e=>{if(Array.isArray(e))return e.map(n=>oy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=oy(r)}),t},ZH=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},e9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function t9(e,t){if(Mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n9(e){var t=t9(e,"string");return Mc(t)=="symbol"?t:t+""}function r9(e,t,n){return(t=n9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){r9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Am=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},s9=async(e,t,n)=>{e instanceof await XH()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new QH(Am(r),s,i))}).catch(r=>{t(new iy(Am(r),r))}):t(new iy(Am(e),e))},i9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(ZH(r)?(s.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),pe(pe({},s),n))};async function lu(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,i9(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>s9(l,a,r))})}async function Dc(e,t,n,r){return lu(e,"GET",t,n,r)}async function lr(e,t,n,r,s){return lu(e,"POST",t,r,s,n)}async function ay(e,t,n,r,s){return lu(e,"PUT",t,r,s,n)}async function o9(e,t,n,r){return lu(e,"HEAD",t,pe(pe({},n),{},{noResolveJson:!0}),r)}async function q0(e,t,n,r,s){return lu(e,"DELETE",t,r,s,n)}var a9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};let pR;pR=Symbol.toStringTag;var l9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[pR]="BlobDownloadBuilder",this.promise=null}asStream(){return new a9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};const c9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var u9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=z0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const o=pe(pe({},IE),r);let a=pe(pe({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=pe(pe({},a),r.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),h=await(e=="PUT"?ay:lr)(s.fetch,`${s.url}/object/${d}`,i,pe({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=pe({upsert:IE.upsert},r),d=pe(pe({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await ay(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=pe({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await lr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new qf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await lr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await lr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await lr(r.fetch,`${r.url}/object/sign/${s}`,pe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await lr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>pe(pe({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Dc(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new l9(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:oy(await Dc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await o9(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof iy){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await q0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=pe(pe(pe({},c9),t),{},{prefix:e||""});return{data:await lr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=pe({},e);return{data:await lr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const mR="2.90.1",gR={"X-Client-Info":`storage-js/${mR}`};var d9=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=pe(pe({},gR),t),this.fetch=z0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Dc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Dc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await lr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await ay(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await lr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await q0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},h9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},gR),t),this.fetch=z0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await lr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Dc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await q0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!e9(e))throw new qf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new YH({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const W0={"X-Client-Info":`storage-js/${mR}`,"Content-Type":"application/json"};var vR=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Pm=class extends vR{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},f9=class extends vR{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const H0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),p9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ME=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m9=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Pm(ME(i),r,o))}).catch(()=>{const i=r+"";t(new Pm(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Pm(s.statusText||`HTTP ${r} error`,r,i))}}else t(new f9(ME(e),e))},g9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(p9(r)?(s.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,pe(pe({},s),n)):s};async function v9(e,t,n,r,s,i){return new Promise((o,a)=>{e(n,g9(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>m9(l,a,r))})}async function wn(e,t,n,r,s){return v9(e,"POST",t,r,s,n)}var y9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},W0),t),this.fetch=H0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await wn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await wn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}}},w9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},W0),t),this.fetch=H0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await wn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await wn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await wn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}},b9=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},W0),t),this.fetch=H0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await wn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await wn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}}},x9=class extends b9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new S9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},S9=class extends y9{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new _9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_9=class extends w9{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},E9=class extends d9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new u9(this.url,this.headers,e,this.fetch)}get vectors(){return new x9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new h9(this.url+"/iceberg",this.headers,this.fetch)}};const yR="2.90.1",Do=30*1e3,ly=3,Nm=ly*Do,k9="http://localhost:9999",C9="supabase.auth.token",T9={"X-Client-Info":`gotrue-js/${yR}`},cy="X-Supabase-Api-Version",wR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A9=10*60*1e3;class Lc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class P9 extends Lc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function N9(e){return oe(e)&&e.name==="AuthApiError"}class Ii extends Lc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ys extends Lc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class mn extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function O9(e){return oe(e)&&e.name==="AuthSessionMissingError"}class To extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sd extends ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class id extends ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R9(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class DE extends ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class I9 extends ys{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class uy extends ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Om(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class LE extends ys{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dy extends ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$E=` 	
\r=`.split(""),M9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$E.length;t+=1)e[$E[t].charCodeAt(0)]=-2;for(let t=0;t<Uh.length;t+=1)e[Uh[t].charCodeAt(0)]=t;return e})();function FE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Uh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Uh[r]),t.queuedBits-=6}}function bR(e,t,n){const r=M9[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function VE(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{$9(o,r,n)};for(let o=0;o<e.length;o+=1)bR(e.charCodeAt(o),s,i);return t.join("")}function D9(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function L9(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}D9(r,t)}}function $9(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function pa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)bR(e.charCodeAt(s),n,r);return new Uint8Array(t)}function F9(e){const t=[];return L9(e,n=>t.push(n)),new Uint8Array(t)}function Ui(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>FE(s,n,r)),FE(null,n,r),t.join("")}function V9(e){return Math.round(Date.now()/1e3)+e}function U9(){return Symbol("auth-callback")}const At=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},xR=()=>{if(!At())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function B9(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const SR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ji=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jt=async(e,t)=>{await e.removeItem(t)};class Wf{constructor(){this.promise=new Wf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Wf.promiseConstructor=Promise;function Rm(e){const t=e.split(".");if(t.length!==3)throw new dy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!j9.test(t[r]))throw new dy("JWT not in base64url format");return{header:JSON.parse(VE(t[0])),payload:JSON.parse(VE(t[1])),signature:pa(t[2]),raw:{header:t[0],payload:t[1]}}}async function q9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W9(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function H9(e){return("0"+e.toString(16)).substr(-2)}function G9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,H9).join("")}async function K9(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function J9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await K9(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jo(e,t,n=!1){const r=G9();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Lo(e,`${t}-code-verifier`,s);const i=await J9(r);return[i,r===i?"plain":"s256"]}const Y9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q9(e){const t=e.headers.get(cy);if(!t||!t.match(Y9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function X9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(e){if(!eG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Im(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tG(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function UE(e){return JSON.parse(JSON.stringify(e))}const Oi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nG=[502,503,504];async function BE(e){var t;if(!z9(e))throw new uy(Oi(e),0);if(nG.includes(e.status))throw new uy(Oi(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ii(Oi(i),i)}let r;const s=Q9(e);if(s&&s.getTime()>=wR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new LE(Oi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new mn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new LE(Oi(n),e.status,n.weak_password.reasons);throw new P9(Oi(n),e.status||500,r)}const rG=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function fe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[cy]||(i[cy]=wR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await sG(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function sG(e,t,n,r,s,i){const o=rG(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new uy(Oi(l),0)}if(a.ok||await BE(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await BE(l)}}function nr(e){var t;let n=null;aG(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=V9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zE(e){const t=nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iG(e){return{data:e,error:null}}function oG(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=al(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qE(e){return e}function aG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mm=["global","local","others"];class lG{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=SR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Mm[0]){if(Mm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mm.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=al(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:oG,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fs})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qE});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const f=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=f}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(oe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ao(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fs})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ao(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ao(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fs})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ao(t.userId);try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ao(t.userId),Ao(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qE});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(b=>{const f=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=f}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(oe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}}function WE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Po={debug:!!(globalThis&&xR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _R extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cG extends _R{}async function uG(e,t,n){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Po.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function dG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ER(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hG(e){return parseInt(e,16)}function fG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function pG(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=ER(e.address),b=d?`${d}://${r}`:r,f=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${f}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}y+=w}return`${x}
${y}`}class dt extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Bh extends dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function mG({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(kR(o)){if(i.rp.id!==o)return new dt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function gG({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(kR(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class vG{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const yG=new vG;function wG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=al(e,["challenge","user","excludeCredentials"]),i=pa(t).buffer,o=Object.assign(Object.assign({},n),{id:pa(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:pa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function bG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=al(e,["challenge","allowCredentials"]),s=pa(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:pa(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function xG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ui(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ui(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ui(new Uint8Array(s.authenticatorData)),clientDataJSON:Ui(new Uint8Array(s.clientDataJSON)),signature:Ui(new Uint8Array(s.signature)),userHandle:s.userHandle?Ui(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function HE(){var e,t;return!!(At()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _G(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",t)}:{data:null,error:new Bh("Empty credential response",t)}}catch(t){return{data:null,error:mG({error:t,options:e})}}}async function EG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bh("Browser returned unexpected credential type",t)}:{data:null,error:new Bh("Empty credential response",t)}}catch(t){return{data:null,error:gG({error:t,options:e})}}}const kG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},CG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=zh(a,o):r[i]=zh(o)}else r[i]=o}return r}function TG(e,t){return zh(kG,e,t||{})}function jG(e,t){return zh(CG,e,t||{})}class AG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??yG.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=TG(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await _G({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=jG(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await EG(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Lc("rpId is required for WebAuthn authentication")};try{if(!HE())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Lc("rpId is required for WebAuthn registration")};try{if(!HE())return{data:null,error:new Ii("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return oe(o)?{data:null,error:o}:{data:null,error:new Ii("Unexpected error in register",o)}}}}dG();const PG={url:k9,storageKey:C9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function GE(e,t,n){return await n()}const No={};class $c{get jwks(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=No[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){No[this.storageKey]=Object.assign(Object.assign({},No[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},PG),t);if(this.storageKey=i.storageKey,this.instanceID=(n=$c.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,$c.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&At()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lG({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=SR(i.fetch),this.lock=i.lock||GE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&At()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uG:this.lock=GE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:xR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=WE(this.memoryStorage)),At()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(At()&&(n=B9(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),At()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),R9(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?this._returnResult({error:n}):this._returnResult({error:new Ii("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await jo(this.storage,this.storageKey)),i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:b},xform:nr})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:nr})}else throw new sd("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zE})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zE})}else throw new sd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new To;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,c,d,h,p;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:f,wallet:x,statement:y,options:w}=t;let S;if(At())if(typeof x=="object")S=x;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=ER(C[0]);let j=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const I=await S.request({method:"eth_chainId"});j=hG(I)}const N={domain:E.host,address:T,statement:y,uri:E.href,version:"1",chainId:j,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=pG(N),b=await S.request({method:"personal_sign",params:[fG(m),T]})}try{const{data:f,error:x}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:nr});if(x)throw x;if(!f||!f.session||!f.user){const y=new To;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign({},f),error:x})}catch(f){if(oe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(t){var n,r,s,i,o,a,l,c,d,h,p,m;let b,f;if("message"in t)b=t.message,f=t.signature;else{const{chain:x,wallet:y,statement:w,options:S}=t;let E;if(At())if(typeof y=="object")E=y;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let j;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")j=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)j=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),f=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const T=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=T}}try{const{data:x,error:y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ui(f)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:nr});if(y)throw y;if(!x||!x.session||!x.user){const w=new To;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(oe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new I9;const{data:i,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:nr});if(await jt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new To;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nr}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new To;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await jo(this.storage,this.storageKey));const{error:h}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new sd("You must provide either an email or phone number.")}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await jo(this.storage,this.storageKey));const c=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:iG});return!((i=c.data)===null||i===void 0)&&i.url&&At()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new mn;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new sd("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Nm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await ji(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Im()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=tG(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fs}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Fs})})}catch(n){if(oe(n))return O9(n)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await jo(this.storage,this.storageKey));const{data:c,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Fs});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Rm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new mn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!At())throw new id("No browser detected.");if(t.error||t.error_description||t.error_code)throw new id(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new DE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new id("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new DE("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new id("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const m=p-d;m*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=p-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:f,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(N9(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=U9(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await jo(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return At()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(oe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=t,h=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:nr}),{data:p,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new To}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(s){if(await jt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W9(async s=>(s>0&&await q9(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Om(i)&&Date.now()+o-r<Do})}catch(r){if(this._debug(n,"error",r),oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),At()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ji(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Lo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Im()}else if(s&&!s.user&&!s.user){const o=await ji(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await jt(this.storage,this.storageKey+"-user"),await Lo(this.storage,this.storageKey,s)):s.user=Im()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Nm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Om(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new mn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),oe(i)){const o={data:null,error:i};return Om(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Lo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=UE(s);await Lo(this.storage,this.storageKey,i)}else{const s=UE(n);await Lo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&At()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Do}ms, refresh threshold is ${ly} ticks`),s<=ly&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _R)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!At()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await jo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xG(t.webauthn.credential_response):SG(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:wG(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:bG(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Rm(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mn})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new mn});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new mn});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&At()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new mn})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mn})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+A9>s)return r;const{data:i,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Rm(r);n!=null&&n.allowExpired||X9(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=Z9(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,F9(`${a}.${l}`)))throw new dy("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}}$c.nextInstanceID={};const NG=$c,OG="2.90.1";let Dl="";typeof Deno<"u"?Dl="deno":typeof document<"u"?Dl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dl="react-native":Dl="node";const RG={"X-Client-Info":`supabase-js-${Dl}/${OG}`},IG={headers:RG},MG={schema:"public"},DG={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LG={};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function $G(e,t){if(Fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FG(e){var t=$G(e,"string");return Fc(t)=="symbol"?t:t+""}function VG(e,t,n){return(t=FG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){VG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const UG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BG=()=>Headers,zG=(e,t,n)=>{const r=UG(n),s=BG();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,st(st({},o),{},{headers:c}))}};function qG(e){return e.endsWith("/")?e:e+"/"}function WG(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,p={db:st(st({},l),s),auth:st(st({},c),i),realtime:st(st({},d),o),storage:{},global:st(st(st({},h),a),{},{headers:st(st({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function HG(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qG(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var GG=class extends NG{constructor(e){super(e)}},KG=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=HG(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:MG,realtime:LG,auth:st(st({},DG),{},{storageKey:o}),global:IG},l=WG(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=zG(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new TH(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new E9(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new SH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GG({url:this.authUrl.href,headers:st(st({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qH(this.realtimeUrl.href,st(st({},e),{},{params:st(st({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const JG=(e,t,n)=>new KG(e,t,n);function YG(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}YG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QG="https://gsucaxeqzluzbmvonsmj.supabase.co",XG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzdWNheGVxemx1emJtdm9uc21qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExNDEwNDYsImV4cCI6MjA3NjcxNzA0Nn0.-T43QOzk7XPimeOU0nVmYJ6Ac74L-UB2rzYgZ47lJ9I",pt=JG(QG,XG);function ZG(e={}){const[t,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(null),c=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=v.useRef(e.accessToken||null);v.useEffect(()=>{p.current=e.accessToken||null},[e.accessToken]);const m=async()=>{if(!p.current)throw new Error("No access token - session not started");const{data:w,error:S}=await pt.functions.invoke("deepgram-token",{body:{accessToken:p.current}});if(S)throw new Error(`Failed to get Deepgram token: ${S.message}`);if((w==null?void 0:w.error)==="Invalid or expired session")throw new Error("Session expired. Please refresh the page.");if(!(w!=null&&w.key))throw new Error((w==null?void 0:w.error)||"No token returned from Deepgram");return w.key},b=v.useCallback(async()=>{var w;if(!t){l(null),s(""),o("");try{const S=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});h.current=S;const E=await m(),C=new WebSocket("wss://api.deepgram.com/v1/listen?model=nova-2&language=en&smart_format=true&interim_results=true&utterance_end_ms=1000&vad_events=true",["token",E]);c.current=C,C.onopen=()=>{console.log("Deepgram WebSocket connected"),n(!0);const T=new MediaRecorder(S,{mimeType:MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm"});d.current=T,T.ondataavailable=j=>{j.data.size>0&&C.readyState===WebSocket.OPEN&&C.send(j.data)},T.start(250)},C.onmessage=T=>{var j,N,I,R;try{const O=JSON.parse(T.data);if((I=(N=(j=O.channel)==null?void 0:j.alternatives)==null?void 0:N[0])!=null&&I.transcript){const $=O.channel.alternatives[0].transcript;O.is_final?(s(W=>{var J;const L=W?`${W} ${$}`:$;return(J=e.onTranscript)==null||J.call(e,L),L}),o("")):(o($),(R=e.onInterimTranscript)==null||R.call(e,$))}}catch(O){console.error("Error parsing Deepgram message:",O)}},C.onerror=T=>{var N;console.error("Deepgram WebSocket error:",T);const j=new Error("WebSocket connection error");l(j),(N=e.onError)==null||N.call(e,j)},C.onclose=T=>{console.log("Deepgram WebSocket closed:",T.code,T.reason),n(!1)}}catch(S){console.error("Failed to start listening:",S);const E=S instanceof Error?S:new Error("Failed to start listening");l(E),(w=e.onError)==null||w.call(e,E),n(!1)}}},[t,e]),f=v.useCallback(()=>{d.current&&d.current.state!=="inactive"&&d.current.stop(),d.current=null,c.current&&c.current.close(),c.current=null,h.current&&h.current.getTracks().forEach(w=>w.stop()),h.current=null,n(!1),o("")},[]),x=v.useCallback(()=>i?`${r} ${i}`.trim():r,[r,i]),y=v.useCallback(()=>{s(""),o("")},[]);return v.useEffect(()=>()=>{f()},[f]),{isListening:t,transcript:r,interimTranscript:i,error:a,startListening:b,stopListening:f,getFullTranscript:x,clearTranscript:y}}function eK(e={}){const[t,n]=v.useState([]),[r,s]=v.useState(!1),[i,o]=v.useState(null),[a,l]=v.useState(!1),c=v.useRef(null),d=()=>new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=v.useCallback(y=>{c.current=y},[]),p=v.useCallback(y=>{const w=y.map(S=>({role:S.role,content:S.content,timestamp:S.timestamp?new Date(S.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}):d()}));n(w),l(!0)},[]),m=v.useCallback(async y=>{var w,S;o(null),s(!0);try{const{data:E,error:C}=await pt.functions.invoke("chat-interview",{body:{message:"__START__",intervieweeName:y}});if(C)throw new Error(`Failed to start conversation: ${C.message}`);if(!(E!=null&&E.response))throw new Error("No response from chat service");const T={role:"assistant",content:E.response,timestamp:d()};n([T]),(w=e.onMessageReceived)==null||w.call(e,T)}catch(E){console.error("Error starting conversation:",E);const C=E instanceof Error?E:new Error("Failed to start conversation");o(C),(S=e.onError)==null||S.call(e,C)}finally{s(!1)}},[e]),b=v.useCallback(async y=>{var S,E,C,T;if(!y.trim())return;if(!c.current){const j=new Error("No access token - session not started");o(j),(S=e.onError)==null||S.call(e,j);return}o(null);const w={role:"user",content:y.trim(),timestamp:d()};n(j=>[...j,w]),s(!0);try{const{data:j,error:N}=await pt.functions.invoke("chat-interview",{body:{accessToken:c.current,message:y.trim()}});if(N)throw new Error(`Failed to send message: ${N.message}`);if((j==null?void 0:j.error)==="Invalid or expired session")throw(E=e.onSessionExpired)==null||E.call(e),new Error("Session expired. Please refresh the page to restart.");if(!(j!=null&&j.response))throw new Error("No response from chat service");const I={role:"assistant",content:j.response,timestamp:d()};n(R=>[...R,I]),(C=e.onMessageReceived)==null||C.call(e,I)}catch(j){console.error("Error sending message:",j);const N=j instanceof Error?j:new Error("Failed to send message");o(N),(T=e.onError)==null||T.call(e,N)}finally{s(!1)}},[e]),f=v.useCallback(()=>t,[t]),x=v.useCallback(()=>{n([]),c.current=null,o(null),s(!1),l(!1)},[]);return{messages:t,isThinking:r,error:i,isResumed:a,startConversation:m,sendMessage:b,getTranscript:f,resetConversation:x,setAccessToken:h,initializeMessages:p}}function tK({intervieweeName:e,accessToken:t,initialMessages:n,onTranscriptUpdate:r,onEnd:s}){const[i,o]=v.useState(""),[a,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),{messages:h,isThinking:p,error:m,isResumed:b,startConversation:f,sendMessage:x,setAccessToken:y,initializeMessages:w}=eK({onMessageReceived:()=>{setTimeout(()=>{var L;(L=c.current)==null||L.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},100)},onSessionExpired:()=>{l(!0)}});v.useEffect(()=>{t&&y(t)},[t,y]);const{isListening:S,transcript:E,interimTranscript:C,error:T,startListening:j,stopListening:N,clearTranscript:I}=ZG({accessToken:t,onTranscript:L=>{o(J=>J?`${J} ${L}`:L)}});v.useEffect(()=>{n&&n.length>0?w(n):f(e)},[e,n,w,f]),v.useEffect(()=>{r==null||r(h)},[h,r]),v.useEffect(()=>{var L;(L=c.current)==null||L.scrollTo({top:c.current.scrollHeight,behavior:"smooth"})},[h]);const R=()=>{var J;const L=i.trim();!L||p||(x(L),o(""),I(),(J=d.current)==null||J.focus())},O=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),R())},$=async()=>{S?N():await j()},W=i+(S&&C?` ${C}`:"");return u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsx(Rf,{className:"flex-1 p-4",ref:c,children:u.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[b&&h.length>0&&u.jsx(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex justify-center mb-4",children:u.jsx("div",{className:"bg-accent/10 text-accent text-xs px-3 py-1.5 rounded-full",children:"Continuing your previous conversation..."})}),u.jsx(Fa,{initial:!1,children:h.map((L,J)=>u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${L.role==="user"?"bg-primary text-primary-foreground rounded-br-md":"bg-muted text-foreground rounded-bl-md"}`,children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:L.content}),u.jsx("p",{className:`text-xs mt-1 ${L.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:L.timestamp})]})},J))}),p&&u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:u.jsx("div",{className:"bg-muted rounded-2xl rounded-bl-md px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),u.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"}),u.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-2 h-2 bg-muted-foreground/50 rounded-full"})]})})})]})}),a&&u.jsx("div",{className:"mx-4 mb-2 p-3 bg-warning/10 text-warning border border-warning/20 text-sm rounded-lg",children:"Your session has expired. Please refresh the page to continue your interview."}),(m||T)&&!a&&u.jsx("div",{className:"mx-4 mb-2 p-3 bg-destructive/10 text-destructive text-sm rounded-lg",children:(m==null?void 0:m.message)||(T==null?void 0:T.message)}),S&&u.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mx-4 mb-2",children:u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent/10 rounded-lg",children:[u.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((L,J)=>u.jsx(Se.div,{animate:{height:[4,16,4]},transition:{duration:.5,repeat:1/0,delay:J*.1},className:"w-1 bg-accent rounded-full"},J))}),u.jsx("span",{className:"text-sm text-accent font-medium",children:"Listening..."}),C&&u.jsx("span",{className:"text-sm text-muted-foreground italic truncate flex-1",children:C})]})}),u.jsx("div",{className:"border-t bg-background p-4",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(de,{type:"button",variant:S?"default":"outline",size:"icon",onClick:$,disabled:a||!t,className:`shrink-0 ${S?"bg-accent hover:bg-accent/90":""}`,title:a?"Session expired":t?S?"Stop listening":"Start voice input":"Session not ready",children:S?u.jsx(Y$,{className:"h-4 w-4"}):u.jsx(Yi,{className:"h-4 w-4"})}),u.jsx(En,{ref:d,value:W,onChange:L=>o(L.target.value),onKeyDown:O,placeholder:a?"Session expired":S?"Speak now...":"Type your response or click the mic to speak...",disabled:p||a,className:"flex-1"}),u.jsx(de,{type:"button",onClick:R,disabled:!i.trim()||p||a,size:"icon",className:"shrink-0",children:p?u.jsx(kt,{className:"h-4 w-4 animate-spin"}):u.jsx(G$,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Press Enter to send, or click the microphone to speak your answer"})]})})]})}var Dm="focusScope.autoFocusOnMount",Lm="focusScope.autoFocusOnUnmount",JE={bubbles:!1,cancelable:!0},nK="FocusScope",G0=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=v.useState(null),c=wt(s),d=wt(i),h=v.useRef(null),p=Ce(t,f=>l(f)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let f=function(S){if(m.paused||!a)return;const E=S.target;a.contains(E)?h.current=E:Ns(h.current,{select:!0})},x=function(S){if(m.paused||!a)return;const E=S.relatedTarget;E!==null&&(a.contains(E)||Ns(h.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Ns(a)};document.addEventListener("focusin",f),document.addEventListener("focusout",x);const w=new MutationObserver(y);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",x),w.disconnect()}}},[r,a,m.paused]),v.useEffect(()=>{if(a){QE.add(m);const f=document.activeElement;if(!a.contains(f)){const y=new CustomEvent(Dm,JE);a.addEventListener(Dm,c),a.dispatchEvent(y),y.defaultPrevented||(rK(lK(CR(a)),{select:!0}),document.activeElement===f&&Ns(a))}return()=>{a.removeEventListener(Dm,c),setTimeout(()=>{const y=new CustomEvent(Lm,JE);a.addEventListener(Lm,d),a.dispatchEvent(y),y.defaultPrevented||Ns(f??document.body,{select:!0}),a.removeEventListener(Lm,d),QE.remove(m)},0)}}},[a,c,d,m]);const b=v.useCallback(f=>{if(!n&&!r||m.paused)return;const x=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,y=document.activeElement;if(x&&y){const w=f.currentTarget,[S,E]=sK(w);S&&E?!f.shiftKey&&y===E?(f.preventDefault(),n&&Ns(S,{select:!0})):f.shiftKey&&y===S&&(f.preventDefault(),n&&Ns(E,{select:!0})):y===w&&f.preventDefault()}},[n,r,m.paused]);return u.jsx(me.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});G0.displayName=nK;function rK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ns(r,{select:t}),document.activeElement!==n)return}function sK(e){const t=CR(e),n=YE(t,e),r=YE(t.reverse(),e);return[n,r]}function CR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function YE(e,t){for(const n of e)if(!iK(n,{upTo:t}))return n}function iK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oK(e){return e instanceof HTMLInputElement&&"select"in e}function Ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&oK(e)&&t&&e.select()}}var QE=aK();function aK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=XE(e,t),e.unshift(t)},remove(t){var n;e=XE(e,t),(n=e[0])==null||n.resume()}}}function XE(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function lK(e){return e.filter(t=>t.tagName!=="A")}var $m=0;function TR(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZE()),document.body.insertAdjacentElement("beforeend",e[1]??ZE()),$m++,()=>{$m===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$m--}},[])}function ZE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ld="right-scroll-bar-position",$d="width-before-scroll-bar",cK="with-scroll-bars-hidden",uK="--removed-body-scroll-bar-size";function Fm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function dK(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var hK=typeof window<"u"?v.useLayoutEffect:v.useEffect,ek=new WeakMap;function fK(e,t){var n=dK(null,function(r){return e.forEach(function(s){return Fm(s,r)})});return hK(function(){var r=ek.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||Fm(a,null)}),i.forEach(function(a){s.has(a)||Fm(a,o)})}ek.set(n,e)},[e]),n}function pK(e){return e}function mK(e,t){t===void 0&&(t=pK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function gK(e){e===void 0&&(e={});var t=mK(null);return t.options=Ir({async:!0,ssr:!1},e),t}var jR=function(e){var t=e.sideCar,n=al(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Ir({},n))};jR.isSideCarExport=!0;function vK(e,t){return e.useMedium(t),jR}var AR=gK(),Vm=function(){},Hf=v.forwardRef(function(e,t){var n=v.useRef(null),r=v.useState({onScrollCapture:Vm,onWheelCapture:Vm,onTouchMoveCapture:Vm}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,b=e.noIsolation,f=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,S=e.gapMode,E=al(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,T=fK([n,t]),j=Ir(Ir({},E),s);return v.createElement(v.Fragment,null,d&&v.createElement(C,{sideCar:AR,removeScrollBar:c,shards:h,noRelative:m,noIsolation:b,inert:f,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?v.cloneElement(v.Children.only(a),Ir(Ir({},j),{ref:T})):v.createElement(w,Ir({},j,{className:l,ref:T}),a))});Hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hf.classNames={fullWidth:$d,zeroRight:Ld};var yK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yK();return t&&e.setAttribute("nonce",t),e}function bK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var SK=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wK())&&(bK(t,n),xK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_K=function(){var e=SK();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},PR=function(){var e=_K(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},EK={left:0,top:0,right:0,gap:0},Um=function(e){return parseInt(e||"",10)||0},kK=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Um(n),Um(r),Um(s)]},CK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return EK;var t=kK(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TK=PR(),ma="data-scroll-locked",jK=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(cK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ma,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ld,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($d,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ld," .").concat(Ld,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($d," .").concat($d,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ma,`] {
    `).concat(uK,": ").concat(a,`px;
  }
`)},tk=function(){var e=parseInt(document.body.getAttribute(ma)||"0",10);return isFinite(e)?e:0},AK=function(){v.useEffect(function(){return document.body.setAttribute(ma,(tk()+1).toString()),function(){var e=tk()-1;e<=0?document.body.removeAttribute(ma):document.body.setAttribute(ma,e.toString())}},[])},PK=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;AK();var i=v.useMemo(function(){return CK(s)},[s]);return v.createElement(TK,{styles:jK(i,!t,s,n?"":"!important")})},hy=!1;if(typeof window<"u")try{var od=Object.defineProperty({},"passive",{get:function(){return hy=!0,!0}});window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{hy=!1}var Oo=hy?{passive:!1}:!1,NK=function(e){return e.tagName==="TEXTAREA"},NR=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!NK(e)&&n[t]==="visible")},OK=function(e){return NR(e,"overflowY")},RK=function(e){return NR(e,"overflowX")},nk=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OR(e,r);if(s){var i=RR(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},IK=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MK=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},OR=function(e,t){return e==="v"?OK(t):RK(t)},RR=function(e,t){return e==="v"?IK(t):MK(t)},DK=function(e,t){return e==="h"&&t==="rtl"?-1:1},LK=function(e,t,n,r,s){var i=DK(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var m=RR(e,a),b=m[0],f=m[1],x=m[2],y=f-x-i*b;(b||y)&&OR(e,a)&&(h+=y,p+=b);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},ad=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rk=function(e){return[e.deltaX,e.deltaY]},sk=function(e){return e&&"current"in e?e.current:e},$K=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VK=0,Ro=[];function UK(e){var t=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(VK++)[0],i=v.useState(PR)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var f=wH([e.lockRef.current],(e.shards||[]).map(sk),!0).filter(Boolean);return f.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),f.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(f,x){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!o.current.allowPinchZoom;var y=ad(f),w=n.current,S="deltaX"in f?f.deltaX:w[0]-y[0],E="deltaY"in f?f.deltaY:w[1]-y[1],C,T=f.target,j=Math.abs(S)>Math.abs(E)?"h":"v";if("touches"in f&&j==="h"&&T.type==="range")return!1;var N=nk(j,T);if(!N)return!0;if(N?C=j:(C=j==="v"?"h":"v",N=nk(j,T)),!N)return!1;if(!r.current&&"changedTouches"in f&&(S||E)&&(r.current=C),!C)return!0;var I=r.current||C;return LK(I,x,f,I==="h"?S:E,!0)},[]),l=v.useCallback(function(f){var x=f;if(!(!Ro.length||Ro[Ro.length-1]!==i)){var y="deltaY"in x?rk(x):ad(x),w=t.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&$K(C.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(sk).filter(Boolean).filter(function(C){return C.contains(x.target)}),E=S.length>0?a(x,S[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=v.useCallback(function(f,x,y,w){var S={name:f,delta:x,target:y,should:w,shadowParent:BK(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(E){return E!==S})},1)},[]),d=v.useCallback(function(f){n.current=ad(f),r.current=void 0},[]),h=v.useCallback(function(f){c(f.type,rk(f),f.target,a(f,e.lockRef.current))},[]),p=v.useCallback(function(f){c(f.type,ad(f),f.target,a(f,e.lockRef.current))},[]);v.useEffect(function(){return Ro.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Oo),document.addEventListener("touchmove",l,Oo),document.addEventListener("touchstart",d,Oo),function(){Ro=Ro.filter(function(f){return f!==i}),document.removeEventListener("wheel",l,Oo),document.removeEventListener("touchmove",l,Oo),document.removeEventListener("touchstart",d,Oo)}},[]);var m=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:FK(s)}):null,m?v.createElement(PK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zK=vK(AR,UK);var K0=v.forwardRef(function(e,t){return v.createElement(Hf,Ir({},e,{ref:t,sideCar:zK}))});K0.classNames=Hf.classNames;var qK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Io=new WeakMap,ld=new WeakMap,cd={},Bm=0,IR=function(e){return e&&(e.host||IR(e.parentNode))},WK=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=IR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},HK=function(e,t,n,r){var s=WK(t,Array.isArray(e)?e:[e]);cd[n]||(cd[n]=new WeakMap);var i=cd[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),b=m!==null&&m!=="false",f=(Io.get(p)||0)+1,x=(i.get(p)||0)+1;Io.set(p,f),i.set(p,x),o.push(p),f===1&&b&&ld.set(p,!0),x===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(t),a.clear(),Bm++,function(){o.forEach(function(h){var p=Io.get(h)-1,m=i.get(h)-1;Io.set(h,p),i.set(h,m),p||(ld.has(h)||h.removeAttribute(r),ld.delete(h)),m||h.removeAttribute(n)}),Bm--,Bm||(Io=new WeakMap,Io=new WeakMap,ld=new WeakMap,cd={})}},MR=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=qK(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),HK(r,s,n,"aria-hidden")):function(){return null}},Gf="Dialog",[DR,LR]=Hn(Gf),[GK,Sr]=DR(Gf),$R=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=v.useRef(null),l=v.useRef(null),[c,d]=zr({prop:r,defaultProp:s??!1,onChange:i,caller:Gf});return u.jsx(GK,{scope:t,triggerRef:a,contentRef:l,contentId:gr(),titleId:gr(),descriptionId:gr(),open:c,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};$R.displayName=Gf;var FR="DialogTrigger",VR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sr(FR,n),i=Ce(t,s.triggerRef);return u.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Q0(s.open),...r,ref:i,onClick:ie(e.onClick,s.onOpenToggle)})});VR.displayName=FR;var J0="DialogPortal",[KK,UR]=DR(J0,{forceMount:void 0}),BR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Sr(J0,t);return u.jsx(KK,{scope:t,forceMount:n,children:v.Children.map(r,o=>u.jsx(Gn,{present:n||i.open,children:u.jsx(df,{asChild:!0,container:s,children:o})}))})};BR.displayName=J0;var qh="DialogOverlay",zR=v.forwardRef((e,t)=>{const n=UR(qh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Sr(qh,e.__scopeDialog);return i.modal?u.jsx(Gn,{present:r||i.open,children:u.jsx(YK,{...s,ref:t})}):null});zR.displayName=qh;var JK=Ra("DialogOverlay.RemoveScroll"),YK=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sr(qh,n);return u.jsx(K0,{as:JK,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(me.div,{"data-state":Q0(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),fo="DialogContent",qR=v.forwardRef((e,t)=>{const n=UR(fo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Sr(fo,e.__scopeDialog);return u.jsx(Gn,{present:r||i.open,children:i.modal?u.jsx(QK,{...s,ref:t}):u.jsx(XK,{...s,ref:t})})});qR.displayName=fo;var QK=v.forwardRef((e,t)=>{const n=Sr(fo,e.__scopeDialog),r=v.useRef(null),s=Ce(t,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return MR(i)},[]),u.jsx(WR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,i=>i.preventDefault())})}),XK=v.forwardRef((e,t)=>{const n=Sr(fo,e.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return u.jsx(WR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),WR=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Sr(fo,n),l=v.useRef(null),c=Ce(t,l);return TR(),u.jsxs(u.Fragment,{children:[u.jsx(G0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Jc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Q0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(e7,{titleId:a.titleId}),u.jsx(n7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Y0="DialogTitle",HR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sr(Y0,n);return u.jsx(me.h2,{id:s.titleId,...r,ref:t})});HR.displayName=Y0;var GR="DialogDescription",KR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sr(GR,n);return u.jsx(me.p,{id:s.descriptionId,...r,ref:t})});KR.displayName=GR;var JR="DialogClose",YR=v.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sr(JR,n);return u.jsx(me.button,{type:"button",...r,ref:t,onClick:ie(e.onClick,()=>s.onOpenChange(!1))})});YR.displayName=JR;function Q0(e){return e?"open":"closed"}var QR="DialogTitleWarning",[ZK,XR]=q2(QR,{contentName:fo,titleName:Y0,docsSlug:"dialog"}),e7=({titleId:e})=>{const t=XR(QR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},t7="DialogDescriptionWarning",n7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XR(t7).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ZR=$R,r7=VR,eI=BR,X0=zR,Z0=qR,eb=HR,tb=KR,nb=YR,tI="AlertDialog",[s7,LY]=Hn(tI,[LR]),ws=LR(),nI=e=>{const{__scopeAlertDialog:t,...n}=e,r=ws(t);return u.jsx(ZR,{...r,...n,modal:!0})};nI.displayName=tI;var i7="AlertDialogTrigger",o7=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return u.jsx(r7,{...s,...r,ref:t})});o7.displayName=i7;var a7="AlertDialogPortal",rI=e=>{const{__scopeAlertDialog:t,...n}=e,r=ws(t);return u.jsx(eI,{...r,...n})};rI.displayName=a7;var l7="AlertDialogOverlay",sI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return u.jsx(X0,{...s,...r,ref:t})});sI.displayName=l7;var ga="AlertDialogContent",[c7,u7]=s7(ga),d7=NT("AlertDialogContent"),iI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=ws(n),o=v.useRef(null),a=Ce(t,o),l=v.useRef(null);return u.jsx(ZK,{contentName:ga,titleName:oI,docsSlug:"alert-dialog",children:u.jsx(c7,{scope:n,cancelRef:l,children:u.jsxs(Z0,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ie(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(d7,{children:r}),u.jsx(f7,{contentRef:o})]})})})});iI.displayName=ga;var oI="AlertDialogTitle",aI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return u.jsx(eb,{...s,...r,ref:t})});aI.displayName=oI;var lI="AlertDialogDescription",cI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return u.jsx(tb,{...s,...r,ref:t})});cI.displayName=lI;var h7="AlertDialogAction",uI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ws(n);return u.jsx(nb,{...s,...r,ref:t})});uI.displayName=h7;var dI="AlertDialogCancel",hI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=u7(dI,n),i=ws(n),o=Ce(t,s);return u.jsx(nb,{...i,...r,ref:o})});hI.displayName=dI;var f7=({contentRef:e})=>{const t=`\`${ga}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ga}\` by passing a \`${lI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ga}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},p7=nI,m7=rI,fI=sI,pI=iI,mI=uI,gI=hI,vI=aI,yI=cI;const g7=p7,v7=m7,wI=v.forwardRef(({className:e,...t},n)=>u.jsx(fI,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));wI.displayName=fI.displayName;const bI=v.forwardRef(({className:e,...t},n)=>u.jsxs(v7,{children:[u.jsx(wI,{}),u.jsx(pI,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));bI.displayName=pI.displayName;const xI=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",e),...t});xI.displayName="AlertDialogHeader";const SI=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});SI.displayName="AlertDialogFooter";const _I=v.forwardRef(({className:e,...t},n)=>u.jsx(vI,{ref:n,className:ae("text-lg font-semibold",e),...t}));_I.displayName=vI.displayName;const EI=v.forwardRef(({className:e,...t},n)=>u.jsx(yI,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));EI.displayName=yI.displayName;const kI=v.forwardRef(({className:e,...t},n)=>u.jsx(mI,{ref:n,className:ae(qw(),e),...t}));kI.displayName=mI.displayName;const CI=v.forwardRef(({className:e,...t},n)=>u.jsx(gI,{ref:n,className:ae(qw({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));CI.displayName=gI.displayName;const ud=!1;function y7(){const{token:e}=zw(),[t]=OB(),[n,r]=v.useState("loading"),[s,i]=v.useState(null),[o,a]=v.useState(""),[l,c]=v.useState(null),[d,h]=v.useState(null),[p,m]=v.useState(null),[b,f]=v.useState(null),[x,y]=v.useState(null),[w,S]=v.useState(!1),[E,C]=v.useState(0),[T,j]=v.useState(0),[N,I]=v.useState(0),[R,O]=v.useState(!1),[$,W]=v.useState(!1),[L,J]=v.useState(!1),{toast:Y}=Kc(),Q=v.useRef([]),D=v.useRef(null);v.useEffect(()=>{const ue=t.get("mode");ue==="voice"&&!ud?(console.warn("[SECURITY] Voice mode URL param blocked"),i("chat")):(ue==="chat"||ue==="voice"&&ud)&&i(ue)},[t]),v.useEffect(()=>{async function ue(){if(!e){r("invalid"),a("No interview token provided");return}try{const{data:re,error:ot}=await pt.functions.invoke("validate-interview-token",{body:{interviewToken:e}});if(ot){console.error("Failed to validate token:",ot),r("invalid"),a("Unable to validate interview link. Please try again.");return}if(re!=null&&re.error){r("invalid"),a(re.error);return}if(!(re!=null&&re.interviewee)){r("invalid"),a("Interview not found");return}c(re.interviewee),h(re.org||null),r("before")}catch(re){console.error("Error loading interview:",re),r("invalid"),a("An unexpected error occurred. Please try again.")}}ue()},[e]);const{status:F,transcript:K,isMuted:se,volumeLevel:te,startCall:g,endCall:k,toggleMute:_,isConnected:P,isSpeaking:A,isListening:M}=vH({onStatusChange:ue=>{console.log("Vapi status:",ue),ue==="connected"||ue==="speaking"||ue==="listening"?r("during"):ue==="ended"?he():ue==="error"&&r("error")},onError:ue=>{console.error("Vapi error:",ue),Y({title:"Connection Error",description:"There was a problem connecting to the voice service. Please try again.",variant:"destructive"})},onTranscriptUpdate:ue=>{Q.current=ue}});v.useEffect(()=>{let ue;return n==="during"&&P&&(ue=setInterval(()=>{C(re=>re+1)},1e3)),()=>clearInterval(ue)},[n,P]);const U=ue=>{const re=Math.floor(ue/60).toString().padStart(2,"0"),ot=(ue%60).toString().padStart(2,"0");return`${re}:${ot}`},V=async ue=>{if(!(!l||!e)){i(ue),r("during"),D.current=Date.now();try{const{data:re,error:ot}=await pt.functions.invoke("start-interview",{body:{interviewToken:e}});if(ot||!(re!=null&&re.accessToken))throw new Error((re==null?void 0:re.error)||(ot==null?void 0:ot.message)||"Failed to start interview");m(re.interviewId),f(re.accessToken),re.resumed&&re.transcript&&re.transcript.length>0&&(y(re.transcript),S(!0),console.log("[INFO] Resuming interview with",re.transcript.length,"messages"))}catch(re){console.error("Failed to start interview:",re),Y({title:"Error",description:re instanceof Error?re.message:"Failed to start interview. Please try again.",variant:"destructive"}),r("before"),i(null)}}},q=ue=>{Q.current=ue},X=()=>{J(!0)},ce=()=>{J(!1),he()},Me=()=>{J(!1),k()},ut=()=>{Y({title:"Progress Saved",description:"Your progress has been saved. You can return to this link anytime to continue."}),setTimeout(()=>{window.close()},1500)},he=async()=>{W(!0);const ue=D.current?Math.floor((Date.now()-D.current)/1e3):E;if(C(ue),b)try{const{data:re,error:ot}=await pt.functions.invoke("complete-interview",{body:{accessToken:b,durationSeconds:ue}});(ot||re!=null&&re.error)&&(console.error("Failed to complete interview:",ot||(re==null?void 0:re.error)),Y({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"}))}catch(re){console.error("Failed to complete interview:",re),Y({title:"Warning",description:"Interview completed but there was an issue saving. Our team has been notified.",variant:"destructive"})}W(!1),r("after")},_e=async ue=>{if(j(ue),b)try{await pt.functions.invoke("complete-interview",{body:{accessToken:b,rating:ue}})}catch(re){console.error("Failed to save rating:",re)}},qe=()=>{window.close()},mt=()=>{r("before"),C(0)};return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ru,{}),!1]})]})}),u.jsx("main",{className:"container flex min-h-screen items-center justify-center pt-16",children:u.jsxs(Fa,{mode:"wait",children:[n==="loading"&&u.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[u.jsx(kt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your interview..."})]},"loading"),n==="invalid"&&u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Oe,{className:"border-0 shadow-lg",children:u.jsxs(Ie,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:u.jsx(Ia,{className:"h-10 w-10 text-destructive"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Invalid Interview Link"}),u.jsx("p",{className:"mb-8 text-muted-foreground",children:o}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"If you believe this is an error, please contact the person who sent you this link."})]})})},"invalid"),n==="before"&&l&&u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Oe,{className:"border-0 shadow-lg",children:u.jsxs(Ie,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-accent/10",children:u.jsx(Yi,{className:"h-10 w-10 text-accent"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Welcome to your AgentFlow Discovery session"}),u.jsx("p",{className:"mb-6 text-muted-foreground",children:"You'll have a conversation with our AI assistant about your role and workflows. This typically takes 20-30 minutes."}),u.jsxs("div",{className:"mb-8 rounded-lg bg-muted p-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Interview for:"}),u.jsx("p",{className:"font-semibold text-foreground",children:l.name}),l.role&&u.jsx("p",{className:"text-sm text-muted-foreground",children:l.role}),d&&u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.name})]}),u.jsxs("div",{className:"space-y-3",children:[ud,u.jsxs(de,{size:"lg",variant:"default",onClick:()=>V("chat"),className:"w-full gap-2",children:[u.jsx(fh,{className:"h-5 w-5"}),"Text Chat"]})]}),u.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"Type your responses or use voice-to-text in your browser."}),u.jsx("p",{className:"mt-3 text-xs text-muted-foreground/70",children:"Need to take a break? You can return to this link within 7 days to continue where you left off."})]})})},"before"),n==="during"&&s==="voice"&&u.jsx(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full max-w-2xl",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative mb-8 inline-block",children:[P&&u.jsxs(u.Fragment,{children:[u.jsx(Se.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-full bg-accent/20",style:{width:128,height:128}}),u.jsx(Se.div,{animate:{scale:[1,1.4,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,delay:.2},className:"absolute inset-0 rounded-full bg-accent/10",style:{width:128,height:128}})]}),u.jsx("div",{className:`relative flex h-32 w-32 items-center justify-center rounded-full transition-colors ${F==="connecting"?"bg-muted animate-pulse":A?"bg-accent":M?"bg-primary":"bg-muted"}`,children:se?u.jsx($x,{className:"h-12 w-12 text-white"}):u.jsx(Yi,{className:"h-12 w-12 text-white"})})]}),u.jsx("p",{className:"mb-2 text-lg font-medium text-foreground",children:F==="connecting"?"Connecting...":A?"AI Speaking...":M?"Listening...":"Connected"}),u.jsx("p",{className:"mb-4 text-3xl font-bold text-foreground font-mono",children:U(E)}),P&&u.jsx("div",{className:"mb-6 flex items-center justify-center gap-1",children:[...Array(10)].map((ue,re)=>u.jsx(Se.div,{className:`w-1 rounded-full ${re<Math.floor(te*10)?"bg-accent":"bg-muted"}`,animate:{height:M?[8,8+Math.random()*24,8]:8},transition:{duration:.3,repeat:1/0,delay:re*.05}},re))}),u.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3",children:[u.jsxs(de,{variant:"outline",size:"lg",onClick:_,className:"gap-2",children:[se?u.jsx($x,{className:"h-5 w-5"}):u.jsx(aj,{className:"h-5 w-5"}),se?"Unmute":"Mute"]}),u.jsxs(de,{variant:"outline",size:"lg",onClick:ut,className:"gap-2",children:[u.jsx(Fx,{className:"h-5 w-5"}),"Pause & Save"]}),u.jsx(de,{variant:"outline",size:"lg",onClick:X,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]}),u.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>O(!R),className:"mb-4",children:[R?"Hide":"Show"," Live Transcript"]}),u.jsx(Fa,{children:R&&K.length>0&&u.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:u.jsx(Oe,{className:"mx-auto max-w-xl",children:u.jsx(Rf,{className:"h-48 p-4",children:u.jsx("div",{className:"space-y-3",children:K.map((ue,re)=>u.jsxs("div",{className:`text-sm ${ue.role==="assistant"?"text-accent":"text-foreground"}`,children:[u.jsx("span",{className:"font-medium",children:ue.role==="assistant"?"AI: ":"You: "}),ue.content]},re))})})})})})]})},"during-voice"),n==="during"&&s==="chat"&&u.jsx(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"w-full h-[calc(100vh-8rem)]",children:u.jsxs(Oe,{className:"h-full border-0 shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fh,{className:"h-5 w-5 text-accent"}),u.jsx("span",{className:"font-medium",children:"Discovery Chat"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(de,{variant:"outline",size:"sm",onClick:ut,className:"gap-1",children:[u.jsx(Fx,{className:"h-4 w-4"}),"Pause & Save"]}),u.jsx(de,{variant:"outline",size:"sm",onClick:X,className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:"Complete Interview"})]})]}),u.jsx("div",{className:"h-[calc(100%-3.5rem)]",children:u.jsx(tK,{intervieweeName:l==null?void 0:l.name,accessToken:b,initialMessages:x||void 0,onTranscriptUpdate:q,onEnd:ce})})]})},"during-chat"),n==="after"&&u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Oe,{className:"border-0 shadow-lg",children:u.jsx(Ie,{className:"p-8",children:$?u.jsxs(u.Fragment,{children:[u.jsx(kt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Saving your interview..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5,delay:.2},className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/20",children:u.jsx(ij,{className:"h-12 w-12 text-green-600 dark:text-green-400"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Thank you!"}),u.jsx("p",{className:"mb-2 text-muted-foreground",children:"Your responses have been recorded and will help identify opportunities for your team."}),u.jsxs("p",{className:"mb-8 text-sm text-muted-foreground",children:["Duration: ",U(E)]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("p",{className:"mb-3 text-sm text-muted-foreground",children:"How was your experience?"}),u.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(ue=>u.jsx("button",{onClick:()=>_e(ue),onMouseEnter:()=>I(ue),onMouseLeave:()=>I(0),className:"transition-transform hover:scale-110",children:u.jsx(Q$,{className:`h-8 w-8 transition-colors ${ue<=(N||T)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`})},ue))}),T>0&&u.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Thank you for your feedback!"})]}),u.jsx(de,{size:"lg",onClick:qe,className:"w-full",children:"Close"})]})})})},"after"),n==="error"&&u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-lg text-center",children:u.jsx(Oe,{className:"border-0 shadow-lg",children:u.jsxs(Ie,{className:"p-8",children:[u.jsx("div",{className:"mb-6 inline-flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:u.jsx(Ia,{className:"h-10 w-10 text-destructive"})}),u.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Connection Error"}),u.jsx("p",{className:"mb-8 text-muted-foreground",children:"We couldn't connect to the voice service. Please check your microphone permissions and try again."}),u.jsx(de,{size:"lg",onClick:mt,className:"w-full",children:"Try Again"})]})})},"error")]})}),u.jsx(g7,{open:L,onOpenChange:J,children:u.jsxs(bI,{children:[u.jsxs(xI,{children:[u.jsx(_I,{children:"Complete Interview?"}),u.jsxs(EI,{children:["This will permanently end your interview session. Once completed, you won't be able to resume or add more responses.",u.jsx("br",{}),u.jsx("br",{}),"If you need to take a break, use ",u.jsx("strong",{children:'"Pause & Save"'})," instead - your progress is automatically saved and you can return anytime."]})]}),u.jsxs(SI,{children:[u.jsx(CI,{children:"Cancel"}),u.jsx(kI,{onClick:s==="voice"?Me:ce,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Yes, Complete Interview"})]})]})})]})}const w7=pf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:e,variant:t,...n}){return u.jsx("div",{className:ae(w7({variant:t}),e),...n})}var Kf="Collapsible",[b7,TI]=Hn(Kf),[x7,rb]=b7(Kf),jI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=e,[l,c]=zr({prop:r,defaultProp:s??!1,onChange:o,caller:Kf});return u.jsx(x7,{scope:n,disabled:i,contentId:gr(),open:l,onOpenToggle:v.useCallback(()=>c(d=>!d),[c]),children:u.jsx(me.div,{"data-state":ib(l),"data-disabled":i?"":void 0,...a,ref:t})})});jI.displayName=Kf;var AI="CollapsibleTrigger",PI=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=rb(AI,n);return u.jsx(me.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":ib(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ie(e.onClick,s.onOpenToggle)})});PI.displayName=AI;var sb="CollapsibleContent",NI=v.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=rb(sb,e.__scopeCollapsible);return u.jsx(Gn,{present:n||s.open,children:({present:i})=>u.jsx(S7,{...r,ref:t,present:i})})});NI.displayName=sb;var S7=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,o=rb(sb,n),[a,l]=v.useState(r),c=v.useRef(null),d=Ce(t,c),h=v.useRef(0),p=h.current,m=v.useRef(0),b=m.current,f=o.open||a,x=v.useRef(f),y=v.useRef(void 0);return v.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),xt(()=>{const w=c.current;if(w){y.current=y.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const S=w.getBoundingClientRect();h.current=S.height,m.current=S.width,x.current||(w.style.transitionDuration=y.current.transitionDuration,w.style.animationName=y.current.animationName),l(r)}},[o.open,r]),u.jsx(me.div,{"data-state":ib(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!f,...i,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:f&&s})});function ib(e){return e?"open":"closed"}var _7=jI,E7=PI,k7=NI,_r="Accordion",C7=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ob,T7,j7]=uf(_r),[Jf,$Y]=Hn(_r,[j7,TI]),ab=TI(),OI=H.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,i=r;return u.jsx(ob.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?u.jsx(O7,{...i,ref:t}):u.jsx(N7,{...s,ref:t})})});OI.displayName=_r;var[RI,A7]=Jf(_r),[II,P7]=Jf(_r,{collapsible:!1}),N7=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[a,l]=zr({prop:n,defaultProp:r??"",onChange:s,caller:_r});return u.jsx(RI,{scope:e.__scopeAccordion,value:H.useMemo(()=>a?[a]:[],[a]),onItemOpen:l,onItemClose:H.useCallback(()=>i&&l(""),[i,l]),children:u.jsx(II,{scope:e.__scopeAccordion,collapsible:i,children:u.jsx(MI,{...o,ref:t})})})}),O7=H.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=e,[o,a]=zr({prop:n,defaultProp:r??[],onChange:s,caller:_r}),l=H.useCallback(d=>a((h=[])=>[...h,d]),[a]),c=H.useCallback(d=>a((h=[])=>h.filter(p=>p!==d)),[a]);return u.jsx(RI,{scope:e.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:u.jsx(II,{scope:e.__scopeAccordion,collapsible:!0,children:u.jsx(MI,{...i,ref:t})})})}),[R7,Yf]=Jf(_r),MI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=e,a=H.useRef(null),l=Ce(a,t),c=T7(n),h=su(s)==="ltr",p=ie(e.onKeyDown,m=>{var N;if(!C7.includes(m.key))return;const b=m.target,f=c().filter(I=>{var R;return!((R=I.ref.current)!=null&&R.disabled)}),x=f.findIndex(I=>I.ref.current===b),y=f.length;if(x===-1)return;m.preventDefault();let w=x;const S=0,E=y-1,C=()=>{w=x+1,w>E&&(w=S)},T=()=>{w=x-1,w<S&&(w=E)};switch(m.key){case"Home":w=S;break;case"End":w=E;break;case"ArrowRight":i==="horizontal"&&(h?C():T());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(h?T():C());break;case"ArrowUp":i==="vertical"&&T();break}const j=w%y;(N=f[j].ref.current)==null||N.focus()});return u.jsx(R7,{scope:n,disabled:r,direction:s,orientation:i,children:u.jsx(ob.Slot,{scope:n,children:u.jsx(me.div,{...o,"data-orientation":i,ref:l,onKeyDown:r?void 0:p})})})}),Wh="AccordionItem",[I7,lb]=Jf(Wh),DI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,i=Yf(Wh,n),o=A7(Wh,n),a=ab(n),l=gr(),c=r&&o.value.includes(r)||!1,d=i.disabled||e.disabled;return u.jsx(I7,{scope:n,open:c,disabled:d,triggerId:l,children:u.jsx(_7,{"data-orientation":i.orientation,"data-state":BI(c),...a,...s,ref:t,disabled:d,open:c,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});DI.displayName=Wh;var LI="AccordionHeader",$I=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Yf(_r,n),i=lb(LI,n);return u.jsx(me.h3,{"data-orientation":s.orientation,"data-state":BI(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:t})});$I.displayName=LI;var fy="AccordionTrigger",FI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Yf(_r,n),i=lb(fy,n),o=P7(fy,n),a=ab(n);return u.jsx(ob.ItemSlot,{scope:n,children:u.jsx(E7,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:t})})});FI.displayName=fy;var VI="AccordionContent",UI=H.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Yf(_r,n),i=lb(VI,n),o=ab(n);return u.jsx(k7,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});UI.displayName=VI;function BI(e){return e?"open":"closed"}var M7=OI,D7=DI,L7=$I,zI=FI,qI=UI;const cb=M7,Qf=v.forwardRef(({className:e,...t},n)=>u.jsx(D7,{ref:n,className:ae("border-b",e),...t}));Qf.displayName="AccordionItem";const Xf=v.forwardRef(({className:e,children:t,...n},r)=>u.jsx(L7,{className:"flex",children:u.jsxs(zI,{ref:r,className:ae("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,u.jsx(xw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Xf.displayName=zI.displayName;const Zf=v.forwardRef(({className:e,children:t,...n},r)=>u.jsx(qI,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:ae("pb-4 pt-0",e),children:t})}));Zf.displayName=qI.displayName;function $7({level:e}){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};return u.jsxs(Ct,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Confidence"]})}function F7({level:e}){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"};return u.jsxs(Ct,{variant:"outline",className:t[e],children:[e.charAt(0).toUpperCase()+e.slice(1)," Impact"]})}function V7({category:e}){const t={triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy-Based",document:"Document Workflow",glue_work:"Glue Work",research:"Research"};return u.jsx(Ct,{variant:"secondary",children:t[e]||e})}function U7(){const{token:e}=zw(),[t,n]=v.useState("loading"),[r,s]=v.useState(""),[i,o]=v.useState(null);return v.useEffect(()=>{async function a(){if(!e){n("error"),s("No results token provided");return}try{const{data:l,error:c}=await pt.functions.invoke("validate-results-token",{body:{resultsToken:e}});if(c){n("error"),s("Unable to load results. Please try again.");return}if(l!=null&&l.error){l.error.includes("still being generated")?n("pending"):(n("error"),s(l.error));return}o(l),n("success")}catch(l){console.error("Error loading results:",l),n("error"),s("An unexpected error occurred. Please try again.")}}a()},[e]),u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs(an,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),u.jsx(ru,{})]})}),u.jsxs("main",{className:"container py-8",children:[t==="loading"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(kt,{className:"mx-auto h-12 w-12 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your results..."})]})}),t==="pending"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsx(Oe,{className:"max-w-md text-center",children:u.jsxs(Ie,{className:"pt-6",children:[u.jsx(dh,{className:"mx-auto mb-4 h-12 w-12 text-accent"}),u.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Analysis In Progress"}),u.jsx("p",{className:"text-muted-foreground",children:"Your analysis is still being generated. Please check back in a few minutes."})]})})}),t==="error"&&u.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:u.jsx(Oe,{className:"max-w-md text-center",children:u.jsxs(Ie,{className:"pt-6",children:[u.jsx(Ia,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),u.jsx("h2",{className:"mb-2 text-xl font-semibold",children:"Unable to Load Results"}),u.jsx("p",{className:"text-muted-foreground",children:r})]})})}),t==="success"&&i&&u.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground sm:text-4xl",children:"Your Discovery Insights"}),u.jsxs("p",{className:"mt-2 text-lg text-muted-foreground",children:["Personalised for ",i.interviewee.name,i.interviewee.role&&` - ${i.interviewee.role}`]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:i.org.name})]}),i.analysis.executiveSummary&&u.jsxs(Oe,{className:"border-accent/50 bg-accent/5",children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(ph,{className:"h-5 w-5 text-accent"}),"Executive Summary"]})}),u.jsx(Ie,{children:u.jsx("p",{className:"text-foreground leading-relaxed",children:i.analysis.executiveSummary})})]}),i.analysis.automationOpportunities.length>0&&u.jsxs("section",{children:[u.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[u.jsx(oj,{className:"h-6 w-6 text-accent"}),u.jsx("h2",{className:"text-2xl font-semibold",children:"Opportunities For You"})]}),u.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:i.analysis.automationOpportunities.map((a,l)=>u.jsxs(Oe,{className:"relative overflow-hidden",children:[u.jsxs(Zt,{className:"pb-2",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(V7,{category:a.category}),u.jsx($7,{level:a.confidence}),u.jsx(F7,{level:a.estimated_impact})]}),u.jsx(en,{className:"mt-2 text-lg",children:a.title})]}),u.jsxs(Ie,{className:"space-y-3",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),a.affected_workflows.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Affected Workflows:"}),u.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:a.affected_workflows.map((c,d)=>u.jsx(Ct,{variant:"outline",className:"text-xs",children:c},d))})]}),a.prerequisites.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Prerequisites:"}),u.jsx("ul",{className:"mt-1 list-inside list-disc text-xs text-muted-foreground",children:a.prerequisites.slice(0,3).map((c,d)=>u.jsx("li",{children:c},d))})]})]})]},l))})]}),i.analysis.workflows.length>0&&u.jsxs("section",{children:[u.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[u.jsx(lj,{className:"h-6 w-6 text-accent"}),u.jsx("h2",{className:"text-2xl font-semibold",children:"Your Workflows"})]}),u.jsx(cb,{type:"multiple",className:"space-y-2",children:i.analysis.workflows.map((a,l)=>{var c,d,h,p,m,b;return u.jsxs(Qf,{value:`workflow-${l}`,className:"rounded-lg border bg-card",children:[u.jsx(Xf,{className:"px-4 hover:no-underline",children:u.jsxs("div",{className:"flex flex-1 items-center justify-between pr-4",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium",children:a.name}),u.jsx("p",{className:"text-sm text-muted-foreground",children:a.owner})]}),u.jsx(Ct,{variant:"outline",children:a.frequency})]})}),u.jsx(Zf,{className:"px-4 pb-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:a.description}),a.estimated_time&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(dh,{className:"h-4 w-4 text-muted-foreground"}),u.jsxs("span",{children:["Estimated time: ",a.estimated_time]})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[((c=a.components.triggers)==null?void 0:c.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Triggers"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.triggers.map((f,x)=>u.jsx("li",{children:f},x))})]}),((d=a.components.inputs)==null?void 0:d.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Inputs"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.inputs.map((f,x)=>u.jsx("li",{children:f},x))})]}),((h=a.components.outputs)==null?void 0:h.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Outputs"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.outputs.map((f,x)=>u.jsx("li",{children:f},x))})]}),((p=a.components.decisions)==null?void 0:p.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Decisions"}),u.jsx("ul",{className:"list-inside list-disc text-sm",children:a.components.decisions.map((f,x)=>u.jsx("li",{children:f},x))})]})]}),((m=a.systems_used)==null?void 0:m.length)>0&&u.jsxs("div",{children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-muted-foreground",children:"Systems Used"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:a.systems_used.map((f,x)=>u.jsx(Ct,{variant:"secondary",className:"text-xs",children:f},x))})]}),((b=a.pain_points)==null?void 0:b.length)>0&&u.jsxs("div",{className:"rounded-lg bg-destructive/10 p-3",children:[u.jsx("p",{className:"mb-1 text-xs font-medium uppercase text-destructive",children:"Pain Points"}),u.jsx("ul",{className:"list-inside list-disc text-sm text-destructive",children:a.pain_points.map((f,x)=>u.jsx("li",{children:f},x))})]})]})})]},l)})})]}),u.jsx(Oe,{className:"border-accent bg-gradient-to-r from-accent/10 to-accent/5",children:u.jsxs(Ie,{className:"flex flex-col items-center py-8 text-center",children:[u.jsx(_w,{className:"mb-4 h-12 w-12 text-accent"}),u.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Ready to Automate?"}),u.jsx("p",{className:"mb-6 max-w-md text-muted-foreground",children:"Let's discuss how AgentFlow can help you implement these automation opportunities and transform your workflows."}),u.jsx(de,{size:"lg",className:"gap-2",asChild:!0,children:u.jsxs("a",{href:"mailto:hello@goagentflow.com?subject=Discovery%20Follow-up",children:[u.jsx(Qc,{className:"h-5 w-5"}),"Contact AgentFlow",u.jsx(wc,{className:"h-4 w-4"})]})})]})}),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:u.jsxs("p",{children:["Analysis generated on"," ",new Date(i.analysis.generatedAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})})]})]})]})}const WI=["hamish@goagentflow.com","stephen@goagentflow.com"],HI=v.createContext(void 0);function B7({children:e}){const[t,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0),a=t!=null&&t.email?WI.includes(t.email.toLowerCase()):!1;v.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await pt.auth.getSession();s(h),n((h==null?void 0:h.user)??null)}catch(h){console.error("Error getting session:",h)}finally{o(!1)}})();const{data:{subscription:d}}=pt.auth.onAuthStateChange(async(h,p)=>{console.log("[Auth] State change:",h),s(p),n((p==null?void 0:p.user)??null),o(!1)});return()=>{d.unsubscribe()}},[]);const l=async()=>{try{await pt.auth.signOut(),n(null),s(null)}catch(c){throw console.error("Error signing out:",c),c}};return u.jsx(HI.Provider,{value:{user:t,session:r,isAdmin:a,loading:i,signOut:l},children:e})}function ub(){const e=v.useContext(HI);if(e===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return e}function py(e){return WI.includes(e.toLowerCase())}function z7(){const[e,t]=v.useState(""),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[o,a]=v.useState(null),l=tl(),{user:c,isAdmin:d,loading:h}=ub();v.useEffect(()=>{!h&&c&&d&&l("/admin/dashboard",{replace:!0})},[c,d,h,l]);const p=async m=>{if(m.preventDefault(),a(null),i(!0),!py(e)){a("This email is not authorized for admin access."),i(!1);return}try{const{error:b}=await pt.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/admin/auth/callback`}});if(b)throw b;r(!0)}catch(b){console.error("Error sending magic link:",b),a(b instanceof Error?b.message:"Failed to send magic link. Please try again.")}finally{i(!1)}};return h?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx(kt,{className:"h-8 w-8 animate-spin text-accent"})}):u.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[u.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-4",children:[u.jsxs(an,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold",children:"AgentFlow"})]}),u.jsx(ru,{})]}),u.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:u.jsxs(Oe,{className:"w-full max-w-md",children:[u.jsxs(Zt,{className:"text-center",children:[u.jsx(en,{children:"Admin Login"}),u.jsx(Ur,{children:"Sign in with your email to access the dashboard"})]}),u.jsx(Ie,{children:u.jsx(Fa,{mode:"wait",children:n?u.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},className:"py-4 text-center",children:[u.jsx(ij,{className:"mx-auto mb-4 h-12 w-12 text-green-500"}),u.jsx("p",{className:"font-medium",children:"Check your email!"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a magic link to ",e]}),u.jsx(de,{variant:"ghost",className:"mt-4",onClick:()=>{r(!1),t("")},children:"Use a different email"})]},"success"):u.jsxs(Se.form,{exit:{opacity:0},onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Qc,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(En,{type:"email",placeholder:"admin@goagentflow.com",value:e,onChange:m=>{t(m.target.value),a(null)},className:"pl-9",required:!0,disabled:s})]}),o&&u.jsxs(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:[u.jsx(Ia,{className:"h-4 w-4 flex-shrink-0"}),u.jsx("span",{children:o})]}),u.jsx(de,{type:"submit",className:"w-full",disabled:s,children:s?u.jsxs(u.Fragment,{children:[u.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send magic link"})]},"form")})})]})})})]})}function q7(){const[e,t]=v.useState(null),n=tl();return v.useEffect(()=>{(async()=>{var s,i;try{const{data:{session:o},error:a}=await pt.auth.getSession();if(a)throw a;if(!o){const{error:l}=await pt.auth.exchangeCodeForSession(window.location.href);if(l)throw l;const{data:{session:c},error:d}=await pt.auth.getSession();if(d||!c)throw new Error("Failed to establish session");if(!((s=c.user)!=null&&s.email)||!py(c.user.email))throw await pt.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0});return}if(!((i=o.user)!=null&&i.email)||!py(o.user.email))throw await pt.auth.signOut(),new Error("This email is not authorized for admin access");n("/admin/dashboard",{replace:!0})}catch(o){console.error("Auth callback error:",o),t(o instanceof Error?o.message:"Authentication failed")}})()},[n]),e?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:u.jsx(Oe,{className:"max-w-md",children:u.jsxs(Ie,{className:"pt-6 text-center",children:[u.jsx(Ia,{className:"mx-auto mb-4 h-12 w-12 text-destructive"}),u.jsx("h2",{className:"mb-2 text-lg font-semibold",children:"Authentication Failed"}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:e}),u.jsx(de,{onClick:()=>n("/admin/login",{replace:!0}),children:"Back to Login"})]})})}):u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx(kt,{className:"mx-auto h-8 w-8 animate-spin text-accent"}),u.jsx("p",{className:"mt-4 text-muted-foreground",children:"Signing you in..."})]})})}function va({icon:e,label:t,value:n,className:r,iconClassName:s}){return u.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-2,transition:{duration:.2}},children:u.jsx(Oe,{className:ae("transition-shadow duration-200 hover:shadow-md",r),children:u.jsxs(Ie,{className:"flex items-center gap-4 p-6",children:[u.jsx("div",{className:ae("flex h-12 w-12 items-center justify-center rounded-lg bg-accent/10",s),children:u.jsx(e,{className:"h-6 w-6 text-accent"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),u.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})]})})})}const cu=ZR,W7=eI,GI=v.forwardRef(({className:e,...t},n)=>u.jsx(X0,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GI.displayName=X0.displayName;const ll=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(W7,{children:[u.jsx(GI,{}),u.jsxs(Z0,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(nb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Sw,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ll.displayName=Z0.displayName;const cl=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});cl.displayName="DialogHeader";const uu=({className:e,...t})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});uu.displayName="DialogFooter";const ul=v.forwardRef(({className:e,...t},n)=>u.jsx(eb,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));ul.displayName=eb.displayName;const ep=v.forwardRef(({className:e,...t},n)=>u.jsx(tb,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));ep.displayName=tb.displayName;const H7=[{id:"1",speaker:"agent",content:"That's really helpful context about your reporting process. Can you tell me more about what triggers this workflow? How do you know it's time to generate these reports?",timestamp:"18:15"},{id:"2",speaker:"interviewee",content:"Usually it's a Slack message from my manager, or sometimes an email from the executive team. There's no set schedule really, it's quite ad-hoc which is part of the problem.",timestamp:"18:32"},{id:"3",speaker:"agent",content:"I see. So the trigger is essentially a request from stakeholders rather than a scheduled task. And when you receive that request, what's the first thing you do?",timestamp:"18:45"}];function G7({open:e,onClose:t,conversationId:n,intervieweeName:r,clientName:s,role:i}){const[o,a]=v.useState(!1),[l,c]=v.useState(H7),[d,h]=v.useState("interviewee"),[p,m]=v.useState("18:52");return v.useEffect(()=>{if(!e)return;const b=setInterval(()=>{m(f=>{const[x,y]=f.split(":").map(Number),w=x*60+y+1,S=Math.floor(w/60).toString().padStart(2,"0"),E=(w%60).toString().padStart(2,"0");return`${S}:${E}`}),Math.random()>.7&&h(f=>f==="agent"?"interviewee":"agent")},1e3);return()=>clearInterval(b)},[e]),u.jsx(cu,{open:e,onOpenChange:b=>!b&&t(),children:u.jsxs(ll,{className:"max-w-2xl",children:[u.jsx(cl,{children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-accent/10",children:u.jsx(V$,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{children:[u.jsxs(ul,{className:"flex items-center gap-2",children:["Listening to Interview",u.jsx(Ct,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 animate-pulse",children:"LIVE"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[r,"  ",s,"  ",i]})]})]})})}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted p-3",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?u.jsx(Yi,{className:"h-4 w-4 text-white"}):u.jsx($p,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:d==="agent"?"AI Agent":r}),u.jsx("p",{className:"text-xs text-muted-foreground",children:d==="agent"?"Speaking":"Responding"})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx(dh,{className:"h-4 w-4 text-muted-foreground"}),u.jsx("span",{className:"font-mono",children:p})]})]}),u.jsx(de,{variant:"outline",size:"sm",onClick:()=>a(!o),className:"gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(eF,{className:"h-4 w-4"}),"Unmute"]}):u.jsxs(u.Fragment,{children:[u.jsx(aj,{className:"h-4 w-4"}),"Mute"]})})]}),u.jsx("div",{className:"flex items-center justify-center gap-1 py-4",children:[...Array(20)].map((b,f)=>u.jsx(Se.div,{className:`w-1 rounded-full ${o?"bg-muted-foreground/30":"bg-accent"}`,animate:{height:o?8:[8,Math.random()*32+8,8]},transition:{duration:.5,repeat:1/0,delay:f*.05}},f))}),u.jsxs("div",{className:"rounded-lg border",children:[u.jsx("div",{className:"border-b bg-muted/50 px-4 py-2",children:u.jsx("p",{className:"text-sm font-medium",children:"Live Transcript"})}),u.jsx(Rf,{className:"h-[250px]",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx(Fa,{children:l.map((b,f)=>u.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${b.speaker==="agent"?"":"flex-row-reverse"}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${b.speaker==="agent"?"bg-accent":"bg-primary"}`,children:b.speaker==="agent"?u.jsx(Yi,{className:"h-4 w-4 text-white"}):u.jsx($p,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:`flex-1 ${b.speaker==="agent"?"":"text-right"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-xs font-medium",children:b.speaker==="agent"?"AI Agent":r}),u.jsx("span",{className:"text-xs text-muted-foreground",children:b.timestamp})]}),u.jsx("p",{className:`text-sm rounded-lg p-3 ${b.speaker==="agent"?"bg-accent/10 text-foreground":"bg-muted text-foreground"}`,children:b.content})]})]},b.id))}),u.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},className:`flex gap-3 ${d==="agent"?"":"flex-row-reverse"}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${d==="agent"?"bg-accent":"bg-primary"}`,children:d==="agent"?u.jsx(Yi,{className:"h-4 w-4 text-white"}):u.jsx($p,{className:"h-4 w-4 text-white"})}),u.jsx("div",{className:`flex-1 ${d==="agent"?"":"text-right"}`,children:u.jsxs("div",{className:`inline-flex items-center gap-1 rounded-lg p-3 ${d==="agent"?"bg-accent/10":"bg-muted"}`,children:[u.jsx(Se.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0},className:"h-2 w-2 rounded-full bg-current"}),u.jsx(Se.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.2},className:"h-2 w-2 rounded-full bg-current"}),u.jsx(Se.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1,repeat:1/0,delay:.4},className:"h-2 w-2 rounded-full bg-current"})]})})]})]})})]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You are observing this conversation in listen-only mode. The interviewee is not aware you are listening."})]})})}function K7(){const[e,t]=v.useState(!0),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState({totalProjects:0,activeInterviews:0,completedInterviews:0}),[l,c]=v.useState(null),[d,h]=v.useState(!1);v.useEffect(()=>{p()},[]);async function p(){t(!0);const{data:b}=await pt.from("discovery_project").select(`
        *,
        org:org_id (*)
      `).order("created_at",{ascending:!1}).limit(5),{data:f}=await pt.from("discovery_interviewee").select(`
        *,
        project:project_id (name, org_id, org:org_id (name))
      `).order("created_at",{ascending:!1});if(b){const E=b.map(C=>{const T=(f==null?void 0:f.filter(j=>j.project_id===C.id))||[];return{...C,interviewee_count:T.length,completed_count:T.filter(j=>j.status==="completed").length}});r(E)}const x=(f==null?void 0:f.filter(E=>E.status==="pending"||E.status==="invited").slice(0,5).map(E=>{var C,T,j;return{id:E.id,name:E.name,role:E.role,status:E.status,project_name:((C=E.project)==null?void 0:C.name)||"Unknown",org_name:((j=(T=E.project)==null?void 0:T.org)==null?void 0:j.name)||"Unknown",project_id:E.project_id}}))||[];i(x);const y=(b==null?void 0:b.length)||0,w=(f==null?void 0:f.filter(E=>E.status==="completed").length)||0,S=(f==null?void 0:f.filter(E=>E.status==="in_progress").length)||0;a({totalProjects:y,activeInterviews:S,completedInterviews:w}),t(!1)}const m=()=>{h(!1),c(null)};return e?u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(kt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Command Center"}),u.jsx("p",{className:"text-muted-foreground",children:"Monitor interviews and manage discovery projects."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(de,{variant:"outline",asChild:!0,children:u.jsx(an,{to:"/admin/projects",children:"View All Projects"})}),u.jsx(de,{asChild:!0,children:u.jsxs(an,{to:"/admin/projects",children:[u.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})]}),u.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-3",children:[u.jsx(va,{icon:kd,label:"Total Projects",value:o.totalProjects}),u.jsx(va,{icon:fh,label:"Active Interviews",value:o.activeInterviews}),u.jsx(va,{icon:ww,label:"Completed Interviews",value:o.completedInterviews})]}),u.jsxs("div",{className:"mb-8 grid gap-6 lg:grid-cols-2",children:[u.jsxs(Oe,{children:[u.jsx(Zt,{className:"pb-3",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:u.jsx(kd,{className:"h-4 w-4 text-accent"})}),u.jsxs("div",{children:[u.jsx(en,{className:"text-lg",children:"Recent Projects"}),u.jsx(Ur,{children:"Your latest discovery projects"})]})]})})}),u.jsx(Ie,{children:n.length>0?u.jsxs("div",{className:"space-y-3",children:[n.map((b,f)=>{var x;return u.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.1},children:u.jsxs(an,{to:`/admin/projects/${b.id}`,className:"flex items-center justify-between rounded-lg border bg-card p-4 hover:bg-muted/50 transition-colors",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:b.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[(x=b.org)==null?void 0:x.name,"  ",b.interviewee_count," interviewees"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx(Ct,{variant:b.status==="active"?"default":"secondary",children:b.status}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[b.completed_count,"/",b.interviewee_count," complete"]})]})]})},b.id)}),u.jsx(de,{variant:"ghost",className:"w-full",asChild:!0,children:u.jsxs(an,{to:"/admin/projects",children:["View all projects",u.jsx(wc,{className:"ml-2 h-4 w-4"})]})})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:u.jsx(kd,{className:"h-6 w-6 text-muted-foreground"})}),u.jsx("p",{className:"font-medium",children:"No projects yet"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first discovery project"}),u.jsx(de,{asChild:!0,children:u.jsxs(an,{to:"/admin/projects",children:[u.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})})]})})]}),u.jsxs(Oe,{children:[u.jsx(Zt,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-accent/10",children:u.jsx(ph,{className:"h-4 w-4 text-accent"})}),u.jsxs("div",{children:[u.jsx(en,{className:"text-lg",children:"Pending Interviews"}),u.jsx(Ur,{children:"Interviews awaiting completion"})]})]})}),u.jsx(Ie,{children:s.length>0?u.jsx("div",{className:"space-y-3",children:s.map((b,f)=>u.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.1},className:"flex items-center justify-between rounded-lg border p-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:b.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.org_name,"  ",b.role||"No role"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ct,{variant:"secondary",children:b.status}),u.jsx(de,{size:"sm",variant:"outline",asChild:!0,children:u.jsx(an,{to:`/admin/projects/${b.project_id}`,children:"View"})})]})]},b.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[u.jsx("div",{className:"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:u.jsx(mf,{className:"h-6 w-6 text-muted-foreground"})}),u.jsx("p",{className:"font-medium",children:"No pending interviews"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"All interviews have been completed"})]})})]})]}),u.jsx(G7,{open:d,onClose:m,conversationId:"",intervieweeName:"",clientName:"",role:""})]})}const db=v.forwardRef(({className:e,...t},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",e),...t})}));db.displayName="Table";const hb=v.forwardRef(({className:e,...t},n)=>u.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",e),...t}));hb.displayName="TableHeader";const fb=v.forwardRef(({className:e,...t},n)=>u.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",e),...t}));fb.displayName="TableBody";const J7=v.forwardRef(({className:e,...t},n)=>u.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));J7.displayName="TableFooter";const Vc=v.forwardRef(({className:e,...t},n)=>u.jsx("tr",{ref:n,className:ae("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Vc.displayName="TableRow";const Mn=v.forwardRef(({className:e,...t},n)=>u.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Mn.displayName="TableHead";const Dn=v.forwardRef(({className:e,...t},n)=>u.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Dn.displayName="TableCell";const Y7=v.forwardRef(({className:e,...t},n)=>u.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",e),...t}));Y7.displayName="TableCaption";var Q7="Label",KI=v.forwardRef((e,t)=>u.jsx(me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));KI.displayName=Q7;var JI=KI;const X7=pf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Br=v.forwardRef(({className:e,...t},n)=>u.jsx(JI,{ref:n,className:ae(X7(),e),...t}));Br.displayName=JI.displayName;function Z7(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eJ=[" ","Enter","ArrowUp","ArrowDown"],tJ=[" ","Enter"],po="Select",[tp,np,nJ]=uf(po),[dl,FY]=Hn(po,[nJ,wf]),rp=wf(),[rJ,wi]=dl(po),[sJ,iJ]=dl(po),YI=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:m,form:b}=e,f=rp(t),[x,y]=v.useState(null),[w,S]=v.useState(null),[E,C]=v.useState(!1),T=su(c),[j,N]=zr({prop:r,defaultProp:s??!1,onChange:i,caller:po}),[I,R]=zr({prop:o,defaultProp:a,onChange:l,caller:po}),O=v.useRef(null),$=x?b||!!x.closest("form"):!0,[W,L]=v.useState(new Set),J=Array.from(W).map(Y=>Y.props.value).join(";");return u.jsx(Uj,{...f,children:u.jsxs(rJ,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:gr(),value:I,onValueChange:R,open:j,onOpenChange:N,dir:T,triggerPointerDownPosRef:O,disabled:p,children:[u.jsx(tp.Provider,{scope:t,children:u.jsx(sJ,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(Y=>{L(Q=>new Set(Q).add(Y))},[]),onNativeOptionRemove:v.useCallback(Y=>{L(Q=>{const D=new Set(Q);return D.delete(Y),D})},[]),children:n})}),$?u.jsxs(bM,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:Y=>R(Y.target.value),disabled:p,form:b,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(W)]},J):null]})})};YI.displayName=po;var QI="SelectTrigger",XI=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=rp(n),o=wi(QI,n),a=o.disabled||r,l=Ce(t,o.onTriggerChange),c=np(n),d=v.useRef("touch"),[h,p,m]=SM(f=>{const x=c().filter(S=>!S.disabled),y=x.find(S=>S.value===o.value),w=_M(x,f,y);w!==void 0&&o.onValueChange(w.value)}),b=f=>{a||(o.onOpenChange(!0),m()),f&&(o.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return u.jsx(Bj,{asChild:!0,...i,children:u.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":xM(o.value)?"":void 0,...s,ref:l,onClick:ie(s.onClick,f=>{f.currentTarget.focus(),d.current!=="mouse"&&b(f)}),onPointerDown:ie(s.onPointerDown,f=>{d.current=f.pointerType;const x=f.target;x.hasPointerCapture(f.pointerId)&&x.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(b(f),f.preventDefault())}),onKeyDown:ie(s.onKeyDown,f=>{const x=h.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&p(f.key),!(x&&f.key===" ")&&eJ.includes(f.key)&&(b(),f.preventDefault())})})})});XI.displayName=QI;var ZI="SelectValue",eM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,l=wi(ZI,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=Ce(t,l.onValueNodeChange);return xt(()=>{c(d)},[c,d]),u.jsx(me.span,{...a,ref:h,style:{pointerEvents:"none"},children:xM(l.value)?u.jsx(u.Fragment,{children:o}):i})});eM.displayName=ZI;var oJ="SelectIcon",tM=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(me.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});tM.displayName=oJ;var aJ="SelectPortal",nM=e=>u.jsx(df,{asChild:!0,...e});nM.displayName=aJ;var mo="SelectContent",rM=v.forwardRef((e,t)=>{const n=wi(mo,e.__scopeSelect),[r,s]=v.useState();if(xt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?yo.createPortal(u.jsx(sM,{scope:e.__scopeSelect,children:u.jsx(tp.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),i):null}return u.jsx(iM,{...e,ref:t})});rM.displayName=mo;var ir=10,[sM,bi]=dl(mo),lJ="SelectContentImpl",cJ=Ra("SelectContent.RemoveScroll"),iM=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:b,hideWhenDetached:f,avoidCollisions:x,...y}=e,w=wi(mo,n),[S,E]=v.useState(null),[C,T]=v.useState(null),j=Ce(t,A=>E(A)),[N,I]=v.useState(null),[R,O]=v.useState(null),$=np(n),[W,L]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(S)return MR(S)},[S]),TR();const Y=v.useCallback(A=>{const[M,...U]=$().map(X=>X.ref.current),[V]=U.slice(-1),q=document.activeElement;for(const X of A)if(X===q||(X==null||X.scrollIntoView({block:"nearest"}),X===M&&C&&(C.scrollTop=0),X===V&&C&&(C.scrollTop=C.scrollHeight),X==null||X.focus(),document.activeElement!==q))return},[$,C]),Q=v.useCallback(()=>Y([N,S]),[Y,N,S]);v.useEffect(()=>{W&&Q()},[W,Q]);const{onOpenChange:D,triggerPointerDownPosRef:F}=w;v.useEffect(()=>{if(S){let A={x:0,y:0};const M=V=>{var q,X;A={x:Math.abs(Math.round(V.pageX)-(((q=F.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(V.pageY)-(((X=F.current)==null?void 0:X.y)??0))}},U=V=>{A.x<=10&&A.y<=10?V.preventDefault():S.contains(V.target)||D(!1),document.removeEventListener("pointermove",M),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",U,{capture:!0})}}},[S,D,F]),v.useEffect(()=>{const A=()=>D(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[D]);const[K,se]=SM(A=>{const M=$().filter(q=>!q.disabled),U=M.find(q=>q.ref.current===document.activeElement),V=_M(M,A,U);V&&setTimeout(()=>V.ref.current.focus())}),te=v.useCallback((A,M,U)=>{const V=!J.current&&!U;(w.value!==void 0&&w.value===M||V)&&(I(A),V&&(J.current=!0))},[w.value]),g=v.useCallback(()=>S==null?void 0:S.focus(),[S]),k=v.useCallback((A,M,U)=>{const V=!J.current&&!U;(w.value!==void 0&&w.value===M||V)&&O(A)},[w.value]),_=r==="popper"?my:oM,P=_===my?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:b,hideWhenDetached:f,avoidCollisions:x}:{};return u.jsx(sM,{scope:n,content:S,viewport:C,onViewportChange:T,itemRefCallback:te,selectedItem:N,onItemLeave:g,itemTextRefCallback:k,focusSelectedItem:Q,selectedItemText:R,position:r,isPositioned:W,searchRef:K,children:u.jsx(K0,{as:cJ,allowPinchZoom:!0,children:u.jsx(G0,{asChild:!0,trapped:w.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:ie(s,A=>{var M;(M=w.trigger)==null||M.focus({preventScroll:!0}),A.preventDefault()}),children:u.jsx(Jc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(_,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:A=>A.preventDefault(),...y,...P,onPlaced:()=>L(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ie(y.onKeyDown,A=>{const M=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!M&&A.key.length===1&&se(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let V=$().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(A.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const q=A.target,X=V.indexOf(q);V=V.slice(X+1)}setTimeout(()=>Y(V)),A.preventDefault()}})})})})})})});iM.displayName=lJ;var uJ="SelectItemAlignedPosition",oM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=wi(mo,n),o=bi(mo,n),[a,l]=v.useState(null),[c,d]=v.useState(null),h=Ce(t,j=>d(j)),p=np(n),m=v.useRef(!1),b=v.useRef(!0),{viewport:f,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=o,S=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&f&&x&&y){const j=i.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(i.dir!=="rtl"){const q=R.left-N.left,X=I.left-q,ce=j.left-X,Me=j.width+ce,ut=Math.max(Me,N.width),he=window.innerWidth-ir,_e=_v(X,[ir,Math.max(ir,he-ut)]);a.style.minWidth=Me+"px",a.style.left=_e+"px"}else{const q=N.right-R.right,X=window.innerWidth-I.right-q,ce=window.innerWidth-j.right-X,Me=j.width+ce,ut=Math.max(Me,N.width),he=window.innerWidth-ir,_e=_v(X,[ir,Math.max(ir,he-ut)]);a.style.minWidth=Me+"px",a.style.right=_e+"px"}const O=p(),$=window.innerHeight-ir*2,W=f.scrollHeight,L=window.getComputedStyle(c),J=parseInt(L.borderTopWidth,10),Y=parseInt(L.paddingTop,10),Q=parseInt(L.borderBottomWidth,10),D=parseInt(L.paddingBottom,10),F=J+Y+W+D+Q,K=Math.min(x.offsetHeight*5,F),se=window.getComputedStyle(f),te=parseInt(se.paddingTop,10),g=parseInt(se.paddingBottom,10),k=j.top+j.height/2-ir,_=$-k,P=x.offsetHeight/2,A=x.offsetTop+P,M=J+Y+A,U=F-M;if(M<=k){const q=O.length>0&&x===O[O.length-1].ref.current;a.style.bottom="0px";const X=c.clientHeight-f.offsetTop-f.offsetHeight,ce=Math.max(_,P+(q?g:0)+X+Q),Me=M+ce;a.style.height=Me+"px"}else{const q=O.length>0&&x===O[0].ref.current;a.style.top="0px";const ce=Math.max(k,J+f.offsetTop+(q?te:0)+P)+U;a.style.height=ce+"px",f.scrollTop=M-k+f.offsetTop}a.style.margin=`${ir}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,f,x,y,i.dir,r]);xt(()=>S(),[S]);const[E,C]=v.useState();xt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const T=v.useCallback(j=>{j&&b.current===!0&&(S(),w==null||w(),b.current=!1)},[S,w]);return u.jsx(hJ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:T,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:u.jsx(me.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oM.displayName=uJ;var dJ="SelectPopperPosition",my=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ir,...i}=e,o=rp(n);return u.jsx(zj,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});my.displayName=dJ;var[hJ,pb]=dl(mo,{}),gy="SelectViewport",aM=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=bi(gy,n),o=pb(gy,n),a=Ce(t,i.onViewportChange),l=v.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(tp.Slot,{scope:n,children:u.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const b=window.innerHeight-ir*2,f=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(f,x);if(y<b){const w=y+m,S=Math.min(b,w),E=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});aM.displayName=gy;var lM="SelectGroup",[fJ,pJ]=dl(lM),mJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gr();return u.jsx(fJ,{scope:n,id:s,children:u.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:t})})});mJ.displayName=lM;var cM="SelectLabel",uM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=pJ(cM,n);return u.jsx(me.div,{id:s.id,...r,ref:t})});uM.displayName=cM;var Hh="SelectItem",[gJ,dM]=dl(Hh),hM=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=wi(Hh,n),l=bi(Hh,n),c=a.value===r,[d,h]=v.useState(i??""),[p,m]=v.useState(!1),b=Ce(t,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,s)}),f=gr(),x=v.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(gJ,{scope:n,value:r,disabled:s,textId:f,isSelected:c,onItemTextChange:v.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(tp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(me.div,{role:"option","aria-labelledby":f,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:ie(o.onFocus,()=>m(!0)),onBlur:ie(o.onBlur,()=>m(!1)),onClick:ie(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ie(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ie(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ie(o.onPointerMove,w=>{var S;x.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ie(o.onKeyDown,w=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(tJ.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});hM.displayName=Hh;var Ll="SelectItemText",fM=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=wi(Ll,n),a=bi(Ll,n),l=dM(Ll,n),c=iJ(Ll,n),[d,h]=v.useState(null),p=Ce(t,y=>h(y),l.onItemTextChange,y=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,b=v.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:f,onNativeOptionRemove:x}=c;return xt(()=>(f(b),()=>x(b)),[f,x,b]),u.jsxs(u.Fragment,{children:[u.jsx(me.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?yo.createPortal(i.children,o.valueNode):null]})});fM.displayName=Ll;var pM="SelectItemIndicator",mM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return dM(pM,n).isSelected?u.jsx(me.span,{"aria-hidden":!0,...r,ref:t}):null});mM.displayName=pM;var vy="SelectScrollUpButton",gM=v.forwardRef((e,t)=>{const n=bi(vy,e.__scopeSelect),r=pb(vy,e.__scopeSelect),[s,i]=v.useState(!1),o=Ce(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(yM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});gM.displayName=vy;var yy="SelectScrollDownButton",vM=v.forwardRef((e,t)=>{const n=bi(yy,e.__scopeSelect),r=pb(yy,e.__scopeSelect),[s,i]=v.useState(!1),o=Ce(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(yM,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});vM.displayName=yy;var yM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=bi("SelectScrollButton",n),o=v.useRef(null),a=np(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),xt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{l()})})}),vJ="SelectSeparator",wM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(me.div,{"aria-hidden":!0,...r,ref:t})});wM.displayName=vJ;var wy="SelectArrow",yJ=v.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rp(n),i=wi(wy,n),o=bi(wy,n);return i.open&&o.position==="popper"?u.jsx(qj,{...s,...r,ref:t}):null});yJ.displayName=wy;var wJ="SelectBubbleInput",bM=v.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=v.useRef(null),i=Ce(r,s),o=Z7(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[o,t]),u.jsx(me.select,{...n,style:{...DT,...n.style},ref:i,defaultValue:t})});bM.displayName=wJ;function xM(e){return e===""||e===void 0}function SM(e){const t=wt(e),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function _M(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=bJ(e,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function bJ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var xJ=YI,EM=XI,SJ=eM,_J=tM,EJ=nM,kM=rM,kJ=aM,CM=uM,TM=hM,CJ=fM,TJ=mM,jM=gM,AM=vM,PM=wM;const jJ=xJ,AJ=SJ,NM=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(EM,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(_J,{asChild:!0,children:u.jsx(xw,{className:"h-4 w-4 opacity-50"})})]}));NM.displayName=EM.displayName;const OM=v.forwardRef(({className:e,...t},n)=>u.jsx(jM,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx($$,{className:"h-4 w-4"})}));OM.displayName=jM.displayName;const RM=v.forwardRef(({className:e,...t},n)=>u.jsx(AM,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(xw,{className:"h-4 w-4"})}));RM.displayName=AM.displayName;const IM=v.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>u.jsx(EJ,{children:u.jsxs(kM,{ref:s,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(OM,{}),u.jsx(kJ,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(RM,{})]})}));IM.displayName=kM.displayName;const PJ=v.forwardRef(({className:e,...t},n)=>u.jsx(CM,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PJ.displayName=CM.displayName;const MM=v.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(TM,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(TJ,{children:u.jsx(bw,{className:"h-4 w-4"})})}),u.jsx(CJ,{children:t})]}));MM.displayName=TM.displayName;const NJ=v.forwardRef(({className:e,...t},n)=>u.jsx(PM,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));NJ.displayName=PM.displayName;const OJ="e4e0bfb1baa318d89644193708f23b3042256ae413555b5f7105c8bb5ec78e3f";async function Er(e,t={}){const{data:n,error:r}=await pt.functions.invoke("admin-api",{body:{action:e,...t},headers:{"x-admin-key":OJ}});return r?(console.error(`Admin API error (${e}):`,r),{data:null,error:r.message}):n!=null&&n.error?{data:null,error:n.error}:{data:n,error:null}}async function RJ(){const{data:e,error:t}=await Er("getProjects");return t||!e?{projects:[],error:t}:{projects:e.projects||[],error:null}}async function IJ(e){const{data:t,error:n}=await Er("getProjectById",{projectId:e});return n||!t?{project:null,org:null,interviewees:[],error:n||"Project not found"}:{project:t.project,org:t.org,interviewees:t.interviewees||[],error:null}}async function MJ(e,t){const{data:n,error:r}=await Er("createProject",{orgId:e,name:t});return r||!n?{project:null,error:r}:{project:n.project,error:null}}async function DJ(e,t,n,r,s){const{data:i,error:o}=await Er("addInterviewee",{projectId:e,orgId:t,name:n,email:r,role:s});return o||!i?{interviewee:null,error:o}:{interviewee:i.interviewee,error:null}}async function LJ(e){const{error:t}=await Er("markIntervieweeInvited",{intervieweeId:e});return{error:t}}async function $J(){const{data:e,error:t}=await Er("getOrgs");return t||!e?{orgs:[],error:t}:{orgs:e.orgs||[],error:null}}async function FJ(e){const{data:t,error:n}=await Er("createOrg",{name:e});return n||!t?{org:null,error:n}:{org:t.org,error:null}}async function VJ(e){const{data:t,error:n}=await Er("getProjectAnalysis",{projectId:e});return n||!t?{analysis:null,interviewCount:0,error:n}:{analysis:t.analysis,interviewCount:t.interviewCount,error:null}}async function UJ(e){const{data:t,error:n}=await Er("triggerAnalysis",{projectId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function BJ(e){const{data:t,error:n}=await Er("triggerIndividualAnalysis",{intervieweeId:e});return n||!t?{success:!1,error:n}:{success:!0,error:null}}async function zJ(e){const{data:t,error:n}=await Er("getIntervieweeResultsLink",{intervieweeId:e});return n||!t?{resultsToken:null,intervieweeName:null,error:n}:{resultsToken:t.resultsToken,intervieweeName:t.intervieweeName,error:null}}function qJ(){var I;const[e,t]=v.useState(""),[n,r]=v.useState([]),[s,i]=v.useState([]),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[d,h]=v.useState(""),[p,m]=v.useState(""),[b,f]=v.useState(""),[x,y]=v.useState(!1),[w,S]=v.useState(!1),{toast:E}=Kc();v.useEffect(()=>{C()},[]);async function C(){a(!0);const[R,O]=await Promise.all([RJ(),$J()]);R.projects&&r(R.projects),O.orgs&&i(O.orgs),a(!1)}const T=n.filter(R=>{var O,$;return R.name.toLowerCase().includes(e.toLowerCase())||(($=(O=R.org)==null?void 0:O.name)==null?void 0:$.toLowerCase().includes(e.toLowerCase()))}),j=async()=>{var L;S(!0);let R=p;if(x&&b){const{org:J,error:Y}=await FJ(b);if(Y||!J){E({title:"Error",description:Y||"Failed to create client",variant:"destructive"}),S(!1);return}R=J.id}if(!R){E({title:"Error",description:"Please select or create a client",variant:"destructive"}),S(!1);return}const O=d||`Discovery - ${x?b:(L=s.find(J=>J.id===R))==null?void 0:L.name}`,{project:$,error:W}=await MJ(R,O);if(W||!$){E({title:"Error",description:W||"Failed to create project",variant:"destructive"}),S(!1);return}E({title:"Project created!",description:`${O} has been created.`}),h(""),m(""),f(""),y(!1),c(!1),S(!1),C()},N=R=>{const O={setup:{label:"Setup",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},active:{label:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},completed:{label:"Completed",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},cancelled:{label:"Cancelled",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},$=O[R]||O.setup;return u.jsx(Ct,{className:$.className,children:$.label})};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Discovery Projects"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your client discovery sessions"})]}),u.jsxs(de,{onClick:()=>c(!0),children:[u.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),u.jsxs("div",{className:"mb-4 max-w-sm relative",children:[u.jsx(H$,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(En,{placeholder:"Search projects...",value:e,onChange:R=>t(R.target.value),className:"pl-9"})]}),o?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(kt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(kd,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No projects yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first discovery project to get started"}),u.jsxs(de,{onClick:()=>c(!0),children:[u.jsx(Qi,{className:"mr-2 h-4 w-4"}),"New Project"]})]}):u.jsx("div",{className:"rounded-lg border",children:u.jsxs(db,{children:[u.jsx(hb,{children:u.jsxs(Vc,{children:[u.jsx(Mn,{children:"Project Name"}),u.jsx(Mn,{children:"Client"}),u.jsx(Mn,{children:"Status"}),u.jsx(Mn,{children:"Created"}),u.jsx(Mn,{})]})}),u.jsx(fb,{children:T.map(R=>{var O;return u.jsxs(Vc,{className:"cursor-pointer hover:bg-muted/50",children:[u.jsx(Dn,{className:"font-medium",children:R.name}),u.jsx(Dn,{children:((O=R.org)==null?void 0:O.name)||"Unknown"}),u.jsx(Dn,{children:N(R.status)}),u.jsx(Dn,{children:new Date(R.created_at).toLocaleDateString()}),u.jsx(Dn,{children:u.jsx(de,{variant:"ghost",size:"sm",asChild:!0,children:u.jsx(an,{to:`/admin/projects/${R.id}`,children:"View"})})})]},R.id)})})]})}),u.jsx(cu,{open:l,onOpenChange:c,children:u.jsxs(ll,{children:[u.jsx(cl,{children:u.jsx(ul,{children:"New Discovery Project"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(Br,{children:"Client *"}),x?u.jsxs("div",{className:"space-y-2 mt-1",children:[u.jsx(En,{value:b,onChange:R=>f(R.target.value),placeholder:"Enter client name"}),u.jsx(de,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>{y(!1),f("")},children:"Select existing client instead"})]}):u.jsxs("div",{className:"space-y-2 mt-1",children:[u.jsxs(jJ,{value:p,onValueChange:m,children:[u.jsx(NM,{children:u.jsx(AJ,{placeholder:"Select a client..."})}),u.jsx(IM,{children:s.map(R=>u.jsx(MM,{value:R.id,children:R.name},R.id))})]}),u.jsx(de,{type:"button",variant:"link",className:"px-0 h-auto",onClick:()=>y(!0),children:"+ Create new client"})]})]}),u.jsxs("div",{children:[u.jsx(Br,{children:"Project Name (optional)"}),u.jsx(En,{value:d,onChange:R=>h(R.target.value),placeholder:`Discovery - ${x?b||"Client Name":((I=s.find(R=>R.id===p))==null?void 0:I.name)||"Client Name"}`,className:"mt-1"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave blank to auto-generate from client name"})]})]}),u.jsxs(uu,{children:[u.jsx(de,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsxs(de,{onClick:j,disabled:w||!p&&!b,children:[w?u.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Project"]})]})]})})]})}var zm="rovingFocusGroup.onEntryFocus",WJ={bubbles:!1,cancelable:!0},du="RovingFocusGroup",[by,DM,HJ]=uf(du),[GJ,LM]=Hn(du,[HJ]),[KJ,JJ]=GJ(du),$M=v.forwardRef((e,t)=>u.jsx(by.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(by.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(YJ,{...e,ref:t})})}));$M.displayName=du;var YJ=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,p=v.useRef(null),m=Ce(t,p),b=su(i),[f,x]=zr({prop:o,defaultProp:a??null,onChange:l,caller:du}),[y,w]=v.useState(!1),S=wt(c),E=DM(n),C=v.useRef(!1),[T,j]=v.useState(0);return v.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(zm,S),()=>N.removeEventListener(zm,S)},[S]),u.jsx(KJ,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:f,onItemFocus:v.useCallback(N=>x(N),[x]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:v.useCallback(()=>j(N=>N-1),[]),children:u.jsx(me.div,{tabIndex:y||T===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:ie(e.onMouseDown,()=>{C.current=!0}),onFocus:ie(e.onFocus,N=>{const I=!C.current;if(N.target===N.currentTarget&&I&&!y){const R=new CustomEvent(zm,WJ);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const O=E().filter(Y=>Y.focusable),$=O.find(Y=>Y.active),W=O.find(Y=>Y.id===f),J=[$,W,...O].filter(Boolean).map(Y=>Y.ref.current);UM(J,d)}}C.current=!1}),onBlur:ie(e.onBlur,()=>w(!1))})})}),FM="RovingFocusGroupItem",VM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=gr(),c=i||l,d=JJ(FM,n),h=d.currentTabStopId===c,p=DM(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:f}=d;return v.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),u.jsx(by.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ie(e.onMouseDown,x=>{r?d.onItemFocus(c):x.preventDefault()}),onFocus:ie(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ie(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=ZJ(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=p().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const E=S.indexOf(x.currentTarget);S=d.loop?eY(S,E+1):S.slice(E+1)}setTimeout(()=>UM(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:f!=null}):o})})});VM.displayName=FM;var QJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ZJ(e,t,n){const r=XJ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QJ[r]}function UM(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function eY(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tY=$M,nY=VM,sp="Tabs",[rY,VY]=Hn(sp,[LM]),BM=LM(),[sY,mb]=rY(sp),zM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,d=su(a),[h,p]=zr({prop:r,onChange:s,defaultProp:i??"",caller:sp});return u.jsx(sY,{scope:n,baseId:gr(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(me.div,{dir:d,"data-orientation":o,...c,ref:t})})});zM.displayName=sp;var qM="TabsList",WM=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=mb(qM,n),o=BM(n);return u.jsx(tY,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});WM.displayName=qM;var HM="TabsTrigger",GM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=mb(HM,n),a=BM(n),l=YM(o.baseId,r),c=QM(o.baseId,r),d=r===o.value;return u.jsx(nY,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:ie(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ie(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ie(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});GM.displayName=HM;var KM="TabsContent",JM=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=mb(KM,n),l=YM(a.baseId,r),c=QM(a.baseId,r),d=r===a.value,h=v.useRef(d);return v.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(Gn,{present:s||d,children:({present:p})=>u.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});JM.displayName=KM;function YM(e,t){return`${e}-trigger-${t}`}function QM(e,t){return`${e}-content-${t}`}var iY=zM,XM=WM,ZM=GM,eD=JM;const oY=iY,tD=v.forwardRef(({className:e,...t},n)=>u.jsx(XM,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tD.displayName=XM.displayName;const Fd=v.forwardRef(({className:e,...t},n)=>u.jsx(ZM,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Fd.displayName=ZM.displayName;const Vd=v.forwardRef(({className:e,...t},n)=>u.jsx(eD,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vd.displayName=eD.displayName;function nD(e){const t={high:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",low:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return u.jsx(Ct,{className:t[e]||t.medium,children:e})}function aY(e){const t={high:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",medium:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"};return u.jsxs(Ct,{className:t[e]||t.medium,children:[e," impact"]})}function lY(e){return{triage:"Triage & Routing",summarisation:"Summarisation",policy_based:"Policy/Rule-Based",document:"Document Workflows",glue_work:"Glue Work",research:"Repetitive Research"}[e]||e}function cY(e){const t={pending:{label:"Pending",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},invited:{label:"Invited",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},in_progress:{label:"In Progress",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},completed:{label:"Completed",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},expired:{label:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}},n=t[e]||t.pending;return u.jsx(Ct,{className:n.className,children:n.label})}function uY({interviewees:e,copiedId:t,generatingAnalysisId:n,onAddClick:r,onCopyLink:s,onInviteClick:i,onGenerateAnalysis:o,onShareClick:a}){return e.length===0?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-4 flex justify-end",children:u.jsxs(de,{onClick:r,children:[u.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),u.jsx(Oe,{children:u.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(mf,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No interviewees yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Add team members to interview for this discovery project"}),u.jsxs(de,{onClick:r,children:[u.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})]})})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-4 flex justify-end",children:u.jsxs(de,{onClick:r,children:[u.jsx(Qi,{className:"mr-2 h-4 w-4"}),"Add Interviewee"]})}),u.jsx("div",{className:"rounded-lg border",children:u.jsxs(db,{children:[u.jsx(hb,{children:u.jsxs(Vc,{children:[u.jsx(Mn,{children:"Name"}),u.jsx(Mn,{children:"Role"}),u.jsx(Mn,{children:"Email"}),u.jsx(Mn,{children:"Status"}),u.jsx(Mn,{children:"Interview"}),u.jsx(Mn,{children:"Results"})]})}),u.jsx(fb,{children:e.map(l=>u.jsxs(Vc,{children:[u.jsx(Dn,{className:"font-medium",children:l.name}),u.jsx(Dn,{children:l.role||"-"}),u.jsx(Dn,{children:l.email}),u.jsx(Dn,{children:cY(l.status)}),u.jsx(Dn,{children:u.jsx(Kg,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs(Du,{children:[u.jsx(Lu,{asChild:!0,children:u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>s(l),children:t===l.id?u.jsx(bw,{className:"h-4 w-4"}):u.jsx(hh,{className:"h-4 w-4"})})}),u.jsx(Al,{children:u.jsx("p",{children:"Copy interview link"})})]}),l.status==="pending"&&u.jsxs(Du,{children:[u.jsx(Lu,{asChild:!0,children:u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>i(l),children:u.jsx(Qc,{className:"h-4 w-4"})})}),u.jsx(Al,{children:u.jsx("p",{children:"Send invite email"})})]})]})})}),u.jsx(Dn,{children:u.jsx(Kg,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[l.status==="completed"&&!l.has_individual_analysis&&u.jsxs(Du,{children:[u.jsx(Lu,{asChild:!0,children:u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>o(l),disabled:n===l.id,children:n===l.id?u.jsx(kt,{className:"h-4 w-4 animate-spin"}):u.jsx(_w,{className:"h-4 w-4"})})}),u.jsx(Al,{children:u.jsx("p",{children:"Generate analysis"})})]}),l.status==="completed"&&l.has_individual_analysis&&u.jsxs(Du,{children:[u.jsx(Lu,{asChild:!0,children:u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>a(l),children:u.jsx(J$,{className:"h-4 w-4"})})}),u.jsx(Al,{children:u.jsx("p",{children:"Share results link"})})]}),l.status!=="completed"&&u.jsx("span",{className:"text-xs text-muted-foreground",children:""})]})})})]},l.id))})]})})]})}function dY({analysis:e,loading:t,generating:n,completedCount:r,onGenerate:s}){var o;if(t)return u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(kt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!e)return u.jsx(Oe,{children:u.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx(ph,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),u.jsx("h3",{className:"text-lg font-medium",children:"No analysis yet"}),u.jsxs("p",{className:"text-muted-foreground mb-4",children:["Generate an analysis based on ",r," completed interview",r!==1?"s":"","."]}),u.jsxs(de,{onClick:s,disabled:n,children:[n?u.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(ph,{className:"mr-2 h-4 w-4"}),"Generate Analysis"]})]})});const i=e.raw_output;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Generated ",e.generated_at?new Date(e.generated_at).toLocaleString():"recently"]})}),u.jsxs(de,{variant:"outline",size:"sm",onClick:s,disabled:n,children:[n?u.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(W$,{className:"mr-2 h-4 w-4"}),"Regenerate"]})]}),(i==null?void 0:i.summary)&&u.jsx(hY,{summary:i.summary}),(i==null?void 0:i.automation_opportunities)&&i.automation_opportunities.length>0&&u.jsx(fY,{opportunities:i.automation_opportunities}),((o=i==null?void 0:i.workflow_map)==null?void 0:o.workflows)&&i.workflow_map.workflows.length>0&&u.jsx(pY,{workflows:i.workflow_map.workflows}),(i==null?void 0:i.technical_questions)&&i.technical_questions.length>0&&u.jsx(mY,{questions:i.technical_questions}),(i==null?void 0:i.follow_up_suggestions)&&i.follow_up_suggestions.length>0&&u.jsx(gY,{suggestions:i.follow_up_suggestions}),(i==null?void 0:i.gaps_and_uncertainties)&&i.gaps_and_uncertainties.length>0&&u.jsx(vY,{gaps:i.gaps_and_uncertainties})]})}function hY({summary:e}){return u.jsxs(Oe,{children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(Z$,{className:"h-5 w-5"}),"Executive Summary"]})}),u.jsxs(Ie,{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:e.overall_assessment}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold",children:e.total_workflows_identified||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Workflows Identified"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold",children:e.total_automation_opportunities||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Automation Opportunities"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.high_confidence_opportunities||0}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"High Confidence"})]})]}),e.key_themes&&e.key_themes.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Key Themes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.key_themes.map((t,n)=>u.jsx(Ct,{variant:"secondary",children:t},n))})]}),e.recommended_priorities&&e.recommended_priorities.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Recommended Priorities"}),u.jsx("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:e.recommended_priorities.map((t,n)=>u.jsx("li",{children:t},n))})]})]})]})}function fY({opportunities:e}){return u.jsxs(Oe,{children:[u.jsxs(Zt,{children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(_w,{className:"h-5 w-5"}),"Automation Opportunities"]}),u.jsx(Ur,{children:"Identified areas where AI or automation could add value"})]}),u.jsx(Ie,{children:u.jsx(cb,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>u.jsxs(Qf,{value:`opp-${n}`,children:[u.jsx(Xf,{className:"hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("span",{className:"font-medium",children:t.title}),u.jsxs("div",{className:"flex items-center gap-2",children:[nD(t.confidence),aY(t.estimated_impact)]})]})}),u.jsxs(Zf,{className:"space-y-4 pt-2",children:[u.jsx("p",{className:"text-muted-foreground",children:t.description}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx(Ct,{variant:"outline",className:"mb-2",children:lY(t.category)}),t.confidence_reasoning&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.jsx("strong",{children:"Confidence:"})," ",t.confidence_reasoning]}),t.impact_reasoning&&u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u.jsx("strong",{children:"Impact:"})," ",t.impact_reasoning]})]}),u.jsxs("div",{className:"space-y-2",children:[t.affected_workflows&&t.affected_workflows.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Affected Workflows"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_workflows.join(", ")})]}),t.affected_people&&t.affected_people.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Who Benefits"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.affected_people.join(", ")})]})]})]}),t.prerequisites&&t.prerequisites.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Prerequisites"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.prerequisites.map((r,s)=>u.jsx("li",{children:r},s))})]}),t.risks&&t.risks.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Risks"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.risks.map((r,s)=>u.jsx("li",{children:r},s))})]})]})]},n))})})]})}function pY({workflows:e}){return u.jsxs(Oe,{children:[u.jsxs(Zt,{children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(lj,{className:"h-5 w-5"}),"Identified Workflows"]}),u.jsx(Ur,{children:"Workflows discovered during the interviews"})]}),u.jsx(Ie,{children:u.jsx(cb,{type:"single",collapsible:!0,className:"w-full",children:e.map((t,n)=>u.jsxs(Qf,{value:`workflow-${n}`,children:[u.jsx(Xf,{className:"hover:no-underline",children:u.jsxs("div",{className:"flex items-center gap-3 text-left",children:[u.jsx("span",{className:"font-medium",children:t.name}),t.frequency&&u.jsxs(Ct,{variant:"outline",className:"flex items-center gap-1",children:[u.jsx(dh,{className:"h-3 w-3"}),t.frequency]})]})}),u.jsxs(Zf,{className:"space-y-4 pt-2",children:[u.jsx("p",{className:"text-muted-foreground",children:t.description}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[t.owner&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Owner"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.owner})]}),t.estimated_time&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Typical Duration"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.estimated_time})]}),t.systems_used&&t.systems_used.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",children:"Systems Used"}),u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.systems_used.map((r,s)=>u.jsx(Ct,{variant:"secondary",className:"text-xs",children:r},s))})]})]}),t.components&&u.jsxs("div",{className:"space-y-2 text-sm",children:[t.components.triggers&&t.components.triggers.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Triggers:"})," ",t.components.triggers.join(", ")]}),t.components.outputs&&t.components.outputs.length>0&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Outputs:"})," ",t.components.outputs.join(", ")]})]})]}),t.pain_points&&t.pain_points.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Pain Points"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground",children:t.pain_points.map((r,s)=>u.jsx("li",{children:r},s))})]})]})]},n))})})]})}function mY({questions:e}){return u.jsxs(Oe,{children:[u.jsxs(Zt,{children:[u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(F$,{className:"h-5 w-5"}),"Technical Questions"]}),u.jsx(Ur,{children:"Questions that need answers before proceeding"})]}),u.jsx(Ie,{children:u.jsx("div",{className:"space-y-4",children:e.map((t,n)=>u.jsxs("div",{className:"border-l-2 border-muted-foreground/20 pl-4 py-2",children:[u.jsx("p",{className:"font-medium",children:t.question}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.context}),t.suggested_stakeholder&&u.jsxs("p",{className:"text-sm mt-2",children:[u.jsx("span",{className:"text-muted-foreground",children:"Ask:"})," ",u.jsx(Ct,{variant:"outline",children:t.suggested_stakeholder})]})]},n))})})]})}function gY({suggestions:e}){return u.jsxs(Oe,{children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(wc,{className:"h-5 w-5"}),"Suggested Follow-ups"]})}),u.jsx(Ie,{children:u.jsx("div",{className:"space-y-3",children:e.map((t,n)=>u.jsx("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:t.description}),nD(t.priority)]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.reason}),t.suggested_participants&&t.suggested_participants.length>0&&u.jsxs("p",{className:"text-sm mt-1",children:[u.jsx("span",{className:"text-muted-foreground",children:"Participants:"})," ",t.suggested_participants.join(", ")]})]})},n))})})]})}function vY({gaps:e}){return u.jsxs(Oe,{children:[u.jsx(Zt,{children:u.jsxs(en,{className:"flex items-center gap-2",children:[u.jsx(Ia,{className:"h-5 w-5"}),"Gaps & Uncertainties"]})}),u.jsx(Ie,{children:u.jsx("div",{className:"space-y-3",children:e.map((t,n)=>u.jsxs("div",{className:"border-l-2 border-amber-500/50 pl-4 py-2",children:[u.jsx("p",{className:"font-medium",children:t.description}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[u.jsx("strong",{children:"Impact:"})," ",t.impact]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.jsx("strong",{children:"Resolution:"})," ",t.suggested_resolution]})]},n))})})]})}function yY({open:e,onOpenChange:t,form:n,onFormChange:r,onSubmit:s,saving:i}){return u.jsx(cu,{open:e,onOpenChange:t,children:u.jsxs(ll,{children:[u.jsxs(cl,{children:[u.jsx(ul,{children:"Add Interviewee"}),u.jsx(ep,{children:"Add a team member to interview. They'll receive a unique link to complete their session."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(Br,{children:"Name *"}),u.jsx(En,{value:n.name,onChange:o=>r({...n,name:o.target.value}),placeholder:"John Smith",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Br,{children:"Email *"}),u.jsx(En,{type:"email",value:n.email,onChange:o=>r({...n,email:o.target.value}),placeholder:"john@company.com",className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Br,{children:"Role (optional)"}),u.jsx(En,{value:n.role,onChange:o=>r({...n,role:o.target.value}),placeholder:"Operations Manager",className:"mt-1"})]})]}),u.jsxs(uu,{children:[u.jsx(de,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),u.jsxs(de,{onClick:s,disabled:i||!n.name||!n.email,children:[i?u.jsx(kt,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add Interviewee"]})]})]})})}function wY({open:e,onOpenChange:t,interviewee:n,copiedId:r,onCopyLink:s,onMarkInvited:i,getInterviewLink:o}){if(!n)return null;const a=()=>{s(n),i(n)},l=()=>{const c=encodeURIComponent("Your AgentFlow Discovery Interview"),d=encodeURIComponent(`Hi ${n.name},

You've been invited to participate in a Discovery session.

Click the link below to start your interview when you're ready:
${o(n.interview_token)}

The conversation typically takes 20-30 minutes.

Best regards`);window.open(`mailto:${n.email}?subject=${c}&body=${d}`),i(n)};return u.jsx(cu,{open:e,onOpenChange:t,children:u.jsxs(ll,{className:"sm:max-w-lg",children:[u.jsxs(cl,{children:[u.jsx(ul,{children:"Send Interview Invite"}),u.jsxs(ep,{children:["Choose how to invite ",n.name," to their interview session."]})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx(Br,{className:"text-sm font-medium",children:"Interview Link"}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[u.jsx(En,{readOnly:!0,value:o(n.interview_token),className:"font-mono text-sm"}),u.jsx(de,{variant:"outline",size:"icon",onClick:()=>s(n),children:r===n.id?u.jsx(bw,{className:"h-4 w-4"}):u.jsx(hh,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 14 days"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:a,children:u.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:u.jsx(L$,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Copy for Calendar Invite"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy link and send your own calendar invite"})]}),u.jsx(Vg,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:l,children:u.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:u.jsx(Qc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Open in Email Client"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Opens your email with a pre-filled message"})]}),u.jsx(Vg,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}),u.jsx(uu,{children:u.jsx(de,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function bY({open:e,onOpenChange:t,interviewee:n,resultsToken:r,loading:s,onCopyLink:i,getResultsLink:o}){const a=()=>{i(),t(!1)},l=()=>{if(n&&r){const c=encodeURIComponent("Your Discovery Insights are Ready"),d=encodeURIComponent(`Hi ${n.name},

Your personalised Discovery analysis is ready to view.

Click the link below to see your insights:
${o(r)}

This link will expire in 30 days.

Best regards,
The AgentFlow Team`);window.open(`mailto:${n.email}?subject=${c}&body=${d}`),t(!1)}};return u.jsx(cu,{open:e,onOpenChange:t,children:u.jsxs(ll,{className:"sm:max-w-lg",children:[u.jsxs(cl,{children:[u.jsx(ul,{children:"Share Results"}),u.jsxs(ep,{children:["Share the personalised analysis results with ",n==null?void 0:n.name,"."]})]}),u.jsx("div",{className:"space-y-4 py-4",children:s?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx(kt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):r?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx(Br,{className:"text-sm font-medium",children:"Results Link"}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[u.jsx(En,{readOnly:!0,value:o(r),className:"font-mono text-sm"}),u.jsx(de,{variant:"outline",size:"icon",onClick:i,children:u.jsx(hh,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Link expires in 30 days"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:a,children:u.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:u.jsx(hh,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Copy Link"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy the results link to share manually"})]})]})}),u.jsx(Oe,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:l,children:u.jsxs(Ie,{className:"flex items-center gap-4 p-4",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20",children:u.jsx(Qc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Open in Email Client"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Send results via email to ",n==null?void 0:n.email]})]}),u.jsx(Vg,{className:"h-4 w-4 text-muted-foreground"})]})})]})]}):u.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Unable to load results link. The analysis may not be ready yet."})}),u.jsx(uu,{children:u.jsx(de,{variant:"outline",onClick:()=>t(!1),children:"Done"})})]})})}function xY(){const{id:e}=zw(),{toast:t}=Kc(),[n,r]=v.useState(null),[s,i]=v.useState(null),[o,a]=v.useState([]),[l,c]=v.useState(!0),[d,h]=v.useState(null),[p,m]=v.useState(!1),[b,f]=v.useState(!1),[x,y]=v.useState(!1),[w,S]=v.useState(!1),[E,C]=v.useState(!1),[T,j]=v.useState(null),[N,I]=v.useState(null),[R,O]=v.useState(null),[$,W]=v.useState(!1),[L,J]=v.useState({name:"",email:"",role:""}),[Y,Q]=v.useState(!1),[D,F]=v.useState(null),[K,se]=v.useState(null);v.useEffect(()=>{te()},[e]);async function te(){if(!e)return;c(!0);const{project:he,org:_e,interviewees:qe,error:mt}=await IJ(e);if(mt){t({title:"Error",description:mt,variant:"destructive"}),c(!1);return}r(he),i(_e),a(qe),c(!1)}const g=he=>`${window.location.origin}/discovery/interview/${he}`,k=he=>`${window.location.origin}/discovery/results/${he}`,_=he=>{navigator.clipboard.writeText(g(he.interview_token)),F(he.id),t({title:"Link copied!"}),setTimeout(()=>F(null),2e3)},P=async he=>{await LJ(he.id),t({title:"Marked as invited"}),te()},A=async()=>{if(!n||!L.name||!L.email)return;Q(!0);const{interviewee:he,error:_e}=await DJ(n.id,n.org_id,L.name,L.email,L.role||void 0);if(_e||!he){t({title:"Error",description:_e||"Failed to add interviewee",variant:"destructive"}),Q(!1);return}t({title:"Interviewee added!",description:`${L.name} has been added to the project.`}),J({name:"",email:"",role:""}),y(!1),Q(!1),j(he),S(!0),te()},M=async()=>{if(!e)return;m(!0);const{analysis:he,error:_e}=await VJ(e);_e?t({title:"Error loading analysis",description:_e,variant:"destructive"}):h(he),m(!1)},U=async()=>{if(!e)return;f(!0);const{error:he}=await UJ(e);he?t({title:"Error generating analysis",description:he,variant:"destructive"}):(t({title:"Analysis generated!",description:"The analysis has been updated."}),M()),f(!1)},V=async he=>{se(he.id);const{error:_e}=await BJ(he.id);if(_e){t({title:"Error",description:_e,variant:"destructive"}),se(null);return}t({title:"Analysis generated!",description:`Analysis for ${he.name} is ready.`}),se(null),te()},q=async he=>{I(he),C(!0),W(!0),O(null);const{resultsToken:_e,error:qe}=await zJ(he.id);if(qe){t({title:"Error",description:qe,variant:"destructive"}),W(!1);return}O(_e),W(!1)},X=()=>{R&&(navigator.clipboard.writeText(k(R)),t({title:"Results link copied!"}))},ce=he=>{he==="analysis"&&!d&&!p&&M()};if(l)return u.jsx("div",{className:"flex items-center justify-center p-12",children:u.jsx(kt,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(!n)return u.jsx("div",{className:"p-6",children:u.jsx("h1",{className:"text-2xl font-bold",children:"Project not found"})});const Me=o.filter(he=>he.status==="completed").length,ut=o.filter(he=>he.status==="pending"||he.status==="invited").length;return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h1",{className:"text-2xl font-bold",children:n.name}),u.jsxs("p",{className:"text-muted-foreground",children:[s==null?void 0:s.name,"  Created ",new Date(n.created_at).toLocaleDateString()]})]}),u.jsxs(oY,{defaultValue:"interviewees",className:"mt-6",onValueChange:ce,children:[u.jsxs(tD,{className:"mb-6",children:[u.jsx(Fd,{value:"interviewees",children:"Interviewees"}),u.jsx(Fd,{value:"overview",children:"Overview"}),u.jsx(Fd,{value:"analysis",disabled:Me===0,children:"Analysis"})]}),u.jsx(Vd,{value:"overview",children:u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsx(va,{icon:mf,label:"Total Interviewees",value:o.length}),u.jsx(va,{icon:fh,label:"Completed",value:Me}),u.jsx(va,{icon:ww,label:"Pending",value:ut})]})}),u.jsx(Vd,{value:"interviewees",children:u.jsx(uY,{interviewees:o,copiedId:D,generatingAnalysisId:K,onAddClick:()=>y(!0),onCopyLink:_,onInviteClick:he=>{j(he),S(!0)},onGenerateAnalysis:V,onShareClick:q})}),u.jsx(Vd,{value:"analysis",children:u.jsx(dY,{analysis:d,loading:p,generating:b,completedCount:Me,onGenerate:U})})]}),u.jsx(yY,{open:x,onOpenChange:y,form:L,onFormChange:J,onSubmit:A,saving:Y}),u.jsx(wY,{open:w,onOpenChange:S,interviewee:T,copiedId:D,onCopyLink:_,onMarkInvited:P,getInterviewLink:g}),u.jsx(bY,{open:E,onOpenChange:C,interviewee:N,resultsToken:R,loading:$,onCopyLink:X,getResultsLink:k})]})}function SY(){const{toast:e}=Kc(),t=()=>{console.log("Saving settings..."),e({title:"Settings saved",description:"Your changes have been saved."})};return u.jsxs("div",{className:"p-6",children:[u.jsx("h1",{className:"mb-6 text-2xl font-bold",children:"Settings"}),u.jsxs("div",{className:"max-w-2xl space-y-6",children:[u.jsxs(Oe,{children:[u.jsxs(Zt,{children:[u.jsx(en,{children:"Voice Platform"}),u.jsx(Ur,{children:"Configure your Vapi integration"})]}),u.jsxs(Ie,{children:[u.jsx(Br,{htmlFor:"vapi",children:"Vapi API Key"}),u.jsx(En,{id:"vapi",type:"password",placeholder:"sk_...",className:"mt-2"})]})]}),u.jsxs(Oe,{children:[u.jsxs(Zt,{children:[u.jsx(en,{children:"LLM"}),u.jsx(Ur,{children:"Configure your AI provider"})]}),u.jsxs(Ie,{children:[u.jsx(Br,{htmlFor:"anthropic",children:"Anthropic API Key"}),u.jsx(En,{id:"anthropic",type:"password",placeholder:"sk-ant-...",className:"mt-2"})]})]}),u.jsxs(Oe,{children:[u.jsxs(Zt,{children:[u.jsx(en,{children:"Admin Users"}),u.jsx(Ur,{children:"Manage who can access this dashboard"})]}),u.jsxs(Ie,{children:[u.jsx("div",{className:"flex items-center justify-between rounded-lg border p-3",children:u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"admin@example.com"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})}),u.jsx(de,{variant:"outline",className:"mt-4",disabled:!0,children:"Invite Admin"})]})]}),u.jsx(de,{onClick:t,children:"Save Settings"})]})]})}const _Y=[{icon:U$,label:"Dashboard",href:"/admin/dashboard"},{icon:mf,label:"Projects",href:"/admin/projects"},{icon:K$,label:"Settings",href:"/admin/settings"}];function ik({isOpen:e,onClose:t,isMobile:n}){const r=vi(),s=tl(),{user:i,signOut:o}=ub(),a=async()=>{try{await o(),s("/admin/login",{replace:!0})}catch(d){console.error("Sign out error:",d)}},l=i!=null&&i.email?i.email.split("@")[0].slice(0,2).toUpperCase():"AD",c=u.jsxs("div",{className:"flex h-full flex-col",children:[u.jsxs("div",{className:"flex h-16 items-center justify-between border-b px-4",children:[u.jsxs(an,{to:"/admin/dashboard",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent",children:u.jsx("span",{className:"text-sm font-bold text-accent-foreground",children:"AF"})}),u.jsx("span",{className:"text-lg font-semibold text-foreground",children:"AgentFlow"})]}),n&&u.jsx(de,{variant:"ghost",size:"icon",onClick:t,children:u.jsx(Sw,{className:"h-5 w-5"})})]}),u.jsx("nav",{className:"flex-1 space-y-1 p-4",children:_Y.map(d=>{const h=r.pathname===d.href||d.href==="/admin/projects"&&r.pathname.startsWith("/admin/projects");return u.jsxs(an,{to:d.href,onClick:n?t:void 0,className:ae("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-all duration-200",h?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[u.jsx(d.icon,{className:"h-5 w-5"}),d.label,h&&u.jsx(Se.div,{layoutId:"activeNav",className:"absolute inset-0 rounded-lg bg-accent",style:{zIndex:-1},transition:{type:"spring",bounce:.2,duration:.6}})]},d.href)})}),u.jsx("div",{className:"border-t p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-muted",children:u.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:l})}),u.jsxs("div",{className:"flex-1 truncate",children:[u.jsx("p",{className:"text-sm font-medium text-foreground",children:"Admin"}),u.jsx("p",{className:"truncate text-xs text-muted-foreground",children:(i==null?void 0:i.email)||"Not signed in"})]}),u.jsx(de,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 text-muted-foreground hover:text-foreground",title:"Sign out",children:u.jsx(B$,{className:"h-4 w-4"})})]})})]});return n?u.jsx(Fa,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm lg:hidden"}),u.jsx(Se.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",bounce:0,duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 border-r bg-sidebar lg:hidden",children:c})]})}):u.jsx("aside",{className:"hidden w-64 shrink-0 border-r bg-sidebar lg:block",children:c})}function EY({onMenuClick:e,title:t}){return u.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b bg-background/95 px-4 backdrop-blur supports-[backdrop-filter]:bg-background/60 lg:px-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(de,{variant:"ghost",size:"icon",onClick:e,className:"lg:hidden",children:[u.jsx(z$,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle menu"})]}),t&&u.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(ru,{})})]})}function kY(){const[e,t]=v.useState(!1),{user:n,isAdmin:r,loading:s}=ub();return s?u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:u.jsx(kt,{className:"h-8 w-8 animate-spin text-accent"})}):!n||!r?u.jsx(yB,{to:"/admin/login",replace:!0}):u.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[u.jsx(ik,{isOpen:!0,onClose:()=>{},isMobile:!1}),u.jsx(ik,{isOpen:e,onClose:()=>t(!1),isMobile:!0}),u.jsxs("div",{className:"flex flex-1 flex-col",children:[u.jsx(EY,{onMenuClick:()=>t(!0)}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsx(wB,{})})]})]})}const CY=()=>{const e=vi();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},TY=new C4,jY=()=>u.jsx(j4,{client:TY,children:u.jsx(FF,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:u.jsxs(Kg,{children:[u.jsx(DF,{}),u.jsx(vV,{}),u.jsx(jB,{basename:"/discovery",children:u.jsxs(fS,{children:[u.jsx(pn,{path:"/",element:u.jsx(d8,{})}),u.jsx(pn,{path:"/interview/:token",element:u.jsx(y7,{})}),u.jsx(pn,{path:"/results/:token",element:u.jsx(U7,{})}),u.jsx(pn,{path:"/admin/*",element:u.jsx(B7,{children:u.jsxs(fS,{children:[u.jsx(pn,{path:"login",element:u.jsx(z7,{})}),u.jsx(pn,{path:"auth/callback",element:u.jsx(q7,{})}),u.jsxs(pn,{element:u.jsx(kY,{}),children:[u.jsx(pn,{path:"dashboard",element:u.jsx(K7,{})}),u.jsx(pn,{path:"projects",element:u.jsx(qJ,{})}),u.jsx(pn,{path:"projects/:id",element:u.jsx(xY,{})}),u.jsx(pn,{path:"settings",element:u.jsx(SY,{})})]})]})})}),u.jsx(pn,{path:"*",element:u.jsx(CY,{})})]})})]})})});jT(document.getElementById("root")).render(u.jsx(jY,{}));
