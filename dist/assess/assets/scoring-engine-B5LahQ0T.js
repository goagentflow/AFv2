function e(e){return e>=80?"Advanced":e>=60?"Established":e>=40?"Emerging":"Early"}const t={usage_meetings:"Meetings",usage_email:"Email",usage_reports:"Reports/Presentations",usage_creative:"Creative/Strategy",usage_research:"Research",usage_data:"Data/Analysis",usage_knowledge:"Knowledge/Search",usage_dev:"Dev/Automation"},a=["eff_quality","eff_prompt_skill","eff_trust","eff_timeback","eff_enablement","eff_technique_diversity"];function r(e){return 0===e.length?0:e.reduce((e,t)=>e+t,0)/e.length}function s(s){const n={},i=[],o=[];Object.values(t).forEach(e=>{n[e]=[]}),s.forEach(e=>{e.likertResponses&&e.likertResponses.forEach(e=>{const{itemId:r,rating:s}=e;if(null==s)return;const c=(s-1)/4*100;t[r]?(n[t[r]].push(c),i.push(c)):a.includes(r)&&o.push(c)})});const c=i.length>0?Math.round(r(i)):0,u=o.length>0?Math.round(r(o)):50,_=Math.round(.55*c+.45*u),g=e(_),f=[];return Object.entries(t).forEach(([t,a])=>{const s=n[a];if(s&&s.length>0){const t=Math.round(r(s));f.push({category:a,raw_score:t,tier:e(t)})}}),{overall_score:_,overall_tier:g,category_scores:f}}function n(e){return!(!Array.isArray(e)||0===e.length)&&e.some(e=>e.likertResponses&&e.likertResponses.some(e=>e.itemId&&t[e.itemId]))}export{s as c,e as g,n as v};
